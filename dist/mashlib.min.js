!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("window")):"function"==typeof define&&define.amd?define(["window"],t):"object"==typeof exports?exports.Mashlib=t(require("window")):e.Mashlib=t(e.window)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=174)}([function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"acl",{enumerable:!0,get:function(){return s.acl}}),Object.defineProperty(t,"aclControl",{enumerable:!0,get:function(){return s.aclControl}}),Object.defineProperty(t,"authn",{enumerable:!0,get:function(){return l.authn}}),Object.defineProperty(t,"create",{enumerable:!0,get:function(){return c.create}}),Object.defineProperty(t,"icons",{enumerable:!0,get:function(){return u.icons}}),Object.defineProperty(t,"matrix",{enumerable:!0,get:function(){return f.matrix}}),Object.defineProperty(t,"media",{enumerable:!0,get:function(){return h.media}}),Object.defineProperty(t,"messageArea",{enumerable:!0,get:function(){return m.messageArea}}),Object.defineProperty(t,"infiniteMessageArea",{enumerable:!0,get:function(){return g.infiniteMessageArea}}),Object.defineProperty(t,"solidLogicSingleton",{enumerable:!0,get:function(){return w.solidLogicSingleton}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return k.renderTableViewPane}}),Object.defineProperty(t,"versionInfo",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"initHeader",{enumerable:!0,get:function(){return S.initHeader}}),t.widgets=t.utils=t.tabs=t.style=t.preferences=t.participation=t.pad=t.log=t.language=t.ns=t.rdf=t.store=t.dom=void 0;var a=A(n(3));t.rdf=a;var o=A(n(16));t.ns=o;var s=n(201),l=n(51),c=n(232),u=n(38),d=A(n(117));t.language=d;var p=A(n(57));t.log=p;var f=n(234),h=n(80),m=n(237),g=n(238),v=A(n(73));t.pad=v;var y=A(n(119));t.participation=y;var b=A(n(245));t.preferences=b;var w=n(20),x=A(n(39));t.style=x;var k=n(246),C=A(n(247));t.tabs=C;var E=A(n(27));t.utils=E;var T=A(n(28));t.widgets=T;var _=r(n(248)),S=n(249);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var j=window?window.document:null;t.dom=j;var P=w.solidLogicSingleton.store;t.store=P,"undefined"!=typeof window&&(window.UI={ns:o,rdf:a,acl:s.acl,aclControl:s.aclControl,authn:l.authn,create:c.create,dom:j,icons:u.icons,language:d,log:p,matrix:f.matrix,media:h.media,messageArea:m.messageArea,infiniteMessageArea:g.infiniteMessageArea,pad:v,participation:y,preferences:b,solidLogicSingleton:w.solidLogicSingleton,store:P,style:x,table:k.renderTableViewPane,tabs:C,utils:E,widgets:T,versionInfo:_.default,initHeader:S.initHeader})},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"t",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return k})),n.d(t,"u",(function(){return C}));var r="NamedNode",i="BlankNode",a="Literal",o="Variable",s="DefaultGraph",l="Collection",c="Empty",u="Graph",d="text/html",p="application/ld+json",f="text/n3",h="application/n3",m="application/nquads",g="application/n-quads",v="application/n-triples",y="application/rdf+xml",b="application/sparql-update",w="application/sparql-update-single-match",x="text/turtle",k="application/x-turtle",C="application/xhtml+xml"},function(e,t,n){"use strict";n.r(t),n.d(t,"isStatement",(function(){return $.j})),n.d(t,"isStore",(function(){return $.k})),n.d(t,"isCollection",(function(){return $.b})),n.d(t,"isRDFlibObject",(function(){return $.i})),n.d(t,"isVariable",(function(){return $.n})),n.d(t,"isTerm",(function(){return $.m})),n.d(t,"isLiteral",(function(){return $.d})),n.d(t,"isQuad",(function(){return $.g})),n.d(t,"isNamedNode",(function(){return $.e})),n.d(t,"isBlankNode",(function(){return $.a})),n.d(t,"isSubject",(function(){return $.l})),n.d(t,"isPredicate",(function(){return $.f})),n.d(t,"isRDFObject",(function(){return $.h})),n.d(t,"isGraph",(function(){return $.c})),n.d(t,"BlankNode",(function(){return r.a})),n.d(t,"Collection",(function(){return i.a})),n.d(t,"convert",(function(){return a})),n.d(t,"DataFactory",(function(){return ne})),n.d(t,"Empty",(function(){return C})),n.d(t,"Fetcher",(function(){return E.a})),n.d(t,"Formula",(function(){return T.a})),n.d(t,"Store",(function(){return _.a})),n.d(t,"jsonParser",(function(){return S})),n.d(t,"Literal",(function(){return O.a})),n.d(t,"log",(function(){return A.a})),n.d(t,"N3Parser",(function(){return j.a})),n.d(t,"NamedNode",(function(){return P.a})),n.d(t,"Namespace",(function(){return I.a})),n.d(t,"Node",(function(){return N.a})),n.d(t,"parse",(function(){return L.a})),n.d(t,"Query",(function(){return R.a})),n.d(t,"queryToSPARQL",(function(){return M})),n.d(t,"RDFaProcessor",(function(){return D.a})),n.d(t,"RDFParser",(function(){return F.a})),n.d(t,"serialize",(function(){return B.a})),n.d(t,"Serializer",(function(){return U.a})),n.d(t,"SPARQLToQuery",(function(){return z})),n.d(t,"sparqlUpdateParser",(function(){return q.a})),n.d(t,"Statement",(function(){return H.a})),n.d(t,"term",(function(){return xe})),n.d(t,"UpdateManager",(function(){return Y})),n.d(t,"UpdatesSocket",(function(){return re})),n.d(t,"UpdatesVia",(function(){return ie})),n.d(t,"uri",(function(){return V})),n.d(t,"Util",(function(){return Q})),n.d(t,"Variable",(function(){return ae.a})),n.d(t,"IndexedFormula",(function(){return _.a})),n.d(t,"NextId",(function(){return ke})),n.d(t,"fromNT",(function(){return we})),n.d(t,"fetcher",(function(){return le})),n.d(t,"graph",(function(){return ce})),n.d(t,"lit",(function(){return ue})),n.d(t,"st",(function(){return de})),n.d(t,"sym",(function(){return pe})),n.d(t,"blankNode",(function(){return he})),n.d(t,"defaultGraph",(function(){return me})),n.d(t,"literal",(function(){return ge})),n.d(t,"namedNode",(function(){return pe})),n.d(t,"quad",(function(){return ve})),n.d(t,"triple",(function(){return ye})),n.d(t,"variable",(function(){return fe})),n.d(t,"termValue",(function(){return J.a}));var r=n(36),i=n(54),a=n(99),o=n(7),s=n.n(o),l=n(9),c=n.n(l),u=n(5),d=n.n(u),p=n(21),f=n.n(p),h=n(26),m=n.n(h),g=n(13),v=n.n(g),y=n(1),b=n.n(y),w=n(23),x=n(2);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var C=function(e){f()(n,e);var t=k(n);function n(){var e;return s()(this,n),e=t.call(this,""),b()(d()(e),"termType",x.d),e}return c()(n,[{key:"toString",value:function(){return"()"}}]),n}(w.a),E=n(67),T=n(84),_=n(47),S={parseJSON:function(e,t,n){var r,i,a,o={},s=n.sym(t);for(var l in e){0===l.indexOf("_:")?o[l]?r=o[l]:(r=n.bnode(l),o[l]=r):r=n.sym(l);var c=e[l];for(var u in c){var d=c[u];for(var p in i=n.sym(u),d){var f=d[p];if("uri"===f.type)a=n.sym(f.value),n.add(r,i,a,s);else if("BlankNode"===f.type)o[f.value]?a=o[f.value]:(a=n.bnode(f.value),o[f.value]=a),n.add(r,i,a,s);else{if("Literal"!==f.type)throw new Error("error: unexpected termtype: "+p.type);a=f.datatype?n.literal(f.value,void 0,n.sym(f.datatype)):f.lang?n.literal(f.value,f.lang):n.literal(f.value),n.add(r,i,a,s)}}}}}},O=n(34),A=n(4),j=n(61),P=n(14),I=n(25),N=n(44),L=n(83),R=n(63);function M(e){var t=0;function n(e){var t="",n=e.statements;for(var r in n)A.a.debug("Found statement: "+n),t+=a()+n[r]+"\n";return t}function r(e){var t="";for(var n in e.constraints){var r=e.constraints[n];t+=a()+"FILTER ( "+r.describe(n)+" ) \n"}return t}function i(e){var i=a()+"WHERE \n{ \n";return t++,i+=n(e),i+=r(e),i+=function e(i){for(var o="",s=0;s<i.optional.length;s++)A.a.debug("Found optional query"),o+=a()+"OPTIONAL { \n",t++,o+=n(i.optional[s]),o+=r(i.optional[s]),o+=e(i.optional[s]),t--,o+=a()+"}\n";return o}(e),t--,i+="}"}function a(){for(var e="",n=0;n<t;n++)e+="    ";return e}return function(e){return function(e){for(var t=a()+"SELECT ",n=0;n<e.vars.length;n++)t+=e.vars[n]+" ";return t+="\n"}(e)+i(e.pat)}(e)}var D=n(62),F=n(75),B=n(76),U=n(78);function z(e,t,n){var r=[];function i(e){if(r[e])return r[e];var t=n.variable(e);return r[e]=t,t}function a(e){return"string"==typeof e&&e.match(/[^ \n\t]/)}function o(e){return"string"==typeof e&&e.match(/^[\?\$]/)}function s(e){return"string"==typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function l(e){return"string"==typeof e&&e.match(/^<[^>]*>$/)}function c(e){return"string"==typeof e&&(e.match(/^_:/)||e.match(/^$/))}function u(e){return"string"==typeof e&&e.match(/:$/)}function d(e){return"string"==typeof e&&e.match(/^:|^[^_][^:]*:/)}function p(e){return e.split(":")[0]}function f(e){return e.split(":")[1]}function h(e){return l(e)?e.slice(1,e.length-1):e}function m(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),A.a.info("New str into spaceDelimit: \n"+e);var t=[],n=e.split(" ");for(var r in n)a(n[r])&&(t=t.concat(n[r]));return t}function g(e,t){for(var n=0;n<t.length;n++)if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase())return n;return null}function v(e,t){for(var n=[],r=0;r<t.length;r++)"string"==typeof t[r]&&t[r].toLowerCase()===e.toLowerCase()&&n.push(r);return n}function y(e,t,n){A.a.info("Looking for a close bracket of type "+n+" in "+e);for(var r=0,i=0;i<e.length;i++)if(e[i]===t&&r++,e[i]===n&&r--,r<0)return i;return A.a.error("Statement had no close parenthesis in SPARQL query"),0}function b(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.equals(t)},this}function w(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var n=new RegExp(e);return!!t.value&&n.test(t.value)}}function x(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"==typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(A.a.debug("Constraint added: "+e),t.constraints[e[4]]=new w(e[2].value)):"="===e[1]||">"===e[1]||"<"===e[1]?(A.a.debug("Constraint added: "+e),t.constraints[e[0]]=new b(e[2])):A.a.warn("I don't know how to handle the constraint: "+e)}function k(e,t){A.a.debug("Optional query: "+e+" not yet implemented.");var r=n.formula();C(e,r),t.optional.push(r)}function C(e,t){var r,a,u=function(e){for(var t=[],r=0;r<e.length;r++)"string"==typeof e[r]?(e[r]=s(e[r]),o(e[r])?t[r]=i(e[r].slice(1)):c(e[r])?(A.a.info(e[r]+" was identified as a bnode."),t[r]=n.bnode()):l(e[r])?(A.a.info(e[r]+" was identified as a symbol."),t[r]=n.sym(h(e[r]))):d(e[r])?(A.a.info(e[r]+" was identified as a prefixed symbol"),_[p(e[r])]?t[r]=n.sym(e[r]=_[p(e[r])]+f(e[r])):(A.a.error("SPARQL error: "+e[r]+" with prefix "+p(e[r])+" does not have a correct prefix entry."),t[r]=e[r])):t[r]=e[r]):t[r]=e[r];return t}(e);for(A.a.debug("WHERE: "+u);g("OPTIONAL",u);)a=g("OPTIONAL",u),A.a.debug("OPT: "+a+" "+u[a]+" in "+u),"{"!==u[a+1]&&A.a.warn("Bad optional opening bracket in word "+a),-1===(r=y(u.slice(a+2),"{","}"))?A.a.error("No matching bracket in word "+a):(k(u.slice(a+2,a+2+r),t),a=g("OPTIONAL",u),r=y(u.slice(a+2),"{","}"),u.splice(a,r+3));for(A.a.debug("WHERE after optionals: "+u);g("FILTER",u);){var m=g("FILTER",u);"("!==u[m+1]&&A.a.warn("Bad filter opening bracket in word "+m),-1===(r=y(u.slice(m+2),"(",")"))?A.a.error("No matching bracket in word "+m):(x(u.slice(m+2,m+2+r),t),m=g("FILTER",u),r=y(u.slice(m+2),"(",")"),u.splice(m,r+3))}A.a.debug("WHERE after filters and optionals: "+u),function(e,t){var n=new Array(1);n[0]=-1;for(var r=n.concat(v(".",e)),i=[],a=0;a<r.length-1;a++)i[a]=e.slice(r[a]+1,r[a+1]);for(a in i){A.a.info("s+p+o "+a+" = "+i[a]);var o=i[a][0];i[a].splice(0,1);var s=n.concat(v(";",i[a]));s.push(i[a].length);for(var l=[],c=0;c<s.length-1;c++)l[c]=i[a].slice(s[c]+1,s[c+1]);for(a in l){A.a.info("p+o "+a+" = "+i[a]);var u=l[a][0];l[a].splice(0,1);var d=n.concat(v(",",l[a]));d.push(l[a].length);var p=[];for(c=0;c<d.length-1;c++)p[c]=l[a].slice(d[c]+1,d[c+1]);for(a in p){var f=p[a][0];A.a.info("Subj="+o+" Pred="+u+" Obj="+f),t.add(o,u,f)}}}}(u,t)}A.a.info("SPARQL input: \n"+e);var E=new R.a,T=function(e){var t=function e(t){var r=-1===t.indexOf("'")?null:t.indexOf("'"),i=-1===t.indexOf('"')?null:t.indexOf('"');if(!r&&!i){var a=new Array(1);return a[0]=t,a}var o,s,l=new Array(2);if(!r||i&&i<r)o='"',s=i;else{if(i&&!(r&&r<i))return A.a.error("SQARQL QUERY OOPS!"),l;o="'",s=r}l[0]=t.slice(0,s);var c,u=t.slice(s+1).indexOf(o);return-1===u?(A.a.error("SPARQL parsing error: no matching parentheses in literal "+t),t):(t.slice(u+s+2).match(/^\^\^/)?(c=t.slice(u+s+2).indexOf(" "),l[1]=n.literal(t.slice(s+1,s+1+u),n.sym(h(t.slice(s+4+u,s+2+u+c)))),l=l.concat(e(t.slice(u+s+3+c)))):t.slice(u+s+2).match(/^@/)?(c=t.slice(u+s+2).indexOf(" "),l[1]=n.literal(t.slice(s+1,s+1+u),t.slice(s+3+u,s+2+u+c),null),l=l.concat(e(t.slice(u+s+2+c)))):(l[1]=n.literal(t.slice(s+1,s+1+u)),A.a.info("Literal found: "+l[1]),l=l.concat(e(t.slice(u+s+2)))),l)}(e),r=[];for(var i in t)r="string"==typeof t[i]?r.concat(m(t[i])):r.concat(t[i]);return r=function(e){for(var t=e,n=0;n<t.length;n++)if("a"===t[n]&&(t[n]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[n]&&"of"===t[n+2]){t.splice(n,1),t.splice(n+1,1);var r=t[n-1];t[n-1]=t[n+1],t[n+1]=r}return t}(r),A.a.info("SPARQL Tokens: "+r),r}(e),_=function(e){var t=v("PREFIX",e),n=[];for(var r in t){var i=e[t[r]+1],a=e[t[r]+2];if(u(i))if(l(a)){A.a.info("Prefix found: "+i+" -> "+a);var o=p(i),s=h(a);n[o]=s}else A.a.error("Invalid SPARQL symbol: "+a);else A.a.error("Invalid SPARQL prefix: "+i)}return n}(T);_.rdf||(_.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),_.rdfs||(_.rdfs="http://www.w3.org/2000/01/rdf-schema#");var S=g("SELECT",T),O=g("WHERE",T);if(S<0||O<0||S>O)return A.a.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(function(e,t){for(var n in A.a.info("SPARQL vars: "+e),e)if(o(e[n])){A.a.info("Added "+e[n]+" to query variables from SPARQL");var r=i(e[n].slice(1));t.vars.push(r),r.label=e[n].slice(1)}else A.a.warn("Incorrect SPARQL variable in SELECT: "+e[n])}(T.slice(S+1,O),E),C(T.slice(O+2,T.length-1),E.pat),t)return E;for(var j in E.pat.statements){var P=E.pat.statements[j];"NamedNode"===P.subject.termType&&n.fetcher&&n.fetcher.lookUpThing(P.subject,"sparql:"+P.subject),"NamedNode"===P.object.termType&&n.fetcher&&n.fetcher.lookUpThing(P.object,"sparql:"+P.object)}return E}var q=n(98),H=n(82),W=n(6),G=n.n(W),V=n(11),$=n(12),Q=n(17),J=n(43);function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(){function e(t){if(s()(this,e),b()(this,"store",void 0),b()(this,"ifps",void 0),b()(this,"fps",void 0),b()(this,"patchControl",void 0),b()(this,"ns",void 0),(t=t||new _.a).updater)throw new Error("You can't have two UpdateManagers for the same store");t.fetcher||(t.fetcher=new E.a(t)),this.store=t,t.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=Object(I.a)("http://www.w3.org/2007/ont/link#"),this.ns.http=Object(I.a)("http://www.w3.org/2007/ont/http#"),this.ns.httph=Object(I.a)("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=Object(I.a)("http://www.w3.org/ns/ldp#"),this.ns.rdf=Object(I.a)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=Object(I.a)("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=Object(I.a)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=Object(I.a)("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}return c()(e,[{key:"patchControlFor",value:function(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}},{key:"isHttpUri",value:function(e){return"http"===e.slice(0,4)}},{key:"editable",value:function(e,t){if(!e)return!1;if(t||(t=this.store),e=Object(J.a)(e),!this.isHttpUri(e)&&t.holds(this.store.rdfFactory.namedNode(e),this.store.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.store.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";for(var n,r,i=!1,a=t.each(void 0,this.ns.link("requestedURI"),Object(V.docpart)(e)),o=0;o<a.length;o++)if(void 0!==(n=a[o])){var s=t.any(n,this.ns.link("response"));if(void 0!==n){var l=t.anyValue(s,this.ns.httph("wac-allow"));if(l){var c,u=K(l.split(","));try{for(u.s();!(c=u.n()).done;){var d=c.value.split("=");if(d[0].includes("user")&&!d[1].includes("write")&&!d[1].includes("append"))return!1}}catch(e){u.e(e)}finally{u.f()}}var p=t.each(s,this.ns.httph("accept-patch"));if(p.length)for(var f=0;f<p.length;f++){if((r=p[f].value.trim()).indexOf("application/sparql-update")>=0)return"SPARQL";if(r.indexOf("application/sparql-update-single-match")>=0)return"SPARQL"}var h=t.each(s,this.ns.httph("ms-author-via"));if(h.length)for(var m=0;m<h.length;m++){if((r=h[m].value.trim()).indexOf("SPARQL")>=0)return"SPARQL";if(r.indexOf("DAV")>=0)return"DAV"}if(!this.isHttpUri(e))return!!l&&"LOCALFILE";var g=t.each(s,this.ns.http("status"));if(g.length)for(var v=0;v<g.length;v++)200!==g[v]&&404!==g[v]||(i=!0)}}if(0===a.length);else if(i)return!1}},{key:"anonymize",value:function(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}},{key:"anonymizeNT",value:function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}},{key:"statementBnodes",value:function(e){return[e.subject,e.predicate,e.object].filter((function(e){return Object($.a)(e)}))}},{key:"statementArrayBnodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(this.statementBnodes(e[n]));t.sort();for(var r=[],i=0;i<t.length;i++)0!==i&&t[i].equals(t[i-1])||r.push(t[i]);return r}},{key:"cacheIfps",value:function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(var n=0;n<e.length;n++)this.fps[e[n].value]=!0}},{key:"bnodeContext2",value:function(e,t,n){for(var r,i,a=this.store.statementsMatching(void 0,void 0,e,t),o=0;o<a.length;o++)if(this.fps[a[o].predicate.value]){if(!(r=a[o].subject).isBlank)return[a[o]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([a[o]])}a=this.store.statementsMatching(e,void 0,void 0,t);for(var s=0;s<a.length;s++)if(this.ifps[a[s].predicate.value]){if(!(r=a[s].object).isBlank)return[a[s]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([a[s]])}return null}},{key:"bnodeContext1",value:function(e,t){for(var n=0;n<3;n++){var r=this.bnodeContext2(e,t,n);if(null!==r)return r}return this.store.connectedStatements(e,t)}},{key:"mentioned",value:function(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}},{key:"bnodeContext",value:function(e,t){var n=[];if(e.length){this.cacheIfps();for(var r=0;r<e.length;r++){var i=e[r];this.mentioned(i)&&(n=n.concat(this.bnodeContext1(i,t)))}}return n}},{key:"statementContext",value:function(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}},{key:"contextWhere",value:function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map((function(e){return t.anonymizeNT(e)})).join("\n")+" }\n":""}},{key:"fire",value:function(e,t,n){var r=this;return Promise.resolve().then((function(){if(!e)throw new Error("No URI given for remote editing operation: "+t);var n={noMeta:!0,contentType:"application/sparql-update",body:t};return r.store.fetcher.webOperation("PATCH",e,n)})).then((function(r){if(!r.ok){var i="UpdateManager: update failed for <"+e+"> status="+r.status+", "+r.statusText+"\n   for query: "+t;throw new Error(i)}n(e,r.ok,r.responseText,r)})).catch((function(t){n(e,!1,t.message,t)}))}},{key:"update_statement",value:function(e){if(!e||e.graph){var t=this,n=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(n),set_object:function(e,n){var r=this.where;r+="DELETE DATA { "+this.statementNT+" } ;\n",r+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,r,n)}}}}},{key:"insert_statement",value:function(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){for(var i="",a=0;a<e.length;a++)i+=e[a]+"\n";r+="INSERT DATA { "+i+" }\n"}else r+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.graph.value,r,t)}},{key:"delete_statement",value:function(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){for(var i="",a=0;a<e.length;a++)i+=e[a]+"\n";r+="DELETE DATA { "+i+" }\n"}else r+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.graph.value,r,t)}},{key:"requestDownstreamAction",value:function(e,t){var n=this.patchControlFor(e);if(n.pendingUpstream)if(n.downstreamAction){if(""+n.downstreamAction!=""+t)throw new Error("Can't wait for > 1 different downstream actions")}else n.downstreamAction=t;else t(e)}},{key:"clearUpstreamCount",value:function(e){this.patchControlFor(e).upstreamCount=0}},{key:"getUpdatesVia",value:function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}},{key:"addDownstreamChangeListener",value:function(e,t){var n=this,r=this.patchControlFor(e);r.downstreamChangeListeners||(r.downstreamChangeListeners=[]),r.downstreamChangeListeners.push(t),this.setRefreshHandler(e,(function(e){n.reloadAndSync(e)}))}},{key:"reloadAndSync",value:function(e){var t=this.patchControlFor(e),n=this;if(t.reloading)t.outOfDate=!0;else{t.reloading=!0;var r=1e3;!function i(){n.reload(n.store,e,(function(e,n,a){if(e){if(t.downstreamChangeListeners)for(var o=0;o<t.downstreamChangeListeners.length;o++)t.downstreamChangeListeners[o]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,i())}else t.reloading=!1,0===a.status&&(t.reloading=!0,r*=2,setTimeout(i,r))}))}()}}},{key:"setRefreshHandler",value:function(e,t){var n=this.getUpdatesVia(e),r=t,i=this,a=this,o=1500,s=0;if(!n)return!1;var l=(n=Object(V.join)(n,e.value)).replace(/^http:/,"ws:").replace(/^https:/,"wss:");return function t(){var n;if("undefined"!=typeof WebSocket)n=new WebSocket(l);else{if("undefined"==typeof window||!window.WebSocket)return;n=window.WebSocket(l)}n.onopen=function(){o=1500,this.send("sub "+e.value),s&&a.requestDownstreamAction(e,r)};var c=i.patchControlFor(e);c.upstreamCount=0,n.onerror=function(e){},n.onclose=function(e){o*=2,s+=1,setTimeout((function(){t()}),o)},n.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in c&&(c.upstreamCount-=1,c.upstreamCount>=0))return;c.upstreamCount=0,i.requestDownstreamAction(e,r)}}}(),!0}},{key:"updateMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.concat(t).map((function(e){return e.why})),r=this,i=[];n.forEach((function(e){i.find((function(t){return t.equals(e)}))||i.push(e)}));var a=i.map((function(n){return r.update(e.filter((function(e){return e.why.equals(n)})),t.filter((function(e){return e.why.equals(n)})))}));return console.log(" @@@@@@@     updateMany to: ".concat(a.length," ")),Promise.all(a)}},{key:"update",value:function(e,t,n,r){var i=this;if(!n){var a=this;return new Promise((function(n,r){a.update(e,t,(function(e,t,i){t?n():r(new Error(i))}))}))}try{var o=this.store,s=e?Object($.k)(e)?e.statements:e instanceof Array?e:[e]:[],l=t?Object($.k)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(s instanceof Array))throw new Error("Type Error "+G()(s)+": "+s);if(!(l instanceof Array))throw new Error("Type Error "+G()(l)+": "+l);if(0===s.length&&0===l.length)return n(null,!0);var c=s.length?s[0].graph:l[0].graph;if(!c){var u="Error patching: statement does not specify which document to patch:"+s[0]+", "+l[0];throw new Error(u)}var d=this.patchControlFor(c),p=Date.now(),f=["subject","predicate","object","why"],h={delete:s,insert:l};["insert","delete"].map((function(e){h[e].map((function(e){if(!c.equals(e.graph))throw new Error("update: destination "+c+" inconsistent with delete quad "+e.graph);f.map((function(t){if(void 0===e[t])throw new Error("update: undefined "+t+" of statement.")}))}))}));var m=this.editable(c.value,o);if(!1===m)throw new Error("Update: Can't make changes in uneditable "+c);if(void 0===m){if(r)throw new Error("Update: Loaded "+c+"but stil can't figure out what editing protcol it supports.");return void this.store.fetcher.load(c).then((function(r){i.update(e,t,n,!0)}),(function(r){if(404!==r.response.status)throw new Error("Update: Can't get updatability status ".concat(c," before patching: ").concat(r));i.update(e,t,n,!0)}))}if(m.indexOf("SPARQL")>=0){var g=[];s.length&&(g=this.statementArrayBnodes(s)),l.length&&(g=g.concat(this.statementArrayBnodes(l)));var v=this.bnodeContext(g,c),y=this.contextWhere(v),b="";if(y.length){if(s.length){b+="DELETE { ";for(var w=0;w<s.length;w++)b+=this.anonymizeNT(s[w])+"\n";b+=" }\n"}if(l.length){b+="INSERT { ";for(var x=0;x<l.length;x++)b+=this.anonymizeNT(l[x])+"\n";b+=" }\n"}b+=y}else{if(s.length){b+="DELETE DATA { ";for(var k=0;k<s.length;k++)b+=this.anonymizeNT(s[k])+"\n";b+=" } \n"}if(l.length){s.length&&(b+=" ; "),b+="INSERT DATA { ";for(var C=0;C<l.length;C++)b+=this.anonymizeNT(l[C])+"\n";b+=" }\n"}}d.pendingUpstream=d.pendingUpstream?d.pendingUpstream+1:1,"upstreamCount"in d&&(d.upstreamCount+=1),this.fire(c.value,b,(function(e,t,r,i){if(i.elapsedTimeMs=Date.now()-p,console.log("    UpdateManager: Return "+(t?"success ":"FAILURE ")+i.status+" elapsed "+i.elapsedTimeMs+"ms"),t){try{o.remove(s)}catch(e){t=!1,r="Remote Ok BUT error deleting "+s.length+" from store!!! "+e}for(var a=0;a<l.length;a++)o.add(l[a].subject,l[a].predicate,l[a].object,c)}if(n(e,t,r,i),d.pendingUpstream-=1,0===d.pendingUpstream&&d.downstreamAction){var u=d.downstreamAction;delete d.downstreamAction,u(c)}}))}else if(m.indexOf("DAV")>=0)this.updateDav(c,s,l,n);else{if(!(m.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+m+"' for "+c);try{this.updateLocalFile(c,s,l,n)}catch(e){n(c.value,!1,"Exception trying to write back file <"+c.value+">\n")}}}catch(e){n(void 0,!1,"Exception in update: "+e+"\n"+Q.stackString(e))}}},{key:"updateDav",value:function(e,t,n,r){var i=this.store,a=i.any(e,this.ns.link("request"));if(!a)throw new Error("No record of our HTTP GET request for document: "+e);var o=i.any(a,this.ns.link("response"));if(!o)return null;for(var s=i.the(o,this.ns.httph("content-type")).value,l=i.statementsMatching(void 0,void 0,void 0,e).slice(),c=0;c<t.length;c++)Q.RDFArrayRemove(l,t[c]);for(var u=0;u<n.length;u++)l.push(n[u]);var d,p=this.serialize(e.value,l,s),f=i.the(o,this.ns.httph("content-location"));f&&(d=Object(V.join)(f.value,d));var h={contentType:s,noMeta:!0,body:p};return i.fetcher.webOperation("PUT",d,h).then((function(a){if(!a.ok)throw new Error(a.error);for(var o=0;o<t.length;o++)i.remove(t[o]);for(var s=0;s<n.length;s++)i.add(n[s].subject,n[s].predicate,n[s].object,e);r(e.value,a.ok,a.responseText,a)})).catch((function(t){r(e.value,!1,t.message,t)}))}},{key:"updateLocalFile",value:function(e,t,n,r){for(var i=this.store,a=i.statementsMatching(void 0,void 0,void 0,e).slice(),o=0;o<t.length;o++)Q.RDFArrayRemove(a,t[o]);for(var s=0;s<n.length;s++)a.push(n[s]);var l=e.value.lastIndexOf(".");if(l<1)throw new Error("Rewriting file: No filename extension: "+e.value);var c=e.value.slice(l+1),u=E.a.CONTENT_TYPE_BY_EXT[c];if(!u)throw new Error("File extension ."+c+" not supported for data write");var d=this.serialize(e.value,a,u);i.fetcher.webOperation("PUT",e.value,{body:d,contentType:u}).then((function(a){if(!a.ok)return r(e.value,!1,a.error);for(var o=0;o<t.length;o++)i.remove(t[o]);for(var s=0;s<n.length;s++)i.add(n[s].subject,n[s].predicate,n[s].object,e);r(e.value,!0,"")}))}},{key:"serialize",value:function(e,t,n){var r,i=this.store;if("string"==typeof t)return t;var a=Object(U.a)(i);switch(a.suggestNamespaces(i.namespaces),a.setBase(e),n){case"text/xml":case"application/rdf+xml":r=a.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":r=a.statementsToN3(t);break;default:throw new Error("Content-type "+n+" not supported for data serialization")}return r}},{key:"put",value:function(e,t,n,r){var i,a=this,o=this.store;return Promise.resolve().then((function(){return i=a.serialize(e.value,t,n),o.fetcher.webOperation("PUT",e.value,{contentType:n,body:i})})).then((function(n){if(!n.ok)return r(e.value,n.ok,n.error,n);delete o.fetcher.nonexistent[e.value],delete o.fetcher.requested[e.value],"string"!=typeof t&&t.map((function(e){o.addStatement(e)})),r(e.value,n.ok,"",n)})).catch((function(t){r(e.value,!1,t.message)}))}},{key:"reload",value:function(e,t,n){var r=Date.now();e.fetcher.nowOrWhenFetched(t.value,{force:!0,noMeta:!0,clearPreviousData:!0},(function(e,i,a){if(e)if(a.onErrorWasCalled||200!==a.status)n(!1,"Non-HTTP error reloading data: "+i,a);else{var o=Date.now()-r;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=o,t.reloadTimeCount+=1,n(!0)}else n(!1,"Error reloading data: "+i,a)}))}}]),e}(),Z=n(87);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=te(te({},Z.a),{},{fetcher:function(e,t){return new E.a(e,t)},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new _.a(e,t||{rdfFactory:Z.a})},lit:function(e,t,n){return this.literal(""+e,t||n)},st:function(e,t,n,r){return this.quad(e,t,n,r)}}),re=function(){function e(t,n){s()(this,e),this.parent=t,this.via=n,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(n),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(e){this.onError(e)}}return c()(e,[{key:"_decode",value:function(e){var t,n,r,i,a,o,s;for(n in i={},a=function(){var n,r,i,a;for(a=[],n=0,r=(i=e.split("&")).length;n<r;n++)t=i[n],a.push(t.split("="));return a}())t=a[n],s=(o=[decodeURIComponent(t[0]),decodeURIComponent(t[1])])[1],null==i[r=o[0]]&&(i[r]=[]),i[r].push(s);return i}},{key:"_send",value:function(e,t,n){var r,i;return i=[e,t,n].join(" "),"function"==typeof(r=this.socket).send?r.send(i):void 0}},{key:"_subscribe",value:function(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}},{key:"onClose",value:function(e){var t;for(t in this.connected=!1,this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}},{key:"onError",value:function(e){throw new Error("onError"+e)}},{key:"onMessage",value:function(e){var t,n;return"ping"===(n=e.data.split(" "))[0]?"function"==typeof(t=this.socket).send?t.send("pong "+n.slice(1).join(" ")):void 0:"pub"===n[0]?this.parent.onUpdate(n[1],this._decode(n[2])):void 0}},{key:"onOpen",value:function(e){var t,n;for(n in this.connected=!0,t=[],this.pending)delete this.pending[n],t.push(this._subscribe(n));return t}},{key:"subscribe",value:function(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}]),e}(),ie=function(){function e(t){s()(this,e),this.fetcher=t,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}return c()(e,[{key:"onHeaders",value:function(e){var t,n,r;return null==e.headers||"undefined"==typeof WebSocket||null===WebSocket||(t=e.headers.etag,r=e.headers["updates-via"],n=e.uri,t&&r&&(this.graph[n]={etag:t,via:r},this.register(r,n))),!0}},{key:"onUpdate",value:function(e,t){return this.fetcher.refresh(ne.namedNode(e))}},{key:"register",value:function(e,t){return null==this.via[e]&&(this.via[e]=new re(this,e)),this.via[e].subscribe(t)}}]),e}(),ae=n(41),oe={};for(var se in ne)"function"==typeof ne[se]&&(oe[se]=ne[se].bind(ne));var le=oe.fetcher,ce=oe.graph,ue=oe.lit,de=oe.st,pe=oe.namedNode,fe=oe.variable,he=oe.blankNode,me=oe.defaultGraph,ge=oe.literal,ve=oe.quad,ye=oe.triple,be=new T.a,we=function(e){return be.fromNT(e)},xe=N.a.fromValue,ke=r.a.nextId},function(e,t,n){"use strict";t.a={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=n(285)},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(176)},function(e,t,n){"use strict";n.r(t),n.d(t,"docpart",(function(){return a})),n.d(t,"document",(function(){return o})),n.d(t,"hostpart",(function(){return s})),n.d(t,"join",(function(){return l})),n.d(t,"protocol",(function(){return c})),n.d(t,"refTo",(function(){return u}));var r=n(14),i=i||console.log;function a(e){var t;return(t=e.indexOf("#"))<0?e:e.slice(0,t)}function o(e){return new r.a(a(e))}function s(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function l(e,t){var n,r,a,o,s,l=t.indexOf("#");if(l>0&&(t=t.slice(0,l)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(n<0)return i("Invalid base: "+t+" in join with given: "+e),e;if(r=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return r+e;if(t.indexOf("//",n)===n+1){if((a=t.indexOf("/",n+3))<0)return t.length-n-3>0?t+"/"+e:r+e}else if((a=t.indexOf("/",n+1))<0)return t.length-n-1>0?t+"/"+e:r+e;if(0===e.indexOf("/"))return t.slice(0,a)+e;if((o=(s=t.slice(a)).lastIndexOf("/"))<0)return r+e;for(o>=0&&o<s.length-1&&(s=s.slice(0,+o+1||9e9)),s+=e;s.match(/[^\/]*\/\.\.\//);)s=s.replace(/[^\/]*\/\.\.\//,"");return s=(s=s.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,a)+s}function c(e){var t=e.indexOf(":");return t<0?null:e.slice(0,t)}function u(e,t){var n,r,i,a,o,s,l,c,u,d,p,f,h=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=l=0,a=t.length;l<a;n=++l){if(t[n]!==e[n])break}if(e.slice(0,n).match(h)&&((r=t.indexOf("//"))<0&&(r=-2),i=t.indexOf("/",r+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[n]&&e.length===n)return t.slice(n);for(;n>0&&"/"!==t[n-1];)n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(s=0,c=0,o=(d=e.slice(n)).length;c<o;c++)"/"===d[c]&&s++;if(0===s&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===s&&n===t.length)return"./";if(f="",s>0)for(u=1,p=s;p>=1?u<=p:u>=p;p>=1?++u:--u)f+="../";return f+t.slice(n)}},function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"c",(function(){return b}));var r=n(6),i=n.n(r),a=n(2);function o(e){return"object"===i()(e)&&null!==e&&"subject"in e}function s(e){return"object"===i()(e)&&null!==e&&"statements"in e}function l(e){return d(e)&&e.termType===a.b}function c(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===a.n||e.termType===a.t||e.termType===a.a||e.termType===a.b||e.termType===a.h||e.termType===a.e)}function u(e){return d(e)&&e.termType===a.t}function d(e){return"object"===i()(e)&&null!==e&&"termType"in e}function p(e){return e.termType===a.h}function f(e){return"object"===i()(e)&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function h(e){return d(e)&&"NamedNode"===e.termType}function m(e){return d(e)&&"termType"in e&&"BlankNode"===e.termType}function g(e){return d(e)&&(e.termType===a.n||e.termType===a.t||e.termType===a.a)}function v(e){return d(e)&&(e.termType===a.n||e.termType===a.t)}function y(e){return d(e)&&(e.termType===a.n||e.termType===a.t||e.termType===a.a||e.termType===a.h)}function b(e){return d(e)&&(e.termType===a.n||e.termType===a.t||e.termType===a.a||e.termType===a.c)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(32),y=n(23),b=n(2),w=n(43),x=n(12);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var C=function(e){u()(n,e);var t=k(n);function n(e){var r;if(i()(this,n),r=t.call(this,Object(w.a)(e)),g()(l()(r),"termType",b.n),g()(l()(r),"classOrder",v.a.NamedNode),!r.value)throw new Error("Missing IRI for NamedNode");if(!r.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(r.value.includes(" "))throw new Error('Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.');return r}return o()(n,[{key:"dir",value:function(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),r=e.indexOf("//");return r>=0&&t<r+2||t<0?null:new n(e.slice(0,t+1))}},{key:"site",value:function(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var r=e.indexOf("/",t+2);return new n(r<0?e.slice(0)+"/":e.slice(0,r+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new n(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"fromValue",value:function(e){return null==e||Object(x.m)(e)?e:new n(e)}}]),n}(y.a)},function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(19),i=n(6),a=r(n(85)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(3));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}e.exports=(0,a.default)(o)},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"string",(function(){return s})),n.d(t,"mediaTypeClass",(function(){return l})),n.d(t,"linkRelationProperty",(function(){return c})),n.d(t,"callbackify",(function(){return u})),n.d(t,"DOMParserFactory",(function(){return d})),n.d(t,"domToString",(function(){return p})),n.d(t,"dumpNode",(function(){return f})),n.d(t,"dtstamp",(function(){return h})),n.d(t,"heavyCompare",(function(){return m})),n.d(t,"heavyCompareSPO",(function(){return g})),n.d(t,"output",(function(){return v})),n.d(t,"parseXML",(function(){return y})),n.d(t,"RDFArrayRemove",(function(){return b})),n.d(t,"string_startswith",(function(){return w})),n.d(t,"stackString",(function(){return x}));var r=n(4);n.d(t,"log",(function(){return r.a}));var i=n(11);n.d(t,"uri",(function(){return i}));var a=n(14),o=n(104),s={template:function(e,t){for(var n=e.split("%s"),r="",i=0;i<t.length;i++)t[i]+="",r+=n[i]+t[i];return r+n.slice(t.length).join()}};function l(e){return e=e.split(";")[0].trim(),new a.a("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function c(e){return new a.a("http://www.w3.org/ns/iana/link-relations/relation#"+e.trim())}function u(e,t){e.callbacks={};for(var n=t.length-1;n>=0;n--)e.callbacks[t[n]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,n){e.callbacks[t].push(n)},e.removeCallback=function(t,n){for(var r=0;r<e.callbacks[t].length;r++)if(e.callbacks[t][r].name===n)return e.callbacks[t].splice(r,1),!0;return!1},e.insertCallback=function(t,n){e.callbacks[t].unshift(n)},e.fireCallbacks=function(t,n){var r,i,a=[],o=[],s=e.callbacks[t].length;for(r=s-1;r>=0;r--)(i=e.callbacks[t][r])&&i.apply(e,n)&&a.push(i);for(r=a.length-1;r>=0;r--)o.push(a[r]);for(r=s;r<e.callbacks[t].length;r++)o.push(e.callbacks[t][r]);e.callbacks[t]=o}}function d(){return window.DOMParser?new o.DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function p(e,t){var n=[];(t=t||{})&&t.selfClosing&&t.selfClosing.split(" ").forEach((function(e){n[e]=!0}));var r=[];return t&&t.skipAttributes&&t.skipAttributes.split(" ").forEach((function(e){r[e]=!0})),f(e,t,n,r)}function f(e,t,n,r){var i,a="",o=[!1];if(void 0===e.nodeType)return a;if(1===e.nodeType){if(e.hasAttribute("class")&&t&&t.classWithChildText&&e.matches(t.classWithChildText.class))a+=e.querySelector(t.classWithChildText.element).textContent;else if(!(t&&t.skipNodeWithClass&&e.matches("."+t.skipNodeWithClass))){var s=e.nodeName.toLowerCase();a+="<"+s;var l=[];for(i=e.attributes.length-1;i>=0;i--){var c=e.attributes[i];if(!(r&&r.length>0&&r[c.name])&&!/^\d+$/.test(c.name)){if("class"===c.name&&t&&t.replaceClassItemWith&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var u=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(u,t.replaceClassItemWith.target).trim()}"class"===c.name&&t&&t.skipClassWithValue&&t.skipClassWithValue===c.value||l.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(l.length>0&&(t&&t.sortAttributes&&l.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),a+=" "+l.join(" ")),n&&n.ename)a+=" />";else{for(a+=">",a+="html"===s?"\n  ":"",o.push("style"===s||"script"===s),i=0;i<e.childNodes.length;i++)a+=f(e.childNodes[i]);o.pop(),a+="body"===s?"</"+s+">\n":"</"+s+">"}}}else if(8===e.nodeType)a+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var d=e.nodeValue.replace(/\n+$/,"");a+=o[o.length-1]?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return a}function h(){var e=new Date,t=e.getYear()+1900,n=e.getMonth()+1,r=e.getDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),o=e.getSeconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),a<10&&(a="0"+a),o<10&&(o="0"+o),t+"-"+n+"-"+r+"T"+i+":"+a+":"+o+"Z"}function m(e,t,n,r){var i=function(e){return"BlankNode"===e.termType?null:e},a=function(e){var t=n.statementsMatching(e).map((function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)})).concat(n.statementsMatching(void 0,void 0,e).map((function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)})));return t.sort(),t.join("\n")},o=Object.prototype.hasOwnProperty.call(n,"compareTerms")?n.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===o?0:a(e)>a(t)?1:a(e)<a(t)?-1:o:r&&e.uri&&t.uri?(r[e.uri]||e.uri).localeCompare(r[t.uri]||t.uri):o}function g(e,t,n,r){return m(e.subject,t.subject,n,r)||m(e.predicate,t.predicate,n,r)||m(e.object,t.object,n,r)}function v(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function y(t,n){return n=n||{},e&&e.exports?(new o.DOMParser).parseFromString(t,n.contentType||"application/xhtml+xml"):("undefined"!=typeof window&&window.DOMParser?new window.DOMParser:new o.DOMParser).parseFromString(t,"application/xml")}function b(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.equals(t.subject)&&e[n].predicate.equals(t.predicate)&&e[n].object.equals(t.object)&&e[n].why.equals(t.why))return void e.splice(n,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function w(e,t){return e.slice(0,t.length)===t}function x(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var n=e.stack.toString().split("\n"),r=[],i=0;i<n.length;i++){var a=n[i];if(a.indexOf("ecmaunit.js")>-1)break;"("==a.charAt(0)&&(a="function"+a);var o=a.split("@");r.push(o)}for(i=0;i<r.length;i++)t+="  "+r[i][1]+"\n    "+r[i][0];return t}}.call(this,n(129)(e))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.profile=t.chat=t.authn=t.kb=t.store=t.solidLogicSingleton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(24)),o=r(n(138));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=new(n(110).SolidLogic)({fetch:o.default.fetch},o.default);t.solidLogicSingleton=l;var c=l.store;t.store=c;var u=c;t.kb=u;var d=l.authn;t.authn=d;var p=l.chat;t.chat=p;var f=l.profile;t.profile=f,a.log("Unique quadstore initialized.")},function(e,t,n){var r=n(105);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t),n.d(t,"RuleList",(function(){return J})),n.d(t,"SheetsManager",(function(){return ye})),n.d(t,"SheetsRegistry",(function(){return Y})),n.d(t,"create",(function(){return we})),n.d(t,"createGenerateId",(function(){return re})),n.d(t,"createRule",(function(){return f})),n.d(t,"getDynamicStyles",(function(){return ve})),n.d(t,"hasCSSTOMSupport",(function(){return be})),n.d(t,"sheets",(function(){return Z})),n.d(t,"toCssValue",(function(){return m}));var r=n(18),i=n(55),a=n(49);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var l=n(79);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=n(70),d={}.constructor;function p(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function f(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var h=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=h(e[r]," ");else n=h(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function g(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function v(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var l=o[s];for(var c in l){var u=l[c];null!=u&&(r&&(r+="\n"),r+=""+g(c+": "+m(u)+";",a))}}else for(var d in o){var p=o[d];null!=p&&(r&&(r+="\n"),r+=""+g(d+": "+m(p)+";",a))}for(var f in t){var h=t[f];null!=h&&"fallbacks"!==f&&(r&&(r+="\n"),r+=""+g(f+": "+m(h)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),g(e+" {"+r,--a)+g("}",a)):r}var y=/([[\].#*$><+~=|^:(),"'`\s])/g,b="undefined"!=typeof CSS&&CSS.escape,w=function(e){return b?b(e):e.replace(y,"\\$1")},x=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),k=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l(c(c(i)),s),i.selectorText="."+w(i.id)),i}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return v(this.selectorText,this.style,n)},s(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(x),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new k(e,t,n)}},E={indent:1,children:!0},T=/@([\w-]+)/,_=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var i=e.match(T);for(var a in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=E),null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),S=/@media|@supports\s+/,O={onCreateRule:function(e,t,n){return S.test(e)?new _(e,t,n):null}},A={indent:1,children:!0},j=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(j);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var l in this.id=!1===a?this.name:w(s(this,o)),this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=A),null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),I=/@keyframes\s+/,N=/\$([\w-]+)/g,L=function(e,t){return"string"==typeof e?e.replace(N,(function(e,n){return n in t?t[n]:e})):e},R=function(e,t,n){var r=e[t],i=L(r,n);i!==r&&(e[t]=i)},M={onCreateRule:function(e,t,n){return"string"==typeof e&&I.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&R(e,"animation-name",n.keyframes),"animation"in e&&R(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return L(e,r.keyframes);default:return e}}},D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return v(this.key,this.style,n)},t}(x),F={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new D(e,t,n):null}},B=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=v(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return v(this.at,this.style,e)},e}(),U=/@font-face/,z={onCreateRule:function(e,t,n){return U.test(e)?new B(e,t,n):null}},q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return v(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new q(e,t,n):null}},W=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},V=[C,O,M,F,z,H,{onCreateRule:function(e,t,n){return e in G?new W(e,t,n):null}}],$={process:!0},Q={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,a=i.parent,o=i.sheet,s=i.jss,l=i.Renderer,c=i.generateId,u=i.scoped,d=Object(r.a)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(d.selector="."+w(this.classes[p]));var h=f(p,t,d);if(!h)return null;this.register(h);var m=void 0===d.index?this.index.length:d.index;return this.index.splice(m,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof k?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof k?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=$);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,l=s.style;if(a.onUpdate(n,t,o,r),r.process&&l&&l!==s.style){for(var c in a.onProcessStyle(s.style,s,o),s.style){var u=s.style[c];u!==l[c]&&s.prop(c,u,Q)}for(var d in l){var p=s.style[d],f=l[d];null==p&&p!==f&&s.prop(d,null,Q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),K=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),X=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Y=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(i&&(i+="\n"),i+=o.toString(r))}return i},s(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Z=new Y,ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),te="2f1acc6c3a606b082e5eef5e54414ffb";null==ee[te]&&(ee[te]=0);var ne=ee[te]++,re=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ne+i+t:a+n.key+"-"+ne+(i?"-"+i:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}},ae=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},oe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0},se=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},ce=ie((function(){return document.querySelector("head")}));function ue(e){var t=Z.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=ce(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(e){return!1}return e.cssRules[n]},fe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},he=function(){function e(e){this.getPropertyValue=ae,this.setProperty=oe,this.removeProperty=se,this.setSelector=le,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&Z.add(e),this.sheet=e;var t,n=this.sheet?this.sheet.options:{},r=n.media,i=n.meta,a=n.element;this.element=a||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),i&&this.element.setAttribute("data-meta",i);var o=de();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ue(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ce().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=fe(n,t);if(!1===(i=pe(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=fe(n,t),l=pe(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof K&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),me=0,ge=function(){function e(e){this.id=me++,this.version="10.6.0",this.plugins=new X,this.options={id:{minify:!1},createGenerateId:re,Renderer:i.a?he:null,plugins:[]},this.generateId=re({minify:!1});for(var t=0;t<V.length;t++)this.plugins.use(V[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===Z.index?0:Z.index+1);var i=new K(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Z.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var a=f(e,t,i);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function ve(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=ve(r);a&&(t||(t={}),t[n]=a)}}return t}var ye=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet;Object(a.a)(!1,"[JSS] SheetsManager: can't find sheet to manage")},t.unmanage=function(e){var t=this.sheets.get(e);t?t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach()):Object(a.a)(!1,"SheetsManager: can't find sheet to unmanage")},s(e,[{key:"size",get:function(){return this.length}}]),e}(),be="object"==typeof CSS&&null!=CSS&&"number"in CSS,we=function(e){return new ge(e)},xe=we();
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */t.default=xe},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(1),l=n.n(s),c=function(){function e(t){i()(this,e),l()(this,"termType",void 0),l()(this,"classOrder",void 0),l()(this,"value",void 0),this.value=t}return o()(e,[{key:"substitute",value:function(e){return console.log("@@@ node substitute"+this),this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}]),e}();l()(c,"fromValue",void 0),l()(c,"toJS",void 0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){var e;(e=console).log.apply(e,arguments)},t.warn=function(){var e;(e=console).warn.apply(e,arguments)},t.error=function(){var e;(e=console).error.apply(e,arguments)},t.trace=function(){var e;(e=console).trace.apply(e,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14);function i(e,t){var n=t||{namedNode:function(e){return new r.a(e)}};return function(t){return n.namedNode(e+(t||""))}}},function(e,t,n){var r=n(6).default,i=n(5);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.addLoadEvent=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}},t.AJARImage=function(e,t,n,r){r||(r=document);var i=r.createElement("img");i.setAttribute("src",e),i.addEventListener("copy",(function(e){e.clipboardData.setData("text/plain",""),e.clipboardData.setData("text/html",""),e.preventDefault()})),void 0!==n&&i.setAttribute("title",n);return i},t.ancestor=function(e,t){var n;for(n=e;n;n=n.parentNode)try{if(n.tagName===t)return n}catch(e){return}return},t.beep=function(){if(!d)return;var e=new d;return function(t,n,r,i){t=+(t||.3),r=r||"sine","function"!=typeof i&&(i=function(){});var a=e.createOscillator();a.type=r,a.frequency.value=n||256,a.connect(e.destination),a.start(0),a.stop(t)}},t.clearVariableNames=function(){f=0},t.emptyNode=function(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--)e.removeChild(t[n]);return e},t.escapeForXML=v,t.findPos=m,t.genUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.getAbout=h,t.getEyeFocus=function(e,t,n,r){r||(r=window);var i=m(e)[1],a=i-52-r.scrollY;if(t)return n?void r.scrollBy(0,i+e.clientHeight-(r.scrollY+r.innerHeight)):void r.scrollBy(0,a);var o=r.setInterval((function(){r.scrollBy(0,a/10),10===++s&&r.clearInterval(o)}),50),s=0},t.getTarget=function(e){var t;(e=e||window.event).target?t=e.target:e.srcElement&&(t=e.srcElement);3===t.nodeType&&(t=t.parentNode);return t},t.getTerm=function(e){var t=e.parentNode,n=t?t.AJAR_statement:void 0;switch(n?e.className:""){case"pred":case"pred selected":return n.predicate;case"obj":case"obj selected":return t.AJAR_inverse?n.subject:n.object;case"":case"selected":return h(p.store,e);case"undetermined selected":return e.nextSibling?n.predicate:t.AJAR_inverse?n.subject:n.object}},t.hashColor=function(e){return"#"+(16777215&(t=e=e.uri||e,t.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))|12632256).toString(16);var t},t.include=function(e,t){var n=e.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n},t.labelForXML=function(e){return v((0,l.label)(e))},t.labelWithOntology=function(e,t){var n=p.store.findTypeURIs(e);if(n[p.ns.rdf("Predicate").uri]||n[p.ns.rdfs("Class").uri])return(0,l.label)(e,t)+" ("+g(e)+")";return(0,l.label)(e,t)},t.newVariableName=function(){return"v"+f++},t.ontologyLabel=g,t.predicateLabel=y,t.predicateLabelForXML=function(e,t){return v(y(e,t))},t.predParentOf=function(e){var t=e;for(;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return p.log.error("Could not find predParent"),e;t=t.previousSibling}},t.RDFComparePredicateObject=function(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.object.compareTerm(t.object)},t.RDFComparePredicateSubject=function(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.subject.compareTerm(t.subject)},t.shortName=function(e){var t=e;"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var n,r=[];for(var i in this.prefixes)r[this.prefixes[i]]=i;var a,o=function(e){return"ns"!==e&&(n=e,!0)},s=t.lastIndexOf("#");s>=0&&(t=t.slice(s-1));for(;;){var l=t.lastIndexOf("/");for(l>=0&&(t=t.slice(l+1)),a=0;a<t.length&&this.prefixchars.indexOf(t[a]);)a++;if((t=t.slice(0,a)).length<6&&o(t))return n;if(o(t.slice(0,3)))return n;if(o(t.slice(0,2)))return n;if(o(t.slice(0,4)))return n;if(o(t.slice(0,1)))return n;if(o(t.slice(0,5)))return n;for(a=0;;a++)if(o(t.slice(0,3)+a))return n}},t.stackString=function(e){var t,n=e+"\n";if(!e.stack)return n+"No stack available.\n";var r=e.stack.toString().split("\n"),i=[];for(t=0;t<r.length;t++){var a=r[t];if(a.indexOf("ecmaunit.js")>-1)break;"("===a.charAt(0)&&(a="function"+a);var o=a.split("@");i.push(o)}for(t=0;t<i.length;t++)n+="  "+i[t][1]+"\n    "+i[t][0];return n},t.syncTableToArray=function(e,t,n){var r,i,a;for(a=0;a<e.children.length;a++)(i=e.children[a]).trashMe=!0;for(var o=0;o<t.length;o++){var s=t[o];for(r=!1,a=0;a<e.children.length;a++)if((i=e.children[a]).subject&&i.subject.sameTerm(s)){i.trashMe=!1,r=!0;break}if(!r){var l=n(s);if(o>=e.children.length)e.appendChild(l);else{var c=e.children[o];e.insertBefore(l,c)}l.subject=s}}for(a=0;a<e.children.length;a++)(i=e.children[a]).trashMe&&e.removeChild(i)},t.syncTableToArrayReOrdered=function(e,t,n){for(var r={},i=0;i<e.children.length;i++){var a=e.children[i];r[a.subject.toNT()]=a}for(var o=0;o<t.length;o++){var s=t[o];if(o>=e.children.length){var l=n(s);l.subject=s,e.appendChild(l)}else{var c=e.children[o];if(c.subject.sameTerm(s));else{var u=r[s.toNT()];if(u)e.removeChild(u),e.insertBefore(u,c);else{var d=n(s);c.before(d),d.subject=s}}}}for(;e.children.length>t.length;)e.removeChild(e.children[e.children.length-1])},Object.defineProperty(t,"label",{enumerable:!0,get:function(){return l.label}});var i=u(n(57)),a=n(20),o=u(n(16)),s=u(n(3)),l=n(209);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var d,p={log:i,ns:o,rdf:s,store:a.store},f=0;function h(e,t){var n,r;for(n=t;n&&1===n.nodeType;n=n.parentNode)if(r=n.getAttribute("about"))return e.fromNT(r);p.log.debug("getAbout: No about found")}function m(e){var t=e.ownerDocument.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return[n.left-t.left,n.top-t.top]}function g(e){if(void 0===e.uri)return"??";var t,n=e.uri,r=[],i=n.lastIndexOf("#");if(i>=0)n=n.slice(0,i+1);else{if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"?!";n=n.slice(0,i+1)}for(var a in p.ns)r[p.ns[a]]=a;try{return r[n]}catch(e){}for(n=n.slice(0,-1);n;){if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"!?";if(t=n.slice(i+1),n=n.slice(0,i),"ns"!==t&&"0123456789".indexOf(t[0])<0)return t}}function v(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}function y(e,t){var n=(0,l.label)(e);if(t){var r=p.store.any(e,p.ns.owl("inverseOf"))||p.store.any(void 0,p.ns.owl("inverseOf"),e);return r?(0,l.label)(r):"type"===n?"...":"is "+n+" of"}return n}"undefined"!=typeof AudioContext?d=AudioContext:"undefined"!=typeof window&&(d=window.AudioContext||window.webkitAudioContext)},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0});var i={publicData:!0};t.publicData=void 0;h(n(24));var a=n(217);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(112);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(113);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n(71);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n(224);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(141);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(142);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=h(n(143));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}t.publicData=p},function(e,t,n){"use strict";e.exports=function(e){return e<-2}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));n(4),n(11),n(17);var r=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],i="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",a="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",o="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";function s(e,t,n){var r=[];return n.reduce((function(t,n,s,l){var c;return r.push(e.quad(t,e.namedNode(i),l[s])),s<l.length-1?(c=e.blankNode(),r.push(e.quad(t,e.namedNode(a),c))):r.push(e.quad(t,e.namedNode(a),e.namedNode(o))),c}),t),r}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length;for(n<0&&(n=r+n);n<r;n++)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e,t,n,i){var a=i?i-1:1/0,o=0;return function(i){if(r(i))return e.enter(n),s(i);return t(i)};function s(i){return r(i)&&o++<a?(e.consume(i),s):(e.exit(n),t(i))}}},function(e,t,n){"use strict";t.a={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},function(e,t,n){"use strict";var r,i=n(1),a=n.n(i),o=n(36),s=n(34),l=n(14),c=n(82),u=n(41),d=n(2),p=n(64),f=n(35),h=n(12),m=new p.a,g={supports:(r={},a()(r,f.a.collections,!1),a()(r,f.a.defaultGraphType,!1),a()(r,f.a.equalsMethod,!0),a()(r,f.a.identity,!1),a()(r,f.a.id,!0),a()(r,f.a.reversibleId,!1),a()(r,f.a.variableType,!0),r),blankNode:function(e){return new o.a(e)},defaultGraph:function(){return m},equals:function(e,t){return e===t||!e||!t||(Object(h.g)(e)||Object(h.g)(t)?!(!Object(h.g)(e)||!Object(h.g)(t))&&(this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph)):!(!Object(h.m)(e)||!Object(h.m)(t))&&this.id(e)===this.id(t))},id:function(e){if(!e)return"undefined";if(Object(h.g)(e))return this.quadToNQ(e);switch(e.termType){case d.c:return"defaultGraph";case d.t:return u.a.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof c.a},literal:function(e,t){if("string"!=typeof e&&!t)return s.a.fromValue(e);var n="string"==typeof e?e:""+e;return"string"==typeof t?-1===t.indexOf(":")?new s.a(n,t):new s.a(n,null,this.namedNode(t)):new s.a(n,null,t)},namedNode:function(e){return new l.a(e)},quad:function(e,t,n,r){return new c.a(e,t,n,r||m)},triple:function(e,t,n,r){return this.quad(e,t,n,r)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case d.a:return"_:"+e.value;case d.c:return"";case d.d:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case d.h:return s.a.toNT(e);case d.e:case d.n:return"<"+e.value+">";case d.b:return"("+e.elements.map((function(e){return t.termToNQ(e)})).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new u.a(e)}};t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(6),i=n.n(r),a=n(7),o=n.n(a),s=n(9),l=n.n(s),c=n(5),u=n.n(c),d=n(21),p=n.n(d),f=n(26),h=n.n(f),m=n(13),g=n.n(m),v=n(1),y=n.n(v),b=n(32),w=n(14),x=n(23),k=n(2),C=n(12),E={boolean:new w.a("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new w.a("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new w.a("http://www.w3.org/2001/XMLSchema#decimal"),double:new w.a("http://www.w3.org/2001/XMLSchema#double"),integer:new w.a("http://www.w3.org/2001/XMLSchema#integer"),langString:new w.a("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new w.a("http://www.w3.org/2001/XMLSchema#string")};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var _=function(e){p()(n,e);var t=T(n);function n(e,r,i){var a;return o()(this,n),a=t.call(this,e),y()(u()(a),"termType",k.h),y()(u()(a),"classOrder",b.a.Literal),y()(u()(a),"datatype",E.string),y()(u()(a),"isVar",0),y()(u()(a),"language",""),r?(a.language=r,a.datatype=E.langString):a.datatype=i?w.a.fromValue(i):E.string,a}return l()(n,[{key:"copy",value:function(){return new n(this.value,this.lang,this.datatype)}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)))}},{key:"lang",get:function(){return this.language},set:function(e){this.language=e||""}},{key:"toNT",value:function(){return n.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(e){if("number"==typeof e.value)return""+e.value;if("string"!=typeof e.value)throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t='"'+(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n"))+'"',e.language?t+="@"+e.language:e.datatype.equals(E.string)||(t+="^^"+e.datatype.toCanonical()),t}},{key:"fromBoolean",value:function(e){return new n(e?"1":"0",null,E.boolean)}},{key:"fromDate",value:function(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var t=function(e){return(""+(100+e)).slice(1,3)};return new n(e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z",null,E.dateTime)}},{key:"fromNumber",value:function(e){if("number"!=typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");var t,r=e.toString();return t=r.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?E.integer:E.decimal:E.double,new n(r,null,t)}},{key:"fromValue",value:function(e){if(Object(C.d)(e))return e;switch(i()(e)){case"object":if(e instanceof Date)return n.fromDate(e);case"boolean":return n.fromBoolean(e);case"number":return n.fromNumber(e);case"string":return new n(e)}throw new Error("Can't make literal from "+e+" of type "+i()(e))}}]),n}(x.a)},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.collections="COLLECTIONS",e.defaultGraphType="DEFAULT_GRAPH_TYPE",e.equalsMethod="EQUALS_METHOD",e.id="ID",e.identity="IDENTITY",e.reversibleId="REVERSIBLE_ID",e.variableType="VARIABLE_TYPE"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(32),y=n(23),b=n(2);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var x=function(e){u()(n,e);var t=w(n);function n(e){var r;return i()(this,n),r=t.call(this,n.getId(e)),g()(l()(r),"termType",b.a),g()(l()(r),"classOrder",v.a.BlankNode),g()(l()(r),"isBlank",1),g()(l()(r),"isVar",1),r}return o()(n,[{key:"id",get:function(){return this.value},set:function(e){this.value=e}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}},{key:"copy",value:function(e){var t=new n;return e.copyTo(this,t),t}},{key:"toCanonical",value:function(){return n.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return n.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(e){if(e){if("string"!=typeof e)throw console.log("Bad blank id:",e),new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){var t=e.split("#");return t[t.length-1]}return e}return"n"+n.nextId++}}]),n}(y.a);g()(x,"nextId",0),g()(x,"NTAnonymousNodePrefix","_:")},function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";t.a={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:r+"type",nil:r+"nil",first:r+"first",rest:r+"rest",langString:r+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:a+"reify#forSome",forAll:a+"reify#forAll"},log:{implies:a+"log#implies"}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.originalIconBase=t.iconBase=t.icons=void 0;var r=n(24),i=e.scriptURI?{iconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/icons/",originalIconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/originalIcons/"}:"undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.iconBase?{iconBase:$SolidTestEnvironment.iconBase,originalIconBase:$SolidTestEnvironment.originalIconBase}:{iconBase:"https://solid.github.io/solid-ui/src/icons/",originalIconBase:"https://solid.github.io/solid-ui/src/originalIcons/"};t.icons=i,(0,r.log)("   icons.iconBase is set to : "+i.iconBase);var a=i.iconBase;t.iconBase=a;var o=i.originalIconBase;t.originalIconBase=o}).call(this,n(223)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.style=void 0;var r={formSelectSTyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c;  border-radius:0.2em; font-size: 100%; margin:0.2em;",textInputStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c;  border-radius:0.2em; font-size: 100%; margin:0.2em;",textInputStyleUneditable:"background-color: white; padding: 0.5em;  border: .05em solid white;  border-radius:0.2em; font-size: 100%; margin:0.2em; ",textInputSize:20,buttonStyle:"background-color: #fff; padding: 0.7em;  border: .01em solid white;  border-radius:0.2em; font-size: 100%; margin: 0.3em;",commentStyle:"padding: 0.7em;  border: none; font-size: 100%; white-space: pre-wrap;",iconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 1em;",classIconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 0.2em; border: 0.1em solid green; padding: 0.2em; background-color: #efe;",tabBorderRadius:"0.2em",messageBodyStyle:"white-space: pre-wrap; width: 99%; font-size:100%; border: 0.07em solid #eee; border-radius:0.2em; padding: .3em 0.5em; margin: 0.1em;",pendingeditModifier:"color: #bbb;",highlightColor:"#7C4DFF",personaBarStyle:"width: 100%; height: 4em; background-color: #eee; vertical-align: middle;",searchInputStyle:"border: 0.1em solid #444; border-radius: 0.2em; width: 100%; font-size: 100%; padding: 0.1em 0.6em; margin 0.2em;",autocompleteRowStyle:"border: 0.2em solid straw;",signInButtonStyle:"padding: 1em; border-radius:0.2em; margin: 2em; font-size: 100%;",heading1Style:"font-size: 180%; font-weight: bold; color: #888888; padding: 0.5em; margin: 0.7em 0.0m;",heading2Style:"font-size: 130%; font-weight: bold; color: #888888; padding: 0.4em; margin: 0.7em 0.0em;",heading3Style:"font-size: 120%; font-weight: bold; color: #888888; padding: 0.3em; margin: 0.7em 0.0em;",heading4Style:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em; margin: 0.7em 0.0em;",formBorderColor:"#888888",formHeadingColor:"#888888",formHeadingStyle:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em;  margin: 0.7em 0.0em;",formTextInput:"font-size: 100%; margin: 0.1em; padding: 0.1em;",formGroupStyle:["padding-left: 0em; border: 0.0em solid ".concat("#888888","; border-radius: 0.2em;"),"padding-left: 2em; border: 0.05em solid ".concat("#888888","; border-radius: 0.2em;"),"padding-left: 2em; border: 0.1em solid ".concat("#888888","; border-radius: 0.2em;"),"padding-left: 2em; border: 0.2em solid ".concat("#888888","; border-radius: 0.2em;")],formFieldLabelStyle:"'color: ".concat("#3B5998","; text-decoration: none;'"),formFieldNameBoxWidth:"8em",formFieldNameBoxStyle:"padding: 0.3em; vertical-align: middle; width:".concat("8em",";"),textInputBackgroundColor:"#eef",textInputBackgroundColorUneditable:"#fff",textInputColor:"#000",textInputColorPending:"#888",multilineTextInputStyle:"font-size:100%; white-space: pre-wrap; background-color: #eef; border: 0.07em solid gray; padding: 1em 0.5em; margin: 1em 1em;",checkboxStyle:"colour: black; font-size: 100%; padding-left: 0.5 em; padding-right: 0.5 em;"};t.style=r,r.setStyle=function(e,t){e.style=r[t]},e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultTemplateProcessor",(function(){return R})),n.d(t,"defaultTemplateProcessor",(function(){return M})),n.d(t,"directive",(function(){return i})),n.d(t,"isDirective",(function(){return a})),n.d(t,"removeNodes",(function(){return l})),n.d(t,"reparentNodes",(function(){return s})),n.d(t,"noChange",(function(){return c})),n.d(t,"nothing",(function(){return u})),n.d(t,"AttributeCommitter",(function(){return _})),n.d(t,"AttributePart",(function(){return S})),n.d(t,"BooleanAttributePart",(function(){return A})),n.d(t,"EventPart",(function(){return N})),n.d(t,"isIterable",(function(){return T})),n.d(t,"isPrimitive",(function(){return E})),n.d(t,"NodePart",(function(){return O})),n.d(t,"PropertyCommitter",(function(){return j})),n.d(t,"PropertyPart",(function(){return P})),n.d(t,"parts",(function(){return B})),n.d(t,"render",(function(){return U})),n.d(t,"templateCaches",(function(){return F})),n.d(t,"templateFactory",(function(){return D})),n.d(t,"TemplateInstance",(function(){return b})),n.d(t,"SVGTemplateResult",(function(){return C})),n.d(t,"TemplateResult",(function(){return k})),n.d(t,"createMarker",(function(){return v})),n.d(t,"isTemplatePartActive",(function(){return g})),n.d(t,"Template",(function(){return h})),n.d(t,"html",(function(){return z})),n.d(t,"svg",(function(){return q}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=new WeakMap,i=e=>(...t)=>{const n=e(...t);return r.set(n,!0),n},a=e=>"function"==typeof e&&r.has(e),o="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,s=(e,t,n=null,r=null)=>{for(;t!==n;){const n=t.nextSibling;e.insertBefore(t,r),t=n}},l=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},c={},u={},d=`{{lit-${String(Math.random()).slice(2)}}}`,p=`\x3c!--${d}--\x3e`,f=new RegExp(`${d}|${p}`);class h{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],i=document.createTreeWalker(t.content,133,null,!1);let a=0,o=-1,s=0;const{strings:l,values:{length:c}}=e;for(;s<c;){const e=i.nextNode();if(null!==e){if(o++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)m(t[e].name,"$lit$")&&r++;for(;r-- >0;){const t=l[s],n=y.exec(t)[2],r=n.toLowerCase()+"$lit$",i=e.getAttribute(r);e.removeAttribute(r);const a=i.split(f);this.parts.push({type:"attribute",index:o,name:n,strings:a}),s+=a.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(d)>=0){const r=e.parentNode,i=t.split(f),a=i.length-1;for(let t=0;t<a;t++){let n,a=i[t];if(""===a)n=v();else{const e=y.exec(a);null!==e&&m(e[2],"$lit$")&&(a=a.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),n=document.createTextNode(a)}r.insertBefore(n,e),this.parts.push({type:"node",index:++o})}""===i[a]?(r.insertBefore(v(),e),n.push(e)):e.data=i[a],s+=a}}else if(8===e.nodeType)if(e.data===d){const t=e.parentNode;null!==e.previousSibling&&o!==a||(o++,t.insertBefore(v(),e)),a=o,this.parts.push({type:"node",index:o}),null===e.nextSibling?e.data="":(n.push(e),o--),s++}else{let t=-1;for(;-1!==(t=e.data.indexOf(d,t+1));)this.parts.push({type:"node",index:-1}),s++}}else i.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const m=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},g=e=>-1!==e.index,v=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class b{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=o?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let i,a=0,s=0,l=r.nextNode();for(;a<n.length;)if(i=n[a],g(i)){for(;s<i.index;)s++,"TEMPLATE"===l.nodeName&&(t.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=t.pop(),l=r.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,i.name,i.strings,this.options));a++}else this.__parts.push(void 0),a++;return o&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const w=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),x=` ${d} `;class k{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],i=e.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===e.indexOf("--\x3e",i+1);const a=y.exec(e);t+=null===a?e+(n?x:p):e.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+d}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==w&&(t=w.createHTML(t)),e.innerHTML=t,e}}class C extends k{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,n=t.firstChild;return t.removeChild(n),s(t,n.firstChild),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const E=e=>null===e||!("object"==typeof e||"function"==typeof e),T=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class _{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!T(e))return e}let r="";for(let i=0;i<t;i++){r+=e[i];const t=n[i];if(void 0!==t){const e=t.value;if(E(e)||!T(e))r+="string"==typeof e?e:String(e);else for(const t of e)r+="string"==typeof t?t:String(t)}}return r+=e[t],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===c||E(e)&&e===this.value||(this.value=e,a(e)||(this.committer.dirty=!0))}commit(){for(;a(this.value);){const e=this.value;this.value=c,e(this)}this.value!==c&&this.committer.commit()}}class O{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(v()),this.endNode=e.appendChild(v())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=v()),e.__insert(this.endNode=v())}insertAfterPart(e){e.__insert(this.startNode=v()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;a(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=c,e(this)}const e=this.__pendingValue;e!==c&&(E(e)?e!==this.value&&this.__commitText(e):e instanceof k?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):T(e)?this.__commitIterable(e):e===u?(this.value=u,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const n=new b(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)n=t[r],void 0===n&&(n=new O(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class A{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;a(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=c,e(this)}if(this.__pendingValue===c)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=c}}class j extends _{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new P(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class P extends S{}let I=!1;(()=>{try{const e={get capture(){return I=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class N{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;a(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=c,e(this)}if(this.__pendingValue===c)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=L(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=c}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const L=e=>e&&(I?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;class R{handleAttributeExpressions(e,t,n,r){const i=t[0];if("."===i){return new j(e,t.slice(1),n).parts}if("@"===i)return[new N(e,t.slice(1),r.eventContext)];if("?"===i)return[new A(e,t.slice(1),n)];return new _(e,t,n).parts}handleTextExpression(e){return new O(e)}}const M=new R;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function D(e){let t=F.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},F.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(d);return n=t.keyString.get(r),void 0===n&&(n=new h(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const F=new Map,B=new WeakMap,U=(e,t,n)=>{let r=B.get(t);void 0===r&&(l(t,t.firstChild),B.set(t,r=new O(Object.assign({templateFactory:D},n))),r.appendInto(t)),r.setValue(e),r.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const z=(e,...t)=>new k(e,t,"html",M),q=(e,...t)=>new C(e,t,"svg",M)},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(32),y=n(23),b=n(2),w=n(11);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var k=function(e){u()(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i()(this,n),e=t.call(this,r),g()(l()(e),"termType",b.t),g()(l()(e),"base","varid:"),g()(l()(e),"classOrder",v.a.Variable),g()(l()(e),"isVar",1),g()(l()(e),"uri",void 0),e.base="varid:",e.uri=w.join(r,e.base),e}return o()(n,[{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(e){var t;return null!=(t=e[this.toNT()])?t:this}},{key:"toString",value:function(){return n.toString(this)}}],[{key:"toString",value:function(e){return e.uri.slice(0,e.base.length)===e.base?"?".concat(e.uri.slice(e.base.length)):"?".concat(e.uri)}}]),n}(y.a)},function(e,t,n){"use strict";const r={};e.exports=r,r.isArray=Array.isArray,r.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),r.isDouble=e=>r.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),r.isEmptyObject=e=>r.isObject(e)&&0===Object.keys(e).length,r.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),r.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),r.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),r.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),r.isUndefined=e=>void 0===e},function(e,t,n){"use strict";function r(e){return"string"==typeof e?e:e.value}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(54),i=n(23),a=n(25),o=n(12);i.a.fromValue=r.b,t.a=i.a;var s={xsd:Object(a.a)("http://www.w3.org/2001/XMLSchema#")};i.a.toJS=function(e){return Object(o.b)(e)?e.elements.map(i.a.toJS):Object(o.d)(e)?e.datatype.equals(s.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(s.xsd("dateTime"))||e.datatype.equals(s.xsd("date"))?new Date(e.value):e.datatype.equals(s.xsd("integer"))||e.datatype.equals(s.xsd("float"))||e.datatype.equals(s.xsd("decimal"))?Number(e.value):e.value:e}},function(e,t,n){e.exports=n(294)()},function(e,t,n){"use strict";const r=n(50),i=n(42),a=n(106).IdentifierIssuer,o=n(48),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={accept:"application/ld+json, application/json"},d={};e.exports=d,d.IdentifierIssuer=a,d.clone=function(e){if(e&&"object"==typeof e){let t;if(i.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,d.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(d.clone(n))}else if(i.isObject(e)){t={};for(const n in e)t[n]=d.clone(e[n])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+u.accept+'" is supported.');return Object.assign({Accept:u.accept},e)},d.parseLinkHeader=e=>{const t={},n=e.match(s);for(let e=0;e<n.length;++e){let r=n[e].match(l);if(!r)continue;const i={target:r[1]},a=r[2];for(;r=c.exec(a);)i[r[1]]=void 0===r[2]?r[3]:r[2];const o=i.rel||"";Array.isArray(t[o])?t[o].push(i):t.hasOwnProperty(o)?t[o]=[t[o],i]:t[o]=i}return t},d.validateTypeValue=(e,t)=>{if(!(i.isString(e)||i.isArray(e)&&e.every(e=>i.isString(e)))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(e=>i.isString(e)))return}throw new o('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!i.isArray(n)||n.length>0}return!1},d.hasValue=(e,t,n)=>{if(d.hasProperty(e,t)){let a=e[t];const o=r.isList(a);if(i.isArray(a)||o){o&&(a=a["@list"]);for(let e=0;e<a.length;++e)if(d.compareValues(n,a[e]))return!0}else if(!i.isArray(n))return d.compareValues(n,a)}return!1},d.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(i.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)d.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){const a=!r.allowDuplicate&&d.hasValue(e,t,n);i.isArray(e[t])||a&&!r.propertyIsArray||(e[t]=[e[t]]),a||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const i=d.getValues(e,t).filter(e=>!d.compareValues(e,n));0===i.length?d.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>function e(t,n){if(i.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(r.isList(n))n["@list"]=e(t,n["@list"]);else if(i.isObject(n)){r.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));const i=Object.keys(n).sort();for(let r=0;r<i.length;++r){const a=i[r];"@id"!==a&&(n[a]=e(t,n[a]))}}return n}((t=t||{}).issuer||new a("_:b"),e),d.compareValues=(e,t)=>e===t||(!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(32),y=n(53),b=n(84),w=n(30),x=n(17),k=n(12),C=n(44),E=n(41),T=n(63),_=n(2),S=n(14),O=n(3),A=n(36),j=n(64),P=n(34);function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var R="http://www.w3.org/2002/07/owl#";function M(e,t,n,r){var i=e.any(t,n,void 0);return!!i&&(e.equate(i,r),!0)}function D(e,t,n,r){var i=e.any(void 0,n,r);return!!i&&(e.equate(i,t),!0)}function F(e,t,n,r,i){e.typeCallback&&e.typeCallback(e,r,i);var a=e.classActions[e.id(r)],o=!1;if(a)for(var s=0;s<a.length;s++)o=o||a[s](e,t,n,r,i);return o}var B=function(e){u()(n,e);var t=L(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i()(this,n),r=t.call(this,void 0,void 0,void 0,void 0,a),g()(l()(r),"updater",void 0),g()(l()(r),"namespaces",void 0),g()(l()(r),"classActions",void 0),g()(l()(r),"propertyActions",void 0),g()(l()(r),"redirections",void 0),g()(l()(r),"aliases",void 0),g()(l()(r),"HTTPRedirects",void 0),g()(l()(r),"subjectIndex",void 0),g()(l()(r),"predicateIndex",void 0),g()(l()(r),"objectIndex",void 0),g()(l()(r),"whyIndex",void 0),g()(l()(r),"index",void 0),g()(l()(r),"features",void 0),g()(l()(r),"_universalVariables",void 0),g()(l()(r),"_existentialVariables",void 0),g()(l()(r),"rdfArrayRemove",void 0),g()(l()(r),"dataCallbacks",void 0),r.propertyActions={},r.classActions={},r.redirections=[],r.aliases=[],r.HTTPRedirects=[],r.subjectIndex=[],r.predicateIndex=[],r.objectIndex=[],r.whyIndex=[],r.index=[r.subjectIndex,r.predicateIndex,r.objectIndex,r.whyIndex],r.namespaces={},r.features=e||[],r.rdfArrayRemove=a.rdfArrayRemove||x.RDFArrayRemove,a.dataCallback&&(r.dataCallbacks=[a.dataCallback]),r.initPropertyActions(r.features),r}return o()(n,[{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)})),r=new n;return r.add(t),r}},{key:"addDataCallback",value:function(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}},{key:"applyPatch",value:function(e,t,n){var r,i=this,a=null;function o(o){if(e.delete){r=e.delete,a&&(r=r.substitute(a)),r=r.statements;var s=[],l=r.map((function(e){var n=i.statementsMatching(e.subject,e.predicate,e.object,t);return 0===n.length?(s.push(e),null):n[0]}));if(s.length)return n("Could not find to delete: "+s.join("\n or "));l.map((function(e){i.remove(e)}))}e.insert&&(r=e.insert,a&&(r=r.substitute(a)),(r=r.statements).map((function(e){e.graph=t,i.add(e.subject,e.predicate,e.object,e.graph)}))),o()}if(e.where){var s=new T.a("patch");s.pat=e.where,s.pat.statements.map((function(e){e.graph=Object(O.namedNode)(t.value)})),s.sync=!0;var l=[];i.query(s,(function(e){l.push(e)}),i.fetcher,(function(){return 0===l.length?n("No match found to be patched:"+e.where):l.length>1?n("Patch ambiguous. No patch done."):(a=l[0],void o(n))}))}else o(n)}},{key:"declareExistential",value:function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}},{key:"initPropertyActions",value:function(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[F],Object(w.a)(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(R,"sameAs")))]=[function(e,t,n,r,i){return e.equate(t,r),!0}]),Object(w.a)(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(R,"InverseFunctionalProperty")))]=[function(e,t,n,r,i){return e.newPropertyAction(t,D)}]),Object(w.a)(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(R,"FunctionalProperty")))]=[function(e,t,n,r,i){return e.newPropertyAction(t,M)}])}},{key:"addStatement",value:function(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}},{key:"add",value:function(e,t,n,r){var i,a,o;if(1===arguments.length){if(e instanceof Array)for(i=0;i<e.length;i++)this.add(e[i]);else Object(k.g)(e)?this.add(e.subject,e.predicate,e.object,e.graph):Object(k.k)(e)&&this.add(e.statements);return this}r||(r=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=C.a.fromValue(t);var s=C.a.fromValue(n);if(r=C.a.fromValue(r),!Object(k.l)(e))throw new Error("Subject is not a subject type");if(!Object(k.f)(t))throw new Error("Predicate ".concat(t," is not a predicate type"));if(!Object(k.i)(s))throw new Error("Object ".concat(s," is not an object type"));if(!Object(k.c)(r))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,r);var l=this.id(this.canon(t)),c=!1;if(a=this.propertyActions[l])for(i=0;i<a.length;i++)c=c||a[i](this,e,t,s,r);if(this.holds(e,t,s,r))return null;var u=[this.id(this.canon(e)),l,this.id(this.canon(s)),this.id(this.canon(r))];for(o=this.rdfFactory.quad(e,t,s,r),i=0;i<4;i++){var d=this.index[i],p=u[i];d[p]||(d[p]=[]),d[p].push(o)}if(this.statements.push(o),this.dataCallbacks){var f,h=I(this.dataCallbacks);try{for(h.s();!(f=h.n()).done;){var m=f.value;m(o)}}catch(e){h.e(e)}finally{h.f()}}return o}},{key:"canon",value:function(e){if(!e)return e;var t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case _.a:return new A.a(e.value);case _.b:return e;case _.c:return new j.a;case _.d:case _.e:return e;case _.h:return new P.a(e.value,e.language,e.datatype);case _.n:return new S.a(e.value);case _.t:return new E.a(e.value);default:throw new Error("Term Type not recognized for canonization: ".concat(e.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var n in t)t.hasOwnProperty(n)&&this.checkStatementList(t[n],e)}}},{key:"checkStatementList",value:function(e,t){void 0===t&&(t=0);for(var n,r=" found in "+["subject","predicate","object","why"][t]+" index.",i=0;i<e.length;i++){for(var a=[(n=e[i]).subject,n.predicate,n.object,n.graph],o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.equals(t.subject)&&e[n].predicate.equals(t.predicate)&&e[n].object.equals(t.object)&&e[n].why.equals(t.graph))return!0},s=0;s<4;s++){var l=this.canon(a[s]),c=this.id(l);this.index[s][c]&&o(this.index[s][c],n)}if(!o(this.statements,n))throw new Error("Statement list does not statement "+n+"@"+n.graph+r)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):v.a[e.termType]<v.a[t.termType]?-1:v.a[e.termType]>v.a[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}},{key:"copyTo",value:function(e,t,n){n||(n=[]);var r=this.statementsMatching(e);-1!==Object(w.a)(n,"two-direction")&&r.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<r.length;i++){var a=r[i];switch(a.object.termType){case"NamedNode":this.add(t,a.predicate,a.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,a.predicate,a.object.copy(this))}-1!==Object(w.a)(n,"delete")&&this.remove(a)}}},{key:"equate",value:function(e,t){var n=this.canon(e),r=this.canon(t),i=this.compareTerms(n,r);return!i||(i<0?this.replaceWith(r,n):this.replaceWith(n,r))}},{key:"formula",value:function(e){return new n(e)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(e,t,n,r){return this.statementsMatching(C.a.fromValue(e),C.a.fromValue(t),C.a.fromValue(n),C.a.fromValue(r))}},{key:"mentionsURI",value:function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}},{key:"newExistential",value:function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}},{key:"newPropertyAction",value:function(e,t){var n=this.id(e);this.propertyActions[n]||(this.propertyActions[n]=[]),this.propertyActions[n].push(t);for(var r=this.statementsMatching(void 0,e,void 0),i=!1,a=0;a<r.length;a++)i=i||t(this,r[a].subject,e,r[a].object);return i}},{key:"newUniversal",value:function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}},{key:"variable",value:function(e){return new E.a(e)}},{key:"nextSymbol",value:function(e){for(var t=0;;t++){var n=e.value+"#n"+t;if(!this.mentionsURI(n))return this.sym(n)}}},{key:"query",value:function(e,t,n,r){return T.b.call(this,e,t,n,r)}},{key:"querySync",value:function(e){var t=[];var n=!1;if(e.sync=!0,T.b.call(this,e,(function(e){t.push(e)}),null,(function(){n=!0})),!n)throw new Error("Sync query should have called done function");return t}},{key:"remove",value:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if(Object(k.k)(e))return this.remove(e.statements);var n=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!n.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(n[0]),this}},{key:"removeDocument",value:function(e){for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),n=0;n<t.length;n++)this.removeStatement(t[n]);return this}},{key:"removeMany",value:function(e,t,n,r,i){for(var a=this.statementsMatching(e,t,n,r,!1),o=[],s=0;s<a.length;s++)o.push(a[s]);for(i&&(o=o.slice(0,i)),s=0;s<o.length;s++)this.remove(o[s])}},{key:"removeMatches",value:function(e,t,n,r){return this.removeStatements(this.statementsMatching(e,t,n,r)),this}},{key:"removeStatement",value:function(e){for(var t=[e.subject,e.predicate,e.object,e.graph],n=0;n<4;n++){var r=this.canon(t[n]),i=this.id(r);this.index[n][i]&&this.rdfArrayRemove(this.index[n][i],e)}return this.rdfArrayRemove(this.statements,e),this}},{key:"removeStatements",value:function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}},{key:"replaceWith",value:function(e,t){for(var n=this.id(e),r=this.id(t),i=function(e){var t=e[n];if(t){var i=e[r];e[r]=i?t.concat(i):t,delete e[n]}},a=0;a<4;a++)i(this.index[a]);if(this.redirections[n]=t,e.value){if(this.aliases[r]||(this.aliases[r]=[]),this.aliases[r].push(e),this.aliases[n])for(a=0;a<this.aliases[n].length;a++)this.redirections[this.id(this.aliases[n][a])]=t,this.aliases[r].push(this.aliases[n][a]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0}},{key:"allAliases",value:function(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}},{key:"sameThings",value:function(e,t){if(e.equals(t))return!0;var n=this.canon(e);if(!n)return!1;var r=this.canon(t);return!!r&&n.value===r.value}},{key:"setPrefixForURI",value:function(e,t){"tab"===e&&this.namespaces.tab||"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)&&(this.namespaces[e]=t)}},{key:"statementsMatching",value:function(e,t,n,r,i){var a,o,s=[e,t,n,r],l=[],c=[],u=[],d=[];for(a=0;a<4;a++)l[a]=this.canon(C.a.fromValue(s[a])),l[a]?(d.push(a),c[a]=this.id(l[a])):u.push(a);if(0===d.length)return this.statements;if(1===d.length)return a=d[0],(o=this.index[a][c[a]])&&i&&o.length>1&&(o=o.slice(0,1)),o=o||[];var p,f,h=1e10;for(f=0;f<d.length;f++){if(a=d[f],!(o=this.index[a][c[a]]))return[];o.length<h&&(h=o.length,p=f)}for(var m=d[p],g=this.index[m][c[m]],v=d.slice(0,p).concat(d.slice(p+1)),y=[],b=["subject","predicate","object","why"],w=0;w<g.length;w++){var x=g[w];for(f=0;f<v.length;f++)if(a=v[f],!this.canon(x[b[a]]).equals(l[a])){x=null;break}if(null!=x&&(y.push(x),i))break}return y}},{key:"uris",value:function(e){var t=this.canon(e),n=this.aliases[this.id(t)];if(!t.value)return[];var r=[t.value];if(n)for(var i=0;i<n.length;i++)r.push(n[i].uri);return r}}],[{key:"defaultGraphURI",get:function(){return y.a}}]),n}(b.a);g()(B,"handleRDFType",void 0),B.handleRDFType=F},function(e,t,n){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";const r=n(42),i={};e.exports=i,i.isSubject=e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1},i.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>r.isObject(e)&&"@value"in e,i.isList=e=>r.isObject(e)&&"@list"in e,i.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authn=void 0;var r=n(72),i={checkUser:r.checkUser,currentUser:r.currentUser,defaultTestUser:r.defaultTestUser,filterAvailablePanes:r.filterAvailablePanes,findAppInstances:r.findAppInstances,findOriginOwner:r.findOriginOwner,getUserRoles:r.getUserRoles,loadTypeIndexes:r.loadTypeIndexes,logIn:r.logIn,logInLoadProfile:r.logInLoadProfile,logInLoadPreferences:r.logInLoadPreferences,loginStatusBox:r.loginStatusBox,newAppInstance:r.newAppInstance,offlineTestID:r.offlineTestID,registerInTypeIndex:r.registerInTypeIndex,registrationControl:r.registrationControl,registrationList:r.registrationList,selectWorkspace:r.selectWorkspace,setACLUserPublic:r.setACLUserPublic,saveUser:r.saveUser,solidAuthClient:r.solidAuthClient};t.authn=i},function(e,t,n){"use strict";e.exports=function(e){return-2===e||-1===e||32===e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),i="chrome:theSession";new r.a(i)},function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return T}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(36),y=n(32),b=n(34),w=n(23),x=n(2),k=n(12);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function E(e){return null==e||Object(k.m)(e)?e:Array.isArray(e)?new T(e):b.a.fromValue(e)}var T=function(e){u()(n,e);var t=C(n);function n(e){var r;return i()(this,n),r=t.call(this,(v.a.nextId++).toString()),g()(l()(r),"termType",x.b),g()(l()(r),"classOrder",y.a.Collection),g()(l()(r),"closed",!1),g()(l()(r),"compareTerm",v.a.prototype.compareTerm),g()(l()(r),"elements",[]),g()(l()(r),"isVar",0),e&&e.length>0&&e.forEach((function(e){r.elements.push(E(e))})),r}return o()(n,[{key:"id",get:function(){return this.value},set:function(e){this.value=e}},{key:"append",value:function(e){return this.elements.push(e)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(e){return new n(this.elements.map((function(t){return t.substitute(e)})))}},{key:"toNT",value:function(){return n.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(e){return this.elements.unshift(e)}}],[{key:"toNT",value:function(e){return v.a.NTAnonymousNodePrefix+e.id}}]),n}(w.a);g()(T,"termType",x.b)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"==typeof window?"undefined":r(window))&&"object"===("undefined"==typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},function(e,t,n){"use strict";const r=n(42),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const n={},r=i.parsers[t||"full"],a=r.regex.exec(e);let o=r.keys.length;for(;o--;)n[r.keys[o]]=void 0===a[o]?null:a[o];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));const n=i.parse(t),a={protocol:e.protocol||""};if(null!==n.authority)a.authority=n.authority,a.path=n.path,a.query=n.query;else if(a.authority=e.authority,""===n.path)a.path=e.path,null!==n.query?a.query=n.query:a.query=e.query;else{if(0===n.path.indexOf("/"))a.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,a.path=t}a.query=n.query}""!==n.path&&(a.path=i.removeDotSegments(a.path));let o=a.protocol;return null!==a.authority&&(o+="//"+a.authority),o+=a.path,null!==a.query&&(o+="?"+a.query),null!==n.fragment&&(o+="#"+n.fragment),""===o&&(o="./"),o},i.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const a=i.parse(t.substr(n.length)),o=e.normalizedPath.split("/"),s=a.normalizedPath.split("/"),l=a.fragment||a.query?0:1;for(;o.length>0&&s.length>l&&o[0]===s[0];)o.shift(),s.shift();let c="";if(o.length>0){o.pop();for(let e=0;e<o.length;++e)c+="../"}return c+=s.join("/"),null!==a.query&&(c+="?"+a.query),null!==a.fragment&&(c+="#"+a.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const a=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>r.isString(e)&&a.test(e),i.isRelative=e=>r.isString(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msg=function(e){l(e)},t.warn=c,t.debug=u,t.info=function(e){l(e,16,"info")},t.error=function(e){l(e,1,"eror")},t.success=function(e){l(e,8,"good")},t.alert=function(e){s&&void 0!==s.alert?s.alert(e):c(e)},t.clear=function(){var e,t=null===(e=o)||void 0===e?void 0:e.getElementById("status");if(!t)return;t.innerHTML=""},t.setLevel=function(e){i=63,u("Log level is now "+e),i=e},t.dumpHTML=function(){var e,t;if(!o)return;var n=i;i=63,u((null===(e=o)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.innerHTML)||""),i=n},t.logAscending=function(){a=!0},t.logDescending=function(){a=!1},t.escapeForXML=d,t.setInternals=function(e,t){s=e,o=t},t.LogLevel=void 0;var r;t.LogLevel=r,function(e){e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Message=4]="Message",e[e.Success=8]="Success",e[e.Info=16]="Info",e[e.Debug=32]="Debug",e[e.All=63]="All"}(r||(t.LogLevel=r={}));var i=7,a=!1,o=document,s=window;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mesg";if(i&t)if(void 0!==o){var r=o.getElementById("status");if(!r)return;var s=o.createElement("span");s.setAttribute("class",n);var l=new Date;s.innerHTML="".concat(l.getHours(),":").concat(l.getMinutes(),":").concat(l.getSeconds()," [").concat(n,"] ").concat(d(e),"<br/>"),a?r.insertBefore(s,r.firstChild):r.appendChild(s)}else"undefined"!=typeof console&&console.log(e)}function c(e){l(e,2,"warn")}function u(e){l(e,32,"dbug")}function d(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(e,t,n){"use strict";var r=n(327);e.exports=function(e,t,n,i){var a,o=e.length,s=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,i.length<1e4)(a=Array.from(i)).unshift(t,n),r.apply(e,a);else for(n&&r.apply(e,[t,n]);s<i.length;)(a=i.slice(s,s+1e4)).unshift(t,0),r.apply(e,a),s+=1e4,t+=1e4}},function(e,t,n){"use strict";e.exports=function(e){return e<0||32===e}},function(e,t,n){"use strict";var r=n(93);e.exports=function(e){return function(t){return e.test(r(t))}}},function(e,t,n){"use strict";var r=n(6),i=n.n(r),a=n(11),o=n(30);t.a=function(){var e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},t="http://www.w3.org/2000/10/swap/log#",n=function(e){return e},r=function(e){return e},s=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},l=function(e){return e.length},c=function(e,t,n){if(void 0===e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+i()(e);return void 0===n||null==n?e.slice(t):e.slice(t,n)},u=Error("dummy error stop iteration"),d=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw u;return this.li[this.last++]},this},p=function(e,t){return e.indexOf(t)},f=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}};String.prototype.encode=function(t){if("utf-8"!=t)throw"UTF8_converter: can only do utf-8";return e(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var h=function(e,t){return a.join(t,e)};var m="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~:",g=(new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),new RegExp("^[ \\t]*","g"),new RegExp("^[-+]?[0-9]+","g"),new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g")),v=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),y=(new RegExp("^[0-9]+","g"),new RegExp('[\\\\\\r\\n\\"]',"g")),b=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function w(e,t,n,i,a,o,l,c){void 0===t&&(t=null),void 0===n&&(n=""),void 0===i&&(i=null),void 0===a&&(a=""),void 0===o&&(o=null),void 0===l&&(l=""),void 0===c&&(c=null),this._bindings=new s([]),this._flags=l,""!=n&&(f(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,a&&e.setGenPrefix(a),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=a,this.keywords=new r(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new s([]),this._variables=new s([]),this._parentVariables=new s([]),this._reason=c,this._reason2=null,this._baseURI=i||(n||null),f(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}function x(e,t,n,r,i){this._str=n.encode("utf-8"),this._str=n,this._i=r,this._why=i,this.lines=t,this._uri=e}function k(e,t,n,r,i){var a=t+1,o="Line "+a+" of <"+e+">: Bad syntax: "+i+'\nat: "'+n.slice(r,r+30)+'"',s=new SyntaxError(o,e,a);return s.lineNo=a,s.characterInFile=r,s.syntaxProblem=i,s}return w.prototype.here=function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)},w.prototype.formula=function(){return this._formula},w.prototype.loadStream=function(e){return this.loadBuf(e.read())},w.prototype.loadBuf=function(e){return this.startDoc(),this.feed(e),this.endDoc()},w.prototype.feed=function(e){for(var t=e.decode("utf-8"),n=0;n>=0;){var r=this.skipSpace(t,n);if(r<0)return;if((n=this.directiveOrStatement(t,r))<0)throw k(this._thisDoc,this.lines,t,r,"expected directive or statement")}},w.prototype.directiveOrStatement=function(e,t){var n,r=this.skipSpace(e,t);return r<0?r:(n=this.directive(e,r))>=0||(n=this.statement(e,r))>=0?this.checkDot(e,n):n},w.prototype.tok=function(e,t,n){if("@"==t.slice(n,n+1))n=n+1;else if(Object(o.a)(this.keywords,e)<0)return-1;var r=n+l(e);return t.slice(n,r)==e&&"\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~".indexOf(t.charAt(r))>=0?r:-1},w.prototype.directive=function(e,t){if((s=this.skipSpace(e,t))<0)return s;var n=new r([]);if((s=this.tok("bind",e,t))>0)throw k(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");if((s=this.tok("keywords",e,t))>0){if((t=this.commaSeparatedList(e,s,n,!1))<0)throw k(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(c(n,null,null)),t}if((s=this.tok("forAll",e,t))>0){if((t=this.commaSeparatedList(e,s,n,!0))<0)throw k(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var i=new d(n);try{for(;;){var a=i.next();(Object(o.a)(this._variables,a)<0||Object(o.a)(this._parentVariables,a)>=0)&&(this._variables[a]=this._context.newUniversal(a))}}catch(e){if(e!=u)throw e}return t}if((s=this.tok("forSome",e,t))>0){if((t=this.commaSeparatedList(e,s,n,this.uri_ref2))<0)throw k(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");i=new d(n);try{for(;;){a=i.next();this._context.declareExistential(a)}}catch(e){if(e!=u)throw e}return t}if((s=this.tok("prefix",e,t))>=0){var s,l=new r([]);if((t=this.qname(e,s,l))<0)throw k(this._thisDoc,this.lines,e,s,"expected qname after @prefix");if((s=this.uri_ref2(e,t,l))<0)throw k(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var p=l[1].uri;if(this._baseURI)p=h(this._baseURI,p);else f(p.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return f(p.indexOf(":")>=0),this._bindings[l[0][0]]=p,this.bind(l[0][0],function(e){return encodeURI(e)}(p)),s}if((s=this.tok("base",e,t))>=0){l=new r([]);if((t=this.uri_ref2(e,s,l))<0)throw k(this._thisDoc,this.lines,e,s,"expected <uri> after @base ");p=l[0].uri;if(!this._baseURI)throw k(this._thisDoc,this.lines,e,s,"With no previous base URI, cannot use relative URI in @base  <"+p+">");p=h(this._baseURI,p);return f(p.indexOf(":")>=0),this._baseURI=p,t}return-1},w.prototype.bind=function(e,t){""==e||this._store.setPrefixForURI(e,t)},w.prototype.setKeywords=function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)},w.prototype.startDoc=function(){},w.prototype.endDoc=function(){return this._formula},w.prototype.makeStatement=function(e){e[0].add(e[2],e[1],e[3],this.source),this.statementCount+=1},w.prototype.statement=function(e,t){var n=new r([]);if((t=this.object(e,t,n))<0)return t;var i=this.property_list(e,t,n[0]);if(i<0)throw k(this._thisDoc,this.lines,e,t,"expected propertylist");return i},w.prototype.subject=function(e,t,n){return this.item(e,t,n)},w.prototype.verb=function(e,i,a){if((s=this.skipSpace(e,i))<0)return s;var o=new r([]);if((s=this.tok("has",e,i))>=0){if((i=this.prop(e,s,o))<0)throw k(this._thisDoc,this.lines,e,s,"expected property after 'has'");return a.push(new n(["->",o[0]])),i}if((s=this.tok("is",e,i))>=0){if((i=this.prop(e,s,o))<0)throw k(this._thisDoc,this.lines,e,s,"expected <property> after 'is'");if((s=this.skipSpace(e,i))<0)throw k(this._thisDoc,this.lines,e,i,"End of file found, expected property after 'is'");var s;i=s;if((s=this.tok("of",e,i))<0)throw k(this._thisDoc,this.lines,e,i,"expected 'of' after 'is' <prop>");return a.push(new n(["<-",o[0]])),s}if((s=this.tok("a",e,i))>=0)return a.push(new n(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),s;if("<="==e.slice(i,i+2))return a.push(new n(["<-",this._store.sym(t+"implies")])),i+2;if("="==e.slice(i,i+1))return">"==e.slice(i+1,i+2)?(a.push(new n(["->",this._store.sym(t+"implies")])),i+2):(a.push(new n(["->",this._store.sym("http://www.w3.org/2002/07/owl#sameAs")])),i+1);if(":="==e.slice(i,i+2))return a.push(new n(["->",t+"becomes"])),i+2;if((s=this.prop(e,i,o))>=0)return a.push(new n(["->",o[0]])),s;if(">-"==e.slice(i,i+2)||"<-"==e.slice(i,i+2))throw k(this._thisDoc,this.lines,e,s,">- ... -> syntax is obsolete.");return-1},w.prototype.prop=function(e,t,n){return this.item(e,t,n)},w.prototype.item=function(e,t,n){return this.path(e,t,n)},w.prototype.blankNode=function(e){return this._context.bnode(e,this._reason2)},w.prototype.path=function(e,t,r){if((o=this.nodeOrLiteral(e,t,r))<0)return o;for(;"!^.".indexOf(e.slice(o,o+1))>=0;){var i=e.slice(o,o+1);if("."==i){var a=e.slice(o+1,o+2);if(!a||m.indexOf(a)>=0&&":?<[{(".indexOf(a)<0)break}var o,s=r.pop(),l=this.blankNode(this.here(o));if((o=this.node(e,o+1,r))<0)throw k(this._thisDoc,this.lines,e,o,"EOF found in middle of path syntax");var c=r.pop();"^"==i?this.makeStatement(new n([this._context,c,l,s])):this.makeStatement(new n([this._context,c,s,l])),r.push(l)}return o},w.prototype.anonymousNode=function(e){if(t=this._anonymousNodes[e])return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t},w.prototype.node=function(e,t,i,a){void 0===a&&(a=null);var o=a;if((g=this.skipSpace(e,t))<0)return g;t=g;var c=e.slice(t,t+1);if("["==c){var p=this.here(t);if((g=this.skipSpace(e,t+1))<0)throw k(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(g,g+1)){var t=g+1,f=new r([]);if(!((g=this.objectList(e,t,f))>=0))throw k(this._thisDoc,this.lines,e,t,"objectList expected after [= ");o=f[0];if(l(f)>1){var h=new d(f);try{for(;;){var m=h.next();this.makeStatement(new n([this._context,this._store.sym("http://www.w3.org/2002/07/owl#sameAs"),o,m]))}}catch(e){if(e!=u)throw e}}if((g=this.skipSpace(e,g))<0)throw k(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(g,g+1))var g=g+1}if(null==o)o=this.blankNode(p);if((t=this.property_list(e,g,o))<0)throw k(this._thisDoc,this.lines,e,g,"property_list expected");if((g=this.skipSpace(e,t))<0)throw k(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(g,g+1))throw k(this._thisDoc,this.lines,e,g,"']' expected");return i.push(o),g+1}if("{"==c){if("$"==e.slice(t+1,t+2)){for(var g=(t+=1)+1,v=new r([]),y=!0;;){if((t=this.skipSpace(e,g))<0)throw k(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){var g=t+2;break}if(y)y=!1;else{if(","!=e.slice(t,t+1))throw k(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var b=new r([]);if((g=this.item(e,t,b))<0)throw k(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");v.push(b[0])}return i.push(this._store.newSet(v,this._context)),g}var g=t+1,w=this._parentContext;this._parentContext=this._context;var x=this._anonymousNodes,C=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new s([]),this._variables=this._variables.slice();var E=this._reason2;if(this._reason2=null,null==o)o=this._store.formula();for(this._context=o;;){if((t=this.skipSpace(e,g))<0)throw k(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){var g=t+1;break}if((g=this.directiveOrStatement(e,t))<0)throw k(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=x,this._variables=this._parentVariables,this._parentVariables=C,this._context=this._parentContext,this._reason2=E,this._parentContext=w,i.push(o.close()),g}if("("==c){var T=this._store.list;if("$"==e.slice(t+1,t+2)){T=this._store.newSet;t+=1}for(g=t+1,v=new r([]);;){if((t=this.skipSpace(e,g))<0)throw k(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){g=t+1;break}b=new r([]);if((g=this.item(e,t,b))<0)throw k(this._thisDoc,this.lines,e,t,"expected item in list or ')'");v.push(b[0])}return i.push(T(v,this._context)),g}if((g=this.tok("this",e,t))>=0)throw k(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");if((g=this.tok("true",e,t))>=0)return i.push(!0),g;if((g=this.tok("false",e,t))>=0)return i.push(!1),g;if(null==o&&(g=this.uri_ref2(e,t,i))>=0)return g;return-1},w.prototype.property_list=function(e,t,i){for(;;){if((h=this.skipSpace(e,t))<0)throw k(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=e.slice(h,h+2)){t=h;var a=new r([]);if((h=this.verb(e,t,a))<=0)return t;var o=new r([]);if((t=this.objectList(e,h,o))<0)throw k(this._thisDoc,this.lines,e,h,"objectList expected");var s=new d(o);try{for(;;){var l=s.next(),c=a[0],p=c[0],f=c[1];"->"==p?this.makeStatement(new n([this._context,f,i,l])):this.makeStatement(new n([this._context,f,l,i]))}}catch(e){if(e!=u)throw e}if((h=this.skipSpace(e,t))<0)throw k(this._thisDoc,this.lines,e,h,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;t=t+1}else{var h,t=h+2,m=new r([]);if((h=this.node(e,t,m,i))<0)throw k(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=h}}},w.prototype.commaSeparatedList=function(e,t,n,r){if((i=this.skipSpace(e,t))<0)throw k(this._thisDoc,this.lines,e,i,"EOF found expecting comma sep list");if("."==e.charAt(i))return t;if(r)var i=this.uri_ref2(e,i,n);else i=this.bareWord(e,i,n);if(i<0)return-1;for(;;){if((t=this.skipSpace(e,i))<0)return t;var a=e.slice(t,t+1);if(","!=a)return"."!=a?-1:t;if(r)i=this.uri_ref2(e,t+1,n);else i=this.bareWord(e,t+1,n);if(i<0)throw k(this._thisDoc,this.lines,e,i,"bad list content")}},w.prototype.objectList=function(e,t,n){if((t=this.object(e,t,n))<0)return-1;for(;;){var r=this.skipSpace(e,t);if(r<0)throw k(this._thisDoc,this.lines,e,r,"EOF found after object");if(","!=e.slice(r,r+1))return r;if((t=this.object(e,r+1,n))<0)return t}},w.prototype.checkDot=function(e,t){var n=this.skipSpace(e,t);if(n<0)return n;if("."==e.slice(n,n+1))return n+1;if("}"==e.slice(n,n+1))return n;if("]"==e.slice(n,n+1))return n;throw k(this._thisDoc,this.lines,e,n,"expected '.' or '}' or ']' at end of statement")},w.prototype.uri_ref2=function(e,t,n){var i=new r([]);if((y=this.qname(e,t,i))>=0){var a=i[0],s=a[0],u=a[1];if(null==s){f(0,"not used?");var d=this._baseURI+"#"}else{if(!(d=this._bindings[s])){if("_"==s)return n.push(this.anonymousNode(u)),y;throw k(this._thisDoc,this.lines,e,t,"Prefix "+s+" not bound.")}}var p=this._store.sym(d+u);return Object(o.a)(this._variables,p)>=0?n.push(this._variables[p]):n.push(p),y}if((t=this.skipSpace(e,t))<0)return-1;if("?"==e.charAt(t)){var m=new r([]);return(y=this.variable(e,t,m))>0?(n.push(m[0]),y):-1}if("<"==e.charAt(t)){for(var g=t=t+1;t<l(e);){if(">"==e.charAt(t)){var v=e.slice(g,t);if(this._baseURI)v=h(this._baseURI,v);else f(v.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==e.slice(t-1,t)&&"#"!=c(v,-1,null))v=v+"#";p=this._store.sym(v);return Object(o.a)(this._variables,p)>=0?n.push(this._variables[p]):n.push(p),t+1}t=t+1}throw k(this._thisDoc,this.lines,e,y,"unterminated URI reference")}if(this.keywordsSet){var y;m=new r([]);if((y=this.bareWord(e,t,m))<0)return-1;if(Object(o.a)(this.keywords,m[0])>=0)throw k(this._thisDoc,this.lines,e,t,'Keyword "'+m[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+m[0])),y}return-1},w.prototype.skipSpace=function(e,t){for(var n=t||0;n<e.length;n++){var r=e.charAt(n);if(" \n\r\t\f\v            ​\u2028\u2029　".indexOf(r)<0){if("#"!==e.charAt(n))return n;for(;;n++){if(n===e.length)return-1;if("\n"===e.charAt(n)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(n)&&(this.lines=this.lines+1)}return-1},w.prototype.variable=function(e,t,n){if((r=this.skipSpace(e,t))<0)return-1;if("?"!=e.slice(r,r+1))return-1;var r;t=r+=1;if("0123456789-".indexOf(e.charAt(r))>=0)throw k(this._thisDoc,this.lines,e,r,"Varible name can't start with '"+e.charAt(r)+"s'");for(;t<l(e)&&m.indexOf(e.charAt(t))<0;)t=t+1;if(null==this._parentContext)throw k(this._thisDoc,this.lines,e,r,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(r-1,t));return n.push(this._store.variable(e.slice(r,t))),t},w.prototype.bareWord=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;var i=e.charAt(r);if("0123456789-".indexOf(i)>=0)return-1;if(m.indexOf(i)>=0)return-1;for(t=r;t<l(e)&&m.indexOf(e.charAt(t))<0;)t=t+1;return n.push(e.slice(r,t)),t},w.prototype.qname=function(e,t,r){if((t=this.skipSpace(e,t))<0)return-1;var i=e.charAt(t);if("0123456789-+".indexOf(i)>=0)return-1;if(m.indexOf(i)<0){var a=i;for(t=t+1;t<l(e);){i=e.charAt(t);if(!(m.indexOf(i)<0))break;a=a+i,t=t+1}}else a="";if(t<l(e)&&":"==e.charAt(t)){var s=a;for(t=t+1,a="";t<l(e);){i=e.charAt(t);if(!(m.indexOf(i)<0))break;a=a+i,t=t+1}return r.push(new n([s,a])),t}return a&&this.keywordsSet&&Object(o.a)(this.keywords,a)<0?(r.push(new n(["",a])),t):-1},w.prototype.object=function(e,t,n){if((o=this.subject(e,t,n))>=0)return o;if((o=this.skipSpace(e,t))<0)return-1;t=o;var r=null,i=e.charAt(t);if('"'==i||"'"==i){r=e.slice(t,t+3==i+i)?i+i+i:i;t=t+l(r);var a=this.strconst(e,t,r),o=a[0],s=a[1];return n.push(this._store.literal(s)),o}return-1},w.prototype.nodeOrLiteral=function(e,t,n){if((u=this.node(e,t,n))>=0)return u;if((u=this.skipSpace(e,t))<0)return-1;t=u;var i=e.charAt(t);if("-+0987654321".indexOf(i)>=0){if(v.lastIndex=0,null!=(f=v.exec(e.slice(t)))){u=t+(a=f[0]).length,a.indexOf("T")>=0?n.push(this._store.literal(a,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):n.push(this._store.literal(a,this._store.sym("http://www.w3.org/2001/XMLSchema#date")))}else{var a;if(g.lastIndex=0,null==(f=g.exec(e.slice(t))))throw k(this._thisDoc,this.lines,e,t,"Bad number or date syntax");u=t+g.lastIndex,(a=e.slice(t,u)).indexOf("e")>=0?n.push(this._store.literal(parseFloat(a),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(t,u).indexOf(".")>=0?n.push(this._store.literal(parseFloat(a),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):n.push(this._store.literal(parseInt(a),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return u}if('"'==e.charAt(t)){if('"""'==e.slice(t,t+3))var o='"""';else o='"';t=t+l(o);var s=null,c=this.strconst(e,t,o),u=c[0],d=c[1],p=null;if("@"==e.slice(u,u+1)){var f;if(b.lastIndex=0,null==(f=b.exec(e.slice(u+1))))throw k(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");t=b.lastIndex+u+1,p=e.slice(u+1,t),u=t}if("^^"==e.slice(u,u+2)){var h=new r([]);u=this.uri_ref2(e,u+2,h),s=h[0]}return n.push(this._store.literal(d,p||s)),u}return-1},w.prototype.strconst=function(e,t,r){for(var i=t,a="",o=this.lines;i<l(e);){t=i+l(r);if(e.slice(i,t)==r)return new n([t,a]);if('"'!=e.charAt(i)){if(y.lastIndex=0,!y.exec(e.slice(i)))throw k(this._thisDoc,o,e,i,"Closing quote missing in string at ^ in "+e.slice(i-20,i)+"^"+e.slice(i,i+20));t=i+y.lastIndex-1,a=a+e.slice(i,t);if('"'!=(u=e.charAt(t)))if("\r"!=u){if("\n"==u){if('"'==r)throw k(this._thisDoc,o,e,t,"newline found in string literal");this.lines=this.lines+1;a=a+u,i=t+1;this.previousLine=this.startOfLine,this.startOfLine=i}else if("\\"==u){i=t+1;if(!(u=e.slice(i,i+1)))throw k(this._thisDoc,o,e,t,"unterminated string literal (2)");var s=p('abfrtvn\\"',u);if(s>=0)a=a+'a\b\f\r\t\v\n\\"'.charAt(s),i=i+1;else if("u"==u)i=(c=this.uEscape(e,i+1,o))[0],a=a+(u=c[1]);else{if("U"!=u)throw k(this._thisDoc,this.lines,e,t,"bad escape");var c,u;i=(c=this.UEscape(e,i+1,o))[0],a=a+(u=c[1])}}}else var i=t+1;else var i=t}else var a=a+'"',i=i+1}throw k(this._thisDoc,this.lines,e,t,"unterminated string literal")},w.prototype.uEscape=function(e,t,r){for(var i=t,a=0,o=0;a<4;){var s=e.slice(i,i+1).toLowerCase();i=i+1;if(""==s)throw k(this._thisDoc,r,e,t,"unterminated string literal(3)");var l=p("0123456789abcdef",s);if(l<0)throw k(this._thisDoc,r,e,t,"bad string literal hex escape");o=16*o+l,a=a+1}var c=String.fromCharCode(o);return new n([i,c])},w.prototype.UEscape=function(e,t,r){for(var i=t,a=0,o="\\U";a<8;){var s=e.slice(i,i+1).toLowerCase();i=i+1;if(""==s)throw k(this._thisDoc,r,e,t,"unterminated string literal(3)");if(p("0123456789abcdef",s)<0)throw k(this._thisDoc,r,e,t,"bad string literal hex escape");o=o+s,a=a+1}var l,u=(l="0x"+c(o,2,10)-0,String.fromCharCode(l));return new n([i,u])},x.prototype.toString=function(){var e=this._str,t=this._i,r=0;if(t>60){var i="...";r=t-60}else i="";if(l(e)-t>60)var a="...";else a="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new n([this.lines+1,this._uri,this._why,i,e.slice(r,t),e.slice(t,t+60),a])},function(e,t,n,r,i,a,o,s){return new w(e,t,n,r,i,a,o,s)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(36),l=n(34),c=n(14),u=n(11),d=n(17),p=n(33);if(void 0===f)var f={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var h=function(){function e(t,n){i()(this,e),this.options=n||{},this.kb=t,this.target=n.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return o()(e,[{key:"addTriple",value:function(e,t,n,r){var i,a,o,s;i=void 0===t?p.a.namedNode(this.options.base):this.toRDFNodeObject(t),o=this.toRDFNodeObject(n),a=this.toRDFNodeObject(r),s=p.a.namedNode(this.options.base),this.kb.add(i,o,a,s)}},{key:"ancestorPath",value:function(e){for(var t="";e&&e.nodeType!==f.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var n in e)t[n]=e[n];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var n=0;n<e.dateTimeTypes.length;n++){var r=e.dateTimeTypes[n].pattern.exec(t);if(r&&r[0].length===t.length)return e.dateTimeTypes[n].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,n,r){var i,a=t.indexOf(":");if(a>=0){var o=t.substring(0,a);if(""===o)return(i=n[""])?i+t.substring(a+1):null;if("_"===o)return"_:"+t.substring(a+1);if(e.NCNAME.test(o)&&(i=n[o]))return i+t.substring(a+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,n){var r=this.parseCURIE(e,t,n);return r||this.resolveAndNormalize(n,e)}},{key:"parsePredicate",value:function(e,t,n,r,i,a){if(""===e)return null;var o=this.parseTermOrCURIEOrAbsURI(e,t,a?null:n,r,i);return o&&0===o.indexOf("_:")?null:o}},{key:"parsePrefixMappings",value:function(e,t){for(var n=this.tokenize(e),r=null,i=0;i<n.length;i++)":"===n[i][n[i].length-1]?r=n[i].substring(0,n[i].length-1):r&&(t[r]=this.options.base?u.join(n[i],this.options.base):n[i],r=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,n){return"["===(e=this.trim(e)).charAt(0)&&"]"===e.charAt(e.length-1)?0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,n):this.parseCURIEOrURI(e,t,n)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,n,r,i){e=this.trim(e);var a=this.parseCURIE(e,r,i);if(a)return a;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var o=n[e];if(o)return o;if(o=n[e.toLowerCase()])return o}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,n,r,i){e=this.trim(e);var a=this.parseCURIE(e,r,i);if(a)return a;var o=n[e];return o||((o=n[e.toLowerCase()])?o:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,n){var r;n=n||{},t.nodeType===f.DOCUMENT_NODE?(t.baseURI&&!n.baseURI&&(n.baseURI=t.baseURI),r=t.baseURI,(t=t.documentElement).baseURI||(t.baseURI=r),this.setContext(t)):t.parentNode.nodeType===f.DOCUMENT_NODE&&this.setContext(t);var i=[],a=function(e){if(!e&&n&&n.baseURI)return n.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),n&&n.baseURIMap&&(e=n.baseURIMap(e)),e};for(i.push({current:t,context:this.push(null,a(t.baseURI))});i.length>0;){var o=i.shift();if(o.parent){if(o.context.parent&&o.context.parent.listMapping===o.listMapping)continue;for(var s in o.listMapping){var l=o.listMapping[s];if(0!==l.length){for(var c=[],d=0;d<l.length;d++)c.push(this.newBlankNode());for(var p=0;p<c.length;p++)this.addTriple(o.parent,c[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",l[p]),this.addTriple(o.parent,c[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:p+1<c.length?c[p+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(o.parent,o.subject,s,{type:e.objectURI,value:c[0]})}else this.addTriple(o.parent,o.subject,s,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var h=o.current,m=o.context,g=!1,v=null,y=null,b=null,w=m.prefixes,x=!1,k=[],C=m.listMapping,E=!m.parent,T=m.language,_=m.vocabulary;r=this.parseURI(a(h.baseURI)),h.item=null;var S=h.getAttributeNode("vocab");if(S){var O=this.trim(S.value);if(O.length>0){_=O;var A=r.spec;this.addTriple(h,A,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:_})}else _=this.vocabulary}for(var j=0;j<h.attributes.length;j++){var P=h.attributes[j];if("x"===P.nodeName.charAt(0)&&0===P.nodeName.indexOf("xmlns:")){x||(w=this.copyMappings(w),x=!0);var I=P.nodeName.substring(6),N=e.trim(P.value);w[I]=this.options.base?u.join(N,this.options.base):N}}var L=h.getAttributeNode("prefix");L&&(x||(w=this.copyMappings(w),x=!0),this.parsePrefixMappings(L.value,w));for(var R=null,M=0;!R&&M<this.langAttributes.length;M++)R=h.getAttributeNodeNS(this.langAttributes[M].namespaceURI,this.langAttributes[M].localName);if(R){var D=e.trim(R.value);T=D.length>0?D:null}var F,B,U=h.getAttributeNode("rel"),z=h.getAttributeNode("rev"),q=h.getAttributeNode("typeof"),H=h.getAttributeNode("property"),W=h.getAttributeNode("datatype"),G=this.inHTMLMode?h.getAttributeNode("datetime"):null,V=h.getAttributeNode("content"),$=h.getAttributeNode("about"),Q=h.getAttributeNode("src"),J=h.getAttributeNode("resource"),K=h.getAttributeNode("href"),X=h.getAttributeNode("inlist"),Y=[];if(U){B=this.tokenize(U.value);for(var Z=0;Z<B.length;Z++)(F=this.parsePredicate(B[Z],_,m.terms,w,r,this.inHTMLMode&&null!==H))&&Y.push(F)}var ee=[];if(z){B=this.tokenize(z.value);for(var te=0;te<B.length;te++)(F=this.parsePredicate(B[te],_,m.terms,w,r,this.inHTMLMode&&H))&&ee.push(F)}if(this.inHTMLMode&&(U||z)&&H&&(0===Y.length&&(U=null),0===ee.length&&(z=null)),U||z?($&&(v=this.parseSafeCURIEOrCURIEOrURI($.value,w,r)),q&&(b=v),v||(h.parentNode.nodeType===f.DOCUMENT_NODE?v=a(h.baseURI):m.parentObject&&(v=a(h.parentNode.baseURI)===m.parentObject?a(h.baseURI):m.parentObject)),J&&(y=this.parseSafeCURIEOrCURIEOrURI(J.value,w,r)),y||(K?y=this.resolveAndNormalize(r,encodeURI(K.value)):Q?y=this.resolveAndNormalize(r,encodeURI(Q.value)):!q||$||this.inXHTMLMode&&("head"===h.localName||"body"===h.localName)||(y=this.newBlankNode())),!q||$||!this.inXHTMLMode||"head"!==h.localName&&"body"!==h.localName?q&&!$&&(b=y):b=v):!H||V||W?($&&(v=this.parseSafeCURIEOrCURIEOrURI($.value,w,r)),!v&&J&&(v=this.parseSafeCURIEOrCURIEOrURI(J.value,w,r)),!v&&K&&(v=this.resolveAndNormalize(r,encodeURI(K.value))),!v&&Q&&(v=this.resolveAndNormalize(r,encodeURI(Q.value))),v||(h.parentNode.nodeType===f.DOCUMENT_NODE?v=a(h.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==h.localName&&"body"!==h.localName?q?v=this.newBlankNode():m.parentObject&&(v=a(h.parentNode.baseURI)===m.parentObject?a(h.baseURI):m.parentObject,H||(g=!0)):v=a(h.parentNode.baseURI)===m.parentObject?a(h.baseURI):m.parentObject),q&&(b=v)):($&&(v=this.parseSafeCURIEOrCURIEOrURI($.value,w,r),q&&(b=v)),v||h.parentNode.nodeType!==f.DOCUMENT_NODE?!v&&m.parentObject&&(v=a(h.parentNode.baseURI)===m.parentObject?a(h.baseURI):m.parentObject):(v=a(h.baseURI),q&&(b=v)),q&&!b&&(J&&(b=this.parseSafeCURIEOrCURIEOrURI(J.value,w,r)),!b&&K&&(b=this.resolveAndNormalize(r,encodeURI(K.value))),!b&&Q&&(b=this.resolveAndNormalize(r,encodeURI(Q.value))),b||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==h.localName&&"body"!==h.localName||(b=v),b||(b=this.newBlankNode()),y=b)),v&&($||J||b)){var ne=v;q&&!$&&!J&&y&&(ne=y),this.newSubjectOrigin(h,ne)}if(b){B=this.tokenize(q.value);for(var re=0;re<B.length;re++){var ie=this.parseTermOrCURIEOrAbsURI(B[re],_,m.terms,w,r);ie&&this.addTriple(h,b,e.typeURI,{type:e.objectURI,value:ie})}}if(v&&v!==m.parentObject&&(C={},E=!0),y){if(U&&X)for(var ae=0;ae<Y.length;ae++){var oe=C[Y[ae]];oe||(oe=[],C[Y[ae]]=oe),oe.push({type:e.objectURI,value:y})}else if(U)for(var se=0;se<Y.length;se++)this.addTriple(h,v,Y[se],{type:e.objectURI,value:y});if(z)for(var le=0;le<ee.length;le++)this.addTriple(h,y,ee[le],{type:e.objectURI,value:v})}else{if(v&&!y&&(U||z)&&(y=this.newBlankNode()),U&&X)for(var ce=0;ce<Y.length;ce++){var ue=C[Y[ce]];ue||(ue=[],C[F]=ue),k.push({predicate:Y[ce],list:ue})}else if(U)for(var de=0;de<Y.length;de++)k.push({predicate:Y[de],forward:!0});if(z)for(var pe=0;pe<ee.length;pe++)k.push({predicate:ee[pe],forward:!1})}if(H){var fe=null,he=null;W?(fe=""===W.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(W.value,_,m.terms,w,r),he=G&&!V?G.value:fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?null:V?V.value:h.textContent):V?(fe=e.PlainLiteralURI,he=V.value):G?(he=G.value,(fe=e.deriveDateTimeType(he))||(fe=e.PlainLiteralURI)):U||z||(J&&(he=this.parseSafeCURIEOrCURIEOrURI(J.value,w,r)),!he&&K?he=this.resolveAndNormalize(r,encodeURI(K.value)):!he&&Q&&(he=this.resolveAndNormalize(r,encodeURI(Q.value))),he&&(fe=e.objectURI)),fe||(q&&!$?(fe=e.objectURI,he=b):(he=h.textContent,this.inHTMLMode&&"time"===h.localName&&(fe=e.deriveDateTimeType(he)),fe||(fe=e.PlainLiteralURI))),B=this.tokenize(H.value);for(var me=0;me<B.length;me++){var ge=this.parsePredicate(B[me],_,m.terms,w,r);if(ge)if(X){var ve=C[ge];ve||(ve=[],C[ge]=ve),ve.push(fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?{type:fe,value:h.childNodes}:{type:fe||e.PlainLiteralURI,value:he,language:T})}else fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?this.addTriple(h,v,ge,{type:fe,value:h.childNodes}):this.addTriple(h,v,ge,{type:fe||e.PlainLiteralURI,value:he,language:T})}}if(v&&!g)for(var ye=0;ye<m.incomplete.length;ye++)m.incomplete[ye].list?m.incomplete[ye].list.push({type:e.objectURI,value:v}):m.incomplete[ye].forward?this.addTriple(h,m.subject,m.incomplete[ye].predicate,{type:e.objectURI,value:v}):this.addTriple(h,v,m.incomplete[ye].predicate,{type:e.objectURI,value:m.subject});var be=null,we=v;g?((be=this.push(m,m.subject)).parentObject=a(h.parentNode.baseURI)===m.parentObject?a(h.baseURI):m.parentObject,be.incomplete=m.incomplete,be.language=T,be.prefixes=w,be.vocabulary=_):((be=this.push(m,v)).parentObject=y||v||m.subject,be.prefixes=w,be.incomplete=k,y&&(we=y,C={},E=!0),be.listMapping=C,be.language=T,be.vocabulary=_),E&&i.unshift({parent:h,context:m,subject:we,listMapping:C});for(var xe=h.lastChild;xe;xe=xe.previousSibling)xe.nodeType===f.ELEMENT_NODE&&i.unshift({current:xe,context:be})}}this.inHTMLMode&&this.copyProperties();for(var ke=0;ke<this.finishedHandlers.length;ke++)this.finishedHandlers[ke](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return u.join(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){var n=this;if(void 0!==t){if("string"==typeof t)return"_:"===t.substring(0,2)?(void 0===this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new s.a(t.substring(2))),this.blankNodes[t.substring(2)]):p.a.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?(void 0===this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new s.a(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):p.a.namedNode(t.value);case e.PlainLiteralURI:return new l.a(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach((function(e){r+=d.domToString(t.value[e],n.htmlOptions)})),new l.a(r,"",new c.a(t.type));default:return new l.a(t.value,"",new c.a(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,n,r){var i=new e(n,{base:r});t.baseURI||(t.baseURI=r),i.process(t,{baseURI:r})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}]),e}();h.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",h.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",h.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",h.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",h.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",h.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",h.NCNAME=new RegExp("^"+h.nameStartChar+h.nameChar+"*$"),h.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var m=h.parseRDFaDOM},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(7),i=n.n(r),a=n(47),o=n(53),s=n(4),l=n(11),c=function e(t,n){i()(this,e),this.pat=new a.a,this.vars=[],this.name=t,this.id=n};function u(e,t,n,r){function i(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="    "+t+" -> "+e[t]);return n}function a(e){var t,n="Bindings: ",r=e.length;for(t=0;t<r;t++)n+=i(e[t][0])+";\n\t";return n}function c(e,t,n,r){var i;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var a=function(e,t,n,r){var i=n[e];if(void 0===i){if(e.isVar){var a=[];return a[e]=t,[[a,null]]}i=e}if(!i.complexType)return r.redirections[i]&&(i=r.redirections[i]),r.redirections[t]&&(t=r.redirections[t]),i.equals(t)||i.uri&&i.uri===o.a?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?c(e,t,n):[];throw new Error("query.js: oops - code not written yet")}(e[0],t[0],n,r);if(0===a.length)return a;var s,l,u,d,p,f,h,m=[],g=a.length;for(s=0;s<g;s++){for(p in h=[],l=a[s][0])l.hasOwnProperty(p)&&(h[p]=l[p]);for(p in n)n.hasOwnProperty(p)&&(h[p]=n[p]);for(d=(i=c(e.slice(1),t.slice(1),h,r)).length,u=0;u<d;u++){for(p in f=i[u][0],l)l.hasOwnProperty(p)&&(f[p]=l[p]);m.push([f,null])}}return m}function u(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function d(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function p(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}d.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;s.a.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},d.prototype.doCallBacks=function(e,t){var n;if(e<0)return this.originalCallback(t);for(n=0;n<this.branches[e].results.length;n++)this.doCallBacks(e-1,u(t,this.branches[e].results[n]))},p.prototype.reportMatch=function(e){this.callback(e),this.success=!0},p.prototype.reportDone=function(){this.done=!0,s.a.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var f=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function h(e,t,n){var r,i,a,s,l,c;for(t.nvars=0,t.index=null,r=[t.subject,t.predicate,t.object,t.why],s=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex],a=0;a<4;a++){var u=r[a];if(u.uri&&u.uri===o.a);else if(u.isVar&&void 0===n[u])t.nvars++;else{if(c=void 0,u=void 0===(c=n[l=r[a]])?l:c,e.redirections[e.id(u)]&&(u=e.redirections[e.id(u)]),!(i=s[a][e.id(u)]))return t.index=[],!1;(null===t.index||t.index.length>i.length)&&(t.index=i)}}return null===t.index&&(t.index=e.statements),!0}function m(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}f.prototype.reportMatch=function(e){this.results.push(e)},f.prototype.reportDone=function(){s.a.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),s.a.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var g=function e(n,r,a,o,c,u,p){s.a.debug("Match begins, Branch count now: "+p.count+" for "+p.pattern_debug);var h,m,g=r.statements;if(0===g.length){if(s.a.debug("FOUND MATCH WITH BINDINGS:"+i(a)),0===r.optional.length)p.reportMatch(a);else{s.a.debug("OPTIONAL: "+r.optional);var v,b=new d(t,a),w=[];for(v=0;v<r.optional.length;v++)w[v]=new f(b),w[v].pattern_debug=r.optional[v];for(v=0;v<r.optional.length;v++)w[v].count=w[v].count+1,e(n,r.optional[v],a,"",c,t,w[v])}return p.count--,void s.a.debug("Match ends -- success , Branch count now: "+p.count+" for "+p.pattern_debug)}var x=g.length;if(c){0;var k=function(t,i){var s=t.uri.split("#")[0];c.nowOrWhenFetched(s,void 0,(function(i,s,l){i||console.log("Error following link to <"+t.uri+"> in query: "+s),e(n,r,a,o,c,u,p)}))};for(m=0;m<x;m++){if(h=g[m],void 0!==a[h.subject]&&a[h.subject].uri&&c&&"unrequested"===c.getState(Object(l.docpart)(a[h.subject].uri)))return void k(a[h.subject]);if(void 0!==a[h.object]&&a[h.object].uri&&c&&"unrequested"===c.getState(Object(l.docpart)(a[h.object].uri)))return void k(a[h.object])}}y(n,r,a,o,c,u,p)},v=function(e,t){var n,r,i=!0;for(n in e)e.hasOwnProperty(n)&&t[n]&&(r=t[n].test)&&!r(e[n])&&(i=!1);return i},y=function(e,t,n,r,o,l,u){var d,p,f,y,b,w,x,k=t.statements,C=k.length;for(d=0;d<C;d++)h(e,x=k[d],n);k.sort(m),x=k[0];var E,T=e.formula();T.optional=t.optional,T.constraints=t.constraints,T.statements=k.slice(1),s.a.debug(r+"match2 searching "+x.index.length+" for "+x+"; bindings so far="+i(n));var _,S,O=x.index.length,A=0;for(E=0;E<O;E++)for(S=x.index[E],_=c([x.subject,x.predicate,x.object,x.why],[S.subject,S.predicate,S.object,S.why],n,e),s.a.info(r+" From first: "+_.length+": "+a(_)),f=_.length,p=0;p<f;p++)if(b=[],w=_[p][0],v(w,t.constraints)){for(y in w)w.hasOwnProperty(y)&&(b[y]=w[y]);for(y in n)n.hasOwnProperty(y)&&(b[y]=n[y]);u.count++,A++,g(e,T,b,r+"  ",o,l,u)}else s.a.debug("Branch count CS: "+u.count);u.count--,0===A&&s.a.debug("Match2 fails completely on "+x),s.a.debug("Match2 ends, Branch count: "+u.count+" for "+u.pattern_debug),0===u.count&&(s.a.debug("Branch finished."),u.reportDone())},b=this;s.a.debug("Query on "+this.statements.length);var w=new p(t,r);w.count++,e.sync?g(b,e.pat,e.pat.initBindings,"",n,t,w):setTimeout((function(){g(b,e.pat,e.pat.initBindings,"",n,t,w)}),0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return k}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(23),y=n(2),b=n(53);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var x=function(e){u()(n,e);var t=w(n);function n(){var e;return i()(this,n),e=t.call(this,""),g()(l()(e),"value",""),g()(l()(e),"termType",y.c),g()(l()(e),"uri",b.a),e}return o()(n,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}]),n}(v.a);function k(e){return!!e&&e.termType===y.c}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";const r=n(46),i=n(48),{isArray:a,isObject:o,isString:s,isUndefined:l}=n(42),{isAbsolute:c,isRelative:u,prependBase:d}=n(56),{asArray:p,compareShortestLeast:f}=n(46),h=new Map,m=/^@[a-zA-Z]+$/,g={};function v(e,t,n,r,i,a){if(null===t||!s(t)||g.isKeyword(t))return t;if(t.match(m))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&g.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:a}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(o(n)&&"@id"in n)return n["@id"]}const l=t.indexOf(":");if(l>0){const n=t.substr(0,l),o=t.substr(l+1);if("_"===n||0===o.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&g.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:i,options:a});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+o;if(c(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return d(d(a.base,e["@base"]),t)}else if(n.base)return d(a.base,t);return t}e.exports=g,g.process=async({activeCtx:e,localCtx:t,options:n,propagate:l=!0,overrideProtected:f=!1,cycles:h=new Set})=>{o(t)&&"@context"in t&&a(t["@context"])&&(t=t["@context"]);if(0===p(t).length)return e;const m=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});o(m[0].document)&&"boolean"==typeof m[0].document["@propagate"]&&(l=m[0].document["@propagate"]);let y=e;l||y.previousContext||(y=y.clone(),y.previousContext=e);for(const a of m){let{document:l}=a;if(e=y,null===l){if(!f&&0!==Object.keys(e.protected).length){const o=n&&n.protectedMode||"error";if("error"===o)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===o){console.warn("WARNING: invalid context nullification");const t=a.getProcessed(e);if(t){y=e=t;continue}const i=e;y=e=g.getInitialContext(n).clone();for(const[t,n]of Object.entries(i.protected))n&&(e.mappings[t]=r.clone(i.mappings[t]));e.protected=r.clone(i.protected),a.setProcessed(i,y);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:o})}y=e=g.getInitialContext(n).clone();continue}const p=a.getProcessed(e);if(p){y=e=p;continue}if(o(l)&&"@context"in l&&(l=l["@context"]),!o(l))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:l});y=y.clone();const m=new Map;if("@version"in l){if(1.1!==l["@version"])throw new i("Unsupported JSON-LD version: "+l["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:l});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+l["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:l});y.processingMode="json-ld-1.1",y["@version"]=l["@version"],m.set("@version",!0)}if(y.processingMode=y.processingMode||e.processingMode,"@base"in l){let e=l["@base"];if(null===e||c(e));else{if(!u(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:l});e=d(y["@base"],e)}y["@base"]=e,m.set("@base",!0)}if("@vocab"in l){const e=l["@vocab"];if(null===e)delete y["@vocab"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});if(!c(e)&&g.processingMode(y,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});y["@vocab"]=v(y,e,{vocab:!0,base:!0},void 0,void 0,n)}m.set("@vocab",!0)}if("@language"in l){const e=l["@language"];if(null===e)delete y["@language"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:l});y["@language"]=e.toLowerCase()}m.set("@language",!0)}if("@direction"in l){const t=l["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:l});if(null===t)delete y["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:l});y["@direction"]=t}m.set("@direction",!0)}if("@propagate"in l){const n=l["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if("boolean"!=typeof n)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});m.set("@propagate",!0)}if("@import"in l){const r=l["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if(!s(r))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const a=await n.contextResolver.resolve({activeCtx:e,context:r,documentLoader:n.documentLoader,base:n.base});if(1!==a.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const o=a[0].getProcessed(e);if(o)l=o;else{const n=a[0].document;if("@import"in n)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)l.hasOwnProperty(e)||(l[e]=n[e]);a[0].setProcessed(e,l)}m.set("@import",!0)}m.set("@protected",l["@protected"]||!1);for(const e in l)if(g.createTermDefinition({activeCtx:y,localCtx:l,term:e,defined:m,options:n,overrideProtected:f}),o(l[e])&&"@context"in l[e]){const t=l[e]["@context"];let r=!0;if(s(t)){const e=d(n.base,t);h.has(e)?r=!1:h.add(e)}if(r)try{await g.process({activeCtx:y.clone(),localCtx:l[e]["@context"],overrideProtected:!0,options:n,cycles:h})}catch(t){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:l[e]["@context"],term:e})}}a.setProcessed(e,y)}return y},g.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:l,overrideProtected:u=!1})=>{if(r.has(n)){if(r.get(n))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let d;if(r.set(n,!1),t.hasOwnProperty(n)&&(d=t[n]),"@type"===n&&o(d)&&"@set"===(d["@container"]||"@set")&&g.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(d);if(0===r.length||r.some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(g.isKeyword(n))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(m))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const p=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let f=!1;if((s(d)||null===d)&&(f=!0,d={"@id":d}),!o(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const h={};e.mappings.set(n,h),h.reverse=!1;const y=["@container","@id","@language","@reverse","@type"];g.processingMode(e,1.1)&&y.push("@context","@direction","@index","@nest","@prefix","@protected");for(const e in d)if(!y.includes(e))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const b=n.indexOf(":");if(h._termHasColon=b>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const a=d["@reverse"];if(!s(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!g.isKeyword(a)&&a.match(m))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:a}),void(p?e.mappings.set(n,p):e.mappings.delete(n));const o=v(e,a,{vocab:!0,base:!1},t,r,l);if(!c(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=o,h.reverse=!0}else if("@id"in d){let a=d["@id"];if(a&&!s(a))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===a)h["@id"]=null;else{if(!g.isKeyword(a)&&a.match(m))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:a}),void(p?e.mappings.set(n,p):e.mappings.delete(n));if(a!==n){if(a=v(e,a,{vocab:!0,base:!1},t,r,l),!c(a)&&!g.isKeyword(a))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){if(v(e,n,{vocab:!0,base:!1},t,new Map(r).set(n,!0),l)!==a)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}h["@id"]=a,h._prefix=f&&!h._termHasColon&&a.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in h))if(h._termHasColon){const i=n.substr(0,b);if(t.hasOwnProperty(i)&&g.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:r,options:l}),e.mappings.has(i)){const t=n.substr(b+1);h["@id"]=e.mappings.get(i)["@id"]+t}else h["@id"]=n}else if("@type"===n)h["@id"]=n;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});h["@id"]=e["@vocab"]+n}if((!0===d["@protected"]||!0===r.get("@protected")&&!1!==d["@protected"])&&(e.protected[n]=!0,h.protected=!0),r.set(n,!0),"@type"in d){let n=d["@type"];if(!s(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(g.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=v(e,n,{vocab:!0,base:!1},t,r,l),!c(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=n}if("@container"in d){const n=s(d["@container"])?[d["@container"]]:d["@container"]||[],r=["@list","@set","@index","@language"];let o=!0;const l=n.includes("@set");if(g.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else o&=n.length<=(l?2:1);if(n.includes("@type")&&(h["@type"]=h["@type"]||"@id",!["@id","@vocab"].includes(h["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else o&=!a(d["@container"]),o&=n.length<=1;if(o&=n.every(e=>r.includes(e)),o&=!(l&&n.includes("@list")),!o)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=n}if("@index"in d){if(!("@container"in d)||!h["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});h["@index"]=d["@index"]}if("@context"in d&&(h["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in d){if(n.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(g.isKeyword(h["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof d["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});h._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});h["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}
// disallow aliasing @context and @preserve
const w=h["@id"];if("@context"===w||"@preserve"===w)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(p&&p.protected&&!u&&(e.protected[n]=!0,h.protected=!0,!function e(t,n){if(!t||"object"!=typeof t||!n||"object"!=typeof n)return t===n;const r=Array.isArray(t);if(r!==Array.isArray(n))return!1;if(r){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(!e(t[r],n[r]))return!1;return!0}const i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(const r in t){let i=t[r],a=n[r];if("@container"===r&&Array.isArray(i)&&Array.isArray(a)&&(i=i.slice().sort(),a=a.slice().sort()),!e(i,a))return!1}return!0}(p,h))){const e=l&&l.protectedMode||"error";if("error"===e)throw new i(`Invalid JSON-LD syntax; tried to redefine "${n}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:n});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},g.expandIri=(e,t,n,r)=>v(e,t,n,void 0,void 0,r),g.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=h.get(t);if(n)return n;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},i=(e["@language"]||"@none").toLowerCase(),s=e["@direction"],l=e.mappings,c=[...l.keys()].sort(f);for(const e of c){const a=l.get(e);if(null===a)continue;let c=a["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===a["@id"])continue;const u=p(a["@id"]);for(const l of u){let u=t[l];const d=g.isKeyword(l);if(u)d||a._termHasColon||r[l].push(e);else if(t[l]=u={},!d&&!a._termHasColon){r[l]=[e];const t={iri:l,terms:r[l]};l[0]in n?n[l[0]].push(t):n[l[0]]=[t]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],o(e,u["@any"],"@none"),a.reverse)o(e,u["@type"],"@reverse");else if("@none"===a["@type"])o(e,u["@any"],"@none"),o(e,u["@language"],"@none"),o(e,u["@type"],"@none");else if("@type"in a)o(e,u["@type"],a["@type"]);else if("@language"in a&&"@direction"in a){const t=a["@language"],n=a["@direction"];o(e,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?"_"+n:"@null")}else"@language"in a?o(e,u["@language"],(a["@language"]||"@null").toLowerCase()):"@direction"in a?a["@direction"]?o(e,u["@language"],"_"+a["@direction"]):o(e,u["@language"],"@none"):s?(o(e,u["@language"],"_"+s),o(e,u["@language"],"@none"),o(e,u["@type"],"@none")):(o(e,u["@language"],i),o(e,u["@language"],"@none"),o(e,u["@type"],"@none"))}}for(const e in n)a(n,e,1);return t},clone:function(){const e={};e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===h.size&&h.clear(),h.set(t,i),i;function a(e,t,n){const r=e[t],i=e[t]={};let o,s;for(const e of r)o=e.iri,s=n>=o.length?"":o[n],s in i?i[s].push(e):i[s]=[e];for(const e in i)""!==e&&a(i,e,n+1)}function o(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},g.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(l(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},g.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,g.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return X}));var r=n(15),i=n.n(r),a=n(9),o=n.n(a),s=n(21),l=n.n(s),c=n(26),u=n.n(c),d=n(13),p=n.n(d),f=n(7),h=n.n(f),m=n(1),g=n.n(m),v=n(10),y=n.n(v),b=n(47),w=n(4),x=n(61),k=n(14),C=n(25),E=n(83),T=n(62),_=n(75),S=n(11),O=n(12),A=n(17),j=n(76),P=n(88),I=n.n(P),N=n(2),L=n(43),R=n(100);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var D={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},F={rdf:N.o,owl:N.o,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},B=function(e){return{link:Object(C.a)("http://www.w3.org/2007/ont/link#",e),http:Object(C.a)("http://www.w3.org/2007/ont/http#",e),httph:Object(C.a)("http://www.w3.org/2007/ont/httph#",e),rdf:Object(C.a)("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:Object(C.a)("http://www.w3.org/2000/01/rdf-schema#",e),dc:Object(C.a)("http://purl.org/dc/elements/1.1/",e),ldp:Object(C.a)("http://www.w3.org/ns/ldp#",e)}},U=B(),z=function e(t,n){h()(this,e),g()(this,"response",void 0),g()(this,"dom",void 0),this.response=t,this.dom=n};g()(z,"pattern",void 0);var q=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n){var r=e.store;if(this.dom||(this.dom=A.parseXML(t)),"parsererror"===this.dom.documentElement.nodeName)return e.failFetch(n,"Badly formed XML in "+n.resource.value,"parse_error");var i=new _.a(r);try{i.parse(this.dom,n.original.value,n.original)}catch(t){return e.failFetch(n,"Syntax error parsing RDF/XML! "+t,"parse_error")}return n.noMeta||r.add(n.original,U.rdf("type"),U.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(e){e.mediatypes[N.o]={q:.9}}}]),n}(z);q.pattern=new RegExp("application/rdf\\+xml");var H=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n){var r,i;this.dom||(this.dom=A.parseXML(t));var a=e.store,o=this.dom.getElementsByTagName("title");o.length>0&&a.add(n.resource,U.dc("title"),a.rdfFactory.literal(o[0].textContent),n.resource);for(var s=this.dom.getElementsByTagName("link"),l=s.length-1;l>=0;l--)i=!1,(r=s[l].getAttribute("rel"))||(r=s[l].getAttribute("rev"),i=!0),r&&e.linkData(n.original,r,s[l].getAttribute("href"),n.resource,i);for(var c=this.dom.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u].getAttribute("type");D[d]&&(Object(E.a)(c[u].textContent,a,n.original.value,d),Object(E.a)(c[u].textContent,a,n.original.value,d))}if(n.noMeta||a.add(n.resource,U.rdf("type"),U.link("WebPage"),e.appNode),!n.noRDFa&&T.b)try{Object(T.b)(this.dom,a,n.original.value)}catch(t){var p="Error trying to parse "+n.resource+" as RDFa:\n"+t+":\n"+t.stack;return e.failFetch(n,p,"parse_error")}return e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(e){e.mediatypes[N.u]={}}}]),n}(z);H.pattern=new RegExp("application/xhtml");var W=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n){for(var r=A.parseXML(t),i=0;i<r.childNodes.length;i++)if(1===r.childNodes[i].nodeType){var a=r.childNodes[i].namespaceURI;if(a&&a===a.rdf)return e.addStatus(n.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new q(this.response,r).parse(e,t,n);break}if(r.doctype&&("html"===r.doctype.name&&r.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&r.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)))return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new H(this.response,r).parse(e,t,n);var o=r.getElementsByTagName("html")[0];if(o){var s=o.getAttribute("xmlns");if(s&&s.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return e.addStatus(n.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new H(this.response,r).parse(e,t,n)}return e.failFetch(n,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}}]),n}(z);W.pattern=new RegExp("(text|application)/(.*)xml");var G=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n){var r=e.store;if(K(t))return e.addStatus(n.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new H(this.response).parse(e,t,n);if(function(e){var t=e.indexOf("<!DOCTYPE html"),n=e.indexOf(">");if(-1===t||-1===n||t>n)return!1;return-1!==e.substr(t,n-t).indexOf("XHTML")}(t))return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new H(this.response).parse(e,t,n);if(function(e){return!!e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}(t))return e.addStatus(n.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new H(this.response).parse(e,t,n);var i=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return i&&r.add(n.resource,U.dc("title"),r.rdfFactory.literal(i[1]),n.resource),r.add(n.resource,U.rdf("type"),U.link("WebPage"),e.appNode),e.addStatus(n.req,"non-XML HTML document, not parsed for data."),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/html"]={q:.9}}}]),n}(z);G.pattern=new RegExp("text/html");var V=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n,r){var i=e.store;return new Promise((function(a,o){try{Object(R.a)(t,i,n.original.value,a)}catch(t){var s="Error trying to parse "+n.resource+" as JSON-LD:\n"+t;a(e.failFetch(n,s,"parse_error",r))}}))}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(e){e.mediatypes["application/ld+json"]={q:.9}}}]),n}(z);V.pattern=/application\/ld\+json/;var $=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n){return K(t)?(e.addStatus(n.req,"Warning: "+n.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new W(this.response).parse(e,t,n)):t.slice(0,500).match(/xmlns:/)?(e.addStatus(n.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new W(this.response).parse(e,t,n)):(e.addStatus(n.req,"Plain text document, no known RDF semantics."),e.doneFetch(n,this.response))}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(e){e.mediatypes["text/plain"]={q:.5}}}]),n}(z);$.pattern=new RegExp("text/plain");var Q=function(e){l()(n,e);var t=M(n);function n(){return h()(this,n),t.apply(this,arguments)}return o()(n,[{key:"parse",value:function(e,t,n,r){var i=e.store,a=Object(x.a)(i,i,n.original.value,n.original.value,null,null,"",null);try{a.loadBuf(t)}catch(t){var o="Error trying to parse "+n.resource+" as Notation3:\n"+t;return e.failFetch(n,o,"parse_error",r)}return e.addStatus(n.req,"N3 parsed: "+a.statementCount+" triples in "+a.lines+" lines."),e.store.add(n.original,U.rdf("type"),U.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}}]),n}(z);Q.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var J={RDFXMLHandler:q,XHTMLHandler:H,XMLHandler:W,HTMLHandler:G,TextHandler:$,N3Handler:Q,JsonLdHandler:V};function K(e){return!!e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}var X=function(){function t(n){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(h()(this,t),g()(this,"store",void 0),g()(this,"timeout",void 0),g()(this,"_fetch",void 0),g()(this,"mediatypes",void 0),g()(this,"appNode",void 0),g()(this,"requested",void 0),g()(this,"timeouts",void 0),g()(this,"redirectedTo",void 0),g()(this,"fetchQueue",void 0),g()(this,"fetchCallbacks",void 0),g()(this,"nonexistent",void 0),g()(this,"lookedUp",void 0),g()(this,"handlers",void 0),g()(this,"ns",void 0),g()(this,"fireCallbacks",void 0),this.store=n||new b.a,this.ns=B(this.store.rdfFactory),this.timeout=i.timeout||3e4,this._fetch=i.fetch||void 0!==e&&e.solidFetcher||"undefined"!=typeof window&&window.solidFetcher||I.a,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.rdfFactory.blankNode(),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},A.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(i.handlers||J).map((function(e){return r.addHandler(J[e])}))}var n;return o()(t,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=Object.assign({},n),e instanceof Array)return Promise.all(e.map((function(e){return t.load(e,Object.assign({},n))})));var r=e,i=Object(L.a)(r);i=i.split("#")[0],n=this.initFetchOptions(i,n);var a=this.initFetchOptions(i,n);return this.pendingFetchPromise(i,a.baseURI,a)}},{key:"pendingFetchPromise",value:function(e,t,n){var r,i=this;return!n.force&&this.fetchQueue[t]?r=this.fetchQueue[t]:(r=Promise.race([this.setRequestTimeout(e,n),this.fetchUri(e,n)]),this.fetchQueue[t]=r,this.cleanupFetchRequest(t,void 0,this.timeout)),r.then((function(t){return e in i.timeouts&&(i.timeouts[e].forEach(clearTimeout),delete i.timeouts[e]),t}))}},{key:"cleanupFetchRequest",value:function(e,t,n){var r=this;void 0!==t&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout((function(){r.isPending(e)||delete r.fetchQueue[e]}),n))}},{key:"initFetchOptions",value:function(e,n){var r=this.store;!n.method||"GET"===n.method.toUpperCase()||(n.force=!0),n.resource=r.rdfFactory.namedNode(e),n.baseURI=n.baseURI||e,n.original=r.rdfFactory.namedNode(n.baseURI),n.req=r.bnode(),n.headers=n.headers||new P.Headers,n.contentType&&(n.headers["content-type"]=n.contentType),n.force&&(n.cache="no-cache");var i=this.acceptString();n.headers.accept=i;var a=t.offlineOverride(e);n.requestedURI=a,t.setCredentials(a,n);var o=t.proxyIfNecessary(a);return a!==o&&(n.proxyUsed=!0),n.actualProxyURI=o,n}},{key:"fetchUri",value:function(e,n){var r=this;if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(t.unsupportedProtocol(e))return this.failFetch(n,"fetcher: Unsupported protocol","unsupported_protocol");var i=this.getState(e);if(n.force)delete this.nonexistent[e];else{if("fetched"===i)return Promise.resolve(this.doneFetch(n,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===i&&404===this.requested[e]){var a="Previously failed: "+this.requested[e],o={url:e,status:this.requested[e],statusText:a,responseText:a,headers:new P.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(n,a,this.requested[e],o)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,n.noMeta||this.saveRequestMetadata(e,n);var s=n.actualProxyURI;return this._fetch(s,n).then((function(t){return r.handleResponse(t,e,n)}),(function(t){var i={url:s,status:999,statusText:(t.name||"network failure")+": "+(t.errno||t.code||t.type),responseText:t.message,headers:new P.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return console.log("Fetcher: <"+s+"> Non-HTTP fetch exception: "+t),r.handleError(i,e,n)}))}},{key:"nowOrWhenFetched",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Object(L.a)(e);"function"==typeof t?n=t:void 0===t||(Object(O.e)(t)?r.referringTerm=t:r=t),this.load(i,r).then((function(e){if(n)if(e)if(e.ok)n(!0,"OK",e);else{var t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),console.log(t+" fetching "+i),n(!1,t,e)}else{var r="@@ nowOrWhenFetched:  no response object!";console.log(r),n(!1,r)}}),(function(e){var t=e.message||e.statusText;t="Failed to load  <"+i+"> "+t,console.log(t),e.response&&e.response.status&&(t+=" status: "+e.response.status),n(!1,t,e.response)}))}},{key:"addStatus",value:function(e,t){var n=new Date;t="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+t;var r=this.store,i=r.the(e,this.ns.link("status"));Object(O.b)(i)?i.append(r.rdfFactory.literal(t)):w.a.warn("web.js: No list to add to: "+i+","+t)}},{key:"failFetch",value:function(e,t,n,r){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));var i=(e.method||"GET").toUpperCase();("GET"===i||"HEAD"===i)&&(e.resource.equals(e.original),this.requested[S.docpart(e.original.value)]=n,this.fireCallbacks("fail",[e.original.value,t]));var a=new Error("Fetcher: "+t);return a.status=n,a.statusText=t,a.response=r,Promise.reject(a)}},{key:"linkData",value:function(e,t,n,r,i){if(n){var a,o=this.store,s=o.rdfFactory.namedNode(S.join(n,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(s.value===e.value)return;a=this.ns.rdfs("seeAlso")}else a="type"===t?o.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):o.rdfFactory.namedNode(S.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));i?o.add(s,a,e,r):o.add(e,a,s,r)}}},{key:"parseLinkHeader",value:function(e,t,n){if(e){var r=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,i=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=i)for(var a=0;a<i.length;a++){var o=i[a].split(">"),s=o[0].substring(1),l=o[1].match(r);if(null==l)return;for(var c=0;c<l.length;c++){var u=l[c].split("=")[1].replace(/["']/g,"");this.linkData(t,u,s,n)}}}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}},{key:"putBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(L.a)(e),r=new k.a(n).doc();return t.contentType=t.contentType||N.r,t.data=Object(j.a)(r,this.store,r.value,t.contentType),this.webOperation("PUT",n,t)}},{key:"webCopy",value:function(e,t,n){var r=this;return this.webOperation("GET",e).then((function(e){return r.webOperation("PUT",t,{data:e.responseText,contentType:n})}))}},{key:"delete",value:function(e,t){var n=this;return this.webOperation("DELETE",e,t).then((function(t){return n.requested[e]=404,n.nonexistent[e]=!0,n.unload(n.store.rdfFactory.namedNode(e)),t}))}},{key:"createIfNotExists",value:(n=i()(y.a.mark((function e(t){var n,r,i,a,o=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:N.r,r=o.length>2&&void 0!==o[2]?o[2]:"",i=this,e.prev=3,e.next=6,i.load(t);case 6:a=e.sent,e.next=29;break;case 9:if(e.prev=9,e.t0=e.catch(3),404!==e.t0.response.status){e.next=27;break}return console.log("createIfNotExists: doc does NOT exist, will create... "+t),e.prev=13,e.next=16,i.webOperation("PUT",t.value,{data:r,contentType:n});case 16:a=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t1=e.catch(13),console.log("createIfNotExists doc FAILED: "+t+": "+e.t1),e.t1;case 23:return delete i.requested[t.value],e.abrupt("return",a);case 27:throw console.log("createIfNotExists doc load error NOT 404:  "+t+": "+e.t0),e.t0;case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e,this,[[3,9],[13,19]])}))),function(e){return n.apply(this,arguments)})},{key:"createContainer",value:function(e,t,n){var r={"content-type":N.r,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(r.slug=t);var i={headers:r};return n&&(i.body=n),this.webOperation("POST",e,i)}},{key:"invalidateCache",value:function(e){var t=Object(L.a)(e);this.fetchQueue&&this.fetchQueue[t]&&(console.log("Internal error - fetchQueue exists "+t),"resolved"===this.fetchQueue[t].PromiseStatus?delete this.fetchQueue[t]:(delete this.fetchQueue[t],console.log("*** Fetcher: pending fetchQueue deleted "+t)));if(this.requested[t]&&"done"!==this.requested[t]&&"failed"!==this.requested[t]&&404!==this.requested[t]){var n="Rdflib: fetcher: Destructive operation on <".concat(this.requested[t],"> file being fetched! ")+t;console.error(n)}else delete this.requested[t],delete this.nonexistent[t]}},{key:"webOperation",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object(L.a)(n);r.method=e,r.body=r.data||r.body,r.force=!0;var a=this;if(r.body&&!r.contentType)throw new Error("Web operation sending data must have a defined contentType.");return r.contentType&&(r.headers=r.headers||{},r.headers["content-type"]=r.contentType),t.setCredentials(i,r),new Promise((function(t,n){a._fetch(i,r).then((function(r){if(r.ok)"PUT"!==e&&"PATCH"!==e&&"POST"!==e&&"DELETE"!==e||a.invalidateCache(i),r.body?r.text().then((function(e){r.responseText=e,t(r)})):t(r);else{var o="Web error: "+r.status;r.statusText&&(o+=" ("+r.statusText+")"),o+=" on "+e+" of <"+i+">",r.responseText&&(o+=": "+r.responseText);var s=new Error(o);s.response=r,n(s)}}),(function(t){n(new Error("Fetch error for "+e+" of <"+i+">:"+t))}))}))}},{key:"lookUpThing",value:function(e,t){var n=this,r=this.store.uris(e);return(r=r.map((function(e){return S.docpart(e)}))).forEach((function(e){n.lookedUp[e]=!0})),this.load(r,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var n=this.store,r=e.value,i=n.each(void 0,this.ns.link("requestedURI"),n.rdfFactory.literal(r)),a=0;a<i.length;a++){var o=i[a];if(void 0!==o){var s=n.any(o,this.ns.link("response"));if(void 0!==s&&n.anyValue(s,this.ns.http("status"))&&n.anyValue(s,this.ns.http("status")).startsWith("2")){var l=n.each(s,this.ns.httph(t.toLowerCase()));return l.length?l.map((function(e){return e.value})):[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var n=t.req,r=this.store,i=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),Object(O.e)(i)&&r.add(r.rdfFactory.namedNode(e),this.ns.link("requestedBy"),i,this.appNode),t.original&&t.original.value!==e&&r.add(n,this.ns.link("orginalURI"),r.rdfFactory.literal(t.original.value),this.appNode);var a=new Date,o="["+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"] ";r.add(n,this.ns.rdfs("label"),r.rdfFactory.literal(o+" Request for "+e),this.appNode),r.add(n,this.ns.link("requestedURI"),r.rdfFactory.literal(e),this.appNode),r.add(n,this.ns.link("status"),r.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var n=this,r=this.store,i=r.bnode();return r.add(t.req,this.ns.link("response"),i,i),r.add(i,this.ns.http("status"),r.rdfFactory.literal(e.status),i),r.add(i,this.ns.http("statusText"),r.rdfFactory.literal(e.statusText),i),e.headers.forEach((function(e,a){r.add(i,n.ns.httph(a),n.store.rdfFactory.literal(e),i),"content-type"===a&&r.add(t.resource,n.ns.rdf("type"),r.rdfFactory.namedNode(A.mediaTypeClass(e).value),i)})),i}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if(void 0!==t)for(var n=0;n<t.length;n++)this.refresh(this.store.rdfFactory.namedNode(S.docpart(t[n])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"refreshIfExpired",value:function(e,t){var n=this.getHeader(e,"Expires");!n||new Date(n[0]).getTime()<=(new Date).getTime()?this.refresh(e,t):t(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[S.docpart(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return void 0===this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){console.log("Fetcher: CORS: RETRYING with NO CREDENTIALS for "+t.resource),t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var n=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,n)}},{key:"isCrossSite",value:function(e){if("undefined"==typeof document||!document.location)return!1;var t=S.hostpart,n=""+document.location;return(t(n)&&t(e)&&t(n))!==t(e)}},{key:"handleError",value:function(e,n,r){if(this.isCrossSite(n)){if(r.credentials&&"include"===r.credentials&&!r.retriedWithNoCredentials)return this.retryNoCredentials(n,r);var i=t.crossSiteProxy(n);if(i&&!r.proxyUsed)return console.log("web: Direct failed so trying proxy "+i),this.redirectToProxy(i,r)}var a;return e instanceof Error?a="Fetch error: "+e.message:(a=e.statusText,e.responseText&&(a+=" ".concat(e.responseText))),this.failFetch(r,a,e.status||998,e)}},{key:"addType",value:function(e,t,n,r){var i=t;if(r){var a=n.any(i,this.ns.link("requestedURI"));a&&a.value!==r&&n.add(n.rdfFactory.namedNode(r),this.ns.rdf("type"),e,this.appNode)}for(;;){var o=n.any(i,this.ns.link("requestedURI"));if(o&&o.value&&n.add(n.rdfFactory.namedNode(o.value),this.ns.rdf("type"),e,this.appNode),!(i=n.any(void 0,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),i)))break;var s=n.any(i,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!s)break;var l=n.any(s,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!l)break;if("301"!==l&&"302"!==l)break}}},{key:"handleResponse",value:function(e,t,n){var r=this,i=this.store,a=e.headers,o=n.req,s=this.saveResponseMetadata(e,n),l=this.normalizedContentType(n,a)||"",c=a.get("content-location");if(0===e.status)return console.log("Masked error - status 0 for "+t),this.handleError(e,t,n);if(e.status>=400)return 404===e.status&&(this.nonexistent[n.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,s).then((function(){var t=n.resource+" "+e.statusText;return r.failFetch(n,t,e.status,e)}));var u=null,d=null;if(c&&(d=S.join(c,t))!==t&&(u=d),200===e.status){this.addType(this.ns.link("Document"),o,i,t),u&&this.addType(this.ns.link("Document"),o,i,u),n.clearPreviousData&&i.removeDocument(n.resource);var p=l.includes("image/")||l.includes("application/pdf");l&&p&&(this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,i,t),u&&this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,i,u))}if(c){if(!n.force&&u&&"done"===this.requested[d])return this.doneFetch(n,e);this.requested[d]=!0}this.parseLinkHeader(a.get("link"),n.original,o);var f=this.handlerForContentType(l,e);return f?e.text().then((function(t){return e.responseText=t,f.parse(r,t,n,e)})):(this.addStatus(o,"Fetch over. No data handled."),this.doneFetch(n,e))}},{key:"saveErrorResponse",value:function(e,t){var n=this,r=this.store;return e.text().then((function(e){e.length>10&&r.add(t,n.ns.http("content"),r.rdfFactory.literal(e),t)}))}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var n=this.handlers.find((function(t){return e.match(t.pattern)}));return n?new n(t):null}},{key:"guessContentType",value:function(e){return F[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var n=t.get("content-type");if(!n||n.includes("application/octet-stream")){var r=this.guessContentType(e.resource.value);if(r)return r}var i=S.protocol(e.resource.value);return!n&&["file","chrome"].includes(i)?"text/xml":n}},{key:"redirectToProxy",value:function(e,t){var n=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var r=this.store,i=t.req;t.noMeta||(r.add(i,this.ns.link("redirectedTo"),r.rdfFactory.namedNode(e),i),this.addStatus(i,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;var a=Object.assign({},t);return a.baseURI=t.resource.value,this.fetchUri(e,a).then((function(e){return a.noMeta||r.add(i,n.ns.link("redirectedRequest"),a.req,n.appNode),e}))}},{key:"setRequestTimeout",value:function(e,t){var n=this;return new Promise((function(r){n.timeouts[e]=(n.timeouts[e]||[]).concat(setTimeout((function(){!n.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||r(n.failFetch(t,"Request to ".concat(e," timed out"),"timeout"))}),n.timeout))}))}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes)for(var n in""!==e&&(e+=", "),e+=t,this.mediatypes[t])e+=";"+n+"="+this.mediatypes[t][n];return e}}],[{key:"crossSiteProxy",value:function(e){return t.crossSiteProxyTemplate?t.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):void 0}},{key:"offlineOverride",value:function(e){var t,n=e;return"undefined"!=typeof window&&window.panes&&(t=window.panes.UI)&&t.preferences&&t.preferences.get("offlineModeUsingLocalhost")&&"http://"===n.slice(0,7)&&"localhost/"!==n.slice(7,17)&&(n="http://localhost/"+n.slice(7),w.a.warn("Localhost kludge for offline use: actually getting <"+n+">")),n}},{key:"proxyIfNecessary",value:function(e){var n;if("undefined"!=typeof window&&window.panes&&(n=window.panes.UI)&&n.isExtension)return e;if("undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var r=function e(t,n){var r=n[t.shift()];return r?"string"==typeof r?r+t.join("/"):t?e(t,r):null:null}(e.split("/").slice(2),$SolidTestEnvironment.localSiteMap);if(r)return r}return t.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?t.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}},{key:"unsupportedProtocol",value:function(e){var t=S.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}},{key:"setCredentials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}}]),t}();g()(X,"HANDLERS",void 0),g()(X,"CONTENT_TYPE_BY_EXT",void 0),g()(X,"crossSiteProxyTemplate",void 0),X.HANDLERS=J,X.CONTENT_TYPE_BY_EXT=F}).call(this,n(65))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getOutliner=p,Object.defineProperty(t,"versionInfo",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"OutlineManager",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"list",{enumerable:!0,get:function(){return l.list}}),Object.defineProperty(t,"paneForIcon",{enumerable:!0,get:function(){return l.paneForIcon}}),Object.defineProperty(t,"paneForPredicate",{enumerable:!0,get:function(){return l.paneForPredicate}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return l.register}}),Object.defineProperty(t,"byName",{enumerable:!0,get:function(){return l.byName}}),t.UI=void 0;var i=d(n(175)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(0));t.UI=a;var o=d(n(253)),s=d(n(261)),l=n(120),c=n(411);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(!e.outlineManager){var t=(0,c.createContext)(e,{list:l.list,paneForIcon:l.paneForIcon,paneForPredicate:l.paneForPredicate,register:l.register,byName:l.byName},a.store,a.solidLogicSingleton);e.outlineManager=new o.default(t)}return e.outlineManager}"undefined"!=typeof window&&p(window.document),(0,s.default)((function(e){return(0,l.register)(e.default||e)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(37);n(102);const{rdf:i,xsd:a}=r.a;let o,s=0;const l={namedNode:function(e){return new u(e)},blankNode:function(e){return new p(e||"n3-"+s++)},variable:function(e){return new f(e)},literal:function(e,t){if("string"==typeof t)return new d(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";""===n&&("boolean"==typeof e?n=a.boolean:"number"==typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?a.integer:a.double:(n=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===n||n===a.string?new d(`"${e}"`):new d(`"${e}"^^${n}`)},defaultGraph:function(){return o},quad:m,triple:m};t.b=l;class c{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}}class u extends c{get termType(){return"NamedNode"}}class d extends c{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new u(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return"^"===n?e.substr(t+2):"@"!==n?a.string:i.langString}equals(e){return e instanceof d?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class p extends c{constructor(e){super("_:"+e)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class f extends c{constructor(e){super("?"+e)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}o=new class extends c{constructor(){return super(""),o||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class h extends c{constructor(e,t,n,r){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=r||o}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function m(e,t,n,r){return new h(e,t,n,r)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessageBlock=function(e,t,n,r){var i=e.createElement("div"),a=r||t instanceof Error?t:null;a?(console.error("errorMessageBlock: ".concat(a," at: ").concat(a.stack||"??"),a),i.textContent=a.message):i.textContent=t;return i.setAttribute("style","margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; background-color: "+(n||"#fee")+"; color:black;"),i}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.findOriginOwner=function(e){var t="string"==typeof e?e:e.uri,n=t.indexOf("://");if(n<0)return!1;var r=t.indexOf("/",n+3);return!(r<0)&&t.slice(0,r+1)},t.saveUser=w,t.defaultTestUser=x,t.currentUser=function(){var e=localStorage["solid-auth-client"];if(e){var t=JSON.parse(e);if(t.session&&t.session.webId)return(0,s.sym)(t.session.webId)}return D()},t.logIn=k,t.logInLoadProfile=C,t.logInLoadPreferences=T,t.loadTypeIndexes=function(e){return A.apply(this,arguments)},t.findAppInstances=L,t.registerInTypeIndex=function(e,t,n,r){return M.apply(this,arguments)},t.registrationControl=function(e,t,n){var r=e.dom;if(!r||!e.div)return Promise.resolve();var i=r.createElement("div");return e.div.appendChild(i),j(e).then((function(){i.innerHTML="<table><tbody><tr></tr><tr></tr></tbody></table>",i.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid gray 0.05em;");var r,a,o=i.children[0].children[0],l=new s.BlankNode,c=function(e){var r=g.solidLogicSingleton.getRegistrations(t,n),i=r.length?r[0]:u.newThing(e);return[(0,s.st)(i,d.solid("instance"),t,e),(0,s.st)(i,d.solid("forClass"),n,e)]};return e.index&&e.index.public&&e.index.public.length>0&&(a=c(r=e.index.public[0]),o.children[0].appendChild(u.buildCheckBoxForm(e.dom,g.solidLogicSingleton.store,"Public link to this ".concat(e.noun),null,a,l,r))),e.index&&e.index.private&&e.index.private.length>0&&(a=c(r=e.index.private[0]),o.children[1].appendChild(u.buildCheckBoxForm(e.dom,g.solidLogicSingleton.store,"Personal note of this ".concat(e.noun),null,a,l,r))),e}),(function(t){var n;e.div&&e.preferencesFileError?(n="(Preferences not available)",e.div.appendChild(r.createElement("p")).textContent=n):e.div&&(n="registrationControl: Type indexes not available: ".concat(t),e.div.appendChild(u.errorMessageBlock(e.dom,t))),h.log(n)})).catch((function(t){var n="registrationControl: Error making panel: ".concat(t);e.div&&e.div.appendChild(u.errorMessageBlock(e.dom,t)),h.log(n)}))},t.registrationList=function(e,t){var n=e.dom,r=e.div,i=n.createElement("div");return r.appendChild(i),j(e).then((function(r){i.innerHTML="<table><tbody></tbody></table>",i.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid #eee 0.5em;");var a=i.firstChild,o=[],s=[];["private","public"].forEach((function(n){e.index&&t[n]&&(o=o.concat(e.index[n][0]),s=s.concat(g.solidLogicSingleton.store.statementsMatching(void 0,d.solid("instance"),void 0,e.index[n][0])))}));for(var l=function(e){var r=s[e];if(t.type&&!g.solidLogicSingleton.store.holds(r.subject,d.solid("forClass"),t.type,r.why))return"continue";var i=r.object;a.appendChild(u.personTR(n,d.solid("instance"),i,{deleteFunction:function(e){if(!g.solidLogicSingleton.store.updater)throw new Error("Cannot delete this, store has no updater");g.solidLogicSingleton.store.updater.update([r],[],(function(e,t,n){t?h.log("Removed from index: ".concat(r.subject)):h.log("Error: Cannot delete ".concat(r,": ").concat(n))}))}}))},c=0;c<s.length;c++)l(c);return e}))},t.setACLUserPublic=function(e,t,n){var r=g.solidLogicSingleton.store.any(g.solidLogicSingleton.store.sym(e),v.ACL_LINK);return Promise.resolve().then((function(){return r||function(e){var t=g.solidLogicSingleton.store.fetcher;if(!t)throw new Error("Cannot fetch ACL rel, store has no fetcher");return t.load(e).then((function(t){if(!t.ok)throw new Error("fetchACLRel: While loading:"+t.error);var n=g.solidLogicSingleton.store.any(g.solidLogicSingleton.store.sym(e),v.ACL_LINK);if(!n)throw new Error("fetchACLRel: No Link rel=ACL header for "+e);return n}))}(e).catch((function(t){throw new Error("Error fetching rel=ACL header for ".concat(e,": ").concat(t))}))})).then((function(r){var i=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.public||[],a=(0,s.graph)(),o=(0,s.Namespace)("http://www.w3.org/ns/auth/acl#"),l=a.sym("".concat(n,"#a1")),c=a.sym(n),u=a.sym(e);a.add(l,d.rdf("type"),o("Authorization"),c),a.add(l,o("accessTo"),u,c),r.defaultForNew&&a.add(l,o("defaultForNew"),u,c);if(a.add(l,o("agent"),t,c),a.add(l,o("mode"),o("Read"),c),a.add(l,o("mode"),o("Write"),c),a.add(l,o("mode"),o("Control"),c),i.length){l=a.sym("".concat(n,"#a2")),a.add(l,d.rdf("type"),o("Authorization"),c),a.add(l,o("accessTo"),u,c),a.add(l,o("agentClass"),d.foaf("Agent"),c);for(var p=0;p<i.length;p++)a.add(l,o("mode"),o(i[p]),c)}return(0,s.serialize)(c,a,n)}(e,t,r.uri,n);if(!g.solidLogicSingleton.store.fetcher)throw new Error("Cannot PUT this, store has no fetcher");return g.solidLogicSingleton.store.fetcher.webOperation("PUT",r.uri,{data:i,contentType:"text/turtle"}).then((function(e){if(!e.ok)throw new Error("Error writing ACL text: "+e.error);return r}))}))},t.offlineTestID=D,t.checkUser=U,t.loginStatusBox=z,t.selectWorkspace=q,t.newAppInstance=function(e,t,n){var r=function(e,t){n(e,t)},i=e.createElement("div"),a=e.createElement("button");return a.setAttribute("type","button"),i.appendChild(a),a.innerHTML="Make new ".concat(t.noun),a.addEventListener("click",(function(n){i.appendChild(q(e,t,r))}),!1),i.appendChild(a),i},t.getUserRoles=H,t.filterAvailablePanes=function(e){return G.apply(this,arguments)},Object.defineProperty(t,"solidAuthClient",{enumerable:!0,get:function(){return l.default}});var a=r(n(10)),o=r(n(15)),s=n(3),l=r(n(138)),c=n(228),u=b(n(28)),d=b(n(16)),p=b(n(27)),f=n(57),h=b(n(24)),m=n(39),g=n(20),v=n(110);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function w(e,t){var n;if(e){n="string"==typeof e?e:e.uri;var r=(0,s.namedNode)(n);return t&&(t.me=r),r}return null}function x(){var e=D();return e||null}function k(e){var t=x();return t?(e.me=t,Promise.resolve(e)):new Promise((function(t){U().then((function(n){if(n)return e.me=(0,s.sym)(n),h.log("logIn: Already logged in as ".concat(e.me)),t(e);if(!e.div||!e.dom)return t(e);var r=z(e.dom,(function(n){w(n,e),t(e)}));e.div.appendChild(r)}))}))}function C(e){return E.apply(this,arguments)}function E(){return(E=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.publicProfile){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,k(t);case 5:if((n=e.sent).me){e.next=8;break}throw new Error("Could not log in");case 8:return e.next=10,g.solidLogicSingleton.loadProfile(n.me);case 10:t.publicProfile=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(2),t.div&&t.dom&&t.div.appendChild(u.errorMessageBlock(t.dom,e.t0.message)),new Error("Can't log in: ".concat(e.t0));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function T(e){return _.apply(this,arguments)}function _(){return(_=(0,o.default)(a.default.mark((function e(t){var n,r,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){e="logInLoadPreferences: ".concat(e),n&&n.appendChild(u.errorMessageBlock(t.dom,e)),h.log(e)},!t.preferencesFile){e.next=3;break}return e.abrupt("return",Promise.resolve(t));case 3:return n=t.statusArea||t.div||null,e.prev=4,e.next=7,C(t);case 7:return t=e.sent,e.next=10,g.solidLogicSingleton.loadPreferences(t.me);case 10:i=e.sent,t.preferencesFile=i,e.next=48;break;case 15:if(e.prev=15,e.t0=e.catch(4),!(e.t0 instanceof v.UnauthorizedError)){e.next=22;break}o="Ooops - you are not authenticated (properly logged in) to for me to read your preference file.  Try loggin out and logging in?",(0,f.alert)(o),e.next=48;break;case 22:if(!(e.t0 instanceof v.CrossOriginForbiddenError)){e.next=28;break}return o="Unauthorized: Assuming preference file blocked for origin ".concat(window.location.origin),t.preferencesFileError=o,e.abrupt("return",t);case 28:if(!(e.t0 instanceof v.SameOriginForbiddenError)){e.next=33;break}o="You are not authorized to read your preference file. This may be because you are using an untrusted web app.",h.warn(o),e.next=48;break;case 33:if(!(e.t0 instanceof v.NotFoundError)){e.next=42;break}if(!confirm("You do not currently have a preference file. OK for me to create an empty one? ".concat(e.t0.preferencesFile||""))){e.next=39;break}(0,f.alert)("Sorry; I am not prepared to do this. Please create an empty file at ".concat(e.t0.preferencesFile||"(?)")),r(new Error("Sorry; no code yet to create a preference file at ")),e.next=40;break;case 39:throw new Error("User declined to create a preference file at ".concat(e.t0.preferencesFile||"(?)"));case 40:e.next=48;break;case 42:if(!(e.t0 instanceof v.FetchError)){e.next=47;break}o="Strange: Error ".concat(e.t0.status," trying to read your preference file.").concat(e.t0.message),(0,f.alert)(o),e.next=48;break;case 47:throw new Error("(via loadPrefs) ".concat(e.t0));case 48:return e.abrupt("return",t);case 49:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function S(e,t){return O.apply(this,arguments)}function O(){return(O=(0,o.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.solidLogicSingleton.loadIndexes(t.me,n&&t.publicProfile||null,n?null:t.preferencesFile||null,function(){var e=(0,o.default)(a.default.mark((function e(n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.complain(t,n.message));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return r=e.sent,t.index=t.index||{},t.index.private=r.private||t.index.private,t.index.public=r.public||t.index.public,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.solidLogicSingleton.loadIndexes(t.me,t.publicProfile||null,t.preferencesFile||null,function(){var e=(0,o.default)(a.default.mark((function e(n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.complain(t,n.message));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return n=e.sent,t.index=t.index||{},t.index.private=n.private||t.index.private,t.index.public=n.public||t.index.public,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return P.apply(this,arguments)}function P(){return(P=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,!0);case 2:return e.next=4,I(t,!1);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return N.apply(this,arguments)}function N(){return(N=(0,o.default)(a.default.mark((function e(t,n){var r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=(0,o.default)(a.default.mark((function e(t,n){var r,i,l,c,p,f,m,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return(c=(0,o.default)(a.default.mark((function e(n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.solidLogicSingleton.createEmptyRdfDoc(n,"Blank initial Type index");case 3:return e.abrupt("return",t);case 6:e.prev=6,e.t0=e.catch(0),r="Error creating new index ".concat(e.t0),u.complain(t,r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)},l=function(e){return c.apply(this,arguments)},r=n?t.publicProfile:t.preferencesFile,i=n?"public":"private",t.index=t.index||{},t.index[i]=t.index[i]||[],0!==t.index[i].length){e.next=29;break}if(p=(0,s.sym)("".concat(r.dir().uri+i,"TypeIndex.ttl")),h.log("Linking to new fresh type index ".concat(p)),confirm("OK to create a new empty index file at ".concat(p,", overwriting anything that is now there?"))){e.next=11;break}throw new Error("cancelled by user");case 11:return h.log("Linking to new fresh type index ".concat(p)),f=[(0,s.st)(t.me,d.solid("".concat(i,"TypeIndex")),p,r)],e.prev=13,e.next=16,g.solidLogicSingleton.updatePromise([],f);case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(13),m="Error saving type index link saving back ".concat(p,": ").concat(e.t0),u.complain(t,m),e.abrupt("return",t);case 23:return h.log("Creating new fresh type index file".concat(p)),e.next=26,l(p);case 26:t.index[i].push(p),e.next=38;break;case 29:return v=t.index[i],e.prev=30,e.next=33,g.solidLogicSingleton.load(v);case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(30),u.complain(t,"ensureOneTypeIndex: loading indexes ".concat(e.t1));case 38:case"end":return e.stop()}}),e,null,[[13,18],[30,35]])})))).apply(this,arguments)},r=function(e,t){return i.apply(this,arguments)},e.prev=2,e.next=5,S(t,n);case 5:return t.index&&h.log("ensureOneTypeIndex: Type index exists already ".concat(n?t.index.public[0]:t.index.private[0])),e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,r(t,n);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function L(e,t,n){return R.apply(this,arguments)}function R(){return(R=(0,o.default)(a.default.mark((function e(t,n,r){var i,o,s,l,c,f,m,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(e){return Array.from(new Set(e))},void 0!==r){e.next=7;break}return e.next=4,L(t,n,!0);case 4:return e.next=6,L(t,n,!1);case 6:return e.abrupt("return",t);case 7:return e.prev=7,e.next=10,r?C(t):T(t);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),u.complain(t,"loadIndex: login and load problem ".concat(e.t0));case 15:return i=r?"public":"private",e.prev=16,e.next=19,S(t,r);case 19:e.next=23;break;case 21:e.prev=21,e.t1=e.catch(16);case 23:if(o=t.index,console.log({index:o,visibility:i}),s=o[i],console.log("Failing test?",s.map((function(e){return g.solidLogicSingleton.store.each(void 0,d.solid("forClass"),n,e)}))),l=s.map((function(e){return g.solidLogicSingleton.store.each(void 0,d.solid("forClass"),n,e)})).flat(),c=l.map((function(e){return g.solidLogicSingleton.store.each(e,d.solid("instance"))})).flat(),f=l.map((function(e){return g.solidLogicSingleton.store.each(e,d.solid("instanceContainer"))})).flat(),t.instances=t.instances||[],t.instances=m(t.instances.concat(c)),t.containers=t.containers||[],t.containers=m(t.containers.concat(f)),f.length){e.next=36;break}return e.abrupt("return",t);case 36:return e.prev=36,e.next=39,g.solidLogicSingleton.load(f);case 39:e.next=46;break;case 41:e.prev=41,e.t2=e.catch(36),v=new Error("[FAI] Unable to load containers".concat(e.t2)),h.log(v),u.complain(t,"Error looking for ".concat(p.label(n),":  ").concat(e.t2));case 46:y=0;case 47:if(!(y<f.length)){e.next=57;break}return b=f[y],e.t3=t.instances,e.next=52,g.solidLogicSingleton.getContainerMembers(b.value);case 52:e.t4=e.sent.map((function(e){return g.solidLogicSingleton.store.sym(e)})),t.instances=e.t3.concat.call(e.t3,e.t4);case 54:y++,e.next=47;break;case 57:return e.abrupt("return",t);case 58:case"end":return e.stop()}}),e,null,[[7,12],[16,21],[36,41]])})))).apply(this,arguments)}function M(){return(M=(0,o.default)(a.default.mark((function e(t,n,r,i){var o,l,c,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,i);case 2:if(t.index){e.next=4;break}throw new Error("registerInTypeIndex: No type index found");case 4:if((o=i?t.index.public:t.index.private).length){e.next=7;break}throw new Error("registerInTypeIndex: What no type index?");case 7:return l=o[0],c=u.newThing(l),p=[(0,s.st)(c,d.rdf("type"),d.solid("TypeRegistration"),l),(0,s.st)(c,d.solid("forClass"),r,l),(0,s.st)(c,d.solid("instance"),n,l)],e.prev=10,e.next=13,g.solidLogicSingleton.updatePromise([],p);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(10),h.log(e.t0),(0,f.alert)(e.t0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[10,15]])})))).apply(this,arguments)}function D(){var e=window.$SolidTestEnvironment;if(void 0!==e&&e.username)return h.log("Assuming the user is "+e.username),(0,s.sym)(e.username);if("undefined"!=typeof document&&document.location&&"http://localhost"===(""+document.location).slice(0,16)){var t=document.getElementById("appTarget");if(!t)return null;var n=t.getAttribute("testID");return n?(h.log("Assuming user is "+n),(0,s.sym)(n)):null}return null}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=n||{}).buttonStyle||"padding: 1em; border-radius:0.5em; margin: 2em; font-size: 100%;",i=e.createElement("div"),a="SolidSignInOrSignUpBox";h.log("widgets.signInOrSignUpBox"),i.setUserCallback=t,i.setAttribute("class",a),i.style="display:flex;";var o=e.createElement("input");i.appendChild(o),o.setAttribute("type","button"),o.setAttribute("value","Log in"),o.setAttribute("style","".concat(r,"background-color: #eef;")),o.addEventListener("click",(function(){var n=D();return n?t(n.uri):l.default.popupLogin().then((function(t){var n=t.webId,r=e.getElementsByClassName(a);h.log("Logged in, ".concat(r.length," panels to be serviced"));for(var i=0;i<r.length;i++){var o=r[i];if(o.setUserCallback)try{o.setUserCallback(n);var s=o.parentNode;s&&s.removeChild(o)}catch(t){h.log("## Error satisfying login box: ".concat(t)),o.appendChild(u.errorMessageBlock(e,t))}}}))}),!1);var s=e.createElement("input");return i.appendChild(s),s.setAttribute("type","button"),s.setAttribute("value","Sign Up for Solid"),s.setAttribute("style","".concat(r,"background-color: #efe;")),s.addEventListener("click",(function(e){(new c.Signup).signup().then((function(e){h.log("signInOrSignUpBox signed up "+e),t(e)}))}),!1),i}function B(e){var t=e?e.webId:null;return t&&w(t),t}function U(e){var t=x();return t?Promise.resolve(e?e(t):t):l.default.currentSession().then(B).catch((function(e){h.log("Error fetching currentSession:",e)})).then((function(t){var n=w(t);return n&&h.log("(Logged in as ".concat(n," by authentication)")),e?e(n):n}))}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=x(),i=e.createElement("div");function a(e){if(e){var n=e.uri||e;r=(0,s.sym)(n),i.refresh(),t&&t(r.uri)}}function o(e){l.default.logout().then((function(){var e="Your WebID was ".concat(r,". It has been forgotten.");r=null;try{(0,f.alert)(e)}catch(t){window.alert(e)}i.refresh(),t&&t(null)}),(function(e){(0,f.alert)("Fail to log out:"+e)}))}function c(t,n){var r=n.buttonStyle||"padding: 1em; border-radius:0.5em; margin: 2em; font-size: 100%;",i="WebID logout";if(t){var a=g.solidLogicSingleton.store.any(t,d.foaf("nick"))||g.solidLogicSingleton.store.any(t,d.foaf("name"));a&&(i="Logout "+a.value)}var s=e.createElement("input");return s.setAttribute("type","button"),s.setAttribute("value",i),s.setAttribute("style","".concat(r,"background-color: #eee;")),s.addEventListener("click",o,!1),s}return i.refresh=function(){l.default.currentSession().then((function(t){((r=t&&t.webId?(0,s.sym)(t.webId):D())&&i.me!==r.uri||!r&&i.me)&&(u.clearElement(i),r?i.appendChild(c(r,n)):i.appendChild(F(e,a,n))),i.me=r?r.uri:null}),(function(e){(0,f.alert)("loginStatusBox: ".concat(e))}))},l.default.trackSession&&l.default.trackSession((function(e){r=e&&e.webId?(0,s.sym)(e.webId):null,i.refresh()})),i.me="99999",i.refresh(),i}function q(e,t,n){var r=t.noun,i=t.appPathSegment,l=x(),c=e.createElement("div"),p={me:l,dom:e,div:c};function f(t){c.appendChild(u.errorMessageBlock(e,t))}function v(e){var t,n=g.solidLogicSingleton.store.any(e,d.space("uriPrefix"));"/"!==(t=n?n.value:e.uri.split("#")[0]).slice(-1)&&(h.log("".concat(i,": No / at end of uriPrefix ").concat(t)),t="".concat(t,"/"));var r=new Date;return t+="".concat(i,"/id").concat(r.getTime(),"/")}return T(p).then((function(t){function i(){return(i=(0,o.default)(a.default.mark((function n(r){var i,o,l,c,p;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=w.appendChild(e.createElement("tr")),(o=i.appendChild(e.createElement("td"))).setAttribute("colspan","3"),o.style.padding="0.5em",n.t0=encodeURI,n.next=7,u.askName(e,g.solidLogicSingleton.store,o,d.solid("URL"),d.space("Workspace"),"Workspace");case 7:if(n.t1=n.sent,l=(0,n.t0)(n.t1),c=u.newThing(t.preferencesFile),p=[(0,s.st)(t.me,d.space("workspace"),c,t.preferencesFile),(0,s.st)(c,d.space("uriPrefix"),l,t.preferencesFile)],g.solidLogicSingleton.store.updater){n.next=13;break}throw new Error("store has no updater");case 13:return n.next=15,g.solidLogicSingleton.store.updater.update([],p);case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var l=t.me,p=t.preferencesFile,h=null,y=g.solidLogicSingleton.store.each(l,d.space("workspace"),void 0,p),b=g.solidLogicSingleton.store.each(l,d.space("storage"));0===y.length&&b&&(f("You don't seem to have any workspaces. You have ".concat(b.length," storage spaces.")),b.map((function(e){return y=y.concat(g.solidLogicSingleton.store.each(e,d.ldp("contains")))})).filter((function(e){return["public","private"].includes(e.id().toLowerCase())}))),1===y.length&&(f("Workspace used: ".concat(y[0].uri)),h=v(y[0]));var w=e.createElement("table");w.setAttribute("style","border-collapse:separate; border-spacing: 0.5em;"),c.appendChild(w),c.appendChild(e.createElement("hr"));var x=c.appendChild(e.createElement("p"));x.style=m.commentStyle,x.textContent="Where would you like to store the data for the ".concat(r,"?\n    Give the URL of the folder where you would like the data stored.\n    It can be anywhere in solid world - this URI is just an idea.");var k=c.appendChild(e.createElement("input"));k.setAttribute("type","text"),k.style=m.textInputStyle,k.size=80,k.label="base URL",k.autocomplete="on",h&&(k.value=h),t.baseField=k,c.appendChild(e.createElement("br"));var C,E,T,_,S,O,A,j=c.appendChild(e.createElement("button"));j.style=m.buttonStyle,j.textContent="Start new ".concat(r," at this URI"),j.addEventListener("click",(function(e){var t=k.value.replace(" ","%20");"/"!==t.slice(-1)&&(t+="/"),n(null,t)})),y=y.filter((function(e){return!g.solidLogicSingleton.store.holds(e,d.rdf("type"),d.space("MasterWorkspace"))}));for(var P,I="height: 3em; margin: 1em; padding: 1em white; border-radius: 0.3em;",N="".concat(I,"border: 0px;"),L=0;L<y.length;L++){if(S=y[L],_=e.createElement("tr"),0===L&&((C=e.createElement("td")).setAttribute("rowspan","".concat(y.length)),C.textContent="Choose a workspace for this:",C.setAttribute("style","vertical-align:middle;"),_.appendChild(C)),E=e.createElement("td"),!(O=g.solidLogicSingleton.store.anyValue(S,d.ui("style")))){var R="#".concat((16777215&(P=S.uri,P.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))|12632256).toString(16));O="color: black ; background-color: ".concat(R,";")}E.setAttribute("style",N+O),_.target=S.uri;var M=g.solidLogicSingleton.store.any(S,d.rdfs("label"));M||(M=S.uri.split("/").slice(-1)[0]||S.uri.split("/").slice(-2)[0]),E.textContent=M||"???",_.appendChild(E),0===L&&((T=e.createElement("td")).setAttribute("rowspan","".concat(y.length,"1")),T.setAttribute("style","width:50%;"),_.appendChild(T)),w.appendChild(_),A=(A=g.solidLogicSingleton.store.any(S,d.rdfs("comment")))?A.value:"Use this workspace",E.addEventListener("click",(function(t){T.textContent=A?A.value:"",T.setAttribute("style",N+O);var r=e.createElement("button");r.textContent="Continue";var i=v(S);k.value=i,r.addEventListener("click",(function(e){r.disabled=!0,n(S,i),r.textContent="----\x3e"}),!0),T.appendChild(r)}),!0)}var D=e.createElement("tr");(E=e.createElement("td")).setAttribute("style",I),E.textContent="+ Make a new workspace",E.addEventListener("click",(function(e){return i.apply(this,arguments)})),D.appendChild(E),w.appendChild(D)})).catch((function(e){c.appendChild(u.errorMessageBlock(p.dom,e))})),c}function H(){return W.apply(this,arguments)}function W(){return(W=(0,o.default)(a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({});case 3:if(t=e.sent,n=t.me,r=t.preferencesFile,i=t.preferencesFileError,r&&!i){e.next=9;break}throw new Error(i);case 9:return e.abrupt("return",g.solidLogicSingleton.store.each(n,d.rdf("type"),null,r.doc()));case 12:e.prev=12,e.t0=e.catch(0),h.warn("Unable to fetch your preferences - this was the error: ",e.t0);case 15:return e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function G(){return(G=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return n=e.sent,e.abrupt("return",t.filter((function(e){return V(e,n)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return(e.audience||[]).reduce((function(e,n){return e&&!!t.find((function(e){return e.equals(n)}))}),!0)}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.lightColorHash=C,t.notepad=function(e,t,n,r,i){var a=(i=i||{}).exists,o=e.createElement("table"),s=x;if(r&&!r.uri)throw new Error("UI.pad.notepad:  Invalid userid");var l=x.updater,c=(0,f.Namespace)("http://www.w3.org/ns/pim/pad#");o.setAttribute("style","padding: 1em; overflow: auto; resize: horizontal; min-width: 40em;");var u=null,d=null;if(i.statusArea){var v=i.statusArea.appendChild(e.createElement("table")).appendChild(e.createElement("tr"));u=v.appendChild(e.createElement("td")),d=v.appendChild(e.createElement("td")),u&&u.setAttribute("style","width:50%"),d&&d.setAttribute("style","width:50%")}var y=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,g.log)(t),i.statusArea&&(n?u:d).appendChild((0,h.errorMessageBlock)(e,t,"pink"))},b=function(e){i.statusArea&&(i.statusArea.innerHTML="")},w=function(e,t,n){var r=e.subject;t=t||"";var i=s.any(r,p.dc("author"));!t&&i&&(t="color: "+(n?"#888":"black")+"; background-color: "+C(i)+";");var a=s.any(r,c("indent")),o=(a=a?a.value:0)>=0?"font-size: 100%; font-family: monospace; width: 100%; border: none; white-space: pre-wrap;text-indent: "+3*a+"em;":"font-family: sans-serif; font-weight: bold;  border: none;"+["font-size: 110%;  padding-top: 0.5em; padding-bottom: 0.5em; width: 100%;","font-size: 120%; padding-top: 1em; padding-bottom: 1em; width: 100%;","font-size: 150%; padding-top: 1em; padding-bottom: 1em; width: 100%;"][-1-a];e.setAttribute("style",o+t)},k=function(e){var r=e.subject;if(!r)throw new Error("No chunk for line to be deleted!");var i=s.any(void 0,c("next"),r),a=s.any(r,c("next"));if(i.sameTerm(n)&&a.sameTerm(n))(0,g.log)("You can't delete the only line.");else{var o=s.statementsMatching(r,void 0,void 0,t).concat(s.statementsMatching(void 0,void 0,r,t)),u=[(0,f.st)(i,c("next"),a,t)];if(r instanceof f.NamedNode){var d=r.uri.slice(-4);(0,g.log)("Deleting line "+d)}if(!l)throw new Error("have no updater");l.update(o,u,(function(t,n,i,a){if(n){var s=e.parentNode;if(s){var l=s.previousSibling;s.parentNode&&s.parentNode.removeChild(s),l&&l.firstChild&&l.firstChild.focus()}}else if(a&&409===a.status)w(e,"color: black;  background-color: #ffd;"),e.state=0,(0,m.beep)(.5,512),setTimeout((function(){j()}),1e3);else{(0,g.log)("    removePart FAILED "+r+": "+i),(0,g.log)("    removePart was deleteing :'"+o),w(e,"color: black;  background-color: #fdd;");var c=a?a.status:" [no response field] ";y("Error "+c+" saving changes: "+i.true)}}))}},E=function(e,n){e.addEventListener("keydown",(function(r){if(!l)throw new Error("no updater");var i,a;switch(r.keyCode){case 13:var o=r.shiftKey;if((0,g.log)("enter"),o?(a=s.any(void 0,c("next"),n),i="newlinesAfter"):(a=s.any(n,c("next")),i="newlinesBefore"),a[i]=a[i]||0,a[i]+=1,a[i]>1)return void(0,g.log)("    queueing newline queue = "+a[i]);(0,g.log)("    go ahead line before "+a[i]),_(e,o);break;case 8:if(0===e.value.length)switch((0,g.log)("Delete key line "+n.uri.slice(-4)+" state "+e.state),e.state){case 1:case 2:return void(e.state=4);case 3:case 4:return;case void 0:case 0:e.state=3,k(e),r.preventDefault();break;default:throw new Error("pad: Unexpected state "+e)}break;case 9:var u=r.shiftKey?-1:1;!function(e,n,r){var i=s.statementsMatching(n,c("indent")),a=i.length?Number(i[0].object.value):0;if(!(a+r<-3)){var o=a+r,u=(0,f.st)(n,c("indent"),o,t);if(!l)throw new Error("no updater");l.update(i,u,(function(n,r,i){r?w(e):((0,g.log)("Indent change FAILED '"+o+"' for "+t+": "+i),w(e,"color: black;  background-color: #fdd;"),l.requestDownstreamAction(t,j))}))}}(e,n,u),r.preventDefault();break;case 27:(0,g.log)("escape"),l.requestDownstreamAction(t,j),r.preventDefault();break;case 38:e.parentNode.previousSibling&&(e.parentNode.previousSibling.firstChild.focus(),r.preventDefault());break;case 40:e.parentNode.nextSibling&&(e.parentNode.nextSibling.firstChild.focus(),r.preventDefault())}}));e.addEventListener("input",(function(n){switch(w(e,void 0,!0),(0,g.log)("Input event state "+e.state+" value '"+e.value+"'"),e.state){case 3:case 4:case 2:return;case 1:return void(e.state=2);case 0:case void 0:e.state=1,function e(n){var r=n.subject;w(n,void 0,!0);var i,a=s.any(r,p.sioc("content")).value,o=[(0,f.st)(r,p.sioc("content"),a,t)];n.value&&(i=[(0,f.st)(r,p.sioc("content"),n.value,t)]);var c=n.value;if(n.lastSent&&a!==n.lastSent)throw new Error("Out of order, last sent expected '"+a+"' but found '"+n.lastSent+"'");if(n.lastSent=c,!l)throw new Error("no updater");l.update(o,i,(function(r,i,o,s){i?(b(),w(n),(0,g.log)("    Patch ok '"+a+"' -> '"+c+"' "),4===n.state?(n.state=3,k(n)):3===n.state||(2===n.state?(n.state=1,e(n)):n.state=0)):((0,g.log)("    patch FAILED "+s.status+" for '"+a+"' -> '"+c+"': "+o),409===s.status?(w(n,"color: black;  background-color: #fdd;"),n.state=0,(0,m.beep)(.5,512),setTimeout((function(){l.requestDownstreamAction(t,j)}),1e3)):(w(n,"color: black;  background-color: #fdd;"),n.state=0,y("    Error "+s.status+" sending data: "+o,!0),(0,m.beep)(1,128)))}))}(e)}}))},T=function(t,n,i){var a=s.any(n,p.sioc("content"));a=a?a.value:"";var l=e.createElement("tr");i?o.insertBefore(l,t):t&&t.nextSibling?o.insertBefore(l,t.nextSibling):o.appendChild(l);var c=l.appendChild(e.createElement("input"));return c.subject=n,c.setAttribute("type","text"),c.value=a,r?(w(c,""),E(c,n)):(w(c,"color: #222; background-color: #fff"),(0,g.log)("Note can't add listeners - not logged in")),c},_=function e(i,a){var o,s,u,d,m,v=x,y=0,b=null;i?("input"!==i.tagName.toLowerCase()&&(0,g.log)("return pressed when current document is: "+i.tagName),o=i.subject,y=(y=v.any(o,c("indent")))?Number(y.value):0,a?(s=v.any(void 0,c("next"),o),u=o,d=s,b="newlinesAfter"):(s=o,u=v.any(o,c("next")),d=u,b="newlinesBefore"),m=i.parentNode):(s=n,u=n,m=void 0);var k=(0,h.newThing)(t),C=k.uri.slice(-4),E=[(0,f.st)(s,c("next"),u,t)],_=[(0,f.st)(s,c("next"),k,t),(0,f.st)(k,c("next"),u,t),(0,f.st)(k,p.dc("author"),r,t),(0,f.st)(k,p.sioc("content"),"",t)];if(y>0&&_.push((0,f.st)(k,c("indent"),y,t)),(0,g.log)("    Fresh chunk "+C+" proposed"),!l)throw new Error("no updater");l.update(E,_,(function(t,n,r,i){if(n){var o=T(m,k,a);w(o),o.focus(),b&&((0,g.log)("    Fresh chunk "+C+" updated, queue = "+d[b]),d[b]-=1,d[b]>0&&((0,g.log)("    Implementing queued newlines = "+u.newLinesBefore),e(o,a)))}else(0,g.log)("    ERROR writing new line "+C+": "+r)}))},S=function(){var e={},t=0;function r(e){y(e),t++}if(!s.the(n,c("next")))return r("No initial next pointer"),!1;for(var i,a=n;(i=s.the(a,c("next")))||r("No next pointer from "+a),!i.sameTerm(n);){a=i;var o=i.uri.split("#")[1];if(e[i.uri])return r("Loop!"),!1;e[i.uri]=!0;var l=s.each(i,c("next")).length;1!==l&&r("Should be 1 not "+l+" next pointer for "+o),(l=s.each(i,c("indent")).length)>1&&r("Should be 0 or 1 not "+l+" indent for "+o),1!==(l=s.each(i,p.sioc("content")).length)&&r("Should be 1 not "+l+" contents for "+o),1!==(l=s.each(i,p.dc("author")).length)&&r("Should be 1 not "+l+" author for "+o),s.statementsMatching(void 0,p.sioc("contents")).forEach((function(t){e[t.subject.value]||r("Loose chunk! "+t.subject.value)}))}return!t},O=function(){if(1!==s.each(n,c("next")).length){var e="Pad: Inconsistent data - NEXT pointers: "+s.each(n,c("next")).length;return(0,g.log)(e),void(i.statusArea&&(i.statusArea.textContent+=e))}for(var t,r=[],a=s.the(n,c("next"));!a.sameTerm(n);a=s.the(a,c("next")))for(var l=0;l<o.children.length;l++){var u=o.children[l];u.firstChild&&u.firstChild.subject.sameTerm(a)&&(r[a.uri]=u.firstChild)}for(var d=o.children.length-1;d>=0;d--)r[(t=o.children[d]).firstChild.subject.uri]||o.removeChild(t);t=o.firstChild;for(var f=s.the(n,c("next"));!f.sameTerm(n);f=s.the(f,c("next"))){var h=s.any(f,p.sioc("content")).value;if(t&&r[f.uri]){var m=t.firstChild;h!==m.value&&(m.value=h),w(m),m.state=0,delete m.lastSent,t=t.nextSibling}else T(t,f,!0)}},A=!1,j=function(){if(A)(0,g.log)("   Already reloading - stop");else{A=!0;var e=1e3;!function n(){if((0,g.log)("try reload - timeout = "+e),!l)throw new Error("no updater");l.reload(l.store,t,(function(r,i,a){A=!1,r?((0,g.log)("    reloaded OK"),b(),S()?function e(t){if(t.refresh)t.refresh();else for(var n=0;n<t.children.length;n++)e(t.children[n])}(o):y("CONSITENCY CHECK FAILED")):0===a.status?(y("Network error refreshing the pad. Retrying in "+e/1e3),A=!0,e*=2,setTimeout(n,e)):y("Error "+a.status+"refreshing the pad:"+i+". Stopped. "+t)}))}()}};o.refresh=O,o.reloadAndSync=j,r||(0,g.log)("Warning: must be logged in for pad to be edited");if(a)(0,g.log)("Existing pad."),S()?(O(),s.holds(n,c("next"),n)&&_()):(0,g.log)(o.textContent="Inconsistent data. Abort");else{(0,g.log)("No pad exists - making new one.");var P=[(0,f.st)(n,p.rdf("type"),c("Notepad"),t),(0,f.st)(n,p.dc("author"),r,t),(0,f.st)(n,p.dc("created"),new Date,t),(0,f.st)(n,c("next"),n,t)];if(!l)throw new Error("no updater");l.update([],P,(function(e,t,n){t?((0,g.log)("Initial pad created"),_()):y(n||"")}))}return o},t.getChunks=E,t.xmlEncode=T,t.notepadToHTML=function(e,t){var n=E(e,t),r="<html>\n  <head>\n",i=t.anyValue(e,p.dct("title"));i&&(r+="    <title>".concat(T(i),"</title>\n"));r+="  </head>\n  <body>\n";var a=0;function o(e){for(;a>e;a--)r+="</ul>\n"}return n.forEach((function(e){var n=t.anyJS(e,k("indent")),i=t.anyJS(e,p.sioc("content"));if(i){var s=T(i);if(n<0){o(0);var l=n>=-3?4+n:1;r+="\n<h".concat(l,">").concat(s,"</h").concat(l,">\n")}else n>0?(o(n),function(e){for(;a<e;a++)r+="<ul>\n"}(n),r+="<li>".concat(s,"</li>\n")):(o(n),r+="<p>".concat(s,"</p>\n"))}})),o(0),r+="  </body>\n</html>\n"},Object.defineProperty(t,"renderPartipants",{enumerable:!0,get:function(){return y.renderPartipants}}),Object.defineProperty(t,"participationObject",{enumerable:!0,get:function(){return y.participationObject}}),Object.defineProperty(t,"manageParticipation",{enumerable:!0,get:function(){return y.manageParticipation}}),Object.defineProperty(t,"recordParticipation",{enumerable:!0,get:function(){return y.recordParticipation}});var a=r(n(7)),o=r(n(5)),s=r(n(21)),l=r(n(26)),c=r(n(13)),u=r(n(118)),d=r(n(1)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(16)),f=n(3),h=n(28),m=n(27),g=n(24),v=n(20),y=n(119);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;Reflect.construct(r,arguments,i)}else r.apply(this,arguments);return(0,l.default)(this,n)}}var x=v.solidLogicSingleton.store,k=(0,f.Namespace)("http://www.w3.org/ns/pim/pad#");HTMLElement,HTMLElement;function C(e){var t;return e&&e.uri?"#"+(16777215&(t=e.uri,t.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))|12632256).toString(16):"#ffffff"}function E(e,t){for(var n=[],r=t.the(e,k("next"));!r.sameTerm(e);r=t.the(r,k("next")))n.push(r);return n}function T(e){return e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")}},function(e,t,n){"use strict";var r=n(81);e.exports=function(e){return r({},e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);function i(e){var t={ns:{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},nodeType:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12}};this.frameFactory=function(e,n,i){return{NODE:1,ARC:2,parent:n,parser:e,store:e.store,element:i,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=r.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(r.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype&&this.parent.datatype!==t.ns.RDF+"langString"?this.node=this.store.literal(e,this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,n){var r=null;if(e.getAttributeNodeNS)r=e.getAttributeNodeNS(t,n);else for(var i,a=e.attributes,o=0;o<a.length;++o)if((i=a[o]).namespaceURI===t&&(i.prefix?i.prefix+":"+n:n)===i.nodeName){r=i;break}return r},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,n,r){var i,a=e.childNodes;if(this.cleanParser(),e.nodeType===t.nodeType.DOCUMENT){for(var o=0;o<a.length;o++)if(a[o].nodeType===t.nodeType.ELEMENT){i=a[o];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+n+". Halting. ");i=e}this.why=r;var s=this.frameFactory(this);return this.base=n,s.base=n,s.lang=null,this.parseDOM(this.buildFrame(s,i)),!0},this.parseDOM=function(e){for(var n,i=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),a=!0;e.parent;){var o=e.element,s=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(i(o)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(i(o)),this.reify&&(n=this.getAttributeNodeNS(o,t.ns.RDF,"ID"))&&(e.rdfid=n.nodeValue,o.removeAttributeNode(n));var l=this.getAttributeNodeNS(o,t.ns.RDF,"parseType"),c=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(c&&(e.datatype=c.nodeValue,o.removeAttributeNode(c)),l){var u=l.nodeValue;"Literal"===u?(e.datatype=t.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o.childNodes),a=!1):"Resource"===u?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===u&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(l)}if(0!==s.length){var d=this.getAttributeNodeNS(o,t.ns.RDF,"resource"),p=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e),d?(e.addNode(d.nodeValue),o.removeAttributeNode(d)):p?(e.addBNode(p.nodeValue),o.removeAttributeNode(p)):e.addBNode();for(var f=s.length-1;f>=0;f--){var h=this.buildFrame(e);h.addArc(i(s[f])),i(s[f])===t.ns.RDF+"type"?this.buildFrame(h).addNode(s[f].nodeValue):this.buildFrame(h).addLiteral(s[f].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var m=this.getAttributeNodeNS(o,t.ns.RDF,"about");if(n=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),m&&n)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!m&&n)e.addNode("#"+n.nodeValue),o.removeAttributeNode(n);else if(null==m&&null==n){var g=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),o.removeAttributeNode(g)):e.addBNode()}else e.addNode(m.nodeValue),o.removeAttributeNode(m);var v=this.getAttributeNodeNS(o,t.ns.RDF,"type");t.ns.RDF+"Description"!==i(o)&&(v={nodeValue:i(o)}),null!=v&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(r.join(v.nodeValue,e.base)),this.why),v.nodeName&&o.removeAttributeNode(v));for(var y=s.length-1;y>=0;y--)this.store.add(e.node,this.store.sym(i(s[y])),this.store.literal(s[y].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var b=e;null==o;)o=(e=e.parent).element;var w=o.childNodes&&o.childNodes[e.lastChild];if(w&&a){if((w.nodeType===t.nodeType.ELEMENT||w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&(w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(b,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,a=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,n){var i=this.frameFactory(this,e,n);if(e&&(i.base=e.base,i.lang=e.lang),!n||n.nodeType===t.nodeType.TEXT||n.nodeType===t.nodeType.CDATA_SECTION)return i;var a=n.attributes,o=n.getAttributeNode("xml:base");null!=o&&(i.base=o.nodeValue,n.removeAttribute("xml:base"));var s=n.getAttributeNode("xml:lang");null!=s&&(i.lang=s.nodeValue,n.removeAttribute("xml:lang"));for(var l=a.length-1;l>=0;l--)if("xml"===a[l].nodeName.substr(0,3)){if("xmlns:"===a[l].name.slice(0,6)){var c=a[l].nodeValue;this.base&&(c=r.join(c,this.base)),this.store.setPrefixForURI(a[l].name.slice(6),c)}n.removeAttributeNode(a[l])}return i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(99),i=n(78),a=n(2);function o(e,t,n,o,s,l){n=n||e.value;var c=l||{};o=o||a.r;try{var u=Object(i.a)(t);c.flags&&u.setFlags(c.flags);var d,p=t.statementsMatching(void 0,void 0,void 0,e);switch(u.suggestNamespaces(t.namespaces),u.setBase(n),o){case a.o:return f(null,u.statementsToXML(p));case a.i:case a.j:return f(null,u.statementsToN3(p));case a.r:case a.s:return u.setFlags("si"),f(null,u.statementsToN3(p));case a.m:return u.setFlags("deinprstux"),f(null,u.statementsToNTriples(p));case a.g:u.setFlags("deinprstux"),d=u.statementsToNTriples(p),r.convertToJson(d,s);break;case a.l:case a.k:return u.setFlags("deinprstux q"),f(null,u.statementsToNTriples(p));default:throw new Error("Serialize: Content-type "+o+" not supported for data write.")}}catch(e){if(s)return s(e,void 0);throw e}function f(e,t){return s?void s(e,t):t}}},function(e,t,n){"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var r,i,a,o=n(220),s=n(222).extname,l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&o[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),r=n&&t.extensions[n[1].toLowerCase()];if(!r||!r.length)return!1;return r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=s("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),r=t.extensions,i=t.types,a=["nginx","apache",void 0,"iana"],Object.keys(o).forEach((function(e){var t=o[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var s=0;s<n.length;s++){var l=n[s];if(i[l]){var c=a.indexOf(o[i[l]].source),u=a.indexOf(t.source);if("application/octet-stream"!==i[l]&&(c>u||c===u&&"application/"===i[l].substr(0,12)))continue}i[l]=e}}}))},function(e,t,n){"use strict";var r=n(11),i=n(17),a=n(33),o=n(7),s=n.n(o);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=function e(){s()(this,e)};return t.boolean=e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),t.dateTime=e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),t.decimal=e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),t.double=e.namedNode("http://www.w3.org/2001/XMLSchema#double"),t.integer=e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),t.langString=e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.string=e.namedNode("http://www.w3.org/2001/XMLSchema#string"),t}l(a.a);var c=n(85),u=n.n(c);t.a=function(){var e=function(e){this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var t=Object.keys(u()());for(var n in t){var r=u()()[t[n]](""),i=t[n];this.prefixes[r]=i,this.namespaces[i]=r}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||a.a,this.xsd=l(this.rdfFactory)};e.prototype.setBase=function(e){return this.base=e,this},e.prototype.setFlags=function(e){return this.flags=e||"",this},e.prototype.toStr=function(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t},e.prototype.fromStr=function(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)},e.prototype.suggestPrefix=function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))},e.prototype.suggestNamespaces=function(e){for(var t in e)this.suggestPrefix(t,e[t]);return this},e.prototype.checkIntegrity=function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")},e.prototype.makeUpPrefix=function(t){var n=t;var r=function(n){return!!e.prototype.validPrefix.test(n)&&("ns"!==n&&(!(n in this.namespaces)&&(this.prefixes[t]=n,this.namespaces[n]=t,n)))}.bind(this);"#/".indexOf(n[n.length-1])>=0&&(n=n.slice(0,-1));var i=n.lastIndexOf("/");i>=0&&(n=n.slice(i+1));for(var a=0;a<n.length&&this.prefixchars.indexOf(n[a]);)a++;if((n=n.slice(0,a)).length<6&&r(n))return n;if(r(n.slice(0,3)))return n.slice(0,3);if(r(n.slice(0,2)))return n.slice(0,2);if(r(n.slice(0,4)))return n.slice(0,4);if(r(n.slice(0,1)))return n.slice(0,1);if(r(n.slice(0,5)))return n.slice(0,5);e.prototype.validPrefix.test(n)||(n="n");for(var o=0;;o++)if(r(n.slice(0,3)+o))return n.slice(0,3)+o},e.prototype.rootSubjects=function(e){for(var t={},n={},r={},i=0;i<e.length;i++){var a=e[i],o=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(a.subject)};[a.subject,a.predicate,a.object].map((function(e){"BlankNode"===e.termType?r[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach((function(e){o(e)}))})),o(e[i].object);var s=n[this.toStr(a.subject)];s||(s=[]),s.push(a),n[this.toStr(a.subject)]=s}var l=[];for(var c in n)if(n.hasOwnProperty(c)){var u=this.fromStr(c);"BlankNode"===u.termType&&t[u]&&1===t[u].length||l.push(u)}this.incoming=t;for(var d={},p=0;p<l.length;p++)d[l[p].toNT()]=!0;return{roots:l,subjects:n,rootsHash:d,incoming:t}},e.prototype.toN3=function(e){return this.statementsToN3(e.statements)},e.prototype._notQNameChars="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",e.prototype._notNameChars=e.prototype._notQNameChars+":",e.prototype.explicitURI=function(e){return"<"+(e=this.flags.indexOf("r")<0&&this.base?r.refTo(this.base,e):this.flags.indexOf("u")>=0?function(e){for(var t,n="",r=0;r<e.length;r++)t=e.charCodeAt(r),n+=t>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[r];return n}(e):encodeURI(e))+">"},e.prototype.statementsToNTriples=function(e){var t=e.slice();t.sort();for(var n="",r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=this,a=this.store,o=this.rdfFactory,s=function e(t){if("Collection"!==t.termType)return i.atomicTermToN3(t);for(var s=t.elements,l=a.sym(r+"nill"),c=s.length-1;c>=0;c--){var u=o.blankNode();n+=e(u)+" "+e(a.sym(r+"first"))+" "+e(s[c])+".\n",n+=e(u)+" "+e(a.sym(r+"rest"))+" "+e(l)+".\n",l=u}return i.atomicTermToN3(l)},l=0;l<t.length;l++){var c=t[l],u="";u+=s(c.subject)+" ",u+=s(c.predicate)+" ",u+=s(c.object)+" ",this.flags.indexOf("q")>=0&&(u+=s(c.why)+" "),n+=u+=".\n"}return n},e.prototype.statementsToN3=function(t){var n=this.store,r={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};t.sort((function(e,t){return i.heavyCompareSPO(e,t,n,r)})),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var a={};this.flags.indexOf("s")<0&&(a["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(a["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(a["http://www.w3.org/2000/10/swap/log#implies"]="=>");var o=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},s=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r],a="string"==typeof i?i:e(i);if(0!==r){var o=n.slice(-1)||" ";","===a||";"===a||("."!==a||"0123456789.".includes(o))&&(n+=" ")}n+=a}return n};var l=function(e){for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var a=n[i];r.push(c(a,t))}return r}.bind(this);function c(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[p(e,t)].concat([u(e,t)]).concat(["."]):d(e,t,!0).concat(["."])}var u=function(e,t){var n=[],r=null,i=t.subjects[this.toStr(e)]||[];if(void 0===i)throw new Error("Cant find statements for "+e);for(var o=[],s=0;s<i.length;s++){var l=i[s];l.predicate.uri===r?o.push(","):(r&&(n=n.concat([o]).concat([";"]),o=[]),n.push(a[l.predicate.uri]?a[l.predicate.uri]:p(l.predicate,t))),r=l.predicate.uri,o.push(d(l.object,t))}return n=n.concat([o])}.bind(this);var d=function(e,t,n){return"BlankNode"!==e.termType||!n&&void 0!==t.rootsHash[e.toNT()]?p(e,t):t.subjects[this.toStr(e)]?["[",u(e,t),"]"]:"[]"}.bind(this);e.prototype.termToN3=p;var p=function(e,t){var n,r;switch(e.termType){case"Graph":return(r=(r=["{"]).concat(l(e.statements))).concat(["}"]);case"Collection":for(r=["("],n=0;n<e.elements.length;n++)r.push([d(e.elements[n],t)]);return r.push(")"),r;default:return this.atomicTermToN3(e)}}.bind(this);var f=function(){var e="";for(var t in this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}.bind(this),h=l(t);return f()+function e(t,n){var r="",i=1e5;void 0===n&&(n=-1);for(var a=0;a<t.length;a++){var l=t[a];if("string"!=typeof l){var c=e(l,n+1);if(c.length<10*(80-4*n)&&c.indexOf('"""')<0){var u=s(l);u.length<80-4*n&&(l=u,c="")}c&&(i=1e4),r+=c}if("string"==typeof l){if(1===l.length&&"\n"===r.slice(-1)&&",.;".indexOf(l)>=0){r=r.slice(0,-1)+l+"\n",i+=1;continue}if(i<4*n+4||i+l.length+1<80&&";.".indexOf(r[r.length-2])<0)r=r.slice(0,-1)+" "+l+"\n",i+=l.length+1;else{var d=o(4*n)+l;r+=d+"\n",i=d.length,n<0&&(r+="\n",i=1e5)}}}return r}(h)},e.prototype.atomicTermToN3=function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var n=e.value;if("string"!=typeof n)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return n;case"http://www.w3.org/2001/XMLSchema#decimal":return n.indexOf(".")<0&&(n+=".0"),n;case"http://www.w3.org/2001/XMLSchema#double":var r=n.toLowerCase().indexOf("e")>0;return n.indexOf(".")<0&&!r&&(n+=".0"),r||(n+="e0"),n;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var i=this.stringToN3(e.value);return e.language?i+="@"+e.language:e.datatype.equals(this.xsd.string)||(i+="^^"+this.atomicTermToN3(e.datatype,t)),i;case"NamedNode":return this.symbolToN3(e);default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}},e.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),e.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),e.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),e.prototype.stringToN3=function(t,n){n||(n="e");var r,i,a,o,s,l="";for(t.length>20&&'"'!==t.slice(-1)&&n.indexOf("n")<0&&(t.indexOf("\n")>0||t.indexOf('"')>0)?(o='"""',s=e.prototype.forbidden3):(o='"',s=e.prototype.forbidden1),r=0;r<t.length;){if(s.lastIndex=0,null==s.exec(t.slice(r)))break;i=r+s.lastIndex-1,l+=t.slice(r,i);var c=t[i];'"'===c&&'"""'===o&&'"""'!==t.slice(i,i+3)?l+=c:(a='\b\f\r\t\v\n\\"'.indexOf(c))>=0?l+="\\"+'bfrtvn\\"'[a]:n.indexOf("e")>=0?l+="\\u"+("000"+c.charCodeAt(0).toString(16).toLowerCase()).slice(-4):l+=c,r=i+1}return o+l+t.slice(r)+o},e.prototype.symbolToN3=function(t){var n=t.uri,r=n.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=n.lastIndexOf("/")),r>=0&&this.flags.indexOf("p")<0&&(0===n.indexOf("http")||0===n.indexOf("ws")||0===n.indexOf("file"))){for(var i=!0,a=r+1;a<n.length;a++)if(e.prototype._notNameChars.indexOf(n[a])>=0){i=!1;break}if(i){var o=n.slice(r+1),s=n.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(o)<0?o:":"+o;var l=this.prefixes[s];if(l||(l=this.makeUpPrefix(s)),l)return this.namespacesUsed[s]=!0,l+":"+o}}return this.explicitURI(n)},e.prototype.writeStore=function(e){var t=this.store,n=t.fetcher,r=n&&n.appNode,i=this.store.index[3];for(var a in i){var o=t.fromNT(a);r&&o.equals(r)||e("\n"+this.atomicTermToN3(o)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,o))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map((function(n){e("\n<"+n.object.value+"> log:metadata {\n");var r=t.statementsMatching(void 0,void 0,void 0,n.subject);e(this.statementsToN3(this.statementsToN3(r))),e("}.\n")}));var s=[];r&&s.push(r);var l=[];s.map((function(e){l=l.concat(t.statementsMatching(void 0,void 0,void 0,e))})),e(this.statementsToN3(l))},e.prototype.statementsToXML=function(t){var n=[];n["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",a=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},o=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];n+="string"==typeof i?i:e(i)}return n};var s=function(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var a=n[i];r.push(u(a,t))}return r}.bind(this);function l(e){return void 0===e?"@@@undefined@@@@":e.replace(/[&<"]/g,(function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}))}var c=function(e){return l(this.base?i.uri.refTo(this.base,e.uri):e.uri)}.bind(this);var u=function(e,t){var n,i,a,o,s=[],h=t.subjects[this.toStr(e)];if(void 0===h)return p(e,t);h.sort((function(e,t){var n=e.predicate.uri,i=t.predicate.uri;if(n.substring(0,r.length)===r||i.substring(0,r.length)===r)return n.localeCompare(i);var a=n.substring(r.length),o=i.substring(r.length),s=parseInt(a,10),l=parseInt(o,10);return isNaN(s)||isNaN(l)||s!==a||l!==o?n.localeCompare(i):s-l}));for(var m=0;m<h.length;m++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(a=h[m]).predicate.uri||n||"NamedNode"!==a.object.termType){if((o=a.predicate).uri.substr(0,r.length)===r){var g=o.uri.substr(r.length);g===parseInt(g,10).toString()&&(o=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(i=f(o),a.object.termType){case"BlankNode":s=1===t.incoming[a.object].length?s.concat(["<"+i+' rdf:parseType="Resource">',u(a.object,t),"</"+i+">"]):s.concat(["<"+i+' rdf:nodeID="'+a.object.toNT().slice(2)+'"/>']);break;case"NamedNode":s=s.concat(["<"+i+' rdf:resource="'+c(a.object)+'"/>']);break;case"Literal":s=s.concat(["<"+i+(a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+l(a.object.datatype.uri)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+l(a.object.value)+"</"+i+">"]);break;case"Collection":s=s.concat(["<"+i+' rdf:parseType="Collection">',d(a.object,t),"</"+i+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}else n=a.object;var v=n?f(n):"rdf:Description",y="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(y=' rdf:nodeID="'+e.toNT().slice(2)+'"'):y=' rdf:about="'+c(e)+'"',["<"+v+y+">"].concat([s]).concat(["</"+v+">"])}.bind(this);function d(e,t){for(var n=[],r=0;r<e.elements.length;r++)n.push(u(e.elements[r],t));return n}var p=function(e,t){var n=[],r=t.subjects[this.toStr(e)];if(!r)return n;r.sort();for(var i=0;i<r.length;i++){var a=r[i];switch(a.object.termType){case"BlankNode":n=t.rootsHash[a.object.toNT()]?n.concat(["<"+f(a.predicate)+' rdf:nodeID="'+a.object.toNT().slice(2)+'">',"</"+f(a.predicate)+">"]):n.concat(["<"+f(a.predicate)+' rdf:parseType="Resource">',p(a.object,t),"</"+f(a.predicate)+">"]);break;case"NamedNode":n=n.concat(["<"+f(a.predicate)+' rdf:resource="'+c(a.object)+'"/>']);break;case"Literal":n=n.concat(["<"+f(a.predicate)+(a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+l(a.object.datatype.value)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+l(a.object.value)+"</"+f(a.predicate)+">"]);break;case"Collection":n=n.concat(["<"+f(a.predicate)+' rdf:parseType="Collection">',d(a.object,t),"</"+f(a.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}return n}.bind(this);var f=function(t){var r=t.uri,i=r.indexOf("#");if(i<0&&this.flags.indexOf("/")<0&&(i=r.lastIndexOf("/")),i<0)throw new Error("Cannot make qname out of <"+r+">");for(var a=i+1;a<r.length;a++)if(e.prototype._notNameChars.indexOf(r[a])>=0)throw new Error('Invalid character "'+r[a]+'" cannot be in XML qname for URI: '+r);var o=r.slice(i+1),s=r.slice(0,i+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return o;var l=this.prefixes[s];return l||(l=this.makeUpPrefix(s)),n[s]=!0,l+":"+o}.bind(this),h=s(t),m="<rdf:RDF";for(var g in this.defaultNamespace&&(m+=' xmlns="'+l(this.defaultNamespace)+'"'),n)if(n.hasOwnProperty(g)){var v=this.base&&this.flags.includes("z")?i.uri.refTo(this.base,g):g;m+="\n xmlns:"+this.prefixes[g]+'="'+l(v)+'"'}return function e(t,n){var r,i="",s=1e5;n||(n=0);for(var l=0;l<t.length;l++){var c=t[l];if("string"!=typeof c){var u=e(c,n+1);u.length<10*(80-4*n)&&u.indexOf('"""')<0&&(r=o(c)).length<80-4*n&&(c="   "+r,u=""),u&&(s=1e4),i+=u}"string"==typeof c&&(s<4*n+4?(i=i.slice(0,-1)+" "+c+"\n",s+=c.length+1):(i+=(r=a(4*n)+c)+"\n",s=r.length))}return i}([m+=">",h,"</rdf:RDF>"],-1)};return function(t){return new e(t)}}()},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.media=void 0;var r=n(236),i={cameraCaptureControl:r.cameraCaptureControl,cameraButton:r.cameraButton};t.media=i},function(e,t,n){"use strict";var r=Object.assign;e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(1),l=n.n(s),c=n(23),u=n(2),d=n(64),p=new d.a,f=function(){function e(t,n,r,a){i()(this,e),l()(this,"subject",void 0),l()(this,"predicate",void 0),l()(this,"object",void 0),l()(this,"graph",void 0),this.subject=c.a.fromValue(t),this.predicate=c.a.fromValue(n),this.object=c.a.fromValue(r),this.graph=null==a?p:c.a.fromValue(a)}return o()(e,[{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}},{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(t){var n=new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),Object(d.b)(this.graph)?this.graph:this.graph.substitute(t));return console.log("@@@ statement substitute:"+n),n}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==u.c&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),Object(d.b)(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(87),i=n(100),a=n(418),o=n(61),s=n(62),l=n(75),c=n(98),u=n(17),d=n(2);function p(e,t,n){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",h=arguments.length>4?arguments[4]:void 0;f=(f=f||d.r).split(";")[0];try{if(f===d.i||f===d.r){var m=Object(o.a)(t,t,n,n,null,null,"",null);m.loadBuf(e),y()}else if(f===d.o){var g=new l.a(t);g.parse(u.parseXML(e),n,t.sym(n)),y()}else if(f===d.u)Object(s.b)(u.parseXML(e,{contentType:d.u}),t,n),y();else if(f===d.f)Object(s.b)(u.parseXML(e,{contentType:d.f}),t,n),y();else if(f===d.p||f===d.q)Object(c.a)(e,t,n),y();else if(f===d.g)Object(i.a)(e,t,n,y);else{if(f!==d.l&&f!==d.k)throw void 0===f?new Error("contentType is undefined"):new Error("Don't know how to parse "+f+" yet");var v=new a.a({factory:r.a});w(null,e)}}catch(e){b(e)}function y(){h&&h(null,t)}function b(e){if(f!==d.g||f!==d.l||f!==d.k){if(!h){var r=new Error(e+" while trying to parse <"+n+"> as "+f);throw r.cause=e,r}h(e,t)}}function w(e,n){e&&h(e,t);try{v.parse(n,x)}catch(e){h(e,t)}}function x(e,n){n?t.add(n.subject,n.predicate,n.object,n.graph):h(e,t)}p.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(7),i=n.n(r),a=n(9),o=n.n(a),s=n(5),l=n.n(s),c=n(21),u=n.n(c),d=n(26),p=n.n(d),f=n(13),h=n.n(f),m=n(1),g=n.n(m),v=n(32),y=n(54),b=n(33),w=n(4),x=n(25),k=n(23),C=n(76),E=n(2),T=n(12),_=n(41),S=n(30),O=n(14);function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var I=function(e){u()(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i()(this,n),(e=t.call(this,"")).statements=r,e.constraints=a,e.initBindings=o,e.optional=s,g()(l()(e),"termType",E.e),g()(l()(e),"classOrder",v.a.Graph),g()(l()(e),"fetcher",void 0),g()(l()(e),"isVar",0),g()(l()(e),"ns",x.a),g()(l()(e),"rdfFactory",void 0),e.rdfFactory=c&&c.rdfFactory||b.a;var u,d=A(S.b);try{var p=function(){var t=u.value;e[t]=function(){var n;return(n=e.rdfFactory)[t].apply(n,arguments)}};for(d.s();!(u=d.n()).done;)p()}catch(e){d.e(e)}finally{d.f()}return e}return o()(n,[{key:"add",value:function(e,t,n,r){var i=this;return 1===arguments.length&&e.forEach((function(e){return i.add(e.subject,e.predicate,e.object,e.graph)})),this.statements.push(this.rdfFactory.quad(e,t,n,r))}},{key:"addStatement",value:function(e){return this.add(e)}},{key:"bnode",value:function(e){return this.rdfFactory.blankNode(e)}},{key:"addAll",value:function(e){var t=this;e.forEach((function(e){t.add(e.subject,e.predicate,e.object,e.graph)}))}},{key:"any",value:function(e,t,n,r){var i=this.anyStatementMatching(e,t,n,r);return null==i?null:null==e?i.subject:null==t?i.predicate:null==n?i.object:null}},{key:"anyValue",value:function(e,t,n,r){var i=this.any(e,t,n,r);return i?i.value:void 0}},{key:"anyJS",value:function(e,t,n,r){var i=this.any(e,t,n,r);return i?k.a.toJS(i):void 0}},{key:"anyStatementMatching",value:function(e,t,n,r){var i=this.statementsMatching(e,t,n,r,!0);if(i&&0!==i.length)return i[0]}},{key:"id",value:function(e){return this.rdfFactory.id(e)}},{key:"statementsMatching",value:function(e,t,n,r,i){var a=this.statements.filter((function(i){return(!e||e.equals(i.subject))&&(!t||t.equals(i.predicate))&&(!n||n.equals(i.object))&&(!r||r.equals(i.subject))}));return i?0===a.length?[]:[a[0]]:a}},{key:"bottomTypeURIs",value:function(e){var t,n,r,i,a,o;for(var s in t=[],e)if(e.hasOwnProperty(s)){for(o=e[s],n=!0,r=0,i=(a=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(s))).length;r<i;r++)if(a[r].uri in e){n=!1;break}n&&(t[s]=o)}return t}},{key:"collection",value:function(){return new y.a}},{key:"each",value:function(e,t,n,r){var i=[],a=this.statementsMatching(e,t,n,r,!1);if(null==e)for(var o=0,s=a.length;o<s;o++)i.push(a[o].subject);else if(null==t)for(var l=0,c=a.length;l<c;l++)i.push(a[l].predicate);else if(null==n)for(var u=0,d=a.length;u<d;u++)i.push(a[u].object);else if(null==r)for(var p=0,f=a.length;p<f;p++)i.push(new O.a(a[p].graph.value));return i}},{key:"equals",value:function(e){return!!e&&this.hashString()===e.hashString()}},{key:"findMembersNT",value:function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h;for(var m in(p={})[e.toNT()]=!0,i={},o=this.transitiveClosure(p,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0))if(o.hasOwnProperty(m)){for(var g=0,v=(s=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(m))).length;g<v;g++)i[(f=s[g]).subject.toNT()]=f;for(var y=0,b=(l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(m))).length;y<b;y++)for(a=l[y],r=0,t=(c=this.statementsMatching(void 0,a)).length;r<t;r++)i[(f=c[r]).subject.toNT()]=f;for(var w=0,x=(u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(m))).length;w<x;w++)for(a=u[w],h=0,n=(d=this.statementsMatching(void 0,a)).length;h<n;h++)i[(f=d[h]).object.toNT()]=f}return i}},{key:"findMemberURIs",value:function(e){return this.NTtoURI(this.findMembersNT(e))}},{key:"findSubClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(e){var t,n,r,i,a,o;o=[];for(var s=0,l=(t=this.statementsMatching(e,void 0,void 0)).length;s<l;s++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===(a=t[s]).predicate.uri)o[a.object.toNT()]=a;else for(var c=0,u=(n=this.each(a.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"))).length;c<u;c++)o[n[c].toNT()]=a;for(var d=0,p=(r=this.statementsMatching(void 0,void 0,e)).length;d<p;d++){a=r[d];for(var f=0,h=(i=this.each(a.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"))).length;f<h;f++)o[i[f].toNT()]=a}return this.transitiveClosure(o,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(e){return this.NTtoURI(this.findTypesNT(e))}},{key:"connectedStatements",value:function(e,t,n){n=n||[];for(var r=[e],i={},a={},o=[],s=this,l=function(e){var l=function(e){"BlankNode"!==e.termType||i[e.value]||(i[e.value]=!0,r.push(e))},c=s.statementsMatching(null,null,e,t).concat(s.statementsMatching(e,null,null,t));(c=c.filter((function(e){if(n[e.predicate.value])return!1;var t=e.toNT();return!a[t]&&(a[t]=!0,!0)}))).forEach((function(e){l(e.subject),l(e.object)})),o=o.concat(c)};r.length;)l(r.shift());return o}},{key:"formula",value:function(e){return new n}},{key:"fromNT",value:function(e){var t,n,r;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(r=void 0,t=void 0,(n=e.lastIndexOf('"'))<e.length-1)if("@"===e[n+1])r=e.slice(n+2);else{if("^^"!==e.slice(n+1,n+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(n+3))}return e=(e=(e=(e=e.slice(1,n)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,r||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new _.a(e.slice(1))}throw new Error("Can't convert from NT: "+e)}},{key:"holds",value:function(e,t,n,r){var i;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(i=0;i<e.length;i++)if(!this.holds(e[i]))return!1;return!0}if(Object(T.j)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}var a=this.anyStatementMatching(e,t,n,r);return null!=a}},{key:"holdsStatement",value:function(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}},{key:"list",value:function(e,t){if(t.rdfFactory.supports.COLLECTIONS){var n=t.rdfFactory.collection();return e.forEach((function(e){n.append(e)})),n}var r=t.rdfFactory.blankNode(),i=Object(S.c)(t.rdfFactory,r,e);return t.addAll(i),r}},{key:"NTtoURI",value:function(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],"<"===t[0]&&(r[t.slice(1,-1)]=n));return r}},{key:"serialize",value:function(e,t,n){var r,i,a;switch((a=Object(C.a)(this)).suggestNamespaces(this.ns),a.setBase(e),i=n?this.statementsMatching(void 0,void 0,void 0,n):this.statements,null!=t?t:"text/n3"){case"application/rdf+xml":r=a.statementsToXML(i);break;case"text/n3":case"text/turtle":r=a.statementsToN3(i);break;default:throw new Error("serialize: Content-type "+t+" not supported.")}return r}},{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)}));console.log("Formula subs statmnts:"+t);var r=new n;return r.addAll(t),console.log("indexed-form subs formula:"+r),r}},{key:"sym",value:function(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}},{key:"the",value:function(e,t,n,r){var i=this.any(e,t,n,r);return null==i&&w.a.error("No value found for the() {"+e+" "+t+" "+n+"}."),i}},{key:"transitiveClosure",value:function(e,t,n){var r,i,a,o,s,l={};Object.assign(l,e);for(var c={};;){if(null==(s=function(){for(var e in l)if(l.hasOwnProperty(e))return e}()))return c;for(r=0,i=(o=n?this.each(void 0,t,this.fromNT(s)):this.each(this.fromNT(s),t)).length;r<i;r++)(a=o[r].toNT())in c||a in l||(l[a]=l[s]);c[s]=l[s],delete l[s]}}},{key:"topTypeURIs",value:function(e){var t,n,r,i,a,o,s;for(n in o=[],e)if(e.hasOwnProperty(n)){for(s=e[n],i=0,t=0,r=(a=this.each(this.rdfFactory.namedNode(n),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"))).length;t<r;t++)if("http://www.w3.org/2000/01/rdf-schema#Resource"!==a[t].uri){i++;break}i||(o[n]=s)}return o["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete o["http://www.w3.org/2000/01/rdf-schema#Resource"],o["http://www.w3.org/2002/07/owl#Thing"]&&delete o["http://www.w3.org/2002/07/owl#Thing"],o}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(e){return new _.a(e)}},{key:"whether",value:function(e,t,n,r){return this.statementsMatching(e,t,n,r,!1).length}}]),n}(k.a)},function(e,t){const n={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/"};e.exports=function(e={namedNode:e=>e}){const t={};for(const r in n){const i=n[r];t[r]=function(t=""){return e.namedNode(i+t)}}return t}},function(e,t,n){"use strict";n.r(t);var r=n(22),i=Date.now(),a="fnValues"+i,o="fnStyle"+ ++i,s=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=Object(r.createRule)(e,{},n);return i[o]=t,i},onProcessStyle:function(e,t){if(a in t||o in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[a]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[o];s&&(i.style=s(e)||{});var l=i[a];if(l)for(var c in l)i.prop(c,l[c](e),r)}}},l=n(128),c=function(e){return e&&e[l.a]&&e===e[l.a]()},u=function(e){return{onCreateRule:function(t,n,i){if(!c(n))return null;var a=n,o=Object(r.createRule)(t,{},i);return a.subscribe((function(t){for(var n in t)o.prop(n,t[n],e)})),o},onProcessRule:function(t){if(!t||"style"===t.type){var n=t,r=n.style,i=function(t){var i=r[t];if(!c(i))return"continue";delete r[t],i.subscribe({next:function(r){n.prop(t,r,e)}})};for(var a in r)i(a)}}}},d=/;\n/,p=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(d),r=0;r<n.length;r++){var i=(n[r]||"").trim();if(i){var a=i.indexOf(":");if(-1!==a){var o=i.substr(0,a).trim(),s=i.substr(a+1).trim();t[o]=s}}}return t}(e.style))};var f=function(){return{onProcessRule:p}},h=n(18),m="@global",g=function(){function e(e,t,n){for(var i in this.type="global",this.at=m,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new r.RuleList(Object(h.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),v=function(){function e(e,t,n){this.type="global",this.at=m,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr("@global ".length);this.rule=n.jss.createRule(r,t,Object(h.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),y=/\s*,\s*/g;function b(e,t){for(var n=e.split(y),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var w=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===m)return new g(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new v(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[m]:null;if(i){for(var a in i)t.addRule(a,i[a],Object(h.a)({},n,{selector:b(a,e.selector)}));delete r[m]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,m.length)===m){var a=b(i.substr(m.length),e.selector);t.addRule(a,r[i],Object(h.a)({},n,{selector:a})),delete r[i]}}(e,t))}}},x=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},k="extendCurrValue"+Date.now();function C(e,t,n,r){return void 0===r&&(r={}),function(e,t,n,r){if("string"!==typeof e.extend)if(Array.isArray(e.extend))for(var i=0;i<e.extend.length;i++){var a=e.extend[i];C("string"==typeof a?Object(h.a)({},e,{extend:a}):e.extend[i],t,n,r)}else for(var o in e.extend)"extend"!==o?x(e.extend[o])?(o in r||(r[o]={}),C(e.extend[o],t,n,r[o])):r[o]=e.extend[o]:C(e.extend.extend,t,n,r);else{if(!n)return;var s=n.getRule(e.extend);if(!s)return;if(s===t)return;var l=s.options.parent;l&&C(l.rules.raw[e.extend],t,n,r)}}(e,t,n,r),function(e,t,n,r){for(var i in e)"extend"!==i&&(x(r[i])&&x(e[i])?C(e[i],t,n,r[i]):x(e[i])?r[i]=C(e[i],t,n):r[i]=e[i])}(e,t,n,r),r}var E=function(){return{onProcessStyle:function(e,t,n){return"extend"in e?C(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var r in n[k])n.prop(r,null);return n[k]=null,null}if("object"==typeof e){for(var i in e)n.prop(i,e[i]);n[k]=e}return null}}},T=/\s*,\s*/g,_=/&/g,S=/\$([\w-]+)/g;var O=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(T),r=e.split(T),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(_,o):o+" "+l}return i}function n(e,t,n){if(n)return Object(h.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=Object(h.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,l=i,c=l.options.parent;for(var u in r){var d=-1!==u.indexOf("&"),p="@"===u[0];if(d||p){if(o=n(l,c,o),d){var f=t(u,l.selector);s||(s=e(c,a)),f=f.replace(S,s),c.addRule(f,r[u],Object(h.a)({},o,{selector:f}))}else p&&c.addRule(u,{},o).addRule(l.key,r[u],{selector:l.selector});delete r[u]}}return r}}};var A=function(){return{onProcessStyle:function(e,t){return"composes"in e?(function e(t,n){if(!n)return!0;if(Array.isArray(n)){for(var r=0;r<n.length;r++){if(!e(t,n[r]))return!1}return!0}if(n.indexOf(" ")>-1)return e(t,n.split(" "));var i=t.options.parent;if("$"===n[0]){var a=i.getRule(n.substr(1));return!!a&&(a!==t&&(i.classes[t.key]+=" "+i.classes[a.key],!0))}return i.classes[t.key]+=" "+n,!0}(t,e.composes),delete e.composes,e):e}}},j=/[A-Z]/g,P=/^ms-/,I={};function N(e){return"-"+e.toLowerCase()}var L=function(e){if(I.hasOwnProperty(e))return I[e];var t=e.replace(j,N);return I[e]=P.test(t)?"-"+t:t};function R(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:L(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(R):t.fallbacks=R(e.fallbacks)),t}var M=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=R(e[t]);return e}return R(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=L(t);return t===r?e:(n.prop(r,e),null)}}},D=r.hasCSSTOMSupport&&CSS?CSS.px:"px",F=r.hasCSSTOMSupport&&CSS?CSS.ms:"ms",B=r.hasCSSTOMSupport&&CSS?CSS.percent:"%";function U(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var z=U({"animation-delay":F,"animation-duration":F,"background-position":D,"background-position-x":D,"background-position-y":D,"background-size":D,border:D,"border-bottom":D,"border-bottom-left-radius":D,"border-bottom-right-radius":D,"border-bottom-width":D,"border-left":D,"border-left-width":D,"border-radius":D,"border-right":D,"border-right-width":D,"border-top":D,"border-top-left-radius":D,"border-top-right-radius":D,"border-top-width":D,"border-width":D,"border-block":D,"border-block-end":D,"border-block-end-width":D,"border-block-start":D,"border-block-start-width":D,"border-block-width":D,"border-inline":D,"border-inline-end":D,"border-inline-end-width":D,"border-inline-start":D,"border-inline-start-width":D,"border-inline-width":D,"border-start-start-radius":D,"border-start-end-radius":D,"border-end-start-radius":D,"border-end-end-radius":D,margin:D,"margin-bottom":D,"margin-left":D,"margin-right":D,"margin-top":D,"margin-block":D,"margin-block-end":D,"margin-block-start":D,"margin-inline":D,"margin-inline-end":D,"margin-inline-start":D,padding:D,"padding-bottom":D,"padding-left":D,"padding-right":D,"padding-top":D,"padding-block":D,"padding-block-end":D,"padding-block-start":D,"padding-inline":D,"padding-inline-end":D,"padding-inline-start":D,"mask-position-x":D,"mask-position-y":D,"mask-size":D,height:D,width:D,"min-height":D,"max-height":D,"min-width":D,"max-width":D,bottom:D,left:D,top:D,right:D,inset:D,"inset-block":D,"inset-block-end":D,"inset-block-start":D,"inset-inline":D,"inset-inline-end":D,"inset-inline-start":D,"box-shadow":D,"text-shadow":D,"column-gap":D,"column-rule":D,"column-rule-width":D,"column-width":D,"font-size":D,"font-size-delta":D,"letter-spacing":D,"text-decoration-thickness":D,"text-indent":D,"text-stroke":D,"text-stroke-width":D,"word-spacing":D,motion:D,"motion-offset":D,outline:D,"outline-offset":D,"outline-width":D,perspective:D,"perspective-origin-x":B,"perspective-origin-y":B,"transform-origin":B,"transform-origin-x":B,"transform-origin-y":B,"transform-origin-z":B,"transition-delay":F,"transition-duration":F,"vertical-align":D,"flex-basis":D,"shape-margin":D,size:D,gap:D,grid:D,"grid-gap":D,"row-gap":D,"grid-row-gap":D,"grid-column-gap":D,"grid-template-rows":D,"grid-template-columns":D,"grid-auto-rows":D,"grid-auto-columns":D,"box-shadow-x":D,"box-shadow-y":D,"box-shadow-blur":D,"box-shadow-spread":D,"font-line-height":D,"text-shadow-x":D,"text-shadow-y":D,"text-shadow-blur":D});function q(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=q(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=q(i,t[i],n);else for(var a in t)t[a]=q(e+"-"+a,t[a],n);else if("number"==typeof t&&!1===isNaN(t)){var o=n[e]||z[e];return!o||0===t&&o===D?t.toString():"function"==typeof o?o(t).toString():""+t+o}return t}var H=function(e){void 0===e&&(e={});var t=U(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=q(r,e[r],t);return e},onChangeValue:function(e,n){return q(n,e,t)}}},W={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},G={position:!0,size:!0},V={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},$={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function Q(e,t,n,r){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?Q(e[0],t,n,r):"object"==typeof e[0]?function(e,t,n){return e.map((function(e){return J(e,t,n,!1,!0)}))}(e,t,r):[e]}function J(e,t,n,r,i){if(!V[t]&&!$[t])return[];var a=[];if($[t]&&(e=function(e,t,n,r){for(var i in n){var a=n[i];if(void 0!==e[i]&&(r||!t.prop(a))){var o,s=K((o={},o[a]=e[i],o),t)[a];r?t.style.fallbacks[a]=s:t.style[a]=s}delete e[i]}return e}(e,n,$[t],r)),Object.keys(e).length)for(var o in V[t])e[o]?Array.isArray(e[o])?a.push(null===G[o]?e[o]:e[o].join(" ")):a.push(e[o]):null!=V[t][o]&&a.push(V[t][o]);return!a.length||i?a:[a]}function K(e,t,n){for(var r in e){var i=e[r];if(Array.isArray(i)){if(!Array.isArray(i[0])){if("fallbacks"===r){for(var a=0;a<e.fallbacks.length;a++)e.fallbacks[a]=K(e.fallbacks[a],t,!0);continue}e[r]=Q(i,r,W,t),e[r].length||delete e[r]}}else if("object"==typeof i){if("fallbacks"===r){e.fallbacks=K(e.fallbacks,t,!0);continue}e[r]=J(i,r,t,n),e[r].length||delete e[r]}else""===e[r]&&delete e[r]}return e}var X=function(){return{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=K(e[n],t);return e}return K(e,t)}}},Y=n(55);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te="",ne="",re="",ie="",ae=Y.a&&"ontouchstart"in document.documentElement;if(Y.a){var oe={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},se=document.createElement("p").style;for(var le in oe)if(le+"Transform"in se){te=le,ne=oe[le];break}"Webkit"===te&&"msHyphens"in se&&(te="ms",ne=oe.ms,ie="edge"),"Webkit"===te&&"-apple-trailing-word"in se&&(re="apple")}var ce=te,ue=ne,de=re,pe=ie,fe=ae;var he={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ce?"-webkit-"+e:ue+e)}},me={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ce?ue+"print-"+e:e)}},ge=/[-\s]+(.)?/g;function ve(e,t){return t?t.toUpperCase():""}function ye(e){return e.replace(ge,ve)}function be(e){return ye("-"+e)}var we,xe={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ce){if(ye("mask-image")in t)return e;if(ce+be("mask-image")in t)return ue+e}return e}},ke={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==de||fe?e:ue+e)}},Ce={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ue+e)}},Ee={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ue+e)}},Te={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ce||"ms"===ce&&"edge"!==pe?ue+e:e)}},_e={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ce||"ms"===ce||"apple"===de?ue+e:e)}},Se={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ce?"WebkitColumn"+be(e)in t&&ue+"column-"+e:"Moz"===ce&&("page"+be(e)in t&&"page-"+e))}},Oe={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ce)return e;var n=e.replace("-inline","");return ce+be(n)in t&&ue+n}},Ae={supportedProperty:function(e,t){return ye(e)in t&&e}},je={supportedProperty:function(e,t){var n=be(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ce+n in t?ue+e:"Webkit"!==ce&&"Webkit"+n in t&&"-webkit-"+e}},Pe={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ce?""+ue+e:e)}},Ie={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ce?ue+"scroll-chaining":e)}},Ne={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Le={supportedProperty:function(e,t){var n=Ne[e];return!!n&&(ce+be(n)in t&&ue+n)}},Re={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Me=Object.keys(Re),De=function(e){return ue+e},Fe=[he,me,xe,ke,Ce,Ee,Te,_e,Se,Oe,Ae,je,Pe,Ie,Le,{supportedProperty:function(e,t,n){var r=n.multiple;if(Me.indexOf(e)>-1){var i=Re[e];if(!Array.isArray(i))return ce+be(i)in t&&ue+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ce+be(i[0])in t))return!1;return i.map(De)}return!1}}],Be=Fe.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ue=Fe.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,ee(t.noPrefill)),e}),[]),ze={};if(Y.a){we=document.createElement("p");var qe=window.getComputedStyle(document.documentElement,"");for(var He in qe)isNaN(He)||(ze[qe[He]]=qe[He]);Ue.forEach((function(e){return delete ze[e]}))}function We(e,t){if(void 0===t&&(t={}),!we)return e;if(null!=ze[e])return ze[e];"transition"!==e&&"transform"!==e||(t[e]=e in we.style);for(var n=0;n<Be.length&&(ze[e]=Be[n](e,we.style,t),!ze[e]);n++);try{we.style[e]=""}catch(e){return!1}return ze[e]}var Ge,Ve={},$e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Qe=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Je(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?We(t):", "+We(n);return r||(t||n)}function Ke(e,t){var n=t;if(!Ge||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ve[r])return Ve[r];try{Ge.style[e]=n}catch(e){return Ve[r]=!1,!1}if($e[e])n=n.replace(Qe,Je);else if(""===Ge.style[e]&&("-ms-flex"===(n=ue+n)&&(Ge.style[e]="-ms-flexbox"),Ge.style[e]=n,""===Ge.style[e]))return Ve[r]=!1,!1;return Ge.style[e]="",Ve[r]=n,Ve[r]}Y.a&&(Ge=document.createElement("p"));var Xe=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var a=!1,o=We(n);o&&o!==n&&(a=!0);var s=!1,l=Ke(o,Object(r.toCssValue)(i));l&&l!==i&&(s=!0),(a||s)&&(a&&delete t[n],t[o||n]=l||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ce?n:"@"+ue+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Ke(t,Object(r.toCssValue)(e))||e}}};var Ye=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};t.default=function(e){return void 0===e&&(e={}),{plugins:[s(),u(e.observable),f(),w(),E(),O(),A(),M(),H(e.defaultUnit),X(),Xe(),Ye()]}}},function(e,t,n){"use strict";var r,i=n(1),a=n.n(i),o=n(54),s=n(33),l=n(2),c=n(35),u=n(12),d=n(41);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=f(f({},s.a),{},{supports:(r={},a()(r,c.a.collections,!0),a()(r,c.a.defaultGraphType,!1),a()(r,c.a.equalsMethod,!0),a()(r,c.a.identity,!1),a()(r,c.a.id,!0),a()(r,c.a.reversibleId,!1),a()(r,c.a.variableType,!0),r),collection:function(e){return new o.a(e)},id:function(e){var t=this;return Object(u.b)(e)?"( ".concat(e.elements.map((function(e){return t.id(e)})).join(", ")," )"):Object(u.n)(e)?d.a.toString(e):s.a.id(e)},termToNQ:function(e){return e.termType===l.b?o.a.toNT(e):s.a.termToNQ(e)}});t.a=h},function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];x.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function C(e,n){return new Promise((function(r,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new x(i,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}C.polyfill=!0,e.fetch||(e.fetch=C,e.Headers=p,e.Request=b,e.Response=x),t.Headers=p,t.Request=b,t.Response=x,t.fetch=C,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},function(e,t,n){"use strict";const{isKeyword:r}=n(66),i=n(50),a=n(42),o=n(46),s=n(48),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new o.IdentifierIssuer("_:b"),r={"@default":{}};return l.createNodeMap(e,r,"@default",n),l.mergeNodeMaps(r)},l.createNodeMap=(e,t,n,c,u,d)=>{if(a.isArray(e)){for(const r of e)l.createNodeMap(r,t,n,c,void 0,d);return}if(!a.isObject(e))return void(d&&d.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&i.isList(e)){const r=[];return l.createNodeMap(e["@list"],t,n,c,u,r),void d.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}a.isUndefined(u)&&(u=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const p=t[n],f=p[u]=p[u]||{};f["@id"]=u;const h=Object.keys(e).sort();for(let a of h){if("@id"===a)continue;if("@reverse"===a){const r={"@id":u},a=e["@reverse"];for(const e in a){const s=a[e];for(const a of s){let s=a["@id"];i.isBlankNode(a)&&(s=c.getId(s)),l.createNodeMap(a,t,n,c,s),o.addValue(p[s],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===a){u in t||(t[u]={}),l.createNodeMap(e[a],t,u,c);continue}if("@included"===a){l.createNodeMap(e[a],t,n,c);continue}if("@type"!==a&&r(a)){if("@index"===a&&a in f&&(e[a]!==f[a]||e[a]["@id"]!==f[a]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[a]=e[a];continue}const d=e[a];if(0===a.indexOf("_:")&&(a=c.getId(a)),0!==d.length)for(let e of d)if("@type"===a&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];o.addValue(f,a,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,n,c,r)}else if(i.isValue(e))o.addValue(f,a,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const r=[];l.createNodeMap(e["@list"],t,n,c,u,r),e={"@list":r},o.addValue(f,a,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,n,c,u),o.addValue(f,a,e,{propertyIsArray:!0,allowDuplicate:!1});else o.addValue(f,a,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const a=e[n][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(a).sort())if(r(e)&&"@type"!==e)s[e]=o.clone(a[e]);else for(const t of a[e])o.addValue(s,e,o.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let a=t[r];a?"@graph"in a||(a["@graph"]=[]):t[r]=a={"@id":r,"@graph":[]};const o=a["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];i.isSubjectReference(t)||o.push(t)}}return t}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.adoptACLDefault=function(e,t,n,r){var i=s.acl,a="/"===e.uri.slice(-1),o=m.each(void 0,i("default"),n,r).concat(m.each(void 0,i("defaultForNew"),n,r)).reduce((function(t,n){return t.concat(m.statementsMatching(n,s.rdf("type"),i("Authorization"),r)).concat(m.statementsMatching(n,i("agent"),void 0,r)).concat(m.statementsMatching(n,i("agentClass"),void 0,r)).concat(m.statementsMatching(n,i("agentGroup"),void 0,r)).concat(m.statementsMatching(n,i("origin"),void 0,r)).concat(m.statementsMatching(n,i("originClass"),void 0,r)).concat(m.statementsMatching(n,i("mode"),void 0,r)).concat((0,d.st)(n,i("accessTo"),e,r)).concat(a?(0,d.st)(n,i("default"),e,r):[])}),[]),l=(0,d.graph)();return o.forEach((function(e){return l.add(c(e.subject),c(e.predicate),c(e.object),(0,d.sym)(t.uri))})),l;function c(e){var n=r.uri.length;return(0,d.sym)(e.uri.slice(0,n)===r.uri?t.uri+e.uri.slice(n):e.uri)}},t.readACL=g,t.sameACL=v,t.ACLunion=y,t.loadUnionACL=b,t.ACLbyCombination=w,t.makeACLGraph=x,t.makeACLGraphbyCombo=k,t.ACLToString=function(e){return C(w(e))},t.comboToString=C,t.makeACLString=function(e,t,n){var r=(0,d.graph)();return x(r,e,t,n),(0,d.serialize)(n,r,n.uri,"text/turtle")||""},t.putACLObject=E,t.putACLbyCombo=T,t.fixIndividualCardACL=function(e,t,n){var r=m.each(void 0,s.vcard("hasMember"),e);r?_(e,r,t,n):(t("This card is in no groups"),n(!0))},t.fixIndividualACL=_,t.setACL=function(e,t,n){var r=m.any(e,p.ACL_LINK);if(!m.fetcher)throw new Error("Store has no fetcher");r?m.fetcher.webOperation("PUT",r.value,{data:t,contentType:"text/turtle"}).then((function(e){n(e.ok,e.error||"")})):m.fetcher.nowOrWhenFetched(e,void 0,(function(r,i){if(!r)return n(r,"Gettting headers for ACL: "+i);var a=m.any(e,p.ACL_LINK);if(a){if(!m.fetcher)throw new Error("Store has no fetcher");m.fetcher.webOperation("PUT",a.value,{data:t,contentType:"text/turtle"}).then((function(e){n(e.ok,e.error||"")}))}else n(!1,"No Link rel=ACL header for "+e)}))},t.getACLorDefault=S,t.getACL=O,t.getProspectiveHolder=function(e){return A.apply(this,arguments)};var a=r(n(10)),o=r(n(15)),s=h(n(16)),l=n(20),c=h(n(27)),u=h(n(24)),d=n(3),p=n(110);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var m=l.solidLogicSingleton.store;function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r?l(n,s):n.each(void 0,s.acl("accessTo"),e),a=s.acl,o={agent:{},agentClass:{},agentGroup:{},origin:{},originClass:{}};return Object.keys(o).forEach((function(e){i.forEach((function(t){n.each(t,a("mode")).forEach((function(r){n.each(t,a(e)).forEach((function(n){o[e][n.uri]=o[e][n.uri]||{},o[e][n.uri][r.uri]=t}))}))}))})),o;function l(t,n){return t.each(void 0,n.acl("default"),e).concat(t.each(void 0,n.acl("defaultForNew"),e))}}function v(e,t){var n=function(e,t){for(var n in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})if(e[n])for(var r in e[n])for(var i in e[n][r])if(!t[n][r]||!t[n][r][i])return!1;return!0};return n(e,t)&&n(t,e)}function y(e){for(var t,n,r=e[0],i=function(i){["agent","agentClass","agentGroup","origin","originClass"].forEach((function(a){if((t=e[i])[a])for(n in t[a])for(var o in t[a][n])r[a][n]||(r[a][n]=[]),r[a][n][o]=!0}))},a=1;a<e.length;a++)i(a);return r}function b(e,t){var n=[];!function e(r){r.length?S(r.shift().doc(),(function(i,a,o,s,l,c){var u=!a;if(!i||!l||!c)return t(i,s);var d=u?g(l,c):g(o,s);n.push(d),e(r.slice(1))})):t(!0,y(n))}(e)}function w(e){var t={};return["agent","agentClass","agentGroup","origin","originClass"].forEach((function(n){for(var r in e[n]){var i=[];for(var a in e[n][r])i.push(a);i.sort();var o=i.join("\n");t[o]||(t[o]=[]),t[o].push([n,r])}})),t}function x(e,t,n,r){return k(e,t,w(n),r)}function k(e,t,n,r,i,a){var o=s.acl;for(var l in n){var c=n[l];if(c.length){var u=l.split("\n"),d=u.map((function(e){return e.split("#")[1]})).join("");a&&!i&&(d+="Default");var p=e.sym(r.uri+"#"+d);e.add(p,s.rdf("type"),o("Authorization"),r),i&&e.add(p,o("accessTo"),t,r),a&&e.add(p,o("default"),t,r);for(var f=0;f<u.length;f++)e.add(p,o("mode"),e.sym(u[f]),r);for(var h=0;h<c.length;h++){var m=c[h][0],g=c[h][1];e.add(p,o(m),e.sym(g),r)}}}}function C(e){var t="";for(var n in e){t+=n.split("\n").map((function(e){return e.split("#")[1][0]})).join("")+":";for(var r=e[n],i=0;i<r.length;i++){var a=r[i][0],o=(0,d.sym)(r[i][1]);t+="agent"===a?"@":"",t+=o.sameTerm(s.foaf("Agent"))?"*":c.label(o),i<r.length-1&&(t+=",")}t+=";"}return"{"+t.slice(0,-1)+"}"}function E(e,t,n,r,i){return T(e,t,w(n),r,i)}function T(e,t,n,r,i){var a=(0,d.graph)();k(a,t,n,r,!0),e.updater.put(r,a.statementsMatching(void 0,void 0,void 0,r),"text/turtle",(function(a,o,s){o?(e.fetcher.unload(r),k(e,t,n,r,!0),e.fetcher.requested[r.uri]="done",i(o)):i(o,s)}))}function _(e,t,n,r){n=n||u.log;var i=e.doc();S(i,(function(a,o,s,l,u,d){if(!a||!u||!d)return r(!1,l);var p=o?g(s,l):g(u,d);b(t,(function(t,a){if(!t)return r(!1,a);v(a,p)?n("Nice - same ACL. no change "+c.label(e)+" "+i):(n("Group ACLs differ for "+c.label(e)+" "+i),E(m,s,a,l,r))}))}))}function S(e,t){O(e,(function(n,r,i,a){var o=s.acl;if(!n)return t(!1,!1,r,a);return n?404!==r?403===r?t(!1,!1,r,"(Sharing not available to you)".concat(a)):200!==r?t(!1,!1,r,"Error ".concat(r," accessing Access Control information for ").concat(e,": ").concat(a)):t(!0,!0,e,i):void function n(r){"/"===r.slice(-1)&&(r=r.slice(0,-1));var a=r.lastIndexOf("/");if(r.indexOf("/",r.indexOf("//")+2)>a)return t(!1,!0,404,"Found no ACL resource");r=r.slice(0,a+1);var s=(0,d.sym)(r);O(s,(function(a,l,c){if(!a)return t(!1,!0,l,"( No ACL pointer ".concat(r," ").concat(l,")").concat(c));if(403===l)return t(!1,!0,l,"( default ACL file FORBIDDEN. Stop.".concat(r,")"));if(404===l)return n(r);if(200!==l)return t(!1,!0,l,"Error status '".concat(l,"' searching for default for ").concat(s));if(!m.each(void 0,o("default"),m.sym(r),c).concat(m.each(void 0,o("defaultForNew"),m.sym(r),c)).length)return n(r);var u=m.sym(r);return t(!0,!1,e,i,u,c)}))}(e.uri):t(!1,!1,r,"Error accessing Access Control information for ".concat(e,") ").concat(a))}))}function O(e,t){if(!m.fetcher)throw new Error("kb has no fetcher");m.fetcher.nowOrWhenFetched(e,void 0,(function(n,r){if(!n)return t(n,"Can't get headers to find ACL for ".concat(e,": ").concat(r));var i=m.any(e,p.ACL_LINK);if(i){if(!m.fetcher)throw new Error("kb has no fetcher");if(m.fetcher.nonexistent[i.value])return t(!0,404,i,"ACL file ".concat(i," does not exist."));m.fetcher.nowOrWhenFetched(i,void 0,(function(e,n,r){e?t(!0,200,i):t(!0,r.status,i,"Can't read Access Control File ".concat(i,": ").concat(n))}))}else t(!1,900,"No Link rel=ACL header for ".concat(e))}))}function A(){return(A=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){return S((0,d.sym)(t),(function(r,i,a,o,s){return r?e(i?a:s):n(new Error("Error loading ".concat(t)))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"styleMap",(function(){return a}));var r=n(40);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const i=new WeakMap,a=Object(r.directive)(e=>t=>{if(!(t instanceof r.AttributePart)||t instanceof r.PropertyPart||"style"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:n}=t,{style:a}=n.element;let o=i.get(t);void 0===o&&(a.cssText=n.strings.join(" "),i.set(t,o=new Set)),o.forEach(t=>{t in e||(o.delete(t),-1===t.indexOf("-")?a[t]=null:a.removeProperty(t))});for(const t in e)o.add(t),-1===t.indexOf("-")?a[t]=e[t]:a.setProperty(t,e[t])})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.label=t.headingLight=t.heading=t.textGray=t.textDarkGray=t.fontSemibold=t.fontThin=t.textXl=t.textRight=t.textLeft=t.textCenter=t.marginVerticalSmall=t.paddingSmall=t.padding=t.fullWidth=t.card=t.responsiveGrid=void 0;t.responsiveGrid=function(){return{"--auto-grid-min-size":"20rem",display:"grid","grid-template-columns":"repeat(auto-fill, minmax(var(--auto-grid-min-size), 1fr))","grid-gap":"1rem"}};t.card=function(){return{backgroundColor:"white",borderRadius:"4px",boxShadow:"0 1px 5px rgba(0,0,0,0.2)",padding:"0"}};t.fullWidth=function(){return{width:"100%","max-width":"100vw"}};t.padding=function(){return{padding:"1rem"}};t.paddingSmall=function(){return{padding:"0.25rem"}};t.marginVerticalSmall=function(){return{marginTop:"0.25rem",marginBottom:"0.25rem"}};t.textCenter=function(){return{textAlign:"center"}};t.textLeft=function(){return{textAlign:"left"}};t.textRight=function(){return{textAlign:"right"}};t.textXl=function(){return{fontSize:"1.25rem",lineHeight:"1.75rem"}};t.fontThin=function(){return{fontWeight:"100"}};t.fontSemibold=function(){return{fontWeight:"600"}};t.textDarkGray=function(){return{color:"rgb(55, 65, 81,)"}};t.textGray=function(){return{color:"rgb(107, 114, 128)"}};t.heading=function(){return r(r(r(r(r({},t.textCenter()),t.textXl()),t.fontSemibold()),t.textDarkGray()),{margin:"0"})};t.headingLight=function(){return r(r(r(r({},t.textGray()),t.fontThin()),t.textXl()),{margin:"0"})};t.label=function(){return r(r({},t.textGray()),t.fontSemibold())}},function(e,t,n){"use strict";var r=String.fromCharCode;e.exports=r},function(e,t,n){"use strict";var r=n(29),i=n(31),a={tokenize:function(e,t,n){return i(e,(function(e){return null===e||r(e)?t(e):n(e)}),"linePrefix")},partial:!0};e.exports=a},function(e,t,n){"use strict";var r=n(155);e.exports=function(e,t){var n=e[e.length-1];return n&&n[1].type===t?r(n[2].sliceStream(n[1])):0}},function(e,t,n){"use strict";var r=n(60)(/[\dA-Za-z]/);e.exports=r},function(e,t,n){"use strict";e.exports=s;var r=n(366),i=r.CONTINUE,a=r.SKIP,o=r.EXIT;function s(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),r(e,t,(function(e,t){var r=t[t.length-1],i=r?r.children.indexOf(e):null;return n(e,i,r)}),i)}s.CONTINUE=i,s.SKIP=a,s.EXIT=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(61),i=n(25);function a(e,t,n){var a,o,s,l=["INSERT","DELETE","WHERE"],c=Object(i.a)("http://www.w3.org/ns/pim/patch#"),u=Object(r.a)(t,t,n,n,null,null,"",null),d={},p=function(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+n.slice(r,r+30)+'"'};a=0;var f=t.sym(n+"#query");for(d.query=f;;){if((o=u.skipSpace(e,a))<0)return d;if(";"===e[o]){if((a=u.skipSpace(e,o+1))<0)return d;o=a}var h=!1;for(s=0;s<l.length;s++){var m=l[s];if(e.slice(o,o+m.length)===m){if((a=u.skipSpace(e,o+m.length))<0)throw p(u._thisDoc,u.lines,e,o+m.length,"found EOF, needed {...} after "+m);if(("INSERT"===m||"DELETE"===m)&&"DATA"===e.slice(a,a+4)){if((o=u.skipSpace(e,a+4))<0)throw p(u._thisDoc,u.lines,e,a+4,"needed {...} after INSERT DATA "+m);a=o}var g=[];if((o=u.node(e,a,g))<0)throw p(u._thisDoc,u.lines,e,a,"bad syntax or EOF in {...} after "+m);d[m.toLowerCase()]=g[0],t.add(f,c(m.toLowerCase()),g[0]),h=!0,a=o}}if(!h&&"@prefix"===e.slice(o,o+7)){if((a=u.directive(e,o))<0)throw p(u._thisDoc,u.lines,e,a,"bad syntax or EOF after @prefix ");a=u.checkDot(e,a),h=!0}if(!h)throw p(u._thisDoc,u.lines,e,o,"Unknown syntax at start of statememt: '"+e.slice(o).slice(0,20)+"'")}}},function(e,t,n){"use strict";function r(e){return function(...t){var n=t.pop();return e.call(this,t,n)}}n.r(t),n.d(t,"convertToJson",(function(){return st})),n.d(t,"convertToNQuads",(function(){return lt}));var i="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function o(e){setTimeout(e,0)}function s(e){return(t,...n)=>e(()=>t(...n))}var l=s(i?setImmediate:a?process.nextTick:o);function c(e){return p(e)?function(...t){const n=t.pop();return u(e.apply(this,t),n)}:r((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&"function"==typeof r.then)return u(r,n);n(null,r)}))}function u(e,t){return e.then(e=>{d(t,null,e)},e=>{d(t,e&&e.message?e:new Error(e))})}function d(e,t,n){try{e(t,n)}catch(e){l(e=>{throw e},e)}}function p(e){return"AsyncFunction"===e[Symbol.toStringTag]}function f(e){if("function"!=typeof e)throw new Error("expected a function");return p(e)?c(e):e}function h(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...n){return"function"==typeof n[t-1]?e.apply(this,n):new Promise((r,i)=>{n[t-1]=(e,...t)=>{if(e)return i(e);r(t.length>1?t:t[0])},e.apply(this,n)})}}function m(e){return function(t,...n){return h((function(r){var i=this;return e(t,(e,t)=>{f(e).apply(i,n.concat(t))},r)}))}}function g(e,t,n,r){t=t||[];var i=[],a=0,o=f(n);return e(t,(e,t,n)=>{var r=a++;o(e,(e,t)=>{i[r]=t,n(e)})},e=>{r(e,i)})}function v(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const y={};function b(e){function t(...t){if(null!==e){var n=e;e=null,n.apply(this,t)}}return Object.assign(t,e),t}function w(e){if(v(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,a=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return a?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(a):(n=(t=e)?Object.keys(t):[],r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function x(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,t)}}function k(e,t,n,r){let i=!1,a=!1,o=!1,s=0,l=0;function c(){s>=t||o||i||(o=!0,e.next().then(({value:e,done:t})=>{if(!a&&!i){if(o=!1,t)return i=!0,void(s<=0&&r(null));s++,n(e,l,u),l++,c()}}).catch(d))}function u(e,t){if(s-=1,!a)return e?d(e):!1===e?(i=!0,void(a=!0)):t===y||i&&s<=0?(i=!0,r(null)):void c()}function d(e){a||(o=!1,i=!0,r(e))}c()}var C=e=>(t,n,r)=>{if(r=b(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if("AsyncGenerator"===t[Symbol.toStringTag])return k(t,e,n,r);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return k(t[Symbol.asyncIterator](),e,n,r);var i=w(t),a=!1,o=!1,s=0,l=!1;function c(e,t){if(!o)if(s-=1,e)a=!0,r(e);else if(!1===e)a=!0,o=!0;else{if(t===y||a&&s<=0)return a=!0,r(null);l||u()}}function u(){for(l=!0;s<e&&!a;){var t=i();if(null===t)return a=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,x(c))}l=!1}u()};var E=h((function(e,t,n,r){return C(t)(e,f(n),r)}),4);function T(e,t,n){n=b(n);var r=0,i=0,{length:a}=e,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?n(e):++i!==a&&t!==y||n(null))}for(0===a&&n(null);r<a;r++)t(e[r],r,x(s))}function _(e,t,n){return E(e,1/0,t,n)}var S=h((function(e,t,n){return(v(e)?T:_)(e,f(t),n)}),3);var O=h((function(e,t,n){return g(S,e,t,n)}),3),A=m(O);var j=h((function(e,t,n){return E(e,1,t,n)}),3);var P=h((function(e,t,n){return g(j,e,t,n)}),3),I=m(P);const N=Symbol("promiseCallback");function L(){let e,t;function n(n,...r){if(n)return t(n);e(r.length>1?r:r[0])}return n[N]=new Promise((n,r)=>{e=n,t=r}),n}function R(e,t,n){"number"!=typeof t&&(n=t,t=null),n=b(n||L());var r=Object.keys(e).length;if(!r)return n(null);t||(t=r);var i={},a=0,o=!1,s=!1,l=Object.create(null),c=[],u=[],d={};function p(e,t){c.push(()=>function(e,t){if(s)return;var r=x((t,...r)=>{if(a--,!1!==t)if(r.length<2&&([r]=r),t){var c={};if(Object.keys(i).forEach(e=>{c[e]=i[e]}),c[e]=r,s=!0,l=Object.create(null),o)return;n(t,c)}else i[e]=r,(l[e]||[]).forEach(e=>e()),h();else o=!0});a++;var c=f(t[t.length-1]);t.length>1?c(i,r):c(r)}(e,t))}function h(){if(!o){if(0===c.length&&0===a)return n(null,i);for(;c.length&&a<t;){c.shift()()}}}function m(t){var n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)&&i.indexOf(t)>=0&&n.push(r)}),n}return Object.keys(e).forEach(t=>{var n=e[t];if(!Array.isArray(n))return p(t,[n]),void u.push(t);var r=n.slice(0,n.length-1),i=r.length;if(0===i)return p(t,n),void u.push(t);d[t]=i,r.forEach(a=>{if(!e[a])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+a+"` in "+r.join(", "));!function(e,t){var n=l[e];n||(n=l[e]=[]);n.push(t)}(a,()=>{0===--i&&p(t,n)})})}),function(){var e,t=0;for(;u.length;)e=u.pop(),t++,m(e).forEach(e=>{0==--d[e]&&u.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h(),n[N]}var M=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,D=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,F=/,/,B=/(=.+)?(\s*)$/,U=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;class z{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):q(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):q(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:n}=t;e(t)&&this.removeLink(t),t=n}return this}}function q(e,t){e.length=1,e.head=e.tail=t}function H(e,t,n){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var r=f(e),i=0,a=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(o[e]=o[e].filter(e=>e!==t)):o[e]=[]:Object.keys(o).forEach(e=>o[e]=[])}function c(e,...t){o[e].forEach(e=>e(...t))}var u=!1;function d(e,t,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var i,a;function o(e,...t){return e?n?a(e):i():t.length<=1?i(t[0]):void i(t)}v.started=!0;var s={data:e,callback:n?o:r||o};if(t?v._tasks.unshift(s):v._tasks.push(s),u||(u=!0,l(()=>{u=!1,v.process()})),n||!r)return new Promise((e,t)=>{i=e,a=t})}function p(e){return function(t,...n){i-=1;for(var r=0,o=e.length;r<o;r++){var s=e[r],l=a.indexOf(s);0===l?a.shift():l>0&&a.splice(l,1),s.callback(t,...n),null!=t&&c("error",t,s.data)}i<=v.concurrency-v.buffer&&c("unsaturated"),v.idle()&&c("drain"),v.process()}}function h(e){return!(0!==e.length||!v.idle())&&(l(()=>c("drain")),!0)}const m=e=>t=>{if(!t)return new Promise((t,n)=>{!function(e,t){const n=(...r)=>{s(e,n),t(...r)};o[e].push(n)}(e,(e,r)=>{if(e)return n(e);t(r)})});s(e),function(e,t){o[e].push(t)}(e,t)};var g=!1,v={_tasks:new z,*[Symbol.iterator](){yield*v._tasks[Symbol.iterator]()},concurrency:t,payload:n,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!1,!1,t))}return d(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!1,!0,t))}return d(e,!1,!0,t)},kill(){s(),v._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!0,!1,t))}return d(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!0,!0,t))}return d(e,!0,!0,t)},remove(e){v._tasks.remove(e)},process(){if(!g){for(g=!0;!v.paused&&i<v.concurrency&&v._tasks.length;){var e=[],t=[],n=v._tasks.length;v.payload&&(n=Math.min(n,v.payload));for(var o=0;o<n;o++){var s=v._tasks.shift();e.push(s),a.push(s),t.push(s.data)}i+=1,0===v._tasks.length&&c("empty"),i===v.concurrency&&c("saturated");var l=x(p(e));r(t,l)}g=!1}},length:()=>v._tasks.length,running:()=>i,workersList:()=>a,idle:()=>v._tasks.length+i===0,pause(){v.paused=!0},resume(){!1!==v.paused&&(v.paused=!1,l(v.process))}};return Object.defineProperties(v,{saturated:{writable:!1,value:m("saturated")},unsaturated:{writable:!1,value:m("unsaturated")},empty:{writable:!1,value:m("empty")},drain:{writable:!1,value:m("drain")},error:{writable:!1,value:m("error")}}),v}var W=h((function(e,t,n,r){r=b(r);var i=f(n);return j(e,(e,n,r)=>{i(t,e,(e,n)=>{t=n,r(e)})},e=>r(e,t))}),4);function G(...e){var t=e.map(f);return function(...e){var n=this,r=e[e.length-1];return"function"==typeof r?e.pop():r=L(),W(t,e,(e,t,r)=>{t.apply(n,e.concat((e,...t)=>{r(e,t)}))},(e,t)=>r(e,...t)),r[N]}}var V=h((function(e,t,n,r){return g(C(t),e,n,r)}),4);var $=h((function(e,t,n,r){var i=f(n);return V(e,t,(e,t)=>{i(e,(e,...n)=>e?t(e):t(e,n))},(e,t)=>{for(var n=[],i=0;i<t.length;i++)t[i]&&(n=n.concat(...t[i]));return r(e,n)})}),4);var Q=h((function(e,t,n){return $(e,1/0,t,n)}),3);var J=h((function(e,t,n){return $(e,1,t,n)}),3);function K(e,t){return(n,r,i,a)=>{var o,s=!1;const l=f(i);n(r,(n,r,i)=>{l(n,(r,a)=>r||!1===r?i(r):e(a)&&!o?(s=!0,o=t(!0,n),i(null,y)):void i())},e=>{if(e)return a(e);a(null,s?o:t(!1))})}}var X=h((function(e,t,n){return K(e=>e,(e,t)=>t)(S,e,t,n)}),3);var Y=h((function(e,t,n,r){return K(e=>e,(e,t)=>t)(C(t),e,n,r)}),4);var Z=h((function(e,t,n){return K(e=>e,(e,t)=>t)(C(1),e,t,n)}),3);function ee(e){return(t,...n)=>f(t)(...n,(t,...n)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&n.forEach(t=>console[e](t)))})}var te=ee("dir");var ne=h((function(e,t,n){n=x(n);var r,i=f(e),a=f(t);function o(e,...t){if(e)return n(e);!1!==e&&(r=t,a(...t,s))}function s(e,t){return e?n(e):!1!==e?t?void i(o):n(null,...r):void 0}return s(null,!0)}),3);function re(e){return(t,n,r)=>e(t,r)}var ie=h((function(e,t,n){return S(e,re(f(t)),n)}),3);var ae=h((function(e,t,n,r){return C(t)(e,re(f(n)),r)}),4);var oe=h((function(e,t,n){return ae(e,1,t,n)}),3);function se(e){return p(e)?e:function(...t){var n=t.pop(),r=!0;t.push((...e)=>{r?l(()=>n(...e)):n(...e)}),e.apply(this,t),r=!1}}var le=h((function(e,t,n){return K(e=>!e,e=>!e)(S,e,t,n)}),3);var ce=h((function(e,t,n,r){return K(e=>!e,e=>!e)(C(t),e,n,r)}),4);var ue=h((function(e,t,n){return K(e=>!e,e=>!e)(j,e,t,n)}),3);function de(e,t,n,r){var i=new Array(t.length);e(t,(e,t,r)=>{n(e,(e,n)=>{i[t]=!!n,r(e)})},e=>{if(e)return r(e);for(var n=[],a=0;a<t.length;a++)i[a]&&n.push(t[a]);r(null,n)})}function pe(e,t,n,r){var i=[];e(t,(e,t,r)=>{n(e,(n,a)=>{if(n)return r(n);a&&i.push({index:t,value:e}),r(n)})},e=>{if(e)return r(e);r(null,i.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function fe(e,t,n,r){return(v(t)?de:pe)(e,t,f(n),r)}var he=h((function(e,t,n){return fe(S,e,t,n)}),3);var me=h((function(e,t,n,r){return fe(C(t),e,n,r)}),4);var ge=h((function(e,t,n){return fe(j,e,t,n)}),3);var ve=h((function(e,t){var n=x(t),r=f(se(e));return function e(t){if(t)return n(t);!1!==t&&r(e)}()}),2);var ye=h((function(e,t,n,r){var i=f(n);return V(e,t,(e,t)=>{i(e,(n,r)=>n?t(n):t(n,{key:r,val:e}))},(e,t)=>{for(var n={},{hasOwnProperty:i}=Object.prototype,a=0;a<t.length;a++)if(t[a]){var{key:o}=t[a],{val:s}=t[a];i.call(n,o)?n[o].push(s):n[o]=[s]}return r(e,n)})}),4);var be=ee("log");var we=h((function(e,t,n,r){r=b(r);var i={},a=f(n);return C(t)(e,(e,t,n)=>{a(e,t,(e,r)=>{if(e)return n(e);i[t]=r,n(e)})},e=>r(e,i))}),4);var xe=s(a?process.nextTick:i?setImmediate:o),ke=h((e,t,n)=>{var r=v(t)?[]:{};e(t,(e,t,n)=>{f(e)((e,...i)=>{i.length<2&&([i]=i),r[t]=i,n(e)})},e=>n(e,r))},3);function Ce(e,t){var n=f(e);return H((e,t)=>{n(e[0],t)},t,1)}class Ee{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&_e(this.heap[e],this.heap[t=Te(e)]);){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&_e(this.heap[t+1],this.heap[t])&&(t+=1),!_e(this.heap[e],this.heap[t]));){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(let e=Te(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Te(e){return(e+1>>1)-1}function _e(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}var Se=h((function(e,t){if(t=b(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)f(e[n])(t)}),2);function Oe(e,t,n,r){var i=[...e].reverse();return W(i,t,n,r)}function Ae(e){var t=f(e);return r((function(e,n){return e.push((e,...t)=>{let r={};if(e&&(r.error=e),t.length>0){var i=t;t.length<=1&&([i]=t),r.value=i}n(null,r)}),t.apply(this,e)}))}function je(e,t,n,r){const i=f(n);return fe(e,t,(e,t)=>{i(e,(e,n)=>{t(e,!n)})},r)}var Pe=h((function(e,t,n){return je(S,e,t,n)}),3);var Ie=h((function(e,t,n,r){return je(C(t),e,n,r)}),4);var Ne=h((function(e,t,n){return je(j,e,t,n)}),3);function Le(e){return function(){return e}}function Re(e,t,n){var r={times:5,intervalFunc:Le(0)};if(arguments.length<3&&"function"==typeof e?(n=t||L(),t=e):(Me(r,e),n=n||L()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=f(t),a=1;function o(){i((e,...t)=>{!1!==e&&(e&&a++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(e))?setTimeout(o,r.intervalFunc(a-1)):n(e,...t))})}return o(),n[N]}function Me(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:Le(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}var De=h((function(e,t,n){return K(Boolean,e=>e)(S,e,t,n)}),3);var Fe=h((function(e,t,n,r){return K(Boolean,e=>e)(C(t),e,n,r)}),4);var Be=h((function(e,t,n){return K(Boolean,e=>e)(j,e,t,n)}),3);var Ue=h((function(e,t,n){var r=f(t);return O(e,(e,t)=>{r(e,(n,r)=>{if(n)return t(n);t(n,{value:e,criteria:r})})},(e,t)=>{if(e)return n(e);n(null,t.sort(i).map(e=>e.value))});function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}}),3);function ze(e,t,n,r){var i=f(n);return V(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,i,r)}var qe=h((function(e,t){var n,r=null;return oe(e,(e,t)=>{f(e)((e,...i)=>{if(!1===e)return t(e);i.length<2?[n]=i:n=i,r=e,t(e?null:{})})},()=>t(r,n))}));var He=h((function(e,t,n){n=x(n);var r=f(t),i=f(e),a=[];function o(e,...t){if(e)return n(e);a=t,!1!==e&&i(s)}function s(e,t){return e?n(e):!1!==e?t?void r(o):n(null,...a):void 0}return i(s)}),3);var We=h((function(e,t){if(t=b(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){f(e[n++])(...t,x(i))}function i(i,...a){if(!1!==i)return i||n===e.length?t(i,...a):void r(a)}r([])})),Ge={apply:function(e,...t){return(...n)=>e(...t,...n)},applyEach:A,applyEachSeries:I,asyncify:c,auto:R,autoInject:function(e,t){var n={};return Object.keys(e).forEach(t=>{var r,i=e[t],a=p(i),o=!a&&1===i.length||a&&0===i.length;if(Array.isArray(i))r=[...i],i=r.pop(),n[t]=r.concat(r.length>0?s:i);else if(o)n[t]=i;else{if(r=function(e){const t=e.toString().replace(U,"");let n=t.match(M);if(n||(n=t.match(D)),!n)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,r]=n;return r.replace(/\s/g,"").split(F).map(e=>e.replace(B,"").trim())}(i),0===i.length&&!a&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");a||r.pop(),n[t]=r.concat(s)}function s(e,t){var n=r.map(t=>e[t]);n.push(t),f(i)(...n)}}),R(n,t)},cargo:function(e,t){return H(e,1,t)},cargoQueue:function(e,t,n){return H(e,t,n)},compose:function(...e){return G(...e.reverse())},concat:Q,concatLimit:$,concatSeries:J,constant:function(...e){return function(...t){return t.pop()(null,...e)}},detect:X,detectLimit:Y,detectSeries:Z,dir:te,doUntil:function(e,t,n){const r=f(t);return ne(e,(...e)=>{const t=e.pop();r(...e,(e,n)=>t(e,!n))},n)},doWhilst:ne,each:ie,eachLimit:ae,eachOf:S,eachOfLimit:E,eachOfSeries:j,eachSeries:oe,ensureAsync:se,every:le,everyLimit:ce,everySeries:ue,filter:he,filterLimit:me,filterSeries:ge,forever:ve,groupBy:function(e,t,n){return ye(e,1/0,t,n)},groupByLimit:ye,groupBySeries:function(e,t,n){return ye(e,1,t,n)},log:be,map:O,mapLimit:V,mapSeries:P,mapValues:function(e,t,n){return we(e,1/0,t,n)},mapValuesLimit:we,mapValuesSeries:function(e,t,n){return we(e,1,t,n)},memoize:function(e,t=(e=>e)){var n=Object.create(null),i=Object.create(null),a=f(e),o=r((e,r)=>{var o=t(...e);o in n?l(()=>r(null,...n[o])):o in i?i[o].push(r):(i[o]=[r],a(...e,(e,...t)=>{e||(n[o]=t);var r=i[o];delete i[o];for(var a=0,s=r.length;a<s;a++)r[a](e,...t)}))});return o.memo=n,o.unmemoized=e,o},nextTick:xe,parallel:function(e,t){return ke(S,e,t)},parallelLimit:function(e,t,n){return ke(C(t),e,n)},priorityQueue:function(e,t){var n=Ce(e,t);return n._tasks=new Ee,n.push=function(e,t=0,r=(()=>{})){if("function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&n.idle())return l(()=>n.drain());for(var i=0,a=e.length;i<a;i++){var o={data:e[i],priority:t,callback:r};n._tasks.push(o)}l(n.process)},delete n.unshift,n},queue:Ce,race:Se,reduce:W,reduceRight:Oe,reflect:Ae,reflectAll:function(e){var t;return Array.isArray(e)?t=e.map(Ae):(t={},Object.keys(e).forEach(n=>{t[n]=Ae.call(this,e[n])})),t},reject:Pe,rejectLimit:Ie,rejectSeries:Ne,retry:Re,retryable:function(e,t){t||(t=e,e=null);let n=e&&e.arity||t.length;p(t)&&(n+=1);var i=f(t);return r((t,r)=>{function a(e){i(...t,e)}return(t.length<n-1||null==r)&&(t.push(r),r=L()),e?Re(e,a,r):Re(a,r),r[N]})},seq:G,series:function(e,t){return ke(j,e,t)},setImmediate:l,some:De,someLimit:Fe,someSeries:Be,sortBy:Ue,timeout:function(e,t,n){var i=f(e);return r((r,a)=>{var o,s=!1;r.push((...e)=>{s||(a(...e),clearTimeout(o))}),o=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,a(r)}),t),i(...r)})},times:function(e,t,n){return ze(e,1/0,t,n)},timesLimit:ze,timesSeries:function(e,t,n){return ze(e,1,t,n)},transform:function(e,t,n,r){arguments.length<=3&&"function"==typeof t&&(r=n,n=t,t=Array.isArray(e)?[]:{}),r=b(r||L());var i=f(n);return S(e,(e,n,r)=>{i(t,e,n,r)},e=>r(e,t)),r[N]},tryEach:qe,unmemoize:function(e){return(...t)=>(e.unmemoized||e)(...t)},until:function(e,t,n){const r=f(e);return He(e=>r((t,n)=>e(t,!n)),t,n)},waterfall:We,whilst:He,all:le,allLimit:ce,allSeries:ue,any:De,anyLimit:Fe,anySeries:Be,find:X,findLimit:Y,findSeries:Z,flatMap:Q,flatMapLimit:$,flatMapSeries:J,forEach:ie,forEachSeries:oe,forEachLimit:ae,forEachOf:S,forEachOfSeries:j,forEachOfLimit:E,inject:W,foldl:W,foldr:Oe,select:he,selectLimit:me,selectSeries:ge,wrapSync:c,during:He,doDuring:ne},Ve=n(101),$e=n.n(Ve),Qe=n(418),Je=n(37),Ke=n(69),Xe=n(102);const Ye=Ke.b.defaultGraph(),{rdf:Ze,xsd:et}=Je.a,tt=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,nt=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,rt={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class it extends Ke.a{equals(){return!1}}class at{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{let e="";this._outputStream={write(t,n,r){e+=t,r&&r()},end:t=>{t&&t(null,e)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Ye,this._baseIRI=t.baseIRI,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}get _inDefaultGraph(){return Ye.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(Ye.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(n),i):this._write(`;\n    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,i):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,i)}catch(e){i&&i(e)}}_writeQuadLine(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)}quadToString(e,t,n,r){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(n)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .\n`:" .\n"}`}quadsToString(e){return e.map(e=>this.quadToString(e.subject,e.predicate,e.object,e.graph)).join("")}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;let t=e.value;this._baseIRI&&t.startsWith(this._baseIRI)&&(t=t.substr(this._baseIRI.length)),tt.test(t)&&(t=t.replace(nt,ot));const n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(tt.test(t)&&(t=t.replace(nt,ot)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===et.string)return`"${t}"`}else switch(e.datatype.value){case et.string:return`"${t}"`;case et.boolean:if("true"===t||"false"===t)return t;break;case et.integer:if(/^[+-]?\d+$/.test(t))return t;break;case et.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case et.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===Ze.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:n,graph:r}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(n)}${Object(Xe.a)(r)?"":" "+this._encodeIriOrBlank(r)}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,Ye,r):this._writeQuad(e,t,n,r||Ye,i)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,n){const r={};r[e]=t,this.addPrefixes(r,n)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let n=!1;for(let t in e){let r=e[t];"string"!=typeof r&&(r=r.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[r]=t+=":",this._write(`@prefix ${t} <${r}>.\n`)}if(n){let e="",t="";for(const n in this._prefixIRIs)e+=e?"|"+n:n,t+=(t?"|":"")+this._prefixIRIs[n];e=e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${e})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?"\n":"",t)}blank(e,t){let n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new it("[]");case 1:if(n=i[0],!(n.object instanceof it))return new it(`[ ${this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)} ]`);default:let t="[";for(let a=0;a<r;a++)n=i[a],n.predicate.equals(e)?t+=", "+this._encodeObject(n.object):(t+=`${(a?";\n  ":"\n  ")+this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)}`,e=n.predicate);return new it(t+"\n]")}}list(e){const t=e&&e.length||0,n=new Array(t);for(let r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new it(`(${n.join(" ")})`)}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let t=e&&((n,r)=>{t=null,e(n,r)});if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}}function ot(e){let t=rt[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function st(e,t){var n,r=new Qe.a,i=new at({format:"N-Quads"});Ge.waterfall([function(t){r.parse(e,(function(e,n,r){e?t(e):null!==n?i.addQuad(n):i.end(t)}))},function(e,t){try{$e.a.fromRDF(e,{format:"application/nquads"}).then((function(e){t(null,e)}))}catch(e){t(e)}},function(e,r){n=JSON.stringify(e),t(null,n)}],(function(e,r){t(e,n)}))}function lt(e,t){var n,r=new Qe.a,i=new at({format:"N-Quads"});Ge.waterfall([function(t){r.parse(e,(function(e,n,r){e?t(e):null!==quad?i.addQuad(quad):i.end(t)}))},function(e,r){t(null,n=e)}],(function(e,r){t(e,n)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(101),i=n.n(r),a=n(30);function o(e,t){return"string"==typeof t?e.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===e.rdfFactory.supports.COLLECTIONS?function(e,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return e.rdfFactory.collection(t.map((function(t){return o(e,t)})))}(e,t["@list"]):function(e,t){var n=t["@id"]?e.rdfFactory.namedNode(t["@id"]):e.rdfFactory.blankNode(),r=t["@list"].map((function(t){return o(e,t)})),i=Object(a.c)(e.rdfFactory,n,r);return e.addAll(i),n}(e,t):Object.prototype.hasOwnProperty.call(t,"@id")?e.rdfFactory.namedNode(t["@id"]):Object.prototype.hasOwnProperty.call(t,"@language")?e.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?e.rdfFactory.literal(t["@value"],e.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?e.rdfFactory.literal(t["@value"]):e.rdfFactory.literal(t)}function s(e,t,n,r){var a=n&&Object.prototype.hasOwnProperty.call(n,"termType")?n.value:n;return i.a.flatten(JSON.parse(e),null,{base:a}).then((function(e){return e.reduce((function(e,n){for(var r=n["@id"]?t.rdfFactory.namedNode(n["@id"]):t.rdfFactory.blankNode(),i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];if("@id"!==o){var s=n[o];if(Array.isArray(s))for(var c=0;c<s.length;c++)t.addStatement(l(t,r,o,s[c]));else t.addStatement(l(t,r,o,s))}}return t}),t)})).then(r).catch(r)}function l(e,t,n,r){var i,a;return"@type"===n?(i=e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=e.rdfFactory.namedNode(r)):(i=e.rdfFactory.namedNode(n),a=o(e,r)),e.rdfFactory.quad(t,i,a)}},function(e,t,n){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const r=n(106),i=n(182),a=n(46),o=n(184),s=a.IdentifierIssuer,l=n(48),c=n(137),u=n(188),{expand:d}=n(189),{flatten:p}=n(190),{fromRDF:f}=n(191),{toRDF:h}=n(192),{frameMergedOrDefault:m,cleanupNull:g}=n(194),{isArray:v,isObject:y,isString:b}=n(42),{isSubjectReference:w}=n(50),{expandIri:x,getInitialContext:k,process:C,processingMode:E}=n(66),{compact:T,compactIri:_}=n(195),{createNodeMap:S,createMergedNodeMap:O,mergeNodeMaps:A}=n(89),j=function(e){const t={},j=new c({max:100});function P(t,{documentLoader:n=e.documentLoader,...r}){return Object.assign({},{documentLoader:n},r,t)}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;(r=P(r,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new o({sharedCache:j})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,i=r.skipExpansion?t:await e.expand(t,r);const c=await e.processContext(k(r),n,r);let u=await T({activeCtx:c,element:i,options:r,compactionMap:r.compactionMap});r.compactArrays&&!r.graph&&v(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&y(u)&&(u=[u]),y(n)&&"@context"in n&&(n=n["@context"]),n=a.clone(n),v(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!y(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const p=n.length>0;if(1===n.length&&(n=n[0]),v(u)){const e=_({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},p&&(u["@context"]=n),u[e]=t}else if(y(u)&&p){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=P(n,{keepFreeFloatingNodes:!1,contextResolver:new o({sharedCache:j})})).expansionMap&&(n.expansionMap=void 0);const r={},i=[];if("expandContext"in n){const e=a.clone(n.expandContext);y(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},i.push(r.expandContext)}let s;if(b(t)){const a=await e.get(t,n);s=a.documentUrl,r.input=a.document,a.contextUrl&&(r.remoteContext={"@context":a.contextUrl},i.push(r.remoteContext))}else r.input=a.clone(t);"base"in n||(n.base=s||"");let l=k(n);for(const e of i)l=await C({activeCtx:l,localCtx:e,options:n});let c=await d({activeCtx:l,element:r.input,options:n,expansionMap:n.expansionMap});return y(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=P(r,{base:b(t)?t:"",contextResolver:new o({sharedCache:j})});const i=await e.expand(t,r),a=p(i);if(null===n)return a;r.graph=!0,r.skipExpansion=!0;const s=await e.compact(a,n,r);return s},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=P(r,{base:b(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new o({sharedCache:j})}),b(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const i=n&&n["@context"]||{},a=await e.processContext(k(r),i,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=E(a,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=E(a,1.1));const s=await e.expand(t,r),l={...r};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),u=Object.keys(n).map(e=>x(a,e,{vocab:!0}));l.merged=!u.includes("@graph"),l.is11=E(a,1.1);const d=m(s,c,l);l.graph=!r.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let p=await e.compact(d,i,l);return l.link={},p=g(p,l),p},e.link=async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=P(n,{base:b(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new o({sharedCache:j})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return r.canonize(e,n)}const i={...n};delete i.format,i.produceGeneralizedRdf=!1;const a=await e.toRDF(t,i);return r.canonize(a,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=P(n,{format:b(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:i}=n;if(r){if(i=i||t[r],!i)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:r})}else i=()=>e;const a=await i(e);return f(a,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;r=(n=P(n,{base:b(t)?t:"",skipExpansion:!1,contextResolver:new o({sharedCache:j})})).skipExpansion?t:await e.expand(t,n);const i=h(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=P(n,{base:b(t)?t:"",contextResolver:new o({sharedCache:j})});const r=await e.expand(t,n);return O(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!v(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=P(r,{contextResolver:new o({sharedCache:j})});const i=await Promise.all(t.map(t=>{const n={...r};return e.expand(t,n)}));let l=!0;"mergeNodes"in r&&(l=r.mergeNodes);const c=r.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<i.length;++e){const t=a.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),n=l||0===e?u:{"@default":{}};if(S(t,n,"@default",c),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const r=u[e];for(const e in t)e in r||(r[e]=t[e])}}const d=A(u),p=[],f=Object.keys(d).sort();for(let e=0;e<f.length;++e){const t=d[f[e]];w(t)||p.push(t)}if(null===n)return p;r.graph=!0,r.skipExpansion=!0;const h=await e.compact(p,n,r);return h},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:e.documentLoader;const i=await r(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},e.processContext=async function(e,t,n){return n=P(n,{base:"",contextResolver:new o({sharedCache:j})}),null===t?k(n):(t=a.clone(t),y(t)&&"@context"in t||(t={"@context":t}),C({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(66).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=n(56),e.util=a,Object.assign(e,a),e.promises=e,e.RequestQueue=n(136),e.JsonLdProcessor=n(196)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},P=function(){return j((function(){return P()}))};j(P),e.exports=P},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(69);function r(e){return!!e&&"DefaultGraph"===e.termType}},function(e,t,n){"use strict";var r=n(148),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!(a[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=p(n,v);try{c(t,v,y)}catch(e){}}}}return t}},function(t,n){t.exports=e},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(177)},function(e,t,n){"use strict";e.exports=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",a={};function o(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&("Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^[ \\t]*$"),a.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const t=[],n={},s=e.split(a.eoln);let c=0;for(const e of s){if(c++,a.empty.test(e))continue;const s=e.match(a.quad);if(null===s)throw new Error("N-Quads parse error on line "+c+".");const u={subject:null,predicate:null,object:null,graph:null};if(void 0!==s[1]?u.subject={termType:"NamedNode",value:s[1]}:u.subject={termType:"BlankNode",value:s[2]},u.predicate={termType:"NamedNode",value:s[3]},void 0!==s[4]?u.object={termType:"NamedNode",value:s[4]}:void 0!==s[5]?u.object={termType:"BlankNode",value:s[5]}:(u.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==s[7]?u.object.datatype.value=s[7]:void 0!==s[8]?(u.object.datatype.value=r,u.object.language=s[8]):u.object.datatype.value=i,u.object.value=s[6].replace(l,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))),void 0!==s[9]?u.graph={termType:"NamedNode",value:s[9]}:void 0!==s[10]?u.graph={termType:"BlankNode",value:s[10]}:u.graph={termType:"DefaultGraph",value:""},u.graph.value in n){let e=!0;const r=n[u.graph.value];for(const t of r)if(o(t,u)){e=!1;break}e&&(r.push(u),t.push(u))}else n[u.graph.value]=[u],t.push(u)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.subject,n=e.predicate,a=e.object,o=e.graph;let l="";return"NamedNode"===t.termType?l+=`<${t.value}>`:l+=""+t.value,l+=` <${n.value}> `,"NamedNode"===a.termType?l+=`<${a.value}>`:"BlankNode"===a.termType?l+=a.value:(l+=`"${function(e){return e.replace(s,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(a.value)}"`,a.datatype.value===r?a.language&&(l+="@"+a.language):a.datatype.value!==i&&(l+=`^^<${a.datatype.value}>`)),"NamedNode"===o.termType?l+=` <${o.value}>`:"BlankNode"===o.termType&&(l+=" "+o.value),l+=" .\n",l}static legacyDatasetToQuads(e){const t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const a in e){e[a].forEach(e=>{const o={};for(const t in e){const a=e[t],s={termType:n[a.type],value:a.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in a&&(s.datatype.value=a.datatype),"language"in a?("datatype"in a||(s.datatype.value=r),s.language=a.language):"datatype"in a||(s.datatype.value=i)),o[t]=s}o.graph="@default"===a?{termType:"DefaultGraph",value:""}:{termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a},t.push(o)})}return t}};const s=/["\\\n\r]/g;const l=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_JSON_LITERAL:r+"JSON",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.NotFoundError=t.SameOriginForbiddenError=t.CrossOriginForbiddenError=t.UnauthorizedError=t.SolidLogic=t.ACL_LINK=void 0;var d=s(n(3)),p=u(n(85)),f=n(202),h=n(203),m=n(204),g=s(n(207)),v=n(208),y=n(139),b=n(139);Object.defineProperty(t,"ACL_LINK",{enumerable:!0,get:function(){return b.ACL_LINK}});var w=p.default(d),x=function(){function e(e,t){this.store=d.graph(),d.fetcher(this.store,e),this.store.updater=new d.UpdateManager(this.store),this.cache={profileDocument:{},preferencesFile:{}},this.fetcher=e,this.authn=t?new h.SolidAuthClientAuthnLogic(t):new f.NoAuthnLogic,this.profile=new v.ProfileLogic(this.store,w,this.authn),this.chat=new m.ChatLogic(this.store,w,this.profile),this.util=new y.UtilityLogic(this.store,w,this.fetcher)}return e.prototype.findAclDocUrl=function(e){return this.util.findAclDocUrl(e)},e.prototype.loadDoc=function(e){return this.util.loadDoc(e)},e.prototype.loadProfile=function(e){return l(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:if(this.cache.profileDocument[e.value])return[2,this.cache.profileDocument[e.value]];r.label=1;case 1:return r.trys.push([1,3,,4]),t=e.doc(),[4,this.loadDoc(t)];case 2:return r.sent(),[2,t];case 3:throw n=r.sent(),new Error("Logged in but cannot load profile "+t+" : "+n);case 4:return[2]}}))}))},e.prototype.loadPreferences=function(e){return l(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:if(this.cache.preferencesFile[e.value])return[2,this.cache.preferencesFile[e.value]];if(!(t=this.store.any(e,w.space("preferencesFile"))))throw new Error("Can't find a preference file pointer in profile "+e.doc());if(!this.store.fetcher)throw new Error("Cannot load doc, have no fetcher");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.store.fetcher.load(t,{withCredentials:!0})];case 2:return i.sent(),[3,4];case 3:if(n=i.sent(),r=n.status,g.log("HTTP status "+r+" for preference file "+t),401===r)throw new C;if(403===r){if(!t||window.location.origin+"/"!==new URL(t.value).origin)throw new E;throw new T}if(404===r)throw new _(t.value);throw new S(n.status,n.message);case 4:return[2,t]}}))}))},e.prototype.getTypeIndex=function(e,t,n){return this.store.each(e,n?w.solid("publicTypeIndex"):w.solid("privateTypeIndex"),void 0,t)},e.prototype.getRegistrations=function(e,t){var n=this;return this.store.each(void 0,w.solid("instance"),e).filter((function(e){return n.store.holds(e,w.solid("forClass"),t)}))},e.prototype.load=function(e){if(!this.store.fetcher)throw new Error("Cannot load doc(s), have no fetcher");return this.store.fetcher.load(e)},e.prototype.loadIndexes=function(e,t,n,r){var i=this;return void 0===r&&(r=function(e){return l(i,void 0,void 0,(function(){return c(this,(function(e){return[2,void 0]}))}))}),l(this,void 0,void 0,(function(){var i,a,o,s;return c(this,(function(l){switch(l.label){case 0:if(i=[],a=[],!t)return[3,4];a=this.getTypeIndex(e,t,!0),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.load(a)];case 2:return l.sent(),[3,4];case 3:return o=l.sent(),r(new Error("loadIndex: loading public type index(es) "+o)),[3,4];case 4:return n?0!==(i=this.getTypeIndex(e,n,!1)).length?[3,6]:[4,r(new Error("Your preference file "+n+" does not point to a private type index."))]:[3,9];case 5:return l.sent(),[3,9];case 6:return l.trys.push([6,8,,9]),[4,this.load(i)];case 7:return l.sent(),[3,9];case 8:return s=l.sent(),r(new Error("loadIndex: loading private type index(es) "+s)),[3,9];case 9:return[2,{private:i,public:a}]}}))}))},e.prototype.createEmptyRdfDoc=function(e,t){return l(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:if(!this.store.fetcher)throw new Error("Cannot create empty rdf doc, have no fetcher");return[4,this.store.fetcher.webOperation("PUT",e.uri,{data:"# "+new Date+" "+t+"\n",contentType:"text/turtle"})];case 1:return n.sent(),[2]}}))}))},e.prototype.updatePromise=function(e,t){var n=this;return void 0===t&&(t=[]),new Promise((function(r,i){if(!n.store.updater)throw new Error("Cannot updatePromise, have no updater");n.store.updater.update(e,t,(function(e,t,n){t?r():i(new Error(n))}))}))},e.prototype.isContainer=function(e){return this.util.isContainer(e)},e.prototype.getContainerElements=function(e){return this.util.getContainerElements(e)},e.prototype.getContainerMembers=function(e){return this.util.getContainerMembers(e)},e.prototype.recursiveDelete=function(e){return l(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.util.recursiveDelete(e)]}))}))},e.prototype.clearStore=function(){return this.util.clearStore()},e.prototype.fetch=function(e,t){return l(this,void 0,void 0,(function(){return c(this,(function(n){return[2,this.fetcher.fetch(e,t)]}))}))},e}();t.SolidLogic=x;var k=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r.name=n.name,r}return i(t,e),t}(Error),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(k);t.UnauthorizedError=C;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(k);t.CrossOriginForbiddenError=E;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(k);t.SameOriginForbiddenError=T;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(k);t.NotFoundError=_;var S=function(e){function t(t,n){var r=e.call(this,n)||this;return r.status=t,r}return i(t,e),t}(k);t.FetchError=S},function(e,t,n){var r=n(212),i=n(213),a=n(214),o=n(216);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.makeDropTarget=function(e,t,n){var r=function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},a=function(e){i.log("dragenter event dropEffect: "+e.dataTransfer.dropEffect),this.style&&(this.savedStyle||(this.savedStyle={},this.savedStyle.border=this.style.border,this.savedStyle.backgroundColor=this.style.backgroundColor,this.savedStyle.borderRadius=this.style.borderRadius),this.style.backgroundColor="#ccc",this.style.border="0.25em dashed black",this.style.borderRadius="0.3em"),e.dataTransfer.dropEffect="link",i.log("dragenter event dropEffect 2: "+e.dataTransfer.dropEffect)},o=function(e){i.log("dragleave event dropEffect: "+e.dataTransfer.dropEffect),this.savedStyle?(this.style.border=this.savedStyle.border,this.style.backgroundColor=this.savedStyle.backgroundColor,this.style.borderRadius=this.savedStyle.borderRadius):(this.style.backgroundColor="white",this.style.border="0em solid black")},s=function(e){e.preventDefault&&e.preventDefault(),i.log("Drop event. dropEffect: "+e.dataTransfer.dropEffect),i.log("Drop event. types: "+(e.dataTransfer.types?e.dataTransfer.types.join(", "):"NOPE"));var r,a=null;if(e.dataTransfer.types){for(var o=0;o<e.dataTransfer.types.length;o++){var s=e.dataTransfer.types[o];if("text/uri-list"===s)a=e.dataTransfer.getData(s).split("\n"),i.log("Dropped text/uri-list: "+a);else if("text/plain"===s)r=e.dataTransfer.getData(s);else if("Files"===s&&n){for(var l=e.dataTransfer.files,c=0;l[c];c++){var u=l[c];i.log("Filename: "+u.name+", type: "+(u.type||"n/a")+" size: "+u.size+" bytes, last modified: "+(u.lastModifiedDate?u.lastModifiedDate.toLocaleDateString():"n/a"))}n(l)}}null===a&&r&&"http"===r.slice(0,4)&&(a=r,i.log("Waring: Poor man's drop: using text for URI"))}else a=[e.dataTransfer.getData("Text")],i.log("WARNING non-standard drop event: "+a[0]);return i.log("Dropped URI list (2): "+a),a&&t(a),this.style.backgroundColor="white",!1};!function(e){e||i.log("@@@ addTargetListeners: ele "+e),e.addEventListener("dragover",r),e.addEventListener("dragenter",a),e.addEventListener("dragleave",o),e.addEventListener("drop",s)}(e)},t.makeDraggable=function(e,t){e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(n){e.style.fontWeight="bold",n.dataTransfer.setData("text/uri-list",t.uri),n.dataTransfer.setData("text/plain",t.uri),n.dataTransfer.setData("text/html",e.outerHTML),i.log("Dragstart: "+e+" -> "+t+"de: "+n.dataTransfer.dropEffect)}),!1),e.addEventListener("drag",(function(e){e.preventDefault(),e.stopPropagation()}),!1),e.addEventListener("dragend",(function(n){e.style.fontWeight="normal",i.log("Dragend dropeffect: "+n.dataTransfer.dropEffect),i.log("Dragend: "+e+" -> "+t)}),!1)},t.uploadFiles=function(e,t,n,r,o){for(var s=0;t[s];s++){var l=t[s];i.log(" dropped: Filename: "+l.name+", type: "+(l.type||"n/a")+" size: "+l.size+" bytes, last modified: "+(l.lastModifiedDate?l.lastModifiedDate.toLocaleDateString():"n/a"));var c=new FileReader;c.onload=function(t){return function(s){var l=s.target.result,c="";i.log(" File read byteLength : "+l.byteLength);var u=t.type;if(t.type&&""!==t.type){var d=a.extension(t.type);t.name.endsWith("."+d)||t.type===a.lookup(t.name)||(c="_."+d)}else if(!(u=a.lookup(t.name))){var p="Filename needs to have an extension which gives a type we know: "+t.name;throw i.log(p),alert(p),new Error(p)}var f=t.type.startsWith("image/")&&r||n,h=f+(f.endsWith("/")?"":"/")+encodeURIComponent(t.name)+c;e.webOperation("PUT",h,{data:l,contentType:u}).then((function(e){i.log(" Upload: put OK: "+h),o(t,h)}),(function(e){var t=" Upload: FAIL "+h+", Error: "+e;throw i.log(t),alert(t),new Error(t)}))}}(l),c.readAsArrayBuffer(l)}};var i=s(n(24)),a=s(n(77));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.complain=x,t.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},t.extractLogURI=function(e){var t=e.search(/logFile=/),n=e.search(/&rulesFile=/);return e.substring(t+8,n)},t.shortDate=function(e,t){if(!e)return"???";try{var n=(new Date).toISOString();return e.slice(0,10)!==n.slice(0,10)||t?e.slice(0,4)===n.slice(0,4)?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e.slice(5,7),10)-1]+" "+parseInt(e.slice(8,10),10):e.slice(0,10):e.slice(11,16)}catch(e){return"shortdate:"+e}},t.formatDateTime=k,t.timestamp=function(){return k(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}")},t.shortTime=function(){return k(new Date,"{Hours}:{Minutes}:{Seconds}.{Milliseconds}")},t.setName=C,t.imagesOf=function(e,t){return t.each(e,o.sioc("avatar")).concat(t.each(e,o.foaf("img"))).concat(t.each(e,o.vcard("logo"))).concat(t.each(e,o.vcard("hasPhoto"))).concat(t.each(e,o.vcard("photo"))).concat(t.each(e,o.foaf("depiction")))},t.findImageFromURI=_,t.findImage=S,t.setImage=A,t.faviconOrDefault=j,t.deleteButtonWithCheck=P,t.button=N,t.cancelButton=L,t.continueButton=R,t.askName=function(e,t,n,r,i,a){return new Promise((function(t,l){var c=e.createElement("div");r=r||o.foaf("name");var u=(a=a||(i?f.label(i):"  "))+" "+f.label(r)+": ";c.appendChild(e.createElement("p")).textContent=u;var d=e.createElement("input");function p(){c.parentNode.removeChild(c),t(d.value.trim())}d.setAttribute("type","text"),d.setAttribute("size","100"),d.setAttribute("maxLength","2048"),d.setAttribute("style",s.textInputStyle),d.select(),c.appendChild(d),n.appendChild(c),d.addEventListener("keyup",(function(e){13===e.keyCode&&p()}),!1),c.appendChild(e.createElement("br")),c.appendChild(L(e,(function(e){c.parentNode.removeChild(c),t(null)}))),c.appendChild(R(e,(function(e){p()}))),d.focus()}))},t.linkIcon=M,t.renderAsRow=F,t.refreshTree=function e(t){if(t.refresh)return void t.refresh();for(var n=0;n<t.children.length;n++)e(t.children[n])},t.attachmentList=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=function(e){if(!k.updater)throw new Error("kb has no updater");k.updater.update((0,i.st)(t,b,e,m),[],(function(e,t,n,r){t?c():x(void 0,"Error deleting one: "+n)}))};function s(t){var n=t,r={noun:w};return g&&(r.deleteFunction=function(){a(n)}),D(e,b,t,r)}var c=function(){var e=k.each(t,b);e.sort(),f.syncTableToArray(S,e,s)};function u(e){var n=[];if(e.forEach((function(e){var r=(0,i.sym)(e);l.log("Dropped on attachemnt "+e),n.push((0,i.st)(t,b,r,m))})),!k.updater)throw new Error("kb has no updater");k.updater.update([],n,(function(e,t,n,r){t?c():x(void 0,"Error adding one: "+n)}))}function h(e){var n,a;(0,d.uploadFiles)(k.fetcher,e,null===(n=r.uploadFolder)||void 0===n?void 0:n.uri,null===(a=r.uploadFolder)||void 0===a?void 0:a.uri,(function(e,n){var r=[(0,i.st)(t,b,k.sym(n),m)];if(!k.updater)throw new Error("kb has no updater");k.updater.update([],r,(function(e,t,n,r){t?c():x(void 0,"Error adding link to uploaded file: "+n)}))}))}var m=r.doc||t.doc();void 0===r.modify&&(r.modify=!0);var g=r.modify,y=r.promptIcon||v+"noun_748003.svg",b=r.predicate||o.wf("attachment"),w=r.noun||"attachment",k=p.store,C=n.appendChild(e.createElement("table"));C.setAttribute("style","margin-top: 1em; margin-bottom: 1em;");var E=C.appendChild(e.createElement("tr")),T=E.appendChild(e.createElement("td")),_=E.appendChild(e.createElement("td")),S=_.appendChild(e.createElement("table"));if(S.appendChild(e.createElement("tr")),C.refresh=c,c(),g){var O=N(e,y,"Drop attachments here");T.appendChild(O);var A=r.uploadFolder?h:null;if((0,d.makeDropTarget)(O,u,A),(0,d.makeDropTarget)(T,u,A),r.uploadFolder){var j=q(e,h);T.appendChild(j)}}return C},t.openHrefInOutlineMode=function(e){e.preventDefault(),e.stopPropagation();var t=f.getTarget(e).getAttribute("href");if(!t)return l.log("openHrefInOutlineMode: No href found!\n");var n=window.document;n.outlineManager?n.outlineManager.GotoSubject(p.store.sym(t),!0,void 0,!0,void 0):window&&window.panes&&window.panes.getOutliner?window.panes.getOutliner().GotoSubject(p.store.sym(t),!0,void 0,!0,void 0):l.log("ERROR: Can't access outline manager in this config")},t.defaultAnnotationStore=function(e){if(void 0===e.uri)return;var t=e.uri;if("http://"!==t.slice(0,7))return;var n=(t=t.slice(7)).indexOf("#");if(n>=0)t=t.slice(0,n);else{var r=t.lastIndexOf("/");if(r<0)return;t=t.slice(0,r)}return p.store.sym("http://tabulator.org/wiki/annnotation/"+t)},t.allClassURIs=function(){var e={};return p.store.statementsMatching(void 0,o.rdf("type"),void 0).forEach((function(t){t.object.value&&(e[t.object.value]=!0)})),p.store.statementsMatching(void 0,o.rdfs("subClassOf"),void 0).forEach((function(t){t.object.value&&(e[t.object.value]=!0),t.subject.value&&(e[t.subject.value]=!0)})),p.store.each(void 0,o.rdf("type"),o.rdfs("Class")).forEach((function(t){t.value&&(e[t.value]=!0)})),e},t.propertyTriage=function(e){var t={},n={},r={},i=0,a=0,s=0,l=e.predicateIndex;for(var u in l){"Literal"===l[u][0].object.termType?(n[u]=!0,a++):(r[u]=!0,i++)}for(var d=e.each(void 0,o.rdf("type"),o.rdf("Property")),p=0;p<d.length;p++){var f=d[p].toNT();r[f]||n[f]||(n[f]=!0,r[f]=!0,s++)}return t.op=r,t.dp=n,(0,c.info)("propertyTriage: ".concat(i," non-lit, ").concat(a," literal. ").concat(s," unknown.")),t},t.linkButton=function(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="Goto "+f.label(t),n.addEventListener("click",(function(n){e.outlineManager.GotoSubject(t,!0,void 0,!0,void 0)}),!0),n},t.removeButton=function(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="✕",n.addEventListener("click",(function(e){t.parentNode.removeChild(t)}),!0),n},t.selectorPanel=function(e,t,n,r,i,a,o,s,l){return B(e.createElement("div"),e,t,n,r,i,a,o,s,l)},t.selectorPanelRefresh=B,t.addStyleSheet=function(e,t){for(var n=e.querySelectorAll("link"),r=0;r<n.length;r++)if("stylesheet"===(n[r].getAttribute("rel")||"")&&(n[r].getAttribute("href")||"")===t)return;var i=e.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),e.getElementsByTagName("head")[0].appendChild(i)},t.isAudio=function(e){return z(e,"audio")},t.isVideo=function(e){return z(e,"video")},t.isImage=z,t.fileUploadButtonDiv=q,t.index=t.personTR=t.iconForClass=void 0;var i=n(3),a=n(38),o=g(n(16)),s=g(n(39)),l=g(n(24)),c=n(57),u=n(114),d=n(112),p=n(20),f=g(n(27)),h=n(71);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var v=a.icons.iconBase,y=a.icons.originalIconBase,b=v+"noun_1180156.svg",w=v+"noun_1180158.svg";function x(e,t){if(t){var n=function(e){var t=e&&e.statusArea||e&&e.div||null;if(t)return t;var n=e&&e.dom;if(n||"undefined"==typeof document||(n=document),n){var r=n.getElementsByTagName("body")[0];return t=n.createElement("div"),r.insertBefore(t,r.firstElementChild),e&&(e.statusArea=t),t}return null}(e);l.log("Complaint: "+t),n?n.appendChild((0,h.errorMessageBlock)(e&&e.dom||document,t)):alert(t)}}function k(e,t){return t.split("{").map((function(t){var n=t.split("}")[0];return t?("000"+(e["get"+n]()+({Month:1}[n]||0))).slice(-({Milliseconds:3,FullYear:4}[n]||2))+t.split("}")[1]:""})).join("")}function C(e,t){var n=p.store,r=function(e){var t=n.any(e,o.vcard("fn"))||n.any(e,o.foaf("name"))||n.any(e,o.vcard("organization-name"));return t?t.value:null},i=t.sameTerm(o.foaf("Agent"))?"Everyone":r(t);if(e.textContent=i||f.label(t),!i&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(n){e.textContent=r(t)||f.label(t)}))}}var E={"solid:AppProviderClass":"noun_144.svg","solid:AppProvider":"noun_15177.svg","solid:Pod":"noun_Cabinet_1434380.svg","vcard:Group":"noun_339237.svg","vcard:Organization":"noun_143899.svg","vcard:Individual":"noun_15059.svg","schema:Person":"noun_15059.svg","foaf:Person":"noun_15059.svg","foaf:Agent":"noun_98053.svg","acl:AuthenticatedAgent":"noun_99101.svg","prov:SoftwareAgent":"noun_Robot_849764.svg","vcard:AddressBook":"noun_15695.svg","trip:Trip":"noun_581629.svg","meeting:LongChat":"noun_1689339.svg","meeting:Meeting":"noun_66617.svg","meeting:Project":"noun_1036577.svg","ui:Form":"noun_122196.svg","rdfs:Class":"class-rectangle.svg","rdf:Property":"property-diamond.svg","owl:Ontology":"noun_classification_1479198.svg","wf:Tracker":"noun_122196.svg","wf:Task":"noun_17020_gray-tick.svg","wf:Open":"noun_17020_sans-tick.svg","wf:Closed":"noun_17020.svg"};function T(e){var t=e.uri.split("#")[0],n=t.indexOf("//");if(n<0)throw new Error("This URI does not have a web site part (origin)");var r=t.indexOf("/",n+2);return r<0?t.slice(0)+"/":t.slice(0,r+1)}function _(e){var t=v;return"string"!=typeof e&&e.uri?4!==e.uri.split("/").length||e.uri.split("/")[1]||e.uri.split("/")[3]?e.uri.startsWith("message:")||e.uri.startsWith("mid:")?t+"noun_480183.svg":e.uri.startsWith("mailto:")?t+"noun_567486.svg":e.uri.startsWith("https:")&&e.uri.indexOf("#")<0?T(e)+"favicon.ico":null:t+"noun_15177.svg":t+"noun_10636_grey.svg"}function S(e){var t=p.store,n=v;if(e.sameTerm(o.foaf("Agent"))||e.sameTerm(o.rdf("Resource")))return n+"noun_98053.svg";var r=t.any(e,o.sioc("avatar"))||t.any(e,o.foaf("img"))||t.any(e,o.vcard("logo"))||t.any(e,o.vcard("hasPhoto"))||t.any(e,o.vcard("photo"))||t.any(e,o.foaf("depiction"));return r?r.uri:null}function O(e,t,n){var r=p.store,i=S(t);if(i)return e.setAttribute("src",i),!0;var a=n[t.uri];if(a)return e.setAttribute("src",a),e.style=s.classIconStyle,!0;var o=_(t);if(o)return e.setAttribute("src",o),!0;var l=r.findTypeURIs(t);for(var c in l)if(n[c])return e.setAttribute("src",n[c]),!1;return e.setAttribute("src",v+"noun_10636_grey.svg"),!1}function A(e,t){var n=p.store,r={};for(var a in E){var s=a.split(":")[0],l=a.split(":")[1],c=o[s](l);r[c.uri]=i.uri.join(E[a],v)}if(!O(e,t,r)&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(n){n&&O(e,t,r)}))}}function j(e,t){var n=e.createElement("img");n.style=s.iconStyle;if(n.setAttribute("src",v+(function(e){if(!e.uri)return!1;var t=e.uri.split("/");return 3===t.length||4===t.length&&""===t[3]}(t)?"noun_15177.svg":"noun_681601.svg")),t.uri&&t.uri.startsWith("https:")&&t.uri.indexOf("#")<0){var r=e.createElement("object");return r.setAttribute("data",T(t)+"favicon.ico"),r.setAttribute("type","image/x-icon"),r.appendChild(n),r}return A(n,t),n}function P(e,t,n,r){function i(){l.style.border="",l.style.margin="0.3em",l.style.borderRadius="0",l.style.padding="0.3em white",l.style.boxShadow=""}var a,o,l=e.createElement("div"),c=v+"noun_2188_red.svg",u=e.createElement("img");u.setAttribute("src",c),u.setAttribute("style","margin: 0.2em; width: 1em; height:1em"),u.title="Remove this "+n;var d=u;return l.appendChild(d),l.setAttribute("class","hoverControl"),i(),d.setAttribute("class","hoverControlHide"),d.addEventListener("click",(function(t){l.style.borderRadius="0.5em",l.style.border="orange 0.05em;",l.style.boxShadow="0.2em 0.5em #888888",l.style.padding="0.3em",l.removeChild(d),(o=e.createElement("button")).setAttribute("style",s.buttonStyle);var c=o.appendChild(e.createElement("img"));c.setAttribute("src",b),c.setAttribute("style",s.buttonStyle),l.appendChild(o).addEventListener("click",(function(e){l.removeChild(a),l.removeChild(o),i(),l.appendChild(d)}),!1),(a=e.createElement("button")).textContent="Delete "+n,a.setAttribute("style",s.buttonStyle),l.appendChild(a).addEventListener("click",(function(e){l.removeChild(a),l.removeChild(o),i(),r()}),!1)}),!1),l}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="Secondary"===e.buttonColor?"#01c9ea":"#7c4dff",n=t,r="#ffffff",i=t,a="Secondary"===e.buttonColor?"#37cde6":"#9f7dff",o=r;return e.needsBorder&&(r=t,i=t,a=t,o=n="#ffffff"),{"background-color":"".concat(n),color:"".concat(r),"font-family":"Raleway, Roboto, sans-serif","border-radius":"0.25em","border-color":"".concat(i),border:"1px solid",cursor:"pointer","font-size":".8em","text-decoration":"none",padding:"0.5em 4em",transition:"0.25s all ease-in-out",outline:"none","&:hover":{"background-color":"".concat(a),color:"".concat(o),transition:"0.25s all ease-in-out"}}}function N(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{buttonColor:"Primary",needsBorder:!1},a=e.createElement("button");if(a.setAttribute("type","button"),t){var o=a.appendChild(e.createElement("img"));o.setAttribute("src",t),o.setAttribute("style","width: 2em; height: 2em;"),o.title=n,a.setAttribute("style",s.buttonStyle)}else{a.textContent=n.toLocaleUpperCase();var l=I(i),c=(0,u.getClasses)(e.head,{textButton:l}),d=c.classes;a.classList.add(d.textButton)}return r&&a.addEventListener("click",r,!1),a}function L(e,t){return N(e,b,"Cancel",t)}function R(e,t){return N(e,w,"Continue",t)}function M(e,t,n){var r=e.createElement("a");r.setAttribute("href",t.uri),t.uri.startsWith("http")&&r.setAttribute("target","_blank");var i=r.appendChild(e.createElement("img"));return i.setAttribute("src",n||y+"go-to-this.png"),i.setAttribute("style","margin: 0.3em;"),r}t.iconForClass=E;var D=F;function F(e,t,n,r){var i=e.createElement("tr");r=r||{};var a=i.appendChild(e.createElement("td")),o=i.appendChild(e.createElement("td")),s=i.appendChild(e.createElement("td")),l=r.image||j(e,n);if(a.setAttribute("style","vertical-align: middle; width:2.5em; padding:0.5em; height: 2.5em;"),o.setAttribute("style","vertical-align: middle; text-align:left;"),s.setAttribute("style","vertical-align: middle; width:2em; padding:0.5em; height: 4em;"),a.appendChild(l),r.title?o.textContent=r.title:C(o,n),r.deleteFunction&&P(e,0,r.noun||"one",r.deleteFunction),n.uri){if(!1!==r.link)s.appendChild(M(e,n)).classList.add("HoverControlHide"),s.appendChild(e.createElement("br"));!1!==r.draggable&&(l.setAttribute("draggable","false"),(0,d.makeDraggable)(i,n))}return i.subject=n,i}function B(e,t,n,r,i,a,o,s,l,c){var u="border: 0.1em solid #ddd; border-bottom: none; width: 95%; height: 2em; padding: 0.5em;",d=null;e.innerHTML="";for(var p=function(e,o){var p,f,h=function(){var e=a?n.each(void 0,i,o):n.each(o,i);b.setAttribute("class",0===e.length?"hideTillHover":""),f.setAttribute("src",s.connectIcon||v+"noun_25830.svg"),f.setAttribute("title",e.length?e.length:"attach")},m=U.twoLine.widgetForClass(r);(p=m(t,o)).setAttribute("style",u);var g=t.createElement("div");g.setAttribute("class","hideTillHover"),g.setAttribute("style","float:right; width:10%");var y=t.createElement("a");y.setAttribute("href",o.uri),y.setAttribute("style","float:right"),g.appendChild(y).textContent=">",e.appendChild(g);var b=t.createElement("div");return b.setAttribute("style",(a?"float:left;":"float:right;")+" width:30px;"),f=t.createElement("img"),h(),b.appendChild(f),e.appendChild(b),p.addEventListener("click",(function(e){d===p?(p.setAttribute("style",u),d=null):(d&&d.setAttribute("style",u),p.setAttribute("style",u+"background-color: #ccc; color:black;"),d=p),l(o,e,d===p),h()}),!1),f.addEventListener("click",(function(e){c(o,e,a,h)}),!1),e.appendChild(p),e},f=0;f<o.length;f++){var h=t.createElement("div");e.appendChild(h),p(h,o[f])}return e}t.personTR=D;var U={};function z(e,t){var n=t||"image",r=p.store.findTypeURIs(e),a=i.Util.mediaTypeClass(n+"/*").uri.split("*")[0];for(var o in r)if(o.startsWith(a))return!0;return{audio:"http://purl.org/dc/dcmitype/Sound",image:"http://purl.org/dc/dcmitype/Image",video:"http://purl.org/dc/dcmitype/MovingImage"}[n]in r}function q(e,t){var n=e.createElement("div"),r=n.appendChild(e.createElement("input"));r.setAttribute("type","file"),r.setAttribute("multiple","true"),r.addEventListener("change",(function(e){l.log("File drop event: ",e),e.files?t(e.files):e.target&&e.target.files?t(e.target.files):alert("Sorry no files .. internal error?")}),!1),r.style="display:none";var i=n.appendChild(N(e,v+"noun_Upload_76574_000000.svg","Upload files",(function(e){r.click()})));return(0,d.makeDropTarget)(i,null,t),n}t.index=U,t.index=U={line:{},twoLine:{"":function(e,t){var n=e.createElement("div");return n.textContent=f.label(t),n},"http://www.w3.org/2000/10/swap/pim/qif#Transaction":function(e,t){var n="",r=function(e){var r=p.store.any(t,o.qu(e));return r||(n+="@@ No value for "+e+"! "),r?f.escapeForXML(r.value):"?"},i=e.createElement("table");return i.innerHTML='\n      <tr>\n      <td colspan="2"> '.concat(r("payee"),"</td>\n      < /tr>\n      < tr >\n      <td>").concat(r("date").slice(0,10),'</td>\n      <td style = "text-align: right;">').concat(r("amount"),"</td>\n      </tr>"),n&&(i.innerHTML='\n      <tr>\n        <td><a href="'.concat(f.escapeForXML(t.uri),'">').concat(f.escapeForXML(n),"</a></td>\n      </tr>")),i},"http://www.w3.org/ns/pim/trip#Trip":function(e,t){var n=function(e){var n=p.store.any(t,e);return n?f.escapeForXML(n.value):"?"},r=e.createElement("table");return r.innerHTML='\n    <tr>\n      <td colspan="2">'.concat(n(o.dc("title")),'</td>\n    </tr>\n    <tr style="color: #777">\n      <td>').concat(n(o.cal("dtstart")),"</td>\n      <td>").concat(n(o.cal("dtend")),"</td>\n    </tr>"),r},widgetForClass:function(e){var t=U.twoLine[e.uri],n=p.store;if(t)return t;var r=n.findSuperClassesNT(e);for(var i in r)if(t=U.twoLine[n.fromNT(i).uri])return t;return U.twoLine[""]}}}},function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.getClasses=function(e,t){return s(e).createStyleSheet(t).attach()},t.getStylesheet=s;var i=n(22),a=r(n(86)),o=new Map;function s(e){var t=o.get(e);if(t)return t;var n=(0,i.create)({insertionPoint:e,plugins:(0,a.default)().plugins});return o.set(e,n),n}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.fieldParams=void 0;var a,o=r(n(1)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(16)),l=n(39);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=(a={},(0,o.default)(a,s.ui("ColorField").uri,{size:9,type:"color",dt:"color",pattern:/^\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\s*$/}),(0,o.default)(a,s.ui("DateField").uri,{size:20,type:"date",dt:"date",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?Z?\s*$/}),(0,o.default)(a,s.ui("DateTimeField").uri,{size:20,type:"date",dt:"dateTime",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?(T[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?)?Z?\s*$/}),(0,o.default)(a,s.ui("TimeField").uri,{size:10,type:"time",dt:"time",pattern:/^\s*([0-2]?[0-9]:[0-5][0-9](:[0-5][0-9])?)\s*$/}),(0,o.default)(a,s.ui("IntegerField").uri,{size:12,style:"text-align: right",dt:"integer",pattern:/^\s*-?[0-9]+\s*$/}),(0,o.default)(a,s.ui("DecimalField").uri,{size:12,style:"text-align: right",dt:"decimal",pattern:/^\s*-?[0-9]*(\.[0-9]*)?\s*$/}),(0,o.default)(a,s.ui("FloatField").uri,{size:12,style:"text-align: right",dt:"float",pattern:/^\s*-?[0-9]*(\.[0-9]*)?((e|E)-?[0-9]*)?\s*$/}),(0,o.default)(a,s.ui("SingleLineTextField").uri,{}),(0,o.default)(a,s.ui("NamedNodeURIField").uri,{namedNode:!0}),(0,o.default)(a,s.ui("TextField").uri,{}),(0,o.default)(a,s.ui("PhoneField").uri,{size:20,uriPrefix:"tel:",pattern:/^\+?[\d-]+[\d]*$/}),(0,o.default)(a,s.ui("EmailField").uri,{size:30,uriPrefix:"mailto:",pattern:/^\s*.*@.*\..*\s*$/}),(0,o.default)(a,s.ui("Group").uri,{style:l.formGroupStyle}),(0,o.default)(a,s.ui("Comment").uri,{element:"p",style:l.commentStyle}),(0,o.default)(a,s.ui("Heading").uri,{element:"h3",style:l.formHeadingStyle}),a);t.fieldParams=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mostSpecificClassURI=l,t.fieldFunction=function(e,t){var n=l(t),r=s[n];if((0,i.debug)("paneUtils: Going to implement field "+t+" of type "+n),!r)return function(e,r){var i=(0,a.errorMessageBlock)(e,"No handler for field "+t+" of type "+n);return r&&r.appendChild(i),i};return r},t.field=void 0;var r=n(20),i=n(57),a=n(71),o=r.solidLogicSingleton.store,s={};function l(e){var t=o,n=t.findTypeURIs(e),r=t.bottomTypeURIs(n),i=[];for(var a in r)i.push(a);return i[0]}t.field=s},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getPreferredLanagugesFor=m,t.getPreferredLanguages=function(){return v.apply(this,arguments)},t.filterByLanguage=function(e,t){var n={};e.forEach((function(e){var t=e.subject.value;n[t]=n[t]||[],n[t].push(e)}));var r=t||h;r.reverse();var i=[];for(var a in n){var o=n[a].map((function(e){return[r.indexOf(e.name["xml:lang"]),e]}));o.sort(),o.reverse(),i.push(o[0][1])}return s.log(" Filter by language: ".concat(e.length," -> ").concat(i.length)),i},t.defaultPreferedLangages=t.languageCodeURIBase=void 0;var a=r(n(10)),o=r(n(15)),s=p(n(24)),l=n(51),c=p(n(16)),u=n(20);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var f="https://www.w3.org/ns/iana/language-code/";t.languageCodeURIBase=f;var h=["en","fr","de","it"];function m(e){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.kb.fetcher.load(t.doc());case 2:if(n=u.kb.any(t,c.schema("knowsLanguage"),null,t.doc())){e.next=6;break}return console.log("User ".concat(t," has not set their languages in their profile.")),e.abrupt("return",null);case 6:if(r=[],n.elements.forEach((function(e){var t=u.kb.any(e,c.solid("publicId"),null,e.doc());if(t)if(t.value.startsWith(f)){var n=t.value.slice(f.length);r.push(n)}else console.error("What should be a language code ".concat(t.value," does not start with ").concat(f));else console.warn("getPreferredLanguages: No publiID of language.")})),!(r.length>0)){e.next=11;break}return console.log('     User knows languages with codes: "'.concat(r.join(","),'"')),e.abrupt("return",r);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.authn.currentUser();case 2:if(!(t=e.sent)){e.next=9;break}return e.next=6,m(t);case 6:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",n);case 9:if("undefined"==typeof navigator){e.next=14;break}if(!navigator.languages){e.next=12;break}return e.abrupt("return",navigator.languages.map((function(e){return e.split("-")[0]})));case 12:if(!navigator.language){e.next=14;break}return e.abrupt("return",[navigator.language.split("-")[0]]);case 14:return e.abrupt("return",h);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.defaultPreferedLangages=h},function(e,t,n){var r=n(13),i=n(105),a=n(239),o=n(240);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,s(t)}e.exports=s,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.renderPartipants=C,t.participationObject=function(e,t,n){return new Promise((function(r,i){if(!n)throw new Error("Not user id");var a=k.each(e,h.wf("participation")).filter((function(e){return k.holds(e,h.wf("participant"),n)}));if(a.length>1)throw new Error("Multiple records of your participation");if(a.length)r(a[0]);else{var o=(0,m.newThing)(t),s=[(0,f.st)(e,h.wf("participation"),o,t),(0,f.st)(o,h.wf("participant"),n,t),(0,f.st)(o,h.cal("dtstart"),new Date,t),(0,f.st)(o,h.ui("backgroundColor"),(0,v.lightColorHash)(n),t)];if(!k.updater)throw new Error("kb has no updater");k.updater.update([],s,(function(e,t,n){t?r(o):i(new Error("Error recording your partipation: "+n))})),r(o)}}))},t.recordParticipation=E,t.manageParticipation=function(e,t,n,r,i,a){var o=e.createElement("table");t.appendChild(o),C(e,o,n,r,i,a);try{E(r,n,o)}catch(n){t.appendChild((0,m.errorMessageBlock)(e,"Error recording your partipation: "+n))}return o};var a=r(n(7)),o=r(n(5)),s=r(n(21)),l=r(n(26)),c=r(n(13)),u=r(n(118)),d=r(n(1)),p=n(72),f=n(3),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(16)),m=n(28),g=n(27),v=n(73),y=n(24),b=n(20);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;Reflect.construct(r,arguments,i)}else r.apply(this,arguments);return(0,l.default)(this,n)}}HTMLTableElement;var k=b.solidLogicSingleton.store;function C(e,t,n,r,i,a){t.setAttribute("style","margin: 0.8em;");var o=function(n){var r,i=k.any(n,h.wf("participant"));if(!i)return(r=e.createElement("tr")).textContent="???",r;var o=k.anyValue(n,h.ui("backgroundColor"))||"white",s=e.createElement("div");s.setAttribute("style","height: 1.5em; width: 1.5em; margin: 0.3em; border 0.01em solid #888; background-color: "+o),r=(0,m.personTR)(e,null,i,a),t.appendChild(r);var l=e.createElement("td");return l.setAttribute("style","vertical-align: middle;"),l.appendChild(s),r.insertBefore(l,r.firstChild),r},s=function(){var e=k.each(r,h.wf("participation")).map((function(e){return(0,y.log)("in participants"),[k.anyValue(e,h.cal("dtstart"))||"9999-12-31",e]}));e.sort();var n=e.map((function(e){return e[1]}));(0,g.syncTableToArray)(t,n,o)};return t.refresh=s,s(),t}function E(e,t,n){var r=(0,p.currentUser)();if(r){var i=k.each(e,h.wf("participation")).filter((function(e){return k.holds(e,h.wf("participant"),r)}));if(i.length>1)throw new Error("Multiple records of your participation");if(i.length)return i[0];var a=(0,m.newThing)(t),o=[(0,f.st)(e,h.wf("participation"),a,t),(0,f.st)(a,h.wf("participant"),r,t),(0,f.st)(a,h.cal("dtstart"),new Date,t),(0,f.st)(a,h.ui("backgroundColor"),(0,v.lightColorHash)(r),t)];if(!k.updater)throw new Error("kb has no updater");return k.updater.update([],o,(function(e,t,r){if(!t)throw new Error("Error recording your partipation: "+r);n&&n.refresh&&n.refresh()})),a}}},function(e,t,n){const r=n(3),i=e.exports={};i.list=[],i.paneForIcon=[],i.paneForPredicate=[],i.register=function(e,t){if(e.requireQueryButton=t,e.name)if(console.log("  registering pane: "+e.name),e.label){if(i.list.push(e),e.name in i||(i[e.name]=e),e.icon&&(i.paneForIcon[e.icon]=e),e.predicates)for(const t in e.predicates)i.paneForPredicate[t]={pred:t,code:e.predicates[t]}}else console.log("***     No label for pane!");else console.log("***     No name for pane!")},i.byName=function(e){for(let t=0;t<i.list.length;t++)if(i.list[t].name===e)return i.list[t];return console.warn(`No view with name ${e} found in the registry of views (aka paneRegistry)`),null},i.ConnectedStore=class extends r.Store{constructor(e){super(e),this.fetcher=r.fetcher(this,{})}},i.LiveStore=class extends r.Store{constructor(e){super(e),this.updater=new r.UpdateManager(this)}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}},function(e,t,n){"use strict";e.exports=function(e){return null==e?[]:"length"in e?e:[e]}},function(e,t,n){"use strict";var r=n(58);e.exports=function(e,t){return e.length?(r(e,e.length,0,t),e):t}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r,i=[],a=-1;++a<e.length;)(r=e[a].resolveAll)&&i.indexOf(r)<0&&(t=r(t,n),i.push(r));return t}},function(e,t,n){"use strict";var r=n(60)(/[A-Za-z]/);e.exports=r},function(e,t,n){"use strict";var r=n(59),i=n(124),a=n(58),o=n(122),s=n(125),l=n(74),c=n(161),u=n(162),d=n(164),p=n(163),f={name:"labelEnd",tokenize:function(e,t,n){var r,i,a=this,s=a.events.length;for(;s--;)if(("labelImage"===a.events[s][1].type||"labelLink"===a.events[s][1].type)&&!a.events[s][1]._balanced){r=a.events[s][1];break}return function(t){if(!r)return n(t);return r._inactive?c(t):(i=a.parser.defined.indexOf(o(a.sliceSerialize({start:r.end,end:a.now()})))>-1,e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l)};function l(n){return 40===n?e.attempt(h,t,i?t:c)(n):91===n?e.attempt(m,t,i?e.attempt(g,t,c):c)(n):i?t(n):c(n)}function c(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){var n,r,o,c,u,d,p,f=e.length,h=0;for(;f--;)if(c=e[f][1],u){if("link"===c.type||"labelLink"===c.type&&c._inactive)break;"enter"===e[f][0]&&"labelLink"===c.type&&(c._inactive=!0)}else if(d){if("enter"===e[f][0]&&("labelImage"===c.type||"labelLink"===c.type)&&!c._balanced&&(u=f,"labelLink"!==c.type)){h=2;break}}else"labelEnd"===c.type&&(d=f);return n={type:"labelLink"===e[u][1].type?"link":"image",start:l(e[u][1].start),end:l(e[e.length-1][1].end)},r={type:"label",start:l(e[u][1].start),end:l(e[d][1].end)},o={type:"labelText",start:l(e[u+h+2][1].end),end:l(e[d-2][1].start)},p=i(p=[["enter",n,t],["enter",r,t]],e.slice(u+1,u+h+3)),p=i(p,[["enter",o,t]]),p=i(p,s(t.parser.constructs.insideSpan.null,e.slice(u+h+4,d-3),t)),p=i(p,[["exit",o,t],e[d-2],e[d-1],["exit",r,t]]),p=i(p,e.slice(d+1)),p=i(p,[["exit",n,t]]),a(e,u,e.length,p),e},resolveAll:function(e){var t,n=-1;for(;++n<e.length;)(t=e[n][1])._used||"labelImage"!==t.type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},h={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),p(e,i)};function i(t){return 41===t?s(t):c(e,a,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(t)}function a(t){return r(t)?p(e,o)(t):s(t)}function o(t){return 34===t||39===t||40===t?d(e,p(e,s),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):s(t)}function s(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},m={tokenize:function(e,t,n){var r=this;return function(t){return u.call(r,e,i,n,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.indexOf(o(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))<0?n(e):t(e)}}},g={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};e.exports=f},function(e,t,n){"use strict";(function(e,r){var i,a=n(169);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(65),n(129)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";(function(t){const r=n(107),i=n(133),a=n(134),o=n(108);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const e of n)++i%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const a=[...t.keys()].sort(),l=[];for(const e of a){const n=t.get(e);if(n.length>1){l.push(n);continue}const r=n[0];this.canonicalIssuer.getId(r)}for(const e of l){const t=[];for(const n of e){if(this.canonicalIssuer.hasId(n))continue;const e=new r("_:b");e.getId(n);const i=await this.hashNDegreeQuads(n,e);t.push(i)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const c=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),c.push(o.serializeQuad(t))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const n of r){const r={subject:null,predicate:n.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,n.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,n.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,n.graph,"graph"),t.push(o.serializeQuad(r))}t.sort();const a=new i(this.hashAlgorithm);for(const e of t)a.update(e);return n.hash=await a.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const o=new i(this.hashAlgorithm);return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(a),o.digest()}async hashNDegreeQuads(e,t){const n=new i(this.hashAlgorithm),r=await this.createHashToRelated(e,t),o=[...r.keys()].sort();for(const e of o){n.update(e);let i,o="";const s=new a(r.get(e));let l=0;for(;s.hasNext();){const e=s.next();++l%3==0&&await this._yield();let n=t.clone(),r="";const a=[];let c=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?r+=this.canonicalIssuer.getId(t):(n.hasId(t)||a.push(t),r+=n.getId(t)),0!==o.length&&r>o){c=!0;break}if(!c){for(const e of a){const t=await this.hashNDegreeQuads(e,n);if(r+=n.getId(e),r+=`<${t.hash}>`,n=t.issuer,0!==o.length&&r>o){c=!0;break}}c||(0===o.length||r<o)&&(o=r,i=n)}}n.update(o),t=i}return{hash:await n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const a of r)++i%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:i,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===r)return;const o=t.value,s=await this.hashRelatedBlankNode(o,e,i,n),l=a.get(s);l?l.push(o):a.set(s,[o])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(e=>t(e))}}}).call(this,n(178).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,o,s,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},p.clearImmediate=f}function f(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(65),n(132))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n(131);const r=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e));let n="";for(let e=0;e<t.length;++e)n+=t[e].toString(16).padStart(2,"0");return n}}},function(e,t,n){"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,i=0;const a=e.length;for(let n=0;n<a;++n){const o=e[n],s=t.get(o);(null===r||o>r)&&(s&&n>0&&o>e[n-1]||!s&&n<a-1&&o>e[n+1])&&(r=o,i=n)}if(null===r)this.done=!0;else{const n=t.get(r)?i-1:i+1;e[i]=e[n],e[n]=r;for(const n of e)n>r&&t.set(n,!t.get(n))}return n}}},function(e,t,n){"use strict";const r=n(107),i=n(133),a=n(134),o=n(108);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const e of n)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const i=[...t.keys()].sort(),a=[];for(const e of i){const n=t.get(e);if(n.length>1){a.push(n);continue}const r=n[0];this.canonicalIssuer.getId(r)}for(const e of a){const t=[];for(const n of e){if(this.canonicalIssuer.hasId(n))continue;const e=new r("_:b");e.getId(n);const i=this.hashNDegreeQuads(n,e);t.push(i)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const l=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),l.push(o.serializeQuad(t))}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const n of r){const r={subject:null,predicate:n.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,n.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,n.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,n.graph,"graph"),t.push(o.serializeQuad(r))}t.sort();const a=new i(this.hashAlgorithm);for(const e of t)a.update(e);return n.hash=a.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const o=new i(this.hashAlgorithm);return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(a),o.digest()}hashNDegreeQuads(e,t){const n=new i(this.hashAlgorithm),r=this.createHashToRelated(e,t),o=[...r.keys()].sort();for(const e of o){n.update(e);let i,o="";const s=new a(r.get(e));for(;s.hasNext();){const e=s.next();let n=t.clone(),r="";const a=[];let l=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?r+=this.canonicalIssuer.getId(t):(n.hasId(t)||a.push(t),r+=n.getId(t)),0!==o.length&&r>o){l=!0;break}if(!l){for(const e of a){const t=this.hashNDegreeQuads(e,n);if(r+=n.getId(e),r+=`<${t.hash}>`,n=t.issuer,0!==o.length&&r>o){l=!0;break}}l||(0===o.length||r<o)&&(o=r,i=n)}}n.update(o),t=i}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:i,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===r)return;const o=t.value,s=this.hashRelatedBlankNode(o,e,i,n),l=a.get(s);l?l.push(o):a.set(s,[o])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},function(e,t,n){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},function(e,t,n){"use strict";const r=n(186),i=Symbol("max"),a=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),h=()=>1;const m=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(g(e,t)){if(y(e,r),!e[s])return}else n&&(e[f]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},v=e=>{if(e[a]>e[i])for(let t=e[d].tail;e[a]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[a]-=n.length,e[p].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;g(e,i)&&(y(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||h;if(this[o]="function"!=typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[o]&&(this[o]=e,this[a]=0,this[d].forEach(e=>{e.length=this[o](e.value,e.key),this[a]+=e.length})),v(this)}get lengthCalculator(){return this[o]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[d]=new r,this[a]=0}dump(){return this[d].map(e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[o](t,e);if(this[p].has(e)){if(s>this[i])return y(this,this[p].get(e)),!1;const o=this[p].get(e).value;return this[c]&&(this[u]||this[c](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[a]+=s-o.length,o.length=s,this.get(e),v(this),!0}const f=new b(e,t,s,r,n);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[a]+=f.length,this[d].unshift(f),this[p].set(e,this[d].head),v(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>m(this,t,!1))}}},function(e,t,n){var r;e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=n(1);const i=new r.default;if(t.default=i,Object.getOwnPropertyNames(r.default.prototype).forEach(e=>{const t=i[e];"function"==typeof t&&(i[e]=t.bind(i))}),"undefined"!=typeof window)if("SolidAuthClient"in window)console.warn("Caution: multiple versions of solid-auth-client active.");else{let e=!1;Object.defineProperty(window,"SolidAuthClient",{enumerable:!0,get:()=>(e||(e=!0,console.warn("window.SolidAuthClient has been deprecated."),console.warn("Please use window.solid.auth instead.")),i)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(2),i=n.n(r),a=n(3),o=n.n(a),s=n(4),l=n(65),c=n(8),u=n(9),d=n(6),p=n(11);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=fetch;class g extends o.a{constructor(...e){super(...e),i()(this,"_pendingSession",void 0)}fetch(e,t){return this.emit("request",Object(d.toUrlString)(e)),Object(s.authnFetch)(Object(u.defaultStorage)(),m,e,t)}login(e,t){return t=h(h({},v(Object(d.currentUrlNoParams)())),t),p.login(e,t)}async popupLogin(e){e=h(h({},v()),e),/https?:/.test(e.popupUri)||(e.popupUri=new URL(e.popupUri||"/.well-known/solid/login",window.location).toString()),e.callbackUri||(e.callbackUri=e.popupUri);const t=Object(l.openIdpPopup)(e.popupUri),n=await Object(l.obtainSession)(e.storage,t,e);return this.emit("login",n),this.emit("session",n),n}async currentSession(e=Object(u.defaultStorage)()){let t=this._pendingSession||await Object(c.getSession)(e);if(!t){try{this._pendingSession=p.currentSession(e),t=await this._pendingSession}catch(e){console.error(e)}t&&(await Object(c.saveSession)(e)(t),this.emit("login",t),this.emit("session",t)),delete this._pendingSession}return t}async trackSession(e){e(await this.currentSession()),this.on("session",e)}stopTrackSession(e){this.removeListener("session",e)}async logout(e=Object(u.defaultStorage)()){if(await Object(c.getSession)(e)){try{await p.logout(e,m),this.emit("logout"),this.emit("session",null)}catch(e){console.warn("Error logging out:"),console.error(e)}await Object(c.clearSession)(e)}}}function v(e){return{callbackUri:e?e.split("#")[0]:"",popupUri:"",storage:Object(u.defaultStorage)()}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o,s;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.r(t),n.d(t,"authnFetch",(function(){return d}));var r=n(2),i=n.n(r),a=(n(5),n(6)),o=n(7),s=n(8),l=n(11);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}async function d(e,t,n,r){if(r){const e=function(e){const t={};if(e)if("function"==typeof e.forEach)e.forEach((e,n)=>{t[n]=e});else for(const n in e)t[n]=e[n];return t}(r.headers);r=u(u({},r),{},{headers:e})}const i=await Object(s.getSession)(e);if(!i)return t(n,r);if(await p(e,n))return Object(l.fetchWithCredentials)(i,t,n,r);let a=await t(n,r);return 401===a.status&&(await Object(o.updateHostFromResponse)(e)(a),await p(e,n)&&(a=Object(l.fetchWithCredentials)(i,t,n,r))),a}async function p(e,t){const n=await Object(o.getHost)(e)(Object(a.toUrlString)(t));return null!=n&&n.requiresAuth}},function(e,t){e.exports=window.fetch},function(e,t,n){"use strict";function r(){return"undefined"!=typeof window?window.location:{href:"https://example.org/",pathname:"/",origin:"example.org"}}n.r(t),n.d(t,"currentUrl",(function(){return i})),n.d(t,"currentUrlNoParams",(function(){return a})),n.d(t,"navigateTo",(function(){return o})),n.d(t,"originOf",(function(){return s})),n.d(t,"toUrlString",(function(){return l}));const i=()=>r().href,a=()=>r().origin+r().pathname,o=e=>{r().href=e},s=e=>new URL(e).origin,l=e=>("string"!=typeof e&&(e="url"in e?e.url:e.toString()),new URL(e,i()).toString())},function(e,t,n){"use strict";n.r(t),n.d(t,"getHost",(function(){return u})),n.d(t,"saveHost",(function(){return d})),n.d(t,"updateHostFromResponse",(function(){return p}));var r=n(2),i=n.n(r),a=n(8),o=n(9),s=n(11);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return async t=>{const{host:n}=new URL(t),r=await Object(a.getSession)(e);if(r&&n===new URL(r.idp).host)return{url:n,requiresAuth:!0};const{hosts:i}=await Object(o.getData)(e);return i&&i[n]}}function d(e){return async({url:t,requiresAuth:n})=>{await Object(o.updateStorage)(e,e=>c(c({},e),{},{hosts:c(c({},e.hosts),{},{[t]:{requiresAuth:n}})}))}}function p(e){return async t=>{if(s.requiresAuth(t)){const{host:n}=new URL(t.url);await d(e)({url:n,requiresAuth:!0})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"getSession",(function(){return l})),n.d(t,"saveSession",(function(){return c})),n.d(t,"clearSession",(function(){return u}));var r=n(2),i=n.n(r),a=n(9);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}async function l(e){return(await Object(a.getData)(e)).session||null}function c(e){return async t=>(await Object(a.updateStorage)(e,e=>s(s({},e),{},{session:t}))).session}async function u(e){await Object(a.updateStorage)(e,e=>s(s({},e),{},{session:null}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"NAMESPACE",(function(){return r})),n.d(t,"defaultStorage",(function(){return i})),n.d(t,"getData",(function(){return a})),n.d(t,"updateStorage",(function(){return o})),n.d(t,"asyncStorage",(function(){return s})),n.d(t,"memStorage",(function(){return l})),n.d(t,"ipcStorage",(function(){return c}));n(10);const r="solid-auth-client",i=()=>s("undefined"!=typeof window&&"localStorage"in window?window.localStorage:l());async function a(e){let t,n;try{t=await e.getItem(r),n=JSON.parse(t||"{}")}catch(e){console.warn("Could not deserialize data:",t),console.error(e),n={}}return n}async function o(e,t){const n=t(await a(e));return await e.setItem(r,JSON.stringify(n)),n}function s(e){return{getItem:t=>Promise.resolve(e.getItem(t)),setItem:(t,n)=>Promise.resolve(e.setItem(t,n)),removeItem:t=>Promise.resolve(e.removeItem(t))}}const l=()=>{const e={};return{getItem:t=>void 0===e[t]?null:e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};function c(e){return{getItem:t=>e.request("storage/getItem",t),setItem:(t,n)=>e.request("storage/setItem",t,n),removeItem:t=>e.request("storage/removeItem",t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Server",(function(){return o})),n.d(t,"Client",(function(){return s}));var r=n(2),i=n.n(r);const a="solid-auth-client";class o{constructor(e,t,n){i()(this,"_clientWindow",void 0),i()(this,"_clientOrigin",void 0),i()(this,"_handler",void 0),i()(this,"_messageListener",void 0),this._clientWindow=e,this._clientOrigin=t,this._handler=n,this._messageListener=e=>this._handleMessage(e)}async _handleMessage({data:e,origin:t}){if(t!==this._clientOrigin)return void console.warn("solid-auth-client is listening to ".concat(this._clientOrigin," ")+"so ignored a message received from ".concat(t,"."));const n=e&&e[a];if(n&&n.method){const{id:e,method:t,args:r}=n,i=await this._handler(t,...r);this._clientWindow.postMessage({[a]:{id:e,ret:i}},this._clientOrigin)}}start(){window.addEventListener("message",this._messageListener)}stop(){window.removeEventListener("message",this._messageListener)}}class s{constructor(e,t){i()(this,"_serverWindow",void 0),i()(this,"_serverOrigin",void 0),this._serverWindow=e,this._serverOrigin=t}request(e,...t){const n=Math.random();return this._serverWindow.postMessage({[a]:{id:n,method:e,args:t}},this._serverOrigin),new Promise((e,t)=>{window.addEventListener("message",i);const r=setTimeout(()=>{t(new Error("Could not connect to main window.")),window.removeEventListener("message",i)},2e3);function i({data:t}){const o=t&&t[a];o&&o.id===n&&o.hasOwnProperty("ret")&&(e(o.ret),clearTimeout(r),window.removeEventListener("message",i))}})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"login",(function(){return g})),n.d(t,"currentSession",(function(){return v})),n.d(t,"logout",(function(){return y})),n.d(t,"getRegisteredRp",(function(){return b})),n.d(t,"requiresAuth",(function(){return x})),n.d(t,"fetchWithCredentials",(function(){return k}));var r=n(12),i=n.n(r),a=n(2),o=n.n(a),s=n(14),l=n(18),c=n.n(l),u=n(61),d=n.n(u),p=n(6),f=n(9);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}async function g(e,t){try{const n=await b(e,t);return await async function(e){await Object(f.updateStorage)(e,e=>m(m({},e),{},{appHashFragment:window.location.hash}))}(t.storage),async function(e,{callbackUri:t,storage:n}){const r=await Object(f.getData)(n),i=await e.createRequest({redirect_uri:t},r);return await Object(f.updateStorage)(n,()=>r),Object(p.navigateTo)(i)}(n,t)}catch(e){return console.warn("Error logging in with WebID-OIDC"),console.error(e),null}}async function v(e=Object(f.defaultStorage)()){try{const t=await w(e);if(!t)return null;const n=Object(p.currentUrl)();if(!/#(.*&)?access_token=/.test(n))return null;window.location.hash="",await async function(e){await Object(f.updateStorage)(e,e=>{let{appHashFragment:t=""}=e,n=i()(e,["appHashFragment"]);return window.location.hash=t,n})}(e);const r=await Object(f.getData)(e),a=await t.validateResponse(n,r);return a?m(m({},a),{},{webId:a.idClaims.sub,idp:a.issuer}):null}catch(e){return console.warn("Error finding a WebID-OIDC session"),console.error(e),null}}async function y(e,t){const n=await w(e);if(n)try{await n.logout();try{await t("/.well-known/solid/logout",{credentials:"include"})}catch(e){console.info("Couldn't find /.well-known/solid/logout, this is harmless.")}}catch(e){console.warn("Error logging out of the WebID-OIDC session"),console.error(e)}}async function b(e,t){let n=await w(t.storage);return n&&n.provider.url===e&&n.registration.redirect_uris.includes(t.callbackUri)||(n=await function(e,t){const{storage:n,callbackUri:r}=t,i={};Object.entries(t).filter(([e,t])=>e.startsWith("clientName#")).forEach(([e,t])=>i[e.replace("clientName#","client_name#")]=t);const a={logo_uri:t.logoUri,contacts:t.contacts,client_name:t.clientName},o=m(m({issuer:e,grant_types:["implicit"],redirect_uris:[r],response_types:["id_token token"],scope:"openid profile"},i),a),s={defaults:{authenticate:{redirect_uri:r,response_type:"id_token token",display:"page",scope:["openid"]}},store:n};return c.a.register(e,o,s)}(e,t),await async function(e,t,n){return await Object(f.updateStorage)(e,e=>m(m({},e),{},{rpConfig:n})),n}(t.storage,0,n)),n}async function w(e){const t=await Object(f.getData)(e),{rpConfig:n}=t;return n?(n.store=e,c.a.from(n)):null}function x(e){if(401!==e.status)return!1;const t=e.headers.get("www-authenticate");if(!t)return!1;const n=s.parse(t);return"Bearer"===n.scheme&&n.params&&"openid webid"===n.params.scope}async function k(e,t,n,r){const i=(r?r.headers:n.headers)||{},a=await d.a.issueFor(Object(p.toUrlString)(n),e);return i.authorization="Bearer ".concat(a),t(n,m(m({},r),{},{credentials:"include",headers:i}))}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return i.default}});var r=a(n(15)),i=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(16);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=function(e){return e.reduce((function(e,t){var n=a(t,2),o=n[0],s=n[1],l=function(e){return function(t){return`${e}=${t&&!(0,r.isToken)(t)?(0,r.quote)(t):t}`}}(o);if(!(0,r.isToken)(o))throw new TypeError;return Array.isArray(s)?i(e).concat(i(s.map(l))):i(e).concat([l(s)])}),[])};t.default=function(e,t,n){var a="string"==typeof e?{scheme:e,token:t,params:n}:e;if("object"!=typeof a)throw new TypeError;if(!(0,r.isScheme)(a.scheme))throw new TypeError("Invalid scheme.");return[a.scheme].concat(i(void 0!==a.token?[a.token]:[]),i(void 0!==a.params?function e(t,n){if(Array.isArray(t))return o(t);if("object"==typeof t){var r=t;return e(Object.keys(t).map((function(e){return[e,r[e]]})),n)}throw new TypeError}(a.params):[])).join(" ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unquote=t.quote=t.isScheme=t.isToken=void 0;var r=/^[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+$/,i=function(e){return"string"==typeof e&&r.test(e)};t.isToken=i;var a=i;t.isScheme=a;t.quote=function(e){return`"${e.replace(/"/g,'\\"')}"`};t.unquote=function(e){return e.substr(1,e.length-2).replace(/\\"/g,'"')}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(16),i=/((?:[a-zA-Z0-9._~+\/-]+=*(?:\s+|$))|[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+)(?:=([^\\"=\s,]+|"(?:[^"\\]|\\.)*"))?/g,a=function(e,t){var n='"'===t.charAt(0)?(0,r.unquote)(t):t.trim();return Array.isArray(e)?e.concat(n):"string"==typeof e?[e,n]:n};t.default=function(e){if("string"!=typeof e)throw new TypeError("Header value must be a string.");var t=e.indexOf(" "),n=e.substr(0,t);if(!(0,r.isScheme)(n))throw new TypeError("Invalid scheme "+n);return function(e,t){for(var n=null,r={};;){var o=i.exec(t);if(null===o)break;o[2]?r[o[1]]=a(r[o[1]],o[2]):n=a(n,o[1])}return{scheme:e,params:r,token:n}}(n,e.substr(t))}},function(e,t,n){"use strict";e.exports=n(19)},function(e,t,n){(function(t){const r=n(21),i=n(5),{URL:a}=n(27),o=i.Headers?i.Headers:t.Headers,{JWKSet:s}=n(28),l=n(55),c=n(57),u=n(60),d=n(56);class p{constructor({provider:e={},defaults:t,registration:n={},store:r={}}={}){this.provider=e,this.defaults=t||{popToken:!1,authenticate:{response_type:"id_token token",display:"page",scope:["openid"]}},this.registration=n,this.store=r}static async from(e){const t=new p(e),n=t.validate();if(!n.valid)throw n.error;const r=t.provider.jwks;return r?s.importKeys(r).then(e=>(t.provider.jwks=e,t)):t.jwks().then(()=>t)}static register(e,t,n,i,a){const o=new p({provider:{url:e},defaults:Object.assign({},n.defaults),store:n.store});return Promise.resolve().then(()=>o.discover()).then(()=>o.jwks()).then(()=>(r(o.provider.configuration,"OpenID Configuration is not initialized."),o.provider.configuration.registration_endpoint?o.register(t):o.getRegistration(t,i,a))).then(()=>o)}validate(){return this.provider&&this.provider.url?{valid:!0}:{valid:!1,error:new Error("Provider url is required.")}}discover(){try{let e=this.provider.url;r(e,'RelyingParty provider must define "url"');let t=new a(e);return t.pathname=".well-known/openid-configuration",i(t.toString()).then(u("Error fetching openid configuration")).then(e=>e.json().then(e=>this.provider.configuration=e))}catch(e){return Promise.reject(e)}}register(e){try{let t=this.provider.configuration;r(t,"OpenID Configuration is not initialized."),r(t.registration_endpoint,"OpenID Configuration is missing registration_endpoint.");let n=t.registration_endpoint,a="post",s=new o({"Content-Type":"application/json"}),l=this.defaults.register,c=JSON.stringify(Object.assign({},l,e));return i(n,{method:a,headers:s,body:c}).then(u("Error registering client")).then(e=>e.json().then(e=>this.registration=e))}catch(e){return Promise.reject(e)}}serialize(){return JSON.stringify(this)}getRegistration(e,t,n){return Promise.resolve().then(()=>this.registration=n.getRegistration(t)).catch(e=>{throw e})}jwks(){try{let e=this.provider.configuration;r(e,"OpenID Configuration is not initialized."),r(e.jwks_uri,"OpenID Configuration is missing jwks_uri.");let t=e.jwks_uri;return i(t).then(u("Error resolving provider keys")).then(e=>e.json().then(e=>s.importKeys(e)).then(e=>this.provider.jwks=e))}catch(e){return Promise.reject(e)}}createRequest(e,t){return l.create(this,e,t||this.store)}validateResponse(e,t=this.store){let n;n=e.match(/^http(s?):\/\//)?{rp:this,redirect:e,session:t}:{rp:this,body:e,session:t};const r=new c(n);return c.validateResponse(r)}userinfo(e){try{let t=this.provider.configuration;r(t,"OpenID Configuration is not initialized."),r(t.userinfo_endpoint,"OpenID Configuration is missing userinfo_endpoint."),e=e||this.store.access_token,r(e,"Missing access token.");let n=t.userinfo_endpoint,a=new o({"Content-Type":"application/json",Authorization:"Bearer "+e});return i(n,{headers:a}).then(u("Error fetching userinfo")).then(e=>e.json())}catch(e){return Promise.reject(e)}}logoutRequest(e={}){const{id_token_hint:t,post_logout_redirect_uri:n,state:i}=e;let o;if(r(this.provider,"OpenID Configuration is not initialized"),o=this.provider.configuration,r(o,"OpenID Configuration is not initialized"),!o.end_session_endpoint)return console.log("OpenId Configuration for "+o.issuer+" is missing end_session_endpoint"),null;if(n&&!t)throw new Error("id_token_hint is required when using post_logout_redirect_uri");const s={};t&&(s.id_token_hint=t),n&&(s.post_logout_redirect_uri=n),i&&(s.state=i);const l=new a(o.end_session_endpoint);return l.search=d.encode(s),l.href}logout(){let e;try{r(this.provider,"OpenID Configuration is not initialized."),e=this.provider.configuration,r(e,"OpenID Configuration is not initialized.")}catch(e){return Promise.reject(e)}if(!e.end_session_endpoint)return this.clearSession(),Promise.resolve(void 0);let t=e.end_session_endpoint;return i(t,{method:"get",credentials:"include"}).then(u("Error logging out")).then(()=>this.clearSession())}clearSession(){let e=this.store;e&&delete e[f]}popTokenFor(e,t){return PoPToken.issueFor(e,t)}}const f="oidc.session.privateKey";p.SESSION_PRIVATE_KEY=f,e.exports=p}).call(this,n(20))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(t){var r=n(22);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(23),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function d(e){return!a(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=y,f=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(c)return e.name;var t=e.toString().match(f);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(c||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||v(e,!0,t,"==",p.ok)}function b(e,t,n,r){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),a=w(t);if(i&&!a||!i&&a)return!1;if(i)return e=l.call(e),t=l.call(t),b(e,t,n);var s,c,u=C(e),d=C(t);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),c=u.length-1;c>=0;c--)if(u[c]!==d[c])return!1;for(c=u.length-1;c>=0;c--)if(s=u[c],!b(e[s],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&x(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!x(i,n)||!e&&i)throw i}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(p.AssertionError,Error),p.fail=v,p.ok=y,p.equal=function(e,t,n){e!=t&&v(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){k(!0,e,t,n)},p.doesNotThrow=function(e,t,n){k(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=r((function e(t,n){t||v(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var C=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(20))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<a;l=r[++n])m(l)||!w(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=u(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),k(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(C(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return d(n)}var c,w="",E=!1,T=["{","}"];(f(n)&&(E=!0,T=["[","]"]),C(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),k(n)&&(w=" "+d(n)),0!==o.length||E&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)O(t,String(o))?a.push(p(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(p(e,t,n,r,i,!0))})),a}(e,n,r,s,o):o.map((function(t){return p(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,T)):T[0]+w+T[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===E(e)}function k(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function C(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=k,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(25);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),_[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",S(),t.format.apply(t,arguments))},t.inherits=n(26),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(j,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(24))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=window.window},function(e,t,n){const r=n(29),i=n(32),a=n(50),o=n(51),s=n(52),l=n(53);e.exports={crypto:r,JWA:i,JWK:a,JWKSet:o,JWT:s,JWS:l}},function(e,t,n){const r=n(30);e.exports=r.default?r.default:r},function(e,t,n){"use strict";n.r(t);n(31);t.default=window.crypto},function(n,i,a){"use strict";
/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */var o;a.r(i),o="undefined"!=typeof self?self:void 0,void 0===(r=function(){return function(e){if("function"!=typeof Promise)throw"Promise support required";var t=e.crypto||e.msCrypto;if(t){var n=t.subtle||t.webkitSubtle;if(n){var r=e.Crypto||t.constructor||Object,i=e.SubtleCrypto||n.constructor||Object,a=(e.CryptoKey||e.Key,e.navigator.userAgent.indexOf("Edge/")>-1),o=!!e.msCrypto&&!a,s=!t.subtle&&!!t.webkitSubtle;if(o||s){var l={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},c={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var r=n[e];n[e]=function(i,a,l){var c,u,d,h,w=[].slice.call(arguments);switch(e){case"generateKey":c=m(i),u=a,d=l;break;case"importKey":c=m(l),u=w[3],d=w[4],"jwk"===i&&((a=v(a)).alg||(a.alg=g(c)),a.key_ops||(a.key_ops="oct"!==a.kty?"d"in a?d.filter(T):d.filter(E):d.slice()),w[1]=y(a));break;case"unwrapKey":c=w[4],u=w[5],d=w[6],w[2]=l._key}if("generateKey"===e&&"HMAC"===c.name&&c.hash)return c.length=c.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[c.hash.name],n.importKey("raw",t.getRandomValues(new Uint8Array(c.length+7>>3)),c,u,d);if(s&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===c.name&&(!c.modulusLength||c.modulusLength>=2048))return(i=m(i)).name="RSAES-PKCS1-v1_5",delete i.hash,n.generateKey(i,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([n.exportKey("jwk",e.publicKey),n.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=g(c),e[0].key_ops=d.filter(E),e[1].key_ops=d.filter(T),Promise.all([n.importKey("jwk",e[0],c,!0,e[0].key_ops),n.importKey("jwk",e[1],c,u,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((s||o&&"SHA-1"===(c.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===c.name&&"oct"===a.kty)return n.importKey("raw",f(p(a.k)),l,w[3],w[4]);if(s&&"importKey"===e&&("spki"===i||"pkcs8"===i))return n.importKey("jwk",b(a),l,w[3],w[4]);if(o&&"unwrapKey"===e)return n.decrypt(w[3],l,a).then((function(e){return n.importKey(i,e,w[4],w[5],w[6])}));try{h=r.apply(n,w)}catch(e){return Promise.reject(e)}return o&&(h=new Promise((function(e,t){h.onabort=h.onerror=function(e){t(e)},h.oncomplete=function(t){e(t.target.result)}}))),h=h.then((function(e){return"HMAC"===c.name&&(c.length||(c.length=8*e.algorithm.length)),0==c.name.search("RSA")&&(c.modulusLength||(c.modulusLength=(e.publicKey||e).algorithm.modulusLength),c.publicExponent||(c.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e=e.publicKey&&e.privateKey?{publicKey:new C(e.publicKey,c,u,d.filter(E)),privateKey:new C(e.privateKey,c,u,d.filter(T))}:new C(e,c,u,d)}))}})),["exportKey","wrapKey"].forEach((function(e){var t=n[e];n[e]=function(r,i,a){var l,c=[].slice.call(arguments);switch(e){case"exportKey":c[1]=i._key;break;case"wrapKey":c[1]=i._key,c[2]=a._key}if((s||o&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===r&&"HMAC"===i.algorithm.name&&(c[0]="raw"),!s||"exportKey"!==e||"spki"!==r&&"pkcs8"!==r||(c[0]="jwk"),o&&"wrapKey"===e)return n.exportKey(r,i).then((function(e){return"jwk"===r&&(e=f(unescape(encodeURIComponent(JSON.stringify(v(e)))))),n.encrypt(c[3],a,e)}));try{l=t.apply(n,c)}catch(e){return Promise.reject(e)}return o&&(l=new Promise((function(e,t){l.onabort=l.onerror=function(e){t(e)},l.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===r&&(l=l.then((function(e){return(s||o&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:g(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:d(h(e))}:((e=v(e)).alg||(e.alg=g(i.algorithm)),e.key_ops||(e.key_ops="public"===i.type?i.usages.filter(E):"private"===i.type?i.usages.filter(T):i.usages.slice()),e)}))),!s||"exportKey"!==e||"spki"!==r&&"pkcs8"!==r||(l=l.then((function(e){return e=w(v(e))}))),l}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=n[e];n[e]=function(r,i,a,s){if(o&&(!a.byteLength||s&&!s.byteLength))throw new Error("Empy input is not allowed");var l,c=[].slice.call(arguments),u=m(r);if(o&&"decrypt"===e&&"AES-GCM"===u.name){var d=r.tagLength>>3;c[2]=(a.buffer||a).slice(0,a.byteLength-d),r.tag=(a.buffer||a).slice(a.byteLength-d)}c[1]=i._key;try{l=t.apply(n,c)}catch(e){return Promise.reject(e)}return o&&(l=new Promise((function(t,n){l.onabort=l.onerror=function(e){n(e)},l.oncomplete=function(n){if(n=n.target.result,"encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,i=n.tag;(n=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.byteLength),n=n.buffer}t(n)}}))),l}})),o){var u=n.digest;n.digest=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var r;try{r=u.call(n,e,t)}catch(e){return Promise.reject(e)}return r=new Promise((function(e,t){r.onabort=r.onerror=function(e){t(e)},r.oncomplete=function(t){e(t.target.result)}}))},e.crypto=Object.create(t,{getRandomValues:{value:function(e){return t.getRandomValues(e)}},subtle:{value:n}}),e.CryptoKey=C}s&&(t.subtle=n,e.Crypto=r,e.SubtleCrypto=i,e.CryptoKey=C)}}}function d(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function f(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function h(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function m(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=m(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=m(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function g(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function v(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(h(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach((function(n){n in e&&(t[n]=e[n])}));break;default:throw new TypeError("Unsupported key type")}return t}function y(e){var t=v(e);return o&&(t.extractable=t.ext,delete t.ext),f(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function b(e){var t=x(e),n=!1;t.length>2&&(n=!0,t.shift());var r={ext:!0};switch(t[0][0]){case"1.2.840.113549.1.1.1":var i=["n","e","d","p","q","dp","dq","qi"],a=x(t[1]);n&&a.shift();for(var o=0;o<a.length;o++)a[o][0]||(a[o]=a[o].subarray(1)),r[i[o]]=d(h(a[o]));r.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return r}function w(e){var t,n=[["",null]],r=!1;switch(e.kty){case"RSA":for(var i=["n","e","d","p","q","dp","dq","qi"],a=[],o=0;o<i.length&&i[o]in e;o++){var s=a[o]=f(p(e[i[o]]));128&s[0]&&(a[o]=new Uint8Array(s.length+1),a[o].set(s,1))}a.length>2&&(r=!0,a.unshift(new Uint8Array([0]))),n[0][0]="1.2.840.113549.1.1.1",t=a;break;default:throw new TypeError("Unsupported key type")}return n.push(new Uint8Array(k(t)).buffer),r?n.unshift(new Uint8Array([0])):n[1]={tag:3,value:n[1]},new Uint8Array(k(n)).buffer}function x(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),t.end-t.pos<2||t.end>e.length)throw new RangeError("Malformed DER");var n,r=e[t.pos++],i=e[t.pos++];if(i>=128){if(i&=127,t.end-t.pos<i)throw new RangeError("Malformed DER");for(var a=0;i--;)a<<=8,a|=e[t.pos++];i=a}if(t.end-t.pos<i)throw new RangeError("Malformed DER");switch(r){case 2:n=e.subarray(t.pos,t.pos+=i);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");i--;case 4:n=new Uint8Array(e.subarray(t.pos,t.pos+=i)).buffer;break;case 5:n=null;break;case 6:var o=btoa(h(e.subarray(t.pos,t.pos+=i)));if(!(o in l))throw new Error("Unsupported OBJECT ID "+o);n=l[o];break;case 48:n=[];for(var s=t.pos+i;t.pos<s;)n.push(x(e,t));break;default:throw new Error("Unsupported DER tag 0x"+r.toString(16))}return n}function k(e,t){t||(t=[]);var n=0,r=0,i=t.length+2;if(t.push(0,0),e instanceof Uint8Array){n=2,r=e.length;for(var a=0;a<r;a++)t.push(e[a])}else if(e instanceof ArrayBuffer)for(n=4,r=e.byteLength,e=new Uint8Array(e),a=0;a<r;a++)t.push(e[a]);else if(null===e)n=5,r=0;else if("string"==typeof e&&e in c){var o=f(atob(c[e]));for(n=6,r=o.length,a=0;a<r;a++)t.push(o[a])}else if(e instanceof Array){for(a=0;a<e.length;a++)k(e[a],t);n=48,r=t.length-i}else{if(!("object"==typeof e&&3===e.tag&&e.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+e);for(n=3,r=(e=new Uint8Array(e.value)).byteLength,t.push(0),a=0;a<r;a++)t.push(e[a]);r++}if(r>=128){var s=r;for(r=4,t.splice(i,0,s>>24&255,s>>16&255,s>>8&255,255&s);r>1&&!(s>>24);)s<<=8,r--;r<4&&t.splice(i,4-r),r|=128}return t.splice(i-2,2,n,r),t}function C(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function E(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function T(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}}(o)}.apply(t,[]))||(e.exports=r),i.default={}},function(e,t,n){const r=n(33),{NotSupportedError:i}=n(48);e.exports=class{static async sign(e,t,n){let a=r.normalize("sign",e);return a instanceof Error?Promise.reject(new i(e)):a.sign(t,n)}static async verify(e,t,n,a){let o=r.normalize("verify",e);return o instanceof Error?Promise.reject(new i(e)):o.verify(t,n,a)}static async importKey(e){return r.normalize("importKey",e.alg).importKey(e)}}},function(e,t,n){const r=n(34),i=n(35),a=n(45),o=new(n(46));o.define("HS256","sign",new i({name:"HMAC",hash:{name:"SHA-256"}})),o.define("HS384","sign",new i({name:"HMAC",hash:{name:"SHA-384"}})),o.define("HS512","sign",new i({name:"HMAC",hash:{name:"SHA-512"}})),o.define("RS256","sign",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),o.define("RS384","sign",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),o.define("RS512","sign",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),o.define("none","sign",new r({})),o.define("HS256","verify",new i({name:"HMAC",hash:{name:"SHA-256"}})),o.define("HS384","verify",new i({name:"HMAC",hash:{name:"SHA-384"}})),o.define("HS512","verify",new i({name:"HMAC",hash:{name:"SHA-512"}})),o.define("RS256","verify",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),o.define("RS384","verify",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),o.define("RS512","verify",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),o.define("none","verify",new r({})),o.define("RS256","importKey",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),o.define("RS384","importKey",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),o.define("RS512","importKey",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),e.exports=o},function(e,t){e.exports=class{sign(){return Promise.resolve("")}verify(){}}},function(e,t,n){"use strict";(function(t){const r=n(40),i=n(30),a=n(43);e.exports=class{constructor(e){this.params=e}sign(e,n){let o=this.params;return n=(new a).encode(n),i.subtle.sign(o,e,n).then(e=>r(t.from(e)))}verify(e,t,n){let o=this.params;return"string"==typeof t&&(t=Uint8Array.from(r.toBuffer(t))),"string"==typeof n&&(n=(new a).encode(n)),i.subtle.verify(o,e,t,n)}assertSufficientKeyLength(e){if(e.length<this.bitlength)throw new Error("The key is too short.")}}}).call(this,n(36).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(37),i=n(38),a=n(39);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return q(U(t,e.length-n),e,n,r)}function x(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function C(e,t,n,r){return q(z(t),e,n,r)}function E(e,t,n,r){return q(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=B(e[a]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,a){return a||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return a||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:U(new l(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(20))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=h,o/=256,c-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(41).default,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);function i(t,n){return void 0===n&&(n="utf8"),e.isBuffer(t)?o(t.toString("base64")):o(e.from(t,n).toString("base64"))}function a(e){return e=e.toString(),r.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function o(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var s=i;s.encode=i,s.decode=function(t,n){return void 0===n&&(n="utf8"),e.from(a(t),"base64").toString(n)},s.toBase64=a,s.fromBase64=o,s.toBuffer=function(t){return e.from(a(t),"base64")},t.default=s}).call(this,n(36).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t.length,r=n%4;if(!r)return t;var i=n,a=4-r,o=n+a,s=e.alloc(o);for(s.write(t);a--;)s.write("=",i++);return s.toString()}}).call(this,n(36).Buffer)},function(e,t,n){(function(t){const r=t.TextEncoder?t.TextEncoder:n(44).TextEncoder;e.exports=r}).call(this,n(20))},function(e,t){},function(e,t,n){"use strict";(function(t){const r=n(40);let i=n(29);const a=n(43);e.exports=class{constructor(e){this.params=e}sign(e,n){let o=this.params;return n=(new a).encode(n),i.subtle.sign(o,e,n).then(e=>r(t.from(e)))}verify(e,t,n){let o=this.params;return"string"==typeof t&&(t=Uint8Array.from(r.toBuffer(t))),"string"==typeof n&&(n=(new a).encode(n)),i.subtle.verify(o,e,t,n)}async importKey(e){let t=Object.assign({},e),n=this.params,r=e.key_ops||[];return"sig"===e.use&&r.push("verify"),"enc"===e.use?Promise.resolve(e):(e.key_ops&&(r=e.key_ops),i.subtle.importKey("jwk",t,n,!0,r).then(e=>(Object.defineProperty(t,"cryptoKey",{enumerable:!1,value:e}),t)))}}}).call(this,n(36).Buffer)},function(e,t,n){const r=n(47),i=["sign","verify","encrypt","decrypt","importKey"];e.exports=class{constructor(){i.forEach(e=>{this[e]={}})}static get operations(){return i}define(e,t,n){this[t][e]=n}normalize(e,t){let n=this[e];if(!n)return new SyntaxError;let i=n[t];return i||new r(t)}}},function(e,t){class n extends Error{constructor(e){super(),this.message=e+" is not a supported algorithm"}}e.exports=n},function(e,t,n){e.exports={DataError:n(49),NotSupportedError:n(47)}},function(e,t){class n extends Error{constructor(e){super(e)}}e.exports=n},function(e,t,n){"use strict";const r=n(32);e.exports=class{constructor({kty:e,use:t,key_ops:n,alg:r,kid:i,x5u:a,x5c:o,x5t:s}={}){this.kty=e,this.use=t,this.key_ops=n,this.alg=r,this.kid=i,this.x5u=a,this.x5c=o,this.x5t=s}static async importKey(e){return r.importKey(e)}}},function(e,t,n){"use strict";const r=n(50);class i{constructor({keys:e}={}){this.keys=e}static async importKeys(e){if(!e.keys)return Promise.reject(new Error("Cannot import JWKSet: keys property is empty"));let t,n;try{t=new i(e),n=e.keys.map(e=>r.importKey(e))}catch(e){return Promise.reject(e)}return Promise.all(n).then(e=>(t.keys=e,t))}}e.exports=i},function(e,t,n){const r=n(40),i=n(53),a=n(49),o=n(54);class s{constructor(e={}){this.type=e.type,this.segments=e.segments,this.header=new o(e.header),this.protected=e.protected,this.unprotected=e.unprotected,this.iv=e.iv,this.aad=e.aad,this.ciphertext=e.ciphertext,this.tag=e.tag,this.recipients=e.recipients,this.payload=e.payload,this.signatures=e.signatures,this.signature=e.signature,this.key=e.key,this.serialization=e.serialization||"compact"}static decode(e){let t,n=this;if("string"!=typeof e)throw new a("JWT must be a string");if(e.startsWith("{")){try{e=JSON.parse(e,()=>{})}catch(e){throw new a("Invalid JWT serialization")}e.signatures||e.recipients?e.serialization="json":e.serialization="flattened",t=new n(e,{filter:!1})}else try{let i="compact",a=e.split("."),o=a.length;if(3!==o&&5!==o)throw new Error("Malformed JWT");let s=JSON.parse(r.decode(a[0]));if(3===o){t=new n({type:"JWS",segments:a,header:s,payload:JSON.parse(r.decode(a[1])),signature:a[2],serialization:i},{filter:!1})}}catch(e){throw new a("Invalid JWT compact serialization")}return t}static encode(e,t,n){return new s(e,t).encode(n)}static async verify(e,t){let n=s.decode(t);return n.key=e,n.verify().then(e=>n)}isJWE(){return!!this.header.enc}resolveKeys(e){let t,n,r=this.header.kid;if(Array.isArray(e)&&(t=e),e.keys&&(t=e.keys),e.keys||"object"!=typeof e||(t=[e]),!t)throw new a("Invalid JWK argument");return n=r?t.find(e=>e.kid===r):t.find(e=>"sig"===e.use),!!n&&(this.key=n.cryptoKey,!0)}async encode(){let e=this;return this.isJWE()?JWE.encrypt(e):i.sign(e)}async verify(){return i.verify(this)}}e.exports=s},function(e,t,n){const r=n(40),i=n(32),{DataError:a}=n(48),o=n(54);e.exports=class{constructor(e={}){this.header=new o(e.header),this.payload=e.payload||{},this.signature=e.signature,this.protected=e.protected,this.signatures=e.signatures,this.verified=!1}static async sign(e){let t=r(JSON.stringify(e.payload));if("compact"===e.serialization){let{key:n,header:{alg:a}}=e,o=`${r(JSON.stringify(e.header))}.${t}`;return i.sign(a,n,o).then(e=>`${o}.${e}`)}return e.serialization,e.serialization,Promise.reject(new a("Unsupported serialization"))}static async verify(e){e.signatures;let{key:t,signature:n,header:{alg:r}}=e;if(e.signature){let[o,s]=e.segments,l=`${o}.${s}`;return"none"===r?Promise.reject(new a("Signature provided to verify with alg: none")):i.verify(r,t,n,l).then(t=>(e.verified=t,t))}if("none"===r){if(!t&&!n)return e.verified=!0,Promise.resolve(!0);if(t)return Promise.reject(new a("Key provided to verify signature with alg: none"))}return Promise.reject(new a("Missing signature(s)"))}}},function(e,t){e.exports=class{constructor({typ:e,cty:t,alg:n,jku:r,kid:i,x5u:a,x5c:o,x5t:s,crit:l,enc:c,zip:u}={}){this.typ=e,this.cty=t,this.alg=n,this.jku=r,this.kid=i,this.x5u=a,this.x5c=o,this.x5t=s,this.crit=l,this.enc=c,this.zip=u}isJWS(){}isJWE(){}}},function(e,t,n){(function(t){const r=n(21),i=n(40),{crypto:a,JWT:o}=n(28),s=n(56),{URL:l}=n(27);class c{static create(e,n,o){const{provider:u,defaults:d,registration:p}=e;let f,h,m,g;return Promise.resolve().then(()=>(r(u.configuration,"RelyingParty provider OpenID Configuration is missing"),r(d.authenticate,"RelyingParty default authentication parameters are missing"),r(p,"RelyingParty client registration is missing"),f=u.configuration.issuer,h=u.configuration.authorization_endpoint,m={client_id:p.client_id},g=Object.assign(d.authenticate,m,n),r(f,"Missing issuer in provider OpenID Configuration"),r(h,"Missing authorization_endpoint in provider OpenID Configuration"),r(g.scope,"Missing scope parameter in authentication request"),r(g.response_type,"Missing response_type parameter in authentication request"),r(g.client_id,"Missing client_id parameter in authentication request"),r(g.redirect_uri,"Missing redirect_uri parameter in authentication request"),g.state=Array.from(a.getRandomValues(new Uint8Array(16))),g.nonce=Array.from(a.getRandomValues(new Uint8Array(16))),Promise.all([a.subtle.digest({name:"SHA-256"},new Uint8Array(g.state)),a.subtle.digest({name:"SHA-256"},new Uint8Array(g.nonce))]))).then(e=>{let n=i(t.from(e[0])),r=i(t.from(e[1]));o[`${f}/requestHistory/${n}`]=JSON.stringify(g),g.state=n,g.nonce=r}).then(()=>c.generateSessionKeys()).then(e=>{c.storeSessionKeys(e,g,o)}).then(()=>{if(u.configuration.request_parameter_supported)return c.encodeRequestParams(g).then(e=>{g=e})}).then(()=>{let e=new l(h);return e.search=s.encode(g),e.href})}static generateSessionKeys(){return a.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(e=>Promise.all([a.subtle.exportKey("jwk",e.publicKey),a.subtle.exportKey("jwk",e.privateKey)])).then(e=>{let[t,n]=e;return{public:t,private:n}})}static storeSessionKeys(e,t,n){n["oidc.session.privateKey"]=JSON.stringify(e.private),t.key=e.public}static encodeRequestParams(e){const t=["scope","client_id","response_type","state"],n=Object.keys(e).filter(e=>!t.includes(e));let r={};return n.forEach(t=>{r[t]=e[t]}),new o({header:{alg:"none"},payload:r},{filter:!1}).encode().then(t=>({scope:e.scope,client_id:e.client_id,response_type:e.response_type,request:t,state:e.state}))}}e.exports=c}).call(this,n(36).Buffer)},function(e,t){e.exports=class{static encode(e){let t=[];return Object.keys(e).forEach((function(n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))})),t.join("&")}static decode(e){let t={};return e.split("&").forEach((function(e){let n=e.split("="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]);t[r]=i})),t}}},function(e,t,n){(function(t,r){const{URL:i}=n(27),a=n(21),{crypto:o}=n(28),s=n(40),l=n(5),c=l.Headers?l.Headers:t.Headers,u=n(56),d=n(58),p=n(59),f=n(60),h=n(62);class m{constructor({rp:e,redirect:t,body:n,session:r,mode:i,params:a={}}){this.rp=e,this.redirect=t,this.body=n,this.session=r,this.mode=i,this.params=a}static validateResponse(e){return Promise.resolve(e).then(this.parseResponse).then(this.errorResponse).then(this.matchRequest).then(this.validateStateParam).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(p.fromAuthResponse)}static parseResponse(e){let{redirect:t,body:n}=e;if(t&&n||!t&&!n)throw new h(400,"Invalid response mode");if(t){let n=new i(t),{search:r,hash:a}=n;if(r&&a||!r&&!a)throw new h(400,"Invalid response mode");r&&(e.params=u.decode(r.substring(1)),e.mode="query"),a&&(e.params=u.decode(a.substring(1)),e.mode="fragment")}return n&&(e.params=u.decode(n),e.mode="form_post"),e}static errorResponse(e){const t=e.params.error;if(t){const n={};n.error=t,n.error_description=e.params.error_description,n.error_uri=e.params.error_uri,n.state=e.params.state;const r=new Error("AuthenticationResponse error: "+t);throw r.info=n,r}return e}static matchRequest(e){let{rp:t,params:n,session:r}=e,i=n.state,a=t.provider.configuration.issuer;if(!i)throw new Error("Missing state parameter in authentication response");let o=r[`${a}/requestHistory/${i}`];if(!o)throw new Error("Mismatching state parameter in authentication response");return e.request=JSON.parse(o),e}static validateStateParam(e){let t=new Uint8Array(e.request.state),n=e.params.state;return o.subtle.digest({name:"SHA-256"},t).then(t=>{if(n!==s(r.from(t)))throw new Error("Mismatching state parameter in authentication response");return e})}static validateResponseMode(e){if("code"!==e.request.response_type&&"query"===e.mode)throw new Error("Invalid response mode");return e}static validateResponseParams(e){let{request:t,params:n}=e,r=t.response_type.split(" ");return r.includes("code")&&a(n.code,"Missing authorization code in authentication response"),r.includes("id_token")&&a(n.id_token,"Missing id_token in authentication response"),r.includes("token")&&(a(n.access_token,"Missing access_token in authentication response"),a(n.token_type,"Missing token_type in authentication response")),e}static exchangeAuthorizationCode(e){let{rp:t,params:n,request:i}=e,o=n.code;if(!o||"code"!==i.response_type)return Promise.resolve(e);let{provider:s,registration:d}=t,p=d.client_id,h=d.client_secret;if(!h)return Promise.reject(new Error("Client cannot exchange authorization code because it is not a confidential client"));let m=s.configuration.token_endpoint,g=new c({"Content-Type":"application/x-www-form-urlencoded"}),v={grant_type:"authorization_code",code:o,redirect_uri:i.redirect_uri},y=d.token_endpoint_auth_method||"client_secret_basic";if("client_secret_basic"===y){let e=new r(`${p}:${h}`).toString("base64");g.set("Authorization","Basic "+e)}"client_secret_post"===y&&(v.client_id=p,v.client_secret=h);let b=u.encode(v);return l(m,{method:"POST",headers:g,body:b}).then(f("Error exchanging authorization code")).then(e=>e.json()).then(t=>(a(t.access_token,"Missing access_token in token response"),a(t.token_type,"Missing token_type in token response"),a(t.id_token,"Missing id_token in token response"),e.params=Object.assign(e.params,t),e))}static validateIDToken(e){return e.params.id_token?Promise.resolve(e).then(m.decryptIDToken).then(m.decodeIDToken).then(m.validateIssuer).then(m.validateAudience).then(m.resolveKeys).then(m.verifySignature).then(m.validateExpires).then(m.verifyNonce).then(m.validateAcr).then(m.validateAuthTime).then(m.validateAccessTokenHash).then(m.validateAuthorizationCodeHash):Promise.resolve(e)}static decryptIDToken(e){return Promise.resolve(e)}static decodeIDToken(e){let t=e.params.id_token;try{e.decoded=d.decode(t)}catch(e){const n=new h(400,"Error decoding ID Token");throw n.cause=e,n.info={id_token:t},n}return e}static validateIssuer(e){let t=e.rp.provider.configuration;if(e.decoded.payload.iss!==t.issuer)throw new Error("Mismatching issuer in ID Token");return e}static validateAudience(e){let t=e.rp.registration,{aud:n,azp:r}=e.decoded.payload;if("string"==typeof n&&n!==t.client_id)throw new Error("Mismatching audience in id_token");if(Array.isArray(n)&&!n.includes(t.client_id))throw new Error("Mismatching audience in id_token");if(Array.isArray(n)&&!r)throw new Error("Missing azp claim in id_token");if(r&&r!==t.client_id)throw new Error("Mismatching azp claim in id_token");return e}static resolveKeys(e){let t=e.rp,n=t.provider,r=e.decoded,i=!1;return Promise.resolve(n.jwks).then(e=>e||(i=!0,t.jwks())).then(n=>{if(r.resolveKeys(n))return Promise.resolve(e);if(!i)return t.jwks().then(t=>{if(r.resolveKeys(t))return Promise.resolve(e);throw new Error("Cannot resolve signing key for ID Token")});throw new Error("Cannot resolve signing key for ID Token")})}static verifySignature(e){let t=e.decoded.header.alg,n=e.rp.registration.id_token_signed_response_alg||"RS256";if(t!==n)throw new Error("Expected ID Token to be signed with "+n);return e.decoded.verify().then(t=>{if(!t)throw new Error("Invalid ID Token signature");return e})}static validateExpires(e){if(e.decoded.payload.exp<=Math.floor(Date.now()/1e3))throw new Error("Expired ID Token");return e}static verifyNonce(e){let t=new Uint8Array(e.request.nonce),n=e.decoded.payload.nonce;if(!n)throw new Error("Missing nonce in ID Token");return o.subtle.digest({name:"SHA-256"},t).then(t=>{if(n!==s(r.from(t)))throw new Error("Mismatching nonce in ID Token");return e})}static validateAcr(e){return e}static validateAuthTime(e){return e}static validateAccessTokenHash(e){return e}static validateAuthorizationCodeHash(e){return e}}e.exports=m}).call(this,n(20),n(36).Buffer)},function(e,t,n){const{JWT:r}=n(28),i=["iss","sub","aud","exp","iat"];class a{constructor({iss:e,sub:t,aud:n,exp:r,iat:i,nbf:a,jti:o,auth_time:s,nonce:l,acr:c,amr:u}={}){this.iss=e,this.sub=t,this.aud=n,this.exp=r,this.iat=i,this.nbf=a,this.jti=o,this.auth_time=s,this.nonce=l,this.acr=c,this.amr=u}validate(){let e,t=!0;try{for(const e of i)if(!this[e])throw t=!1,new Error(`Required claim ${e} is missing.`)}catch(t){e=t}return{valid:t,error:e}}}e.exports=class extends r{constructor(e={}){super(e),this.payload=new a(e.payload)}validate(){const e=this.payload.validate();if(!e.valid)return e;return{valid:!0,error:void 0}}},e.exports.TokenClaimsSet=a},function(e,t,n){"use strict";const r=n(5),i=n(60),a=n(61);class o{constructor(e){this.credentialType=e.credentialType||"access_token",this.issuer=e.issuer,this.authorization=e.authorization||{},this.sessionKey=e.sessionKey,this.idClaims=e.idClaims,this.accessClaims=e.accessClaims}static from(e){return new o(e)}static fromAuthResponse(e){const t=n(19);let r=e.decoded&&e.decoded.payload||{},{rp:i}=e,a=i.registration,s={credentialType:(i.defaults.authenticate||{}).credential_type||i.defaults.popToken?"pop_token":"access_token",sessionKey:e.session[t.SESSION_PRIVATE_KEY],issuer:r.iss,idClaims:r,authorization:{client_id:a.client_id,access_token:e.params.access_token,id_token:e.params.id_token,refresh_token:e.params.refresh_token}};return o.from(s)}get fetch(){return(e,t)=>Promise.resolve().then(()=>this.hasCredentials()?this.fetchWithCredentials(e,t):r(e,t)).then(i("Error while fetching resource"))}bearerTokenFor(e){switch(this.credentialType){case"pop_token":return a.issueFor(e,this);default:return Promise.resolve(this.authorization[this.credentialType])}}hasCredentials(){switch(this.credentialType){case"pop_token":return!!this.authorization.id_token;default:return!!this.authorization[this.credentialType]}}fetchWithCredentials(e,t={}){return t.headers=t.headers||{},this.bearerTokenFor(e).then(n=>(t.headers.authorization="Bearer "+n,r(e,t)))}}e.exports=o},function(e,t,n){"use strict";e.exports=function(e="fetch error"){return t=>{if(t.status>=200&&t.status<300)return t;let n=`${e}: ${t.status} ${t.statusText}`,r=new Error(n);throw r.response=t,r.statusCode=t.status,r}}},function(e,t,n){"use strict";const{URL:r}=n(27),{JWT:i,JWK:a}=n(28);class o extends i{static issueFor(e,t){if(!e)throw new Error("Cannot issue PoPToken - missing resource server URI");if(!t.sessionKey)throw new Error("Cannot issue PoPToken - missing session key");if(!t.authorization.id_token)throw new Error("Cannot issue PoPToken - missing id token");let n=JSON.parse(t.sessionKey);return a.importKey(n).then(n=>{let i={aud:new r(e).origin,key:n,iss:t.authorization.client_id,id_token:t.authorization.id_token};return o.issue(i)}).then(e=>e.encode())}static issue(e){let{aud:t,iss:n,key:r}=e,i=r.alg,a=e.iat||Math.floor(Date.now()/1e3),s={alg:i},l={iss:n,aud:t,exp:a+(e.max||3600),iat:a,id_token:e.id_token,token_type:"pop"};return new o({header:s,payload:l,key:r.cryptoKey},{filter:!1})}}e.exports=o},function(e,t,n){t=e.exports=o;var r=n(63),i=n(64),a=t;function o(e,t,n){if("string"==typeof e&&(e=a[e]),"number"!=typeof e)throw new TypeError("Non-numeric HTTP code");"object"==typeof t&&null!=t&&(n=t,t=null),r.call(this,t||i[e],n),this.code=e}for(var s in o.prototype=Object.create(r.prototype,{constructor:{value:o,configurable:!0,writable:!0}}),o.prototype.name="HttpError",Object.defineProperties(o.prototype,{statusCode:l("code"),statusMessage:l("message"),status:{configurable:!0,get:function(){return this.code},set:function(e){Object.defineProperty(this,"status",{value:e,configurable:!0,enumerable:!0,writable:!0})}}}),o.prototype.toString=function(){return this.name+": "+this.code+" "+this.message},i){t[i[s].replace("'","").replace(/[- ]/g,"_").toUpperCase()]=+s}function l(e){return{configurable:!0,get:function(){return this[e]},set:function(t){return this[e]=t}}}},function(e,t){var n=Object.hasOwnProperty,r=Object.getPrototypeOf,i=Error.captureStackTrace;function a(e,t){if(e&&"object"==typeof e?(t=e,e=void 0):this.message=e,t)for(var a in t)this[a]=t[a];n.call(this,"name")||(this.name=n.call(r(this),"name")?this.name:this.constructor.name),i&&!("stack"in this)&&i(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype,{constructor:{value:a,configurable:!0,writable:!0}}),a.prototype.name="StandardError"},function(e){e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},function(e,t,n){"use strict";n.r(t),n.d(t,"openIdpPopup",(function(){return a})),n.d(t,"obtainSession",(function(){return o})),n.d(t,"popupHandler",(function(){return s}));var r=n(10),i=n(6);function a(e){const t=window.screenX+(window.innerWidth-650)/2,n=window.screenY+(window.innerHeight-400)/2,r="width=".concat(650,",height=").concat(400,",left=").concat(t,",top=").concat(n);return window.open(e,"solid-auth-client",r)}function o(e,t,n){return new Promise((a,o)=>{const l=new r.Server(t,Object(i.originOf)(n.popupUri||""),s(e,n,e=>{l.stop(),a(e)}));l.start()})}function s(e,{popupUri:t,callbackUri:n},r){return async(i,...a)=>{switch(i){case"getAppOrigin":return window.location.origin;case"storage/getItem":return e.getItem(...a);case"storage/setItem":return e.setItem(...a);case"storage/removeItem":return e.removeItem(...a);case"getLoginOptions":return{popupUri:t,callbackUri:n};case"foundSession":r(...a)}}}}]).default},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UtilityLogic=t.ACL_LINK=void 0;var a=n(3);t.ACL_LINK=a.sym("http://www.iana.org/assignments/link-relations/acl");var o=function(){function e(e,t,n){this.store=e,this.ns=t,this.fetcher=n}return e.prototype.findAclDocUrl=function(e){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return n=this.store.sym(e),[4,this.store.fetcher.load(n)];case 1:if(i.sent(),!(r=this.store.any(n,t.ACL_LINK)))throw new Error("No ACL link discovered for "+e);return[2,r.value]}}))}))},e.prototype.setSinglePeerAccess=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=["@prefix acl: <http://www.w3.org/ns/auth/acl#>.","","<#alice> a acl:Authorization;\n  acl:agent <"+e.ownerWebId+">;","  acl:accessTo <"+e.target+">;","  acl:default <"+e.target+">;","  acl:mode acl:Read, acl:Write, acl:Control.",""].join("\n"),e.accessToModes&&(t+=["<#bobAccessTo> a acl:Authorization;","  acl:agent <"+e.peerWebId+">;","  acl:accessTo <"+e.target+">;","  acl:mode "+e.accessToModes+".",""].join("\n")),e.defaultModes&&(t+=["<#bobDefault> a acl:Authorization;","  acl:agent <"+e.peerWebId+">;","  acl:default <"+e.target+">;","  acl:mode "+e.defaultModes+".",""].join("\n")),[4,this.findAclDocUrl(e.target)];case 1:return n=r.sent(),[2,this.fetcher.fetch(n,{method:"PUT",body:t,headers:[["Content-Type","text/turtle"]]})]}}))}))},e.prototype.loadDoc=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:if(!this.store.fetcher)throw new Error("Cannot load doc, have no fetcher");return[4,this.store.fetcher.load(e,{withCredentials:!1,cache:"reload"})];case 1:return t.sent(),[2]}}))}))},e.prototype.isContainer=function(e){return"/"===e.substr(-1)},e.prototype.createContainer=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:if(!this.isContainer(e))throw new Error("Not a container URL "+e);return[4,this.fetcher.fetch(e,{method:"PUT",headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"'},body:" "})];case 1:if("2"!==(t=n.sent()).status.toString()[0])throw new Error("Not OK: got "+t.status+" response while creating container at "+e);return[2]}}))}))},e.prototype.getContainerElements=function(e){return this.store.statementsMatching(e,this.store.sym("http://www.w3.org/ns/ldp#contains"),void 0,e.doc()).map((function(e){return e.object}))},e.prototype.getContainerMembers=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t=this.store.sym(e),[4,this.store.fetcher.load(t)];case 1:return n.sent(),[2,this.getContainerElements(t).map((function(e){return e.value}))]}}))}))},e.prototype.recursiveDelete=function(e){return r(this,void 0,void 0,(function(){var t,n,r=this;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),this.isContainer(e)?[4,this.findAclDocUrl(e)]:[3,5];case 1:return t=i.sent(),[4,this.fetcher.fetch(t,{method:"DELETE"})];case 2:return i.sent(),[4,this.getContainerMembers(e)];case 3:return n=i.sent(),[4,Promise.all(n.map((function(e){return r.recursiveDelete(e)})))];case 4:i.sent(),i.label=5;case 5:return[2,this.fetcher.fetch(e,{method:"DELETE"})];case 6:return i.sent(),[3,7];case 7:return[2]}}))}))},e.prototype.clearStore=function(){this.store.statements.slice().forEach(this.store.remove.bind(this.store))},e.prototype.getArchiveUrl=function(e,t){var n=t.getUTCFullYear(),r=("0"+(t.getUTCMonth()+1)).slice(-2),i=("0"+t.getUTCDate()).slice(-2),a=e.split("/"),o=a[a.length-1];return new URL("./archive/"+n+"/"+r+"/"+i+"/"+o,e).toString()},e}();t.UtilityLogic=o},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.preventBrowserDropEvents=function(e){if((0,f.log)("preventBrowserDropEvents called."),void 0!==g){if(g[v])return;g[v]=!0}e.addEventListener("drop",b,!1),e.addEventListener("dragenter",y,!1),e.addEventListener("dragover",y,!1)},t.preventDrag=y,t.handleDrop=b,t.shortNameForFolder=function(e){var t=e.uri;"/"===t.slice(-1)&&(t=t.slice(0,-1));var n=t.lastIndexOf("/");n>=0&&(t=t.slice(n+1));return t||"/"},t.ACLControlBox5=function(e,t,n,r){var i=t.dom,a=e.doc(),o=(0,d.getClasses)(i.head,p.styles).classes,s=i.createElement("div");s.classList.add(o.aclControlBoxContainer);var c=s.appendChild(i.createElement("h1"));c.textContent="Sharing for ".concat(n," ").concat(l.label(e)),c.classList.add(o.aclControlBoxHeader);var u=s.appendChild(i.createElement("div"));u.classList.add(o.aclControlBoxStatus);try{(function(e,t,n,r,i,a,o,s){return w.apply(this,arguments)})(a,r,e,n,t,o,i,u).then((function(e){return s.appendChild(e.render())}))}catch(e){u.innerText=e}return s},t.setGlobalWindow=function(e){g=e};var a=r(n(10)),o=r(n(15)),s=m(n(16)),l=m(n(27)),c=n(90),u=n(210),d=n(114),p=n(231),f=n(24);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var g=window,v=Symbol("prevent double triggering of drop event");function y(e){e.stopPropagation(),e.preventDefault()}function b(e){e.dataTransfer.files.length>0&&(g.confirm("Are you sure you want to drop this file here? (Cancel opens it in a new tab)")||(e.stopPropagation(),e.preventDefault(),(0,f.log)("@@@@ document-level DROP suppressed: "+e.dataTransfer.dropEffect)))}function w(){return(w=(0,o.default)(a.default.mark((function e(t,n,r,i,s,l,d,p){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,h){return(0,c.getACLorDefault)(t,function(){var t=(0,o.default)(a.default.mark((function t(o,m,g,v,y,b){var w,E,T,_;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_=function(e){return new u.AccessController(r,i,s,p,l,E,g,v,y,b,e,n,d)},o){t.next=3;break}return t.abrupt("return",h(new Error("Error reading ".concat(m?"":" default ","ACL. status ").concat(g,": ").concat(v))));case 3:if(w=x(g),(E=k(g,v,n)||C(g))||!w){t.next=16;break}return t.prev=6,t.next=9,(0,c.getProspectiveHolder)(w);case 9:return T=t.sent,t.abrupt("return",e(_(T)));case 13:t.prev=13,t.t0=t.catch(6),(0,f.warn)(t.t0);case 16:return t.abrupt("return",e(_()));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,n,r,i,a,o){return t.apply(this,arguments)}}())})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.uri.split("#")[0],n=t.slice(0,-1).lastIndexOf("/"),r=t.indexOf("//");return r>=0&&n<r+2||n<0?null:t.slice(0,n+1)}function k(e,t,n){return n.holds(e,s.rdf("type"),s.space("Storage"),t)}function C(e){return e.uri===e.site().uri}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutocompleteControl=function(e,t,n,r,i,a){return w.apply(this,arguments)};var a=r(n(10)),o=r(n(15)),s=h(n(16)),l=n(38),c=n(20),u=h(n(28)),d=h(n(27)),p=n(142);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=l.icons.iconBase+"noun_34653_green.svg",y=l.icons.iconBase+"noun_Search_875351.svg",b=l.icons.iconBase+"noun_253504.svg";function w(){return(w=(0,o.default)(a.default.mark((function e(t,n,r,i,l,f){var h,g,w,x,k,C,E,T,_,S,O,A,j,P,I,N,L,R,M,D,F,B,U;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M=function(){R?((0,p.setVisible)(L,!1),(0,p.setVisible)(A,!1),(0,p.setVisible)(j,!1)):((0,p.setVisible)(L,!0),(0,p.setVisible)(A,!1),(0,p.setVisible)(j,!1))},O=function(){return(O=(0,o.default)(a.default.mark((function e(t){var r,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return o=i.value,e.next=7,l(n,o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)},S=function(e){return O.apply(this,arguments)},_=function(){return(_=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=5;break}B.removeChild(F),F=void 0,e.next=7;break;case 5:return e.next=7,C();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},T=function(e){return _.apply(this,arguments)},E=function(){return(E=(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(F=t.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),e.t0=F,e.next=5,(0,p.renderAutoComplete)(t,i,D,h);case 5:e.t1=e.sent,e.t0.appendChild.call(e.t0,e.t1),F.appendChild(A),F.appendChild(j),F.appendChild(L),F.appendChild(P),B.appendChild(F);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},C=function(){return E.apply(this,arguments)},k=function(){F&&(B.removeChild(F),F=void 0)},x=function(){return(x=(0,o.default)(a.default.mark((function e(r){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.askName(t,c.store,B,s.vcard("url"),void 0,"Solid ID");case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",l(n,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},w=function(e){return x.apply(this,arguments)},g=function(){return(g=(0,o.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.permanent?((0,p.setVisible)(L,!0),(0,p.setVisible)(A,!1),(0,p.setVisible)(j,!1)):k(),e.abrupt("return",l(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(e,t){return g.apply(this,arguments)},(A=u.continueButton(t)).setAttribute("data-testid","accept-button"),(j=u.cancelButton(t)).setAttribute("data-testid","cancel-button"),P=t.createElement("div"),I=i.targetClass?d.label(i.targetClass):"item",(N=u.deleteButtonWithCheck(t,P,I,f)).setAttribute("data-testid","delete-button"),(L=u.button(t,b,"Edit",(function(e){R=!R,M()}))).setAttribute("data-testid","edit-button"),R=!0,D={acceptButton:A,cancelButton:j,editButton:L,deleteButton:N},F=void 0,(B=t.createElement("div")).style.display="flex",B.style.flexDirection="row",!i.permanent&&!i.currentObject){e.next=31;break}return e.next=31,C();case 31:return r.editable&&(B.style.width="100%",r.manualURIEntry&&(U=B.appendChild(u.button(t,v,r.idNoun,w)),u.makeDropTarget(U,S,void 0)),!r.dbLookup||i.currentObject||i.permanent||B.appendChild(u.button(t,y,r.idNoun,T))),M(),e.abrupt("return",B);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.setVisible=v,t.renderAutoComplete=function(e,t,n,r){return y.apply(this,arguments)};var a=r(n(10)),o=r(n(15)),s=h(n(24)),l=h(n(39)),c=h(n(28)),u=n(20),d=n(143),p=n(117);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){e.style.display=t?"":"none"}function y(){return(y=(0,o.default)(a.default.mark((function e(t,n,r,i){var f,h,g,y,b,w,x,k,C,E,T,_,S,O,A,j,P,I,N,L,R,M,D,F,B,U,z,q,H,W,G,V,$,Q;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=function(){n.currentObject?(V.value=n.currentName?n.currentName.value:"??? wot no name for "+n.currentObject,z=n.currentName,F=n.currentName?n.currentName.value:void 0,q=n.currentObject):(V.value="",F=void 0,q=void 0),r.deleteButton&&v(r.deleteButton,!!n.currentObject),r.acceptButton&&v(r.acceptButton,!1),r.editButton&&v(r.editButton,!0),r.cancelButton&&v(r.cancelButton,!1),M=!1,E()},P=function(){return(P=(0,o.default)(a.default.mark((function e(){var n,r,i,c,u,f,h,v,y;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e,t){return t.name.value>e.name.value?1:t.name.name<e.name.value?-1:0},n=function(e){var n=t.createElement("tr");l.setStyle(n,"autocompleteRowStyle"),n.setAttribute("style","padding: 0.3em;"),n.style.color=D?"#080":"#088",n.textContent=e.name.value;var r=(0,d.bindingToTerm)(e.subject),i=(0,d.bindingToTerm)(e.name);return n.addEventListener("click",function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.log("       click row textContent: "+n.textContent),s.log("       click name: "+i.value),r&&i&&g(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n},!M){e.next=5;break}return s.log('Ignoring "'.concat(V.value,'" because of lock ')),e.abrupt("return");case 5:return s.log('Setting lock at "'.concat(V.value,'"')),M=!0,e.next=9,(0,p.getPreferredLanguages)();case 9:if(i=e.sent,!((c=V.value.trim().toLowerCase()).length<4)){e.next=16;break}E(),B=20,e.next=31;break;case 16:if(D&&F&&c.startsWith(F)){e.next=21;break}return s.log('   Querying database at "'.concat(c,'" cf last "').concat(F,'".')),e.next=20,S(c,i);case 20:L=e.sent;case 21:u=A(c,L),R&&u.length<=40&&(B=u.length),D=R&&u.length<=B,s.log(' Filter:"'.concat(c,'" lastBindings: ').concat(L.length,", slimmed to ").concat(u.length,"; rows: ").concat(B,", Enough? ").concat(R,", All displayed? ").concat(D)),(f=u.slice(0,B)).sort(r),E(),h=m(f);try{for(h.s();!(v=h.n()).done;)y=v.value,H.appendChild(n(y))}catch(e){h.e(e)}finally{h.f()}1===u.length&&g((0,d.bindingToTerm)(u[0].subject),(0,d.bindingToTerm)(u[0].name));case 31:M=!1;case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(){return P.apply(this,arguments)},A=function(e,t){return t.filter((function(t){return C(e,t.name.value)}))},O=function(){return(O=(0,o.default)(a.default.mark((function e(t,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.queryPublicDataByName)(t,N,r||p.defaultPreferedLangages,n.queryParams);case 3:i=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),f("Error querying db of organizations: "+e.t0),M=!1,e.abrupt("return");case 11:return R=i.length<d.AUTOCOMPLETE_LIMIT,F=R?t:void 0,E(),o=(0,p.filterByLanguage)(i,r),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)},S=function(e,t){return O.apply(this,arguments)},_=function(){return(_=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(r.cancelButton,!0),j();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},T=function(e){return _.apply(this,arguments)},E=function(){for(;H.children.length>1;)H.removeChild(H.lastChild)},C=function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(t.toLowerCase().indexOf(i)<0)return!1}return!0},k=function(){return(k=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.log("Auto complete: Canceled by user! "),n.permanent?I():U.parentNode&&U.parentNode.removeChild(U);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},x=function(e){return k.apply(this,arguments)},w=function(){return(w=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z&&V.value===z.value&&h(q,z);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},b=function(e){return w.apply(this,arguments)},y=function(){return(y=(0,o.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.acceptButton){e.next=10;break}return r.acceptButton.disbaled=!1,v(r.acceptButton,!0),V.value=n.value,z=n,q=t,s.log("Auto complete: name: "+n),s.log("Auto complete: waiting for accept "+t),E(),e.abrupt("return");case 10:v(r.cancelButton,!0),h(t,n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=function(e,t){return y.apply(this,arguments)},h=function(e,t){s.log("Auto complete: finish! "+e),"Literal"===e.termType&&n.queryParams.objectURIBase&&(e=u.kb.sym(n.queryParams.objectURIBase.value+e.value)),E(),i(e,t)},f=function(e){var n=H.appendChild(t.createElement("tr"));s.log(e);var r=new Error(e);n.appendChild(c.errorMessageBlock(t,r,"pink")),l.setStyle(n,"autocompleteRowStyle"),n.style.padding="1em"},N=n.targetClass){e.next=21;break}throw new Error("renderAutoComplete: missing targetClass");case 21:return r.acceptButton&&r.acceptButton.addEventListener("click",b,!1),r.cancelButton&&r.cancelButton.addEventListener("click",x,!1),R=!1,void 0,M=!1,D=!1,F=void 0,B=20,U=t.createElement("div"),z=void 0,q=void 0,(H=U.appendChild(t.createElement("table"))).setAttribute("data-testid","autocomplete-table"),H.setAttribute("style","max-width: 30em; margin: 0.5em;"),W=H.appendChild(t.createElement("tr")),l.setStyle(W,"autocompleteRowStyle"),G=W.appendChild(t.createElement("td")),(V=G.appendChild(t.createElement("input"))).setAttribute("type","text"),I(),$=n.size||l.textInputSize||20,V.setAttribute("size",$),V.setAttribute("data-testid","autocomplete-input"),Q=l.textInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",V.setAttribute("style",Q),V.addEventListener("keyup",(function(e){13===e.keyCode&&b(e)}),!1),V.addEventListener("input",T),e.abrupt("return",U);case 49:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.bindingToTerm=function(e){var t=e.type.toLowerCase();if("uri"===t||"iri"===t)return u.kb.sym(e.value);if("literal"===t)return e["xml:lang"]?new s.Literal(e.value,e["xml:lang"]):new s.Literal(e.value);throw new Error('bindingToTerm: Unexpected type "'.concat(e.type,'" in sparql binding}'))},t.loadFromBindings=k,t.ESCOResultToBindings=C,t.queryESCODataByName=function(e,t,n){return E.apply(this,arguments)},t.queryPublicDataByName=function(e,t,n,r){return _.apply(this,arguments)},t.queryPublicDataSelect=S,t.queryPublicDataConstruct=A,t.loadPublicDataThing=function(e,t,n){return P.apply(this,arguments)},t.getWikidataDetails=I,t.getWikidataDetailsOld=function(e,t,n){return L.apply(this,arguments)},t.getWikidataLocation=function(e,t,n){return R.apply(this,arguments)},t.getDbpediaDetails=M,t.variableNameToPredicateMap=t.wikidataIncomingClassMap=t.wikidataParameters=t.wikidataOutgoingClassMap=t.dbPediaTypeMap=t.dbpediaParameters=t.escoParameters=t.fetcherOptionsJsonPublicData=t.instituteDetailsWikidataQuery=t.wikidataClasses=t.AUTOCOMPLETE_LIMIT=void 0;var a=r(n(10)),o=r(n(15)),s=n(3),l=f(n(24)),c=f(n(16)),u=n(20),d=n(117);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}t.AUTOCOMPLETE_LIMIT=200;var h=/\$\(subject\)/g;t.wikidataClasses={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"};var m='prefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}';t.instituteDetailsWikidataQuery=m;var g={credentials:"omit",headers:new Headers({Accept:"application/json"})};t.fetcherOptionsJsonPublicData=g;var v={label:"ESCO",logo:u.kb.sym("https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif"),searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)"};t.escoParameters=v;var y={label:"DBPedia",logo:u.kb.sym("https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png"),searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(targetClass); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/"};t.dbpediaParameters=y;t.dbPediaTypeMap={AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"};t.wikidataOutgoingClassMap={AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"};var b={label:"WikiData",limit:3e3,logo:u.kb.sym("https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png"),endpoint:"https://query.wikidata.org/sparql",searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(targetClass) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'};t.wikidataParameters=b;var w={"http://www.wikidata.org/entity/Q15936437":c.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":c.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":c.schema("Organization"),"http://www.wikidata.org/entity/Q3918":c.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":c.schema("Project"),"http://www.wikidata.org/entity/Q327333":c.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":c.schema("Place"),"http://www.wikidata.org/entity/Q167037":c.schema("Corporation")};t.wikidataIncomingClassMap=w;var x={targetClass:c.rdf("type"),sealImage:c.schema("logo"),shortName:c.foaf("nick"),subsidiary:c.schema("subOrganization"),city:c.vcard("locality"),state:c.vcard("region"),country:c.vcard("country-name"),homepage:c.foaf("homepage"),lat:c.schema("latitude"),long:c.schema("longitude")};function k(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x,a={};l.log("loadFromBindings:  subject: ".concat(t)),l.log("                       doc: ".concat(r)),n.forEach((function(e){for(var t in e){var n=e[t],r=JSON.stringify(n);a[t]=a[t]||new Set,a[t].add(r)}}));var o=function(n){var o=a[n];l.log("    results ".concat(n," -> ").concat(o)),o.forEach((function(a){var o,u=JSON.parse(a),d=u.type,p=u.value;if("uri"===d)o=e.sym(p);else{if("literal"!==d)throw new Error("loadFromBindings:  unexpected type: ".concat(d));o=new s.Literal(p,u.language,u.datatype)}if("type"===n)w[p]?o=w[p]:l.warn("Unmapped Wikidata Class: "+p);else if("coordinates"===n){l.log("         @@@ hey a point: "+p);var f=/.*\(([-0-9.-]*) ([-0-9.-]*)\)/.exec(p);if(f){var h=c.xsd("float"),m=new s.Literal(f[1],null,h),g=new s.Literal(f[2],null,h);e.add(t,c.schema("longitude"),g,r),e.add(t,c.schema("latitude"),m,r)}else l.log("Bad coordinates syntax: "+p)}else{var v=i[n]||c.schema(n);e.add(t,v,o,r),l.log("  public data ".concat(v," ").concat(o,"."))}}))};for(var u in a)o(u)}function C(e){return e._embedded.results.map((function(e){return{name:{value:e.title,type:"literal"},subject:{type:"IRI",value:e.uri}}}))}function E(){return(E=(0,o.default)(a.default.mark((function e(t,n,r){var i,o,s,c,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.searchByNameURI){e.next=2;break}throw new Error("Missing queryTarget.searchByNameURI on queryESCODataByName");case 2:return i=r.limit||200,o=r.searchByNameURI.replace("$(name)",t).replace("$(limit)",""+i).replace("$(targetClass)",n.toNT()),l.log("Querying ESCO data - uri: "+o),e.next=7,u.kb.fetcher.webOperation("GET",o,g);case 7:if(s=e.sent,c=s.responseText||"",l.log("    Query result  text"+c.slice(0,500)+"..."),0!==c.length){e.next=12;break}throw new Error("Wot no text back from ESCO query "+o);case 12:return d=JSON.parse(c),l.log("    ESCO Query result JSON"+JSON.stringify(d,null,4).slice(0,500)+"..."),e.abrupt("return",C(d));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=e.indexOf("SPARQL-QUERY");if(t<0)return e;l.warn("  ### Fixing JSON with wikidata error code injection "+e.slice(t,t+200));var n=e.lastIndexOf("}, {");return e.slice(0,n)+" } ] } } "}function _(){return(_=(0,o.default)(a.default.mark((function e(t,n,r,i){var o,s,c,p,f,h,m,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){var r=i.limit||200;return e.replace("$(name)",t).replace("$(limit)",""+r).replace("$(language)",c).replace("$(targetClass)",n.toNT())},n){e.next=3;break}throw new Error("queryPublicDataByName: No class provided");case 3:return e.next=5,(0,d.getPreferredLanguages)();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=d.defaultPreferedLangages;case 8:if(s=e.t0,c=s[0]||"en",!i.searchByNameQuery){e.next=16;break}return p=o(i.searchByNameQuery),l.log("Querying public data - sparql: "+p),e.abrupt("return",S(p,i));case 16:if(!i.searchByNameURI){e.next=46;break}return f=o(i.searchByNameURI),e.prev=18,e.next=21,u.kb.fetcher.webOperation("GET",f,g);case 21:h=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(18),new Error("Exception when trying to fetch ".concat(f," \n ").concat(e.t1));case 27:if(m=h.responseText||"",200===h.status){e.next=30;break}throw new Error("HTTP error status ".concat(h.status," trying to fetch ").concat(f," "));case 30:if(l.log("    Query result  text"+m.slice(0,500)+"..."),0!==m.length){e.next=33;break}throw new Error("queryPublicDataByName: No text back from public data query "+f);case 33:if(v=T(m),y=JSON.parse(v),l.log("    API Query result JSON"+JSON.stringify(y,null,4).slice(0,500)+"..."),!y._embedded){e.next=42;break}return l.log("      Looks like ESCO"),b=C(y),e.abrupt("return",b);case 42:throw alert("Code me: unrecognized API return format"),new Error("*** Need to add code to parse unrecognized API JSON return\n".concat(JSON.stringify(y,null,4)));case 44:e.next=47;break;case 46:throw new Error("Query source must have either rest API or SPARQL endpoint.");case 47:case"end":return e.stop()}}),e,null,[[18,24]])})))).apply(this,arguments)}function S(e,t){return O.apply(this,arguments)}function O(){return(O=(0,o.default)(a.default.mark((function e(t,n){var r,i,o,s,c,d,p,f,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.endpoint){e.next=2;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataSelect");case 2:return(r=new URL(n.endpoint)).searchParams.append("query",t),i=r.href,l.log(" queryPublicDataSelect uri: "+i),(o=new Headers).append("Accept","application/json"),s={credentials:"omit",headers:o},e.next=11,u.kb.fetcher.webOperation("GET",i,s);case 11:if(c=e.sent,0!==(d=c.responseText||"").length){e.next=15;break}throw new Error("No text back from query "+i);case 15:return p=T(d),f=JSON.parse(p),l.log("    Query result JSON"+JSON.stringify(f,null,4).slice(0,100)+"..."),h=f.results.bindings,e.abrupt("return",h);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){return j.apply(this,arguments)}function j(){return(j=(0,o.default)(a.default.mark((function e(t,n,r){var i,o,c,d,p,f,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.log("queryPublicDataConstruct: sparql:",t),r.endpoint){e.next=3;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataConstruct");case 3:return(i=new URL(r.endpoint)).searchParams.append("query",t),o=i.href,l.log(" queryPublicDataConstruct uri: "+o),(c=new Headers).append("Accept","text/turtle"),d={credentials:"omit",headers:c},e.next=12,u.kb.fetcher.webOperation("GET",o,d);case 12:if(p=e.sent,f=p.responseText||"No response text?",h=f.length>500?f.slice(0,200)+" ... "+f.slice(-200):f,l.log("    queryPublicDataConstruct result text:"+h),0!==f.length){e.next=18;break}throw new Error("queryPublicDataConstruct: No text back from construct query:"+o);case 18:(0,s.parse)(f,u.kb,n.uri,"text/turtle");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=(0,o.default)(a.default.mark((function e(t,n,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.uri.startsWith("https://dbpedia.org/resource/")){e.next=4;break}return e.abrupt("return",M(t,n,r));case 4:if(!r.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){e.next=9;break}return e.next=7,I(t,n,r);case 7:e.next=13;break;case 9:return i=r.uri.startsWith("http:")?t.sym("https:"+r.uri.slice(5)):r,(o=new Headers).append("Accept","text/turtle"),e.abrupt("return",t.fetcher.load(i,{credentials:"omit",headers:o}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n){return N.apply(this,arguments)}function N(){return(N=(0,o.default)(a.default.mark((function e(t,n,r){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.replace(/wd:Q49108/g,r.toNT()),e.next=4,A(i,r,b);case 4:l.log("getWikidataDetails: loaded.",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=(0,o.default)(a.default.mark((function e(t,n,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?targetClass } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(h,r.toNT()),e.next=3,S(i,b);case 3:o=e.sent,k(t,r,o,r.doc());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,o.default)(a.default.mark((function e(t,n,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(h,r.toNT()),l.log(" location query sparql:"+i),e.next=4,S(i,b);case 4:o=e.sent,l.log(" location query bindings:",o),k(t,r,o,r.doc());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n){return D.apply(this,arguments)}function D(){return(D=(0,o.default)(a.default.mark((function e(t,n,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <".concat(r,"> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ").concat(r," foaf:homepage ?homepage }\n    OPTIONAL { ").concat(r," foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/country> ?country }\n   }"),e.next=3,S(i,y);case 3:o=e.sent,k(t,r,o,r.doc()),l.log("Finished getDbpediaDetails.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.variableNameToPredicateMap=x},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.findBookmarkDocument=function(e){return O.apply(this,arguments)},t.toggleBookmark=P,t.renderBookmarksButton=function(e,t){return N.apply(this,arguments)};var a=r(n(10)),o=r(n(15)),s=n(51),l=b(n(24)),c=n(38),u=n(20),d=n(80),p=b(n(16)),f=b(n(73)),h=b(n(3)),m=b(n(39)),g=b(n(27)),v=b(n(28));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var w={authn:s.authn,icons:c.icons,ns:p,media:d.media,pad:f,rdf:h,store:u.store,style:m,utils:g,widgets:v},x=w.rdf,k=x.Namespace("http://www.w3.org/2002/01/bookmark#"),C=u.store,E=g.label,T=window.document||null;function _(e){return new Promise((function(t,n){C.fetcher.load(e).then((function(n){l.log("createIfNotExists doc exists, all good "+e),t(n)}),(function(r){404===r.response.status?(l.log("createIfNotExists doc does NOT exist, will create... "+e),C.fetcher.webOperation("PUT",e.uri,{data:"",contentType:"text/turtle"}).then((function(n){delete C.fetcher.requested[e.uri],l.log("createIfNotExists doc created ok "+e),t(n)}),(function(t){l.log("createIfNotExists doc FAILED: "+e+": "+t),n(t)}))):(l.log("createIfNotExists doc load error NOT 404:  "+e+": "+r),n(r))}))}))}function S(e,t){return new Promise((function(n,r){C.updater.update(e,t,(function(e,t,i){t?n():r(new Error(i))}))}))}function O(){return(O=(0,o.default)(a.default.mark((function e(t){var n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k("Bookmark"),r="bookmarks.ttl",!0,e.next=5,w.authn.findAppInstances(t,n,!0);case 5:if(!(t.instances&&t.instances.length>0)){e.next=10;break}t.bookmarkDocument=t.instances[0],t.instances.length>1&&alert("More than one bookmark file! "+t.instances),e.next=28;break;case 10:if(!t.publicProfile){e.next=27;break}return i=x.sym(t.publicProfile.dir().uri+r),e.prev=12,l.log("Creating new bookmark file "+i),e.next=16,_(i);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(12),alert.error("Can't make fresh bookmark file:"+e.t0),e.abrupt("return",t);case 22:return e.next=24,w.authn.registerInTypeIndex(t,i,n,!0);case 24:t.bookmarkDocument=i,e.next=28;break;case 27:alert("You seem to have no bookmark file and not even a profile file.");case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function A(e,t){return j.apply(this,arguments)}function j(){return(j=(0,o.default)(a.default.mark((function e(t,n){var r,i,o,s,l,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",i=w.authn.currentUser()){e.next=4;break}throw new Error("Must be logged on to add Bookmark");case 4:return o=C.any(n,p.foaf("maker")),r=E(o)+": "+C.anyValue(n,p.sioc("content")).slice(0,80),s=t.bookmarkDocument,l=w.widgets.newThing(s,r),c=[x.st(s,w.ns.dct("references"),l,s),x.st(l,w.ns.rdf("type"),k("Bookmark"),s),x.st(l,w.ns.dct("created"),new Date,s),x.st(l,k("recalls"),n,s),x.st(l,w.ns.foaf("maker"),i,s),x.st(l,w.ns.dct("title"),r,s)],e.prev=9,e.next=12,S([],c);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(9),u="Making bookmark: "+e.t0,alert.error(u),e.abrupt("return",null);case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}function P(e,t,n){return I.apply(this,arguments)}function I(){return(I=(0,o.default)(a.default.mark((function e(t,n,r){var i,o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.fetcher.load(t.bookmarkDocument);case 2:if(!(i=C.each(null,k("recalls"),n,t.bookmarkDocument)).length){e.next=24;break}if(confirm("Delete bookmark on this?"+i.length)){e.next=6;break}return e.abrupt("return");case 6:o=0;case 7:if(!(o<i.length)){e.next=22;break}return e.prev=8,e.next=11,S(C.connectedStatements(i[o]),[]);case 11:r.style.backgroundColor="white",l.log("Bookmark deleted: "+i[o]),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),l.error("Cant delete bookmark:"+e.t0),alert("Cant delete bookmark:"+e.t0);case 19:o++,e.next=7;break;case 22:e.next=29;break;case 24:return e.next=26,A(t,n);case 26:s=e.sent,r.style.backgroundColor="yellow",l.log("Bookmark added: "+s);case 29:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function N(){return(N=(0,o.default)(a.default.mark((function e(t,n){var r,i,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return(i=(0,o.default)(a.default.mark((function e(n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.fetcher.load(t.bookmarkDocument);case 2:r=C.any(null,k("recalls"),n.target,t.bookmarkDocument),n.style=w.style.buttonStyle,r&&(n.style.backgroundColor="yellow");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return i.apply(this,arguments)},!t.bookmarkDocument){e.next=8;break}return(s=w.widgets.button(T,w.icons.iconBase+"noun_45961.svg",E(k("Bookmark")),(function(){P(t,n,s)}))).target=n,e.next=7,r(s);case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};t.__esModule=!0,t.getDbpediaDetails=t.getWikidataLocation=t.getWikidataDetailsOld=t.getWikidataDetails=t.loadPublicDataThing=t.queryPublicDataConstruct=t.queryPublicDataSelect=t.queryPublicDataByName=t.queryESCODataByName=t.loadFromBindings=t.predMap=t.wikidataClassMap=t.filterByLanguage=t.wikidataParameters=t.dbpediaParameters=t.escoParameters=t.getPreferredLanguages=t.wikidataClasses=t.AUTOCOMPLETE_LIMIT=void 0;var a=n(3),o=n(0),s=n(283),l=o.store;t.AUTOCOMPLETE_LIMIT=3e3;var c=/\$\(subject\)/g;function u(e,n,r,i){var s={};console.log("loadFromBindings:  subject: "+n),console.log("                       doc: "+i),r.forEach((function(e){for(var t in e){var n=e[t],r=JSON.stringify(n);s[t]=s[t]||new Set,s[t].add(r)}}));var l=function(r){var l=s[r];console.log("    results "+r+" -> "+l),l.forEach((function(s){var l,c=JSON.parse(s),u=c.type,d=c.value;if("uri"===u)l=e.sym(d);else{if("literal"!==u)throw new Error("loadFromBindings:  unexpected type: "+u);l=new a.Literal(d,c.language,c.datatype)}if("type"==r)t.wikidataClassMap[d]?l=t.wikidataClassMap[d]:console.warn("Unmapped Wikidata Class: "+d);else if("coordinates"===r){console.log("         @@@ hey a point: "+d);var p=/.*\(([-0-9\.-]*) ([-0-9\.-]*)\)/.exec(d),f=o.ns.xsd("float"),h=new a.Literal(p[1],null,f),m=new a.Literal(p[2],null,f);e.add(n,o.ns.schema("longitude"),m,i),e.add(n,o.ns.schema("latitude"),h,i)}else if(t.predMap[r]){var g=t.predMap[r]||o.ns.schema(r);e.add(n,g,l,i),console.log("  public data "+g+" "+l+".")}}))};for(var c in s)l(c)}function d(e,t){return r(this,void 0,void 0,(function(){var n,r,a,o,s,c;return i(this,(function(i){switch(i.label){case 0:return(n=new URL(t.endpoint)).searchParams.append("query",e),r=n.href,console.log(" queryPublicDataSelect uri: "+r),a={credentials:"omit",headers:{Accept:"application/json"}},[4,l.fetcher.webOperation("GET",r,a)];case 1:if(o=i.sent(),0===(s=o.responseText).length)throw new Error("Wot no text back from query "+r);return c=JSON.parse(s),console.log("    Query result JSON"+JSON.stringify(c,null,4).slice(0,100)+"..."),[2,c.results.bindings]}}))}))}function p(e,t,n){return r(this,void 0,void 0,(function(){var r,o,s,c,u,d;return i(this,(function(i){switch(i.label){case 0:return console.log("queryPublicDataConstruct: sparql:",e),(r=new URL(n.endpoint)).searchParams.append("query",e),o=r.href,console.log(" queryPublicDataConstruct uri: "+o),s={credentials:"omit",headers:{Accept:"text/turtle"}},[4,l.fetcher.webOperation("GET",o,s)];case 1:if(c=i.sent(),u=c.responseText,d=u.lenth>500?u.slice(0,200)+" ... "+u.slice(-200):u,console.log("    queryPublicDataConstruct result text:"+d),0===u.length)throw new Error("queryPublicDataConstruct: No text back from construct query:"+o);return a.parse(u,l,t.uri,"text/turtle"),[2]}}))}))}function f(e,n,a){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e=/wd:Q49108/g,[4,p(s.replace(e,a),a,t.wikidataParameters)];case 1:return n.sent(),console.log("getWikidataDetails: loaded.",a),[2]}}))}))}function h(e,n,a){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e="select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <"+a+"> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { "+a+" <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { "+a+" <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { "+a+" foaf:homepage ?homepage }\n    OPTIONAL { "+a+" foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { "+a+" <http://dbpedia.org/ontology/country> ?country }\n   }",{city:o.ns.vcard("locality"),state:o.ns.vcard("region"),country:o.ns.vcard("country-name"),homepage:o.ns.foaf("homepage"),lat:o.ns.geo("latitude"),long:o.ns.geo("longitude")},[4,d(e,t.dbpediaParameters)];case 1:return n.sent().forEach((function(e){e.subject.value,e.name.value})),[2]}}))}))}t.wikidataClasses={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"},t.getPreferredLanguages=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,["fr","en","de","it"]]}))}))},t.escoParameters={label:"ESCO",logo:"https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif",searchByNameQuery:null,searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)",endpoint:null,class:{}},t.dbpediaParameters={label:"DBPedia",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png",searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(class); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/",class:{AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"}},t.wikidataParameters={label:"WikiData",logo:"https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png",endpoint:"https://query.wikidata.org/sparql",class:{AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"},searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(class) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'},t.filterByLanguage=function(e,t){var n={};e.forEach((function(e){var t=e.subject.value;n[t]=n[t]||[],n[t].push(e)}));var r=t;r.reverse();var i=[];for(var a in n){var o=n[a].map((function(e){return[r.indexOf(e.name["xml:lang"]),e]}));o.sort(),o.reverse(),i.push(o[0][1])}return console.log(" Filter by language: "+e.length+" -> "+i.length),i},t.wikidataClassMap={"http://www.wikidata.org/entity/Q15936437":o.ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":o.ns.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":o.ns.schema("Organization"),"http://www.wikidata.org/entity/Q3918":o.ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":o.ns.schema("Project"),"http://www.wikidata.org/entity/Q327333":o.ns.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":o.ns.schema("Place")},t.predMap={class:o.ns.rdf("type"),sealImage:o.ns.schema("logo"),shortName:o.ns.foaf("nick"),subsidiary:o.ns.schema("subOrganization")},t.loadFromBindings=u,t.queryESCODataByName=function(e,n,a){return r(this,void 0,void 0,(function(){var r,o,s,c,u,d;return i(this,(function(i){switch(i.label){case 0:return r=a.searchByNameURI.replace("$(name)",e).replace("$(limit)",""+t.AUTOCOMPLETE_LIMIT).replace("$(class)",n),console.log("Querying ESCO data - uri: "+r),o={credentials:"omit",headers:{Accept:"application/json"}},[4,l.fetcher.webOperation("GET",r,o)];case 1:if(s=i.sent(),c=s.responseText,console.log("    Query result  text"+c.slice(0,500)+"..."),0===c.length)throw new Error("Wot no text back from ESCO query "+r);return u=JSON.parse(c),console.log("    Query result JSON"+JSON.stringify(u,null,4).slice(0,500)+"..."),d=u._embedded.results,[2,d.map((function(e){return{name:{value:e.title,type:"literal"},uri:{type:"IRI",value:e.uri}}}))]}}))}))},t.queryPublicDataByName=function(e,n,a){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){return r=a.searchByNameQuery.replace("$(name)",e).replace("$(limit)",""+t.AUTOCOMPLETE_LIMIT).replace("$(class)",n),console.log("Querying public data - sparql: "+r),[2,d(r,a)]}))}))},t.queryPublicDataSelect=d,t.queryPublicDataConstruct=p,t.loadPublicDataThing=function(e,t,n){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return n.uri.startsWith("https://dbpedia.org/resource/")?[2,h(e,t,n)]:[3,1];case 1:return n.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)?(r=n.uri.split("/")[4],"http://www.wikidata.org/wiki/Special:EntityData/"+r+".ttl",[4,f(e,t,n)]):[3,3];case 2:return i.sent(),[3,4];case 3:return a=n.uri.startsWith("http:")?e.sym("https:"+n.uri.slice(5)):n,[2,e.fetcher.load(a,{credentials:"omit",headers:{Accept:"text/turtle"}})];case 4:return[2]}}))}))},t.getWikidataDetails=f,t.getWikidataDetailsOld=function(e,n,a){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,d('select distinct *  where {\n  optional { $(subject)  wdt:P31  ?class } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(c,a),t.wikidataParameters)];case 1:return n=r.sent(),u(e,a,n,a.doc()),[2]}}))}))},t.getWikidataLocation=function(e,n,a){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return n='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(c,a),console.log(" location query sparql:"+n),[4,d(n,t.wikidataParameters)];case 1:return r=i.sent(),console.log(" location query bindings:",r),u(e,a,r,a.doc()),[2]}}))}))},t.getDbpediaDetails=h},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(287)},function(e,t,n){"use strict";e.exports=n(293)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPersonAttribution=t.isLinkAttribution=void 0,t.isLinkAttribution=function(e){return"LinkAttribution"===e.discriminator},t.isPersonAttribution=function(e){return"PersonAttribution"===e.discriminator}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAttribution=t.readAttribution=void 0;var a=n(0),o=n(3);function s(e,t){return e instanceof o.NamedNode?function(e){var t=a.ns.as("Person").uri,n=a.ns.foaf("Person").uri,r=a.ns.vcard("Individual").uri,i=a.ns.schema("Person").uri;return e[t]||e[n]||e[r]||e[i]}(t.findTypeURIs(e))?function(e,t){var n=e.anyValue(t,a.ns.as("name"))||e.anyValue(t,a.ns.foaf("name"))||e.anyValue(t,a.ns.vcard("fn"))||e.anyValue(t,a.ns.schema("name"))||"",r=function(e,t){var n=e.anyValue(t,a.ns.as("image"));if(n)return e.anyValue(o.sym(n),a.ns.as("url"))||void 0;return e.anyValue(t,a.ns.foaf("img"))||e.anyValue(t,a.ns.vcard("hasPhoto"))||void 0}(e,t);return{discriminator:"PersonAttribution",webId:t.uri,name:n,imageSrc:r}}(t,e):{discriminator:"LinkAttribution",uri:e.uri}:{discriminator:"NoAttribution"}}t.readAttribution=function(e,t){return s(t.any(e,a.ns.as("attributedTo")),t)},t.fetchAttribution=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=o.sym(e.uri),[4,t.fetcher.load(n)];case 1:return r.sent(),[2,s(n,t)]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveMarkdown=t.loadMarkdown=void 0,t.loadMarkdown=function(e,t){return e.fetcher.webOperation("GET",t).then((function(e){return e.responseText}))},t.saveMarkdown=function(e,t,n){return e.fetcher.webOperation("PUT",t,{data:n,contentType:"text/markdown; charset=UTF-8"})}},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r={}.hasOwnProperty;function i(e){return e&&"object"==typeof e||(e={}),o(e.line)+":"+o(e.column)}function a(e){return e&&"object"==typeof e||(e={}),i(e.start)+"-"+i(e.end)}function o(e){return e&&"number"==typeof e?e:1}e.exports=function(e){if(!e||"object"!=typeof e)return"";if(r.call(e,"position")||r.call(e,"type"))return a(e.position);if(r.call(e,"start")||r.call(e,"end"))return a(e);if(r.call(e,"line")||r.call(e,"column"))return i(e);return""}},function(e,t,n){"use strict";var r={}.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";e.exports=function(e){for(var t=-1,n=0;++t<e.length;)n+="string"==typeof e[t]?e[t].length:1;return n}},function(e,t,n){"use strict";var r=n(81),i=n(58),a=n(74);function o(e,t){for(var n,r,a,o,s,l,c=e[t][1],u=e[t][2],d=t-1,p=[],f=c._tokenizer||u.parser[c.contentType](c.start),h=f.events,m=[],g={};c;){for(;e[++d][1]!==c;);p.push(d),c._tokenizer||(n=u.sliceStream(c),c.next||n.push(null),r&&f.defineSkip(c.start),c.isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(n),c.isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),r=c,c=c.next}for(c=r,a=h.length;a--;)"enter"===h[a][0]?o=!0:o&&h[a][1].type===h[a-1][1].type&&h[a][1].start.line!==h[a][1].end.line&&(v(h.slice(a+1,s)),c._tokenizer=c.next=void 0,c=c.previous,s=a+1);for(f.events=c._tokenizer=c.next=void 0,v(h.slice(0,s)),a=-1,l=0;++a<m.length;)g[l+m[a][0]]=l+m[a][1],l+=m[a][1]-m[a][0]-1;return g;function v(t){var n=p.pop();m.unshift([n,n+t.length-1]),i(e,n,2,t)}}e.exports=function(e){for(var t,n,s,l,c,u,d,p={},f=-1;++f<e.length;){for(;f in p;)f=p[f];if(t=e[f],f&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[f-1][1].type&&((s=0)<(u=t[1]._tokenizer.events).length&&"lineEndingBlank"===u[s][1].type&&(s+=2),s<u.length&&"content"===u[s][1].type))for(;++s<u.length&&"content"!==u[s][1].type;)"chunkText"===u[s][1].type&&(u[s][1].isInFirstContentOfListItem=!0,s++);if("enter"===t[0])t[1].contentType&&(r(p,o(e,f)),f=p[f],d=!0);else if(t[1]._container||t[1]._movePreviousLineEndings){for(s=f,n=void 0;s--&&("lineEnding"===(l=e[s])[1].type||"lineEndingBlank"===l[1].type);)"enter"===l[0]&&(n&&(e[n][1].type="lineEndingBlank"),l[1].type="lineEnding",n=s);n&&(t[1].end=a(e[n][1].start),(c=e.slice(n,f)).unshift(t),i(e,n,f-n+1,c))}}return!d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81),i=n(74),a=l("text"),o=l("string"),s={resolveAll:c()};function l(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return l(e)?i(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){var t=r[e],i=-1;if(null===e)return!0;if(t)for(;++i<t.length;)if(!t[i].previous||t[i].previous.call(n,n.previous))return!0}},resolveAll:c("text"===e?u:void 0)}}function c(e){return function(t,n){var r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function u(e,t){for(var n,a,o,s,l,c,u,d,p=-1;++p<=e.length;)if((p===e.length||"lineEnding"===e[p][1].type)&&"data"===e[p-1][1].type){for(a=e[p-1][1],s=(n=t.sliceStream(a)).length,l=-1,c=0,u=void 0;s--;)if("string"==typeof(o=n[s])){for(l=o.length;32===o.charCodeAt(l-1);)c++,l--;if(l)break;l=-1}else if(-2===o)u=!0,c++;else if(-1!==o){s++;break}c&&(d={type:p===e.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{line:a.end.line,column:a.end.column-c,offset:a.end.offset-c,_index:a.start._index+s,_bufferIndex:s?l:a.start._bufferIndex+l},end:i(a.end)},a.end=i(d.start),a.start.offset===a.end.offset?r(a,d):(e.splice(p,0,["enter",d,t],["exit",d,t]),p+=2)),p++}return e}t.resolver=s,t.string=o,t.text=a},function(e,t,n){"use strict";e.exports=function(e){return e<32||127===e}},function(e,t,n){"use strict";var r;e.exports=function(e){var t,n="&"+e+";";if((r=r||document.createElement("i")).innerHTML=n,59===(t=r.textContent).charCodeAt(t.length-1)&&"semi"!==e)return!1;return t!==n&&t}},function(e,t,n){"use strict";var r=n(60)(/\d/);e.exports=r},function(e,t,n){"use strict";var r=n(158),i=n(59),a=n(29);e.exports=function(e,t,n,o,s,l,c,u,d){var p=d||1/0,f=0;return function(t){if(60===t)return e.enter(o),e.enter(s),e.enter(l),e.consume(t),e.exit(l),h;if(r(t)||41===t)return n(t);return e.enter(o),e.enter(c),e.enter(u),e.enter("chunkString",{contentType:"string"}),v(t)};function h(n){return 62===n?(e.enter(l),e.consume(n),e.exit(l),e.exit(s),e.exit(o),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),m(n))}function m(t){return 62===t?(e.exit("chunkString"),e.exit(u),h(t)):null===t||60===t||a(t)?n(t):(e.consume(t),92===t?g:m)}function g(t){return 60===t||62===t||92===t?(e.consume(t),m):m(t)}function v(a){return 40===a?++f>p?n(a):(e.consume(a),v):41===a?f--?(e.consume(a),v):(e.exit("chunkString"),e.exit(u),e.exit(c),e.exit(o),t(a)):null===a||i(a)?f?n(a):(e.exit("chunkString"),e.exit(u),e.exit(c),e.exit(o),t(a)):r(a)?n(a):(e.consume(a),92===a?y:v)}function y(t){return 40===t||41===t||92===t?(e.consume(t),v):v(t)}}},function(e,t,n){"use strict";var r=n(29),i=n(52);e.exports=function(e,t,n,a,o,s){var l,c=this,u=0;return function(t){return e.enter(a),e.enter(o),e.consume(t),e.exit(o),e.enter(s),d};function d(i){return null===i||91===i||93===i&&!l||94===i&&!u&&"_hiddenFootnoteSupport"in c.parser.constructs||u>999?n(i):93===i?(e.exit(s),e.enter(o),e.consume(i),e.exit(o),e.exit(a),t):r(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(i))}function p(t){return null===t||91===t||93===t||r(t)||u++>999?(e.exit("chunkString"),d(t)):(e.consume(t),l=l||!i(t),92===t?f:p)}function f(t){return 91===t||92===t||93===t?(e.consume(t),u++,p):p(t)}}},function(e,t,n){"use strict";var r=n(29),i=n(52),a=n(31);e.exports=function(e,t){var n;return function o(s){if(r(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,o;if(i(s))return a(e,o,n?"linePrefix":"lineSuffix")(s);return t(s)}}},function(e,t,n){"use strict";var r=n(29),i=n(31);e.exports=function(e,t,n,a,o,s){var l;return function(t){return e.enter(a),e.enter(o),e.consume(t),e.exit(o),l=40===t?41:t,c};function c(n){return n===l?(e.enter(o),e.consume(n),e.exit(o),e.exit(a),t):(e.enter(s),u(n))}function u(t){return t===l?(e.exit(s),c(l)):null===t?n(t):r(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return t===l||null===t||r(t)?(e.exit("chunkString"),u(t)):(e.consume(t),92===t?p:d)}function p(t){return t===l||92===t?(e.consume(t),d):d(t)}}},function(e,t,n){"use strict";var r=n(29),i=n(52),a=n(31),o={name:"thematicBreak",tokenize:function(e,t,n){var o,s=0;return function(t){return e.enter("thematicBreak"),o=t,l(t)};function l(u){return u===o?(e.enter("thematicBreakSequence"),c(u)):i(u)?a(e,l,"whitespace")(u):s<3||null!==u&&!r(u)?n(u):(e.exit("thematicBreak"),t(u))}function c(t){return t===o?(e.consume(t),s++,c):(e.exit("thematicBreakSequence"),l(t))}}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}var a=n(0),o=a.ns,s=n(3),l=o.meeting("LongChat"),c=a.style.sidebarComponentStyle||" padding: 0.5em; width: 100%;",u=a.style.sidebarStyle||"overflow-x: auto; overflow-y: auto; border-radius: 1em; border: 0.1em solid white;";e.exports={CHAT_LOCATION_IN_CONTAINER:"index.ttl#this",icon:a.icons.iconBase+"noun_1689339.svg",name:"long chat",label:function(e,t){var n=t.session.store;return n.holds(e,o.rdf("type"),o.meeting("LongChat"))?"Chat channnel":n.any(e,o.sioc("content"))&&n.any(e,o.dct("created"))?"message":null},mintClass:l,mintNew:function(e,t){var n=e.session.store,r=n.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);var i=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),a=i.doc();return n.add(i,o.rdf("type"),o.meeting("LongChat"),a),n.add(i,o.dc("title"),"Chat channel",a),n.add(i,o.dc("created"),new Date,a),t.me&&n.add(i,o.dc("author"),t.me,a),new Promise((function(e,i){r.put(a,n.statementsMatching(void 0,void 0,void 0,a),"text/turtle",(function(n,r,a){r?e(t):i(new Error("FAILED to save new chat channel at: "+n+" : "+a))}))}))},render:function(e,t,n){var r=t.dom,d=t.session.store,p=d.sym("https://solid.github.io/solid-panes/longCharPane/preferencesForm.ttl#this"),f=p.doc();d.holds(void 0,void 0,void 0,f)||s.parse('\n\n  @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n  @prefix solid: <http://www.w3.org/ns/solid/terms#>.\n  @prefix ui: <http://www.w3.org/ns/ui#>.\n  @prefix : <#>.\n\n  :this\n    <http://purl.org/dc/elements/1.1/title> "Chat preferences" ;\n    a ui:Form ;\n    ui:part :colorizeByAuthor, :expandImagesInline, :newestFirst, :inlineImageHeightEms;\n    ui:parts ( :colorizeByAuthor :expandImagesInline :newestFirst :inlineImageHeightEms ).\n\n:colorizeByAuthor a ui:TristateField; ui:property solid:colorizeByAuthor;\n  ui:label "Color user input by user".\n:expandImagesInline a ui:TristateField; ui:property solid:expandImagesInline;\n  ui:label "Expand image URLs inline".\n:newestFirst a ui:TristateField; ui:property solid:newestFirst;\n  ui:label "Newest messages at the top".\n\n:inlineImageHeightEms a ui:IntegerField; ui:property solid:inlineImageHeightEms;\n  ui:label "Inline image height (lines)".\n\n',d,f.uri,"text/turtle");var h=d.statementsMatching(null,o.ui.property,null,f).map((function(e){return e.object}));function m(e){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dom,r=t.noun,(i=n.createElement("div")).appendChild(v(i)),i.style=c,i.style.minWidth="25em",i.style.maxHeight=O,o=i.appendChild(n.createElement("table")),s=o.appendChild(n.createElement("tr")),u=o.appendChild(n.createElement("tr")),!(f=a.authn.currentUser())){e.next=15;break}return e.next=13,a.authn.registrationControl({noun:r,me:f,statusArea:u,dom:n,div:s},T,l);case 13:console.log("Registration control finsished."),i.appendChild(a.preferences.renderPreferencesForm(T,l,p,{noun:r,me:f,statusArea:u,div:i,dom:n,kb:d}));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var n=a.widgets.button(t.dom,a.icons.iconBase+"noun_1180156.svg","close",(function(){e.parentNode.removeChild(e)}));return n.style.float="right",n.style.margin="0.7em",delete n.style.backgroundColor,n}function y(){return(y=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=4;break}return e.next=3,m({dom:r,noun:"chat room"});case 3:F=e.sent;case 4:N.contains(F)?(F.parentNode.removeChild(F),F=null):N.appendChild(F);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,n){var i=r.createElement("div"),o=a.authn.currentUser(),s={div:i,dom:r,noun:n,statusArea:i,me:o,refreshTarget:e},l=[t.session.paneRegistry.byName("chat")];return a.create.newThingUI(s,t,l),i}function w(e,t){return x.apply(this,arguments)}function x(){return(x=i(regeneratorRuntime.mark((function e(t,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.createElement("div"),o={dom:r,div:i,noun:n},e.next=4,a.authn.registrationList(o,{public:!0,private:!0,type:t});case 4:return i.appendChild(b(i,n)),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k,C=null;function E(){return(E=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=10;break}return(C=r.createElement("div")).style=c,C.style.maxHeight=O,C.appendChild(v(C)),e.t0=C,e.next=8,w(o.meeting("LongChat"),"chat");case 8:e.t1=e.sent,e.t0.appendChild.call(e.t0,e.t1);case 10:P.contains(C)?C.parentNode.removeChild(C):P.appendChild(C);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=e,_=null;if(d.holds(e,o.rdf("type"),o.meeting("LongChat")))console.log("Chat channnel");else if(d.any(e,o.sioc("content"))&&d.any(e,o.dct("created"))&&(console.log("message"),_=e,!(T=d.any(null,o.wf("message"),_))))throw new Error("Message has no link to chatChannel");var S=r.createElement("div"),O="20cm",A=S.appendChild(r.createElement("table"));A.style.maxHeight='12"';var j=A.appendChild(r.createElement("tr")),P=j.appendChild(r.createElement("td")),I=j.appendChild(r.createElement("td")),N=j.appendChild(r.createElement("td")),L=A.appendChild(r.createElement("tr"));P.style=u,P.style.paddingRight="1em",N.style=u,N.style.paddingLeft="1em",L.appendChild(r.createElement("td"));var R=L.appendChild(r.createElement("td"));L.appendChild(r.createElement("td"));var M=a.widgets.button(r,a.icons.iconBase+"noun_339237.svg","participants ...");R.appendChild(M),M.addEventListener("click",(function(e){if(!k){(k=r.createElement("div")).style=c,k.style.maxHeight=O,k.appendChild(v(k));var t=a.authn.currentUser();t||alert("Should be logeed in for partipants panel"),a.pad.manageParticipation(r,k,T.doc(),T,t,{})}P.contains(k)?(k.parentNode.removeChild(k),k=null):P.appendChild(k)}));var D=a.widgets.button(r,a.icons.iconBase+"noun_1689339.svg","List of other chats ...");R.appendChild(D),D.addEventListener("click",(function(e){return E.apply(this,arguments)}));var F=null,B=a.widgets.button(r,a.icons.iconBase+"noun_344563.svg","Setting ...");R.appendChild(B),B.style.float="right",B.addEventListener("click",(function(e){return y.apply(this,arguments)})),S.setAttribute("class","chatPane");var U={infinite:!0},z={noun:"chat room",div:S,dom:r};function q(){return(q=i(regeneratorRuntime.mark((function e(){var t,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.preferences.getPreferencesForClass(T,l,h,z);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a.widgets.complain(z,e.t0);case 9:for(i in t)U[i.split("#")[1]]=t[i];return _&&(U.selectedMessage=_),n.solo&&(U.solo=!0),e.next=14,a.infiniteMessageArea(r,d,T,U);case 14:(o=e.sent).style.resize="both",o.style.overflow="auto",o.style.maxHeight=O,I.appendChild(o);case 19:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return z.me=a.authn.currentUser(),function(){return q.apply(this,arguments)}().then(console.log("async - chat pane built")),S}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(37),i=n(168),a=n.n(i);const{xsd:o}=r.a,s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,l={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,u={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},d=/$0^/;class p{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in u)&&this[e]instanceof RegExp&&(this[e]=d)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input;const r=this._comments;for(;;){let a,s;for(;a=this._newline.exec(n);)r&&(s=this._comment.exec(a[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),n=n.substr(a[0].length,n.length),this._line++;if(!a&&(a=this._whitespace.exec(n))&&(n=n.substr(a[0].length,n.length)),this._endOfFile.test(n))return t&&(r&&(s=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;const l=this._line,u=n[0];let d="",p="",f="",h=null,m=0,g=!1;switch(u){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(m=1,d="^");break}if(this._previousMarker="^^",n=n.substr(2),"<"!==n[0]){g=!0;break}case"<":if(h=this._unescapedIri.exec(n))d="IRI",p=h[1];else if(h=this._iri.exec(n)){if(p=this._unescape(h[1]),null===p||c.test(p))return i(this);d="IRI"}else n.length>1&&"<"===n[1]?(d="<<",m=2):this._n3Mode&&n.length>1&&"="===n[1]&&(d="inverse",m=2,p=">");break;case">":n.length>1&&">"===n[1]&&(d=">>",m=2);break;case"_":((h=this._blank.exec(n))||t&&(h=this._blank.exec(n+" ")))&&(d="blank",f="_",p=h[1]);break;case'"':if(h=this._simpleQuotedString.exec(n))p=h[1];else if(({value:p,matchLength:m}=this._parseLiteral(n)),null===p)return i(this);null===h&&0===m||(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(h=this._simpleApostropheString.exec(n))p=h[1];else if(({value:p,matchLength:m}=this._parseLiteral(n)),null===p)return i(this);null===h&&0===m||(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(h=this._variable.exec(n))&&(d="var",p=h[0]);break;case"@":"literal"===this._previousMarker&&(h=this._langcode.exec(n))?(d="langcode",p=h[1]):(h=this._keyword.exec(n))&&(d=h[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){d=".",m=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(n)||t&&(h=this._number.exec(n+" ")))&&(d="literal",p=h[0],f="string"==typeof h[1]?o.double:"string"==typeof h[2]?o.decimal:o.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(n))?d=h[0].toUpperCase():g=!0;break;case"f":case"t":(h=this._boolean.exec(n))?(d="literal",p=h[0],f=o.boolean):g=!0;break;case"a":(h=this._shortPredicates.exec(n))?(d="abbreviation",p="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(d="abbreviation",">"!==n[1]?(m=1,p="="):(m=2,p=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(m=1,d=u);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(h=this._prefix.exec(n))?((h=this._prefixed.exec(n))||t&&(h=this._prefixed.exec(n+" ")))&&(d="prefixed",f=h[1]||"",p=this._unescape(h[2])):(d="prefix",p=h[1]||"")),"^^"===this._previousMarker)switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?i(this):this._input=n;const v={line:l,type:d,value:p,prefix:f};e(null,v),this.previousToken=v,this._previousMarker=d,n=n.substr(m||h[0].length,n.length)}function i(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(s,(e,n,r,i)=>{if("string"==typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"==typeof r){let e=Number.parseInt(r,16);return e<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in l?l[i]:(t=!0,"")});return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let t=0;for(;"\\"===e[r-t-1];)t++;if(t%2==0){const t=e.substring(n,r),i=t.split(/\r\n|\r|\n/).length-1,a=r+n;if(1===n&&0!==i||3===n&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:a}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}tokenize(t,n){if(this._line=1,"string"==typeof t){if(this._input=t,"function"!=typeof n){const e=[];let t;if(this._tokenizeToEnd((n,r)=>n?t=n:e.push(r),!0),t)throw t;return e}a()(()=>this._tokenizeToEnd(n,!0))}else this._input="",this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",t=>{null!==this._input&&0!==t.length&&(this._pendingBuffer&&(t=e.concat([this._pendingBuffer,t]),this._pendingBuffer=null),128&t[t.length-1]?this._pendingBuffer=t:(this._input+=t,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{null!==this._input&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}}).call(this,n(197).Buffer)},function(e,t,n){(function(t){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let n;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:t):e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))}).call(this,n(65))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};t.__esModule=!0,t.renderAutocompleteControl=void 0;var a=n(0),o=n(0),s=n(282),l=n(145),c=a.store,u=o.icons.iconBase+"noun_34653_green.svg",d=o.icons.iconBase+"noun_Search_875351.svg";t.renderAutocompleteControl=function(e,t,n,o){return r(this,void 0,void 0,(function(){function p(e,n){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=e.uri,h(),[2,o(t,n)]}))}))}function f(n){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,a.widgets.askName(e,a.store,C,a.ns.vcard("url"),null,"Solid ID")];case 1:return(n=r.sent())?[2,o(t,n)]:[2]}}))}))}function h(){C.removeChild(k),k=null}function m(t){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return k?(C.removeChild(k),k=null,[3,3]):[3,1];case 1:return(k=e.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),n=(t=k).appendChild,[4,s.renderAutoComplete(e,x,p)];case 2:n.apply(t,[r.sent()]),k.appendChild(y),k.appendChild(b),C.appendChild(k),r.label=3;case 3:return[2]}}))}))}function g(e){return r(this,void 0,void 0,(function(){var n,r,a;return i(this,(function(i){switch(i.label){case 0:n=0,r=e,i.label=1;case 1:return n<r.length?(a=r[n],[4,o(t,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}var v,y,b,w,x,k,C,E;return i(this,(function(r){return v=n.queryParameters||l.wikidataParameters,y=a.widgets.continueButton(e),b=a.widgets.cancelButton(e,h),w=n.class,x={queryParams:v,class:w,acceptButton:y,cancelButton:b},k=null,(n=n||{}).editable=c.updater.editable(t.doc().uri,c),(C=e.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),n.editable&&(C.style.width="100%",E=C.appendChild(a.widgets.button(e,u,n.idNoun,f)),a.widgets.makeDropTarget(E,g,null),n.dbLookup&&C.appendChild(a.widgets.button(e,d,n.idNoun,m))),[2,C]}))}))}},function(e,t){e.exports='\n# This turtle file defined the forms usied in the contacts management\n#\n#  Indivduals and orgs are in one file as they both\n# share some forms (address etc) and also interact (roles)\n\n# Now hand-edited, was originally made using form editor.\n# Forms documentaion: https://solid.github.io/solid-ui/Documentation/forms-intro.html\n\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix prov: <http://www.w3.org/ns/prov#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix : <#>.\n\n# Ontology additions or interpretations needed for the form to work well\n\n# The ontology file doesn\'t make them disjoint.  This makes the selector be a choice.\nvcard:TelephoneType   owl:disjointUnionOf ( vcard:Cell vcard:Home vcard:Work) .\nvcard:Type   owl:disjointUnionOf (vcard:Home vcard:Work) . # for email\n\n# Better field labels\nvcard:Cell ui:label "mobile"@en . # app will imake nitial caps if nec\nvcard:hasAddress ui:label "address"@en .\nvcard:bday ui:label "born"@en.\nvcard:hasEmail ui:label "email"@en .\nvcard:hasTelephone ui:label "phone"@en .\nvcard:note ui:label "notes"@en .\n\n\n\n# Ontology data to drive a top classifier\n\nfoaf:Agent owl:disjointUnionOf  (\n  vcard:Individual\n  # @@  schema:robot @@  schem:SoftwareApplication, n0:Agent, n0:Person,\n  prov:SoftwareAgent\n  # vcard:Group     a group of agents is not (currently) an agent itself.\n  # You can\'t get a decision out of it so it can\'t own a bank account\n  vcard:Organization\n).\n\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corpration\n# Consortium - a Corporation or a NGO\n  schema:Corporation\n  schema:EducationalOrganization\n  schema:ResearchOrganization\n# FundingScheme - eh?\n  schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n  schema:MedicalOrganization\n  schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\n  schema:MusicGroup # e.g. a band\n  schema:Project # like Solid\n  schema:SportsOrganization # a Team\n ) .\n\n#########################################################\n#  The forms themselves\n\nfoaf:Agent ui:creationForm :AgentForm .\n\n:AgentForm a ui:Form; schema:name "Form for editing a agent" ;\n  ui:parts ( :AgentClassifier :AgentOptions  ) .\n\n  :AgentClassifier a ui:Classifier; ui:label "What sort of agent?"@en;\n    ui:category foaf:Agent .\n\n:AgentOptions  a ui:Options; ui:dependingon rdf:type;\n   ui:case [ ui:for vcard:Individual; ui:use :form1 ],\n           [ ui:for vcard:Organization; ui:use :orgDetailsForm ],\n           [ ui:for prov:SoftwareAgent; ui:use :robotDetailsForm ] .\n\n# Robots\n\n:robotDetailsForm a ui:Form; ui:parts ( ) . # @@@@\n\n#  Individual-specific form\n\nvcard:Individual\n    ui:creationForm :form1 .\n\n# The addressComment, etc., fields with a comment before each type of field\n# were originally partly because the labels on the fields were clumsy like "hasAddress".\n# This is fixed by adding the ui:label to the properties above, so let\'s try\n# removing the little micro-headings\n\n# For org:\n:orgDetailsForm a ui:Form ; dct:title "Contact details for an organozation";\n  ui:parts (\n    :OrgClassifier\n\n    :fullNameField\n    :addresses\n    :eMails\n    :telephones\n    :noteField ) .\n# For individual:\n:form1\n    dct:title "Contact Details for a person" ;\n    a ui:Form ;\n    ui:part\n        :fullNameField,   :roleField,   :orgNameField,\n         # :addressesComment,\n         :addresses,\n      #  :emailComment,\n         :eMails,\n#        :telephoneComment,\n         :telephones,\n#         :noteComment,\n         :noteField ;\n    ui:parts (\n                :fullNameField  :roleField :orgNameField\n                # :addressesComment\n                  :addresses\n                # :emailComment\n                 :eMails\n                # :telephoneComment\n                 :telephones  :birthdayField\n                 # :noteComment\n                  :noteField ) .\n\n    :fullNameField\n        a ui:SingleLineTextField ;\n        ui:label "Name";\n        ui:maxLength "128" ;\n        ui:property vcard:fn ;\n        ui:size "40" .\n\n    :roleField\n        a ui:SingleLineTextField ;\n        ui:suppressEmptyUneditable true;\n        ui:maxLength "128" ;\n        ui:property vcard:role ;\n        ui:size "40" .\n\n      :orgNameField\n          a ui:SingleLineTextField ;\n          ui:suppressEmptyUneditable true;\n          ui:maxLength "128" ;\n          ui:property vcard:organization-name ;\n          ui:size "40" .\n\n\n:addressesComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "Address" .\n\n\n:addresses\n    dct:title "Address details" ;\n    a ui:Multiple ;\n    ui:part :oneAddress ;\n    ui:property vcard:hasAddress .\n\n:oneAddress\n    a ui:Group ;\n    ui:parts ( :id1409437207443 :id1409437292400 :id1409437421996 :id1409437467649 :id1409437569420 :id1409437646712 ).\n\n:id1409437207443\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:street-address ;\n    ui:size "40" .\n\n:id1409437292400\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:locality ;\n    ui:size "40" .\n\n:id1409437421996\n    a ui:SingleLineTextField ;\n    ui:maxLength "25" ;\n    ui:property vcard:postal-code ;\n    ui:size "25" .\n\n:id1409437467649\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:region ;\n    ui:size "40" .\n\n:id1409437569420\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:country-name ;\n    ui:size "40" .\n\n:id1409437646712\n    a ui:Classifier ;\n    ui:from rdf:Class ;\n    ui:property rdf:type .\n\n\n##############################\n\n:emailComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n\n    ui:contents "Email" .\n\n\n:eMails\n    a ui:Multiple ;\n    ui:part :oneEMail ;\n    ui:property vcard:hasEmail .\n\n:oneEMail\n    a ui:Group ; # hint: side by side is good\n    ui:part :emailValue, :emailType ;\n    ui:parts ( :emailType  :emailValue ).\n\n:emailValue\n    a ui:EmailField ; ui:label "email";\n    ui:property vcard:value ;\n    ui:size "50" .\n\n:emailType\n    a ui:Classifier ;\n    ui:canMintNew "0" ;\n    ui:category vcard:Type ;\n    ui:from vcard:Type ;\n    ui:property rdf:type .\n\n\n##############################\n\n:telephoneComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "Phones" .\n\n\n:telephones\n    a ui:Multiple ;\n    ui:part :onetelephone ;\n    ui:property vcard:hasTelephone .\n\n:onetelephone\n    a ui:Group ;\n    ui:part :telephoneValue, :telephoneType ;\n    ui:parts (  :telephoneType :telephoneValue ).\n\n:telephoneValue\n    a ui:PhoneField ;\n    ui:property vcard:value ;\n    ui:size "50" .\n\n:telephoneType\n    a ui:Classifier ;\n    ui:canMintNew "0" ;\n    ui:category vcard:TelephoneType ;\n    ui:from vcard:Type ;\n    ui:property rdf:type .\n\n##############################\n\n:birthdayField\n    a ui:DateField;\n    ui:label "Born";\n    ui:suppressEmptyUneditable true;\n    ui:property vcard:bday .\n\n##############################\n\n:noteComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "General Notes" .\n\n:noteField\n    a ui:MultiLineTextField ;\n    ui:suppressEmptyUneditable true;\n\n    ui:property vcard:note .\n\n\n############ organization forms\n\n:OrganinizatioCreationForm a ui:Form; schema:name "Form for editing contact details of an organization" ;\n  ui:parts ( :OrgClassifier :homePageURIField  ) .\n\n\n:OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n  ui:category solid:InterestingOrganization .\n\n\n:instituteNameField\n    a ui:SingleLineTextField ;\n    ui:label "Intitute Name";\n    ui:maxLength "200" ;\n    ui:property schema:name ;\n    ui:size "80" .\n\n :homePageURIField a ui:NamedNodeURIField;\n    ui:property  schema:url . # @@ ??\n\n  :initituteTypeField a ui:Classifier;\n  ui:label "What sort of organization";\n  ui:category solid:InterestingOrganization .\n'},function(e,t){e.exports='\n@prefix : <http://www.w3.org/2006/vcard/ns#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xml: <http://www.w3.org/XML/1998/namespace> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n:Acquaintance a owl:Class ;\n    rdfs:label "Acquaintance"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Agent a owl:Class ;\n    rdfs:label "Agent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:BBS a owl:Class ;\n    rdfs:label "BBS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Car a owl:Class ;\n    rdfs:label "Car"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Cell a owl:Class ;\n    rdfs:label "Cell"@en ;\n    rdfs:comment "Also called mobile telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Child a owl:Class ;\n    rdfs:label "Child"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Colleague a owl:Class ;\n    rdfs:label "Colleague"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Contact a owl:Class ;\n    rdfs:label "Contact"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coresident a owl:Class ;\n    rdfs:label "Coresident"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coworker a owl:Class ;\n    rdfs:label "Coworker"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Crush a owl:Class ;\n    rdfs:label "Crush"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Date a owl:Class ;\n    rdfs:label "Date"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Dom a owl:Class ;\n    rdfs:label "Dom"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Emergency a owl:Class ;\n    rdfs:label "Emergency"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Fax a owl:Class ;\n    rdfs:label "Fax"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Female a owl:Class ;\n    rdfs:label "Female"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Friend a owl:Class ;\n    rdfs:label "Friend"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Home a owl:Class ;\n    rdfs:label "Home"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s personal life"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:ISDN a owl:Class ;\n    rdfs:label "ISDN"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Internet a owl:Class ;\n    rdfs:label "Internet"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Intl a owl:Class ;\n    rdfs:label "Intl"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Kin a owl:Class ;\n    rdfs:label "Kin"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Label a owl:Class ;\n    rdfs:label "Label"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Male a owl:Class ;\n    rdfs:label "Male"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Me a owl:Class ;\n    rdfs:label "Me"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Met a owl:Class ;\n    rdfs:label "Met"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Modem a owl:Class ;\n    rdfs:label "Modem"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Msg a owl:Class ;\n    rdfs:label "Msg"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Muse a owl:Class ;\n    rdfs:label "Muse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Neighbor a owl:Class ;\n    rdfs:label "Neighbor"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:None a owl:Class ;\n    rdfs:label "None"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Other a owl:Class ;\n    rdfs:label "Other"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:PCS a owl:Class ;\n    rdfs:label "PCS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Pager a owl:Class ;\n    rdfs:label "Pager"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Parcel a owl:Class ;\n    rdfs:label "Parcel"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Parent a owl:Class ;\n    rdfs:label "Parent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Postal a owl:Class ;\n    rdfs:label "Postal"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Pref a owl:Class ;\n    rdfs:label "Pref"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Sibling a owl:Class ;\n    rdfs:label "Sibling"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Spouse a owl:Class ;\n    rdfs:label "Spouse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Sweetheart a owl:Class ;\n    rdfs:label "Sweetheart"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Tel a owl:Class ;\n    rdfs:label "Tel"@en ;\n    rdfs:comment "This class is deprecated. Use the hasTelephone object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Text a owl:Class ;\n    rdfs:label "Text"@en ;\n    rdfs:comment "Also called sms telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:TextPhone a owl:Class ;\n    rdfs:label "Text phone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Unknown a owl:Class ;\n    rdfs:label "Unknown"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Video a owl:Class ;\n    rdfs:label "Video"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Voice a owl:Class ;\n    rdfs:label "Voice"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Work a owl:Class ;\n    rdfs:label "Work"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s work place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:X400 a owl:Class ;\n    rdfs:label "X400"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:adr a owl:ObjectProperty ;\n    rdfs:label "address"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasAddress .\n\n:agent a owl:ObjectProperty ;\n    rdfs:label "agent"@en ;\n    rdfs:comment "This object property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:anniversary a owl:DatatypeProperty ;\n    rdfs:label "anniversary"@en ;\n    rdfs:comment "The date of marriage, or equivalent, of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:gYear ) ] .\n\n:bday a owl:DatatypeProperty ;\n    rdfs:label "birth date"@en ;\n    rdfs:comment "To specify the birth date of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:dateTimeStamp xsd:gYear ) ] .\n\n:category a owl:DatatypeProperty ;\n    rdfs:label "category"@en ;\n    rdfs:comment "The category information about the object, also known as tags"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:class a owl:DatatypeProperty ;\n    rdfs:label "class"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:email a owl:ObjectProperty ;\n    rdfs:label "email"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasEmail .\n\n:extended-address a owl:DatatypeProperty ;\n    rdfs:label "extended address"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:geo a owl:ObjectProperty ;\n    rdfs:label "geo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasGeo .\n\n:hasAdditionalName a owl:ObjectProperty ;\n    rdfs:label "has additional name"@en ;\n    rdfs:comment "Used to support property parameters for the additional name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarBusy a owl:ObjectProperty ;\n    rdfs:label "has calendar busy"@en ;\n    rdfs:comment "To specify the busy time associated with the object. (Was called FBURL in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarLink a owl:ObjectProperty ;\n    rdfs:label "has calendar link"@en ;\n    rdfs:comment "To specify the calendar associated with the object. (Was called CALURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarRequest a owl:ObjectProperty ;\n    rdfs:label "has calendar request"@en ;\n    rdfs:comment "To specify the calendar user address to which a scheduling request be sent for the object. (Was called CALADRURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCategory a owl:ObjectProperty ;\n    rdfs:label "has category"@en ;\n    rdfs:comment "Used to support property parameters for the category data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCountryName a owl:ObjectProperty ;\n    rdfs:label "has country name"@en ;\n    rdfs:comment "Used to support property parameters for the country name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFN a owl:ObjectProperty ;\n    rdfs:label "has formatted name"@en ;\n    rdfs:comment "Used to support property parameters for the formatted name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFamilyName a owl:ObjectProperty ;\n    rdfs:label "has family name"@en ;\n    rdfs:comment "Used to support property parameters for the family name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGender a owl:ObjectProperty ;\n    rdfs:label "has gender"@en ;\n    rdfs:comment "To specify  the sex or gender identity of the object. URIs are recommended to enable interoperable sex and gender codes to be used."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGivenName a owl:ObjectProperty ;\n    rdfs:label "has given name"@en ;\n    rdfs:comment "Used to support property parameters for the given name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificPrefix a owl:ObjectProperty ;\n    rdfs:label "has honorific prefix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific prefix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificSuffix a owl:ObjectProperty ;\n    rdfs:label "has honorific suffix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific suffix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasInstantMessage a owl:ObjectProperty ;\n    rdfs:label "has messaging"@en ;\n    rdfs:comment "To specify the instant messaging and presence protocol communications with the object. (Was called IMPP in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLanguage a owl:ObjectProperty ;\n    rdfs:label "has language"@en ;\n    rdfs:comment "Used to support property parameters for the language data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLocality a owl:ObjectProperty ;\n    rdfs:label "has locality"@en ;\n    rdfs:comment "Used to support property parameters for the locality data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasNickname a owl:ObjectProperty ;\n    rdfs:label "has nickname"@en ;\n    rdfs:comment "Used to support property parameters for the nickname data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:seeAlso :nickname .\n\n:hasNote a owl:ObjectProperty ;\n    rdfs:label "has note"@en ;\n    rdfs:comment "Used to support property parameters for the note data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationName a owl:ObjectProperty ;\n    rdfs:label "has organization name"@en ;\n    rdfs:comment "Used to support property parameters for the organization name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationUnit a owl:ObjectProperty ;\n    rdfs:label "has organization unit name"@en ;\n    rdfs:comment "Used to support property parameters for the organization unit name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasPostalCode a owl:ObjectProperty ;\n    rdfs:label "has postal code"@en ;\n    rdfs:comment "Used to support property parameters for the postal code data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRegion a owl:ObjectProperty ;\n    rdfs:label "has region"@en ;\n    rdfs:comment "Used to support property parameters for the region data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRelated a owl:ObjectProperty ;\n    rdfs:label "has related"@en ;\n    rdfs:comment "To specify a relationship between another entity and the entity represented by this object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRole a owl:ObjectProperty ;\n    rdfs:label "has role"@en ;\n    rdfs:comment "Used to support property parameters for the role data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasSource a owl:ObjectProperty ;\n    rdfs:label "has source"@en ;\n    rdfs:comment "To identify the source of directory information of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasStreetAddress a owl:ObjectProperty ;\n    rdfs:label "has street address"@en ;\n    rdfs:comment "Used to support property parameters for the street address data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasTitle a owl:ObjectProperty ;\n    rdfs:label "has title"@en ;\n    rdfs:comment "Used to support property parameters for the title data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasUID a owl:ObjectProperty ;\n    rdfs:label "has uid"@en ;\n    rdfs:comment "To specify a value that represents a globally unique identifier corresponding to the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasValue a owl:ObjectProperty ;\n    rdfs:label "has value"@en ;\n    rdfs:comment "Used to indicate the resource value of an object property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:label a owl:DatatypeProperty ;\n    rdfs:label "label"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:language a owl:DatatypeProperty ;\n    rdfs:label "language"@en ;\n    rdfs:comment "To specify the language that may be used for contacting the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:latitude a owl:DatatypeProperty ;\n    rdfs:label "latitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:longitude a owl:DatatypeProperty ;\n    rdfs:label "longitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:mailer a owl:DatatypeProperty ;\n    rdfs:label "mailer"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:note a owl:DatatypeProperty ;\n    rdfs:label "note"@en ;\n    rdfs:comment "A note associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:org a owl:ObjectProperty ;\n    rdfs:label "organization"@en ;\n    rdfs:comment "This object property has been mapped. Use the organization-name data property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :organization-name .\n\n:organization-unit a owl:DatatypeProperty ;\n    rdfs:label "organizational unit name"@en ;\n    rdfs:comment "To specify the organizational unit name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string ;\n    rdfs:subPropertyOf :organization-name .\n\n:post-office-box a owl:DatatypeProperty ;\n    rdfs:label "post office box"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:prodid a owl:DatatypeProperty ;\n    rdfs:label "product id"@en ;\n    rdfs:comment "To specify the identifier for the product that created the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:rev a owl:DatatypeProperty ;\n    rdfs:label "revision"@en ;\n    rdfs:comment "To specify revision information about the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:dateTime .\n\n:role a owl:DatatypeProperty ;\n    rdfs:label "role"@en ;\n    rdfs:comment "To specify the function or part played in a particular situation by the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:sort-string a owl:DatatypeProperty ;\n    rdfs:label "sort as"@en ;\n    rdfs:comment "To specify the string to be used for national-language-specific sorting. Used as a property parameter only."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:title a owl:DatatypeProperty ;\n    rdfs:label "title"@en ;\n    rdfs:comment "To specify the position or job of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:tz a owl:DatatypeProperty ;\n    rdfs:label "time zone"@en ;\n    rdfs:comment "To indicate time zone information that is specific to the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:value a owl:DatatypeProperty ;\n    rdfs:label "value"@en ;\n    rdfs:comment "Used to indicate the literal value of a data property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Address a owl:Class ;\n    rdfs:label "Address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the  object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :country-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :country-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :locality ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :locality ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :postal-code ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :postal-code ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :region ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :region ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :street-address ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :street-address ] ) ] ) ] .\n\n:Email a owl:Class ;\n    rdfs:label "Email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object the vCard represents. Use the hasEmail object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Group a owl:Class ;\n    rdfs:label "Group"@en ;\n    rdfs:comment "Object representing a group of persons or entities.  A group object will usually contain hasMember properties to specify the members of the group."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Individual,\n        :Location,\n        :Organization ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:intersectionOf ( [ a owl:Restriction ;\n                        owl:onProperty :hasMember ;\n                        owl:someValuesFrom :Kind ] [ a owl:Restriction ;\n                        owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n                        owl:onClass :Kind ;\n                        owl:onProperty :hasMember ] ) ] .\n\n:Individual a owl:Class ;\n    rdfs:label "Individual"@en ;\n    rdfs:comment "An object representing a single person or entity"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Location,\n        :Organization .\n\n:Name a owl:Class ;\n    rdfs:label "Name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :additional-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :additional-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :family-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :family-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :given-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :given-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-prefix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-prefix ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-suffix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-suffix ] ) ] ) ] .\n\n:VCard a owl:Class ;\n    rdfs:label "VCard"@en ;\n    rdfs:comment "The vCard class is  equivalent to the new Kind class, which is the parent for the four explicit types of vCards (Individual, Organization, Location, Group)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass :Kind .\n\n:fn a owl:DatatypeProperty ;\n    rdfs:label "formatted name"@en ;\n    rdfs:comment "The formatted text corresponding to the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasAddress a owl:ObjectProperty ;\n    rdfs:label "has address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Address .\n\n:hasEmail a owl:ObjectProperty ;\n    rdfs:label "has email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Email .\n\n:hasGeo a owl:ObjectProperty ;\n    rdfs:label "has geo"@en ;\n    rdfs:comment "To specify information related to the global positioning of the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasKey a owl:ObjectProperty ;\n    rdfs:label "has key"@en ;\n    rdfs:comment "To specify a public key or authentication certificate associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :key .\n\n:hasLogo a owl:ObjectProperty ;\n    rdfs:label "has logo"@en ;\n    rdfs:comment "To specify a graphic image of a logo associated with the object "@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :logo .\n\n:hasName a owl:ObjectProperty ;\n    rdfs:label "has name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Name ;\n    owl:equivalentProperty :n .\n\n:hasPhoto a owl:ObjectProperty ;\n    rdfs:label "has photo"@en ;\n    rdfs:comment "To specify an image or photograph information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :photo .\n\n:hasSound a owl:ObjectProperty ;\n    rdfs:label "has sound"@en ;\n    rdfs:comment "To specify a digital sound content information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :sound .\n\n:hasTelephone a owl:ObjectProperty ;\n    rdfs:label "has telephone"@en ;\n    rdfs:comment "To specify the telephone number for telephony communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :tel .\n\n:hasURL a owl:ObjectProperty ;\n    rdfs:label "has url"@en ;\n    rdfs:comment "To specify a uniform resource locator associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :url .\n\n:key a owl:ObjectProperty ;\n    rdfs:label "key"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasKey .\n\n:logo a owl:ObjectProperty ;\n    rdfs:label "logo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasLogo .\n\n:n a owl:ObjectProperty ;\n    rdfs:label "name"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasName .\n\n:nickname a owl:DatatypeProperty ;\n    rdfs:label "nickname"@en ;\n    rdfs:comment "The nick name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:photo a owl:ObjectProperty ;\n    rdfs:label "photo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasPhoto .\n\n:sound a owl:ObjectProperty ;\n    rdfs:label "sound"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasSound .\n\n:tel a owl:ObjectProperty ;\n    rdfs:label "telephone"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasTelephone .\n\n:url a owl:ObjectProperty ;\n    rdfs:label "url"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasURL .\n\n:Location a owl:Class ;\n    rdfs:label "Location"@en ;\n    rdfs:comment "An object representing a named geographical place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Organization .\n\n:additional-name a owl:DatatypeProperty ;\n    rdfs:label "additional name"@en ;\n    rdfs:comment "The additional name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:country-name a owl:DatatypeProperty ;\n    rdfs:label "country name"@en ;\n    rdfs:comment "The country name associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:family-name a owl:DatatypeProperty ;\n    rdfs:label "family name"@en ;\n    rdfs:comment "The family name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:given-name a owl:DatatypeProperty ;\n    rdfs:label "given name"@en ;\n    rdfs:comment "The given name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasMember a owl:ObjectProperty ;\n    rdfs:label "has member"@en ;\n    rdfs:comment "To include a member in the group this object represents. (This property can only be used by Group individuals)"@en ;\n    rdfs:domain :Group ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Kind .\n\n:honorific-prefix a owl:DatatypeProperty ;\n    rdfs:label "honorific prefix"@en ;\n    rdfs:comment "The honorific prefix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:honorific-suffix a owl:DatatypeProperty ;\n    rdfs:label "honorific suffix"@en ;\n    rdfs:comment "The honorific suffix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:locality a owl:DatatypeProperty ;\n    rdfs:label "locality"@en ;\n    rdfs:comment "The locality (e.g. city or town) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:organization-name a owl:DatatypeProperty ;\n    rdfs:label "organization name"@en ;\n    rdfs:comment "To specify the organizational name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:postal-code a owl:DatatypeProperty ;\n    rdfs:label "postal code"@en ;\n    rdfs:comment "The postal code associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:region a owl:DatatypeProperty ;\n    rdfs:label "region"@en ;\n    rdfs:comment "The region (e.g. state or province) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:street-address a owl:DatatypeProperty ;\n    rdfs:label "street address"@en ;\n    rdfs:comment "The street address associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:Organization a owl:Class ;\n    rdfs:label "Organization"@en ;\n    rdfs:comment """An object representing an organization.  An organization is a single entity, and might represent a business or government, a department or division within a business or government, a club, an association, or the like.\n"""@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind .\n\n:Gender a owl:Class ;\n    rdfs:label "Gender"@en ;\n    rdfs:comment "Used for gender codes. The URI of the gender code must be used as the value for Gender."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Kind a owl:Class ;\n    rdfs:label "Kind"@en ;\n    rdfs:comment "The parent class for all objects"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Restriction ;\n            owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n            owl:onDataRange xsd:string ;\n            owl:onProperty :fn ],\n        :VCard .\n\n:Type a owl:Class ;\n    rdfs:label "Type"@en ;\n    rdfs:comment "Used for type codes. The URI of the type code must be used as the value for Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:TelephoneType a owl:Class ;\n    rdfs:label "Phone"@en ;\n    rdfs:comment "Used for telephone type codes. The URI of the telephone type code must be used as the value for the Telephone Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:RelatedType a owl:Class ;\n    rdfs:label "Relation Type"@en ;\n    rdfs:comment "Used for relation type codes. The URI of the relation type code must be used as the value for the Relation Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n<http://www.w3.org/2006/vcard/ns> a owl:Ontology ;\n    rdfs:label "Ontology for vCard"@en ;\n    rdfs:comment "Ontology for vCard based on RFC6350"@en ;\n    owl:versionInfo "Final"@en .\n\n\n'},,function(e,t,n){e.exports=n(413)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={buildTime:"2021-06-10T06:33:45Z",commit:"23b73f4c5e208e2b34d4628e9e2de1300c98bada",npmInfo:{"solid-panes":"3.5.2",npm:"6.10.0",ares:"1.15.0",brotli:"1.0.7",cldr:"35.1",http_parser:"2.8.0",icu:"64.2",llhttp:"1.1.4",modules:"72",napi:"4",nghttp2:"1.39.1",node:"12.7.0",openssl:"1.1.1c",tz:"2019a",unicode:"12.1",uv:"1.30.1",v8:"7.5.288.22-node.16",zlib:"1.2.11"}}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function p(){}function f(){}var h={};h[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&n.call(g,i)&&(h=g);var v=f.prototype=d.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v.constructor=f,f.constructor=p,p.displayName=s(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),s(v,o,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";const r=n(130),i=n(179),a=n(135),o=n(180);let s;try{s=n(181)}catch(e){}const l={};e.exports=l,l.NQuads=n(108),l.IdentifierIssuer=n(107),l._rdfCanonizeNative=function(e){return e&&(s=e),s},l.canonize=async function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!s)throw new Error("rdf-canonize-native not available");return new Promise((n,r)=>s.canonize(e,t,(e,t)=>e?r(e):n(t)))}if("URDNA2015"===t.algorithm)return new r(t).main(e);if("URGNA2012"===t.algorithm)return new i(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(s)return s.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new o(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(131),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(65))},function(e,t,n){"use strict";const r=n(130);e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const a of r){let r,o;if("BlankNode"===a.subject.termType&&a.subject.value!==e)o=a.subject.value,r="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;o=a.object.value,r="r"}++i%100==0&&await this._yield();const s=await this.hashRelatedBlankNode(o,a,t,r),l=n.get(s);l?l.push(o):n.set(s,[o])}return n}}},function(e,t,n){"use strict";const r=n(135);e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r){let r,a;if("BlankNode"===i.subject.termType&&i.subject.value!==e)a=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;a=i.object.value,r="r"}const o=this.hashRelatedBlankNode(a,i,t,r),s=n.get(o);s?s.push(a):n.set(o,[a])}return n}}},function(e,t){},function(e,t,n){"use strict";const r=n(183),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(46),{LINK_HEADER_CONTEXT:a}=n(109),o=n(48),s=n(136),{prependBase:l}=n(56),c=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{t=i(t);return(new s).wrapLoader((async function i(s){if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(e&&0!==s.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s});let u;try{u=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{r.onload=()=>e(r),r.onerror=e=>i(e),r.open("GET",t,!0);for(const e in n)r.setRequestHeader(e,n[e]);r.send()})}(n,s,t)}catch(e){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:e})}if(u.status>=400)throw new o("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:u.status});let d={contextUrl:null,documentUrl:s,document:u.response},p=null;const f=u.getResponseHeader("Content-Type");let h;c.test(u.getAllResponseHeaders())&&(h=u.getResponseHeader("Link"));if(h&&"application/ld+json"!==f){const e=r(h),t=e[a];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});t&&(d.contextUrl=t.target),p=e.alternate,p&&"application/ld+json"==p.type&&!(f||"").match(/^application\/(\w*\+)?json$/)&&(d=await i(l(s,p.target)))}return d}))}},function(e,t,n){"use strict";const{isArray:r,isObject:i,isString:a}=n(42),{asArray:o}=n(46),{prependBase:s}=n(56),l=n(48),c=n(185);function u(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:l=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=o(t);const d=[];for(const o of t){if(a(o)){let t=this._get(o);t||(t=await this._resolveRemoteContext({activeCtx:e,url:o,documentLoader:n,base:s,cycles:l})),r(t)?d.push(...t):d.push(t);continue}if(null===o){d.push(new c({document:null}));continue}i(o)||u(t);const p=JSON.stringify(o);let f=this._get(p);f||(f=new c({document:o}),this._cacheResolvedContext({key:p,resolved:f,tag:"static"})),d.push(f)}return d}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:o,cycles:l}){t=s(o,t);const{context:c,remoteDoc:u}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:l});(function e({context:t,base:n}){if(!t)return;const o=t["@context"];if(a(o))return void(t["@context"]=s(n,o));if(r(o)){for(let t=0;t<o.length;++t){const r=o[t];a(r)?o[t]=s(n,r):i(r)&&e({context:{"@context":r},base:n})}return}if(!i(o))return;for(const t in o)e({context:o[t],base:n})})({context:c,base:o=u.documentUrl||t});const d=await this.resolve({activeCtx:e,context:c,documentLoader:n,base:o,cycles:l});return this._cacheResolvedContext({key:t,resolved:d,tag:u.tag}),d}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:o}){if(o.size>10)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(o.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;o.add(t);try{c=await n(t),s=c.document||null,a(s)&&(s=JSON.parse(s))}catch(e){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!i(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(r(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},function(e,t,n){"use strict";const r=n(137);e.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function a(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)n.push(a.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)n.push(a.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;var o=[];for(r=0;a&&r<t;r++)o.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(r=0;r<n.length;r++)a=i(this,a,n[r]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(187)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){"use strict";e.exports=n(106).NQuads},function(e,t,n){"use strict";const r=n(48),{isArray:i,isObject:a,isEmptyObject:o,isString:s,isUndefined:l}=n(42),{isList:c,isValue:u,isGraph:d,isSubject:p}=n(50),{expandIri:f,getContextValue:h,isKeyword:m,process:g,processingMode:v}=n(66),{isAbsolute:y}=n(56),{addValue:b,asArray:w,getValues:x,validateTypeValue:k}=n(46),C={};e.exports=C;const E=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function T({activeCtx:e,activeProperty:t,value:n,options:r}){if(null==n)return null;const i=f(e,t,{vocab:!0},r);if("@id"===i)return f(e,n,{base:!0},r);if("@type"===i)return f(e,n,{vocab:!0,base:!0},r);const a=h(e,t,"@type");if(("@id"===a||"@graph"===i)&&s(n))return{"@id":f(e,n,{base:!0},r)};if("@vocab"===a&&s(n))return{"@id":f(e,n,{vocab:!0,base:!0},r)};if(m(i))return n;const o={};if(a&&!["@id","@vocab","@none"].includes(a))o["@type"]=a;else if(s(n)){const n=h(e,t,"@language");null!==n&&(o["@language"]=n);const r=h(e,t,"@direction");null!==r&&(o["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),o["@value"]=n,o}function _(e,t,n,a){const o=[],l=Object.keys(t).sort();for(const c of l){const l=f(e,c,{vocab:!0},a);let u=t[c];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!s(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==l&&(i["@language"]=c.toLowerCase()),n&&(i["@direction"]=n),o.push(i)}}return o}async function S({activeCtx:e,options:t,activeProperty:n,value:a,expansionMap:o,asGraph:s,indexKey:c,propertyIndex:p}){const m=[],v=Object.keys(a).sort(),y="@type"===c;for(let w of v){if(y){const n=h(e,w,"@context");l(n)||(e=await g({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let v,x=a[w];i(x)||(x=[x]),x=await C.expand({activeCtx:e,activeProperty:n,element:x,options:t,insideList:!1,insideIndex:!0,expansionMap:o}),v=p?"@none"===w?"@none":T({activeCtx:e,activeProperty:c,value:w,options:t}):f(e,w,{vocab:!0},t),"@id"===c?w=f(e,w,{base:!0},t):y&&(w=v);for(let e of x){if(s&&!d(e)&&(e={"@graph":[e]}),"@type"===c)"@none"===v||(e["@type"]?e["@type"]=[w].concat(e["@type"]):e["@type"]=[w]);else{if(u(e)&&!["@language","@type","@index"].includes(c))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});p?"@none"!==v&&b(e,p,v,{propertyIsArray:!0,prependValue:!0}):"@none"===v||c in e||(e[c]=w)}m.push(e)}}return m}C.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:d={},insideList:O=!1,insideIndex:A=!1,typeScopedContext:j=null,expansionMap:P=(()=>{})})=>{if(null==n)return null;if("@default"===t&&(d=Object.assign({},d,{isFrame:!1})),!i(n)&&!a(n)){if(!O&&(null===t||"@graph"===f(e,t,{vocab:!0},d))){const r=await P({unmappedValue:n,activeCtx:e,activeProperty:t,options:d,insideList:O});return void 0===r?null:r}return T({activeCtx:e,activeProperty:t,value:n,options:d})}if(i(n)){let r=[];const a=h(e,t,"@container")||[];O=O||a.includes("@list");for(let a=0;a<n.length;++a){let o=await C.expand({activeCtx:e,activeProperty:t,element:n[a],options:d,expansionMap:P,insideIndex:A,typeScopedContext:j});O&&i(o)&&(o={"@list":o}),null===o&&(o=await P({unmappedValue:n[a],activeCtx:e,activeProperty:t,parent:n,index:a,options:d,expandedParent:r,insideList:O}),void 0===o)||(i(o)?r=r.concat(o):r.push(o))}return r}const I=f(e,t,{vocab:!0},d),N=h(e,t,"@context");j=j||(e.previousContext?e:null);let L=Object.keys(n).sort(),R=!A;if(R&&j&&L.length<=2&&!L.includes("@context"))for(const t of L){const n=f(j,t,{vocab:!0},d);if("@value"===n){R=!1,e=j;break}if("@id"===n&&1===L.length){R=!1;break}}R&&(e=e.revertToPreviousContext()),l(N)||(e=await g({activeCtx:e,localCtx:N,propagate:!0,overrideProtected:!0,options:d})),"@context"in n&&(e=await g({activeCtx:e,localCtx:n["@context"],options:d})),j=e;let M=null;for(const t of L){if("@type"===f(e,t,{vocab:!0},d)){M=M||t;const r=n[t],i=Array.isArray(r)?r.length>1?r.slice().sort():r:[r];for(const t of i){const n=h(j,t,"@context");l(n)||(e=await g({activeCtx:e,localCtx:n,options:d,propagate:!1}))}}}let D={};await async function e({activeCtx:t,activeProperty:n,expandedActiveProperty:d,element:x,expandedParent:T,options:O={},insideList:A,typeKey:j,typeScopedContext:P,expansionMap:I}){const N=Object.keys(x).sort(),L=[];let R;const M=x[j]&&"@json"===f(t,i(x[j])?x[j][0]:x[j],{vocab:!0},O);for(const e of N){let j,N=x[e];if("@context"===e)continue;let D=f(t,e,{vocab:!0},O);if((null===D||!y(D)&&!m(D))&&(D=I({unmappedProperty:e,activeCtx:t,activeProperty:n,parent:x,options:O,insideList:A,value:N,expandedParent:T}),void 0===D))continue;if(m(D)){if("@reverse"===d)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:N});if(D in T&&"@included"!==D&&"@type"!==D)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:D})}if("@id"===D){if(!s(N)){if(!O.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(a(N)){if(!o(N))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}else{if(!i(N))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(!N.every(e=>s(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}}b(T,"@id",w(N).map(e=>s(e)?f(t,e,{base:!0},O):e),{propertyIsArray:O.isFrame});continue}if("@type"===D){a(N)&&(N=Object.fromEntries(Object.entries(N).map(([e,t])=>[f(P,e,{vocab:!0}),w(t).map(e=>f(P,e,{base:!0,vocab:!0}))]))),k(N,O.isFrame),b(T,"@type",w(N).map(e=>s(e)?f(P,e,{base:!0,vocab:!0},O):e),{propertyIsArray:O.isFrame});continue}if("@included"===D&&v(t,1.1)){const e=w(await C.expand({activeCtx:t,activeProperty:n,element:N,options:O,expansionMap:I}));if(!e.every(e=>p(e)))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:N});b(T,"@included",e,{propertyIsArray:!0});continue}if("@graph"===D&&!a(N)&&!i(N))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:N});if("@value"===D){R=N,M&&v(t,1.1)?T["@value"]=N:b(T,"@value",N,{propertyIsArray:O.isFrame});continue}if("@language"===D){if(null===N)continue;if(!s(N)&&!O.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:N});N=w(N).map(e=>s(e)?e.toLowerCase():e);for(const e of N)s(e)&&!e.match(E)&&console.warn("@language must be valid BCP47: "+e);b(T,"@language",N,{propertyIsArray:O.isFrame});continue}if("@direction"===D){if(!s(N)&&!O.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:N});N=w(N);for(const e of N)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:N});b(T,"@direction",N,{propertyIsArray:O.isFrame});continue}if("@index"===D){if(!s(N))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:N});b(T,"@index",N);continue}if("@reverse"===D){if(!a(N))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:N});if(j=await C.expand({activeCtx:t,activeProperty:"@reverse",element:N,options:O,expansionMap:I}),"@reverse"in j)for(const e in j["@reverse"])b(T,e,j["@reverse"][e],{propertyIsArray:!0});let e=T["@reverse"]||null;for(const t in j){if("@reverse"===t)continue;null===e&&(e=T["@reverse"]={}),b(e,t,[],{propertyIsArray:!0});const n=j[t];for(let i=0;i<n.length;++i){const a=n[i];if(u(a)||c(a))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:j});b(e,t,a,{propertyIsArray:!0})}}continue}if("@nest"===D){L.push(e);continue}let F=t;const B=h(t,e,"@context");l(B)||(F=await g({activeCtx:t,localCtx:B,propagate:!0,overrideProtected:!0,options:O}));const U=h(F,e,"@container")||[];if(U.includes("@language")&&a(N)){const t=h(F,e,"@direction");j=_(F,N,t,O)}else if(U.includes("@index")&&a(N)){const n=U.includes("@graph"),r=h(F,e,"@index")||"@index",i="@index"!==r&&f(t,r,{vocab:!0},O);j=await S({activeCtx:F,options:O,activeProperty:e,value:N,expansionMap:I,asGraph:n,indexKey:r,propertyIndex:i})}else if(U.includes("@id")&&a(N)){const t=U.includes("@graph");j=await S({activeCtx:F,options:O,activeProperty:e,value:N,expansionMap:I,asGraph:t,indexKey:"@id"})}else if(U.includes("@type")&&a(N))j=await S({activeCtx:F.revertToPreviousContext(),options:O,activeProperty:e,value:N,expansionMap:I,asGraph:!1,indexKey:"@type"});else{const r="@list"===D;if(r||"@set"===D){let e=n;r&&"@graph"===d&&(e=null),j=await C.expand({activeCtx:F,activeProperty:e,element:N,options:O,insideList:r,expansionMap:I})}else j="@json"===h(t,e,"@type")?{"@type":"@json","@value":N}:await C.expand({activeCtx:F,activeProperty:e,element:N,options:O,insideList:!1,expansionMap:I})}if(null!==j||"@value"===D||(j=I({unmappedValue:N,expandedProperty:D,activeCtx:F,activeProperty:n,parent:x,options:O,insideList:A,key:e,expandedParent:T}),void 0!==j))if("@list"!==D&&!c(j)&&U.includes("@list")&&(j={"@list":w(j)}),U.includes("@graph")&&!U.some(e=>"@id"===e||"@index"===e)&&(j=w(j).map(e=>({"@graph":w(e)}))),F.mappings.has(e)&&F.mappings.get(e).reverse){const e=T["@reverse"]=T["@reverse"]||{};j=w(j);for(let t=0;t<j.length;++t){const n=j[t];if(u(n)||c(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:j});b(e,D,n,{propertyIsArray:!0})}}else b(T,D,j,{propertyIsArray:!0})}if("@value"in T)if("@json"===T["@type"]&&v(t,1.1));else if((a(R)||i(R))&&!O.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:R});for(const o of L){const s=i(x[o])?x[o]:[x[o]];for(const i of s){if(!a(i)||Object.keys(i).some(e=>"@value"===f(t,e,{vocab:!0},O)))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await e({activeCtx:t,activeProperty:n,expandedActiveProperty:d,element:i,expandedParent:T,options:O,insideList:A,typeScopedContext:P,typeKey:j,expansionMap:I})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:I,element:n,expandedParent:D,options:d,insideList:O,typeKey:M,typeScopedContext:j,expansionMap:P}),L=Object.keys(D);let F=L.length;if("@value"in D){if("@type"in D&&("@language"in D||"@direction"in D))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:D});let i=F-1;if("@type"in D&&(i-=1),"@index"in D&&(i-=1),"@language"in D&&(i-=1),"@direction"in D&&(i-=1),0!==i)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:D});const a=null===D["@value"]?[]:w(D["@value"]),l=x(D,"@type");if(v(e,1.1)&&l.includes("@json")&&1===l.length);else if(0===a.length){const r=await P({unmappedValue:D,activeCtx:e,activeProperty:t,element:n,options:d,insideList:O});D=void 0!==r?r:null}else{if(!a.every(e=>s(e)||o(e))&&"@language"in D)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:D});if(!l.every(e=>y(e)&&!(s(e)&&0===e.indexOf("_:"))||o(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:D})}}else if("@type"in D&&!i(D["@type"]))D["@type"]=[D["@type"]];else if("@set"in D||"@list"in D){if(F>1&&(2!==F||!("@index"in D)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:D});"@set"in D&&(D=D["@set"],L=Object.keys(D),F=L.length)}else if(1===F&&"@language"in D){const r=await P(D,{unmappedValue:D,activeCtx:e,activeProperty:t,element:n,options:d,insideList:O});D=void 0!==r?r:null}if(a(D)&&!d.keepFreeFloatingNodes&&!O&&(null===t||"@graph"===I)&&(0===F||"@value"in D||"@list"in D||1===F&&"@id"in D)){const r=await P({unmappedValue:D,activeCtx:e,activeProperty:t,element:n,options:d,insideList:O});D=void 0!==r?r:null}return D}},function(e,t,n){"use strict";const{isSubjectReference:r}=n(50),{createMergedNodeMap:i}=n(89),a={};e.exports=a,a.flatten=e=>{const t=i(e),n=[],a=Object.keys(t).sort();for(let e=0;e<a.length;++e){const i=t[a[e]];r(i)||n.push(i)}return n}},function(e,t,n){"use strict";const r=n(48),i=n(50),a=n(42),o=n(46),{RDF_LIST:s,RDF_FIRST:l,RDF_REST:c,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:p,XSD_BOOLEAN:f,XSD_DOUBLE:h,XSD_INTEGER:m,XSD_STRING:g}=n(109),v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,y={};function b(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=g),o===p){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(e){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:e})}}if(t){if(o===f)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(a.isNumeric(i["@value"]))if(o===m){const e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else o===h&&(i["@value"]=parseFloat(i["@value"]));[f,m,h,g].includes(o)||(i["@type"]=o)}else if("i18n-datatype"===n&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=o.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(v)||console.warn("@language must be valid BCP47: "+e)),i["@direction"]=t}else o!==g&&(i["@type"]=o)}return i}e.exports=y,y.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:r=null})=>{const p={},f={"@default":p},h={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in f||(f[e]={}),"@default"===e||e in p||(p[e]={"@id":e});const a=f[e],s=i.subject.value,l=i.predicate.value,c=i.object;s in a||(a[s]={"@id":s});const m=a[s],g=c.termType.endsWith("Node");if(g&&!(c.value in a)&&(a[c.value]={"@id":c.value}),l===d&&!t&&g){o.addValue(m,"@type",c.value,{propertyIsArray:!0});continue}const v=b(c,n,r);if(o.addValue(m,l,v,{propertyIsArray:!0}),g)if(c.value===u){const e=a[c.value];"usages"in e||(e.usages=[]),e.usages.push({node:m,property:l,value:v})}else c.value in h?h[c.value]=!1:h[c.value]={node:m,property:l,value:v}}for(const e in f){const t=f[e];if(!(u in t))continue;const n=t[u];if(n.usages){for(let e of n.usages){let n=e.node,r=e.property,o=e.value;const u=[],d=[];let p=Object.keys(n).length;for(;r===c&&a.isObject(h[n["@id"]])&&a.isArray(n[l])&&1===n[l].length&&a.isArray(n[c])&&1===n[c].length&&(3===p||4===p&&a.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===s)&&(u.push(n[l][0]),d.push(n["@id"]),e=h[n["@id"]],n=e.node,r=e.property,o=e.value,p=Object.keys(n).length,i.isBlankNode(n)););delete o["@id"],o["@list"]=u.reverse();for(const e of d)delete t[e]}delete n.usages}}const m=[],g=Object.keys(p).sort();for(const e of g){const t=p[e];if(e in f){const n=t["@graph"]=[],r=f[e],a=Object.keys(r).sort();for(const e of a){const t=r[e];i.isSubjectReference(t)||n.push(t)}}i.isSubjectReference(t)||m.push(t)}return m}},function(e,t,n){"use strict";const{createNodeMap:r}=n(89),{isKeyword:i}=n(66),a=n(50),o=n(193),s=n(42),l=n(46),{RDF_FIRST:c,RDF_REST:u,RDF_NIL:d,RDF_TYPE:p,RDF_JSON_LITERAL:f,RDF_LANGSTRING:h,XSD_BOOLEAN:m,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:y}=n(109),{isAbsolute:b}=n(56),w={};function x(e,t,n,r,a){const o=Object.keys(t).sort();for(const s of o){const o=t[s],l=Object.keys(o).sort();for(let t of l){const l=o[t];if("@type"===t)t=p;else if(i(t))continue;for(const i of l){const o={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!b(s))continue;const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t))continue;if("BlankNode"===l.termType&&!a.produceGeneralizedRdf)continue;const c=k(i,r,e,n,a.rdfDirection);c&&e.push({subject:o,predicate:l,object:c,graph:n})}}}}function k(e,t,n,r,i){const l={};if(a.isValue(e)){l.termType="Literal",l.value=void 0,l.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)l.value=o(t),l.datatype.value=f;else if(s.isBoolean(t))l.value=t.toString(),l.datatype.value=n||m;else if(s.isDouble(t)||n===g)s.isDouble(t)||(t=parseFloat(t)),l.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),l.datatype.value=n||g;else if(s.isNumber(t))l.value=t.toFixed(0),l.datatype.value=n||v;else if("i18n-datatype"===i&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"];l.datatype.value=n,l.value=t}else"@language"in e?(l.value=t,l.datatype.value=n||h,l.language=e["@language"]):(l.value=t,l.datatype.value=n||y)}else if(a.isList(e)){const a=function(e,t,n,r,i){const a={termType:"NamedNode",value:c},o={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},l=e.pop(),p=l?{termType:"BlankNode",value:t.getId()}:s;let f=p;for(const s of e){const e=k(s,t,n,r,i),l={termType:"BlankNode",value:t.getId()};n.push({subject:f,predicate:a,object:e,graph:r}),n.push({subject:f,predicate:o,object:l,graph:r}),f=l}if(l){const e=k(l,t,n,r,i);n.push({subject:f,predicate:a,object:e,graph:r}),n.push({subject:f,predicate:o,object:s,graph:r})}return p}(e["@list"],t,n,r,i);l.termType=a.termType,l.value=a.value}else{const t=s.isObject(e)?e["@id"]:e;l.termType=t.startsWith("_:")?"BlankNode":"NamedNode",l.value=t}return"NamedNode"!==l.termType||b(l.value)?l:null}e.exports=w,w.toRDF=(e,t)=>{const n=new l.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const a=[],o=Object.keys(i).sort();for(const e of o){let r;if("@default"===e)r={termType:"DefaultGraph",value:""};else{if(!b(e))continue;r=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},r.value=e}x(a,i[e],r,n,t)}return a}},function(e,t,n){"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,n,r)=>t+(0===r?"":",")+e(void 0===n||"symbol"==typeof n?null:n),"")+"]":"{"+Object.keys(t).sort().reduce((n,r,i)=>{if(void 0===t[r]||"symbol"==typeof t[r])return n;return n+(0===n.length?"":",")+e(r)+":"+e(t[r])},"")+"}"}},function(e,t,n){"use strict";const{isKeyword:r}=n(66),i=n(50),a=n(42),o=n(46),s=n(56),l=n(48),{createNodeMap:c,mergeNodeMapGraphs:u}=n(89),d={};function p(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function m(e){if(!a.isArray(e)||1!==e.length||!a.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of o.asArray(e[0]["@id"]))if(!a.isObject(t)&&!s.isAbsolute(t)||a.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of o.asArray(e[0]["@type"]))if(!a.isObject(t)&&!s.isAbsolute(t)||a.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function g(e,t,n,s){let l=!0,c=!1;for(const u in n){let d=!1;const p=o.getValues(t,u),f=0===o.getValues(n,u).length;if("@id"===u){if(a.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(p[0])),!s.requireAll)return d}else if("@type"===u){if(l=!1,f){if(p.length>0)return!1;d=!0}else if(1===n["@type"].length&&a.isEmptyObject(n["@type"][0]))d=p.length>0;else for(const e of n["@type"])d=!(!a.isObject(e)||!("@default"in e))||(d||p.some(t=>t===e));if(!s.requireAll)return d}else{if(r(u))continue;{const t=o.getValues(n,u)[0];let r=!1;if(t&&(m([t]),r="@default"in t),l=!1,0===p.length&&r)continue;if(p.length>0&&f)return!1;if(void 0===t){if(p.length>0)return!1;d=!0}else if(i.isList(t)){const n=t["@list"][0];if(i.isList(p[0])){const t=p[0]["@list"];i.isValue(n)?d=t.some(e=>w(n,e)):(i.isSubject(n)||i.isSubjectReference(n))&&(d=t.some(t=>b(e,n,t,s)))}}else d=i.isValue(t)?p.some(e=>w(t,e)):i.isSubjectReference(t)?p.some(n=>b(e,t,n,s)):!!a.isObject(t)&&p.length>0}}if(!d&&s.requireAll)return!1;c=c||d}return l||c}function v(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,s=r.property,l={"@id":t};if(a.isArray(i)){for(let e=0;e<i.length;++e)if(o.compareValues(i[e],l)){i[e]=l;break}}else{const e=a.isArray(i[s]);o.removeValue(i,s,l,{propertyIsArray:e}),o.addValue(i,s,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&a.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function y(e,t,n){a.isObject(e)?o.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function b(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&g(e,i,t,r)}function w(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],o=e["@value"]?a.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?a.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?a.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===l.length||!(!o.includes(n)&&!a.isEmptyObject(o[0]))&&(!!(!r&&0===s.length||s.includes(r)||r&&a.isEmptyObject(s[0]))&&!!(!i&&0===l.length||l.includes(i)||i&&a.isEmptyObject(l[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new o.IdentifierIssuer("_:b");c(e,r.graphMap,"@default",s),n.merged&&(r.graphMap["@merged"]=u(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const l=[];return d.frame(r,Object.keys(r.subjects).sort(),t,l),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),
// remove @preserve from results
n.link={},function e(t,n){if(a.isArray(t))return t.map(t=>e(t,n));if(a.isObject(t)){
// remove @preserve
if("@preserve"in t)return t["@preserve"][0];if(i.isValue(t))return t;if(i.isList(t))return t["@list"]=e(t["@list"],n),t;if("@id"in t){const e=t["@id"];if(n.link.hasOwnProperty(e)){const r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}for(const r in t)"@id"===r&&n.bnodesToClear.includes(t[r])?delete t["@id"]:t[r]=e(t[r],n)}return t}(l,n)},d.frame=(e,t,n,s,c=null)=>{m(n),n=n[0];const u=e.options,b={embed:h(n,u,"embed"),explicit:h(n,u,"explicit"),requireAll:h(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const x=e.link[e.graph],k=function(e,t,n,r){const i={};for(const a of t){const t=e.graphMap[e.graph][a];g(e,t,n,r)&&(i[a]=t)}return i}(e,t,n,b),C=Object.keys(k).sort();for(const m of C){const g=k[m];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===b.embed&&m in x){y(s,c,x[m]);continue}const C={"@id":m};if(0===m.indexOf("_:")&&o.addValue(e.bnodeMap,m,C,{propertyIsArray:!0}),x[m]=C,("@first"===b.embed||"@last"===b.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(m))if(!e.embedded||"@never"!==b.embed&&!f(g,e.graph,e.subjectStack))if(!e.embedded||"@first"!=b.embed&&"@once"!=b.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(m)){if("@last"===b.embed&&m in e.uniqueEmbeds[e.graph]&&v(e,m),e.uniqueEmbeds[e.graph][m]={parent:s,property:c},e.subjectStack.push({subject:g,graph:e.graph}),m in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===m||"@default"===m),a.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&d.frame({...e,graph:m,embedded:!1},Object.keys(e.graphMap[m]).sort(),[r],C,"@graph")}"@included"in n&&d.frame({...e,embedded:!1},t,n["@included"],C,"@included");for(const t of Object.keys(g).sort())if(r(t)){if(C[t]=o.clone(g[t]),"@type"===t)for(const t of g["@type"])0===t.indexOf("_:")&&o.addValue(e.bnodeMap,t,C,{propertyIsArray:!0})}else if(!b.explicit||t in n)for(const r of g[t]){const a=t in n?n[t]:p(b);if(i.isList(r)){const a=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:p(b),s={"@list":[]};y(C,t,s);const l=r["@list"];for(const t of l)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],a,s,"@list"):y(s,"@list",o.clone(t))}else i.isSubjectReference(r)?d.frame({...e,embedded:!0},[r["@id"]],a,C,t):w(a[0],r)&&y(C,t,o.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!a.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{};if(!h(t,u,"omitDefault")&&!(e in C)){let n="@null";"@default"in t&&(n=o.clone(t["@default"])),a.isArray(n)||(n=[n]),C[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects)){o.getValues(e.subjects[n],t).some(e=>e["@id"]===m)&&(C["@reverse"]=C["@reverse"]||{},o.addValue(C["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[n],r,C["@reverse"][t],c))}}y(s,c,C),e.subjectStack.pop()}else y(s,c,C);else y(s,c,C)}},d.cleanupNull=(e,t)=>{if(a.isArray(e)){return e.map(e=>d.cleanupNull(e,t)).filter(e=>e)}if("@null"===e)return null;if(a.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=d.cleanupNull(e[n],t)}return e}},function(e,t,n){"use strict";const r=n(48),{isArray:i,isObject:a,isString:o,isUndefined:s}=n(42),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:p}=n(50),{expandIri:f,getContextValue:h,isKeyword:m,process:g,processingMode:v}=n(66),{removeBase:y,prependBase:b}=n(56),{addValue:w,asArray:x,compareShortestLeast:k}=n(46),C={};function E(e,t,n){if("@nest"!==f(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=C,C.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:f={},compactionMap:y=(()=>{})})=>{if(i(n)){let r=[];for(let i=0;i<n.length;++i){let a=await C.compact({activeCtx:e,activeProperty:t,element:n[i],options:f,compactionMap:y});null===a&&(a=await y({unmappedValue:n[i],activeCtx:e,activeProperty:t,parent:n,index:i,options:f}),void 0===a)||r.push(a)}if(f.compactArrays&&1===r.length){0===(h(e,t,"@container")||[]).length&&(r=r[0])}return r}const b=h(e,t,"@context");if(s(b)||(e=await g({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:f})),a(n)){if(f.link&&"@id"in n&&f.link.hasOwnProperty(n["@id"])){const e=f.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(c(n)||p(n)){const r=C.compactValue({activeCtx:e,activeProperty:t,value:n,options:f});return f.link&&p(n)&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:r})),r}if(l(n)){if((h(e,t,"@container")||[]).includes("@list"))return C.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:f,compactionMap:y})}const b="@reverse"===t,k={},T=e;c(n)||p(n)||(e=e.revertToPreviousContext());const _=h(T,t,"@context");s(_)||(e=await g({activeCtx:e,localCtx:_,propagate:!0,overrideProtected:!0,options:f})),f.link&&"@id"in n&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:k}));let S=n["@type"]||[];S.length>1&&(S=Array.from(S).sort());const O=e;for(const t of S){const n=C.compactIri({activeCtx:O,iri:t,relativeTo:{vocab:!0}}),r=h(T,n,"@context");s(r)||(e=await g({activeCtx:e,localCtx:r,options:f,propagate:!1}))}const A=Object.keys(n).sort();for(const s of A){const p=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&m(s)){const t=C.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(k,t,p)}else{if(!i(p))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=C.compactIri({activeCtx:e,iri:s,value:p,relativeTo:{vocab:!0},reverse:b}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=k;n&&(E(e,n,f),a(k[n])||(k[n]={}),r=k[n]),w(r,t,p,{propertyIsArray:!0})}for(const t of p){const n=C.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let p=k;r&&(E(e,r,f),a(k[r])||(k[r]={}),p=k[r]);const m=h(e,n,"@container")||[],g=u(t),v=l(t);let T;v?T=t["@list"]:g&&(T=t["@graph"]);let _=await C.compact({activeCtx:e,activeProperty:n,element:v||g?T:t,options:f,compactionMap:y});if(v){if(i(_)||(_=[_]),m.includes("@list")){w(p,n,_,{valueIsArray:!0,allowDuplicate:!0});continue}_={[C.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:_},"@index"in t&&(_[C.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(g)if(m.includes("@graph")&&(m.includes("@id")||m.includes("@index")&&d(t))){let r;p.hasOwnProperty(n)?r=p[n]:p[n]=r={};const i=(m.includes("@id")?t["@id"]:t["@index"])||C.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});w(r,i,_,{propertyIsArray:!f.compactArrays||m.includes("@set")})}else m.includes("@graph")&&d(t)?(i(_)&&_.length>1&&(_={"@included":_}),w(p,n,_,{propertyIsArray:!f.compactArrays||m.includes("@set")})):(i(_)&&1===_.length&&f.compactArrays&&(_=_[0]),_={[C.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:_},"@id"in t&&(_[C.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(_[C.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),w(p,n,_,{propertyIsArray:!f.compactArrays||m.includes("@set")}));else if(m.includes("@language")||m.includes("@index")||m.includes("@id")||m.includes("@type")){let r,i;if(p.hasOwnProperty(n)?r=p[n]:p[n]=r={},m.includes("@language"))c(_)&&(_=_["@value"]),i=t["@language"];else if(m.includes("@index")){const r=h(e,n,"@index")||"@index",a=C.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete _[a];else{let e;if([i,...e]=x(_[r]||[]),o(i))switch(e.length){case 0:delete _[r];break;case 1:_[r]=e[0];break;default:_[r]=e}else i=null}}else if(m.includes("@id")){const t=C.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=_[t],delete _[t]}else if(m.includes("@type")){const r=C.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let a;switch([i,...a]=x(_[r]||[]),a.length){case 0:delete _[r];break;case 1:_[r]=a[0];break;default:_[r]=a}1===Object.keys(_).length&&"@id"in t&&(_=await C.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:f,compactionMap:y}))}i||(i=C.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),w(r,i,_,{propertyIsArray:m.includes("@set")})}else{const e=!f.compactArrays||m.includes("@set")||m.includes("@list")||i(_)&&0===_.length||"@list"===s||"@graph"===s;w(p,n,_,{propertyIsArray:e})}}}else{if((h(e,t,"@container")||[]).includes("@index"))continue;const n=C.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(k,n,p)}else{const n=await C.compact({activeCtx:e,activeProperty:t,element:p,options:f,compactionMap:y});i(n)&&0===n.length||w(k,s,n)}else{const t=await C.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:f,compactionMap:y});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],i=(h(e,n,"@container")||[]).includes("@set")||!f.compactArrays;w(k,n,r,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=C.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(k,n,t)}}else{let t=x(p).map(e=>C.compactIri({activeCtx:T,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const n=C.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=(h(e,n,"@container")||[]).includes("@set")&&v(e,1.1)||i(t)&&0===p.length;w(k,n,t,{propertyIsArray:r})}else{let t=x(p).map(t=>C.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:f.base}));1===t.length&&(t=t[0]);k[C.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return k}return n},C.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:i={vocab:!1},reverse:o=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(m(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){const r=e["@language"]||"@none",i=[];a(n)&&"@index"in n&&!("@graph"in n)&&i.push("@index","@index@set"),a(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u(n)?("@index"in n&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in n||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||i.push("@graph@id","@graph@id@set")):a(n)&&!c(n)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(o)s="@type",d="@reverse",i.push("@set");else if(l(n)){"@index"in n||i.push("@list");const e=n["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const i=e[r];let a="@none",o="@none";if(c(i))if("@direction"in i){a=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`}else"@language"in i?a=i["@language"].toLowerCase():"@type"in i?o=i["@type"]:a="@null";else o="@id";if(null===t?t=a:a!==t&&c(i)&&(t="@none"),null===n?n=o:o!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",d=n):d=t}}else{if(c(n))if("@language"in n&&!("@index"in n)){i.push("@language","@language@set"),d=n["@language"];const e=n["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in n&&!("@index"in n)?d="_"+n["@direction"]:"@type"in n&&(s="@type",d=n["@type"]);else s="@type",d="@id";i.push("@set")}i.push("@none"),a(n)&&!("@index"in n)&&i.push("@index","@index@set"),c(n)&&1===Object.keys(n).length&&i.push("@language","@language@set");const p=function(e,t,n,r,i,o){null===o&&(o="@null");const s=[];if(("@id"===o||"@reverse"===o)&&a(n)&&"@id"in n){"@reverse"===o&&s.push("@reverse");const t=C.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const l=e.inverse[t];for(const e of r){if(!(e in l))continue;const t=l[e][i];for(const e of s)if(e in t)return t[e]}return null}(e,t,n,i,s,d);if(null!==p)return p}if(i.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let p=null;const f=[];let h=e.fastCurieMap;const g=t.length-1;for(let e=0;e<g&&t[e]in h;++e)h=h[t[e]],""in h&&f.push(h[""][0]);for(let r=f.length-1;r>=0;--r){const i=f[r],a=i.terms;for(const r of a){const a=r+":"+t.substr(i.iri.length);e.mappings.get(r)._prefix&&(!e.mappings.has(a)||null===n&&e.mappings.get(a)["@id"]===t)&&(null===p||k(a,p)<0)&&(p=a)}}if(null!==p)return p;for(const[n,i]of e.mappings)if(i&&i._prefix&&t.startsWith(n+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${n}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:"@base"in e?e["@base"]?y(b(s,e["@base"]),t):t:y(s,t)},C.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(c(n)){const r=h(e,t,"@type"),i=h(e,t,"@language"),a=h(e,t,"@direction"),s=h(e,t,"@container")||[],l="@index"in n&&!s.includes("@index");if(!l&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===i&&"@direction"in n&&n["@direction"]===a)return n["@value"];if("@language"in n&&n["@language"]===i)return n["@value"];if("@direction"in n&&n["@direction"]===a)return n["@value"]}const c=Object.keys(n).length,u=1===c||2===c&&"@index"in n&&!l,d="@language"in e,p=o(n["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==r&&(!d||!p||f))return n["@value"];const m={};return l&&(m[C.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?m[C.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=C.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(m[C.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(m[C.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),m[C.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],m}const i=f(e,t,{vocab:!0},r),a=h(e,t,"@type"),s=C.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===a},base:r.base});return"@id"===a||"@vocab"===a||"@graph"===i?s:{[C.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},function(e,t,n){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(198),i=n(199),a=n(200);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return q(U(t,e.length-n),e,n,r)}function x(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function C(e,t,n,r){return q(z(t),e,n,r)}function E(e,t,n,r){return q(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=B(e[a]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,a){return a||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return a||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:U(new l(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(65))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=h,o/=256,c-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aclControl=t.acl=void 0;var r=n(90),i=n(140),a={adoptACLDefault:r.adoptACLDefault,readACL:r.readACL,sameACL:r.sameACL,ACLunion:r.ACLunion,loadUnionACL:r.loadUnionACL,ACLbyCombination:r.ACLbyCombination,makeACLGraph:r.makeACLGraph,makeACLGraphbyCombo:r.makeACLGraphbyCombo,ACLToString:r.ACLToString,comboToString:r.comboToString,makeACLString:r.makeACLString,putACLObject:r.putACLObject,putACLbyCombo:r.putACLbyCombo,fixIndividualCardACL:r.fixIndividualCardACL,fixIndividualACL:r.fixIndividualACL,setACL:r.setACL,getACLorDefault:r.getACLorDefault,getACL:r.getACL};t.acl=a;var o={preventBrowserDropEvents:i.preventBrowserDropEvents,shortNameForFolder:i.shortNameForFolder,ACLControlBox5:i.ACLControlBox5};t.aclControl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoAuthnLogic=void 0;var r=function(){function e(){console.warn("no auth client passed to solid-logic, logic that relies on auth is not available")}return e.prototype.currentUser=function(){return null},e}();t.NoAuthnLogic=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolidAuthClientAuthnLogic=void 0;var r=n(3),i=function(){function e(e){var t=this;e.trackSession((function(e){t.session=e}))}return e.prototype.currentUser=function(){var e,t;return(null===(e=this.session)||void 0===e?void 0:e.webId)?r.sym(null===(t=this.session)||void 0===t?void 0:t.webId):null},e}();t.SolidAuthClientAuthnLogic=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatLogic=void 0;var o=n(3),s=n(205),l=n(206),c=function(){function e(e,t,n){this.store=e,this.ns=t,this.profile=n}return e.prototype.setAcl=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.store.fetcher.load(e)];case 1:if(a.sent(),!(r=this.store.any(e,new o.NamedNode("http://www.iana.org/assignments/link-relations/acl"))))throw new Error("Chat ACL doc not found!");return i="\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#owner>\n    a acl:Authorization;\n    acl:agent <"+t.value+">;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Write, acl:Control.\n<#invitee>\n    a acl:Authorization;\n    acl:agent <"+n.value+">;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Append.\n",[4,this.store.fetcher.webOperation("PUT",r.value,{data:i,contentType:"text/turtle"})];case 2:return a.sent(),[2]}}))}))},e.prototype.addToPrivateTypeIndex=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,l=this;return a(this,(function(a){switch(a.label){case 0:if(!(n=this.store.any(t,this.ns.solid("privateTypeIndex"))))throw new Error("Private type index not found!");return[4,this.store.fetcher.load(n)];case 1:return a.sent(),r=s.newThing(n),i=[o.st(r,this.ns.rdf("type"),this.ns.solid("TypeRegistration"),n.doc()),o.st(r,this.ns.solid("forClass"),this.ns.meeting("LongChat"),n.doc()),o.st(r,this.ns.solid("instance"),e,n.doc())],[4,new Promise((function(e,t){l.store.updater.update([],i,(function(n,r,i){r?e(null):t(new Error(i))}))}))];case 2:return a.sent(),[2]}}))}))},e.prototype.findChat=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.profile.loadMe()];case 1:return t=a.sent(),[4,this.profile.getPodRoot(t)];case 2:n=a.sent(),r=l.determineChatContainer(e,n),i=!0,a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.store.fetcher.load(new o.NamedNode(r.value+"index.ttl#this"))];case 4:return a.sent(),[3,6];case 5:return a.sent(),i=!1,[3,6];case 6:return[2,{me:t,chatContainer:r,exists:i}]}}))}))},e.prototype.createChatThing=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.mintNew({me:t,newBase:e.value})];case 1:return[2,n.sent().newInstance]}}))}))},e.prototype.mintNew=function(e){var t=this.store,n=t.updater;if(e.me&&!e.me.uri)throw new Error("chat mintNew:  Invalid userid "+e.me);var i=e.newInstance=e.newInstance||t.sym(e.newBase+"index.ttl#this"),a=i.doc();return t.add(i,this.ns.rdf("type"),this.ns.meeting("LongChat"),a),t.add(i,this.ns.dc("title"),"Chat channel",a),t.add(i,this.ns.dc("created"),o.term(new Date(Date.now())),a),e.me&&t.add(i,this.ns.dc("author"),e.me,a),new Promise((function(o,s){n.put(a,t.statementsMatching(void 0,void 0,void 0,a),"text/turtle",(function(t,n,a){n?o(r(r({},e),{newInstance:i})):s(new Error("FAILED to save new chat channel at: "+t+" : "+a))}))}))},e.prototype.getChat=function(e,t){return void 0===t&&(t=!0),i(this,void 0,void 0,(function(){var n,r,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,this.findChat(e)];case 1:return n=a.sent(),r=n.me,i=n.chatContainer,n.exists?[2,new o.NamedNode(i.value+"index.ttl#this")]:t?[4,this.createChatThing(i,r)]:[3,6];case 2:return s=a.sent(),[4,this.sendInvite(e,s)];case 3:return a.sent(),[4,this.setAcl(i,r,e)];case 4:return a.sent(),[4,this.addToPrivateTypeIndex(s,r)];case 5:return a.sent(),[2,s];case 6:return[2,null]}}))}))},e.prototype.sendInvite=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.store.fetcher.load(e.doc())];case 1:if(a.sent(),!(n=this.store.any(e,this.ns.ldp("inbox"),void 0,e.doc())))throw new Error("Invitee inbox not found! "+e.value);return r="\n<> a <http://www.w3.org/ns/pim/meeting#LongChatInvite> ;\n"+this.ns.rdf("seeAlso")+" <"+t.value+"> . \n  ",[4,this.store.fetcher.webOperation("POST",n.value,{data:r,contentType:"text/turtle"})];case 2:if(i=a.sent(),!i.headers.get("location"))throw new Error("Invite sending returned a "+i.status);return[2]}}))}))},e}();t.ChatLogic=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newThing=void 0;var r=n(3);t.newThing=function(e){return r.sym(e.uri+"#id"+Date.now())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.determineChatContainer=void 0;var r=n(3);t.determineChatContainer=function(e,t){var n=new URL("IndividualChats/"+new URL(e.value).host+"/",t.value).toString();return new r.NamedNode(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trace=t.error=t.warn=t.log=void 0,t.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},t.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,e)},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,e)},t.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.trace.apply(console,e)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileLogic=void 0;var a=function(){function e(e,t,n){this.store=e,this.ns=t,this.authn=n}return e.prototype.loadMe=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(null===(e=this.authn.currentUser()))throw new Error("Current user not found! Not logged in?");return[4,this.store.fetcher.load(e.doc())];case 1:return t.sent(),[2,e]}}))}))},e.prototype.getPodRoot=function(e){var t=this.findStorage(e);if(!t)throw new Error("User pod root not found!");return t},e.prototype.getMainInbox=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.store.fetcher.load(e)];case 1:if(n.sent(),!(t=this.store.any(e,this.ns.ldp("inbox"),void 0,e.doc())))throw new Error("User main inbox not found!");return[2,t]}}))}))},e.prototype.findStorage=function(e){return this.store.any(e,this.ns.space("storage"),void 0,e.doc())},e}();t.ProfileLogic=a},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.label=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){return t?e.slice(0,1).toUpperCase()+e.slice(1):e}function r(e){var t="";"/"===e.slice(-1)&&(e=e.slice(0,-1));for(var r=0;r<e.length;r++)"_"!==e[r]&&"-"!==e[r]?(t+=e[r],r+1<e.length&&e[r].toUpperCase()!==e[r]&&e[r+1].toLowerCase()!==e[r+1]&&(t+=" ")):t+=" ";return"has "===t.slice(0,4)&&(t=t.slice(4)),n(t)}var i=u(e);if(i)return n(i.value);if("BlankNode"===e.termType)return"...";if("Collection"===e.termType)return"("+e.elements.length+")";var a=e.uri;if(void 0===a)return e.toString();try{a=a.split("/").map(decodeURIComponent).join("/")}catch(e){for(var o=a.length-3;o>0;o--)for(var s="0123456789abcefABCDEF";"%"===a[o]&&s.indexOf(a[o+1])>=0&&s.indexOf(a[o+2])>=0;)a=a.slice(0,o)+String.fromCharCode(parseInt(a.slice(o+1,o+3),16))+a.slice(o+3)}a=c(a,"/profile/card#me"),a=c(a,"#this");var l=(a=c(a,"#me")).indexOf("#");if(l>=0)return r(a.slice(l+1));var d=a.lastIndexOf("/",a.length-2);return d>=0&&d<e.uri.length?r(a.slice(d+1)):n(decodeURIComponent(e.uri))};var i=s(n(57)),a=n(20);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l={log:i,ns:s(n(16)),rdf:s(n(3)),store:a.store};function c(e,t){var n=-1*t.length;return e.slice(n)===t?e.slice(0,n):e}function u(e){return a.store.any(e,l.ns.ui("label"))||a.store.any(e,l.ns.link("message"))||a.store.any(e,l.ns.vcard("fn"))||a.store.any(e,l.ns.foaf("name"))||a.store.any(e,l.ns.dct("title"))||a.store.any(e,l.ns.dc("title"))||a.store.any(e,l.ns.rss("title"))||a.store.any(e,l.ns.contact("fullName"))||a.store.any(e,a.store.sym("http://www.w3.org/2001/04/roadmap/org#name"))||a.store.any(e,l.ns.cal("summary"))||a.store.any(e,l.ns.foaf("nick"))||a.store.any(e,l.ns.as("name"))||a.store.any(e,l.ns.schema("name"))||a.store.any(e,l.ns.rdfs("label"))}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.AccessController=void 0;var a=r(n(10)),o=r(n(15)),s=r(n(7)),l=r(n(9)),c=r(n(1)),u=n(90),d=n(3),p=n(211),f=n(140),h=n(72),m=b(n(27)),g=b(n(24)),v=r(n(16));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var w=function(){function e(t,n,r,i,a,o,l,d,f,h,m,g,v){if((0,s.default)(this,e),this.subject=t,this.noun=n,this.context=r,this.statusElement=i,this.classes=a,this.targetIsProtected=o,this.targetDoc=l,this.targetACLDoc=d,this.defaultHolder=f,this.defaultACLDoc=h,this.prospectiveDefaultHolder=m,this.store=g,this.dom=v,(0,c.default)(this,"mainCombo",void 0),(0,c.default)(this,"defaultsCombo",void 0),(0,c.default)(this,"isContainer",void 0),(0,c.default)(this,"defaultsDiffer",void 0),(0,c.default)(this,"rootElement",void 0),(0,c.default)(this,"isUsingDefaults",void 0),this.rootElement=v.createElement("div"),this.rootElement.classList.add(a.aclGroupContent),this.isContainer="/"===l.uri.slice(-1),f&&h){this.isUsingDefaults=!0;var y=(0,u.adoptACLDefault)(this.targetDoc,d,f,h);this.mainCombo=new p.AccessGroups(l,d,this,y,{defaults:this.isContainer}),this.defaultsCombo=null,this.defaultsDiffer=!1}else this.isUsingDefaults=!1,this.mainCombo=new p.AccessGroups(l,d,this,g),this.defaultsCombo=new p.AccessGroups(l,d,this,g,{defaults:this.isContainer}),this.defaultsDiffer=!(0,u.sameACL)(this.mainCombo.aclMap,this.defaultsCombo.aclMap)}var t,n,r,i;return(0,l.default)(e,[{key:"isEditable",get:function(){return!this.isUsingDefaults}},{key:"render",value:function(){if(this.rootElement.innerHTML="",this.isUsingDefaults){if(this.renderStatus("The sharing for this ".concat(this.noun," is the default for folder ")),this.defaultHolder){var e=this.statusElement.appendChild(this.dom.createElement("a"));e.href=this.defaultHolder.uri,e.innerText=(0,f.shortNameForFolder)(this.defaultHolder)}}else this.defaultsDiffer?this.renderStatus(""):this.renderStatus("This is also the default for things in this folder.");return this.rootElement.appendChild(this.mainCombo.render()),this.defaultsCombo&&this.defaultsDiffer?(this.rootElement.appendChild(this.renderRemoveDefaultsController()),this.rootElement.appendChild(this.defaultsCombo.render())):this.isEditable&&this.isContainer&&this.rootElement.appendChild(this.renderAddDefaultsController()),!this.targetIsProtected&&this.isUsingDefaults?this.rootElement.appendChild(this.renderAddAclsController()):this.targetIsProtected||this.rootElement.appendChild(this.renderRemoveAclsController()),this.rootElement}},{key:"renderRemoveAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Remove custom sharing settings for this ".concat(this.noun," -- just use default").concat(this.prospectiveDefaultHolder?" for ".concat(m.label(this.prospectiveDefaultHolder)):""),t.classList.add(this.classes.bigButton),t.addEventListener("click",(function(){return e.removeAcls().then((function(){return e.render()})).catch((function(t){return e.renderStatus(t)}))})),t}},{key:"renderAddAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Set specific sharing for this ".concat(this.noun),t.classList.add(this.classes.bigButton),t.addEventListener("click",(function(){return e.addAcls().then((function(){return e.render()})).catch((function(t){return e.renderStatus(t)}))})),t}},{key:"renderAddDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.classList.add(this.classes.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Sharing for things within the folder currently tracks sharing for the folder.",n.classList.add(this.classes.defaultsControllerNotice);var r=t.appendChild(this.dom.createElement("button"));return r.innerText="Set the sharing of folder contents separately from the sharing for the folder",r.classList.add(this.classes.bigButton),r.addEventListener("click",(function(){return e.addDefaults().then((function(){return e.render()}))})),t}},{key:"renderRemoveDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.classList.add(this.classes.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Access to things within this folder:",n.classList.add(this.classes.defaultsControllerNotice);var r=t.appendChild(this.dom.createElement("button"));return r.innerText="Set default for folder contents to just track the sharing for the folder",r.classList.add(this.classes.bigButton),r.addEventListener("click",(function(){return e.removeDefaults().then((function(){return e.render()})).catch((function(t){return e.renderStatus(t)}))})),t}},{key:"renderTemporaryStatus",value:function(e){var t=this;this.statusElement.classList.add(this.classes.aclControlBoxStatusRevealed),this.statusElement.innerText=e,this.statusElement.classList.add(this.classes.temporaryStatusInit),setTimeout((function(){t.statusElement.classList.add(t.classes.temporaryStatusEnd)})),setTimeout((function(){t.statusElement.innerText=""}),5e3)}},{key:"renderStatus",value:function(e){this.statusElement.classList.toggle(this.classes.aclControlBoxStatusRevealed,!!e),this.statusElement.innerText=e}},{key:"addAcls",value:(i=(0,o.default)(a.default.mark((function e(){var t,n,r=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.defaultHolder&&this.defaultACLDoc){e.next=4;break}return t="Unable to find defaults to copy",g.error(t),e.abrupt("return",Promise.reject(t));case 4:return(0,u.adoptACLDefault)(this.targetDoc,this.targetACLDoc,this.defaultHolder,this.defaultACLDoc).statements.forEach((function(e){return r.store.add(e.subject,e.predicate,e.object,r.targetACLDoc)})),e.prev=6,e.next=9,this.store.fetcher.putBack(this.targetACLDoc);case 9:return this.isUsingDefaults=!1,e.abrupt("return",Promise.resolve());case 13:return e.prev=13,e.t0=e.catch(6),n=" Error writing back access control file! ".concat(e.t0),g.error(n),e.abrupt("return",Promise.reject(n));case 18:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(){return i.apply(this,arguments)})},{key:"addDefaults",value:(r=(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.defaultsCombo=new p.AccessGroups(this.targetDoc,this.targetACLDoc,this,this.store,{defaults:!0}),this.defaultsDiffer=!0;case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"removeAcls",value:(n=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.store.fetcher.delete(this.targetACLDoc.uri,{});case 3:return this.isUsingDefaults=!0,e.prev=4,e.next=7,(0,u.getProspectiveHolder)(this.targetDoc.uri);case 7:this.prospectiveDefaultHolder=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),g.warn(e.t0);case 13:e.next=20;break;case 15:return e.prev=15,e.t1=e.catch(0),t="Error deleting access control file: ".concat(this.targetACLDoc,": ").concat(e.t1),g.error(t),e.abrupt("return",Promise.reject(t));case 20:case"end":return e.stop()}}),e,this,[[0,15],[4,10]])}))),function(){return n.apply(this,arguments)})},{key:"removeDefaults",value:(t=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.defaultsCombo,e.prev=1,this.defaultsCombo=null,this.defaultsDiffer=!1,e.next=6,this.save();case 6:e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(1),this.defaultsCombo=t,this.defaultsDiffer=!0,g.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"save",value:function(){var e=this,t=(0,d.graph)();this.isContainer?this.defaultsCombo&&this.defaultsDiffer?((0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),(0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.defaultsCombo.byCombo,this.targetACLDoc,!1,!0)):(0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0,!0):(0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0);var n=t.updater||new d.UpdateManager(t);return new Promise((function(r,i){var a=t.any(void 0,v.default.acl("mode"),v.default.acl("Write"),e.targetACLDoc),o=t.any(void 0,v.default.acl("mode"),v.default.acl("Control"),e.targetACLDoc),s=(0,h.currentUser)(),l=s?s.uri:"user";return a?o||confirm('There is no "owner access" -- this is a dangerous situation !!!,'+"\n".concat(l,",\nyou may lose access to the resources covered by this ACL !!!")+"\n\nDo you confirm ?")?void n.put(e.targetACLDoc,t.statementsMatching(void 0,void 0,void 0,e.targetACLDoc),"text/turtle",(function(n,a,o){if(!a)return i(new Error("ACL file save failed: ".concat(o)));e.store.fetcher.unload(e.targetACLDoc),e.store.add(t.statements),e.store.fetcher.requested[e.targetACLDoc.uri]="done",e.mainCombo.store=e.store,e.defaultsCombo&&(e.defaultsCombo.store=e.store),e.defaultsDiffer=!!e.defaultsCombo&&!(0,u.sameACL)(e.mainCombo.aclMap,e.defaultsCombo.aclMap),g.log("ACL modification: success!"),r()})):i(new Error("ACL file save canceled by user")):(alert('There is no "Write access" this is not allowed'),i(new Error("ACL file save rejected : no acl:Write")))}))}}]),e}();t.AccessController=w},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.AccessGroups=void 0;var a=r(n(10)),o=r(n(15)),s=r(n(111)),l=r(n(7)),c=r(n(9)),u=r(n(1)),d=n(3),p=n(90),f=y(n(28)),h=y(n(16)),m=n(230),g=y(n(24));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var b=h.acl,w={13:"Owners",9:"Owners (write locked)",5:"Editors",3:"Posters",2:"Submitters",1:"Viewers"},x={13:!0,5:!0,3:!0,2:!0,1:!0},k={13:"can read, write, and control sharing.",9:"can read and control sharing, currently write-locked.",5:"can read and change information",3:"can add new information, and read but not change existing information",2:"can add new information but not read any",1:"can read but not change information"},C=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,l.default)(this,e),this.doc=t,this.aclDoc=n,this.controller=r,this.options=a,(0,u.default)(this,"defaults",void 0),(0,u.default)(this,"byCombo",void 0),(0,u.default)(this,"aclMap",void 0),(0,u.default)(this,"addAgentButton",void 0),(0,u.default)(this,"rootElement",void 0),(0,u.default)(this,"_store",void 0),this.defaults=a.defaults||!1,(0,d.fetcher)(i,{}),this._store=i,this.aclMap=(0,p.readACL)(t,n,i,this.defaults),this.byCombo=(0,p.ACLbyCombination)(this.aclMap),this.addAgentButton=new m.AddAgentButtons(this),this.rootElement=this.controller.dom.createElement("div"),this.rootElement.classList.add(this.controller.classes.accessGroupList)}var t,n,r,i;return(0,c.default)(e,[{key:"store",get:function(){return this._store},set:function(e){this._store=e,this.aclMap=(0,p.readACL)(this.doc,this.aclDoc,e,this.defaults),this.byCombo=(0,p.ACLbyCombination)(this.aclMap)}},{key:"render",value:function(){var e=this;return this.rootElement.innerHTML="",this.renderGroups().forEach((function(t){return e.rootElement.appendChild(t)})),this.controller.isEditable&&this.rootElement.appendChild(this.addAgentButton.render()),this.rootElement}},{key:"renderGroups",value:function(){for(var e=[],t=15;t>0;t--){var n=E(t);(this.controller.isEditable&&x[t]||this.byCombo[n])&&e.push(this.renderGroup(t,n))}return e}},{key:"renderGroup",value:function(e,t){var n=this,r=this.controller.dom.createElement("div");return r.classList.add(this.controller.classes.accessGroupListItem),f.makeDropTarget(r,(function(e){return n.handleDroppedUris(e,t).then((function(){return n.controller.render()})).catch((function(e){return n.controller.renderStatus(e)}))})),this.renderGroupElements(e,t).forEach((function(e){return r.appendChild(e)})),r}},{key:"renderGroupElements",value:function(e,t){var n=this,r=this.controller.dom.createElement("div");r.classList.add(this.controller.classes.group),r.classList.toggle(this.controller.classes["group-".concat(e)],this.controller.isEditable),r.innerText=w[e]||function(e){for(var t="",n=["Read","Append","Write","Control"],r=0;r<4;r++)e&1<<r&&(t+=n[r]);return t}(e);var i=this.controller.dom.createElement("div");i.classList.add(this.controller.classes.group),i.classList.toggle(this.controller.classes["group-".concat(e)],this.controller.isEditable);var a=i.appendChild(this.controller.dom.createElement("table"));(this.byCombo[t]||[]).map((function(e){var r=(0,s.default)(e,2),i=r[0],o=r[1];return n.renderAgent(a,t,i,o)})).forEach((function(e){return a.appendChild(e)}));var o=this.controller.dom.createElement("div");return o.classList.add(this.controller.classes.group),o.classList.toggle(this.controller.classes["group-".concat(e)],this.controller.isEditable),o.innerText=k[e]||"Unusual combination",[r,i,o]}},{key:"renderAgent",value:function(e,t,n,r){var i=this,a=f.personTR(this.controller.dom,b(n),(0,d.sym)(r),this.controller.isEditable?{deleteFunction:function(){return i.deleteAgent(t,n,r).then((function(){return e.removeChild(a)})).catch((function(e){return i.controller.renderStatus(e)}))}}:{});return a}},{key:"deleteAgent",value:(i=(0,o.default)(a.default.mark((function e(t,n,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.byCombo[t]||[],(o=i.find((function(e){var t=(0,s.default)(e,2),i=t[0],a=t[1];return i===n&&a===r})))&&i.splice(i.indexOf(o),1),e.next=5,this.controller.save();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"addNewURI",value:(r=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleDroppedUri(t,E(1));case 2:return e.next=4,this.controller.save();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"handleDroppedUris",value:(n=(0,o.default)(a.default.mark((function e(t,n){var r=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map((function(e){return r.handleDroppedUri(e,n)})));case 3:return e.next=5,this.controller.save();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return n.apply(this,arguments)})},{key:"handleDroppedUri",value:(t=(0,o.default)(a.default.mark((function e(t,n){var r,i,o,s,l,c=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]&&c[2],i=T(t,this.store),o=(0,d.sym)(t),i||r){e.next=18;break}return g.log("   Not obvious: looking up dropped thing ".concat(o)),e.prev=5,e.next=8,this._store.fetcher.load(o.doc());case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(5),s="Ignore error looking up dropped thing: ".concat(e.t0),g.error(s),e.abrupt("return",Promise.reject(new Error(s)));case 15:return e.abrupt("return",this.handleDroppedUri(t,n,!0));case 18:if(i){e.next=22;break}return l="   Error: Drop fails to drop appropriate thing! ".concat(t),g.error(l),e.abrupt("return",Promise.reject(new Error(l)));case 22:this.setACLCombo(n,t,i,this.controller.subject);case 23:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e,n){return t.apply(this,arguments)})},{key:"setACLCombo",value:function(e,t,n,r){e in this.byCombo||(this.byCombo[e]=[]),this.removeAgentFromCombos(t),this.byCombo[e].push([n.pred,n.obj.uri]),g.log("ACL: setting access to ".concat(r," by ").concat(n.pred,": ").concat(n.obj))}},{key:"removeAgentFromCombos",value:function(e){for(var t=0;t<16;t++){var n=this.byCombo[E(t)];if(n)for(var r=0;r<n.length;r++)for(;r<n.length&&n[r][1]===e;)n.splice(r,1)}}}]),e}();function E(e){for(var t=["Read","Append","Write","Control"],n=[],r=0;r<4;r++)e&1<<r&&n.push("http://www.w3.org/ns/auth/acl#"+t[r]);return n.sort(),n.join("\n")}function T(e,t){var n=(0,d.sym)(e),r=t.findTypeURIs(n);for(var i in r)g.log("    drop object type includes: "+i);if(e.startsWith("http")&&3===e.split("/").length)return{pred:"origin",obj:n};if(e.startsWith("http")&&4===e.split("/").length&&e.endsWith("/"))return g.log("Assuming final slash on dragged origin URI was unintended!"),{pred:"origin",obj:(0,d.sym)(e.slice(0,-1))};if(h.vcard("WebID").uri in r)return{pred:"agent",obj:n};if(h.vcard("Group").uri in r)return{pred:"agentGroup",obj:n};if(n.sameTerm(h.foaf("Agent"))||n.sameTerm(h.acl("AuthenticatedAgent"))||n.sameTerm(h.rdf("Resource"))||n.sameTerm(h.owl("Thing")))return{pred:"agentClass",obj:n};if(h.vcard("Individual").uri in r||h.foaf("Person").uri in r||h.foaf("Agent").uri in r){var a=t.any(n,h.foaf("preferredURI"));return a?{pred:"agent",obj:(0,d.sym)(a)}:{pred:"agent",obj:n}}return h.solid("AppProvider").uri in r?{pred:"origin",obj:n}:h.solid("AppProviderClass").uri in r?{pred:"originClass",obj:n}:(g.log("    Triage fails for "+e),null)}t.AccessGroups=C},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(215);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.Person=t.GroupBuilder=t.Group=t.GroupPicker=t.PeoplePicker=void 0;var a,o=r(n(218)),s=r(n(7)),l=r(n(9)),c=r(n(219)),u=r(n(412)),d=y(n(3)),p=y(n(24)),f=n(112),h=n(71),m=n(38),g=y(n(16));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var b=n(20).solidLogicSingleton.store,w=function(){function e(t,n,r,i){(0,s.default)(this,e),this.options=i||{},this.element=t,this.typeIndex=n,this.groupPickedCb=r,this.selectedgroup=this.options.selectedgroup,this.onSelectGroup=this.onSelectGroup.bind(this)}return(0,l.default)(e,[{key:"render",value:function(){var e=this,t=document.createElement("div");if(t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",this.selectedgroup){t.style.flexDirection="column";var n=document.createElement("div");new k(n,this.selectedgroup).render();var r=document.createElement("button");r.textContent=(0,c.default)("Change group"),r.addEventListener("click",(function(t){e.selectedgroup=null,e.render()})),t.appendChild(n),t.appendChild(r)}else this.findAddressBook(this.typeIndex).then((function(n){var r=n.book,i=document.createElement("button");i.textContent=(0,c.default)("Pick an existing group"),i.style.margin="auto",i.addEventListener("click",(function(n){new x(t,r,e.onSelectGroup).render()}));var a=document.createElement("button");a.textContent=(0,c.default)("Create a new group"),a.style.margin="auto",a.addEventListener("click",(function(t){e.createNewGroup(r,e.options.defaultNewGroupName).then((function(t){var n=t.group;new C(e.element,r,n,e.onSelectGroup).render()})).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("Error creating a new group. (".concat(t,")"))))}))})),t.appendChild(i),t.appendChild(a),e.element.innerHTML="",e.element.appendChild(t)})).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("Could find your groups. (".concat(t,")"))))}));return this.element.innerHTML="",this.element.appendChild(t),this}},{key:"findAddressBook",value:function(e){return new Promise((function(t,n){b.fetcher.nowOrWhenFetched(e,(function(r,i){if(!r)return n(i);var a=b.any(null,g.solid("forClass"),g.vcard("AddressBook"));if(!a)return n(new Error("no address book registered in the solid type index "+e));var o=b.any(a,g.solid("instance"));if(!o)return n(new Error("incomplete address book registration"));b.fetcher.load(o).then((function(e){return t({book:o})})).catch((function(e){return n(new Error("Could not load address book "+e))}))}))}))}},{key:"createNewGroup",value:function(e,t){var n=S(e),r=n.groupIndex,i=n.groupContainer,a=d.sym("".concat(i.uri).concat(u.default.v4().slice(0,8),".ttl#this")),o=t||"Untitled Group",s=[a.doc(),r].map((function(t){var n=d.st(a,g.rdf("type"),g.vcard("Group"),t),i=d.st(a,g.vcard("fn"),o,a.doc(),t),s=d.st(e,g.vcard("includesGroup"),a,t),l=t.equals(r)?[n,i,s]:[n,i];return _(t.uri,{toIns:l}).then((function(){l.forEach((function(e){b.add(e)}))}))}));return Promise.all(s).then((function(){return{group:a}})).catch((function(e){throw p.log("Could not create new group.  PATCH failed "+e),new Error("Couldn't create new group.  PATCH failed for (".concat(e.xhr?e.xhr.responseURL:""," )"))}))}},{key:"onSelectGroup",value:function(e){this.selectedgroup=e,this.groupPickedCb(e),this.render()}}]),e}();t.PeoplePicker=w;var x=function(){function e(t,n,r){(0,s.default)(this,e),this.element=t,this.book=n,this.onSelectGroup=r}return(0,l.default)(e,[{key:"render",value:function(){var e=this;return this.loadGroups().then((function(t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",t.forEach((function(t){var r=document.createElement("button");r.addEventListener("click",e.handleClickGroup(t)),new k(r,t).render(),n.appendChild(r)})),e.element.innerHTML="",e.element.appendChild(n)})).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("There was an error loading your groups. (".concat(t,")"))))})),this}},{key:"loadGroups",value:function(){var e=this;return new Promise((function(t,n){var r=S(e.book).groupIndex;b.fetcher.nowOrWhenFetched(r,(function(r,i){if(!r)return n(i);var a=b.each(e.book,g.vcard("includesGroup"));return t(a)}))}))}},{key:"handleClickGroup",value:function(e){var t=this;return function(n){t.onSelectGroup(e)}}}]),e}();t.GroupPicker=x;var k=function(){function e(t,n){(0,s.default)(this,e),this.element=t,this.group=n}return(0,l.default)(e,[{key:"render",value:function(){var e=document.createElement("div");return e.textContent=(0,c.default)(T(this.group,g.vcard("fn"),"[".concat(this.group.value,"]"))),this.element.innerHTML="",this.element.appendChild(e),this}}]),e}();t.Group=k;var C=function(){function e(t,n,r,i,a){(0,s.default)(this,e),this.element=t,this.book=n,this.group=r,this.onGroupChanged=function(e,t,n){a&&a(e,t,n)},this.groupChangedCb=a,this.doneBuildingCb=i}return(0,l.default)(e,[{key:"refresh",value:function(){}},{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",t.style.flexDirection="column",(0,f.makeDropTarget)(t,(function(t){t.forEach((function(t){e.add(t).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("Could not add the given WebId. (".concat(t,")"))))}))}))}));var n=document.createElement("input");n.type="text",n.value=T(this.group,g.vcard("fn"),"Untitled Group"),n.addEventListener("change",(function(t){e.setGroupName(t.target.value).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,"Error changing group name. (".concat(t,")")))}))}));var r=document.createElement("label");if(r.textContent=(0,c.default)("Group Name:"),r.appendChild(n),t.appendChild(r),b.any(this.group,g.vcard("hasMember")))b.match(this.group,g.vcard("hasMember")).forEach((function(n){var r=n.object,i=document.createElement("div");new E(i,r,e.handleRemove(r)).render(),t.appendChild(i)}));else{var i=document.createElement("p");i.textContent=(0,c.default)(a||(a=(0,o.default)(["\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      "]))),t.appendChild(i)}var s=document.createElement("button");return s.textContent=(0,c.default)("Done"),s.addEventListener("click",(function(t){e.doneBuildingCb(e.group)})),t.appendChild(s),this.element.innerHTML="",this.element.appendChild(t),this}},{key:"add",value:function(e){var t=this;return new Promise((function(n,r){b.fetcher.nowOrWhenFetched(e,(function(i,a){if(!i)return t.onGroupChanged(a),r(a);var o=d.namedNode(e),s=b.any(o,g.rdf("type"));return s&&s.equals(g.foaf("Person"))?n(o):r(new Error("Only people supported right now. (tried to add something of type ".concat(s.value,")")))}))})).then((function(e){var n=d.st(t.group,g.vcard("hasMember"),e);return b.holdsStatement(n)?e:_(t.group.doc().uri,{toIns:[n]}).then((function(){n.why=t.group.doc(),b.add(n),t.onGroupChanged(null,"added",e),t.render()}))}))}},{key:"handleRemove",value:function(e){var t=this;return function(n){var r=d.st(t.group,g.vcard("hasMember"),e);return _(t.group.doc().uri,{toDel:[r]}).then((function(){return b.remove(r),t.onGroupChanged(null,"removed",e),t.render(),!0})).catch((function(t){var n=b.any(e,g.foaf("name")),r=n&&n.value?"Could not remove ".concat(n.value,". (").concat(t,")"):"Could not remove ".concat(e.value,". (").concat(t,")");throw new Error(r)}))}}},{key:"setGroupName",value:function(e){var t=this,n=S(this.book).groupIndex,r=[this.group.doc(),n].map((function(n){var r=b.match(t.group,g.vcard("fn"),null,n),i=d.st(t.group,g.vcard("fn"),d.literal(e));return _(n.value,{toDel:r,toIns:[i]}).then((function(e){b.removeStatements(r),i.why=n,b.add(i)}))}));return Promise.all(r)}}]),e}();t.GroupBuilder=C;var E=function(){function e(t,n,r){(0,s.default)(this,e),this.webIdNode=n,this.element=t,this.handleRemove=r}return(0,l.default)(e,[{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.display="flex";var n=T(this.webIdNode,g.foaf("img"),m.iconBase+"noun_15059.svg"),r=document.createElement("img");r.src=(0,c.default)(n),r.width="50",r.height="50",r.style.margin="5px";var i=T(this.webIdNode,g.foaf("name"),"[".concat(this.webIdNode,"]")),a=document.createElement("span");a.innerHTML=(0,c.default)(i),a.style.flexGrow="1",a.style.margin="auto 0";var o=document.createElement("button");return o.textContent="Remove",o.addEventListener("click",(function(t){return e.handleRemove().catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("".concat(t))))}))})),o.style.margin="5px",t.appendChild(r),t.appendChild(a),t.appendChild(o),this.element.innerHTML="",this.element.appendChild(t),this}}]),e}();function T(e,t,n){var r=b.any(e,t);return r?r.value:n}function _(e,t){var n=t.toDel,r=t.toIns;return new Promise((function(e,t){b.updater.update(n,r,(function(n,r,i){if(!r)return t(new Error("PATCH failed for resource <".concat(n,">: ").concat(i)));e()}))}))}function S(e){return{groupIndex:b.any(e,g.vcard("groupIndex")),groupContainer:b.sym(e.dir().uri+"Group/")}}t.Person=E},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;e.exports=function(e){var t,n=""+e,i=r.exec(n);if(!i)return n;var a="",o=0,s=0;for(o=i.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==o&&(a+=n.substring(s,o)),s=o+1,a+=t}return s!==o?a+n.substring(s,o):a}},function(e,t,n){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
e.exports=n(221)},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,l=0;l<o;l++)if(i[l]!==a[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(132))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.editFormButton=function(e,t,n,r,i){var a=e.createElement("button");return a.setAttribute("type","button"),a.innerHTML="Edit "+x.label(y.ui("Form")),a.addEventListener("click",(function(o){O(e,t,{},n,y.ui("FormForm"),r,i).setAttribute("style",y.ui("FormForm").sameTerm(n)?"background-color: #fee;":"background-color: #ffffe7;"),a.parentNode.removeChild(a)}),!0),a},t.appendForm=O,t.propertiesForClass=function(e,t){var n=e.each(void 0,y.rdf("range"),t);[y.rdfs("comment"),y.dc("title"),y.foaf("name"),y.foaf("homepage")].forEach((function(e){n.push(e)}));var r=e.each(void 0,y.rdf("type"),t);r.length>60&&(r=r.slice(0,60));for(var i={},a=0;a<(r.length>60?60:r.length);a++)e.statementsMatching(r[a],void 0,void 0).forEach((function(e){i[e.predicate.uri]=!0}));n.forEach((function(e){i[e.uri]=!0}));var o=[];for(var s in i)o.push(e.sym(s));return o},t.findClosest=A,t.formsFor=function(e){var t=w.store;v.debug("formsFor: subject="+e);var n,r=t.findTypeURIs(e);for(n in r)v.debug("   type: "+n);var i=t.bottomTypeURIs(r),a=[];for(var o in i)v.debug("candidatesFor: trying bottom type ="+o),a=(a=a.concat(A(t,o,y.ui("creationForm")))).concat(A(t,o,y.ui("annotationForm")));return a},t.sortBySequence=j,t.sortByLabel=P,t.newButton=function(e,t,n,r,i,a,o,s){var l=e.createElement("button");return l.setAttribute("type","button"),l.innerHTML="New "+x.label(i),l.addEventListener("click",(function(c){l.parentNode.appendChild(I(e,t,n,r,i,a,o,s))}),!1),l},t.promptForNew=I,t.makeDescription=N,t.makeSelectForOptions=L,t.makeSelectForCategory=R,t.makeSelectForNestedCategory=M,t.buildCheckboxForm=D,t.fieldLabel=F,t.fieldStore=B,t.newThing=U,Object.defineProperty(t,"fieldParams",{enumerable:!0,get:function(){return l.fieldParams}}),Object.defineProperty(t,"field",{enumerable:!0,get:function(){return c.field}});var a=r(n(10)),o=r(n(15)),s=E(n(113)),l=n(115),c=n(116),u=n(225),d=E(n(24)),p=n(71),f=n(226),h=n(227),m=E(n(39)),g=n(38),v=E(n(57)),y=E(n(16)),b=E(n(3)),w=n(20),x=E(n(27)),k=E(n(28));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var T=w.store;function _(e,t,n,r,i,a,o){for(var s=a.children,l=0;l<o.length;l++){var u=o[l];if((0,c.mostSpecificClassURI)(u)===y.ui("Options").uri){var p=(0,c.fieldFunction)(e,u)(e,null,t,n,u,r,i);d.log("Refreshing Options field by replacing it."),a.insertBefore(p,s[l]),a.removeChild(s[l+1])}}}function S(e,t,n,r,i,a,o,s){var l=y.ui,c=w.store,u=c.any(i,l("property"));if(!u){var d=(0,p.errorMessageBlock)(e,"No property to boolean field: "+i);return t&&t.appendChild(d),d}var f=c.any(i,l("label"));f||(f=x.label(u,!0)),a=B(r,u,a);var h=c.any(r,u);void 0===h&&(h=!1);var m=b.st(r,u,!0,a),g=D(e,c,f,b.st(r,u,!1,a),m,i,a,s);return t&&t.appendChild(g),g}function O(e,t,n,r,i,a,o){return(0,c.fieldFunction)(e,i)(e,t,n,r,i,a,o)}function A(e,t,n){for(var r=[e.sym(t)];r.length>0;){var i=r.shift(),a=e.each(i,n);if(v.debug("Lists for "+i+", "+n+": "+a.length),0!==a.length)return a;for(var o=e.each(i,y.rdfs("subClassOf")),s=0;s<o.length;s++)r.push(o[s]),v.debug("findClosest: add super: "+o[s])}return[]}function j(e){var t=e.map((function(e){return[T.any(e,y.ui("sequence"))||9999,e]}));return t.sort((function(e,t){return e[0]-t[0]})),t.map((function(e){return e[1]}))}function P(e){var t=e.map((function(e){return[x.label(e).toLowerCase(),e]}));return t.sort(),t.map((function(e){return e[1]}))}function I(e,t,n,r,i,a,o,l){var u=e.createElement("form");if(!a){var d=A(t,i.uri,y.ui("creationForm"));if(0===d.length){u.appendChild(e.createElement("p")).textContent="I am sorry, you need to provide information about a "+x.label(i)+" but I don't know enough information about those to ask you.";var p=u.appendChild(e.createElement("button"));return p.setAttribute("type","button"),p.setAttribute("style","float: right;"),p.innerHTML="Goto "+x.label(i),p.addEventListener("click",(function(t){e.outlineManager.GotoSubject(i,!0,void 0,!0,void 0)}),!1),u}v.debug("lists[0] is "+d[0]),a=d[0]}v.debug("form is "+a),u.setAttribute("style","border: 0.05em solid ".concat(m.formBorderColor,"; color: ").concat(m.formBorderColor)),u.innerHTML="<h3>New "+x.label(i)+"</h3>";var f=(0,c.fieldFunction)(e,a),h=U(o),g=!1;function w(e,t,n){return l(t,n)}v.info("paneUtils Object is "+h);var k=f(e,u,{},h,a,o,(function(a,c){if(!a)return l(a,c);var d=[];n&&!t.holds(n,r,h,o)&&d.push(b.st(n,r,h,o)),n&&!t.holds(h,y.rdf("type"),i,o)&&d.push(b.st(h,y.rdf("type"),i,o)),d.length?t.updater.update([],d,w):l(!0,c),g||(g=u.appendChild(s.linkButton(e,h)))}));return s.removeButton(e,k).setAttribute("style","float: right;"),u.AJAR_subject=h,u}function N(e,t,n,r,i,a){var o=e.createElement("div"),s=t.anyJS(n,r,null,i)||"",l=e.createElement("textarea");function c(s){u.disabled=!0,u.setAttribute("style","visibility: hidden; float: right;"),l.disabled=!0,l.style.color=m.textInputColorPending;var c=t.statementsMatching(n,r,null,i),d=b.st(n,r,l.value,i);t.updater.update(c,d,(function(t,n,r){n?(l.style.color=m.textInputColor,l.disabled=!1):o.appendChild((0,p.errorMessageBlock)(e,"Error (while saving change to "+i.uri+"): "+r)),a&&a(n,r)}))}if(o.appendChild(l),l.rows=s?s.split("\n").length+2:2,l.cols=80,l.setAttribute("style",m.multilineTextInputStyle),null!==s?l.value=s:l.select(),o.refresh=function(){var e=t.any(n,r,null,i);e&&e.value!==l.value&&(l.value=e.value)},t.updater.editable(i.uri)){var u=k.continueButton(e,c);u.disabled=!0,u.style.visibility="hidden",u.style.float="right",o.appendChild(u),l.addEventListener("keyup",(function(e){l.style.color="green",u&&(u.disabled=!1,u.style.visibility="")}),!0),l.addEventListener("change",c,!0)}else l.disabled=!0,l.style.backgroundColor=m.textInputBackgroundColorUneditable;return o}function L(e,t,n,r,i,a,o,s){v.debug("Select list length now "+i.length);for(var l=0,u={},f=t.updater.editable(o.uri),h=0;h<i.length;h++){var g=i[h];g.uri||d.warn("makeSelectForOptions: option does not have an uri: ".concat(g,", with predicate: ").concat(r)),g.uri&&!(g.uri in u)&&(u[g.uri]=!0,l++)}if(0===l&&!a.mint)return(0,p.errorMessageBlock)(e,"Can't do selector with no options, subject= "+n+" property = "+r+".");if(a.mint&&!a.subForm)return(0,p.errorMessageBlock)(e,"Selector: can't mint new with no subform.");v.debug("makeSelectForOptions: dataDoc="+o);var w=function(){return k={},r.sameTerm(y.rdf("type"))?k=t.findTypeURIs(n):t.each(n,r,null,o).forEach((function(e){k[e.uri]=!0})),k},k=w(),C=e.createElement("select");for(var E in C.setAttribute("style",m.formSelectSTyle),a.multiple&&C.setAttribute("multiple","true"),C.currentURI=null,C.refresh=function(){k=w();for(var e=0;e<C.children.length;e++){var t=C.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in k)}C.disabled=!1},u){var T=t.sym(E),_=e.createElement("option");a.disambiguate?_.appendChild(e.createTextNode(x.labelWithOntology(T,!0))):_.appendChild(e.createTextNode(x.label(T,!0)));var S=t.any(T,t.sym("http://www.w3.org/ns/ui#backgroundColor"));S&&_.setAttribute("style","background-color: "+S.value+"; "),_.AJAR_uri=E,E in k&&(_.setAttribute("selected","true"),C.currentURI=E),C.appendChild(_)}if(f&&a.mint){var O=e.createElement("option");O.appendChild(e.createTextNode(a.mint)),O.AJAR_mint=!0,C.insertBefore(O,C.firstChild)}if(null==C.currentURI&&!a.multiple){var A=e.createElement("option");A.appendChild(e.createTextNode(a.nullLabel)),C.insertBefore(A,C.firstChild),A.selected=!0}return f&&C.addEventListener("change",(function(i){C.disabled=!0;for(var l=[],u=[],d=function(e){t.holds(n,r,e,o)&&l.push(b.st(n,r,e,o))},f=0;f<C.options.length;f++){var h=C.options[f];if(h.selected&&h.AJAR_mint){var m;if(a.mintClass){var g=I(e,t,n,r,a.mintClass,null,o,(function(e,t){e||s(e,t,{change:"new"})}));C.parentNode.appendChild(g),m=g.AJAR_subject}else m=U(o);u.push(b.st(n,r,m,o)),a.mintStatementsFun&&(u=u.concat(a.mintStatementsFun(m)))}h.AJAR_uri&&(h.selected&&!(h.AJAR_uri in k)&&u.push(b.st(n,r,t.sym(h.AJAR_uri),o)),!h.selected&&h.AJAR_uri in k&&d(t.sym(h.AJAR_uri)),h.selected&&(C.currentURI=h.AJAR_uri))}for(var y=C.subSelect;y&&y.currentURI;)d(t.sym(y.currentURI)),y=y.subSelect;for(y=C.superSelect;y&&y.currentURI;)d(t.sym(y.currentURI)),y=y.superSelect;function x(e,t){s(e,{widget:"select",event:"new"})}v.info("selectForOptions: data doc = "+o),t.updater.update(l,u,(function(t,n,r){if(k=w(),!n)return C.parentNode.appendChild((0,p.errorMessageBlock)(e,"Error updating data in select: "+r));C.disabled=!1,m&&(0,c.fieldFunction)(e,a.subForm)(e,C.parentNode,{},m,a.subForm,o,x),s&&s(n,{widget:"select",event:"change"})}))}),!1),C}function R(e,t,n,r,i,a){var o,s=t.any(r,y.owl("disjointUnionOf")),l=!1;return s?o=s.elements:(o=t.each(void 0,y.rdfs("subClassOf"),r),l=!0),v.debug("Select list length "+o.length),0===o.length?(0,p.errorMessageBlock)(e,"Can't do "+(l?"multiple ":"")+"selector with no subclasses of category: "+r):1===o.length?(0,p.errorMessageBlock)(e,"Can't do "+(l?"multiple ":"")+"selector with only 1 subclass of category: "+r+":"+o[1]):L(e,t,n,y.rdf("type"),o,{multiple:l,nullPrompt:"--classify--"},i,a)}function M(e,t,n,r,i,a){function o(){l&&(s.removeChild(l),l=null),c.currentURI&&t.any(t.sym(c.currentURI),y.owl("disjointUnionOf"))&&(l=M(e,t,n,t.sym(c.currentURI),i,a),c.subSelect=l.firstChild,c.subSelect.superSelect=c,s.appendChild(l))}var s=e.createElement("span"),l=null;var c=R(e,t,n,r,i,(function(e,t){e&&o(),a(e,t)}));return s.appendChild(c),o(),s}function D(e,t,n,r,i,a,o,s){var l,c=e.createElement("div"),u=e.createTextNode(n),f=t.updater.editable(o.uri);function h(e){if(!e)return[];if(e.object)return e.why||(e.why=o),[e];if(e instanceof Array)return e;throw new Error("buildCheckboxForm: bad param "+e)}function g(e){return 0===e.filter((function(e){return!t.holds(e.subject,e.predicate,e.object,e.why)})).length}if(u.style=m.checkboxStyle,c.appendChild(u),(l=e.createElement("button")).setAttribute("style","font-size: 150%; height: 1.2em; width: 1.2em; background-color: #eef; margin: 0.1em"),c.appendChild(l),i=h(i),r=h(r),function(){var n=g(i),o=n;if(r.length){var u=g(r);if(n&&u)return c.appendChild(k.errorMessageBlock(e,"Inconsistent data in dataDoc!\n"+i+" and\n"+r)),c;if(!n&&!u){n=null;var d=t.any(a,y.ui("default"));o=d?"1"===d.value:!!s&&null}}l.state=n,l.textContent={true:"✓",false:s?"✕":" ",null:"-"}[o]}(),!f)return c;return l.addEventListener("click",(function(n){u.style="color: #bbb;";var a=!0===l.state?i:!1===l.state?r:[];l.newState=null===l.state||!0!==l.state&&(!s||null);var o=!0===l.newState?i:!1===l.newState?r:[];d.log("  Deleting  ".concat(a)),d.log("  Inserting ".concat(o)),t.updater.update(a,o,(function(n,r,i){if(r)u.style="color: #black;",l.state=l.newState,l.textContent={true:"✓",false:"✕",null:"-"}[l.state];else{if(a.why)t.holds(a.subject,a.predicate,a.object,a.why)&&d.log(" @@@@@ weird if 409 - does hold statement");u.style="color: #black; background-color: #fee;",c.appendChild((0,p.errorMessageBlock)(e,"Checkbox: Error updating dataDoc from ".concat(l.state," to ").concat(l.newState,":\n\n").concat(i)))}}))}),!1),c}function F(e,t,n){var r=T.any(n,y.ui("label"));if(r||(r=x.label(t,!0)),void 0===t)return e.createTextNode("@@Internal error: undefined property");var i=e.createElement("a");return t.uri&&i.setAttribute("href",t.uri),i.setAttribute("style","color: #3B5998; text-decoration: none;"),i.textContent=r,i}function B(e,t,n){var r=T.statementsMatching(e,t);return 0===r.length?n:r.length>0&&r[0].why.uri&&T.updater.editable(r[0].why.uri)?T.sym(r[0].why.uri):n}function U(e){var t=new Date;return b.sym(e.uri+"#id"+t.getTime())}c.field[y.ui("AutocompleteField").uri]=h.autocompleteField,c.field[y.ui("Form").uri]=c.field[y.ui("Group").uri]=function(e,t,n,r,i,a,o){var s=e.createElement("div"),l=y.ui;t&&t.appendChild(s);var u=r.toNT()+"|"+i.toNT();if(n[u]){s.appendChild(e.createTextNode("Group: see above "+u));var d=[b.st(r,y.owl("sameAs"),r)];return e.outlineManager.appendPropertyTRs(s,d),s}var f={};for(var h in n)f[h]=1;f[u]=1;var g=i.doc?i.doc():null,v=T.any(i,l("weight"),null,g),w=v?Number(v.value):1;if(w>3||w<0)return s.appendChild((0,p.errorMessageBlock)(e,"Form Group weight ".concat(w," should be 0-3")));s.setAttribute("style",m.formGroupStyle[w]),s.style.display="flex",s.style.flexDirection="column",s.class="form-weight-"+w;var x,k=T.any(i,l("parts"),null,g);if(k?x=k.elements:(k=T.each(i,l("part"),null,g),x=j(k)),!k)return s.appendChild((0,p.errorMessageBlock)(e,"No parts to form! "));for(var C=0;C<x.length;C++){var E=x[C],S=(0,c.fieldFunction)(e,E);s.appendChild(S(e,null,f,r,E,a,(function(t,i){t&&i&&i.widget&&"select"===i.widget&&_(e,n,r,a,o,s,x),o(t,{widget:"group",change:i})})))}return s},c.field[y.ui("Options").uri]=function(e,t,n,r,i,a,o){var s=w.store,l=e.createElement("div"),c=i.doc?i.doc():null,u=y.ui;t&&t.appendChild(l);var d=s.any(i,u("dependingOn"));d||(d=y.rdf("type"));var f,h=s.each(i,u("case"),null,c);if(h||l.appendChild((0,p.errorMessageBlock)(e,"No cases to Options form. ")),d.sameTerm(y.rdf("type")))f=s.findTypeURIs(r);else{var m=s.any(r,d);void 0===m?l.appendChild((0,p.errorMessageBlock)(e,"Can't select subform as no value of: "+d)):(f={})[m.uri]=!0}for(var g=0;g<h.length;g++)for(var v=h[g],b=s.each(v,u("for"),null,c),x=0;x<b.length;x++)if(f[b[x].uri]){var k=s.the(v,u("use"));if(!k)return l.appendChild((0,p.errorMessageBlock)(e,'No "use" part for case in form '+i)),l;O(e,l,n,r,k,a,o);break}return l},c.field[y.ui("Multiple").uri]=function(e,t,n,r,i,l,u){function f(e){return e.map((function(e){return e.toString().slice(-7)})).join(", ")}function h(){return m.apply(this,arguments)}function m(){return(m=(0,o.default)(a.default.mark((function t(){var n,i,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=U(l),!j){t.next=8;break}return z(),R.elements.push(n),t.next=6,q();case 6:t.next=20;break;case 8:return i=I?[b.st(n,P,r,l)]:[b.st(r,P,n,l)],t.prev=9,t.next=12,E.updater.update([],i);case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(9),o="Error adding to unordered multiple: "+t.t0,_.appendChild((0,p.errorMessageBlock)(e,o)),d.error(o);case 19:W();case 20:case"end":return t.stop()}}),t,null,[[9,14]])})))).apply(this,arguments)}function k(t){function i(){return(i=(0,o.default)(a.default.mark((function n(){var i,o;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!j){n.next=14;break}d.log("pre delete: "+f(R.elements)),i=0;case 3:if(!(i<R.elements.length)){n.next=12;break}if(!R.elements[i].sameTerm(t)){n.next=9;break}return R.elements.splice(i,1),n.next=8,q();case 8:return n.abrupt("return");case 9:i++,n.next=3;break;case 12:n.next=15;break;case 14:E.holds(r,P,t,l)&&(o=[b.st(r,P,t,l)],E.updater.update(o,[],(function(t,n,r){n?D.removeChild(y):D.appendChild((0,p.errorMessageBlock)(e,"Multiple: delete failed: "+r))})));case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.default)(a.default.mark((function e(n,r){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.log("pre move: "+f(R.elements)),i=0;case 2:if(!(i<R.elements.length)){e.next=8;break}if(!R.elements[i].sameTerm(t)){e.next=5;break}return e.abrupt("break",8);case 5:i++,e.next=2;break;case 8:if(i===R.elements.length&&alert("list move: not found element for "+t),!r){e.next=16;break}if(0!==i){e.next=13;break}return alert("@@ boop - already at top   -temp message"),e.abrupt("return");case 13:R.elements.splice(i-1,2,R.elements[i],R.elements[i-1]),e.next=20;break;case 16:if(i!==R.elements.length-1){e.next=19;break}return alert("@@ boop - already at bottom   -temp message"),e.abrupt("return");case 19:R.elements.splice(i,2,R.elements[i+1],R.elements[i]);case 20:return e.next=22,q();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v.debug("Multiple: render object: "+t);var y=(0,c.fieldFunction)(e,L)(e,null,n,t,L,l,(function(e,n){d.log("Item done callback for item ".concat(t.uri.slice(-7))),e||d.error("  Item done callback: Error: "+n),u(e,n)}));if(y.subject=t,E.updater.editable(l.uri)&&(s.deleteButtonWithCheck(e,y,x.label(P),(function(){return i.apply(this,arguments)})),j)){var w=e.createElement("div");w.style.display="grid",w.style.gridTemplateColumns="auto 3em",w.style.gridTemplateRows="50% 50%";var k=s.button(e,g.icons.iconBase+"noun_1369237.svg","Move Up",function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(t,!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=s.button(e,g.icons.iconBase+"noun_1369241.svg","Move Down",function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(t,!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=e.createElement("div");return T.appendChild(y),w.appendChild(T),w.appendChild(k),w.appendChild(C),k.style.gridColumn=2,C.style.gridColumn=2,k.style.gridRow=1,C.style.padding="0em",k.style.padding="0em",C.style.gridRow=2,T.style.gridColumn=1,T.style.gridRowStart="span 2",w}return y}var C=g.icons.iconBase+"noun_19460_green.svg",E=w.store,T=i.doc?i.doc():null,_=e.createElement("div"),S=_,O=y.ui;t&&t.appendChild(_);var A=E.any(i,O("ordered")),j=!!A&&b.Node.toJS(A),P=E.any(i,O("property")),I=E.anyJS(i,O("reverse"),null,T);if(!P)return _.appendChild((0,p.errorMessageBlock)(e,"No property to multiple: "+i)),S;var N=E.any(i,O("min"));N=N?0+N.value:0;var L=E.any(i,O("part"));if(!L)return _.appendChild((0,p.errorMessageBlock)(e,"No part to multiple: "+i)),S;var R,M,D=_.appendChild(e.createElement("div"));if(D.style.display="flex",D.style.flexDirection="column",M=I?E.any(null,P,r,l):E.any(r,P,null,l),j?(R=I?E.any(null,P,r,l):E.any(r,P,null,l),M=R?R.elements:[]):(M=I?E.each(null,P,r,l):E.each(r,P,null,l),R=null),E.updater.editable(l.uri)){var F=_.appendChild(e.createElement("div"));F.style.padding="0.5em";var B=F.appendChild(e.createElement("img"));B.setAttribute("src",C),B.setAttribute("style","margin: 0.2em; width: 1.5em; height:1.5em"),B.title="Click to add one or more "+x.predicateLabel(P,I),F.appendChild(e.createElement("span")).textContent=(0===M.length?"Add one or more ":"Add more ")+x.predicateLabel(P,I),F.addEventListener("click",function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!0)}function z(){R||(R=new b.Collection,I?E.add(R,P,r,l):E.add(r,P,R,l))}function q(){return H.apply(this,arguments)}function H(){return(H=(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.log("save list: "+f(R.elements)),z(),t.prev=2,t.next=5,E.fetcher.putBack(l);case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(2),_.appendChild((0,p.errorMessageBlock)(e,"Error trying to put back a list: "+t.t0)),t.abrupt("return");case 11:W();case 12:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}function W(){var e;if(j){var t=I?E.the(null,P,r,l):E.the(r,P,null,l);e=t?t.elements:[]}else(e=I?E.each(null,P,r,l):E.each(r,P,null,l)).sort();x.syncTableToArrayReOrdered(D,e,k)}function G(){return(G=(0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=N-M.length)>0)){e.next=12;break}n=0;case 3:if(!(n<t)){e.next=10;break}return d.log("Adding extra: min "+N),e.next=7,h();case 7:n++,e.next=3;break;case 10:return e.next=12,q();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return D.refresh=W,W(),function(){return G.apply(this,arguments)}().then((function(){d.log(" Multiple render: async stuff ok")}),(function(e){d.error(" Multiple render: async stuff fails. #### ",e)})),S},c.field[y.ui("PhoneField").uri]=f.basicField,c.field[y.ui("EmailField").uri]=f.basicField,c.field[y.ui("ColorField").uri]=f.basicField,c.field[y.ui("DateField").uri]=f.basicField,c.field[y.ui("DateTimeField").uri]=f.basicField,c.field[y.ui("TimeField").uri]=f.basicField,c.field[y.ui("NumericField").uri]=f.basicField,c.field[y.ui("IntegerField").uri]=f.basicField,c.field[y.ui("DecimalField").uri]=f.basicField,c.field[y.ui("FloatField").uri]=f.basicField,c.field[y.ui("TextField").uri]=f.basicField,c.field[y.ui("SingleLineTextField").uri]=f.basicField,c.field[y.ui("NamedNodeURIField").uri]=f.basicField,c.field[y.ui("MultiLineTextField").uri]=function(e,t,n,r,i,a,o){var s=y.ui,l=w.store,c=i.doc?i.doc():null,u=l.any(i,s("property"));if(!u)return(0,p.errorMessageBlock)(e,"No property to text field: "+i);var d=e.createElement("div");d.style.display="flex",d.style.flexDirection="row";var f=d.appendChild(e.createElement("div"));f.style.width=m.formFieldNameBoxWidth;var h=d.appendChild(e.createElement("div"));f.appendChild(F(e,u,i)),a=B(r,u,a);var g=l.anyJS(r,u,null,a)||"",v=l.updater.editable(a.uri),b=i&&l.anyJS(i,y.ui("suppressEmptyUneditable"),null,c);!v&&b&&""===g&&(d.style.display="none");var x=N(e,l,r,u,a,o);return h.appendChild(x),t&&t.appendChild(d),d},c.field[y.ui("BooleanField").uri]=function(e,t,n,r,i,a,o){return S(e,t,0,r,i,a,0,!1)},c.field[y.ui("TristateField").uri]=function(e,t,n,r,i,a,o){return S(e,t,0,r,i,a,0,!0)},c.field[y.ui("Classifier").uri]=function(e,t,n,r,i,a,o){var s=w.store,l=y.ui,c=s.any(i,l("category"));if(!c)return(0,p.errorMessageBlock)(e,"No category for classifier: "+i);v.debug("Classifier: dataDoc="+a);var u=M(e,s,r,c,a,(function(e,t){return o(e,t)}));return t&&t.appendChild(u),u},c.field[y.ui("Choice").uri]=function(e,t,n,r,i,a,o){var l,u=y.ui,d=w.store,f=i.doc?i.doc():null,h=e.createElement("div");t&&t.appendChild(h);var m=e.createElement("div");h.appendChild(m);var g=e.createElement("div");h.appendChild(g);var v=d.any(i,u("property"));if(!v)return h.appendChild((0,p.errorMessageBlock)(e,"No property for Choice: "+i));m.appendChild(F(e,v,i));var b=d.any(i,u("from"));if(!b)return(0,p.errorMessageBlock)(e,"No 'from' for Choice: "+i);var k,C=d.any(i,u("use")),E=d.anyJS(i,u("follow"),null,f),T=[],_={form:i,multiple:!1,nullLabel:"--"+x.label(v)+"-?",disambiguate:!1};for(var S in T=d.each(void 0,y.rdf("type"),b,f),d.findMembersNT(b))T.push(d.fromNT(S));if(b.sameTerm(y.rdfs("Class")))for(l in s.allClassURIs())T.push(d.sym(l));else if(b.sameTerm(y.rdf("Property"))){for(l in(k=s.propertyTriage(d)).op)T.push(d.fromNT(l));for(l in k.dp)T.push(d.fromNT(l));_.disambiguate=!0}else if(b.sameTerm(y.owl("ObjectProperty"))){for(l in(k=s.propertyTriage(d)).op)T.push(d.fromNT(l));_.disambiguate=!0}else if(b.sameTerm(y.owl("DatatypeProperty"))){for(l in(k=s.propertyTriage(d)).dp)T.push(d.fromNT(l));_.disambiguate=!0}var O=d.any(r,v);var A=P(T);d.any(i,u("canMintNew"))&&(_.mint="* New *",_.subForm=C);var j=L(e,d,r,v,A,_,a,o);return g.appendChild(j),O&&C&&(O=d.any(r,v),(0,c.fieldFunction)(e,C)(e,g,n,O,C,E?O.doc():a,o)),h},c.field[y.ui("Comment").uri]=c.field[y.ui("Heading").uri]=function(e,t,n,r,i,a,o){var s=y.ui,d=w.store,p=d.any(i,s("contents"));p||(p="Error: No contents in comment field.");var f=i.doc?i.doc():null,h=(0,c.mostSpecificClassURI)(i),m=l.fieldParams[h]||{},g=e.createElement("div");t&&t.appendChild(g);var v=g.appendChild(e.createElement(m.element));v.textContent=p,(0,u.setFieldStyle)(v,i);var b=d.anyJS(i,y.ui("suppressIfUneditable"),null,f),x=d.updater.editable(a.uri);return b&&!x&&(g.style.display="none"),g}},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.setFieldStyle=function(e,t){var n=(0,s.mostSpecificClassURI)(t),r=o.fieldParams[n]||{},l=a.kb.any(t,i.ui("style"));if(!l)return void(r.style&&e.setAttribute("style",r.style));if("Literal"===l.termType)l&&e.setAttribute("style",l.value);else{a.kb.statementsMatching(l,null,null,t.doc()).forEach((function(t){if(t.predicate.uri&&t.predicate.uri.startsWith("https://www.w3.org/ns/css#")){var n=t.predicate.uri.slice("https://www.w3.org/ns/css#".length);try{e.style[n]=t.object.value}catch(r){console.warn("setFieldStyle: Error setting element style ".concat(n,' to "').concat(t.object.value,'"')),console.warn('setFieldStyle:   ... Element tagName was "'.concat(e.tagName||"???",'"'))}}}))}};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(16)),a=n(20),o=n(115),s=n(116);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.fieldLabel=h,t.fieldStore=m,t.basicField=function(e,t,n,r,a,l,p){var g=f,v=a.doc?a.doc():null,y=e.createElement("div"),b=g.any(a,o.ui("property"));if(!b)return y.appendChild((0,c.errorMessageBlock)(e,"Error: No property given for text field: "+a));y.style.display="flex",y.style.flexDirection="row";var w=y.appendChild(e.createElement("div"));w.style.width=s.formFieldNameBoxWidth;var x=y.appendChild(e.createElement("div"));w.appendChild(h(e,b,a)),t&&t.appendChild(y);w.setAttribute("class","formFieldName"),w.setAttribute("style",s.formFieldNameBoxStyle),x.setAttribute("class","formFieldValue");var k=g.anyJS(a,o.ui("suppressEmptyUneditable"),null,v),C=(0,u.mostSpecificClassURI)(a),E=d.fieldParams[C];void 0===E&&(E={});var T=E.style||s.textInputStyle,_=e.createElement("input");_.style=s.textInputStyle,x.appendChild(_),_.setAttribute("type",E.type?E.type:"text");var S=g.anyJS(a,o.ui("size"))||T.textInputSize||20;_.setAttribute("size",S);var O=g.any(a,o.ui("maxLength"));_.setAttribute("maxLength",O?""+O:"4096"),l=l||m(r,b,l);var A=g.any(r,b,void 0,l);A||(A=g.any(a,o.ui("default")));A&&A.value&&E.uriPrefix?_.value=decodeURIComponent(A.value.replace(E.uriPrefix,"")).replace(/ /g,""):A&&(_.value=A.value||A.value||"");if(_.setAttribute("style",T),!g.updater)throw new Error("kb has no updater");if(!g.updater.editable(l.uri))return _.readOnly=!0,_.style=s.textInputStyleUneditable,k&&""===_.value&&(y.style.display="none"),y;return _.addEventListener("keyup",(function(e){E.pattern&&_.setAttribute("style",T+(_.value.match(E.pattern)?"color: green;":"color: red;"))}),!0),_.addEventListener("change",(function(t){if(!E.pattern||_.value.match(E.pattern)){_.disabled=!0,_.setAttribute("style",T+"color: gray;");var n,a=g.statementsMatching(r,b);E.namedNode?n=g.sym(_.value):E.uriPrefix?(n=encodeURIComponent(_.value.replace(/ /g,"")),n=g.sym(E.uriPrefix+_.value)):n=E.dt?new i.Literal(_.value.trim(),void 0,o.xsd(E.dt)):new i.Literal(_.value);var s=a.map((function(e){return(0,i.st)(e.subject,e.predicate,n,e.why)}));0===s.length&&(s=[(0,i.st)(r,b,n,l)]),function e(t,n,r){var i=[];if(n.forEach((function(e){i.includes(e.why.uri)||i.push(e.why.uri)})),t.forEach((function(e){i.includes(e.why.uri)||i.push(e.why.uri)})),0===i.length)throw new Error("updateMany has no docs to patch");if(!g.updater)throw new Error("kb has no updater");if(1===i.length)return g.updater.update(t,n,r);var a=i.pop(),o=n.filter((function(e){return e.why.uri===a})),s=n.filter((function(e){return e.why.uri!==a})),l=t.filter((function(e){return e.why.uri===a})),c=t.filter((function(e){return e.why.uri!==a}));g.updater.update(l,o,(function(t,n,i){n?e(c,s,r):r(t,n,i)}))}(a,s,(function(t,n,r){n?(_.disabled=!1,_.setAttribute("style",T)):y.appendChild((0,c.errorMessageBlock)(e,r)),p(n,r)}))}}),!0),y};var i=n(3),a=n(20),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(16)),s=n(39),l=n(27),c=n(71),u=n(116),d=n(115);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=a.solidLogicSingleton.store;function h(e,t,n){var r=f.any(n,o.ui("label"));if(r||(r=(0,l.label)(t,!0)),void 0===t)return e.createTextNode("@@Internal error: undefined property");var i=e.createElement("a");return t.uri&&i.setAttribute("href",t.uri),i.setAttribute("style","color: #3B5998; text-decoration: none;"),i.textContent=r,i}function m(e,t,n){var r=f.statementsMatching(e,t);if(0===r.length)return n;if(!f.updater)throw new Error("Store has no updater");return r.length>0&&r[0].why.value&&f.updater.editable(r[0].why.value,f)?f.sym(r[0].why.value):n}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.autocompleteField=function(e,t,n,r,i,f,h){function m(){return(m=(0,o.default)(a.default.mark((function t(n,i){var o,s,l,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}throw new Error("autocompleteField:  No name set.");case 2:if(!(o=v.the(r,k,null,f))){t.next=7;break}if(s=v.any(o,C,null,f),!(o.equals(n)&&s&&s.sameTerm(i))){t.next=7;break}return t.abrupt("return");case 7:return l=o?v.statementsMatching(r,k,o,f).concat(v.statementsMatching(o,C,null,f)):[],u=[(0,p.st)(r,k,n,f),(0,p.st)(n,C,i,f)],t.prev=9,t.next=12,v.updater.updateMany(l,u);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(9),h(!1,t.t0),b.appendChild(c.errorMessageBlock(e,"Autocomplete form data update error:"+t.t0,null,t.t0)),t.abrupt("return");case 19:h(!0,"");case 20:case"end":return t.stop()}}),t,null,[[9,14]])})))).apply(this,arguments)}function g(){return(g=(0,o.default)(a.default.mark((function t(n,i){var o,s,l,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=v.the(r,k,null,f)){t.next=5;break}return h(!1,"NO data to elete"),b.appendChild(c.errorMessageBlock(e,"Autocomplete delete: no old data!")),t.abrupt("return");case 5:return s=v.statementsMatching(r,k,o,f).concat(v.statementsMatching(o,C,null,f)),l=[],t.prev=7,t.next=10,v.updater.updateMany(s,l);case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(7),u=new Error("Autocomplete form data delete error:"+t.t0),h(!1,t.t0),b.appendChild(c.errorMessageBlock(e,u,null,t.t0)),t.abrupt("return");case 18:h(!0,"");case 19:case"end":return t.stop()}}),t,null,[[7,12]])})))).apply(this,arguments)}if("NamedNode"!==r.termType)throw new Error("Sorry this field only works on NamedNode subjects (for editable)");var v=l.store,y=i.doc?i.doc():null,b=e.createElement("div");t&&t.appendChild(b);var w=e.createElement("div");w.setAttribute("class","formFieldName"),w.setAttribute("style",u.formFieldNameBoxStyle),b.appendChild(w);var x=e.createElement("div");x.setAttribute("class","formFieldValue"),b.appendChild(x);var k=v.any(i,s.ui("property"));if(!k)return b.appendChild(c.errorMessageBlock(e,"Error: No property given for autocomplete field: "+i));var C=v.any(i,s.ui("labelProperty"))||s.schema("name"),E=v.any(i,s.ui("dataSource"));if(!E)return b.appendChild(c.errorMessageBlock(e,"Error: No data source given for autocomplete field: "+i));var T={label:v.anyJS(E,s.schema("name"),null,E.doc()),logo:v.any(E,s.schema("logo"),null,E.doc())},_=v.any(i,s.ui("targetClass"),null,i.doc())||v.any(E,s.ui("targetClass"),null,E.doc());_&&(T.targetClass=_);T.objectURIBase=v.any(E,s.ui("objectURIBase"),null,E.doc())||void 0;var S=v.anyJS(E,s.ui("endpoint"),null,E.doc());if(S){if(T.endpoint=S,T.searchByNameQuery=v.anyJS(E,s.ui("searchByNameQuery"),null,E.doc()),!T.searchByNameQuery)return b.appendChild(c.errorMessageBlock(e,"Error: No searchByNameQuery given for endpoint data Source: "+i));T.insitituteDetailsQuery=v.anyJS(E,s.ui("insitituteDetailsQuery"),null,E.doc())}else{var O=v.anyJS(E,s.ui("searchByNameURI"));if(!O)return b.appendChild(c.errorMessageBlock(e,"Error: No searchByNameURI OR sparql endpoint given for dataSource: "+E));T.searchByNameURI=O}var A=v.anyJS(i,s.ui("suppressEmptyUneditable"),null,y),j=v.updater.editable(f.uri),P={permanent:!0,targetClass:T.targetClass,queryParams:T};P.size=v.anyJS(i,s.ui("size"),null,y)||void 0;var I=v.any(r,k,void 0,f);if(I)P.currentObject=I,P.currentName=v.any(P.currentObject,C,null,f);else if(I=v.any(i,s.ui("default")))P.currentObject=I,P.currentName=v.any(P.currentObject,C,null,f);else if(A&&!j)return b.style.display="none",b;w.appendChild(c.fieldLabel(e,k,i));var N={editable:j,dbLookup:!0};return(0,d.renderAutocompleteControl)(e,r,N,P,(function(e,t){return m.apply(this,arguments)}),(function(e,t){return g.apply(this,arguments)})).then((function(e){x.appendChild(e)}),(function(t){x.appendChild(c.errorMessageBlock(e,"Error rendering autocomplete ".concat(i,": ").concat(t),"#fee",t))})),b};var a=r(n(10)),o=r(n(15)),s=h(n(16)),l=n(20),c=h(n(28)),u=h(n(39)),d=n(141),p=n(3);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}},function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.Signup=a;var i=r(n(229));function a(e){this.config=e||i.default}a.prototype.listen=function(){return new Promise((function(e,t){var n=window.addEventListener?"addEventListener":"attachEvent";(0,window[n])("attachEvent"===n?"onmessage":"message",(function(n){var r=n.data;if("User:"===r.slice(0,5)){var i=r.slice(5,r.length);return i&&i.length>0&&"http"===i.slice(0,4)?e(i):t(i)}}),!0)}))},a.prototype.signup=function(e){e=e||this.config.signupEndpoint;var t=this.config.signupWindowWidth,n=this.config.signupWindowHeight,r=window.screen.width/2-(t/2+10),i=window.screen.height/2-(n/2+50),a=e+"?origin="+encodeURIComponent(window.location.origin),o="resizable,scrollbars,status,width="+t+",height="+n+",left="+r+",top="+i;window.open(a,"Solid signup",o);var s=this;return new Promise((function(e){s.listen().then((function(t){return e(t)}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={authEndpoint:"",fallbackAuthEndpoint:"https://databox.me/",signupEndpoint:"https://solidproject.org/use-solid/",signupWindowHeight:600,signupWindowWidth:1024,key:"",cert:""}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.AddAgentButtons=void 0;var a=r(n(10)),o=r(n(15)),s=r(n(7)),l=r(n(9)),c=r(n(1)),u=n(38),d=v(n(28)),p=v(n(16)),f=n(72),h=v(n(27)),m=v(n(24));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var y=function(){function e(t){(0,s.default)(this,e),this.groupList=t,(0,c.default)(this,"rootElement",void 0),(0,c.default)(this,"barElement",void 0),(0,c.default)(this,"isExpanded",!1),this.rootElement=t.controller.dom.createElement("div"),this.barElement=t.controller.dom.createElement("div")}var t,n,r,i,g,v;return(0,l.default)(e,[{key:"render",value:function(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.renderAddButton()),this.rootElement.appendChild(this.barElement),this.rootElement}},{key:"renderAddButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,"".concat(u.icons.iconBase,"noun_34653_green.svg"),"Add ...",(function(){e.toggleBar(),e.renderBar()}))}},{key:"renderBar",value:function(){this.barElement.innerHTML="",this.isExpanded&&(this.barElement.appendChild(this.renderPersonButton()),this.barElement.appendChild(this.renderGroupButton()),this.barElement.appendChild(this.renderPublicButton()),this.barElement.appendChild(this.renderAuthenticatedAgentButton()),this.barElement.appendChild(this.renderBotButton()),this.barElement.appendChild(this.renderAppsButton()))}},{key:"renderSimplifiedBar",value:function(e){var t=this;Array.from(this.barElement.children).filter((function(t){return t!==e})).forEach((function(e){return t.barElement.removeChild(e)}))}},{key:"renderPersonButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,u.icons.iconBase+d.iconForClass["vcard:Individual"],"Add Person",(function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(p.vcard("Individual"),"person").then((function(t){return e.addPerson(t)})).then((function(){return e.renderCleanup()})).catch((function(t){return e.groupList.controller.renderStatus(t)}))}))}},{key:"renderGroupButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,u.icons.iconBase+d.iconForClass["vcard:Group"],"Add Group",(function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(p.vcard("Group"),"group").then((function(t){return e.addGroup(t)})).then((function(){return e.renderCleanup()})).catch((function(t){return e.groupList.controller.renderStatus(t)}))}))}},{key:"renderNameForm",value:function(e,t){return d.askName(this.groupList.controller.dom,this.groupList.store,this.barElement,p.vcard("URI"),e,t)}},{key:"renderPublicButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,u.icons.iconBase+d.iconForClass["foaf:Agent"],"Add Everyone",(function(){return e.addAgent(p.foaf("Agent").uri).then((function(){return e.groupList.controller.renderTemporaryStatus("Adding the general public to those who can read. Drag the globe to a different level to give them more access.")})).then((function(){return e.renderCleanup()}))}))}},{key:"renderAuthenticatedAgentButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,"".concat(u.icons.iconBase,"noun_99101.svg"),"Anyone logged In",(function(){return e.addAgent(p.acl("AuthenticatedAgent").uri).then((function(){return e.groupList.controller.renderTemporaryStatus("Adding anyone logged in to those who can read. Drag the ID icon to a different level to give them more access.")})).then((function(){return e.renderCleanup()}))}))}},{key:"renderBotButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,u.icons.iconBase+"noun_Robot_849764.svg","A Software Agent (bot)",(function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(p.schema("Application"),"bot").then((function(t){return e.addBot(t)})).then((function(){return e.renderCleanup()}))}))}},{key:"renderAppsButton",value:function(){var e=this;return d.button(this.groupList.controller.dom,"".concat(u.icons.iconBase,"noun_15177.svg"),"A Web App (origin)",(function(t){e.renderSimplifiedBar(t.target);var n={div:e.barElement,dom:e.groupList.controller.dom},r=e.renderAppsTable(n).catch((function(t){return e.groupList.controller.renderStatus(t)}));e.renderAppsView();var i=e.renderNameForm(p.schema("WebApplication"),"webapp domain").then((function(t){return e.getOriginFromName(t)}));Promise.race([r,i]).then((function(t){t&&e.groupList.addNewURI(t)})).then((function(){return e.renderCleanup()}))}))}},{key:"renderAppsView",value:function(){var e=this,t=this.groupList.controller.context.session.paneRegistry.byName("trustedApplications");if(t){var n=t.render(null,this.groupList.controller.context);n.classList.add(this.groupList.controller.classes.trustedAppController);var r=d.cancelButton(this.groupList.controller.dom,(function(){return e.renderCleanup()}));r.classList.add(this.groupList.controller.classes.trustedAppCancelButton),n.insertBefore(r,n.firstChild),this.barElement.appendChild(n)}}},{key:"renderAppsTable",value:(v=(0,o.default)(a.default.mark((function e(t){var n,r,i=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.logInLoadProfile)(t);case 2:return n=this.groupList.store.each(t.me,p.acl("trustedApp")),r=n.flatMap((function(e){return i.groupList.store.each(e,p.acl("origin"))})),this.barElement.appendChild(this.groupList.controller.dom.createElement("p")).textContent="You have ".concat(r.length," selected web apps."),e.abrupt("return",new Promise((function(e,t){var r=i.barElement.appendChild(i.groupList.controller.dom.createElement("table"));r.classList.add(i.groupList.controller.classes.trustedAppAddApplicationsTable),n.forEach((function(n){var a=i.groupList.store.any(n,p.acl("origin"));a||t(new Error("Unable to pick app: ".concat(n.value)));var o=d.personTR(i.groupList.controller.dom,p.acl("origin"),a,{}),s=i.groupList.controller.dom.createElement("table"),l=s.appendChild(i.groupList.controller.dom.createElement("tr"));l.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(o),l.appendChild(i.groupList.controller.dom.createElement("td")).textContent="Give access to ".concat(i.groupList.controller.noun," ").concat(h.label(i.groupList.controller.subject),"?"),l.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(d.continueButton(i.groupList.controller.dom,(function(){return e(a.value)}))),r.appendChild(s)}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"renderCleanup",value:function(){this.renderBar(),this.groupList.render()}},{key:"addPerson",value:(g=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.toggleBar());case 2:if(n=/^https?:/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return m.log("Adding to ACL person: ".concat(t)),e.next=8,this.groupList.addNewURI(t);case 8:this.toggleBar();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"addGroup",value:(i=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.toggleBar());case 2:if(n=/^https?:/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return m.log("Adding to ACL group: "+t),e.next=8,this.groupList.addNewURI(t);case 8:this.toggleBar();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"addAgent",value:(r=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.groupList.addNewURI(t);case 2:this.toggleBar();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"addBot",value:(n=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.toggleBar());case 2:if(n=/^https?:/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return m.log("Adding to ACL bot: "+t),e.next=8,this.groupList.addNewURI(t);case 8:this.toggleBar();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getOriginFromName",value:(t=(0,o.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(n=/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a domain name")));case 5:return r="https://"+t,m.log("Adding to ACL origin: "+r),this.toggleBar(),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"toggleBar",value:function(){this.isExpanded=!this.isExpanded}}]),e}();t.AddAgentButtons=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;t.styles={aclControlBoxContainer:{margin:"1em"},aclControlBoxHeader:{fontSize:"120%",margin:"0 0 1rem"},aclControlBoxStatus:{display:"none",margin:"1rem 0"},aclControlBoxStatusRevealed:{display:"block"},aclGroupContent:{maxWidth:650},accessGroupList:{display:"grid",gridTemplateColumns:"1fr",margin:"1em",width:"100%"},accessGroupListItem:{display:"grid",gridTemplateColumns:"100px auto 30%"},defaultsController:{display:"flex"},defaultsControllerNotice:{color:"#888",flexGrow:1,fontSize:"80%"},bigButton:{backgroundColor:"white",border:"0.1em solid #888",borderRadius:"0.3em",maxWidth:"50%",paddingBottom:"1em",paddingTop:"1em"},group:{color:"#888"},"group-1":{color:"green"},"group-2":{color:"#cc0"},"group-3":{color:"orange"},"group-5":{color:"red"},"group-9":{color:"blue"},"group-13":{color:"purple"},trustedAppAddApplicationsTable:{backgroundColor:"#eee"},trustedAppCancelButton:{float:"right"},trustedAppControllerI:{borderColor:"orange",borderRadius:"1em",borderWidth:"0.1em"},temporaryStatusInit:{background:"green"},temporaryStatusEnd:{background:"transparent",transition:"background 5s linear"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r={newThingUI:n(233).newThingUI};t.create=r},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.newThingUI=function(e,t,n){var r=e.dom,l=e.div;if(e.me&&!e.me.uri)throw new Error("newThingUI:  Invalid userid: "+e.me);var d="padding: 0.7em; width: 2em; height: 2em;",p=l.appendChild(r.createElement("img")),h=!1;p.setAttribute("src",a.icons.iconBase+"noun_34653_green.svg"),p.setAttribute("style",d),p.setAttribute("title","Add another tool");var m=function(e){var t=l.appendChild(r.createElement("pre"));t.setAttribute("style","background-color: pink"),t.appendChild(r.createTextNode(e))};function g(e){for(var t=0;t<y.length;t++){var n=d+e;y[t].disabled&&(n+="opacity: 0.3;"),y[t].setAttribute("style",n)}}function v(e){h=!h,p.setAttribute("style",d+(h?"background-color: yellow;":"")),g(h?"":"display: none;")}p.addEventListener("click",v);var y=[],b=Object.values(n).filter((function(e){return e.mintNew})),w=b.reduce((function(e,t){return t.mintClass&&(e[t.mintClass.uri]=(e[t.mintClass.uri]||0)+1),e}),{});b.forEach((function(n){var a=e.div.appendChild(r.createElement("img"));a.setAttribute("src",n.icon);var l=n.mintClass?w[n.mintClass.uri]>1?"".concat(o.label(n.mintClass)," (using ").concat(n.name," pane)"):o.label(n.mintClass):n.name+" @@";a.setAttribute("title","Make new "+l),a.setAttribute("style",d+"display: none;"),y.push(a),a.disabled||a.addEventListener("click",(function(p){var h;!function(e){g("display: none;"),e.setAttribute("style",d+"background-color: yellow;")}(a),h={event:p,folder:e.folder||null,iconEle:a,pane:n,noun:l,noIndexHTML:!0,div:e.div,me:e.me,dom:e.dom,refreshTarget:e.refreshTarget},new Promise((function(n,a){var l;function d(n,o){(0,u.logInLoadProfile)(e).then((function(e){var s=Object.assign({newBase:o,folder:h.folder||void 0,workspace:n},h);for(var l in h)s[l]=h[l];i.log("newThingUI: Minting new ".concat(s.pane.name," at ").concat(s.newBase)),h.pane.mintNew(t,s).then((function(e){if(!e||!e.newInstance)throw new Error("Cannot mint new - missing newInstance");if(e.folder){var t=e.newInstance.uri.slice(e.folder.uri.length).includes("/");i.log("  new thing is packge? "+t),t?f.add(e.folder,c.ldp("contains"),f.sym(e.newBase),e.folder.doc()):f.add(e.folder,c.ldp("contains"),e.newInstance,e.folder.doc()),e.refreshTarget&&e.refreshTarget.refresh&&e.refreshTarget.refresh()}else{var n=h.div.appendChild(r.createElement("p"));n.setAttribute("style","font-size: 120%;"),n.innerHTML="Your <a target='_blank' href='"+e.newInstance.uri+"'><b>new "+h.noun+"</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+e.newInstance.uri+"'>Go to your new "+h.noun+".</a>"}v()})).catch((function(e){m(e),a(e)}))}),(function(e){m("Error logging on: "+e)}))}var p=h.pane;h.noun=p.mintClass?o.label(p.mintClass):p.name,h.appPathSegment=h.noun.slice(0,1).toUpperCase()+h.noun.slice(1),h.folder?s.askName(r,f,h.div,c.foaf("name"),null,h.noun).then((function(e){if(e){var t=h.folder.uri;t.endsWith("/")||(t+="/"),d(null,t=t+encodeURIComponent(e)+"/")}else v()})):(l=(0,u.selectWorkspace)(r,{noun:h.noun,appPathSegment:h.appPathSegment},d),h.div.appendChild(l))}))}))}))};var i=p(n(24)),a=n(38),o=p(n(27)),s=p(n(28)),l=n(20),c=p(n(16)),u=n(72);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var f=l.solidLogicSingleton.store},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matrix=void 0;var r={matrixForQuery:n(235).matrixForQuery};t.matrix=r},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.matrixForQuery=function(e,t,n,r,o,s,c){var u=e.createElement("table"),d=e.createElement("tr");d.appendChild(e.createElement("td")).setAttribute("class","MatrixCorner"),u.appendChild(d),u.lastHeader=d;var p=[],f=[],h=function(e,t,n,r){for(;e.firstChild;)e.removeChild(e.firstChild);e.setAttribute("style",""),e.style.textAlign="center",s.cellFunction?s.cellFunction(e,t,n,r):(e.textContent=i.label(r),e.setAttribute("style","padding: 0.3em")),delete e.old},m=function(t){var n=t.toNT();if(f[n])return f[n];var r=e.createElement("tr"),o=r.appendChild(e.createElement("td"));o.setAttribute("style","padding: 0.3em;"),o.textContent=i.label(t),"NamedNode"===t.termType&&l.fetcher.nowOrWhenFetched(t.uri.split("#")[0],void 0,(function(e,n,r){e&&(o.textContent=i.label(t))}));for(var c=0;c<p.length;c++)h(r.appendChild(e.createElement("td")),a.fromNT(p[c]),t,null);r.dataValueNT=n,f[n]=r;for(var d=u.lastHeader.nextSibling;d;d=d.nextSibling)if(n>d.dataValueNT&&s&&s.yDecreasing||n<d.dataValueNT&&(!s||!s.yDecreasing))return u.insertBefore(r,d);return u.appendChild(r)},g=function(t){for(var n=t.toNT(),r=null,o=0;o<p.length;o++){if(p[o]===n)return o;if(n>p[o]&&s.xDecreasing||n<p[o]&&!s.xDecreasing){p=p.slice(0,o).concat([n]).concat(p.slice(o)),r=o;break}}null===r&&(r=p.length,p.push(n));for(var l=u.firstChild;l;l=l.nextSibling){var c=l.dataValueNT,d=e.createElement("td");if(d.style.textAlign="center",l===u.firstChild?d.textContent=i.label(t):h(d,t,a.fromNT(c),null),r===p.length-1)l.appendChild(d);else{for(var f=l.firstChild,m=0;m<r+1;m++)f=f.nextSibling;l.insertBefore(d,f)}}return r},v=function(){var e,t,n=[],r=[];if(s.set_y)for(var i=0;i<s.set_y.length;i++)r[s.set_y[i]]=!0;if(s.set_x)for(var o=0;o<s.set_x.length;o++)n[g(s.set_x[o])+1]=!0;for(var l=1;l<u.children.length;l++){e=u.children[l];for(var c=1;c<e.children.length;c++)if((t=e.children[c]).old){var d=a.fromNT(e.dataValueNT),m=a.fromNT(p[c-1]);h(t,m,d,null)}else r[e.dataValueNT]=!0,n[c]=!0}for(var v=0;v<u.children.length;v++)if(e=u.children[v],v>0&&!r[e.dataValueNT])delete f[e.dataValueNT],u.removeChild(e);else for(var y=e.children.length-1;y>0;y--){var b=e.children[y];n[y]||e.removeChild(b)}for(var w=[],x=0;x<p.length;x++)n[x+1]&&w.push(p[x]);p=w};u.refresh=function(){!function(){for(var e=1;e<u.children.length;e++)for(var t=u.children[e],n=1;n<t.children.length;n++)t.children[n].old=!0}(),l.query(t,y,void 0,v)};var y=function(e){var t=e[n.toString()],i=e[r.toString()],a=e[o.toString()],s=m(i),l=g(t),c=s.children[l+1];h(c,t,i,a)};if(s.set_y)for(var b=0;b<s.set_y.length;b++)m(s.set_y[b]);if(s.set_x)for(var w=0;w<s.set_x.length;w++)g(s.set_x[w]);return l.query(t,y,void 0,c),u};var i=s(n(27)),a=s(n(3));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=n(20).solidLogicSingleton.store},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.cameraCaptureControl=m,t.cameraButton=function(e,t,n,r){var i,s=e.createElement("div"),l=c.button(e,p,"Take picture");function u(e){return d.apply(this,arguments)}function d(){return(d=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.removeChild(i),s.appendChild(l),r(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.appendChild(l),l.addEventListener("click",(function(r){s.removeChild(l),i=m(e,t,n,u),s.appendChild(i)})),s};var a=r(n(10)),o=r(n(15)),s=d(n(24)),l=n(38),c=d(n(28));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var p=l.icons.iconBase+"noun_Camera_1618446_000000.svg",f=l.icons.iconBase+"noun_479395.svg",h="border-radius: 0.5em; margin: 0.8em; width: ".concat("640","; height:").concat("480",";");function m(e,t,n,r){var i,a,o,u,d=e.createElement("div"),p=d.appendChild(e.createElement("table")),m=p.appendChild(e.createElement("tr")).appendChild(e.createElement("td"));m.setAttribute("colspan","4");var g=p.appendChild(e.createElement("tr"));g.appendChild(e.createElement("td")).appendChild(c.cancelButton(e)).addEventListener("click",(function(e){k(),r(null)}));var v=g.appendChild(e.createElement("td")).appendChild(c.button(e,f,"Retake"));v.addEventListener("click",(function(e){m.removeChild(u),w()})),v.style.visibility="collapse";var y=g.appendChild(e.createElement("td")).appendChild(c.button(e,l.icons.iconBase+"noun_10636.svg","Snap"));y.addEventListener("click",(function(){(u=e.createElement("canvas")).setAttribute("width","640"),u.setAttribute("height","480"),u.setAttribute("style",h),m.appendChild(u),u.getContext("2d").drawImage(o,0,0,u.width,u.height),o.parentNode.removeChild(o),u.toBlob((function(e){var t="got blob type ".concat(e.type," size ").concat(e.size);s.log(t),i=n(),a=e,b.style.visibility="visible",v.style.visibility="visible",y.style.visibility="collapse"}),"image/png")})),y.style.visibility="collapse";var b=g.appendChild(e.createElement("td")).appendChild(c.continueButton(e));function w(){if((o=m.appendChild(e.createElement("video"))).setAttribute("controls","1"),o.setAttribute("autoplay","1"),o.setAttribute("style",h),!navigator.mediaDevices)throw new Error("navigator.mediaDevices not available");navigator.mediaDevices.getUserMedia(x).then((function(e){o.srcObject=e,y.style.visibility="visible",b.style.visibility="collapse",v.style.visibility="collapse"}))}b.addEventListener("click",(function(e){!function(e,n){var i=e.type;s.log("Putting "+e.size+" bytes of "+i+" to "+n),t.fetcher.webOperation("PUT",n.uri,{data:e,contentType:i}).then((function(e){s.log("ok saved "+n),k(),r(n)}),(function(e){k(),alert(e)}))}(a,i)})),b.style.visibility="collapse";var x={video:!0};function k(){o&&o.srcObject&&o.srcObject.getVideoTracks().forEach((function(e){return e.stop()}))}return w(),d}},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.messageArea=function(e,t,n,r,i){t=t||h.store,r=r.doc();var a,o,s=h.ns,c=l.Namespace("http://www.w3.org/2005/01/wf/flow#"),d=l.Namespace("http://purl.org/dc/terms/"),p=!!(i=i||{}).newestFirst,f="white-space: pre-wrap; width: 90%; font-size:100%; border: 0.07em solid #eee; padding: .2em 0.5em; margin: 0.1em 1em 0.1em 1em;",m=e.createElement("div"),g=h.store.updater,v=function(t,n){var r=e.createElement("a");return n&&n.uri&&(r.setAttribute("href",n.uri),r.addEventListener("click",h.widgets.openHrefInOutlineMode,!0),r.setAttribute("style","color: #3B5998; text-decoration: none; ")),r.textContent=t,r},y=function(t,n){var r=e.createElement("pre");return r.setAttribute("style",n||"color: grey"),m.appendChild(r),r.appendChild(e.createTextNode(t)),r},b={log:function(e){y(e,"color: #111;")},warn:function(e){y(e,"color: #880;")},error:function(e){y(e,"color: #800;")}};function w(e){var t=h.store.any(e,h.ns.foaf("nick"));return t?""+t.value:""+u.label(e)}function x(t,n,r,i){var a=t.appendChild(v(w(n),n));n.uri&&h.store.fetcher.nowOrWhenFetched(n.doc(),void 0,(function(e,t){a.textContent=w(n)})),t.appendChild(e.createElement("br")),t.appendChild(v(r,i))}function k(e,n){var r,i,a={};for(r=n.firstChild;r;r=r.nextSibling)r.AJAR_subject&&(a[r.AJAR_subject.uri]=!0);var o=t.each(e,s.wf("message")),l={};for(o.forEach((function(e){l[e.uri]=!0,a[e.uri]||C(e)})),r=n.firstChild;r;)i=r.nextSibling,r.AJAR_subject&&!l[r.AJAR_subject.uri]&&n.removeChild(r),r=i}var C=function(e){var n={"?msg":e,"?creator":t.any(e,s.foaf("maker")),"?date":t.any(e,d("created")),"?content":t.any(e,s.sioc("content"))};E(n,!0)},E=function(r,i){var o=r["?creator"],s=r["?msg"],l=r["?date"],c=r["?content"],u=l.value,d=e.createElement("tr");d.AJAR_date=u,d.AJAR_subject=s;for(var m=!1,v=a.firstChild;v;v=v.nextSibling)if(u>v.AJAR_date&&p||u<v.AJAR_date&&!p){a.insertBefore(d,v),m=!0;break}m||a.appendChild(d);var y=e.createElement("td");d.appendChild(y),x(y,o,h.widgets.shortDate(u),s);var w=e.createElement("td");d.appendChild(w);var C=e.createElement("p");C.setAttribute("style",f+(i?"background-color: #e8ffe8;":"background-color: #white;")),w.appendChild(C),C.textContent=c.value;var E=e.createElement("td");d.appendChild(E);var T=e.createElement("button");E.appendChild(T),T.textContent="-",d.setAttribute("class","hoverControl"),T.setAttribute("class","hoverControlHide"),T.setAttribute("style","color: red;"),T.addEventListener("click",(function(r){E.removeChild(T);var i=e.createElement("button");i.textContent="cancel",E.appendChild(i).addEventListener("click",(function(e){E.removeChild(o),E.removeChild(i),E.appendChild(T)}),!1);var o=e.createElement("button");o.textContent="Delete message",E.appendChild(o).addEventListener("click",(function(e){E.removeChild(o),E.removeChild(i),function(e){var r=t.statementsMatching(e).concat(t.statementsMatching(void 0,void 0,e));g.update(r,[],(function(e,t,r){t?k(n,a):b.error("Cant delete messages:"+r)}))}(s)}),!1)}),!1)};(a=e.createElement("table")).fresh=!1,m.appendChild(a),a.setAttribute("style","width: 100%;");var T,_=function(){var i=e.createElement("tr"),a=e.createElement("td"),c=e.createElement("td"),u=e.createElement("td");i.appendChild(a),i.appendChild(c),i.appendChild(u),i.AJAR_date="9999-01-01T00:00:00Z";var p,m,v=function(){p.setAttribute("class","pendingedit"),p.disabled=!0;var a=[],c=new Date,u=""+c.getTime(),f=l.term(c),m=t.sym(r.uri+"#Msg"+u);a.push(new l.Statement(n,s.wf("message"),m,r)),a.push(new l.Statement(m,s.sioc("content"),t.literal(p.value),r)),a.push(new l.Statement(m,d("created"),f,r)),o&&a.push(new l.Statement(m,s.foaf("maker"),o,r));g.update([],a,(function(n,r,a){if(r){var s={"?msg":m,"?content":t.literal(p.value),"?date":f,"?creator":o};E(s,!1),p.value="",p.setAttribute("class",""),p.disabled=!1}else i.appendChild(h.widgets.errorMessageBlock(e,"Error writing message: "+a))}))};i.appendChild(e.createElement("br"));var y={div:c,dom:e};return h.authn.logIn(y).then((function(t){o=t.me,x(a,o,"",null),p=e.createElement("textarea"),c.innerHTML="",c.appendChild(p),p.rows=3,p.setAttribute("style",f+"background-color: #eef;"),p.addEventListener("keyup",(function(e){13===e.keyCode&&(e.altKey||v())}),!1),u.innerHTML="",(m=h.widgets.button(e,h.icons.iconBase+"noun_383448.svg","Send")).setAttribute("style",h.style.buttonStyle+"float: right;"),m.addEventListener("click",v,!1),u.appendChild(m)})),i}();p?a.insertBefore(_,a.firstChild):a.appendChild(_);if(i.query)T=i.query;else{T=new l.Query("Messages");var S={};["msg","date","creator","content"].forEach((function(e){T.vars.push(S[e]=l.variable(e))})),T.pat.add(n,c("message"),S.msg),T.pat.add(S.msg,s.dct("created"),S.date),T.pat.add(S.msg,s.foaf("maker"),S.creator),T.pat.add(S.msg,s.sioc("content"),S.content)}return t.query(T,E,void 0,(function(){a.fresh=!0})),m.refresh=function(){k(n,a)},m};var i=n(51),a=n(38),o=n(20),s=f(n(16)),l=f(n(3)),c=f(n(39)),u=f(n(27)),d=f(n(28));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var h={authn:i.authn,icons:a.icons,ns:s,rdf:l,store:o.store,style:c,widgets:d}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.createIfNotExists=_,t.desktopNotification=O,t.infiniteMessageArea=function(e,t,n,r){return A.apply(this,arguments)};var a=r(n(10)),o=r(n(15)),s=n(51),l=k(n(24)),c=n(38),u=n(20),d=n(80),p=k(n(16)),f=k(n(73)),h=n(242),m=n(243),g=n(144),v=k(n(3)),y=k(n(39)),b=k(n(27)),w=k(n(28));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T={authn:s.authn,icons:c.icons,ns:p,media:d.media,pad:f,$rdf:v,store:u.store,style:y,utils:b,widgets:w};function _(e){return S.apply(this,arguments)}function S(){return(S=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,s=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"text/turtle",r=s.length>2&&void 0!==s[2]?s[2]:"",i=T.store.fetcher,e.prev=3,e.next=6,i.load(t);case 6:o=e.sent,e.next=29;break;case 9:if(e.prev=9,e.t0=e.catch(3),404!==e.t0.response.status){e.next=27;break}return l.log("createIfNotExists: doc does NOT exist, will create... "+t),e.prev=13,e.next=16,i.webOperation("PUT",t.uri,{data:r,contentType:n});case 16:o=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t1=e.catch(13),l.log("createIfNotExists doc FAILED: "+t+": "+e.t1),e.t1;case 23:return delete i.requested[t.uri],e.abrupt("return",o);case 27:throw l.log("createIfNotExists doc load error NOT 404:  "+t+": "+e.t0),e.t0;case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])})))).apply(this,arguments)}function O(e){"Notification"in window?"granted"===Notification.permission?new Notification(e):"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&new Notification(e)})):l.warn("This browser does not support desktop notification")}function A(){return(A=(0,o.default)(a.default.mark((function e(t,n,r,i){var s,c,u,d,p,f,y,b,w,x,k,E,S,A,j,P,I,N,L,R,M,D,F,B,U,z,q,H,W,G,V,$;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $=function(){return($=(0,o.default)(a.default.mark((function e(){var t,n,r,o,s,l,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){i.selectedElement?i.selectedElement.scrollIntoView({block:"center"}):U.inputRow.scrollIntoView&&U.inputRow.scrollIntoView(d)},t=function(){u.selectedElement.scrollIntoView({block:"center"})},i.selectedMessage&&(o=i.selectedMessage.doc(),s=new Date,l=p.leafDocumentFromDate(s),r=l.sameTerm(o)),!i.selectedMessage||r){e.next=15;break}return c=p.dateFromLeafDocument(o),e.next=7,N(c,r);case 7:u=e.sent,y.appendChild(u),z.messageTable=u,q.messageTable=u,t(),setTimeout(t,1e3),e.next=19;break;case 15:return e.next=17,F();case 17:z.messageTable=U,q.messageTable=U;case 19:return e.next=21,W(null,n);case 21:y.addEventListener("scroll",W),i.solo&&document.body.addEventListener("scroll",W);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},V=function(){return $.apply(this,arguments)},G=function(){return(G=(0,o.default)(a.default.mark((function e(t,n){var r,o,s,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=2;break}return e.abrupt("return");case 2:H=!0,r=!n,o=150;case 5:if(!(y.scrollTop<o&&z.messageTable&&!z.messageTable.initial&&z.messageTable.extendBackwards)){e.next=21;break}if(0!==y.scrollHeight){e.next=10;break}return setTimeout(W,2e3),H=!1,e.abrupt("return");case 10:return c=y.scrollHeight-y.scrollTop,l.log("infinite scroll: adding above: top "+y.scrollTop),e.next=14,z.messageTable.extendBackwards();case 14:if(s=e.sent,r&&(y.scrollTop=y.scrollHeight-c),n&&n(),!s){e.next=19;break}return e.abrupt("break",21);case 19:e.next=5;break;case 21:if(!(i.selectedMessage&&y.scrollHeight-y.scrollTop-y.clientHeight<o&&q.messageTable&&!q.messageTable.final&&q.messageTable.extendForwards)){e.next=33;break}return u=y.scrollTop,l.log("infinite scroll: adding below: bottom: "+(y.scrollHeight-y.scrollTop-y.clientHeight)),e.next=26,q.messageTable.extendForwards();case 26:if(s=e.sent,r&&(y.scrollTop=u),n&&n(),!s){e.next=31;break}return e.abrupt("break",33);case 31:e.next=21;break;case 33:H=!1;case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)},W=function(e,t){return G.apply(this,arguments)},B=function(){return(B=(0,o.default)(a.default.mark((function e(){var t,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,i=p.leafDocumentFromDate(t),e.next=4,N(t,!0);case 4:return o=e.sent,y.appendChild(o),y.refresh=function(){M(new Date).then((function(){S(r,o),O(r)}))},n.updater.addDownstreamChangeListener(i,y.refresh),U=o,q.messageTable=U,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},F=function(){return B.apply(this,arguments)},D=function(){return(D=(0,o.default)(a.default.mark((function e(t){var r,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=p.leafDocumentFromDate(t)).sameTerm(q.messageTable.chatDocument)){e.next=7;break}return U.inputRow&&(U.removeChild(U.inputRow),delete U.inputRow),i=q.messageTable.chatDocument,e.next=6,F();case 6:n.holds(i,s.rdfs("seeAlso"),r,i)||(o=[v.st(i,s.rdfs("seeAlso"),r,i)],k.update([],o,(function(e,t){e||alert("Unable to link old message block to new one."+t)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},M=function(e){return D.apply(this,arguments)},R=function(e,r){var s,l;function u(){return f.apply(this,arguments)}function f(){return(f=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(!0);case 2:return(t=e.sent)?(s&&(s.firstChild.setAttribute("src",T.icons.iconBase+"noun_T-Block_1114655_000000.svg"),s.disabled=!0),w.initial=!0):w.extendedBack=!0,h(),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){if(s){var e=w.extendedBack?!d:d,t=w.initial?"noun_T-Block_1114655_000000.svg":function(e){return e?"noun_1369241.svg":"noun_1369237.svg"}(e);s.firstChild.setAttribute("src",T.icons.iconBase+t)}}function m(){return(m=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.extendedBack){e.next=6;break}I(!0,w),w.extendedBack=!1,h(),e.next=8;break;case 6:return e.next=8,u();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(!1);case 2:return(t=e.sent)?(l.firstChild.setAttribute("src",T.icons.iconBase+"noun_T-Block_1114655_000000.svg"),l.disabled=!0,w.final=!0):w.extendedForwards=!0,y(),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){var e=w.extendedForwards?!d:d,t=w.final?"noun_T-Block_1114657_000000.svg":function(e){return e?"noun_1369237.svg":"noun_1369241.svg"}(e);l.firstChild.setAttribute("src",T.icons.iconBase+t)}function b(){return(b=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.extendedForwards){e.next=6;break}I(!1,w),w.extendedForwards=!1,y(),e.next=9;break;case 6:return e.next=8,g();case 8:q.messageTable.scrollIntoView(d);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=t.createElement("table");w.extendBackwards=u,w.extendForwards=g,w.date=e;var x=p.leafDocumentFromDate(e);if(w.chatDocument=x,w.fresh=!1,w.setAttribute("style","width: 100%;"),r){w.final=!0,U=w,q.messageTable=w;var k=E(w);d?w.insertBefore(k,w.firstChild):w.appendChild(k),w.inputRow=k}if(i.infinite){var C=t.createElement("tr"),_=C.appendChild(t.createElement("td")),S=d?"noun_1369241.svg":"noun_1369237.svg";s=T.widgets.button(t,T.icons.iconBase+S,"Previous messages ..."),_.style="width:3em; height:3em;",s.addEventListener("click",(function(e){return m.apply(this,arguments)}),!1),w.extendedBack=!1,_.appendChild(s),h();var O=C.appendChild(t.createElement("td"));O.style="text-align: center; vertical-align: middle; color: #888; font-style: italic;",O.textContent=T.widgets.shortDate(e.toISOString(),!0);var P=C.appendChild(t.createElement("td")),N=d?"noun_1369241.svg":"noun_1369237.svg";l=T.widgets.button(t,T.icons.iconBase+N,"Later messages ..."),P.appendChild(l),P.style="width:3em; height:3em;",l.addEventListener("click",(function(e){return b.apply(this,arguments)}),!1),w.extendedForward=!1,y(),w.extendedForwards=!1,d?w.appendChild(C):w.insertBefore(C,w.firstChild)}var L=n.statementsMatching(null,c("message"),null,x);return!r&&L.length,L.forEach((function(e){A(e.object,w)})),w.fresh=!0,w.fresh=!1,w},L=function(){return(L=(0,o.default)(a.default.mark((function e(r,i){var o,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.log("   createMessageTable for  "+r),o=p.leafDocumentFromDate(r),e.prev=2,e.next=5,n.fetcher.load(o);case 5:e.next=19;break;case 7:if(e.prev=7,e.t0=e.catch(2),s=t.createElement("table"),c=s.appendChild(t.createElement("tr")),!e.t0.response||!e.t0.response.status||404!==e.t0.response.status){e.next=16;break}return l.log("Error 404 for chat file "+o),e.abrupt("return",R(r,i));case 16:l.log("*** Error NON 404 for chat file "+o),c.appendChild(T.widgets.errorMessageBlock(t,e.t0,"pink"));case 18:return e.abrupt("return",c);case 19:return e.abrupt("return",R(r,i));case 20:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)},N=function(e,t){return L.apply(this,arguments)},I=function(e,t){if(e?d:!d)for(;t.nextSibling;)y.removeChild(t.nextSibling);else for(;t.previousSibling;)y.removeChild(t.previousSibling);(e?z:q).messageTable=t},P=function(){return(P=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t?z:q).messageTable.date,e.next=4,p.loadPrevious(r,t);case 4:if(r=e.sent,l.log("insertPreviousMessages: from ".concat(t?"backwards":"forwards"," loadPrevious: ").concat(r)),r||t||U){e.next=9;break}return e.next=9,F();case 9:if(r){e.next=11;break}return e.abrupt("return",!0);case 11:return i=!1,t||(o=p.leafDocumentFromDate(new Date),s=p.leafDocumentFromDate(r),i=s.sameTerm(o)),e.next=15,N(r,i);case 15:return c=e.sent,n.messageTable=c,(t?d:!d)?y.appendChild(c):y.insertBefore(c,y.firstChild),e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(e){return P.apply(this,arguments)},A=function(e,t){var r={"?msg":e,"?creator":n.any(e,s.foaf("maker")),"?date":n.any(e,u("created")),"?content":n.any(e,s.sioc("content"))};(0,m.renderMessage)(t,r,t.fresh,i,w)},S=function(e,t){var r,i,a={};for(r=t.firstChild;r;r=r.nextSibling)r.AJAR_subject&&(a[r.AJAR_subject.uri]=!0);var o=n.statementsMatching(e,s.wf("message"),null,t.chatDocument).map((function(e){return e.object})),l={};for(o.forEach((function(e){l[e.uri]=!0,a[e.uri]||A(e,t)})),r=t.firstChild;r;)i=r.nextSibling,r.AJAR_subject&&!l[r.AJAR_subject.uri]&&t.removeChild(r),r=i;for(r=t.firstChild;r;r=r.nextSibling)r.AJAR_subject&&T.widgets.refreshTree(r)},E=function(e){var c,h,y=t.createElement("tr"),b=t.createElement("td"),E=t.createElement("td"),S=t.createElement("td");function O(e){return A.apply(this,arguments)}function A(){return(A=(0,o.default)(a.default.mark((function e(o){var h,g,b,C,E,S,O,A;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(){var e={"?msg":S,"?content":O,"?date":C,"?creator":x};(0,m.renderMessage)(U,e,!1,i,w),o||(c.value="",c.setAttribute("style",f),c.disabled=!1,c.scrollIntoView(d),c.focus(),c.select())},h=new Date,e.next=4,M(h);case 4:if(o||(c.setAttribute("style",f+"color: #bbb;"),c.disabled=!0),g=[],b=""+h.getTime(),C=v.term(h),E=p.leafDocumentFromDate(h),S=n.sym(E.uri+"#Msg"+b),O=n.literal(o||c.value),g.push(new v.Statement(r,s.wf("message"),S,E)),g.push(new v.Statement(S,s.sioc("content"),O,E)),g.push(new v.Statement(S,u("created"),C,E)),x&&g.push(new v.Statement(S,s.foaf("maker"),x,E)),void 0!==n.fetcher.requested[E.uri]&&404!==n.fetcher.requested[E.uri]){e.next=19;break}return l.log("@@@ SERVER_MKDIRP_BUG: Should only happen once: create chat file: "+E),e.next=19,_(E);case 19:return e.prev=19,e.next=22,k.update([],g);case 22:e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(19),y.appendChild(T.widgets.errorMessageBlock(t,"Error writing message: "+e.t0)),e.abrupt("return");case 28:A();case 29:case"end":return e.stop()}}),e,null,[[19,24]])})))).apply(this,arguments)}function j(t){var r=e.chatDocument.dir().uri;T.widgets.uploadFiles(n.fetcher,t,r+"Files",r+"Pictures",function(){var e=(0,o.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}y.appendChild(b),y.appendChild(E),y.appendChild(S),y.AJAR_date="9999-01-01T00:00:00Z",y.appendChild(t.createElement("br"));var P=function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,O(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}();var I={div:E,dom:t};return T.authn.logIn(I).then((function(e){x=e.me,function(){i.menuHandler,(0,m.creatorAndDate)(b,x,"",null),c=t.createElement("textarea"),E.innerHTML="",E.appendChild(c),c.rows=3,c.setAttribute("style",f+"background-color: #eef;"),c.addEventListener("keydown",function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=4;break}if(t.altKey){e.next=4;break}return e.next=4,O();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),T.widgets.makeDropTarget(c,P,j),S.innerHTML="",(h=T.widgets.button(t,T.icons.iconBase+"noun_383448.svg","Send")).setAttribute("style",T.style.buttonStyle+"float: right;"),h.addEventListener("click",(function(e){return O()}),!1),S.appendChild(h);var e=p.leafDocumentFromDate(new Date);function s(){return(s=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,O(t.uri);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E.appendChild(T.media.cameraButton(t,n,(function(){return n.sym(e.dir().uri+"Image_"+Date.now()+".png")}),(function(e){return s.apply(this,arguments)}))),T.pad.recordParticipation(r,r.doc())}(),Object.assign(e,w),(0,g.findBookmarkDocument)(e).then((function(e){l.log("Bookmark file: "+e.bookmarkDocument)}))})),y},n=n||T.store,s=T.ns,c=v.Namespace("http://www.w3.org/2005/01/wf/flow#"),u=v.Namespace("http://purl.org/dc/terms/"),d="1"===(i=i||{}).newestFirst||!0===i.newestFirst,p=new h.DateFolder(r,"chat.ttl"),i.authorAboveContent=!0,f=T.style.messageBodyStyle,y=t.createElement("div"),b=y.appendChild(t.createElement("div")),w={dom:t,statusArea:b,div:b},k=T.store.updater,z={messageTable:null},q={messageTable:null},H=!1,e.next=35,V();case 35:return e.abrupt("return",y);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(105),i=n(241);function a(t,n,o){return i()?(e.exports=a=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.default=e.exports,e.exports.__esModule=!0),a.apply(null,arguments)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.DateFolder=void 0;var a=r(n(10)),o=r(n(15)),s=r(n(7)),l=r(n(9)),c=h(n(24)),u=n(20),d=h(n(16)),p=h(n(3));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var m=u.store,g=function(){function e(t,n,r){(0,s.default)(this,e),this.root=t,this.rootFolder=t.dir(),this.leafFileName=n||"index.ttl",this.membershipProperty=r||d.wf("leafObject")}var t,n;return(0,l.default)(e,[{key:"leafDocumentFromDate",value:function(e){var t=e.toISOString().split("T")[0].replace(/-/g,"/");return t=this.root.dir().uri+t+"/"+this.leafFileName,m.sym(t)}},{key:"dateFromLeafDocument",value:function(e){var t=this.rootFolder.uri.length,n=e.uri.slice(t,t+10).replace(/\//g,"-"),r=new Date(n);return c.log("Date for "+e+":"+r.toISOString()),r}},{key:"loadPrevious",value:(n=(0,o.default)(a.default.mark((function e(t,n){var r,i,s,l,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=(0,o.default)(a.default.mark((function e(t,s){var l,c,u,p,f,h,g,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(){return(p=(0,o.default)(a.default.mark((function e(t){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=t.filter(c)).sort(),n||t.reverse(),3===s){e.next=5;break}return e.abrupt("return",t.pop());case 5:if(!t.length){e.next=14;break}return i=t.pop(),o=m.sym(i.uri+r.leafFileName),e.next=10,m.fetcher.load(o);case 10:if(!(m.statementsMatching(null,d.dct("created"),null,o).length>0)){e.next=12;break}return e.abrupt("return",i);case 12:e.next=5;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return p.apply(this,arguments)},c=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},l=function(e){return!(n?e.uri>=t.uri:e.uri<=t.uri)},f=t.dir(),e.next=7,m.fetcher.load(f);case 7:return h=(h=m.each(f,d.ldp("contains"))).filter(l),e.next=11,u(h);case 11:if(!(g=e.sent)){e.next=14;break}return e.abrupt("return",g);case 14:if(0!==s){e.next=16;break}return e.abrupt("return",null);case 16:return e.next=18,i(f,s-1);case 18:if(v=e.sent){e.next=21;break}return e.abrupt("return",null);case 21:return e.next=23,m.fetcher.load(v);case 23:return y=m.each(v,d.ldp("contains")),e.next=26,u(y);case 26:return b=e.sent,e.abrupt("return",b);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e,t){return s.apply(this,arguments)},r=this,l=this.leafDocumentFromDate(t).dir(),e.next=6,i(l,3);case 6:if(!(c=e.sent)){e.next=10;break}return u=m.sym(c.uri+this.leafFileName),e.abrupt("return",this.dateFromLeafDocument(u));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"firstLeaf",value:(t=(0,o.default)(a.default.mark((function e(t){var n,r,i,s,l,u,f,h,m,g,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=(0,o.default)(a.default.mark((function e(i){var o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},c.log("            parent "+i),delete r.requested[i.uri],e.next=5,r.load(i,{force:!0});case 5:if(0!==(s=(s=n.each(i,d.ldp("contains"))).filter(o)).length){e.next=9;break}throw new Error(" @@@  No children to         parent2 "+i);case 9:return s.sort(),t&&s.reverse(),e.abrupt("return",s[0]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return s.apply(this,arguments)},n=p.graph(),r=new p.Fetcher(n),e.next=6,i(this.root.dir());case 6:return l=e.sent,e.next=9,i(l);case 9:return u=e.sent,e.next=12,i(u);case 12:return f=e.sent,h=p.sym(f.uri+"chat.ttl"),e.next=16,r.load(h);case 16:if(0!==(m=n.each(this.root,this.membershipProperty,null,h)).length){e.next=21;break}throw g="  INCONSISTENCY -- no chat leafObject in file "+h,c.trace(g),new Error(g);case 21:return(v=m.map((function(e){return[n.any(e,d.dct("created")),e]}))).sort(),t&&v.reverse(),c.log((t?"Latest":"Earliest")+" leafObject is "+v[0][1]),e.abrupt("return",v[0][1]);case 26:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();t.DateFolder=g},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.elementForImageURI=x,t.creatorAndDate=E,t.creatorAndDateHorizontal=T,t.renderMessage=function(e,t,n,r,a){var o="1"===r.colorizeByAuthor||!0===r.colorizeByAuthor,s=t["?creator"],l=t["?msg"],c=t["?date"],u=t["?content"],d=c.value,p=y.createElement("tr");p.AJAR_date=d,p.AJAR_subject=l,r.selectedMessage&&r.selectedMessage.sameTerm(l)&&(p.style.backgroundColor="yellow",r.selectedElement=p,e.selectedElement=p);for(var f=!1,h=e.firstChild;h;h=h.nextSibling){var m=!0===r.newestfirst;if(d>h.AJAR_date&&m||d<h.AJAR_date&&!m){e.insertBefore(p,h),f=!0;break}}f||e.appendChild(p);var g=y.createElement("td");if(p.appendChild(g),r.authorAboveContent){var w=y.createElement("img");w.setAttribute("style","max-height: 2.5em; max-width: 2.5em; border-radius: 0.5em; margin: auto;"),v.widgets.setImage(w,s),g.appendChild(w)}else E(g,s,v.widgets.shortDate(d),l);var k=p.appendChild(y.createElement("td"));r.authorAboveContent&&T(k,s,v.widgets.shortDate(d),l);var C=u.value.trim(),_=/^https?:\/[^ <>]*$/i.test(C),S=null;if(_){if(/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test(C)&&r.expandImagesInline){var O=x(C,r);k.appendChild(O)}else{var A=k.appendChild(y.createElement("a"));S=A.appendChild(y.createElement("p")),A.href=C,S.textContent=C,k.appendChild(A)}}else S=y.createElement("p"),k.appendChild(S),S.textContent=C;if(S){var j=o?v.pad.lightColorHash(s):function(e){return e?"#e8ffe8":"white"}(n);S.setAttribute("style",b+"background-color: "+j+";")}var P=(0,i.sentimentStripLinked)(l,l.doc());P.children.length&&(k.appendChild(y.createElement("br")),k.appendChild(P));var I=y.createElement("td");p.appendChild(I);var N=v.widgets.button(y,v.icons.iconBase+"noun_243787.svg","...");return I.appendChild(N),N.addEventListener("click",(function(e){if(p.toolTR)return p.parentNode.removeChild(p.toolTR),void delete p.toolTR;var t=y.createElement("tr"),n=(0,i.messageToolbar)(l,p,a);n.style="border: 0.05em solid #888; border-radius: 0 0 0.7em 0.7em;  border-top: 0; height:3.5em; background-color: #fff;",p.nextSibling?p.parentElement.insertBefore(t,p.nextSibling):p.parentElement.appendChild(t),p.toolTR=t,t.appendChild(y.createElement("td"));var r=t.appendChild(y.createElement("td"));t.appendChild(y.createElement("td")),r.appendChild(n)})),p};var i=n(244),a=n(51),o=n(38),s=n(20),l=n(80),c=g(n(16)),u=g(n(73)),d=g(n(3)),p=g(n(39)),f=g(n(27)),h=g(n(28));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var v={authn:a.authn,icons:o.icons,ns:c,media:l.media,pad:u,rdf:d,store:s.store,style:p,utils:f,widgets:h},y=v.dom||window.document,b=v.style.messageBodyStyle,w=v.utils.label;function x(e,t){var n=y.createElement("img"),r="10";t.inlineImageHeightEms&&(r=(""+t.inlineImageHeightEms).trim()),n.setAttribute("style","max-height: "+r+"em; border-radius: 1em; margin: 0.7em;"),e&&n.setAttribute("src",e);var i=y.createElement("a");return i.setAttribute("href",e),i.setAttribute("target","images"),i.appendChild(n),v.widgets.makeDraggable(n,$rdf.sym(e)),i}var k=function(e,t){var n=y.createElement("a");return t&&t.uri&&(n.setAttribute("href",t.uri),n.addEventListener("click",v.widgets.openHrefInOutlineMode,!0),n.setAttribute("style","color: #3B5998; text-decoration: none; ")),n.textContent=e,n};function C(e){var t=v.store.any(e,v.ns.foaf("nick"));return t?""+t.value:""+w(e)}function E(e,t,n,r){var i=e.appendChild(k(C(t),t));t.uri&&v.store.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(e,n){i.textContent=C(t)})),e.appendChild(y.createElement("br")),e.appendChild(k(n,r))}function T(e,t,n,r){var i=e.appendChild(k(w(t),t));t.uri&&v.store.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(e,n){i.textContent=C(t)}));var a=e.appendChild(k(n,r));a.style.fontSize="80%",a.style.marginLeft="1em",e.appendChild(y.createElement("br"))}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.sentimentStrip=function(e,t){var n=C.each(null,p.schema("target"),e,t).map((function(e){return C.any(e,p.rdf("type"),null,t)}));n.sort();var r=n.map((function(e){return T[e]||""}));return k.createTextNode(r.join(" "))},t.sentimentStripLinked=function(e,t){var n=k.createElement("span");function r(){n.innerHTML="";var r=C.each(null,p.schema("target"),e,t).map((function(e){return[C.any(e,p.rdf("type"),null,t),C.any(e,p.schema("agent"),null,t)]}));r.sort(),r.forEach((function(e){var t,r=(0,s.default)(e,2),i=r[0],a=r[1];a?(t=k.createElement("a")).setAttribute("href",a.uri):t=k.createTextNode(""),t.textContent=T[i]||"*",n.appendChild(t)}))}return r(),n.refresh=r,n},t.messageToolbar=function(e,t,n){var r=k.createElement("div");function i(){r.parentElement.parentElement.removeChild(r.parentElement)}function s(e){return l.apply(this,arguments)}function l(){return(l=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(C.connectedStatements(t),[]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=x.authn.currentUser();if(c&&C.holds(e,p.foaf("maker"),c)){var u=x.widgets.deleteButtonWithCheck(k,r,"message",(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.updater.update(C.connectedStatements[e],[]);case 2:i();case 3:case"end":return t.stop()}}),t)}))));r.appendChild(u)}function d(e,n,r,i,l,c){function u(){f.style.backgroundColor=d?"yellow":"white"}var d,f=x.widgets.button(k,r,x.utils.label(i),function(){var r=(0,o.default)(a.default.mark((function r(o){var f,m,g,v;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!d){r.next=7;break}return r.next=3,s(d);case 3:d=null,u(),r.next=25;break;case 7:return d=x.widgets.newThing(l),f=[$rdf.st(d,p.schema("agent"),e.me,l),$rdf.st(d,p.rdf("type"),i,l),$rdf.st(d,p.schema("target"),n,l)],r.next=11,E([],f);case 11:if(u(),!c){r.next=25;break}m=!1,g=0;case 15:if(!(g<c.length)){r.next=24;break}if(!(v=h(c[g]))){r.next=21;break}return r.next=20,s(v);case 20:m=!0;case 21:g++,r.next=15;break;case 24:m&&x.widgets.refreshTree(t);case 25:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());function h(t){var r=C.each(null,p.schema("agent"),e.me,l).filter((function(e){return C.holds(e,p.rdf("type"),t,l)})).filter((function(e){return C.holds(e,p.schema("target"),n,l)}));return r.length?r[0]:null}function m(){d=h(i),u()}return f.refresh=m,m(),f}if((0,y.renderBookmarksButton)(n).then((function(e){e&&r.appendChild(e)})),c=x.authn.currentUser()){var f={me:c,dom:k,div:r};r.appendChild(d(f,e,x.icons.iconBase+"noun_1384132.svg",p.schema("AgreeAction"),e.doc(),[p.schema("DisagreeAction")])),r.appendChild(d(f,e,x.icons.iconBase+"noun_1384135.svg",p.schema("DisagreeAction"),e.doc(),[p.schema("AgreeAction")]))}var h=r.appendChild(x.widgets.cancelButton(k));return h.style.float="right",h.firstChild.style.opacity="0.3",h.addEventListener("click",i),r};var a=r(n(10)),o=r(n(15)),s=r(n(111)),l=n(51),c=n(38),u=n(20),d=n(80),p=w(n(16)),f=w(n(73)),h=w(n(3)),m=w(n(39)),g=w(n(27)),v=w(n(28)),y=n(144);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var x={authn:l.authn,icons:c.icons,ns:p,media:d.media,pad:f,rdf:h,store:u.store,style:m,utils:g,widgets:v},k=window.document,C=u.store;function E(e,t){return new Promise((function(n,r){C.updater.update(e,t,(function(e,t,i){t?n():r(new Error(i))}))}))}var T={};T[p.schema("AgreeAction")]="👍",T[p.schema("DisagreeAction")]="👎",T[p.schema("EndorseAction")]="⭐️",T[p.schema("LikeAction")]="❤️"},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){return h[e]},t.set=function(e,t){if("string"!=typeof t)throw i.log("Non-string value of preference "+e+": "+t),new Error("Non-string value of preference "+e+": "+t);this.value[e]=t},t.recordSharedPreferences=m,t.recordPersonalDefaults=g,t.renderPreferencesForm=function(e,t,n,r){var i=r.dom.createElement("div");return l.participationObject(e,e.doc(),r.me).then((function(a){var o=r.dom;function s(e){i.appendChild(o.createElement("h5")).textContent=e}s("My view of this "+r.noun),u.appendForm(o,i,{},a,n,e.doc(),(function(e,t){e||u.complain(r,t)})),s("Everyone's  view of this "+r.noun),m(e,r).then((function(r){var a=r.sharedPreferences;u.appendForm(o,i,{},a,n,e.doc(),(function(e,t){e||u.complain(r,t)})),s("My default view of any "+r.noun),g(t,r).then((function(e){u.appendForm(o,i,{},e.personalDefaults,n,e.preferencesFile,(function(t,n){t||u.complain(e,n)}))}),(function(e){u.complain(r,e)}))}))}),(function(e){i.appendChild(u.errorMessageBlock(r.dom,e))})),i},t.getPreferencesForClass=function(e,t,n,r){return new Promise((function(i,a){m(e,r).then((function(r){var o=r.sharedPreferences;if(r.me)l.participationObject(e,e.doc(),r.me).then((function(e){g(t,r).then((function(t){var r=[],a=t.personalDefaults;n.forEach((function(t){var n=f.any(e,t)||f.any(o,t)||f.any(a,t);n&&(r[t.uri]=v(n))})),i(r)}),a)}),a);else{var s=[];n.forEach((function(e){var t=f.any(o,e);t&&(s[e.uri]=v(t))})),i(s)}}))}))},t.value=void 0;var i=p(n(24)),a=n(51),o=n(20),s=p(n(16)),l=p(n(119)),c=p(n(3)),u=p(n(28));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var f=o.store,h=[];function m(e,t){return new Promise((function(n,r){var a=f.any(e,s.ui("sharedPreferences"));if(a)t.sharedPreferences=a,n(t);else{var o=c.sym(e.doc().uri+"#SharedPreferences"),l=[c.st(e,s.ui("sharedPreferences"),o,e.doc())];i.log("Creating shared preferences "+o),f.updater.update([],l,(function(e,i,a){i?(t.sharedPreferences=o,n(t)):r(new Error("Error creating shared prefs: "+a))}))}}))}function g(e,t){return new Promise((function(n,r){a.authn.logInLoadPreferences(t).then((function(t){if(t.preferencesFile){var a,o,l=f.each(null,s.solid("forClass"),e,t.preferencesFile),d=[];if(l.length){if(l.forEach((function(e){a=a||f.any(e,s.solid("personalDefaults"))})),a)return t.personalDefaults=a,void n(t);a=u.newThing(t.preferencesFile),o=l[0]}else o=u.newThing(t.preferencesFile),d=[c.st(o,s.rdf("type"),s.solid("TypeRegistration"),t.preferencesFile),c.st(o,s.solid("forClass"),e,t.preferencesFile)];a=u.newThing(t.preferencesFile),d.push(c.st(o,s.solid("personalDefaults"),a,t.preferencesFile)),f.updater.update([],d,(function(i,o,s){o?(t.personalDefaults=a,n(t)):r(new Error("Setting preferences for "+e+": "+s))}))}else i.log("Not doing private class preferences as no access to preferences file. "+t.preferencesFileError)}),(function(e){r(e)}))}))}function v(e){return e.datatype?e.datatype.equals(s.xsd("boolean"))?"1"===e.value:e.datatype.equals(s.xsd("dateTime"))||e.datatype.equals(s.xsd("date"))?new Date(e.value):e.datatype.equals(s.xsd("integer"))||e.datatype.equals(s.xsd("float"))||e.datatype.equals(s.xsd("decimal"))?Number(e.value):e.value:e}t.value=h},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.renderTableViewPane=function(e,t){var n,r,a,o,s=t.sourceDocument,l=t.tableClass,d=t.query,p=h.ns,f=h.store,m={},g={"http://www.w3.org/2002/07/owl#sameAs":!0,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":!0},v={"http://www.w3.org/2001/XMLSchema#decimal":!0,"http://www.w3.org/2001/XMLSchema#float":!0,"http://www.w3.org/2001/XMLSchema#double":!0,"http://www.w3.org/2001/XMLSchema#integer":!0,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":!0,"http://www.w3.org/2001/XMLSchema#positiveInteger":!0,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":!0,"http://www.w3.org/2001/XMLSchema#negativeInteger":!0,"http://www.w3.org/2001/XMLSchema#long":!0,"http://www.w3.org/2001/XMLSchema#int":!0,"http://www.w3.org/2001/XMLSchema#short":!0,"http://www.w3.org/2001/XMLSchema#byte":!0,"http://www.w3.org/2001/XMLSchema#unsignedLong":!0,"http://www.w3.org/2001/XMLSchema#unsignedInt":!0,"http://www.w3.org/2001/XMLSchema#unsignedShort":!0,"http://www.w3.org/2001/XMLSchema#unsignedByte":!0},y={"http://www.w3.org/2001/XMLSchema#dateTime":!0,"http://www.w3.org/2001/XMLSchema#date":!0},b={"http://xmlns.com/foaf/0.1/Image":!0,"http://purl.org/dc/terms/Image":!0},w=t.keyVariable||"?_row",x=0,k=null,C=e.createElement("div");C.className="tableViewPane",C.appendChild(function(){var t=e.createElement("table");t.setAttribute("class","toolbar");var n=e.createElement("tr");return a=e.createElement("td"),n.appendChild(a),o=e.createElement("td"),n.appendChild(o),t.appendChild(n),t}());var E=e.createElement("div");if(C.appendChild(E),C.refresh=function(){Y(T.query,T.logicalRows,T.columns,T)},d){var T=ee(d);E.appendChild(T)}else{var _=function(){var e,t,n=function(){for(var e={},t=f.statementsMatching(void 0,h.ns.rdf("type"),l,s),n={},r=0;r<t.length;++r){var i=t[r].object;if("NamedNode"===i.termType){var a=R(e,i);i.uri in n||(n[i.uri]=[]),n[i.uri].push(t[r].subject),a.addUse()}}return[n,e]}();for(var r in e=n[0],t=n[1],e){var i=e[r];D(t[r],i)}return[new j(null),I(t)]}();n=_[0],r=_[1],l||a.appendChild(function(t,n){var r=e.createElement("div");r.appendChild(e.createTextNode("Select type: "));var i=e.createElement("select");for(var a in i.appendChild(N("All types","null")),n)i.appendChild(N(n[a].getLabel(),a));return i.addEventListener("click",(function(){var e;e="null"===i.value?t:n[i.value],O(e)}),!1),r.appendChild(i),r}(n,r)),O(function(e){var t,n=-1,r=null;for(t in e){var i=e[t];i.useCount>n&&(r=i,n=i.useCount)}return r}(r)||n)}return C;function S(e){var t=new c.Query,n=f.variable(w.slice(1));return function(e,t){for(var n=t.getColumns(),r=0;r<n.length;++r){var i=f.variable("_col"+r);e.vars.push(i),n[r].setVariable(i)}}(t,e),function(e,t,n){var r=n.type;r||(r=f.variable("_any")),e.pat.add(t,h.ns.rdf("type"),r)}(t,n,e),function(e,t,n){for(var r=n.getColumns(),i=0;i<r.length;++i){var a=r[i],o=f.formula();o.add(t,a.predicate,a.getVariable()),e.pat.optional.push(o)}}(t,n,e),t}function O(t){A(o),o.appendChild(function(t){var n=e.createElement("div"),r=t.getUnusedColumns();if(r.sort((function(e,t){var n=e.sortKey(),r=t.sortKey();return(n>r)-(n<r)})),r.length>0){n.appendChild(e.createTextNode("Add column: "));var i=e.createElement("select");i.appendChild(N("","-1"));for(var a=0;a<r.length;++a){var o=r[a];i.appendChild(N(o.getLabel(),""+a))}n.appendChild(i),i.addEventListener("click",(function(){var e=Number(i.value);e>=0&&(t.addColumn(r[e]),O(t))}),!1)}return n}(t)),function(e,t){k&&(k.running=!1);var n=ee(e,t);A(E),E.appendChild(n),k=e}(S(t),t)}function A(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}function j(e){this.type=e,this.columns=null,this.allColumns=[],this.useCount=0,this.getAllColumns=function(){return this.allColumns},this.getColumns=function(){if(!this.columns){var e=this.getAllColumns();this.columns=e.slice(0,7)}return this.columns},this.getUnusedColumns=function(){for(var e=this.getAllColumns(),t=this.getColumns(),n=[],r=0;r<e.length;++r)-1===t.indexOf(e[r])&&n.push(e[r]);return n},this.addColumn=function(e){this.columns.push(e)},this.removeColumn=function(e){this.columns=this.columns.filter((function(t){return t!==e}))},this.getLabel=function(){return u.label(this.type)},this.addUse=function(){this.useCount+=1}}function P(){this.useCount=0,this.checkedAnyValues=!1,this.possiblyLiteral=!0,this.possiblyNumber=!0,this.constraints=[],this.checkValue=function(e){var t=e.termType;if(this.possiblyLiteral&&"Literal"!==t&&"NamedNode"!==t)this.possiblyNumber=!1,this.possiblyLiteral=!1;else if(this.possiblyNumber){if("Literal"!==t)this.possiblyNumber=!1;else e.value.match(/^-?\d+(\.\d*)?$/)||(this.possiblyNumber=!1)}this.checkedAnyValues=!0},this.getVariable=function(){return this.variable},this.setVariable=function(e){this.variable=e},this.getKey=function(){return this.variable.toString()},this.addUse=function(){this.useCount+=1},this.getHints=function(){return t&&t.hints&&this.variable&&t.hints[this.variable.toNT()]?t.hints[this.variable.toNT()]:{}},this.getLabel=function(){return this.getHints().label?this.getHints().label:this.predicate?this.predicate.sameTerm(p.rdf("type"))&&this.superClass?u.label(this.superClass,!0):u.label(this.predicate):this.variable?this.variable.toString():"unlabeled column?"},this.setPredicate=function(e,t,n){t?(this.inverse=e,this.constraints=this.constraints.concat(f.each(e,h.ns.rdfs("domain"))),e.sameTerm(p.rdfs("subClassOf"))&&"NamedNode"===n.termType&&(this.superClass=n,this.alternatives=f.each(void 0,p.rdfs("subClassOf"),n))):(this.predicate=e,this.constraints=this.constraints.concat(f.each(e,h.ns.rdfs("range"))))},this.getConstraints=function(){return this.constraints},this.filterFunction=function(){return!0},this.sortKey=function(){return this.getLabel().toLowerCase()},this.isImageColumn=function(){for(var e=0;e<this.constraints.length;e++)if(this.constraints[e].uri in b)return!0;return!1}}function I(e,t){var n=[];for(var r in e){var i=e[r];t&&!t(r,i)||n.push(i)}return n}function N(t,n){var r=e.createElement("option");return r.setAttribute("value",n),r.appendChild(e.createTextNode(t)),r}function L(e,t){var n;return t.uri in e?n=e[t.uri]:((n=new P).setPredicate(t),e[t.uri]=n),n}function R(e,t){var n;return t.uri in e?n=e[t.uri]:(n=new j(t),e[t.uri]=n),n}function M(e,t){for(var n=f.statementsMatching(e,void 0,void 0,s),r={},i=0;i<n.length;++i){var a=n[i].predicate;if(!(a.uri in g)){var o=L(t,a);o.checkValue(n[i].object),r[a.uri]=o}}return r}function D(e,t){for(var n={},r=0;r<t.length;++r){var i=M(t[r],n);for(var a in i){i[a].addUse()}}var o=I(n);!function(e){e.sort((function(e,t){return(e.useCount<t.useCount)-(e.useCount>t.useCount)}))}(o),e.allColumns=o}function F(t,n){var r=e.createElement("a");return r.appendChild(e.createTextNode("[x]")),r.addEventListener("click",(function(){t.removeColumn(n),O(t)}),!1),r}function B(e,t){for(var n=!0,r=0;r<t.length;++r){var i=t[r],a=i.getKey(),o=null;if(a in e.values&&(o=e.values[a][0]),!i.filterFunction(o)){n=!1;break}}var s=e._htmlRow;s.style.display=n?"":"none"}function U(e,t){for(var n=0;n<e.length;++n){B(e[n],t)}}function z(e,t,n){function r(e){return e?"Literal"===e.termType?e.value.toLowerCase():"NamedNode"===e.termType?u.label(e).toLowerCase():e.value.toLowerCase():""}!function(e,t,n,r){var i=t.getKey();if(e.sort((function(e,t){var a=null,o=null;i in e.values&&(a=e.values[i][0]),i in t.values&&(o=t.values[i][0]);var s=n(a,o);return r?-s:s})),e.length){for(var a=e[0]._htmlRow.parentNode,o=0;o<e.length;++o)a.removeChild(e[o]._htmlRow);for(var s=0;s<e.length;++s)a.appendChild(e[s]._htmlRow)}}(e,t,(function(e,t){var n=r(e),i=r(t);return n<i?-1:n>i?1:0}),n)}function q(t,n,r){var i=e.createElement("div"),a=e.createElement("input");a.setAttribute("type","text"),a.style.width="70%",i.appendChild(a);var o=e.createElement("span");o.appendChild(e.createTextNode("▼")),o.addEventListener("click",(function(){z(t,r,!1)}),!1),i.appendChild(o);var s=e.createElement("span");s.appendChild(e.createTextNode("▲")),s.addEventListener("click",(function(){z(t,r,!0)}),!1),i.appendChild(s);var l=null;return r.filterFunction=function(e){return!l||!!e&&("Literal"===e.termType?e.value:"NamedNode"===e.termType?u.label(e):"").toLowerCase().indexOf(l)>=0},a.addEventListener("keyup",(function(){l=""!==a.value?a.value.toLowerCase():null,U(t,n)}),!1),i}function H(t,n,r,i){for(var a=e.createElement("div"),o=e.createElement("select"),s={},l=0;l<i.length;++l){var c=i[l];s[c.uri]=!0}var d=$(r).initialSelection;d&&(s=d),o.setAttribute("multiple","true");for(var p=0;p<i.length;++p){var f=i[p],h=N(u.label(f),p);s[f.uri]&&(h.selected=!0),o.appendChild(h)}return a.appendChild(o),r.filterFunction=function(e){return!s||e&&s[e.uri]},o.addEventListener("click",(function(){s={};for(var e=o.options,r=0;r<e.length;r++){var a=e[r],l=Number(a.value);e[r].selected&&(s[i[l].uri]=!0)}U(t,n)}),!0),a}function W(t,n,r){var i=e.createElement("div"),a=e.createElement("input");a.setAttribute("type","text"),a.style.width="40px",i.appendChild(a);var o=e.createElement("input");o.setAttribute("type","text"),o.style.width="40px",i.appendChild(o);var s=null,l=null;function c(){s=""===a.value?null:Number(a.value),l=""===o.value?null:Number(o.value),U(t,n)}return r.filterFunction=function(e){return e&&(e=Number(e)),!(s&&(!e||e<s))&&!(l&&(!e||e>l))},a.addEventListener("keyup",c,!1),o.addEventListener("keyup",c,!1),i}function G(e,t,n){if(n.superClass&&n.alternatives.length>0)return H(e,t,n,n.alternatives);for(var r,i=n.getConstraints(),a=0;a<i.length;a++){if(r=i[a],n.checkedAnyValues&&n.possiblyNumber||r.uri in v)return W(e,t,n);if("http://www.w3.org/2000/01/rdf-schema#Literal"===r.uri)return q(e,t,n);var o=f.each(r,h.ns.owl("oneOf"));if(o.length>0)return H(e,t,n,o.elements)}return function(e,t,n){return n.checkedAnyValues&&n.possiblyNumber?W(e,t,n):n.possiblyLiteral?q(e,t,n):null}(e,t,n)}function V(t,n,r){r=r||{};var a=e.createElement("a"),o=r.linkFunction;return a.setAttribute("href",t),a.appendChild(e.createTextNode(n)),o?a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=u.getTarget(e).getAttribute("href");t||i.log("No href found \n"),o(t)}),!0):a.addEventListener("click",h.widgets.openHrefInOutlineMode,!0),a}function $(e){return t&&t.hints&&e.variable&&t.hints[e.variable.toNT()]?t.hints[e.variable.toNT()]:{}}function Q(t,n){var r=$(n),i=r.cellFormat;if(!i){if("Literal"===t.termType){if(t.datatype){if(y[t.datatype.uri])return e.createTextNode(h.widgets.shortDate(t.value));if(v[t.datatype.uri]){var a=e.createElement("span");return a.textContent=t.value,a.setAttribute("style","text-align: right"),a}}return e.createTextNode(t.value)}if("NamedNode"===t.termType&&n.isImageColumn())return function(t){var n=e.createElement("img");return n.setAttribute("src",t.uri),n.style.height="40px",n}(t);if("NamedNode"===t.termType||"BlankNode"===t.termType)return function(e,t){var n=!1;return e.uri&&(n=e.uri.match(/^mailto:(.*)/)),V(e.uri,n?n[1]:u.label(e),t)}(t,r);if("Collection"===t.termType){var o=e.createElement("span");return o.appendChild(e.createTextNode("[")),t.elements.forEach((function(t){o.appendChild(Q(t,n)),o.appendChild(e.createTextNode(", "))})),o.removeChild(o.lastChild),o.appendChild(e.createTextNode("]")),o}return e.createTextNode("unknown termtype '"+t.termType+"'!")}switch(i){case"shortDate":return e.createTextNode(h.widgets.shortDate(t.value))}}function J(e,t){var n,r=null;if("Literal"===e.termType)r="value";else{if("NamedNode"!==e.termType)return t.indexOf(e)>=0;r="uri"}for(n=0;n<t.length;++n)if(t[n].termType===e.termType&&t[n][r]===e[r])return!0;return!1}function K(t,n,r){var i,a=!1;for(i in r){var o=r[i];i in t.values||(t.values[i]=[]),J(o,t.values[i])||(t.values[i].push(o),a=!0)}a&&(A(t._htmlRow),function(t,n,r,i){var a=e.createElement("td");n._subject&&"uri"in n._subject&&a.appendChild(V(n._subject.uri,"→")),t.appendChild(a);for(var o=0;o<r.length;++o){var s,l=r[o],c=e.createElement("td"),u=l.getKey();if(u in n.values){var d=n.values[u],p=!1;n.originalValues&&n.originalValues[u]&&d.length!==n.originalValues[u].length&&(p=!0);for(var f=0;f<d.length;++f){var h=d[f];n.originalValues&&n.originalValues[u]&&n.originalValues[u].length>f&&(s=n.originalValues[u][f],h.toString()!==s.toString()&&(p=!0)),c.appendChild(Q(h,l)),f!==d.length-1&&c.appendChild(e.createTextNode(",\n")),p&&(c.style.background="#efe")}}t.appendChild(c)}n._htmlRow=t}(t._htmlRow,t,n)),B(t,n)}function X(e){if("uri"in e)return e.uri;if("_subject_id"in e)return e._subject_id;var t=""+x;return e._subject_id=t,++x,t}function Y(n,r,a,o){n.running=!0;var s=Date.now(),l=e.createElement("tr");o.appendChild(l),l.textContent="Loading ...";for(var c=0;c<r.length;c++)r[c].original=!0,r[c].originalValues||(r[c].originalValues=r[c].values),r[c].values={};f.query(n,(function(t){if(n.running){l.textContent+=".";var i,s=null,c=null;if(w in t&&(i=X(c=t[w]))in m&&(s=m[i]),!s){var u=e.createElement("tr");o.appendChild(u),s={_htmlRow:u,_subject:c,values:{}},r.push(s),c&&(m[i]=s)}delete s.original,K(s,a,t)}}),void 0,(function(){l&&l.parentNode&&l.parentNode.removeChild&&(l.parentNode.removeChild(l),l=null);var e=Date.now()-s;i.log("Query done: "+r.length+" rows, "+e+"ms");for(var n=r.length-1;n>=0;n--)if(r[n].original){i.log("   deleting row "+r[n]._subject);var o=r[n]._htmlRow;o.parentNode.removeChild(o),delete m[X(r[n]._subject)],r.splice(n,1)}if(t.sortBy){var c=function(e,t){for(var n in e){var r=e[n];if(r.variable.toNT()===t)return r}throw new Error("getColumnForVariable: no column for variable ".concat(t))}(a,t.sortBy);z(r,c,t.sortReverse)}t.onDone&&t.onDone(C)}))}function Z(e){for(var t=[],n={},r=0;r<e.vars.length;++r){var i=new P,a=e.vars[r];h.log.debug("column "+r+" : "+a),i.setVariable(a),n[a]=i,t.push(i)}return function e(t,n){h.log.debug(">> processing formula");for(var r=0;r<n.statements.length;++r){var i=n.statements[r];if("NamedNode"===i.predicate.termType&&"Variable"===i.object.termType){var a=i.object.toString();if(a in t)t[a].setPredicate(i.predicate,!1,i.subject)}if("NamedNode"===i.predicate.termType&&"Variable"===i.subject.termType){var o=i.subject.toString();if(o in t)t[o].setPredicate(i.predicate,!0,i.object)}}for(var s=0;s<n.optional.length;++s)h.log.debug("recurse to optional subformula "+s),e(t,n.optional[s]);h.log.debug("<< finished processing formula")}(n,e.pat),t}function ee(t,n){var r;r=d?Z(t):n.getColumns();var i=[],a=e.createElement("table");return a.appendChild(function(t,n){var r=e.createElement("tr"),i=e.createElement("th");r.appendChild(i);for(var a=0;a<t.length;++a){var o=e.createElement("th"),s=t[a];o.appendChild(e.createTextNode(s.getLabel())),n&&o.appendChild(F(n,s)),r.appendChild(o)}return r}(r,n)),a.appendChild(function(t,n){var r=e.createElement("tr");r.className="selectors",r.appendChild(e.createElement("td"));for(var i=0;i<n.length;++i){var a=e.createElement("td"),o=G(t,n,n[i]);o&&a.appendChild(o),r.appendChild(a)}return r}(i,r)),a.logicalRows=i,a.columns=r,a.query=t,Y(t,i,r,a),a}};n(51);var i=f(n(24)),a=n(38),o=n(20),s=f(n(57)),l=f(n(16)),c=f(n(3)),u=(f(n(39)),f(n(27))),d=f(n(28));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var h={icons:a.icons,log:s,ns:l,store:o.store,utils:u,widgets:d}},function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.tabWidget=function(e){var t=e.subject,n=e.dom||document,r=parseInt(e.orientation||"0"),a=e.backgroundColor||"#ddddcc",o=2&r,s=1&r,l=e.onClose,c=function(e){return function(e){for(var t=0,n=0;n<3;n++)t+=parseInt(e.slice(2*n+1,2*n+3),16);return t>384}(e)?[v(e,"#ffffff",.3),"#000000"]:[v(e,"#000000",.3),"#ffffff"]}(a),u=(0,i.default)(c,2),d=u[0],m=u[1],g="flex: 2; width: auto; height: 100%; border: 0.1em; border-style: solid; border-color: ".concat(d,"; padding: 1em;"),y=n.createElement("div");y.setAttribute("style","display: flex; height: 100%; width: 100%; flex-direction: "+(s?"row":"column")+(o?"-reverse;":";"));var b=y.appendChild(n.createElement("nav"));b.setAttribute("style","margin: 0;");var w=y.appendChild(n.createElement("main"));w.setAttribute("style","margin: 0; width:100%; height: 100%;");var x=b.appendChild(n.createElement("ul"));x.setAttribute("style","\n    list-style-type: none;\n    display: flex;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    flex-direction: ".concat(s?"column":"row","\n  "));var k=w;y.tabContainer=x,y.bodyContainer=k;var C=["0.2em","0.2em","0","0"],E=C.concat(C).slice(r,r+4),T="border-radius: ".concat(E.join(" "),";"),_=["0.3em","0.3em","0","0.3em"],S=_.concat(_).slice(r,r+4),O="margin: ".concat(S.join(" "),";"),A="padding: ".concat(S.join(" "),";"),j=T+"padding: 0.7em; max-width: 20em; color: ".concat(m,";"),P="".concat(j+O,"opacity: 50%; background-color: ").concat(a,";"),I="".concat(j+O,"background-color: ").concat(d,";");if(y.refresh=L,L(),!e.startEmpty&&x.children.length&&e.selectedTab){(Array.from(x.children).map((function(e){return e.firstChild})).find((function(t){return t.dataset.name===e.selectedTab}))||x.children[0].firstChild).click()}else e.startEmpty||x.children[0].firstChild.click();return y;function N(t){var r=n.createElement("li");r.subject=t;var i=r.appendChild(n.createElement("div"));return i.setAttribute("style",P),i.addEventListener("click",(function(a){if(a.metaKey||(function(){for(var e=0;e<x.children.length;e++){var t=x.children[e];t.classList.contains("unstyled")||t.children[0]&&t.children[0].setAttribute("style",P)}}(),function(){for(var e=0;e<k.children.length;e++)k.children[e].setAttribute("style","height: 100%; width: 100%;display: none;")}()),i.setAttribute("style",I),r.bodyTR){r.bodyTR.setAttribute("style","height: 100%; width: 100%;");var o=function(e){var t,r=null===(t=e.bodyTR)||void 0===t?void 0:t.children[0];if(r)return r;var i=e.bodyTR.appendChild(n.createElement("main"));return i.setAttribute("style",g),i}(r);e.renderTabSettings&&a.altKey&&r.subject&&!0!==o.asSettings?(o.innerHTML="loading settings ..."+t,e.renderTabSettings(o,r.subject),o.asSettings=!0):e.renderMain&&r.subject&&!1!==o.asSettings&&(o.innerHTML="loading item ..."+t,e.renderMain(o,r.subject),o.asSettings=!1)}})),e.renderTab?e.renderTab(i,t):i.textContent=(0,f.label)(t),r}function L(){var r,i,a,o,s,c=e.items?e.items:!1!==e.ordered?h.store.the(t,e.predicate).elements:h.store.each(t,e.predicate),u=!1;for(o=0;o<x.children.length;o++)if(r=x.children[o],o>=c.length||r.subject&&!r.subject.sameTerm(c[o])){u=!0;break}if(u||c.length!==x.children.length){for(s=x.children.length-1;s>=0&&(r=x.children[s],a=s-x.children.length+c.length,!r.subject||r.subject.sameTerm(c[a]));s--);for(var d=c.slice(o,s-x.children.length+c.length+1);s>=o;)x.removeChild(x.children[o]),k.removeChild(k.children[o]),s-=1;for(i=0;i<d.length;i++){var f=N(d[i]),m=n.createElement("div");f.bodyTR=m,o===x.children.length?(x.appendChild(f),k.appendChild(m)):(x.insertBefore(f,x.children[o+i]),k.insertBefore(m,k.children[o+i]))}l&&function(e){if(e.dataset.onCloseSet){var t=e.querySelector(".unstyled");e.removeChild(t)}var r=n.createElement("li");r.classList.add("unstyled");var i=(0,p.cancelButton)(n,l);i.setAttribute("style",i.getAttribute("style")+A),r.appendChild(i),e.appendChild(r),e.dataset.onCloseSet="true"}(x)}}},t.TabWidgetElement=void 0;var i=r(n(111)),a=r(n(7)),o=r(n(5)),s=r(n(21)),l=r(n(26)),c=r(n(13)),u=r(n(118)),d=r(n(1)),p=n(28),f=n(27),h=n(20);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}HTMLElement;var g=function(e){(0,s.default)(n,e);var t=m(n);function n(){var e;(0,a.default)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,o.default)(e),"bodyContainer",void 0),(0,d.default)((0,o.default)(e),"refresh",void 0),(0,d.default)((0,o.default)(e),"tabContainer",void 0),e}return n}((0,u.default)(HTMLElement));t.TabWidgetElement=g;HTMLElement;function v(e,t,n){for(var r,i,a="#",o="0123456789abcdef",s=0;s<3;s++){r=parseInt(e.slice(2*s+1,2*s+3),16),i=parseInt(t.slice(2*s+1,2*s+3),16);var l=parseInt((""+(r*(1-n)+i*n)).split(".")[0]),c=parseInt((""+l/16).split(".")[0]),u=parseInt((""+l%16).split(".")[0]);a+=o[c]+o[u]}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={buildTime:"2021-06-09T20:28:39Z",commit:"5893b2302329f1a4652430f35d5e79970eef247c",npmInfo:{"solid-ui":"2.4.5",npm:"6.14.10",ares:"1.16.1",brotli:"1.0.9",cldr:"37.0",http_parser:"2.9.4",icu:"67.1",llhttp:"2.1.3",modules:"72",napi:"7",nghttp2:"1.41.0",node:"12.20.1",openssl:"1.1.1i",tz:"2019c",unicode:"13.0",uv:"1.40.0",v8:"7.8.279.23-node.45",zlib:"1.2.11"}}},function(e,t,n){"use strict";var r=n(19),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.initHeader=function(e,t){return f.apply(this,arguments)},t.rebuildHeader=h,t.createBanner=m,t.createLoginSignUpButtons=v,t.createUserMenuButton=y,t.createUserMenuLink=b,t.createUserMenu=w,t.createUserMenuItem=k,t.getProfileImg=C;var a=r(n(10)),o=r(n(15)),s=n(3),l=n(72),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(28)),u=n(250),d=n(251);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return(f=(0,o.default)(a.default.mark((function e(t,n){var r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("PageHeader")){e.next=3;break}return e.abrupt("return");case 3:i=(0,d.getPod)(),l.solidAuthClient.trackSession(h(r,t,i,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n,r){return function(){var i=(0,o.default)(a.default.mark((function i(o){var l;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=o?(0,s.sym)(o.webId):null,e.innerHTML="",i.t0=e,i.next=5,m(t,n,l,r);case 5:i.t1=i.sent,i.t0.appendChild.call(i.t0,i.t1);case 7:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}function m(e,t,n,r){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(a.default.mark((function e(t,n,r,i){var o,s,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=document.createElement("a")).href=n.uri,(0,d.addStyleClassToElement)(o,["header-banner__link"]),s=document.createElement("img"),i&&(s.src=i.logo?i.logo:"https://solidproject.org/assets/img/solid-emblem.svg"),(0,d.addStyleClassToElement)(s,["header-banner__icon"]),o.appendChild(s),!r){e.next=13;break}return e.next=10,w(t,r,i);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=v();case 14:return l=e.t0,c=document.createElement("div"),(0,d.addStyleClassToElement)(c,["header-banner"]),c.appendChild(o),c.appendChild(l),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){var e=document.createElement("div");return(0,d.addStyleClassToElement)(e,["header-banner__login"]),e.appendChild((0,l.loginStatusBox)(document,null,{})),e}function y(e,t){var n=document.createElement("button");return(0,d.addStyleClassToElement)(n,["header-user-menu__button"]),n.addEventListener("click",t),n.innerText=e,n}function b(e,t){var n=document.createElement("a");return(0,d.addStyleClassToElement)(n,["header-user-menu__link"]),n.href=t,n.innerText=e,n}function w(e,t,n){return x.apply(this,arguments)}function x(){return(x=(0,o.default)(a.default.mark((function e(t,n,r){var i,o,s,c,u,p,f,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.fetcher)){e.next=4;break}return e.next=4,i.load(n);case 4:return o=document.createElement("ul"),(0,d.addStyleClassToElement)(o,["header-user-menu__list"]),o.appendChild(k(b("Show your profile",n.uri))),r&&r.menuList&&r.menuList.forEach((function(e){var t=e.url?"url":"onclick";"url"===t?o.appendChild(k(b(e.label,e[t]))):o.appendChild(k(y(e.label,e[t])))})),o.appendChild(k(y("Log out",(function(){return l.solidAuthClient.logout()})))),s=document.createElement("nav"),(0,d.addStyleClassToElement)(s,["header-user-menu__navigation-menu"]),s.setAttribute("aria-hidden","true"),s.appendChild(o),c=document.createElement("button"),(0,d.addStyleClassToElement)(c,["header-user-menu__trigger"]),c.type="button","string"==typeof(u=C(t,n))?c.innerHTML=u:c.appendChild(u),p=document.createElement("div"),(0,d.addStyleClassToElement)(p,["header-banner__user-menu"]),(0,d.addStyleClassToElement)(p,["header-user-menu"]),p.appendChild(c),p.appendChild(s),f=(0,d.throttle)((function(e){return E(e,c,s)}),50),c.addEventListener("click",f),h=setTimeout((function(){return null}),0),p.addEventListener("mouseover",(function(e){clearTimeout(h),f(e)})),p.addEventListener("mouseout",(function(e){h=setTimeout((function(){return f(e)}),200)})),e.abrupt("return",p);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=document.createElement("li");return(0,d.addStyleClassToElement)(t,["header-user-menu__list-item"]),t.appendChild(e),t}function C(e,t){try{if(!c.findImage(t))return u.emptyProfile}catch(e){return u.emptyProfile}var n=document.createElement("div");return(0,d.addStyleClassToElement)(n,["header-user-menu__photo"]),n.style.backgroundImage='url("'.concat(null,'")'),n}function E(e,t,n){var r="true"===t.getAttribute("aria-expanded"),i="mouseover"===e.type,a="mouseout"===e.type;r&&i||!r&&a||(t.setAttribute("aria-expanded",(!r).toString()),n.setAttribute("aria-hidden",r.toString()))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyProfile=void 0;t.emptyProfile='\n<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="#D8D8D8" stroke="#8B8B8B"/>\n    <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="white" stroke="white"/>\n    </mask>\n    <g mask="url(#mask0)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0468 10.4586C17.0468 14.4979 15.4281 16.9214 12.9999 16.9214C10.5718 16.9214 8.95298 14.4979 8.95298 10.4586C8.95298 6.41931 12.9999 6.41931 12.9999 6.41931C12.9999 6.41931 17.0468 6.41931 17.0468 10.4586ZM4.09668 23.3842C6.52483 17.7293 12.9999 17.7293 12.9999 17.7293C12.9999 17.7293 19.475 17.7293 21.9031 23.3842C21.9031 23.3842 17.8481 25 12.9999 25C8.15169 25 4.09668 23.3842 4.09668 23.3842Z" fill="#8B8B8B"/>\n    </g>\n</svg>'},function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.addStyleClassToElement=function(e,t){t.forEach((function(t){var n=function(e){return o.styleMap[e]}(t),r=(0,s.getClasses)(document.head,(0,i.default)({},t,n)).classes;e.classList.add(r[t])}))},t.getPod=function(){return(0,a.sym)(document.location.origin).site()},t.throttle=function(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,s=0,l=function(){s=a.leading?Date.now():0,o=null,i=e.apply(n,r),o||(n=r=null)};return function(){var c=Date.now();s||a.leading||(s=c);var u=t-(c-s);return n=this,r=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,i=e.apply(n,r),o||(n=r=null)):o||!1===a.trailing||(o=setTimeout(l,u)),i}};var i=r(n(1)),a=n(3),o=n(252),s=n(114)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleMap=void 0;t.styleMap={"header-user-menu":{},"header-user-menu__link":{background:"none",border:"0",color:"black",cursor:"pointer",display:"block",fontFamily:"Arial",fontSize:"1em",textAlign:"left",padding:"1em",width:"100%","&:focus, &:hover":{backgroundColor:"linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%)"}},"header-user-menu__trigger":{background:"none",border:"0",cursor:"pointer",width:"60px",height:"60px",img:{borderRadius:"50%",height:"56px",width:"56px"}},"header-user-menu__button":{background:"none",border:"0",color:"black",cursor:"pointer",display:"block",fontFamily:"Arial",fontSize:"1em",textAlign:"left",padding:"1em",width:"100%","&:focus, &:hover":{backgroundColor:"linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%)"}},"header-user-menu__list":{listStyle:"none",margin:"0",padding:"0"},"header-user-menu__navigation-menu":{background:"white",border:"solid 1px #000000",borderRight:"0",position:"absolute",right:"0",top:"60px",width:"200px","z-index":"1","&[aria-hidden = true]":{display:"none"}},"header-user-menu__list-item":{borderBottom:"solid 1px #000000","&:last-child":{border:"0"}},"header-user-menu__photo":{borderRadius:"50%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",margin:"5px",height:"50px",width:"50px"},"header-banner":{boxShadow:"0px 1px 4px #000000",display:"flex",padding:"0 1.5em",marginBottom:"4px"},"header-banner__link":{display:"block"},"header-banner__login":{marginLeft:"auto",input:{margin:"0.75em 0 0.75em 0.5em !important",padding:"0.5em !important"}},"header-banner__user-menu":{borderLeft:"solid 1px #000000",marginLeft:"auto"},"header-banner__icon":{backgroundSize:"65px 60px",height:"60px !important",width:"65px !important"}}},function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t.dom;this.document=t.dom,this.outlineIcons=l.default,this.labeller=this.labeller||{},this.labeller.LanguagePreference="";var r=this,p=this,f=[];this.selection=f,this.ancestor=i.utils.ancestor,this.sparql=i.rdf.UpdateManager,this.kb=i.store;var h=i.store,g=i.store.fetcher;n.outline=this,this.qs=new u.default.QuerySource,this.UserInput=new c.default(this),this.clipboardAddress="tabulator:clipboard",this.UserInput.clipboardInit(this.clipboardAddress);var v=this.outlineElement;function b(){return w.apply(this,arguments)}function w(){return(w=y(regeneratorRuntime.mark((function e(){var t,r,o,s,l,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){var r=a.byName(t.paneName);e.innerHTML="";var o=e.appendChild(n.createElement("table")),s=i.authn.currentUser();p.GotoSubject(t.subject||s,!0,r,!1,void 0,o)},l=function(e,t){e.dataset.globalPaneName=t.tabName||t.paneName,e.textContent=t.label},t=u.length>0&&void 0!==u[0]?u[0]:{},console.log("globalAppTabs @@"),r=n.createElement("div"),o=i.authn.currentUser()){e.next=9;break}throw alert("Must be logged in for this"),new Error("Not logged in");case 9:return e.next=11,x();case 11:return s=e.sent,r.appendChild(i.tabs.tabWidget({dom:n,subject:o,items:s,renderMain:c,renderTab:l,ordered:!0,orientation:0,backgroundColor:"#eeeeee",selectedTab:t.selectedTab,onClose:t.onClose})),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return k.apply(this,arguments)}function k(){return(k=y(regeneratorRuntime.mark((function e(){var t,r,a,s,l,c,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=y(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.authn.findAppInstances({me:t,div:r,dom:n},Y.vcard("AddressBook"));case 3:return a=e.sent,e.abrupt("return",(a.instances||[]).map((function(e,t){return{paneName:"contact",tabName:"contact-".concat(t),label:"Contacts",subject:e,icon:i.icons.iconBase+"noun_15695.svg"}})));case 7:e.prev=7,e.t0=e.catch(0),console.error("oops in globalAppTabs AddressBook");case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},p=function(){return f.apply(this,arguments)},d=function(){return(d=y(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.fetcher.load(t.doc());case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.error("Unable to load profile",e.t0),e.abrupt("return",[]);case 9:n=h.each(t,Y.space("storage"),null,t.doc()),e.prev=10,n.map(function(){var e=y(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.any(t,Y.ldp("contains"),void 0,t.doc())){e.next=6;break}return e.next=3,h.fetcher.webOperation("GET",t.uri,h.fetcher.initFetchOptions(t.uri,{headers:{accept:"text/turtle"}}));case 3:n=e.sent,r=n.responseText,o.parse(r,h,t.uri,"text/turtle");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=18;break;case 14:return e.prev=14,e.t1=e.catch(10),console.error("cannot load container",e.t1),e.abrupt("return",[]);case 18:return e.abrupt("return",n.map((function(e,t){var r=n.length>1?e.uri.split("//")[1].slice(0,-1):"Your storage";return{paneName:"folder",tabName:"folder-".concat(t),label:r,subject:e,icon:i.icons.iconBase+"noun_Cabinet_251723.svg"}})));case 19:case"end":return e.stop()}}),e,null,[[0,5],[10,14]])})))).apply(this,arguments)},u=function(){return d.apply(this,arguments)},t=i.authn.currentUser(),r=n.createElement("div"),e.next=8,Promise.all([p(),u()]);case 8:return a=e.sent,s=m(a,2),l=s[0],c=s[1],e.abrupt("return",[{paneName:"home",label:"Your stuff",icon:i.icons.iconBase+"noun_547570.svg"},{paneName:"basicPreferences",label:"Preferences",icon:i.icons.iconBase+"noun_Sliders_341315_00000.svg"},{paneName:"editProfile",label:"Edit your profile",icon:i.icons.iconBase+"noun_492246.svg"}].concat(l).concat(c));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=y(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){e||s()},s=function(){n.style.display="none",r.style.display="inherit"},t=c.length>0&&void 0!==c[0]?c[0]:{},n=E(),r=T(),!(n.childNodes.length>0&&t.pane)){e.next=13;break}if(r.style.display="none",n.style.display="inherit",!(a=n.querySelector('[data-global-pane-name="'.concat(t.pane,'"]')))){e.next=12;break}return a.click(),e.abrupt("return");case 12:console.warn("Did not find the referred tab in global dashboard, will open first one");case 13:return e.next=15,b({selectedTab:t.pane,onClose:s});case 15:o=e.sent,i.authn.solidAuthClient.trackSession(l),r.style.display="none",n.appendChild(o);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return _("GlobalDashboard")}function T(){return _("outline")}function _(e){return document.getElementById(e)||((t=document.createElement("div")).id=e,(document.querySelector('[role="main"]')||document.body).appendChild(t));var t}function S(e,t){return O.apply(this,arguments)}function O(){return(O=y(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.session.paneRegistry,0!==(a=r.list.filter((function(e){return e.label(t,n)&&!e.global}))).length){e.next=4;break}return e.abrupt("return",[r.byName("internal")]);case 4:return e.next=6,i.authn.filterAvailablePanes(a);case 6:if(0!==(o=e.sent).length){e.next=9;break}return e.abrupt("return",[a[0]]);case 9:return s=r.list.indexOf(a[0]),l=r.list.indexOf(o[0]),e.abrupt("return",s<l?[a[0]].concat(o):o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return e.find((function(e){return e.shouldGetFocus&&e.shouldGetFocus(t)}))||e[0]}function j(){return(j=y(regeneratorRuntime.mark((function e(r,a,o){var s,l,c,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=y(regeneratorRuntime.mark((function e(o){var s,l,u,d,p,f,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=h.length>1&&void 0!==h[1]?h[1]:{},l="width: 24px; border-radius: 0.5em; border-top: solid #222 1px; border-left: solid #222 0.1em; border-bottom: solid #eee 0.1em; border-right: solid #eee 0.1em; margin-left: 1em; padding: 3px; background-color:   #ffd;",u="width: 24px; border-radius: 0.5em; margin-left: 1em; padding: 3px",(d=o.appendChild(n.createElement("nav"))).style="display:flex; justify-content: flex-start; align-items: center;",!s.hideList){e.next=9;break}e.t0=[],e.next=12;break;case 9:return e.next=11,S(r,t);case 11:e.t0=e.sent;case 12:return p=e.t0,c.firstPane=a||A(p,r),f=p.indexOf(c.firstPane),1!==p.length&&p.forEach((function(e,a){var p=e.label(r,t),h=i.utils.AJARImage(e.icon,p,p,n);h.style=e===c.firstPane?l:u;!function(e,a){e.addEventListener("click",(function(c){var d;for(d=o;d.parentNode&&"TABLE"!==d.nodeName;d=d.parentNode);if("TABLE"!==d.nodeName)throw new Error("outline: internal error.");var p=function(e){for(var t=d.firstChild;t;t=t.nextSibling)void 0!==t.pane&&(e&&t.pane!==e||(t.paneButton&&(t.paneButton.setAttribute("class","paneHidden"),t.paneButton.style=u),P(t),t.pane.requireQueryButton&&d.parentNode.className&&1===f&&n.getElementById("queryButton")&&n.getElementById("queryButton").setAttribute("style","display:none;")))};"paneHidden"===e.getAttribute("class")?(c.shiftKey||p(),function(a){var o;if(i.log.info("outline: Rendering pane (2): "+a.name),i.no_catch_pane_errors)o=a.render(r,t,s);else try{o=a.render(r,t,s)}catch(e){(o=n.createElement("div")).setAttribute("class","exceptionPane");var l=n.createElement("pre");o.appendChild(l),l.appendChild(n.createTextNode(i.utils.stackString(e)))}a.requireQueryButton&&n.getElementById("queryButton")&&n.getElementById("queryButton").removeAttribute("style");var c=d.firstChild.nextSibling,u=n.createElement("tr");u.appendChild(n.createElement("td")).appendChild(o),c?d.insertBefore(u,c):d.appendChild(u),u.pane=a,u.paneButton=e}(a),e.setAttribute("class","paneShown"),e.style=l):(p(a),e.setAttribute("class","paneHidden"),e.style=u);for(var f=0,h=d.firstChild;h;h=h.nextSibling)h.pane&&h.pane.requireQueryButton&&f++}),!1)}(h,e),h.setAttribute("class",a!==f?"paneHidden":"paneShown"),a===f&&(c.paneButton=h),d.appendChild(h)})),e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return l.apply(this,arguments)},c=n.createElement("tr"),o.hover&&c.setAttribute("class","hoverControl"),(u=c.appendChild(n.createElement("td"))).setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;display:flex; justify-content: space-between; flex-direction: row;"),u.setAttribute("notSelectable","true"),u.setAttribute("about",r.toNT()),u.setAttribute("colspan","2"),(d=u.appendChild(n.createElement("div"))).style="display:flex; justify-content: flex-start; align-items: center; flex-wrap: wrap;",p=!!a,o.solo||p||(d.appendChild(i.utils.AJARImage(i.icons.originalIconBase+"tbl-collapse.png","collapse",void 0,n)).addEventListener("click",q),(f=d.appendChild(n.createElement("h1"))).appendChild(n.createTextNode(i.utils.label(r))),f.style="font-size: 150%; margin: 0 0.6em 0 0; padding: 0.1em 0.4em;",i.widgets.makeDraggable(f,r)),e.t0=d,e.next=16,s(u,{hideList:p});case 16:return e.t1=e.sent,e.t0.appendChild.call(e.t0,e.t1),c.firstChild.tabulatorSelect=function(){B(this,!0)},c.firstChild.tabulatorDeselect=function(){B(this,!1)},e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.parentNode,r=t.parentNode,i=n.createElement("table");i.setAttribute("style","width: 100%;"),r.replaceChild(i,t),t.removeChild(e),r.replaceChild(t,i)}this.init=function(){T().outline=this},this.appendAccessIcons=function(e,t,n){if("NamedNode"===n.termType){var r=e.uris(n);r.sort();for(var i=null,a=0;a<r.length;a++)r[a]!==i&&(i=r[a],p.appendAccessIcon(t,i))}},this.appendAccessIcon=function(e,t){if(!t)return"";var a=i.rdf.uri.docpart(t);if("http:"!==a.slice(0,5))return"";var o,s,c,u=g.getState(a);switch(u){case"unrequested":o=l.default.src.icon_unrequested,s="fetch",c=G;break;case"requested":o=l.default.src.icon_requested,s="fetching",c=H;break;case"fetched":o=l.default.src.icon_fetched,c=W,s="loaded";break;case"failed":o=l.default.src.icon_failed,s="failed",c=H;break;case"unpermitted":o=l.default.src.icon_failed,c=H,s="no perm";break;case"unfetchable":o=l.default.src.icon_failed,c=H,s="cannot fetch";break;default:i.log.error("?? state = "+u)}var d=i.utils.AJARImage(o,s,l.default.tooltips[o].replace(/[Tt]his resource/,a),n);return d.setAttribute("uri",t),d.addEventListener("click",c),function(e,t){i.log.debug("Button callbacks for "+t+" added");var n=function(n){return function(i){return i.indexOf("#")>=0&&console.log("@@ makeIconCallback: Not expecting # in URI whose state changed: "+i),!!e&&(!!r.ancestor(e,"DIV")&&(i===t&&(e.src=n,e.title=l.default.tooltips[n]),!0))}};g.addCallback("request",n(l.default.src.icon_requested)),g.addCallback("done",n(l.default.src.icon_fetched)),g.addCallback("fail",n(l.default.src.icon_failed))}(d,a),e.appendChild(d),d},this.outlineObjectTD=function(e,t,r,a){var o=n.createElement("td");o.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),o.setAttribute("notSelectable","false");var s,c,u,d,p="obj";if(a&&a.why&&i.licenceOptions&&i.licenceOptions.checkLicence()&&(p+=" licOkay"),("NamedNode"===e.termType||"BlankNode"===e.termType||"Literal"===e.termType&&e.value.slice&&("ftp://"===e.value.slice(0,6)||"https://"===e.value.slice(0,8)||"http://"===e.value.slice(0,7)))&&(o.setAttribute("about",e.toNT()),o.appendChild(i.utils.AJARImage(i.icons.originalIconBase+"tbl-expand-trans.png","expand",void 0,n)).addEventListener("click",z)),o.setAttribute("class",p),h.whether(e,i.ns.rdf("type"),i.ns.link("Request"))&&(o.className="undetermined"),t||(t=ee),o.appendChild(t(e)),r&&(s=o,c=e,u=r,(d=i.utils.AJARImage(l.default.src.icon_remove_node,"remove",void 0,n)).addEventListener("click",V),d.node=u,d.setAttribute("about",c.toNT()),d.style.marginLeft="5px",d.style.marginRight="10px",s.appendChild(d)),o.tabulatorSelect=function(){B(this,!0)},o.tabulatorDeselect=function(){B(this,!1)},a){var f=new i.rdf.IndexedFormula;f.statements.push(a);var m=h.each(f,h.sym("http://dig.csail.mit.edu/TAMI/2007/amord/tms#justification"));if(m.length){var g=n.createElement("span");m.length>1&&(g.innerHTML=" &times; "+m.length),g.setAttribute("class","inquiry"),g.insertBefore(i.utils.AJARImage(l.default.src.icon_display_reasons,"explain",void 0,n),g.firstChild),o.appendChild(g)}}return o.addEventListener("click",$),o},this.outlinePredicateTD=function(e,t,r,a){var o,s=n.createElement("TD");switch(s.setAttribute("about",e.toNT()),s.setAttribute("class",a?"pred internal":"pred"),e.termType){case"BlankNode":s.className="undetermined";break;case"NamedNode":o=i.utils.predicateLabelForXML(e,r);break;case"Collection":o=i.utils.predicateLabelForXML(e.elements[0],r)}o=o.slice(0,1).toUpperCase()+o.slice(1);var c=n.createElement("TD");for(var u in c.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),c.setAttribute("notSelectable","true"),c.appendChild(n.createTextNode(o)),s.appendChild(c),c.style.width="100%",s.appendChild(L.construct(n)),l.default.termWidgets){if(!t||!t.AJAR_statement)break;l.default.termWidgets[u].filter&&l.default.termWidgets[u].filter(t.AJAR_statement,"pred",r)&&L.addIcon(s,l.default.termWidgets[u])}return s.tabulatorSelect=function(){B(this,!0)},s.tabulatorDeselect=function(){B(this,!1)},s.addEventListener("click",$),s},this.getDashboard=b,this.getDashboardItems=x,this.showDashboard=function(){return C.apply(this,arguments)};var I=this.propertyTable=function(e,r,a,o){return i.log.debug("Property table for: "+e),e=h.canon(e),r?(i.log.info("Re-expand: "+r),r):((r=n.createElement("table")).setAttribute("style","width: 100%;"),function(e,t,n){return j.apply(this,arguments)}(e,a,o).then((function(a){if(r.appendChild(a),a.firstPane){var s;try{i.log.info("outline: Rendering pane (1): "+a.firstPane.name),s=a.firstPane.render(e,t,o)}catch(e){(s=n.createElement("div")).setAttribute("class","exceptionPane");var l=n.createElement("pre");s.appendChild(l),l.appendChild(n.createTextNode(i.utils.stackString(e)))}var c=n.createElement("tr");c.appendChild(n.createElement("td")).appendChild(s),a.firstPane.requireQueryButton&&n.getElementById("queryButton")&&n.getElementById("queryButton").removeAttribute("style"),r.appendChild(c),c.pane=a.firstPane,c.paneButton=a.paneButton}})),r)};function N(e,t,n){var r=e.createElement("TR");r.AJAR_statement=t,r.AJAR_inverse=n,r.setAttribute("predTR","true");var i=p.outlinePredicateTD(t.predicate,r,n);return r.appendChild(i),r}this.propertyTR=N,this.appendPropertyTRs=function(e,t,a,o){if(i.log.debug("Property list length = "+t.length),0===t.length)return"";var s,l,c;a?(s=function(e){return e.subject},t=t.sort(i.utils.RDFComparePredicateSubject)):(s=function(e){return e.object},t=t.sort(i.utils.RDFComparePredicateObject));var u=t.length,d=function(){var d=t[l];if(o&&!o(d.predicate,a))return"continue";var f=N(n,d,a);e.appendChild(f);var m=f.firstChild,g=Z.defaults[d.predicate.uri],v=0,y=0,b=0;for(c=0;c+l<u&&t[l+c].predicate.sameTerm(d.predicate);c++)c>0&&s(t[l+c]).sameTerm(s(t[l+c-1]))&&v++,s(t[l+c]).lang&&r.labeller.LanguagePreference&&(y+=1,s(t[l+c]).lang.indexOf(r.labeller.LanguagePreference)>=0&&b++);if(b>0&&y===v+1){for(var w=l;w<=l+v;w++)if(r.labeller.LanguagePreference&&s(t[w]).lang.indexOf(r.labeller.LanguagePreference)>=0){f.appendChild(p.outlineObjectTD(s(t[w]),g,void 0,d));break}return l+=v,"continue"}f.appendChild(p.outlineObjectTD(s(d),g,void 0,d)),f.showNobj=function(r){var o=c-v,u=2*r<o?r:o,f=[];if(1!==o){var y;m.setAttribute("rowspan",u===o?o:r+1),u<o&&1===u&&m.setAttribute("rowspan",2);var b=0;for(y=1;y<c;y++)if(h.canon(s(t[l+y])).sameTerm(h.canon(s(t[l+y-1]))))i.log.info("there are duplicates here: %s",t[l+y-1]);else{b++,d=t[l+y],g=Z.defaults[d.predicate.uri];var w=n.createElement("tr");w.style.colspan="1",w.appendChild(p.outlineObjectTD(s(t[l+y]),g,void 0,d)),w.AJAR_statement=d,w.AJAR_inverse=a,e.appendChild(w),b>=u&&(w.style.display="none",f.push(w))}u===o&&m.setAttribute("rowspan",b+1)}if(u<o){var x=n.createElement("tr"),k=x.appendChild(n.createElement("td"));if(k.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),k.setAttribute("notSelectable","false"),o>r){var C=n.createElement("a");k.appendChild(C);var E=function(e,t,r,a){return function(t){C.innerHTML="","none"===t?(C.appendChild(i.utils.AJARImage(i.icons.originalIconBase+"tbl-more-trans.png","more","See all",n)),C.appendChild(n.createTextNode(o-a+" more...")),e.setAttribute("rowspan",a+1)):(C.appendChild(i.utils.AJARImage(i.icons.originalIconBase+"tbl-shrink.png","(less)",void 0,n)),e.setAttribute("rowspan",o+1));for(var r=0;r<f.length;r++)f[r].style.display=t}}(m,0,0,r),T="none",_=function(e){return E(T),T="none"===T?"":"none",e&&e.stopPropagation(),!1};_(),C.addEventListener("click",_,!1)}e.appendChild(x)}},f.showAllobj=function(){f.showNobj(c-v)},f.showNobj(10),l+=c-1};for(l=0;l<u;l++)d()};var L={};function R(e){var t=e.getAttribute("class");return!!(t&&t.indexOf("selected")>=0)}function M(e){var t=p.targetOf(e).parentNode;L.replaceIcon(t.parentNode,l.default.termWidgets.optOn,l.default.termWidgets.optOff,D),t.parentNode.parentNode.removeAttribute("optional")}function D(e){var t=p.targetOf(e).parentNode;L.replaceIcon(t.parentNode,l.default.termWidgets.optOff,l.default.termWidgets.optOn,M),t.parentNode.parentNode.setAttribute("optional","true")}function F(e,t){for(var n=l.default.termWidgets.optOn,r=l.default.termWidgets.optOff,i=e;i.parentNode;i=i.parentNode)for(;;){if(i.getAttribute("predTR")){var a=i.getAttribute("parentOfSelected");0===(a=a?parseInt(a):0)&&t>0&&L.addIcon(i.childNodes[0],i.getAttribute("optional")?n:r,i.getAttribute("optional")?M:D),a+=t,i.setAttribute("parentOfSelected",a),0===a&&(i.removeAttribute("parentOfSelected"),L.removeIcon(i.childNodes[0],i.getAttribute("optional")?n:r));break}if(!i.previousSibling||"TR"!==i.previousSibling.nodeName)break;i=i.previousSibling}}function B(e,t){if("TD"!==e.nodeName)throw i.log.debug("down"+e.nodeName),new Error("Expected TD in setSelected: "+e.nodeName+" : "+e.textContent);i.log.debug("pass");var n=e.getAttribute("class");if(n||(n=""),t){((n+=" selected").indexOf("pred")>=0||n.indexOf("obj")>=0)&&F(e,1),f.push(e);var r=i.utils.getTerm(e);p.showURI(r);var a=e.AJAR_statement;if(void 0===a&&(a=e.parentNode.AJAR_statement),a){var o=a.why,s=i.store.updater.editable(o.uri,h);s&&n.indexOf("pred")>=0&&L.addIcon(e,l.default.termWidgets.addTri)}}else i.log.debug("cla=$"+n+"$"),"selected"===n&&(n=""),((n=n.replace(" selected","")).indexOf("pred")>=0||n.indexOf("obj")>=0)&&F(e,-1),n.indexOf("pred")>=0&&L.removeIcon(e,l.default.termWidgets.addTri),f=f.filter((function(t){return t===e})),i.log.info("Deselecting "+e.textContent);"undefined"!=typeof sourceWidget&&p.showSource(),e.setAttribute("class",n)}function U(){for(var e=f.length-1;e>=0;e--)B(f[e],!1);f=[]}function z(e){var t=p.targetOf(e),n=t.parentNode,r=i.utils.getAbout(h,t);e.altKey&&a.byName("internal");e.shiftKey?X(n,r):e.altKey?J(n,r,{pane:a.byName("internal"),immediate:!0}):J(n,r)}function q(e){var t=p.targetOf(e),n=i.utils.getAbout(h,t);e.altKey&&a.byName("internal");K(t.parentNode.parentNode,n)}function H(e){var t=p.targetOf(e).getAttribute("uri");e.altKey?g.fetch(i.rdf.uri.docpart(t),{force:!0}):g.refresh(h.sym(i.rdf.uri.docpart(t)))}function W(e){var t=p.targetOf(e).getAttribute("uri");e.altKey?g.fetch(i.rdf.uri.docpart(t),{force:!0}):g.refresh(h.sym(i.rdf.uri.docpart(t)))}function G(e){var t=p.targetOf(e).getAttribute("uri");g.fetch(i.rdf.uri.docpart(t))}function V(e){var t=p.targetOf(e),n=t.node;n.childNodes.length>1&&(n=t.parentNode),P(n)}function $(e){if(p.UserInput._tabulatorMode)return p.UserInput.Click(e);var t,n=p.targetOf(e);for(t=i.utils.ancestor(n,"TD");t&&"false"!==t.getAttribute("notSelectable");t=i.utils.ancestor(t.parentNode,"TD"));if(t){var r=R(t);if(i.log.debug("Was node selected before: "+r),e.altKey)B(t,!R(t));else if(e.shiftKey)B(t,!0);else{if(U(),p.UserInput.clearInputAndSave(e),B(t,!0),2===e.detail)return void e.stopPropagation();var a=t.parentNode.AJAR_statement;if(!a)return;var o=a.why,s=i.store.updater.editable(o.uri,h);r&&s&&p.UserInput.Click(e,f[0])}i.log.debug("Was node selected after: "+R(t)+", count="+f.length),e.stopPropagation()}}function Q(e){n.title=i.utils.label(e),n.location.href.startsWith(e.site().uri)}function J(e,t,r){var a=(r=r||{}).pane,l=!!r.already,c=r.immediate;i.log.info("@outlineExpand, dom is now "+n.location),g.removeCallback("done","expand"),g.removeCallback("fail","expand");var u=h.canon(t);function d(){if(u=h.canon(u),!e||!e.parentNode||!e.parentNode.parentNode)return!1;var t;if(i.log.info("@@ REPAINTING "),l){for(i.log.info(" ... p is  "+e),t=e.firstChild;t.nextSibling&&(i.log.info(" ... checking node "+t),"table"!==t.nodeName);t=t.nextSibling);t=I(u,t,a,r)}else t=I(u,void 0,a,r);l=!0,i.utils.ancestor(e,"TABLE")&&"white"===i.utils.ancestor(e,"TABLE").style.backgroundColor?t.style.backgroundColor="#eee":t.style.backgroundColor="white";try{s.default.util.Event.off&&s.default.util.Event.off(e,"mousedown","dragMouseDown")}catch(e){console.log("YAHOO "+e)}i.utils.emptyNode(e).appendChild(t),p.focusTd=e,i.log.debug("expand: Node for "+u+" expanded");for(var n=h.each(u,i.ns.rdfs("seeAlso")),o=0;o<n.length;o++)25===o&&i.log.warn("expand: Warning: many ("+n.length+") seeAlso links for "+u),g.lookUpThing(n[o],u)}function f(e){if(arguments[3])return!0;var t=h.canon(u);i.log.info("@@ expand: relevant subject="+t+", uri="+e+", already="+l);var n=h.sym(i.rdf.uri.docpart(e));if(e.indexOf("#")>=0)throw new Error("Internal error: hash in "+e);var r=function(){if(!t.uri)return!0;var r=h.uris(t);if(!r)return!1;for(var a=0;a<r.length;a++)for(var o=i.rdf.uri.docpart(r[a]);o;o=h.HTTPRedirects[o])if(e===o)return!0;return!!h.anyStatementMatching(t,void 0,void 0,n)};return!r()||(i.log.success("@@ expand OK: relevant subject="+t+", uri="+e+", source="+l),d(),!1)}r.solo&&Q(u),i.log.debug("outlineExpand: dereferencing "+u);var m=n.createElement("span");e.appendChild(m),g.addCallback("done",f),g.addCallback("fail",f);var y=[];if(u.uri&&"rdf"===u.uri.split(":")[0])d();else{for(var b=0;b<y.length;b++){if(void 0===y[b](u))return d(),i.log.debug("outline 1815"),void((void 0)[1]&&v.removeChild(v.lastChild))}!u.uri||c||i.widgets.isAudio(u)||i.widgets.isVideo(u)||h.holds(u,i.ns.rdf("type"),o.Util.mediaTypeClass("application/pdf"))?d():g.nowOrWhenFetched(u.doc(),void 0,(function(t,i){if(t)g.lookUpThing(u),d(),r.solo&&Q(u);else{var a=n.createElement("pre");a.textContent=i,a.setAttribute("style","background-color: #fee;"),a.textContent="Outline.expand: Unable to fetch "+u.doc()+": "+i,e.appendChild(a)}}))}}function K(e,t){var n,r,a=i.utils.ancestor(e,"TR");if(a=i.utils.ancestor(a.parentNode,"TR"))var o=a.AJAR_statement;for(n=e.parentNode;"TD"!==n.tagName;n=n.parentNode)if(void 0===n)return void alert("Not enclosed in TD!");if(i.log.debug("Collapsing subject "+t),o&&(i.log.debug("looking up pred "+o.predicate.uri+"in defaults"),r=Z.defaults[o.predicate.uri]),i.log.debug("view= "+r),"outline"===n.parentNode.parentNode.id)var s=n.parentNode;p.replaceTD(p.outlineObjectTD(t,r,s,o),n)}function X(e,t){for(var n=null,r=e.parentNode;r;r=r.parentNode)i.log.debug("level "+r.tagName),"TD"===r.tagName&&(n=r);i.utils.emptyNode(n).appendChild(I(t)),Q(t),n.setAttribute("about",t.toNT())}e.termWidget=L,L.construct=function(e){var t=(e=e||document).createElement("TD");return t.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),t.setAttribute("class","iconTD"),t.setAttribute("notSelectable","true"),t.style.width="0px",t},L.addIcon=function(e,t,r){var a=e.childNodes[1];if(a){var o=a.style.width,s=i.utils.AJARImage(t.src,t.alt,t.tooltip,n);o=parseInt(o),o+=t.width,a.style.width=o+"px",a.appendChild(s),r&&s.addEventListener("click",r)}},L.removeIcon=function(e,t){var r,a=e.childNodes[1];if(a){var o=a.style.width;o=parseInt(o),o-=t.width,a.style.width=o+"px";for(var s=0;s<a.childNodes.length;s++){var l=a.childNodes[s],c=l.src;try{r=n.location.href.split("?")[0]}catch(e){console.log(e),r=""}c===i.rdf.uri.join(t.src,r)&&a.removeChild(l)}}},L.replaceIcon=function(e,t,n,r){L.removeIcon(e,t),L.addIcon(e,n,r)},new function(){this.pat=h.formula(),this.vars=[]},this.statusBarClick=function(e){var t=i.utils.getTarget(e);t.label&&(window.content.location=t.label)},this.showURI=function(e){e&&n.getElementById("UserURI")&&(n.getElementById("UserURI").value="NamedNode"===e.termType?e.uri:"")},this.showSource=function(){if("undefined"!=typeof sourceWidget){for(var e in sourceWidget.sources)sourceWidget.sources[e].setAttribute("class","");for(var t=0;t<f.length;t++)if(f[t].parentNode){var n=f[t].parentNode.AJAR_statement;if(n){var r=n.why;r&&r.uri&&sourceWidget.highlight(r,!0)}}else console.log("showSource: EH? no parentNode? "+f[t]+"\n")}},this.getSelection=function(){return f},this.targetOf=function(e){var t;if(e||(e=window.event),e.target)t=e.target;else{if(!e.srcElement)return i.log.error("can't get target for event "+e),!1;t=e.srcElement}return 3===t.nodeType&&(t=t.parentNode),t},this.walk=function(e,t){var r,a=t||f[0];switch(e){case"down":try{r=a.parentNode.nextSibling.lastChild}catch(e){return void this.walk("up")}U(),B(r,!0);break;case"up":try{r=a.parentNode.previousSibling.lastChild}catch(e){return}U(),B(r,!0);break;case"right":if(U(),a.nextSibling||"strong"===a.lastChild.tagName)B(a.nextSibling,!0);else B(n.evaluate("table/div/tr/td[2]",a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,!0);break;case"left":if(U(),a.previousSibling&&"undetermined"===a.previousSibling.className)return B(a.previousSibling,!0),!0;B(i.utils.ancestor(a.parentNode,"TD"),!0);break;case"moveTo":U(),B(t,!0)}"down"!==e&&"up"!==e||r.tabulatorSelect||this.walk(e)},this.OutlinerKeypressPanel=function(e){function t(e){e&&n.getElementById("UserURI")&&(n.getElementById("UserURI").value="NamedNode"===e.termType?e.uri:"")}function o(e){return arguments[3]||(v("right",c),t(i.utils.getAbout(h,f[0]))),!0}var s,l;if(i.log.info("Key "+e.keyCode+" pressed"),"TEXTAREA"!==i.utils.getTarget(e).tagName&&"UserURI"!==i.utils.getTarget(e).id&&!(f.length>1))if(0!==f.length){var c=f[0];switch(g.removeCallback("done","setSelectedAfterward"),g.removeCallback("fail","setSelectedAfterward"),e.keyCode){case 13:if("HTML"===i.utils.getTarget(e).tagName){var u=i.utils.getAbout(h,c);s=c.parentNode.AJAR_statement.why,l=i.store.updater.editable(s.uri,h),u?r.GotoSubject(u,!0):l&&p.UserInput.Enter(c)}else this.UserInput.Keypress(e),this.walk("down"),e.stopPropagation();return;case 38:this.walk("up"),e.stopPropagation(),e.preventDefault();break;case 40:this.walk("down"),e.stopPropagation(),e.preventDefault()}if("INPUT"!==i.utils.getTarget(e).tagName){switch(e.keyCode){case 46:case 8:s=c.parentNode.AJAR_statement.why,(l=i.store.updater.editable(s.uri,h))&&(e.preventDefault(),this.UserInput.Delete(c));break;case 37:if(this.walk("left"))return;var d=i.utils.ancestor(c.parentNode,"TD");K(c,i.utils.getAbout(h,d));break;case 39:var m=i.utils.getAbout(h,c);if(m){var v=this.walk;if(c.nextSibling)return void this.walk("right");"TABLE"!==c.firstChild.tagName&&(g.addCallback("done",o),g.addCallback("fail",o),J(c,m,{pane:a.byName("defaultPane")})),o()}break;case 38:case 40:break;default:switch(e.charCode){case 99:if(e.ctrlKey){p.UserInput.copyToClipboard(p.clipboardAddress,c);break}break;case 118:case 112:if(e.ctrlKey){p.UserInput.pasteFromClipboard(p.clipboardAddress,c);break}break;default:i.utils.getTarget(e).tagName}}if(t(i.utils.getAbout(h,f[0])),f[0]){var y=i.utils.findPos(f[0])[1];y+f[0].clientHeight>window.scrollY+window.innerHeight&&i.utils.getEyeFocus(f[0],!0,!0,window),y<window.scrollY+54&&i.utils.getEyeFocus(f[0],!0,void 0,window)}}}else 13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode||(this.walk("right",p.focusTd),t(i.utils.getAbout(h,f[0])))},this.OutlinerMouseclickPanel=function(e){switch(p.UserInput._tabulatorMode){case 0:!function(e){i.log.info("@TabulatorMousedown, dom.location is now "+n.location);var t=p.targetOf(e);if(t){var r=t.tagName;"INPUT"!==r&&"TEXTAREA"!==r&&(p.UserInput.clearMenu(),p.UserInput.lastModified&&p.UserInput.lastModified.parentNode.nextSibling&&p.UserInput.backOut(),(!t.src||t.src.slice(t.src.indexOf("/icons/")+1)!==l.default.src.icon_show_choices&&t.src.slice(t.src.indexOf("/icons/")+1)!==l.default.src.icon_add_triple)&&p.UserInput.clearInputAndSave(e),t.src&&t.src.slice(t.src.indexOf("/icons/")+1)===l.default.src.icon_show_choices||p.UserInput.clearMenu(),e&&e.stopPropagation())}}(e);break;case 1:p.UserInput.Click(e)}},this.replaceTD=function(e,t){var n;R(t)&&(n=!0);for(var r=f.length-1;r>-1;r--)for(var i=f[r];i.parentNode;i=i.parentNode)i===t&&B(f[r],!1);t.parentNode.replaceChild(e,t),n&&B(e,!0)},r.outlineRefocus=X,this.GotoFormURI_enterKey=function(e){13===e.keyCode&&r.GotoFormURI(e)},this.GotoFormURI=function(e){!function(e){var t=h.sym(e);this.GotoSubject(t,!0)}(n.getElementById("UserURI").value)},this.GotoURIinit=function(e){var t=h.sym(e);this.GotoSubject(t)},this.GotoSubject=function(e,t,r,a,o,s){s=s||n.getElementById("outline"),a&&(i.utils.emptyNode(s),s.style.width="100%");var l=function(){var t=n.createElement("TR");t.style.verticalAlign="top",s.appendChild(t);var r=p.outlineObjectTD(e,void 0,t);return t.appendChild(r),r}();if(a&&Q(e),t){J(l,e,{pane:r,solo:a});var c=l.parentNode;i.utils.getEyeFocus(c,!1,void 0,window)}if(a&&n&&n.defaultView&&n.defaultView.history&&document.location.href!==e.uri){var u=r?{paneName:r.name}:{};try{n.defaultView.history.pushState(u,e.uri,e.uri)}catch(e){console.log(e)}}return e};var Y=i.ns,Z=(0,d.default)(n);function ee(e){var r;if("Literal"===e.termType){(r=n.createElement("span")).textContent=e.value;var o="";if(e.datatype&&e.datatype.uri){var s=i.ns.xsd("").uri;e.datatype.uri.slice(0,s.length)===s&&(o={integer:"text-align: right;",decimal:"text-align: '.';",double:"text-align: '.';"}[e.datatype.uri.slice(s.length)])}r.setAttribute("style",o||"white-space: pre-wrap;")}else if("NamedNode"===e.termType||"BlankNode"===e.termType)if((r=n.createElement("span")).setAttribute("about",e.toNT()),p.appendAccessIcons(h,r,e),"NamedNode"===e.termType)if("tel:"===e.uri.slice(0,4)){var c=e.uri.slice(4),u=n.createElement("a");r.appendChild(n.createTextNode(c)),u.setAttribute("href",e.uri),u.appendChild(i.utils.AJARImage(l.default.src.icon_telephone,"phone","phone "+c,n)),r.appendChild(u),u.firstChild.setAttribute("class","phoneIcon")}else{r.appendChild(n.createTextNode(i.utils.label(e)));var d=i.widgets.linkIcon(n,e);r.appendChild(d),i.widgets.makeDraggable(r,e)}else r.appendChild(n.createTextNode(i.utils.label(e)));else if("Collection"===e.termType){(r=n.createElement("table")).setAttribute("style","width: 100%;"),r.setAttribute("about",e.toNT());for(var f=0;f<e.elements.length;f++){var m=e.elements[f],g=r.appendChild(n.createElement("tr")),v=g.appendChild(n.createElement("td"));v.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),v.setAttribute("notSelectable","false"),v.setAttribute("about",e.toNT()),v.innerHTML=f+1+")",g.appendChild(p.outlineObjectTD(m))}}else"Graph"===e.termType?(r=a.byName("dataContentPane").statementsAsTables(e.statements,t)).setAttribute("class","nestedFormula"):(i.log.error("Object "+e+" has unknown term type: "+e.termType),r=n.createTextNode("[unknownTermType:"+e.termType+"]"));return i.log.debug("contents: "+r.innerHTML),r}return this.createTabURI=function(){n.getElementById("UserURI").value=n.URL+"?uri="+n.getElementById("UserURI").value},this.UserInput.setSelected=B,this.UserInput.deselectAll=U,this.UserInput.views=Z,this.outlineExpand=J,this};var i=h(n(0)),a=h(n(120)),o=h(n(3)),s=p(n(254)),l=p(n(255)),c=p(n(256)),u=p(n(257)),d=p(n(258));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){v(a,r,i,o,s,"next",e)}function s(e){v(a,r,i,o,s,"throw",e)}o(void 0)}))}}}).call(this,n(65))},function(e,t,n){"use strict";var r,i=n(0),a=n(3),o=e.exports={};o.util={},o.util.Event=(r=[],{on:function(e,t,n,i,a){var o=function(e){return n.call(i,e,i)};e.addEventListener(t,o,!1);var s=[e,t,a,o];r.push(s)},off:function(e,t,n){var i=this._getCacheIndex(e,t,n);if(-1===i)return!1;var a=r[i];return e.removeEventListener(t,a[this.WFN],!1),delete r[i][this.WFN],delete r[i][this.FN],r.splice(i,1),!0},EL:0,TYPE:1,FNID:2,WFN:3,_getCacheIndex:function(e,t,n){for(var i=0,a=r.length;i<a;++i){var o=r[i];if(o&&o[this.FNID]===n&&o[this.EL]===e&&o[this.TYPE]===t)return i}return-1}}),o.util.DDExternalProxy=function(e){this.initTarget(e)},o.util.DDExternalProxy.prototype={initTarget:function(e){this.DDM=o.util.DDM,this.el=e},b4StartDrag:function(e,t){s.onDragStart(e,t,this.el)},b4Drag:function(e){},handleMouseDown:function(e,t){(e.which||e.button)>1||this.DDM.handleMouseDown(e,this)}},o.util.DDM={handleMouseDown:function(e,t){this.dragCurrent=t;var n=t.el;this.startX=e.pageX,this.startY=e.pageY,this.deltaX=this.startX-n.offsetLeft,this.deltaY=this.startY-n.offsetTop,this.dragThreshMet=!1},handleMouseMove:function(e){if(!this.dragCurrent)return!0;if(o.util.Event.isIE&&!e.button)return o.log("button failure","info","DragDropMgr"),this.stopEvent(e),this.handleMouseUp(e);if(!this.dragThreshMet){var t=Math.abs(this.startX-e.pageX),n=Math.abs(this.startY-e.pageY);(t>this.clickPixelThresh||n>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}return this.dragThreshMet,e.preventDefault(),!0},handleMouseUp:function(e){this.dragCurrent&&(o.util.Event.off(this.dragCurrent.el,"mousemove","dragMouseMove"),o.util.Event.off(this.dragCurrent.el,"mouseup","dragMouseUp"),o.util.Event.off(this.dragCurrent.el,"mouseup","dragMouseUp"),this.dragThreshMet&&(s.onDropInside(e.target),this.dragThreshMet=!1),this.dragCurrent=null)},startDrag:function(e,t){this.dragCurrent&&this.dragCurrent.b4StartDrag(e,t),this.dragThreshMet=!0},clickPixelThresh:3};var s={onDrop:function(e,t,n){var r=i.utils.ancestor(i.utils.ancestor(e.originalTarget,"TABLE").parentNode,"TABLE").outline.selection,o=t.flavour.contentType,s=transferUtils.retrieveURLFromData(t.data,o);if(s){if("application/x-moz-file"===o&&0===t.data.fileSize){var l=a.sym("chrome://tabulator/content/internalKnowledge.n3#defaultNew");i.store.copyTo(l,a.sym(s))}var c=r[0];i.utils.ancestor(i.utils.ancestor(c,"TABLE").parentNode,"TABLE").outline.UserInput.insertTermTo(c,a.sym(s))}},onDragEnter:function(e,t){try{var n=i.utils.ancestor(i.utils.ancestor(e.originalTarget,"TABLE").parentNode,"TABLE").outline.selection}catch(e){return}for(var r=e.originalTarget;r;r=r.parentNode)if(r.tabulatorSelect){if(n[0]){try{n[0].tabulatorDeselect()}catch(e){throw new Error(n[0]+" causes "+e)}o.util.Event.off(r,"mouseup","dragMouseUp")}r.tabulatorSelect();break}},onDragExit:function(e,t){},onDropInside:function(e){e.ownerDocument.getElementById("outline").outline.UserInput.insertTermTo(e,i.utils.getAbout(i.store,this.dragTarget))},onDragStart:function(e,t,n){this.dragTarget=n;var r=Components.interfaces.nsIDragService,a={action:r.DRAGDROP_ACTION_COPY+r.DRAGDROP_ACTION_MOVE+r.DRAGDROP_ACTION_LINK},o=n.ownerDocument.getBoxObjectFor(n),s=Components.classes["@mozilla.org/gfx/region;1"].createInstance(Components.interfaces.nsIScriptableRegion);s.init(),s.unionRect(o.screenX,o.screenY,o.width,o.height);var l={data:null},c=i.Util.getTerm(n);switch(c.termType){case"NamedNode":l.data=this.URItoTransferDataSet(c.uri);break;case"BlankNode":l.data=this.URItoTransferDataSet(c.toNT());break;case"Literal":l.data=this.URItoTransferDataSet(c.value)}l=l.data;var u=Components.classes["@mozilla.org/supports-array;1"].createInstance(Components.interfaces.nsISupportsArray),d=nsTransferable.set(l.dataList[0]);u.AppendElement(d.QueryInterface(Components.interfaces.nsISupports)),this.mDragService.invokeDragSession(n,u,s,a.action)},getSupportedFlavours:function(){var e=new FlavourSet;return e.appendFlavour("text/x-moz-url"),e.appendFlavour("text/unicode"),e.appendFlavour("application/x-moz-file","nsIFile"),e},URItoTransferDataSet:function(e){var t=new TransferDataSet,n=new TransferData;return n.addDataForFlavour("text/x-moz-url",e),n.addDataForFlavour("text/unicode",e),t.push(n),t},_mDS:null,get_mDragService:function(){if(!this._mDS){var e=Components.interfaces.nsIDragService;this._mDS=Components.classes["@mozilla.org/widget/dragservice;1"].getService(e)}return this._mDS},DDM:o.util.DDM}},function(e,t,n){"use strict";var r=e.exports={},i=n(0);r.src=[],r.tooltips=[],r.src.icon_expand=i.icons.originalIconBase+"tbl-expand-trans.png",r.src.icon_more=i.icons.originalIconBase+"tbl-more-trans.png",r.src.icon_collapse=i.icons.originalIconBase+"tbl-collapse.png",r.src.icon_internals=i.icons.originalIconBase+"tango/22-emblem-system.png",r.src.icon_instances=i.icons.originalIconBase+"tango/22-folder-open.png",r.src.icon_foaf=i.icons.originalIconBase+"foaf/foafTiny.gif",r.src.icon_social=i.icons.originalIconBase+"social/social.gif",r.src.icon_mb=i.icons.originalIconBase+"microblog/microblog.png",r.src.icon_shrink=i.icons.originalIconBase+"tbl-shrink.png",r.src.icon_rows=i.icons.originalIconBase+"tbl-rows.png",r.src.icon_unrequested=i.icons.originalIconBase+"16dot-blue.gif",r.src.icon_fetched=i.icons.originalIconBase+"16dot-green.gif",r.src.icon_failed=i.icons.originalIconBase+"16dot-red.gif",r.src.icon_requested=i.icons.originalIconBase+"16dot-yellow.gif",r.src.icon_CVPane=i.icons.originalIconBase+"CV.png",r.src.icon_defaultPane=i.icons.originalIconBase+"about.png",r.src.icon_visit=i.icons.originalIconBase+"tango/22-text-x-generic.png",r.src.icon_dataContents=i.icons.originalIconBase+"rdf_flyer.24.gif",r.src.icon_n3Pane=i.icons.originalIconBase+"w3c/n3_smaller.png",r.src.icon_RDFXMLPane=i.icons.originalIconBase+"22-text-xml4.png",r.src.icon_imageContents=i.icons.originalIconBase+"tango/22-image-x-generic.png",r.src.icon_airPane=i.icons.originalIconBase+"1pt5a.gif",r.src.icon_LawPane=i.icons.originalIconBase+"law.jpg",r.src.icon_pushbackPane=i.icons.originalIconBase+"pb-logo.png",r.src.icon_photoPane=i.icons.originalIconBase+"photo_small.png",r.src.icon_tagPane=i.icons.originalIconBase+"tag_small.png",r.src.icon_TinyTag=i.icons.originalIconBase+"tag_tiny.png",r.src.icon_photoBegin=i.icons.originalIconBase+"photo_begin.png",r.src.icon_photoNext=i.icons.originalIconBase+"photo_next.png",r.src.icon_photoBack=i.icons.originalIconBase+"photo_back.png",r.src.icon_photoEnd=i.icons.originalIconBase+"photo_end.png",r.src.icon_photoImportPane=i.icons.originalIconBase+"flickr_small.png",r.src.icon_retract=i.icons.originalIconBase+"retract.gif",r.src.icon_refresh=i.icons.originalIconBase+"refresh.gif",r.src.icon_optoff=i.icons.originalIconBase+"optional_off.PNG",r.src.icon_opton=i.icons.originalIconBase+"optional_on.PNG",r.src.icon_map=i.icons.originalIconBase+"compassrose.png",r.src.icon_retracted=r.src.icon_unrequested,r.src.icon_retracted=r.src.icon_unrequested,r.src.icon_time=i.icons.originalIconBase+"icons/Wclocksmall.png",r.src.icon_telephone=i.icons.originalIconBase+"silk/telephone.png",r.src.icon_time=i.icons.originalIconBase+"Wclocksmall.png",r.src.icon_remove_node=i.icons.originalIconBase+"tbl-x-small.png",r.src.icon_add_triple=i.icons.originalIconBase+"tango/22-list-add.png",r.src.icon_add_new_triple=i.icons.originalIconBase+"tango/22-list-add-new.png",r.src.icon_show_choices=i.icons.originalIconBase+"userinput_show_choices_temp.png",r.src.icon_display_reasons=i.icons.originalIconBase+"tango/22-help-browser.png",r.tooltips[r.src.icon_display_reasons]="Display explanations",r.tooltips[r.src.icon_add_triple]="Add more",r.tooltips[r.src.icon_add_new_triple]="Add one",r.tooltips[r.src.icon_remove_node]="Remove",r.tooltips[r.src.icon_expand]="View details.",r.tooltips[r.src.icon_collapse]="Hide details.",r.tooltips[r.src.icon_shrink]="Shrink list.",r.tooltips[r.src.icon_internals]="Under the hood",r.tooltips[r.src.icon_instances]="List",r.tooltips[r.src.icon_foaf]="Friends",r.tooltips[r.src.icon_rows]="Make a table of data like this",r.tooltips[r.src.icon_unrequested]="Fetch this.",r.tooltips[r.src.icon_fetched]="Fetched successfully.",r.tooltips[r.src.icon_failed]="Failed to load. Click to retry.",r.tooltips[r.src.icon_requested]="This is being fetched. Please wait...",r.tooltips[r.src.icon_visit]="View document",r.tooltips[r.src.icon_retract]="Remove this source and all its data from tabulator.",r.tooltips[r.src.icon_refresh]="Refresh this source and reload its triples.",r.OutlinerIcon=function(e,t,n,r,i){return this.src=e,this.alt=n,this.width=t,this.tooltip=r,this.filter=i,this},r.termWidgets={},r.termWidgets.optOn=new r.OutlinerIcon(r.src.icon_opton,20,"opt on","Make this branch of your query mandatory."),r.termWidgets.optOff=new r.OutlinerIcon(r.src.icon_optoff,20,"opt off","Make this branch of your query optional."),r.termWidgets.addTri=new r.OutlinerIcon(r.src.icon_add_triple,18,"add tri","Add one")},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,a,o=n(0),s=o.rdf,l=n(120);e.exports=function e(t){var n=o.store,c=t.document;this.menuId="predicateMenu1";var u=function(e){console.log(e+"\n")},d=o.ns.rdf,p=o.rdf.Namespace("http://purl.org/ontology/bibo/"),f=o.rdf.Namespace("http://purl.org/dc/elements/1.1/"),h=!1;return i||((i=new o.rdf.Formula).superFormula=n),a||(a=new o.rdf.IndexedFormula),a.name="TempFormula",o.store.updater||(o.store.updater=new o.rdf.UpdateManager(n)),{sparqler:o.store.updater,lastModified:null,lastModifiedStat:null,statIsInverse:!1,addNewPredicateObject:function(e){if("bottom-border-active"===o.utils.getTarget(e).className){var r=t.UserInput,i=o.utils.getTarget(e),a=c.createElement("tr");o.utils.ancestor(i,"DIV").insertBefore(a,o.utils.ancestor(i,"TR"));var s=c.createElement("tr"),l=r.generateRequest("(TBD)",s,!0);a.appendChild(s.firstChild);var u=r.generateRequest("(Enter text or drag an object onto this field)",s,!1);if(a.appendChild(s.firstChild),o.utils.ancestor(i,"TR").previousSibling&&o.utils.ancestor(i,"TR").previousSibling.AJAR_statement){var d=o.utils.ancestor(i,"TR").previousSibling.AJAR_statement;r.formUndetStat(a,d.subject,l,u,d.why,!1)}else{var p=o.utils.getAbout(n,o.utils.ancestor(i.parentNode.parentNode,"TD")),f=n.sym(o.rdf.Util.uri.docpart(p.uri));r.formUndetStat(a,p,l,u,f,!1)}t.walk("moveTo",a.firstChild),o.log.info("addNewPredicateObject: selection = "+t.getSelection().map((function(e){return e.textContent})).join(", ")),this.startFillInText(t.getSelection()[0])}},addNewObject:function(e){var n=o.utils.getTarget(e).parentNode.parentNode,r=n.parentNode.AJAR_inverse;this.lastModifiedStat=n.parentNode.AJAR_statement;var i=this.appendToPredicate(n),a=this.generateRequest(" (Error) ",i,!1),s=i.previousSibling.AJAR_statement;r?this.formUndetStat(i,a,s.predicate,s.object,s.why,!0):this.formUndetStat(i,s.subject,s.predicate,a,s.why,!1),t.walk("moveTo",i.lastChild),this.startFillInText(i.lastChild)},Delete:function(e){this.deleteTriple(e,!1)},Enter:function(e){this.literalModification(e)},Click:function(e){var t=o.utils.getTarget(e);"Literal"===o.utils.getTerm(t).termType&&(this.literalModification(t),e.preventDefault(),e.stopPropagation())},pasteFromClipboard:function(e,n){function r(e){var n=t.clipboard[e].shift();if(null!==n){switch(e){case"predicates":case"objects":for(var r=t.clipboard.all,i=0;;i++)if(n.sameTerm(r[i])){r.splice(i,1);break}break;case"all":throw new Error("hostorical code not understood - what is theCollection?")}return n}o.log.warn("no more element in clipboard!")}var i;switch(n.className){case"undetermined selected":if(!(i=n.nextSibling?r("predicates"):r("objects")))return;break;case"pred selected":if(!(i=r("objects")))return;break;case"selected":var a=r("all");if(!a)return;return i=a[0],void this.insertTermTo(n,i,a[1])}this.insertTermTo(n,i)},startFillInText:function(e){switch(this.whatSortOfEditCell(e)){case"DatatypeProperty-like":o.utils.emptyNode(e),this.lastModified=this.createInputBoxIn(e," (Please Input) "),this.lastModified.isNew=!1,this.lastModified.select();break;case"predicate":this.performAutoCompleteEdit(e,"PredicateAutoComplete");break;case"ObjectProperty-like":case"no-idea":this.performAutoCompleteEdit(e,"GeneralAutoComplete")}},literalModification:function(e){if(o.log.debug("entering literal Modification with "+e+e.textContent),-1!==e.className.indexOf(" pendingedit"))return o.log.warn("The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again."),!0;var t=e;if(this.getStatementAbout(t)){try{var r=o.utils.getTerm(t),i=o.utils.ancestor(t,"TR")}catch(r){o.log.warn("userinput.js: "+r+o.utils.getAbout(n,e)),o.log.error(t+" getStatement Error:"+r)}try{var a=i.lastChild}catch(e){o.log.error(e+"@"+t)}if("Literal"===r.termType){if(a.removeChild(a.firstChild),r.value.match("\n")){var s=c.createElement("textarea");s.appendChild(c.createTextNode(r.value)),s.setAttribute("rows",(r.value.match(/\n/g).length+1).toString()),s.setAttribute("cols","100"),s.setAttribute("class","textinput"),a.appendChild(s),this.lastModified=s}else this.lastModified=this.createInputBoxIn(a,r.value);this.lastModified.isNew=!1,this.lastModified.select()}return!0}},performAutoCompleteEdit:function(e,t){o.utils.emptyNode(e),u("perform AutoCompleteEdit. THIS IS="+this),this.lastModified=this.createInputBoxIn(e,""),this.lastModified.select(),this.lastModified.addEventListener("keypress",this.getAutoCompleteHandler(t),!1),this.getAutoCompleteHandler(t)(1)},backOut:function(){this.deleteTriple(this.lastModified.parentNode,!0),this.lastModified=null},clearMenu:function(){var e=c.getElementById(this.menuID);e&&e.parentNode.removeChild(e)},clearInputAndSave:function(e){if(this.lastModified){if(!this.lastModified.isNew)try{var r=this.getStatementAbout(this.lastModified).object}catch(e){return}var i=this.lastModifiedStat;if(this.lastModified.value!==this.lastModified.defaultValue){if(""===this.lastModified.value)return this.lastModified.value=this.lastModified.defaultValue,void this.clearInputAndSave();if(this.lastModified.isNew){i=new o.rdf.Statement(i.subject,i.predicate,n.literal(this.lastModified.value),i.why);var a=this.views.defaults[i.predicate.uri],c=o.utils.ancestor(this.lastModified,"TR");try{o.store.updater.update([],[i],(function(e,n,r){n||(o.log.error("Error occurs while inserting "+i+"\n\n"+r+"\n"),t.UserInput.deleteTriple(c.lastChild,!0))}))}catch(e){return void o.log.error("Error inserting fact "+i+":\n\t"+e+"\n")}i=n.add(i.subject,i.predicate,n.literal(this.lastModified.value),i.why)}else{if(this.statIsInverse)return o.log.error("Invalid Input: a literal can't be a subject in RDF/XML"),void this.backOut();var u,p,f;switch(r.termType){case"Literal":var h=this.lastModified.value;c=o.utils.ancestor(this.lastModified,"TR");var m=this.lastModified.defaultValue;p=s.st(i.subject,i.predicate,n.literal(this.lastModified.value),i.why);try{o.store.updater.update([i],[p],(function(e,t,n){t?r.value=h:(o.log.warn("Error occurs while editing "+i+"\n\n"+n),c.lastChild.textContent=m),c.lastChild.className=c.lastChild.className.replace(/ pendingedit/g,"")}))}catch(e){return void o.log.warn("Error occurs while editing "+i+":\n\t"+e)}break;case"BlankNode":var g=n.literal(this.lastModified.value,"");if("Collection"!==i.predicate.termType)return void this.fillInRequest("object",this.lastModified.parentNode,n.literal(this.lastModified.value));var v=i.predicate.elements[0];if(n.any(void 0,v,g)){if(!e){var y=this.lastModified.parentNode;(e={}).pageX=o.utils.findPos(y)[0],e.pageY=o.utils.findPos(y)[1]+y.clientHeight}this.showMenu(e,"DidYouMeanDialog",void 0,{dialogTerm:n.any(void 0,v,g),bnodeTerm:i.subject})}else{u=o.utils.ancestor(o.utils.ancestor(this.lastModified,"TR").parentNode,"TR").AJAR_statement,p=s.st(i.subject,v,g,i.why);var b=n.the(i.subject,d("type"));f=n.anyStatementMatching(i.subject,d("type"),b,i.why),c=o.utils.ancestor(o.utils.ancestor(this.lastModified,"TR"),"TD").parentNode;try{o.store.updater.update([],[u,p,f],(function(e,n,r){n||(console.log("Error occurs while editing "+u+"\n\n"+r),t.UserInput.deleteTriple(c.lastChild,!0))}))}catch(e){return void console.log("Error occurs while editing "+u+":\n\t"+e)}n.remove(i),n.add(i.subject,v,g,i.why)}var w=o.utils.ancestor(this.lastModified.parentNode.parentNode,"TD"),x=l.byName("default");t.outlineExpand(w,i.subject,{pane:x,already:!0}),t.walk("right",t.focusTd)}}}else{if(this.lastModified.isNew){var k=o.utils.ancestor(this.lastModified,"TR"),C=this.generateRequest("(To be determined. Re-type of drag an object onto this field)"),E=k.previousSibling.AJAR_statement;return this.formUndetStat(k,E.subject,E.predicate,C,E.why,!1),void(this.lastModified=null)}if("Collection"===i.predicate.termType){n.removeMany(i.subject);var T=o.utils.ancestor(o.utils.ancestor(this.lastModified,"TR").parentNode,"TR");return E=T.AJAR_statement,C=this.generateRequest("(To be determined. Re-type of drag an object onto this field)"),this.formUndetStat(T,E.subject,E.predicate,C,E.why,!1),t.replaceTD(t.outlineObjectTD(C,a),T.lastChild),void(this.lastModified=null)}if(this.statIsInverse){if("BlankNode"===i.subject.termType)return void this.backOut()}else if("BlankNode"===i.object.termType)return void this.backOut()}k=o.utils.ancestor(this.lastModified,"TR"),this.statIsInverse?t.replaceTD(t.outlineObjectTD(i.subject,a),k.lastChild):t.replaceTD(t.outlineObjectTD(n.literal(this.lastModified.value),a),k.lastChild),this.lastModified.value!==this.lastModified.defaultValue&&(k.lastChild.className+=" pendingedit"),this.lastModified=null}},deleteTriple:function(e,r){if(o.log.debug("deleteTriple entered"),!r&&-1!==e.className.indexOf(" pendingedit"))return console.log("The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again."),void t.walk("up");var i,a=this.getStatementAbout(e);if(!(r||n.whether(a.object,d("type"),o.ns.link("Request"))||n.whether(a.predicate,d("type"),o.ns.link("Request"))||n.whether(a.subject,d("type"),o.ns.link("Request")))){o.log.debug("about to send SPARQLUpdate");try{o.store.updater.update([a],[],(function(t,n,r){n?s():(console.log("Error occurs while deleting "+a+"\n\n"+r),e.className=e.className.replace(/ pendingedit/g,""))})),e.className+=" pendingedit"}catch(e){return o.log.error(e),void o.log.warn("Error deleting statement "+a+":\n\t"+e)}o.log.debug("SPARQLUpdate sent")}function s(){var e;for(e=i;1===e.childNodes.length;e=e.previousSibling);if(e===i){var t=e.nextSibling;if(t.nextSibling&&1===t.childNodes.length){var n=e.firstChild;n.setAttribute("rowspan",parseInt(n.getAttribute("rowspan"))-1),t.insertBefore(e.firstChild,t.firstChild)}i.parentNode.removeChild(i)}else(n=e.firstChild).setAttribute("rowspan",parseInt(n.getAttribute("rowspan"))-1),i.parentNode.removeChild(i)}o.log.debug("about to remove "+a),o.log.debug("removed"),t.walk("up"),i=e.parentNode,r&&s()},clipboardInit:function(){t.clipboard={},t.clipboard.objects=[],t.clipboard.predicates=[],t.clipboard.all=[]},copyToClipboard:function(e,n){var r=o.utils.getTerm(n);switch(n.className){case"selected":case"obj selected":t.clipboard.objects.unshift(r);break;case"pred selected":case"pred internal selected":t.clipboard.predicates.unshift(r)}t.clipboard.all.unshift(r)},insertTermTo:function(e,r,a){switch(e.className){case"undetermined selected":var s=this.views.defaults[e.parentNode.AJAR_statement.predicate.uri];this.fillInRequest(e.nextSibling?"predicate":"object",e,r);break;case"pred selected":var l=this.appendToPredicate(e),u=e.parentNode.AJAR_statement;s=this.views.defaults[u.predicate.uri],l.appendChild(t.outlineObjectTD(r,s));var d=e.parentNode.AJAR_inverse;d?l.AJAR_statemnet=n.add(r,u.predicate,u.object,u.why):l.AJAR_statement=n.add(u.subject,u.predicate,r,u.why);try{o.store.updater.update([],[l.AJAR_statement],(function(e,t,n){t||o.log.error("userinput.js (pred selected): Fail trying to insert statement "+l.AJAR_statement+": "+n)}))}catch(e){return void o.log.error("Exception trying to insert statement "+l.AJAR_statement+": "+o.utils.stackString(e))}l.AJAR_inverse=d,i.statements.push(l.AJAR_statement);break;case"selected":var p=o.utils.ancestor(e,"TABLE").lastChild,f=p.insertBefore(c.createElement("tr"),p.lastChild);if(u=f.previousSibling.AJAR_statement,void 0===a&&(a=!0),a)this.formUndetStat(f,u.subject,this.generateRequest("(TBD)",f,!0),r,u.why,!1),f.appendChild(t.outlineObjectTD(r)),t.walk("moveTo",f.firstChild),this.startFillInText(f.firstChild);else{var h=this.generateRequest("(To be determined. Re-type of drag an object onto this field)",f);this.formUndetStat(f,u.subject,r,h,u.why,!1),f.insertBefore(t.outlinePredicateTD(r,f,!1,!1),f.firstChild),t.walk("moveTo",f.lastChild),this.startFillInText(f.lastChild)}}},Refill:function(e,t){o.log.info("Refill"+t.textContent);var r,i=t.nextSibling;if(i){if("undetermined"===t.nextSibling.className){var a=o.utils.getAbout(n,o.utils.ancestor(t,"TABLE").parentNode),l=n.any(a,d("type")),c=[];c[0]="SELECT ?pred WHERE{\n?pred "+d("type")+d("Property")+".\n?pred "+o.ns.rdfs("domain")+l+".}",c[1]="SELECT ?pred ?class\nWHERE{\n?pred "+d("type")+d("Property")+".\n"+l+o.ns.rdfs("subClassOf")+" ?class.\n?pred "+o.ns.rdfs("domain")+" ?class.\n}",c[2]="SELECT ?pred WHERE{\n"+a+d("type")+n.variable("subjectClass")+".\n"+n.variable("pred")+o.ns.rdfs("domain")+n.variable("subjectClass")+".\n}",r=c.map(s.SPARQLToQuery)}else{a=o.utils.getAbout(n,o.utils.ancestor(t,"TABLE").parentNode),l=n.any(a,d("type"));var u=t.parentNode.AJAR_statement.object;c="SELECT ?pred WHERE{"+a+d("type")+"?subjectClass.\n"+u+d("type")+"?objectClass.\n?pred "+o.ns.rdfs("domain")+"?subjectClass.\n?pred "+o.ns.rdfs("range")+"?objectClass.\n}",r=s.SPARQLToQuery(c)}this.showMenu(e,"GeneralPredicateChoice",r,{isPredicate:i,selectedTd:t})}else{var p=t.parentNode.AJAR_statement.predicate;if((n.whether(p,d("type"),o.ns.owl("DatatypeProperty"))||"Collection"===p.termType||n.whether(p,o.ns.rdfs("range"),o.ns.rdfs("Literal")))&&(t.className="",o.utils.emptyNode(t),this.lastModified=this.createInputBoxIn(t," (Please Input) "),this.lastModified.isNew=!1,this.lastModified.select()),t.parentNode.AJAR_statement.predicate.sameTerm(d("type"))){var f="SELECT ?class WHERE{?class "+d("type")+o.ns.rdfs("Class")+".}",h=s.SPARQLToQuery(f);this.showMenu(e,"TypeChoice",h,{isPredicate:i,selectedTd:t})}}},getAutoCompleteHandler:function(e){var i;return u("\n\n***** In getAutoCompleteHandler ****** mode = "+e),"PredicateAutoComplete"===e?e="predicate":"JournalTAC"!==e&&(e="all"),i="JournalTAC"===e?c.getElementById("inpid_journal_title"):this.lastModified||t.getSelection()[0].firstChild,u("InputBox="+i),u("InputBox.value="+i.value),function(a){u("ENTER EVENT="+a),u("1. outside (if eneterEvent)");var s={},l=i.parentNode;e||(e=l.nextSibling?"predicate":"all"),s.pageX=o.utils.findPos(l)[0],s.pageY=o.utils.findPos(l)[1]+l.clientHeight,u("epX="+s.pageX+", epY="+s.pageY+", mode="+e);var d=c.getElementById(t.UserInput.menuID);function p(e){e&&(d.lastHighlight&&(d.lastHighlight.className=""),d.lastHighlight=e,d.lastHighlight.className="activeItem",t.showURI(o.utils.getAbout(n,d.lastHighlight)))}if(a){u("2. in (if enterEvent).  with type = "+r(a));var f=i.value;if("object"===r(a))switch(u("3. in typeof enterEvent is object, will switch to keys, arrows, etc. keycode = "+a.keyCode),a.stopPropagation(),d&&!d.lastHighlight&&p(d.firstChild.firstChild),a.keyCode){case 13:case 9:if(u("handler: Enter or Tab"),!d)return void t.UserInput.clearInputAndSave();if(!d.lastHighlight)return"JournalTAC"===e?(t.UserInput.clearMenu(),u("no lastH"),"no lastH"):void 0;if("INPUT"===d.lastHighlight.tagName)switch(d.lastHighlight.value){case"New...":u("subcase New"),t.UserInput.createNew();break;case"GiveURI":u("subcase GiveURI"),t.UserInput.inputURI()}else{if("JournalTAC"===e){if(u("movedArrow? "+h),h&&d.lastHighlight){var m=d.lastHighlight.firstChild.firstChild.innerHTML,g=d.lastHighlight.firstChild.nextSibling.innerHTML;return["gotdptitle",m,g=g.slice(4,-4)]}return"asGivenTxt"}var v=o.utils.getAbout(n,d.lastHighlight),y="predicate"===e?"predicate":"object";t.UserInput.clearMenu(),t.UserInput.fillInRequest(y,i.parentNode,v)}return void u("outside");case 38:return u("handler: Arrow UP"),h=!0,""!==f||"TR"!==d.lastHighlight.tagName||d.lastHighlight.previousSibling?p(d.lastHighlight.previousSibling):p(d.firstChild.firstChild),"I'm a little Arrow Up";case 40:return u("handler: Arrow Down"),h=!0,"INPUT"===d.lastHighlight.tagName?p(d.childNodes[1].firstChild):p(d.lastHighlight.nextSibling),"I'm a little Down Arrow";case 37:case 39:return u("handler: Arrow left, right"),void("INPUT"===d.lastHighlight.tagName&&(37===a.keyCode?p(d.lastHighlight.previousSibling):p(d.lastHighlight.nextSibling)));case 8:u("handler: Backspace"),f=f.slice(0,-1);break;case 27:return u("handler: Esc"),d?void t.UserInput.clearMenu():void t.UserInput.backOut();default:u("handler: Default"),h=!1,u("oldtext="+f),f+=String.fromCharCode(a.charCode),u("charcodent="+a.charCode),u("strcharcod="+String.fromCharCode(a.charCode)),console.log("DEFAULT txtstr="+f+"\n")}return"all"===e?(u("generalAC after switch, newText="+f+"mode is all"),t.UserInput.clearMenu(),t.UserInput.showMenu(s,"GeneralAutoComplete",void 0,{inputText:f,selectedTd:l}),0===f.length&&t.UserInput.WildCardButtons()):"predicate"===e?(u("predicateAC after switch, newText="+f+"mode is predicate"),t.UserInput.clearMenu(),t.UserInput.showMenu(s,"PredicateAutoComplete",void 0,{inputText:f,isPredicate:!0,selectedTd:l})):"JournalTAC"===e&&(u("JouralTAC after switch, newText="+f),t.UserInput.clearMenu(),t.UserInput.showMenu(s,"JournalTitleAutoComplete",void 0,{inputText:f},"orderisuseless")),(d=c.getElementById(t.UserInput.menuID))?(u("at end of handler\n^^^^^^^^^^^^^^^^^\n\n"),p(d.firstChild.firstChild),t.showURI(o.utils.getAbout(n,d.lastHighlight)),"nothing to return"):void u("No menu element.  Do not show menu.")}}},WildCardButtons:function(){var e=c.getElementById(t.UserInput.menuID),n=e.insertBefore(c.createElement("div"),e.firstChild),r=n.appendChild(c.createElement("input")),i=n.appendChild(c.createElement("input"));r.type="button",r.value="New...",i.type="button",i.value="Know its URI",n.addEventListener("mouseover",(function(e){var n=c.getElementById(t.UserInput.menuID);n.lastHighlight&&(n.lastHighlight.className=""),n.lastHighlight=o.utils.ancestor(o.utils.getTarget(e),"INPUT"),n.lastHighlight&&(n.lastHighlight.className="activeItem")}),!1),r.addEventListener("click",this.createNew,!1),i.addEventListener("click",this.inputURI,!1)},Keypress:function(e){if(13===e.keyCode)if("TEXTAREA"!==t.targetOf(e).tagName)this.clearInputAndSave();else{var n=parseInt(this.lastModified.getAttribute("rows"));this.lastModified.setAttribute("rows",(n+1).toString()),e.stopPropagation()}},Mousedown:function(t){u("MOUSING DOWN"),window.addEventListener("keypress",(function(t){!t.ctrlKey||115!==t.charCode&&113!==t.charCode||e.switchMode()}),!1),window.addEventListener("mousedown",e.Mousedown,!1),document.getElementById("outline").oncontextmenu=function(){return!1},2===t.button&&(e.switchMode(),t&&(t.preventDefault(),t.stopPropagation()))},Mouseover:function(e){if(this.className="bottom-border-active",1===this._tabulatorMode)switch(o.utils.getTarget(e).tagName){case"TD":var t=o.utils.getTarget(e);"pred"===t.className&&(t.style.cursor="copy");break;case"DIV":var n=o.utils.getTarget(e);"bottom-border"===o.utils.getTarget(e).className&&(n.style.borderColor="rgb(100%,65%,0%)",n.style.cursor="copy")}},Mouseout:function(e){if(this.className="bottom-border",1===this._tabulatorMode){var t=o.utils.getTarget(e);"bottom-border"===o.utils.getTarget(e).className&&(t.style.borderColor="transparent",t.style.cursor="auto")}},whatSortOfEditCell:function(e){if(e.nextSibling)return"predicate";var t=this.getStatementAbout(e).predicate;return n.whether(t,o.ns.rdf("type"),o.ns.owl("DatatypeProperty"))||n.whether(t,o.ns.rdfs("range"),o.ns.rdfs("Literal"))||"Collection"===t.termType?"DatatypeProperty-like":n.whether(t,d("type"),o.ns.owl("ObjectProperty"))?"ObjectProperty-like":"no-idea"},getStatementAbout:function(e){var t=o.utils.ancestor(e,"TR");if(!t)throw new Error("No ancestor TR for the TD we clicked on:"+e);try{var n=t.AJAR_statement}catch(n){throw new Error("No AJAR_statement!"+e+e.textContent+" has ancestor "+t)}return this.lastModifiedStat=t.AJAR_statement,this.statIsInverse=t.AJAR_inverse,n},createInputBoxIn:function(e,n){o.log.info("myDocument in createInputBoxIn is now "+c.location),o.log.info("outline.document is now "+t.document.location);var r=c.createElement("input");return r.setAttribute("value",n),r.setAttribute("class","textinput"),"undetermined selected"!==e.className&&(r.setAttribute("size","100"),r.addEventListener("keypress",(function(e){38!==e.keyCode&&40!==e.keyCode||(t.OutlinerKeypressPanel(e),t.UserInput.clearInputAndSave())}),!1)),e.appendChild(r),r},createNew:function(e){t.UserInput.clearMenu();var r=t.getSelection()[0],i=r.parentNode.AJAR_statement.why,a=n.nextSymbol(i);t.UserInput.fillInRequest("object",r,a),t.outlineExpand(t.getSelection()[0],a)},inputURI:function(e){var r=t.UserInput;r.clearMenu();var i=t.getSelection()[0];o.utils.emptyNode(i);r.lastModified=r.createInputBoxIn(i," (Type a URI) "),r.lastModified.select(),r.lastModified.addEventListener("keypress",(function(e){switch(e.stopPropagation(),e.keyCode){case 13:case 9:if(" (Type a URI) "!==this.value){var t=this.value;r.fillInRequest("object",i,n.sym(t))}}}),!1)},appendToPredicate:function(e){var t,n=!1;try{for(t=e.parentNode.nextSibling;1===t.childNodes.length&&t.AJAR_statement;t=t.nextSibling);}catch(e){n=!0}var r=c.createElement("tr");if(r.style.colspan="1",r.style.display="block",r.style.display="",e.hasAttribute("rowspan")&&e.setAttribute("rowspan",parseInt(e.getAttribute("rowspan"))+1),e.hasAttribute("rowspan")||e.setAttribute("rowspan","2"),n){var i=e.parentNode.parentNode;"defaultPane"===i.className?i.insertBefore(r,i.lastChild):i.appendChild(r)}else t.parentNode.insertBefore(r,t);return r},bnode2symbol:function(e,t){n.copyTo(e,t,["two-direction","delete"])},generateRequest:function(e,n,r,i){var s;i||(s=n||o.utils.ancestor(this.lastModified,"TR"),o.utils.emptyNode(s));var l,c=a,u=c.bnode();(c.add(u,o.ns.rdf("type"),o.ns.link("Request")),e.length,c.add(u,o.ns.link("message"),c.literal(e)),c.add(u,o.ns.link("to"),c.literal("The User")),c.add(u,o.ns.link("from"),c.literal("The User")),i)||((l=r?s.appendChild(t.outlinePredicateTD(u,s,!1,!1)):s.appendChild(t.outlineObjectTD(u))).className="undetermined",l.textContent=e);return u},showMenu:function(e,r,i,a,s){o.log.info("myDocument is now "+c.location),o.log.info("outline.doucment is now "+t.document.location);var l=this,h=c.createElement("div");if(u("\n**** In showMenu, menuType = "+r+"\n"),a)for(var m in a)console.log("\t extra "+m+": "+a[m]+"\n");console.log("CREATED MENU\n"),h.id=this.menuID,h.className="outlineMenu",h.style.top=e.pageY+"px",h.style.left=e.pageX+"px";if("JournalTitleAutoComplete"===r){var g=function(e){for(var t=0,n=0,r=0,i=0,a=0,o=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)a=e.offsetLeft,o=e.offsetTop,a!==r&&(t+=e.offsetLeft-e.scrollLeft),o!==i&&(n+=e.offsetTop-e.scrollTop),r=a,i=o,e=e.parentNode;return{top:n+54,left:t-38}}(c.getElementById("inpid_journal_title"));g.left-=c.getElementById("inpid_journal_title").scrollTop,h.style.top=g.top+"px",h.style.left=g.left+"px"}console.log("menu at top="+h.style.top+" left="+h.style.left+"\n"),c.body.appendChild(h);var v=h.appendChild(c.createElement("table"));switch(h.lastHighlight=null,v.addEventListener("mouseover",(function(e){h.lastHighlight&&(h.lastHighlight.className=""),h.lastHighlight=o.utils.ancestor(o.utils.getTarget(e),"TR"),h.lastHighlight&&(h.lastHighlight.className="activeItem")}),!1),r){case"DidYouMeanDialog":var y=function(e){u("DID YOU MEAN SELECT ITEM!!!!!");var r=o.utils.ancestor(o.utils.getTarget(e),"TR");2===r.childNodes.length&&r.nextSibling?(n.add(S,P,I),t.UserInput.clearMenu()):2===r.childNodes.length&&t.UserInput.clearMenu()};break;case"LimitedPredicateChoice":var b=a.clickedTd;y=function(e){u("LIMITED P SELECT ITEM!!!!");for(var r=o.utils.getAbout(n,o.utils.getTarget(e)),i=b.parentNode.AJAR_statement.predicate.elements,a=0;a<i.length;a++)i[a].sameTerm(r)&&i.unshift(i.splice(a,1)[0]);t.UserInput.clearMenu();var s=b.parentNode,c=t.outlinePredicateTD(s.AJAR_statement.predicate,s);s.insertBefore(c,b),s.removeChild(b),l.lastModified.select()};break;case"PredicateAutoComplete":case"GeneralAutoComplete":case"GeneralPredicateChoice":case"JournalTitleAutoComplete":case"TypeChoice":var w=a.isPredicate,x=a.selectedTd;y=function(e){u("WOOHOO");var r=o.utils.getAbout(n,o.utils.getTarget(e));u("GENERAL SELECT ITEM!!!!!!="+r),u("target="+o.utils.getTarget(e)),w?(u("1"),t.UserInput.fillInRequest("predicate",x,r)&&(u("2"),t.UserInput.clearMenu())):(u("3"),t.UserInput.fillInRequest("object",x,r)&&(u("4"),t.UserInput.clearMenu()))};break;default:throw new Error("userinput: unexpected mode")}v.addEventListener("click",y,!1);var k,C={};function E(e){v.firstChild&&"no-suggest"===v.firstChild.className&&v.removeChild(v.firstChild);var t=o.utils.predicateLabelForXML(e,!1);if(e.uri){var n="??";for(var r in C)if(o.log.debug(C[r]),o.rdf.Util.string_startswith(e.uri,C[r])){n=r;break}var i=v.appendChild(c.createElement("tr"));i.setAttribute("about",e),i.appendChild(c.createElement("th")).appendChild(c.createElement("div")).appendChild(c.createTextNode(t)),i.appendChild(c.createElement("td")).appendChild(c.createTextNode(n.toUpperCase()))}}function T(e){return function(t){E(t[e.vars[0]])}}switch(n.each(void 0,o.ns.rdf("type"),o.ns.owl("Ontology")).forEach((function(e){var t=o.utils.label(e);if(t){var n=t.value.match(/\((.+?)\)/);n?C[n[1]]=e.uri:C[t.value]=e.uri}})),r){case"DidYouMeanDialog":var _=a.dialogTerm,S=a.bnodeTerm;h.style.width="auto";var O=v.appendChild(c.createElement("tr")).appendChild(c.createElement("th"));O.appendChild(c.createTextNode("Did you mean..."));var A,j=n.statementsMatching(_);for(A=0;A<j.length&&!n.whether(j[A].predicate,d("type"),o.ns.owl("InverseFunctionalProperty"));A++);var P=j[A].predicate,I=n.any(_,j[A].predicate),N=o.utils.label(_)+" who has "+o.utils.label(P)+" "+I+"?",L=v.appendChild(c.createElement("tr")).appendChild(c.createElement("th"));L.appendChild(c.createTextNode(N)),O.setAttribute("colspan","2"),L.setAttribute("colspan","2");var R=v.appendChild(c.createElement("tr"));R.appendChild(c.createElement("th")).appendChild(c.createTextNode("Yes")),R.appendChild(c.createElement("td")).appendChild(c.createTextNode("BOOLEAN"));var M=v.appendChild(c.createElement("tr"));M.appendChild(c.createElement("th")).appendChild(c.createTextNode("No")),M.appendChild(c.createElement("td")).appendChild(c.createTextNode("BOOLEAN"));break;case"PredicateAutoComplete":k=a.inputText;for(var D=t.labeller.searchAdv(k,void 0,"predicate"),F=[],B=0;B<D.length;B++){var U={vars:[]};U.vars.push("Kenny");var z={};z.Kenny=n.fromNT(D[B].NT);try{T(U)(z)}catch(e){throw new Error("I'll deal with bnodes later...[Kenny]"+e)}}var q=F[0];if(0===q.length)return console.log("cm length 0\n"),void this.clearMenu();for(var H=0;H<q.length&&H<10;H++)E(q[H][1]);break;case"GeneralAutoComplete":k=a.inputText;try{F=t.labeller.search(k)}catch(e){console.log("GeneralAutoComplete: debug me "+a.selectedTd.textContent+"\n"+e+"\n")}q=F[0];var W=F[1];if(0===q.length)return console.log("cm length 0\n"),void this.clearMenu();for(var G=0;G<q.length&&G<10;G++){var V=q[G][1].toNT(),$=v.appendChild(c.createElement("tr"));$.setAttribute("about",V);var Q=$.appendChild(c.createElement("th"));Q.appendChild(c.createElement("div")).appendChild(c.createTextNode(q[G][0]));var J=W[G],K=J?o.utils.label(J):"";$.appendChild(c.createElement("td")).appendChild(c.createTextNode(K))}break;case"JournalTitleAutoComplete":k=a.inputText,console.log("testing searching text= "+k+" =====\n"),console.log("\n===start JournalTitleAutoComplete\n");for(var X=n.each(void 0,d("type"),p("Journal")),Y=[],Z=0;Z<X.length;Z++){var ee=X[Z],te=n.each(ee,f("title"),void 0),ne=te+"",re=k.toLowerCase();if(-1!==ne.toLowerCase().search(re)){u("FOUND A Journal Title Match!!!!!!"),Y.push(te);var ie=v.appendChild(c.createElement("tr"));ie.setAttribute("about","journalTitle"),ie.appendChild(c.createElement("th")).appendChild(c.createElement("div")).appendChild(c.createTextNode(te)),ie.appendChild(c.createElement("td")).appendChild(c.createTextNode(ee))}}console.log("matched: "+Y+"\n"),console.log("\\\\done showMenu's JTAutocomplete\n");break;case"LimitedPredicateChoice":var ae=o.utils.getAbout(n,a.clickedTd);ae.termType="Collection";for(var oe=n.each(ae,o.ns.link("element")),se=0;se<oe.length;se++)E(oe[se]);break;default:($=v.appendChild(c.createElement("tr"))).className="no-suggest",(Q=$.appendChild(c.createElement("th"))).appendChild(c.createElement("div")).appendChild(c.createTextNode("No suggested choices. Try to type instead.")),$.appendChild(c.createElement("td")).appendChild(c.createTextNode("OK")),$.addEventListener("click",(function(e){l.clearMenu(),e.stopPropagation()}),"false");var le=function(){};switch(i.constructor.name){case"Array":for(var ce=0;ce<i.length;ce++)n.query(i[ce],T(i[ce]),le);break;case"undefined":throw new Error("addPredicateChoice: query is not defined");default:n.query(i,T(i),le)}}},fillInRequest:function(e,r,s){var l,c,u=r.parentNode;l=u.AJAR_statement,c=u.AJAR_inverse;var d,p="object"===e?l.object:l.predicate,f=!1;if(n.any(p,o.ns.link("onfillin")),"predicate"===e){var h=t.outlinePredicateTD(s,u,!1,!1);if("undetermined"!==r.nextSibling.className){var m=new o.rdf.Statement(l.subject,s,l.object,l.why);try{o.store.updater.update([],[m],(function(e,t,r){t?(d=n.anyStatementMatching(l.subject,s,l.object,l.why),u.AJAR_statement=d,h.className=h.className.replace(/ pendingedit/g,"")):o.log.warn("Failure occurs (#2) while inserting "+u.AJAR_statement+"\n\n"+r)}))}catch(e){return o.log.error(e),void o.log.warn("Error when insert (#2) of statement "+m+":\n\t"+e)}h.className+=" pendingedit",this.lastModified=null}else this.formUndetStat(u,l.subject,s,l.object,l.why,!1),t.walk("right"),f=!0;t.replaceTD(h,r),a.remove(l)}else if("object"===e){var g=t.outlineObjectTD(s);if(t.replaceTD(g,r),r.previousSibling&&"undetermined"===r.previousSibling.className)t.walk("left"),f=!0;else{var v;v=c?new o.rdf.Statement(s,l.predicate,l.object,l.why):new o.rdf.Statement(l.subject,l.predicate,s,l.why);try{o.store.updater.update([],[v],(function(e,t,r){var i;o.log.info("@@ usinput.js (object) callback ok="+t+" for statement:"+v+"\n "),t?(g.className=g.className.replace(/ pendingedit/g,""),(i=c?n.statementsMatching(s,l.predicate,l.object,l.why):n.statementsMatching(l.subject,l.predicate,s,l.why)).length||o.log.error("userinput.js 1711: Can't find statememt!"),u.AJAR_statement=i[0]):o.log.warn("userinput.js (object): Fail trying to insert statement "+v)}))}catch(e){return o.log.error("userinput.js (object): exception trying to insert statement "+v+": "+o.utils.stackString(e)),void o.log.warn("Error trying to insert statement "+v+":\n"+e)}this.lastModified=null,g.className+=" pendingedit"}a.remove(l)}if(i.statements.push(d),!f)return!0;this.startFillInText(t.getSelection()[0])},formUndetStat:function(e,t,n,r,i,o){return e.AJAR_inverse=o,e.AJAR_statement=a.add(t,n,r,i),e.AJAR_statement}}}},function(e,t,n){"use strict";var r=n(0);e.exports={makeQueryRow:o,QuerySource:function(){this.queries=[],this.listeners=[],this.addQuery=function(e){var t;for(null!==e.name&&""!==e.name||(e.name="Query #"+(this.queries.length+1)),e.id=this.queries.length,this.queries.push(e),t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].addQuery(e)},this.removeQuery=function(e){var t;for(t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].removeQuery(e);null!==this.queries[e.id]&&delete this.queries[e.id]},this.addListener=function(e){var t;for(this.listeners.push(e),t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.addQuery(this.queries[t])},this.removeListener=function(e){var t;for(t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.removeQuery(this.queries[t]);for(t=0;t<this.listeners.length;t++)this.listeners[t]===e&&delete this.listeners[t]}},viewAndSaveQuery:function(e,t){var n=e.qs;r.log.info("outline.doucment is now "+e.document.location);for(var i=function(e,t){var n,i,a,s,l=new r.rdf.Query,c=e.length;for(n=0;n<c;n++)i=e[n],s=i.parentNode,a=s.AJAR_statement,r.log.debug("Statement "+a),i.getAttribute("class").indexOf("pred")>=0&&(r.log.info("   We have a predicate"),o(l,s)),i.getAttribute("class").indexOf("obj")>=0&&(r.log.info("   We have an object"),o(l,s,!0));return t.addQuery(l),function e(t){for(var n,r,i=t.statements.length,a=0;a<i;a++)n=t.statements[a],void 0!==(r=n.tr)&&(r.AJAR_pattern=null,r.AJAR_variable=null);for(var o in t.optional)e(t.optional[o])}(l.pat),l}(t,n),a=0;a<n.listeners.length;a++)n.listeners[a].getActiveView().view.drawQuery(i),n.listeners[a].updateQueryControls(n.listeners[a].getActiveView())}};var i=[];function a(e){for(var t=e;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return console.log("Could not find predParent"),e;t=t.previousSibling}}function o(e,t,n){var s,l,c,u=r.store,d=t.AJAR_inverse;var p=null;for(l=t.parentNode;l;l=l.parentNode)if(void 0!==l.AJAR_statement){l.setAttribute("bla",l.AJAR_statement),l.AJAR_variable||o(e,l),s=l.AJAR_variable;var f=a(l);f.getAttribute("optionalSubqueriesIndex")&&(p=f.getAttribute("optionalSubqueriesIndex"),c=i[p]);break}c||(c=e.pat);var h=a(t),m=h.getAttribute("optional");if(m||(p?h.setAttribute("optionalSubqueriesIndex",p):h.removeAttribute("optionalSubqueriesIndex")),m){var g=u.formula();i.push(g),h.setAttribute("optionalSubqueriesIndex",i.length-1),c.optional.push(g),c=g}var v=t.AJAR_statement,y=t.AJAR_inverse?v.subject:v.object,b=!0;y.isBlank&&n&&window.alert("You cannot constrain a query with a blank node. No constraint will be added."),s||(b=!1,s=d?v.object:v.subject);var w=t.AJAR_variable?t.AJAR_variable:u.variable(r.utils.newVariableName());e.vars.push(w),w.label=b?s.label:r.utils.label(s),w.label+=" "+r.utils.predicateLabelForXML(v.predicate,d);var x,k,C=(x=w,k=s,d?new r.rdf.Statement(x,v.predicate,k):new r.rdf.Statement(k,v.predicate,x));return w.label=w.label.slice(0,1).toUpperCase()+w.label.slice(1),n&&(c.constraints[w]=new function(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.sameTerm(t)},this}(y)),r.log.info("Pattern: "+C),C.tr=t,t.AJAR_pattern=C,t.AJAR_variable=w,r.log.debug("Query pattern: "+C),c.statements.push(C),w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=o(n(259)),a=o(n(260));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){e.properties[t]||(e.properties[t]=[]),e.properties[t].push(n),r&&(e.defaults[t]=n)}t.default=function(e){var t={properties:[],defaults:[],classes:[]},n=(0,i.default)(e),o=(0,a.default)(e);return s(t,r.ns.foaf("depiction").uri,n,!0),s(t,r.ns.foaf("img").uri,n,!0),s(t,r.ns.foaf("thumbnail").uri,n,!0),s(t,r.ns.foaf("logo").uri,n,!0),s(t,r.ns.schema("image").uri,n,!0),s(t,r.ns.foaf("mbox").uri,o,!0),t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(0));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.default=function(e){return function(t){var n=i.utils.AJARImage(t.uri,i.utils.label(t),i.utils.label(t),e);return n.setAttribute("class","outlineImage"),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return function(t){var n=e.createElement("a"),r="NamedNode"===t.termType?t.uri:t.value,i=r.indexOf("mailto:");return r=i>=0?r.slice(i+7):r,n.setAttribute("href","mailto:"+r),n.appendChild(e.createTextNode(r)),n}}},function(e,t,n){"use strict";e.exports=function(e){e(n(262)),e(n(272)),e(n(274)),e(n(277)),e(n(279)),e(n(416)),e(n(414)),e(n(284)),e(n(301).Pane),e(n(376)),e(n(377)),e(n(378));var t=n(379);t.longChatPane?(e(t.longChatPane),e(t.shortChatPane)):e(t),e(n(382)),e(n(384)),e(n(385)),e(n(387)),e(n(388)),e(n(389)),e(n(390)),e(n(391)),e(n(392)),e(n(394)),e(n(395)),e(n(396)),e(n(398)),e(n(399)),e(n(400)),e(n(401)),e(n(402)),e(n(403)),e(n(404)),e(n(405)),e(n(406)),e(n(407)),e(n(408)),e(n(409)),e(n(410))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(40),o=n(263),s=n(0);var l={global:!1,icon:s.icons.iconBase+"noun_15059.svg",name:"profile",label:function(e,t){var n=t.session.store.findTypeURIs(e);return n[s.ns.vcard("Individual").uri]||n[s.ns.foaf("Person").uri]||n[s.ns.schema("Person").uri]?"Profile":null},render:function(e,t){var n=t.dom.createElement("div");return function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return(n=e.each(t,s.ns.rdfs("seeAlso"),null,t.doc())).length>0?[4,e.fetcher.load(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}(t.session.store,e).then((function(){return a.render(o.ProfileView(e,t),n)})),n}};t.default=l},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileView=void 0;var a,o=n(40),s=n(91),l=n(92),c=n(264),u=n(266),d=n(267),p=n(269),f=n(270),h=n(271);t.ProfileView=function(e,t){var n=d.presentProfile(e,t.session.store),m=p.presentCV(e,t.session.store),g={grid:s.styleMap(i(i(i({},l.responsiveGrid()),l.paddingSmall()),{background:"radial-gradient(circle, "+n.backgroundColor+" 80%, "+n.highlightColor+" 100%)"})),card:s.styleMap(l.card()),chat:s.styleMap(i(i({},l.card()),l.padding()))};return o.html(a||(a=r(['\n    <div style="','">\n      <div>\n        <div data-testid="profile-card" style="','">\n          ','\n        </div>\n      </div>\n      <div data-testid="friend-list" style="','">\n        ','\n      </div>\n      <div data-testid="curriculum-vitae" style="','">\n        ','\n      </div>\n      <div style="','">',"</div>\n\n    </div>\n  "],['\n    <div style="','">\n      <div>\n        <div data-testid="profile-card" style="','">\n          ','\n        </div>\n      </div>\n      <div data-testid="friend-list" style="','">\n        ','\n      </div>\n      <div data-testid="curriculum-vitae" style="','">\n        ','\n      </div>\n      <div style="','">',"</div>\n\n    </div>\n  "])),g.grid,g.card,f.ProfileCard(n),g.card,u.FriendList(e,t),g.card,h.CVCard(n,m),g.chat,c.ChatWithMe(e,t))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},s=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(c,u):d(a[0][2],n)}catch(e){d(a[0][3],e)}var n}function c(e){l("next",e)}function u(e){l("throw",e)}function d(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatWithMe=void 0;var l,c=n(40),u=n(0),d=n(265);t.ChatWithMe=function(e,t){var n=t.session.logic,p=t.session.paneRegistry.byName("long chat");return c.html(l||(l=r(["\n        ","\n    "],["\n        ","\n    "])),d.asyncReplace(function(){return s(this,arguments,(function(){var r,s,l,c=this;return a(this,(function(d){switch(d.label){case 0:r=t.dom.createElement("div"),d.label=1;case 1:return d.trys.push([1,5,,6]),[4,o("Loading...")];case 2:return[4,d.sent()];case 3:return d.sent(),[4,o(n.chat.getChat(e,!1))];case 4:return s=d.sent(),[3,6];case 5:return d.sent(),s=!1,[3,6];case 6:return s?(r.appendChild(p.render(s,t,{})),[4,o(r)]):[3,9];case 7:return[4,d.sent()];case 8:return d.sent(),[3,12];case 9:return l=u.widgets.button(t.dom,void 0,"Chat with me",(function(){return i(c,void 0,void 0,(function(){var i,o;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n.chat.getChat(e)];case 1:return i=a.sent(),r.innerHTML="",r.appendChild(p.render(i,t,{})),[3,3];case 2:return o=a.sent(),r.appendChild(u.widgets.errorMessageBlock(t.dom,o.message)),[3,3];case 3:return[2]}}))}))}),{needsBorder:!0}),r.appendChild(l),[4,o(r)];case 10:return[4,d.sent()];case 11:d.sent(),d.label=12;case 12:return[2]}}))}))}()))}},function(e,t,n){"use strict";n.r(t),n.d(t,"asyncReplace",(function(){return a}));var r=n(40),i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const a=Object(r.directive)((e,t)=>async n=>{var a,o;if(!(n instanceof r.NodePart))throw new Error("asyncReplace can only be used in text bindings");if(e===n.value)return;const s=new r.NodePart(n.options);n.value=e;let l=0;try{for(var c,u=i(e);!(c=await u.next()).done;){let r=c.value;if(n.value!==e)break;0===l&&(n.clear(),s.appendIntoPart(n)),void 0!==t&&(r=t(r,l)),s.setValue(r),s.commit(),l++}}catch(e){a={error:e}}finally{try{c&&!c.done&&(o=u.return)&&await o.call(u)}finally{if(a)throw a.error}}})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.FriendList=void 0;var i=n(0),a=n(40),o=n(91),s=n(92),l={root:o.styleMap(s.padding()),heading:o.styleMap(s.headingLight())};t.FriendList=function(e,t){return a.html(c||(c=r(["\n  <div style=",">\n    <h3 style=",">Friends</h3>\n    ","\n  </div>\n"],["\n  <div style=",">\n    <h3 style=",">Friends</h3>\n    ","\n  </div>\n"])),l.root,l.heading,u(e,t))};var c,u=function(e,t){var n=t.dom,r=n.createElement("div");return i.widgets.attachmentList(n,e,r,{doc:e.doc(),modify:!1,predicate:i.ns.foaf("knows"),noun:"friend"}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presentProfile=t.pronounsAsText=void 0;var r=n(0),i=n(113),a=n(268);function o(e){var t=r.store.anyJS(e,r.ns.solid("preferredSubjectPronoun"))||"";if(t){var n=r.store.anyJS(e,r.ns.solid("preferredObjectPronoun"));if(n){t+="/"+n;var i=r.store.anyJS(e,r.ns.solid("preferredRelativePronoun"));i&&(t+="/"+i)}t=" ("+t+") "}return t||""}t.pronounsAsText=o;function s(e,t){return e&&t?t+", "+e:e||t||null}function l(e,t){return e&&t?e+" at "+t:t||e||null}function c(e,t){return e&&a.validateHTMLColorHex(e)?e:t}t.presentProfile=function(e,t){var n=r.utils.label(e),a=i.findImage(e),u=t.anyValue(e,r.ns.vcard("role")),d=t.anyValue(e,r.ns.vcard("organization-name")),p=t.any(e,r.ns.vcard("hasAddress")),f=null!=p?t.anyValue(p,r.ns.vcard("country-name")):null,h=null!=p?t.anyValue(p,r.ns.vcard("locality")):null,m=function(e,t){var n=t.anyValue(e,r.ns.solid("profileBackgroundColor"),null,e.doc()),i=t.anyValue(e,r.ns.solid("profileHighlightColor"),null,e.doc());return{backgroundColor:c(n,"#eee"),highlightColor:c(i,"#090")}}(e,t),g=m.backgroundColor,v=m.highlightColor,y=o(e);return{name:n,imageSrc:a,introduction:l(u,d),location:s(f,h),backgroundColor:g,pronouns:y,highlightColor:v}}},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"validateHTMLColorName",(function(){return o})),n.d(t,"validateHTMLColorSpecialName",(function(){return s})),n.d(t,"validateHTMLColorHex",(function(){return l})),n.d(t,"validateHTMLColorRgb",(function(){return c})),n.d(t,"validateHTMLColorHsl",(function(){return p})),n.d(t,"validateHTMLColorHwb",(function(){return f})),n.d(t,"validateHTMLColorLab",(function(){return h})),n.d(t,"validateHTMLColor",(function(){return m}));const r=e=>e&&"string"==typeof e,i=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenrod","DarkGray","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","Goldenrod","Gray","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenrodYellow","LightGray","LightGreen","LightPink","LightSalmon","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquamarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenrod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],a=["currentColor","inherit","transparent"],o=e=>{let t=!1;return r(e)&&i.map(n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null)),t},s=e=>{let t=!1;return r(e)&&a.map(n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null)),t},l=e=>{if(r(e)){const t=/^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i;return e&&t.test(e)}},c=e=>{if(r(e)){const t=/(rgb)a?\((\s*\d+%?\s*?,?\s*){2}(\s*\d+%?\s*?,?\s*\)?)(\s*,?\s*\/?\s*(0?\.?\d+%?\s*)?|1|0)?\)$/i;return e&&t.test(e)}},u="(([0-9]|[1-9][0-9]|100)%)",d=`\\s*?\\)?)(\\s*?(\\/?)\\s+(((${u}))|(0?(\\.\\d+)?)|1))?\\s*?\\)$`,p=e=>{if(r(e)){const t=new RegExp(`(hsl)a?\\((\\s*?((-?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9]|360)(deg)?)|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)gra)|((([0-5])?\\.\\d+|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)|((0?(\\.\\d+)?|1)turn))((\\s*,\\s*)|(\\s+)))(\\s*?(0|${u})((\\s*,\\s*)|(\\s+)))(\\s*?(0|${u})\\s*?\\)?)(\\s*?(\\/?|,?)\\s*?(((${u}))|(0?(\\.\\d+)?)|1))?\\)$`);return e&&t.test(e)}},f=e=>{if(r(e)){const t=new RegExp(`(hwb\\(\\s*?(-?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9]|360)(deg)?)\\s+)((0|${u})\\s+)((0|${u})${d}`);return e&&t.test(e)}},h=e=>{if(r(e)){const t="(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])(\\.\\d+)??|160))",n=new RegExp(`(lab\\(\\s*?((\\d*(\\.\\d+)?)%)\\s+${t}\\s+${t}${d}`);return e&&n.test(e)}},m=e=>!!(e&&l(e)||c(e)||p(e)||f(e)||h(e));t.default=e=>!!(e&&l(e)||o(e)||s(e)||c(e)||p(e)||f(e)||h(e))}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presentCV=t.datesAsText=t.skillAsText=t.typesOfRole=void 0;var r=n(3),i=n(0),a=r.Namespace("http://www.w3.org/ns/org#");function o(e,t){if("Literal"===t.termType)return t.value;var n=e.anyJS(t,i.ns.solid("publicId"));if(n){var r=e.anyJS(n,i.ns.schema("name"));if(r)return r}var a=e.anyJS(t,i.ns.vcard("role"));return a||"¿¿¿ skill ???"}function s(e,t){return e?"("+e.value.slice(0,4)+"-"+(t?t.value.slice(0,4):"")+")":""}t.typesOfRole=["PastRole","CurrentRole","FutureRole"],t.skillAsText=o,t.datesAsText=s,t.presentCV=function(e,n){for(var r=function(e,n){for(var r={PastRole:[],CurrentRole:[],FutureRole:[]},o=0,l=e.each(null,a("member"),n,null);o<l.length;o++){var c=l[o],u=void 0,d=void 0,p=void 0,f=void 0,h=void 0,m=e.any(c,i.ns.schema("startDate")),g=e.any(c,i.ns.schema("endDate")),v=s(m,g),y=e.any(c,a("organization"));y&&(d=e.anyJS(y,i.ns.schema("name")),u=e.any(y,i.ns.schema("uri")),h=e.any(y,i.ns.solid("publicId"))),h&&(p=e.anyJS(h,i.ns.schema("name")));var b=p||d,w=e.any(c,a("role"));w&&(f=e.anyJS(w,i.ns.schema("name")));for(var x=e.anyJS(c,i.ns.vcard("role")),k={startDate:m,endDate:g,orgName:b,roleText:x&&f?f+" - "+x:x||f,dates:v,orgHomePage:u},C=0,E=t.typesOfRole;C<E.length;C++){var T=E[C];e.holds(c,i.ns.rdf("type"),i.ns.solid(T))&&r[T].push(k)}}return r}(n,e),l=0,c=t.typesOfRole;l<c.length;l++){r[c[l]].sort((function(e,t){return e.endDate&&t.endDate?e.endDate>t.endDate?-1:1:e.startDate>t.startDate?-1:1}))}return{rolesByType:r,skills:n.each(e,i.ns.schema("skills")).map((function(e){return o(n,e)}))}}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileCard=void 0;var a=n(40),o=n(91),s=n(92),l={image:o.styleMap(s.fullWidth()),intro:o.styleMap(i(i({},s.textGray()),s.textCenter())),info:o.styleMap(s.padding())};t.ProfileCard=function(e){var t=e.name,n=e.imageSrc,u=e.introduction,d=e.location,h=e.pronouns,m=e.highlightColor,g=o.styleMap(i(i({},s.heading()),{"text-decoration":"underline","text-decoration-color":m}));return a.html(c||(c=r(["\n    ","\n    <div style=",">\n      <h3 style=",">","</h3>\n      <div style=",">\n        ","\n        ","\n        ","\n      </div>\n    </div>\n  "],["\n    ","\n    <div style=",">\n      <h3 style=",">","</h3>\n      <div style=",">\n        ","\n        ","\n        ","\n      </div>\n    </div>\n  "])),f(n,t),l.info,g,t,l.intro,p(u),p(d,"🌐"),p(h))};var c,u,d,p=function(e,t){return void 0===t&&(t=a.nothing),e?a.html(u||(u=r(["<p>"," ","</p>"],["<p>"," ","</p>"])),t,e):a.nothing},f=function(e,t){return e?a.html(d||(d=r(["<img style="," src="," alt="," />"],["<img style="," src="," alt="," />"])),l.image,e,t):a.nothing}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CVCard=void 0;var a,o,s,l,c,u,d,p,f,h=n(40),m=n(91),g=n(92),v={image:m.styleMap(g.fullWidth()),intro:m.styleMap(i(i({},g.textGray()),g.textCenter())),card:m.styleMap({}),info:m.styleMap(i(i({},g.paddingSmall()),g.textLeft()))};function y(e){return h.html(c||(c=r(["","\n  ","\n  "],["","\n  ","\n  "])),(t=e[0])?h.html(o||(o=r(['<div style="margin-top: 0.3em; margin-bottom: 0.3em;">\n  <b>',"</b>\n    <span>","</span>\n    <span>","</span>\n  </div>\n  "],['<div style="margin-top: 0.3em; margin-bottom: 0.3em;">\n  <b>',"</b>\n    <span>","</span>\n    <span>","</span>\n  </div>\n  "])),t.orgName,t.roleText,t.dates):h.html(s||(s=r([""],[""]))),e.length>1?y(e.slice(1)):h.html(l||(l=r([""],[""]))));var t}t.CVCard=function(e,t){var n=t.rolesByType,o=t.skills,s=m.styleMap(i(i({},g.heading()),{color:e.highlightColor}));return h.html(a||(a=r(["\n    <div style=",">\n      <h3 style=",">Bio</h3>\n      <div style=",">\n        ","\n      </div>\n      <hr>\n      <div style=",">\n        ","\n      </div>\n      <hr>\n      <div style=",">\n        ","\n      </div>\n      <div style=",">\n        ","\n      </div>\n\n    </div>\n  "],["\n    <div style=",">\n      <h3 style=",">Bio</h3>\n      <div style=",">\n        ","\n      </div>\n      <hr>\n      <div style=",">\n        ","\n      </div>\n      <hr>\n      <div style=",">\n        ","\n      </div>\n      <div style=",">\n        ","\n      </div>\n\n    </div>\n  "])),v.info,s,v.info,y(n.CurrentRole),v.info,y(n.PastRole),v.info,y(n.FutureRole),v.info,function e(t){return h.html(f||(f=r(["","\n  ","\n  "],["","\n  ","\n  "])),(n=t[0],n?h.html(u||(u=r(['<div style="margin: 0.5em;">\n  <p style="text-align: center;">',"</p>\n  </div>\n  "],['<div style="margin: 0.5em;">\n  <p style="text-align: center;">',"</p>\n  </div>\n  "])),n):h.html(d||(d=r([""],[""])))),t.length>1?e(t.slice(1)):h.html(p||(p=r([""],[""]))));var n}(o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(3),a=n(273),o=r.style.highlightColor||"#7C4DFF",s={global:!0,icon:r.icons.iconBase+"noun_492246.svg",name:"editProfile",label:function(){return null},render:function(e,t){var n=t.dom,s=t.session.store;function l(e,t){e||u.appendChild(r.widgets.errorMessageBlock(n,t,"#fee"))}var c,u=n.createElement("div");u.setAttribute("style","border: 0.3em solid ".concat(o,"; border-radius: 0.5em; padding: 0.7em; margin-top:0.7em;"));var d=u.appendChild(n.createElement("table")),p=d.appendChild(n.createElement("tr")),f=d.appendChild(n.createElement("tr")).appendChild(n.createElement("div"));function h(e){var t=p.appendChild(n.createElement("p"));return t.setAttribute("style","padding: 1em;"),t.textContent=e,t}function m(e){var t=p.appendChild(n.createElement("h3"));return t.setAttribute("style","color:"+o+";"),t.textContent=e,t}f.setAttribute("style","padding: 0.7em;");var g={dom:n,div:p,statusArea:f,me:null};return r.authn.logInLoadProfile(g).then((function(e){var o=e.me;m("Edit your public profile");var u=o.doc();if(!s.updater)throw new Error("Store has no updater");if(s.any(o,r.ns.solid("editableProfile")))c=s.any(o,r.ns.solid("editableProfile"));else{if(!s.updater.editable(u.uri,s))return void f.appendChild(r.widgets.errorMessageBlock(n,"⚠️ Your profile ".concat(u," is not editable, so we cannot do much here."),"straw"));c=u}h("Everything you put here will be public.\n        There will be other places to record private things."),m("Your contact information"),p.appendChild((0,a.paneDiv)(t,o,"contact")),m("People you know who have WebIDs"),h("This is your public social network.\n        Only put people here to whom you are happy to be publicly connected.\n        (You can always keep private track of friends and family in your contacts.)"),c&&h("Drag people onto the target below to add people."),r.widgets.attachmentList(n,o,p,{doc:u,modify:!!c,predicate:r.ns.foaf("knows"),noun:"friend"}),function(e,t){var a=(0,i.sym)("https://solid.github.io/solid-panes/dashboard/profileStyle.ttl#this"),o=a.doc();s.holds(void 0,void 0,void 0,o)||(0,i.parse)('# 20210404a\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n\n@prefix org: <http://www.w3.org/ns/org#>.\n@prefix esco: <http://data.europa.eu/esco/model#>.\n@prefix wd: <http://www.wikidata.org/entity/>.\n@prefix wdt: <http://www.wikidata.org/prop/direct/>.\n\n@prefix : <#>.\n\n:this\n    <http://purl.org/dc/elements/1.1/title> "Profile form" ;\n    a ui:Form ;\n    # ui:part :backgroundColor, :highlightColor;\n    ui:parts (\n      :styleGroup\n      :nicknameField\n      :pronounsForm\n      :LanguagesPrompt :LanguagesForm\n      :CVGroup\n      :SkillsPrompt :SkillsForm\n      ).\n\n:styleGroup a ui:Group; ui:weight 0; ui:parts ( :styleHeading :backgroundColor :highlightColor ).\n    :styleHeading a ui:Heading; ui:contents "The style of your public profile.".\n    :backgroundColor a ui:ColorField; ui:property solid:profileBackgroundColor;\n      ui:label "Background color"; ui:default "#ffffff".\n    :highlightColor a ui:ColorField; ui:property solid:profileHighlightColor;\n      ui:label "Highlight color"; ui:default "#000000".\n\n# Nickname\n\n:nicknameField a ui:SingleLineTextField; ui:size 12; ui:property foaf:nick;\n      ui:label "Short name for chats, etc."@en, "nom court"@fr.\n\n # Pronouns\n\n :pronounsForm a ui:Group; ui:weight 0; ui:parts ( :pronounsPrompt :subjectPronounForm :objectPronounForm :relativePronounForm) .\n\n    :pronounsPrompt a ui:Comment; ui:contents  "What are your pronouns?" .\n\n    :subjectPronounForm a ui:SingleLineTextField; ui:property solid:preferredSubjectPronoun;\n        ui:size 10; ui:label "he/she/they..." .\n    :objectPronounForm a ui:SingleLineTextField; ui:property solid:preferredObjectPronoun;\n        ui:size 10; ui:label "him/her/them..." .\n    :relativePronounForm a ui:SingleLineTextField; ui:property solid:preferredRelativePronoun;\n        ui:size 10; ui:label "his/hers/theirs..." .\n\n  # Curriculum Vitae: membership of organizations\n\n  :CVHeading a ui:Heading; ui:contents "Public Curriculum Vitae".\n  :CVPrompt a ui:Comment; ui:contents  "What organizations have you been involved with?" .\n\n    :CVGroup a ui:Group; ui:weight 1; ui:parts ( :CVHeading :CVPrompt :involvementWithOrganizationsForm ).\n\n\n  solid:Role a rdfs:Class; owl:oneOf ( solid:CurrentRole solid:FormerRole solid:FutureRole ). # Future Role too?\n\n  org:member owl:inverse [ ui:label "involvement with company, org etc" ]. # timelimited involvement\n\n  :involvementWithOrganizationsForm a ui:Multiple;\n      ui:label "Involvement with Organization";\n      ui:property org:member; ui:reverse true; # link back from role to member\n      ui:ordered false; # Allow user to order CV secions rather than force date order? No.\n      ui:part :RoleMembershipForm.\n\n# This is a big important form for one of a series of roles in the list.\n\n  :RoleMembershipForm a ui:Group; ui:weight 3; ui:parts ( :MembershipFormHeading :roleNameField\n        :escoOccupationField :orgField :RoleClassifier :RoleDatesForm :RoleDescriptionForm).\n\n     :MembershipFormHeading a ui:Heading; ui:contents "Details of this role"@en, "Détailes de ce rôle"@fr .\n\n     :orgField a ui:Choice; ui:label "Organization"@en, "Organization"@fr;\n          ui:canMintNew true; ui:use :OrganizationCreationForm ;\n          ui:property org:organization;\n          ui:from vcard:Organization .\n     :roleNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 60 .\n\n    :escoOccupationField a ui:AutocompleteField;\n          ui:label "occupation"; ui:size 60;\n          ui:property org:role;\n          ui:dataSource :ESCO_Occupation_DataSource;\n           ui:targetClass schema:Occupation .\n\n         :ESCO_Occupation_DataSource a ui:DataSource;\n            schema:name "ESCO";\n            ui:targetClass schema:Occupation ;\n            schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n            ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)".\n\n     :instituteIdentityField a ui:AutocompleteField; ui:label "in wikidata";\n          ui:size 60;\n          ui:property solid:publicId; ui:dataSource :WikidataOnOrganizations.\n\n     :WikidataOnOrganizations a ui:DataSource ;\n       schema:name "Wikidata";\n       ui:endpoint "https://query.wikidata.org/sparql" ;\n       ui:targetClass  <http://www.wikidata.org/entity/Q43229>; # Use if nothing else\n       ui:searchByNameQuery """SELECT ?subject ?name\n       WHERE {\n         ?klass wdt:P279* $(targetClass) .\n         ?subject wdt:P31 ?klass .\n         ?subject rdfs:label ?name.\n         FILTER regex(?name, "$(name)", "i")\n       } LIMIT $(limit) """ .\n\n      :WikidataOnOrganizations ui:classMap\n       [ ui:internalClass schema:Corporation; ui:externalClass <http://www.wikidata.org/entity/Q6881511>], #Enterprise is for-profit\n       [ ui:internalClass schema:EducationalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q178706>], #insitution\n       [ ui:internalClass schema:ResearchOrganization; ui:externalClass <http://www.wikidata.org/entity/Q31855>], # reearch insitutie\n       [ ui:internalClass schema:GovernmentOrganization; ui:externalClass <http://www.wikidata.org/entity/Q327333>], #government agency\n       [ ui:internalClass schema:MedicalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4287745>],\n       [ ui:internalClass schema:MusicGroup; ui:externalClass <http://www.wikidata.org/entity/Q32178211>], #music organization\n       [ ui:internalClass schema:NGO; ui:externalClass <http://www.wikidata.org/entity/Q163740>], #nonprofit organization @@\n       [ ui:internalClass schema:Occupation; ui:externalClass <http://www.wikidata.org/entity/Q28640>], # superclass: Profession\n       [ ui:internalClass schema:Organization; ui:externalClass <http://www.wikidata.org/entity/Q43229>], # Superclass; Organization\n       [ ui:internalClass schema:Project; ui:externalClass <http://www.wikidata.org/entity/Q170584>],\n       [ ui:internalClass schema:SportsOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4438121>] .\n\n\n# eposodes in one\'s career - Roles\n\nsolid:Role owl:disjointUnionOf ( solid:PastRole solid:CurrentRole solid:FutureRole ) .\nsolid:PastRole a rdfs:Class; rdfs:label "former role"@en, "ancien rôle"@fr, "vergangene Rolle"@de, "rol anterior"@es .\nsolid:CurrentRole a rdfs:Class; rdfs:label "current role"@en, "rôle actuel"@fr, "momentane Rolle"@de , "rol actual"@es .\nsolid:FutureRole a rdfs:Class; rdfs:label "future role"@en, "rôle à venir"@fr, "zukünftige Rolle"@de, "rol futuro"@es .\n\n:RoleDatesGroup a ui:Group; ui:weight 0; ui:parts ( :RoleClassifier :RoleDatesForm ) .\n  :RoleClassifier a ui:Classifier; ui:label "What sort of role?"@en;\n      ui:category solid:Role .\n\n  :RoleDatesForm a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for solid:PastRole; ui:use :TwoDateForm ],\n     [ ui:for solid:CurrentRole; ui:use :StartDateForm ],\n     [ ui:for solid:FutureRole; ui:use :StartDateForm ].\n\n      :StartDateForm a ui:DateField; ui:label "start"@en,"début"@fr;\n          ui:property schema:startDate .\n      :TwoDateForm a ui:Group; ui:weight 0; ui:parts ( :StartDateForm :EndDateForm ) .\n      :EndDateForm a ui:DateField; ui:label "end"@en,"fin"@fr;\n          ui:property schema:endDate .\n\n:RoleDescriptionForm a ui:MultiLineTextField; ui:property schema:description;\n  ui:label "Describe your role" .\n\n# Organizations\n\n vcard:Organization ui:creationForm :OrganizationCreationForm  .\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corporation\n# Consortium - a Corporation or a NGO\n schema:Corporation\n schema:EducationalOrganization\n schema:ResearchOrganization  # Proposed. https://github.com/schemaorg/schemaorg/issues/2877\n# FundingScheme - eh?\n schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n# MedicalOrganization - a Corporation or a NGO\n schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\nschema:PerformingGroup # a band\nschema:Project # like Solid\nschema:SportsOrganization # a Team\nsolid:OtherOrganization\n ) .\n\n# This until the schema.org ontology adopts it\nschema:ResearchOrganization a rdfs:Class; rdfs:label "Research Organization"@en, "Organization de Recherche"@fr ,\n   "organización de investigación"@es, "منظمة البحث"@ar, "अनुसंधान संगठन"@hi, "Forschungsorganisation"@de, "shirika la utafiti"@sw .\n\n  :OrganizationCreationForm a ui:Form; schema:name "Form for editing an organization using public data" ;\n    ui:parts ( :OrgClassifier :OrgSwitch   :OrganizationNameField :homePageURIField  ) .\n\n\n :OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n    ui:category solid:InterestingOrganization .\n\n  :OrganizationNameField\n      a ui:SingleLineTextField ;\n      ui:label "Organization Name";\n      ui:maxLength "200" ;\n      ui:property schema:name ;\n      ui:size    80 .\n\n   :homePageURIField a ui:NamedNodeURIField; ui:size 80;\n      ui:label "Home page URI"@en;\n      ui:property  schema:uri . # @@ ??\n\n    :initituteTypeField a ui:Classifier;\n    ui:label "What sort of organization";\n    ui:category solid:InterestingOrganization .\n\n#  Depending on the type of org, chose a different form\n\n :OrgSwitch a ui:Options; ui:dependingOn rdf:type;\n   ui:case\n   [ ui:for schema:Corporation; ui:use :CorporationForm ],\n   [ ui:for schema:GovernmentOrganization; ui:use :GovernmentOrganizationForm ],\n   [ ui:for schema:PerformingGroup; ui:use :PerformingGroupForm ],\n   [ ui:for schema:Project; ui:use :ProjectForm ],\n   [ ui:for schema:NGO; ui:use :NGOForm ],\n   [ ui:for schema:EducationalOrganization; ui:use :EducationalOrganizationForm ],\n   [ ui:for schema:ResearchOrganization; ui:use :ResearchOrganizationForm ],\n   [ ui:for :SportsOrganization; ui:use :SportsOrganizationForm ],\n   [ ui:for solid:OtherOrganization; ui:use :OtherOrganizationForm ].\n\n\n  :CorporationForm a ui:Group; ui:weight 0; ui:parts ( :CorporationPrompt :CorporationAutocomplete ) .\n\n      :CorporationPrompt a ui:Comment; ui:contents "Which corporation?".\n\n      :CorporationAutocomplete a ui:AutocompleteField;\n      a ui:AutocompleteField; ui:label "Corporation in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q6881511>; # Enterprise\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n      :WikidataInstancesByName a ui:DataSource ;\n        schema:name "Wikidata instances by name";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:searchByNameQuery """SELECT ?subject ?name\n        WHERE {\n          ?klass wdt:P279* $(targetClass) .\n          ?subject wdt:P31 ?klass .\n          ?subject rdfs:label ?name.\n          FILTER regex(?name, "$(name)", "i")\n        } LIMIT $(limit) """ ;\n\n        # Note this form of the query is very experimental\n        ui:searchByName [   ui:construct { ?subject schema:name ?name } ;\n                            ui:where { ?klass wdt:P279 ?targetClass .\n                                       ?subject wdt:P31 ?klass; rdfs:label ?name .\n                                     };\n                        ].\n\n  :GovernmentOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :GovernmentOrganizationPrompt :GovernmentOrganizationAutocomplete ) .\n\n      :GovernmentOrganizationPrompt a ui:Comment; ui:contents "Which GovernmentOrganization?".\n\n      :GovernmentOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "GovernmentOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q327333>; # GovernmentOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n    :EducationalOrganizationForm a ui:Group; ui:weight 1; ui:parts ( :EducationalOrganizationPrompt :EducationalOrganizationAutocomplete ) .\n\n        :EducationalOrganizationPrompt a ui:Comment; ui:contents "Which Educational Organization?".\n\n        :EducationalOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Educational Organization in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q2385804>; # EducationalOrganization\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n    :ResearchOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :ResearchOrganizationPrompt :ResearchOrganizationAutocomplete ) .\n\n        :ResearchOrganizationPrompt a ui:Comment; ui:contents "Which Research Organization?".\n\n        :ResearchOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Research Insitute in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q31855>; # research institute\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :NGOForm a ui:Group; ui:weight 0; ui:parts ( :NGOPrompt :NGOAutocomplete ) .\n\n      :NGOPrompt a ui:Comment; ui:contents "Which NGO?".\n\n      :NGOAutocomplete\n      a ui:AutocompleteField; ui:label "NGO in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q163740>; # Non-profit org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :PerformingGroupForm a ui:Group; ui:weight 0; ui:parts ( :PerformingGroupPrompt :PerformingGroupAutocomplete ) .\n\n      :PerformingGroupPrompt a ui:Comment; ui:contents "Which PerformingGroup?".\n\n      :PerformingGroupAutocomplete\n      a ui:AutocompleteField; ui:label "PerformingGroup in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q32178211>; # Music Org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :ProjectForm a ui:Group; ui:weight 0; ui:parts ( :ProjectPrompt :ProjectAutocomplete ) . #  :ProjectAutocomplete - no: supress, as not in WD\n\n      :ProjectPrompt a ui:Comment; ui:contents "Which Project?".\n\n      :ProjectAutocomplete\n      a ui:AutocompleteField; ui:label "Project in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q170584>; # Project\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :SportsOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :SportsOrganizationPrompt :SportsOrganizationAutocomplete ) .\n\n      :SportsOrganizationPrompt a ui:Comment; ui:contents "Which Sports Organization?".\n\n      :SportsOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "SportsOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q4438121>; # SportsOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n   :OtherOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :OrganizationNameField :homePageURIField ) .\n\n  #################### Skills\n\n  :SkillsPrompt a ui:Comment; ui:contents  "Skills?" .\n\n  :SkillsForm a ui:Multiple;\n      ui:label "Skills";\n      ui:property schema:skills;\n      ui:ordered false; # Allow reader to order skills\n      ui:part :SkillForm.\n\n  :SkillForm a ui:Group; ui:weight 1; ui:parts ( :escoSkillField ).\n\n        # :skillNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 30 .\n\n        :escoSkillField a ui:AutocompleteField;\n              ui:label "skill"; ui:size 30;\n              ui:property solid:publicId;\n              ui:dataSource :ESCO_Skill_DataSource;\n               ui:targetClass schema:Skill .\n\n        :ESCO_Skill_DataSource a ui:DataSource;\n           schema:name "ESCO Skill";\n           ui:targetClass esco:Skill ;\n           schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n           ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&limit=$(limit)&type=skill&text=$(name)".\n\n# Language\n\n:LanguagesPrompt a ui:Comment; ui:contents  "Languages?" .\n\n:LanguagesForm a ui:Multiple;\n    ui:label "Languages";\n    ui:property schema:knowsLanguage; # @@@\n    ui:ordered true; # Allow user to order languages most important first.\n    ui:part :LanguageForm.\n\n:LanguageForm a ui:Group; ui:weight 1; ui:parts ( :WikidataLanguageField ).\n\n    :WikidataLanguageField a ui:AutocompleteField;\n          ui:label "Language"; ui:size 30;\n          ui:property solid:publicId; # @@\n          ui:dataSource :WikidataLanguageDataSource;\n           ui:targetClass schema:Language .\n\n    :WikidataLanguageDataSource\n        schema:name "Wikidata languages";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:objectURIBase <https://www.w3.org/ns/iana/language-code/>;\n        # Add this to any literal string returned as ?subject\n\n         ui:searchByNameQuery """SELECT ?item ?subject ?name\nWHERE\n{ ?item wdt:P305 ?subject .\n  OPTIONAL {?item rdfs:label ?name}\n  OPTIONAL {?item wdt:P1705 ?name}\n  FILTER regex(?name, "$(name)", "i")\n  FILTER regex(?subject, "^..$", "i")\n}""" .\n # Note we restrict code to two-letter codes with the second regex, so as to limit the deluge of languages\n # Hope there are not any important ones which have three-letter codes.\n # Omitted: SERVICE wikibase:label { bd:serviceParam wikibase:language "$(languages)". }\n\n\n# ENDS\n',s,o.uri,"text/turtle",(function(){return null})),r.widgets.appendForm(n,e,{},t,a,c,l)}(p,o),m("Thank you for filling your profile.")})).catch((function(e){f.appendChild(r.widgets.errorMessageBlock(n,e,"#fee"))})),u}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneDiv=function(e,t,n){var r=e.session.paneRegistry.byName(n);if(!r){var i=e.dom.createElement("div");return i.innerText="Unable to load view: ".concat(n),i}var a=r.render(t,e);return a.setAttribute("style","border: 0.3em solid #444; border-radius: 0.5em"),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(275);function a(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(){return(s=o(regeneratorRuntime.mark((function e(t,n,a){var o,s,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.authn.logInLoadProfile({dom:t,div:n,statusArea:a,me:null});case 2:if(o=e.sent,s=o.me,l=s.doc(),r.store.updater){e.next=7;break}throw new Error("Store has no updater");case 7:if(c=r.store.updater.editable(l.uri,r.store),n.appendChild((0,i.createText)("h3","Manage your trusted applications")),c){e.next=12;break}return n.appendChild(r.widgets.errorMessageBlock(t,"Your profile ".concat(s.doc().uri," is not editable, so we cannot do much here."))),e.abrupt("return");case 12:n.appendChild((0,i.createText)("p","Here you can manage the applications you trust.")),u=(0,i.createApplicationTable)(s),n.appendChild(u),n.appendChild((0,i.createText)("h4","Notes")),n.appendChild((0,i.createContainer)("ol",[n.appendChild((0,i.createText)("li","Trusted applications will get access to all resources that you have access to.")),n.appendChild((0,i.createText)("li","You can limit which modes they have by default.")),n.appendChild((0,i.createText)("li","They will not gain more access than you have."))])),n.appendChild((0,i.createText)("p","Application URLs must be valid URL. Examples are http://localhost:3000, https://trusted.app, and https://sub.trusted.app."));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={global:!0,icon:"".concat(r.icons.iconBase,"noun_15177.svg"),name:"trustedApplications",label:function(){return null},render:function(e,t){var n=t.dom,i=n.createElement("div");i.classList.add("trusted-applications-pane"),i.setAttribute("style","border: 0.3em solid #418d99; border-radius: 0.5em; padding: 0.7em; margin-top:0.7em;");var a=i.appendChild(n.createElement("table")),o=a.appendChild(n.createElement("tr")),l=a.appendChild(n.createElement("tr")).appendChild(n.createElement("div"));return l.setAttribute("style","padding: 0.7em;"),function(e,t,n){return s.apply(this,arguments)}(n,o,l).catch((function(e){return l.appendChild(r.widgets.errorMessageBlock(n,e))})),i}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApplicationTable=function e(t){var n=u("table",{class:"results"}),r=d("tr",[p("th","Application URL"),p("th","Access modes"),p("th","Actions")]);return n.appendChild(r),i.store.each(t,i.ns.acl("trustedApp"),void 0,void 0).flatMap((function(e){return i.store.each(e,i.ns.acl("origin"),void 0,void 0).map((function(t){return{appModes:i.store.each(e,i.ns.acl("mode"),void 0,void 0),origin:t}}))})).sort((function(e,t){return e.origin.value<t.origin.value?-1:1})).forEach((function(e){var r=e.appModes,i=e.origin;return n.appendChild(c(t,i,r,a))})),n.appendChild(c(t,null,[i.ns.acl("Read")],a)),n;function a(){n.parentElement.replaceChild(e(t),n)}},t.createContainer=d,t.createText=p;var r=n(3),i=n(0),a=n(276);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,o){var s={origin:t,appModes:n,formElements:{modes:[],origin:void 0}};return d("tr",[d("td",[d("form",[u("input",{class:"textinput",placeholder:"Write new URL here",value:t?t.value:""},{},(function(e){s.formElements.origin=e}))],{},{submit:l})]),d("td",[d("form",f(s),{},{submit:l})]),d("td",[d("form",t?[p("button","Update",{class:"controlButton",style:"background: LightGreen;"}),p("button","Delete",{class:"controlButton",style:"background: LightCoral;"},{click:function(t){var n;t.preventDefault();try{n=(0,r.sym)(s.formElements.origin.value)}catch(e){return alert("Please provide an application URL you want to remove trust from")}var o=(0,a.getStatementsToDelete)(n,e,i.store,i.ns);if(!i.store.updater)throw new Error("Store has no updater");i.store.updater.update(o,[],c)}})]:[p("button","Add",{class:"controlButton",style:"background: LightGreen;"})],{},{submit:l})])]);function l(t){var n;t.preventDefault();try{n=(0,r.sym)(s.formElements.origin.value)}catch(e){return alert("Please provide an application URL you want to trust")}var o=s.formElements.modes.filter((function(e){return e.checked})).map((function(e){return e.value})),l=(0,a.getStatementsToDelete)(s.origin||n,e,i.store,i.ns),u=(0,a.getStatementsToAdd)(n,(0,a.generateRandomString)(),o,e,i.ns);if(!i.store.updater)throw new Error("Store has no updater");i.store.updater.update(l,u,c)}function c(e,t,n){if(t)return o();console.error(e,n)}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=document.createElement(e);return r&&r(i),Object.keys(t).forEach((function(e){i.setAttribute(e,t[e])})),Object.keys(n).forEach((function(e){i.addEventListener(e,n[e])})),i}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=u(e,n,r,i);return t.forEach((function(e){return a.appendChild(e)})),a}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=u(e,n,r,i);return a.textContent=t,a}function f(e){var t=e.appModes,n=e.formElements;return["Read","Write","Append","Control"].map((function(e){return d("label",[u("input",s(s({type:"checkbox"},t.some((function(t){return t.value===i.ns.acl(e).value}))?{checked:""}:{}),{},{value:i.ns.acl(e).uri}),{},(function(e){return n.modes.push(e)})),p("span",e)])}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStatementsToDelete=function(e,t,n,r){return n.statementsMatching(null,r.acl("origin"),e).reduce((function(e,i){return e.concat(n.statementsMatching(t,r.acl("trustedApp"),i.subject)).concat(n.statementsMatching(i.subject))}),[])},t.getStatementsToAdd=function(e,t,n,a,o){var s=new r.BlankNode("bn_".concat(t));return[(0,r.st)(a,o.acl("trustedApp"),s,a.doc()),(0,r.st)(s,o.acl("origin"),e,a.doc())].concat((l=n.map((function(e){return(0,r.sym)(e)})).map((function(e){return(0,r.st)(s,o.acl("mode"),e,a.doc())})),function(e){if(Array.isArray(e))return i(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var l},t.generateRandomString=function(){return Math.random().toString(36).substr(2,5)};var r=n(3);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.dashboardPane=void 0;var r=n(0),i=n(3),a=n(278);function o(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var s={icon:r.icons.iconBase+"noun_547570.svg",name:"dashboard",label:function(e){return e.uri===e.site().uri?"Dashboard":null},render:function(e,t){var n=t.dom.createElement("div");return r.authn.solidAuthClient.trackSession(function(){var r,a=(r=regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.innerHTML="",l(n,a?(0,i.sym)(a.webId):null,t,e);case 2:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var a=r.apply(e,t);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)}))});return function(e){return a.apply(this,arguments)}}()),n}};function l(e,t,n,i){return t&&t.site().uri===i.site().uri?function(e,t){t.getOutliner(t.dom).getDashboard().then((function(t){return e.appendChild(t)}))}(e,n):function(e,t){var n=document.createElement("div");e.appendChild(n);var i=n.attachShadow({mode:"open"}),o=document.createElement("link");o.rel="stylesheet",o.href="/common/css/bootstrap.min.css",i.appendChild(o),(0,a.generateHomepage)(t,r.store,r.store.fetcher).then((function(e){return i.appendChild(e)}))}(e,i)}t.dashboardPane=s;var c=s;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHomepage=function(e,t,n){return s.apply(this,arguments)};var r=n(3),i=n(0);function a(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(){return(s=o(regeneratorRuntime.mark((function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,r);case 2:return i=e.sent,a=p(n,i),(o=document.createElement("div")).classList.add("container"),o.appendChild(c(i.uri,a)),o.appendChild(l(a)),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){var t=document.createElement("section"),n=document.createElement("h2");n.innerText="Data",t.appendChild(n);var r=document.createElement("div");r.classList.add("list-group"),t.appendChild(r);var i=document.createElement("a");return i.classList.add("list-group-item"),i.href="/public/",i.innerText="View ".concat(e,"'s files"),r.appendChild(i),t}function c(e,t){var n=document.createElement("a");n.href=e,n.innerText=t;var r=document.createElement("span");r.innerText="'s Pod";var i=document.createElement("h1");return i.appendChild(n),i.appendChild(r),i}function u(e,t){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.site().uri,a=(0,r.sym)("".concat(i,"profile/card#me")),e.next=4,n.load(a);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return e.anyValue(t,i.ns.vcard("fn"),null,t.doc())||e.anyValue(t,i.ns.foaf("name"),null,t.doc())||new URL(t.uri).host.split(".")[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.basicPreferencesPane=void 0;var r=n(0),i=n(3);function a(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}var s={icon:r.icons.iconBase+"noun_Sliders_341315_000000.svg",name:"basicPreferences",label:function(e){return null},render:function(e,t){var n=t.dom,a=t.session.store;function s(e,t){e||l.appendChild(r.widgets.errorMessageBlock(n,t,"#fee"))}var l=n.createElement("div"),u=function(e,t){var n=h(e,t,"User types");n.appendChild(t.createElement("p")).innerText="Here you can self-assign user types to help the data browser know which views you would like to access.";var r=n.appendChild(t.createElement("a"));return r.href="https://github.com/solid/userguide/#role",r.innerText="Read more",n.appendChild(t.createElement("div"))}(l,n);function d(e,t){e=e.doc(),a.holds(void 0,void 0,void 0,e)||(0,i.parse)(t,a,e.uri,"text/turtle",null)}var p=a.sym("urn:uuid:93774ba1-d3b6-41f2-85b6-4ae27ffd2597#this");function f(){return(f=o(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.authn.logInLoadPreferences({dom:n,div:l});case 2:if((i=e.sent).preferencesFile){e.next=6;break}return console.log("Not doing private class preferences as no access to preferences file. "+i.preferencesFileError),e.abrupt("return");case 6:r.widgets.appendForm(n,u,{},i.me,p,i.preferencesFile,s).style.borderStyle="none",(o=t.session.paneRegistry.byName("trustedApplications"))&&l.appendChild(o.render(null,t)),c(l,a,i.me,n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d(p,'@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <#>.\n\n:this <http://purl.org/dc/elements/1.1/title> "Basic preferences" ;\n      a ui:Form ;\n      ui:part :categorizeUser, :privateComment, :personalInformationHeading;\n      ui:parts ( :personalInformationHeading :privateComment :categorizeUser ).\n\n:personalInformationHeading a ui:Heading;\n      ui:contents "Personal information".\n\n:privateComment a ui:Comment;\n      ui:contents "This information is private.".\n\n:categorizeUser a ui:Classifier;\n      ui:label "Level of user"; ui:property rdf:type ; ui:category solid:User.\n'),d(a.sym("urn:uuid:93774ba1-d3b6-41f2-85b6-4ae27ffd2597-ONT"),'@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix schema: <http:/schema.org/>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix : <#>.\n\nsolid:User a rdfs:Class;\n  rdfs:label "user"@en, "utilisateur"@fr;\n  rdfs:comment """Any person who might use a Solid-based system""";\n  rdfs:subClassOf foaf:Person, schema:Person, vcard:Individual.\n\n# Since these options are opt-in, it is a bit strange to have new users opt in\n# That they are new users - also we do not use this class for anything specific\n# yet\n# solid:NewUser a rdfs:Class;\n#  rdfs:label "new user"@en;\n#  rdfs:comment """A person who might use a Solid-based system who has a low\n#  level of familiarity with technical details.""";\n#  rdfs:subClassOf solid:User.\n\nsolid:PowerUser a rdfs:Class;\n  rdfs:label "power user"@en;\n  rdfs:comment """A person who might use a Solid-based system\n  who is prepared to be given a more complex interface in order\n  to be provided with more pwerful features.""";\n  rdfs:subClassOf solid:User.\n\n  solid:Developer a rdfs:Class;\n    rdfs:label "Developer";\n    rdfs:comment """Any person who might use a Solid-based system,\n    who has software development skills.""";\n    rdfs:subClassOf solid:User.\n'),function(){f.apply(this,arguments)}(),l}};t.basicPreferencesPane=s;var l=s;function c(e,t,n,i){var a=h(e,i,"Delete account"),s=t.each(n,r.ns.space("storage"),null,n.doc()).map((function(e){return e.value})),l=a.appendChild(i.createElement("ul"));s.forEach(function(){var e=o(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,i);case 2:(n=e.sent)&&l.appendChild(i.createElement("li")).appendChild(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function u(e,t){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.createElement("a")).textContent="Delete your account at ".concat(t),e.next=4,p(t);case 4:if("string"==typeof(i=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return r.href=i,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(t),(r=new URL(t)).pathname=n.pathname="/account/delete",i=r.hostname.split("."),r.hostname=i.slice(1).join("."),e.next=7,fetch(r.href,{method:"HEAD"});case 7:if(!e.sent.ok){e.next=10;break}return e.abrupt("return",r.href);case 10:return e.next=12,fetch(n.href,{method:"HEAD"});case 12:if(!e.sent.ok){e.next=15;break}return e.abrupt("return",n.href);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){var r=e.appendChild(t.createElement("div"));return r.style.border="0.3em solid #418d99",r.style.borderRadius="0.5em",r.style.padding="0.7em",r.style.marginTop="0.7em",r.appendChild(t.createElement("h3")).innerText=n,r}t.default=l},function(e,t){e.exports='\n#   Issue tracking - Workflow application definition ontology\n#\n# Finite state automaton ontology\n#\n# See requirements for tracking tools http://www.w3.org/2005/01/06-tool-req.html\n#\n@keywords a, is, of.\n\n@prefix :   <http://www.w3.org/2005/01/wf/flow#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#>.\n\n@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix s: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n@prefix doc: <http://www.w3.org/2000/10/swap/pim/doc#> .\n@prefix log: <http://www.w3.org/2000/10/swap/log#> .\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix contact: <http://www.w3.org/2000/10/swap/pim/contact#> .\n@prefix doap: <http://usefulinc.com/ns/doap#>.\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n<> dc:title "Issue Tracking Ontology";\n\n    dct:creator <http://www.w3.org/People/Berners-Lee/card#i>;\n\n    s:comment """This ontology defines a very general class (Task)\n    which can used for any kind of bug tracking, issue tracking,\n    to-do-list management, action items, goal dependency, and so on.\n    It captures the state of a task as a subclass, so that\n    subsumption can be used.\n    It captures a discussion thread about a task.\n    It captures subtasks structure if necessary.\n    A "Tracker" defines actual set of states, categories, etc.,\n    which  a task can be in. The data about the tracker\n    guides the software managing the task.\n\n    There is some workflow modeling finite state machine\n    terms which are optional for  more complex definition\n    of the transitions allowed.\n    """.\n\nTask a s:Class;\n    s:label "task"@en; owl:disjointUnionOf (Open Closed);\n    s:comment """Something to be done in a wide sense,\n    an agenda item at a meeting is one example, but any\n    issue, task, action item, goal, product, deliverable, milestone, can such a thing.\n    The requirement for this framework was that it would allow\n    one to customize ontologies for things such as agenda items,\n    action items, working group issues with a spec, w3c Last Call issues,\n    software bugs and administrative requests.\n    In π-calculus, a process.\n    Make your type of issue a subclass of Task.\n    """.\n\nOpen a s:Class; s:subClassOf Task;\n    s:label "open"@en, "ouvert"@fr;\n  ui:backgroundColor "#d6f5d6"; # green like github for some reason\n    s:comment """A task which needs attention. The very crude states of Open and Closed all\n        interoperability between different systems if the states for a given\n        application are made subclasses of either Open or Closed. This allows\n        tasks from different systems to be mixed and treated together with\n        limited but valuable functionality.\n    """.\n\nClosed a s:Class; s:subClassOf Task;\n    s:label "closed"@en, "fermé"@fr;\n  ui:backgroundColor "#f5d6d6"; # pink\n    s:comment """A task which does not need attention. It may be closed because\n        has been abandoned or completed, for example.\n    """.\n\n\n  ActionItem a s:Class;\n    s:subClassOf Task;\n    s:label "action item"@en; owl:disjointUnionOf (Open Closed);\n    s:comment """An obligation taken on by a person, typically at a meeting.\n    """.\n\n\ndescription a rdf:Property;\n        s:label "description";\n        s:comment """The description, definition,\n        or abstract. Information explaining what this is.\n        Not arbitrary comment about anything, only about the subject.\n        (Use this property for anything. There is no domain restriction.).""".\n\ndependent a rdf:Property;\n        s:label "how";  owl:inverseOf [ s:label "why"];\n        s:domain Task; s:range Task;\n        s:comment """Another task upon which this depends, in the sense that\n        this task cannot be completed without that task being done.\n        You can\'t use this for dependencies on anything other than other tasks.\n        (Note the US spelling of the URI. In the UK, a dependant is a something\n        which is dependent on somehing else.)""".\n\nassignee    a       rdf:Property;\n        s:label     "assigned to"; owl:inverseOf [s:label "assignment"];\n#       s:domain    Task;\n        s:range     foaf:Agent;\n        s:comment   """The person or group to whom this has been assigned.""".\n\n# use dct:modified\n#modified        a               rdf:Property;\n#                s:label         "last changed".\n\nmodifiedBy      a               rdf:Property;\n                s:range         foaf:Agent;\n                s:label         "changed by".\n\n# use dct:created instead\n#created         a               rdf:Property;\n#                s:range         xsd:dateTime;\n#\n# Use foaf:maker instead\n#creator         a               rdf:Property;\n#                s:range         foaf:Agent;\n#                s:label         "changed by".\n\nsubscriber      a               rdf:Property;\n                s:label         "subscriber";\n                s:range         foaf:Agent.\n\n\n################## Products\n#\n#\n# History:  The Tracker system included a cocept of a product,\n# such that an action  could be associated with *either* an issue *or* a product.\n# Noah Mendelsohn for the TAG needed to be able make\n# and to give products: Goals, scuuess criteria,\n#  deliverables with dates, schedules, TAG members assigned, related issues.\n#\n\n\nProduct         a s:Class; s:subClassOf Task;\n                s:label "product";\n                s:comment """A product is a task which monitors something\n                which must be produced.""".\n\ndeliverable     a rdf:Property; s:subPropertyOf dependent;\n                s:range Product;\n                s:label "deliverable"@en;\n                s:comment """Something which must be delivered to accomplish this""".\n\ngoalDescription a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:string;\n                s:label "goals";\n                s:comment """A textual description of the goals of this product, etc.""".\n\nsuccessCriteria a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:string;\n                s:label "success criteria";\n                s:comment """A textual description of the successs critera.\n                How when we know this is done?""".\n\ndateDue         a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:date;\n                s:label "due"@en;\n                s:comment """The date this task is due.\n                """.\n\n##################  Attachments\n\nattachment      a rdf:Property;\n                s:label "attachment";\n                s:comment """Something related is attached for information.""".\n\nscreenShot      a rdf:Property; s:subPropertyOf attachment;\n                s:label "screen shot"@en;\n                s:comment """An image taken by capturing the state of a\n                 computer screen, for example to demonstrate a problem""".\n\ntestData        a rdf:Property; s:subPropertyOf attachment;\n                s:label "test data"@en;\n                s:comment """A file which can be used as inpiut to a test\n                or to demonstrate a problem. """.\n\n\nterminalOutput      a rdf:Property; s:subPropertyOf attachment;\n                s:label "terminal output"@en;\n                s:comment """A file showing user interaction from a\n                text terminal or console etc. """.\n\n\nmessage         a rdf:Property; s:subPropertyOf attachment;\n                s:label "message"@en;\n                s:comment """A message about this. Attached for information.""".\n\n\nMessage         a s:Class; s:label "message"@en.\nrecipent a rdf:Property; s:label "to"; s:domain Message; s:range foaf:Agent.\nsender a rdf:Property; s:label "from"; s:domain Message; s:range foaf:Agent.\n\n############################# A Tracker connects and manages issues\n\ntracker         a rdf:Property;\n                s:label "tracker";\n                owl:inverseOf [ s:label "issue"];\n                s:domain Task;\n                s:range Tracker.\n\nTracker         a s:Class;\n                s:label "tracker";\n                s:comment """A set of issues and\n                the constraints on how they evolve.\n                To use this ontology, craete a new tracker.\n                Copy an existing one or make up your own.""".\n\nissueClass      a rdf:Property;\n                s:label "all issues must be in";\n                s:domain Tracker;\n                s:range s:Class, State;\n                s:comment """The class of issues which are allowed in this tracker.\n                This is essemtial to the operation of the tracker,\n                as it defines which states an issue can be in.\n                (The issueClass must be a disjointUnionOf the state classes)""".\n\nissueCategory   a rdf:Property;\n                s:label "issue category";\n                s:domain Tracker;\n                s:range s:Class;\n                s:comment """Issues may be categorized according to the\n                subclasses of this class""".\n\nstateStore      a rdf:Property;\n                s:label "state store";\n                s:domain Tracker;\n                s:range doc:Document;\n                s:comment """A read-write document.\n                The state of the issues is modified here.\n                When you set up a trcaker, thgis must be set to point\n                to a writeble data resource on the web.""".\n\ntransactionStore\n                a rdf:Property;\n                s:label "transaction store";\n                s:domain Tracker;\n                s:range doc:Document;\n                s:comment """An appendable document. Transactions and messsages\n                    can be written into here""".\n\nasigneeClass\n                a rdf:Property;\n                s:label "assignees must be";\n                s:domain Tracker;\n                s:range s:Class;  # Subclass of foaf:Agent\n                s:comment """When an issue is assigned, the assignee must be from this class""".\n\ninitialState\n                a rdf:Property;\n                s:label "initial state"@en;\n                s:label "état initial"@fr;\n                s:domain Tracker;\n                s:range State;\n                s:comment """The initial state for a new issue""".\n\n# Use this to link a project to a tracker\ndoap:bug-database owl:inverseOf [ s:label "project"@en ].\n\n\n\n\n############################################################\n#\n#           Finite state machines\n#\nChange      a s:Class;\n        s:label "change";\n        s:comment """The universal class of things which\nchange the state of a task.\nIncluded now: Creation, Transition. (Maybe in the future\nmore π-calculus constructions such as splitting & merging tasks,\nand import/export of obligations to a foreign opaque system.)\n""".\n\nTransition  a s:Class; s:subClassOf Change;\n        s:label     "transition";\n        s:comment """A transition is a change of state of\na task. Typical properties include date and/or source\n(a document causing the transition), and a final state.""".\n\nCreation    a s:Class; s:subClassOf Change;\n        s:label     "creation";\n        s:comment """A creation is a change from existence\nto non-existence\na task. Typical properties include date and/or source\n(a document causing the transition), and a final state.""".\n\n\ndate    s:range DateTime.\n\nfinal   a       rdf:Property;\n        s:label     "to";\n        s:domain    Transition;\n        s:range State.\n\ntask        a       rdf:Property;\n        s:range     Task;\n        s:label     "task".\n\nrequires    a rdf:Property;\n        s:label "requires";\n        s:domain    Transition;\n        s:range     rdf:List; # Of properties for validation\n        s:comment   """To be a valid transition,\n        a necessary (but not necessarily sufficuent) condition\n        is that there be recorded these properties for the record""".\n\naffects     a rdf:Property;\n        s:label "affects";\n        s:domain    doc:Work;\n        s:range     Task.\n\n\n# { ?x a Transition; task ?t; source ?doc } => { ?doc affects ?t }.\n\n\ncreates     a rdf:Property;\n        s:label "creates";\n        s:domain    doc:Work;\n        s:range     Task.\n\n\nallowedTransitions a rdf:Property;\n        s:domain    State;\n        s:range     rdf:List; # @@@ of Action\n        s:label     "allowed transitions";\n        s:comment   """The state machine is defined\n    by these lists of transition allowed for each issue.\n    (An interesting option in the Web is to make an allowed transition\n    to a state in soemone else\'s ontology, which in turn allows\n    transitions into many ontologies.  So a finite state maxchine\n    may become very large. In practice this means that a task handed\n    off to another organization may be processed on all kinds of ways.)""".\n\n#   { ?x a TerminalState} => { ?x allowedTransitions () }.\n\nfinal       a rdf:Property;\n        s:label     "to";\n        s:range State.\n\nissue       a       rdf:Property;\n        s:label     "issue";\n        s:comment\n        """A transition changes the state of the given issue.""".\n\nsource  a       rdf:Property;\n        s:label     "source";\n        s:comment   """The source of a transition is\n                the document by which it happened""";\n        s:range     doc:Work.\nTerminalState a s:Class;\n    s:subClassOf State;\n    s:label "terminal state";\n    s:comment """A state from which there are no transitions.""".\n\nNonTerminalState a s:Class;\n    s:label "non-terminal state";\n    owl:disjointWith TerminalState;\n    s:comment """A state from which there are transitions.""".\n\n######################################################\n\n#ends\n'},function(e,t){e.exports='\n#  Ontology for user interface hints and forms\n#\n#  See also related: the Fresnel language\n#\n@prefix contact: <http://www.w3.org/2000/10/swap/pim/contact#>.\n@prefix dc:  <http://purl.org/dc/elements/1.1/>.\n@prefix doc: <http://www.w3.org/2000/10/swap/pim/doc#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix r: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix s: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix tt: <http://dig.csail.mit.edu/2010/issues/track#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <http://www.w3.org/ns/ui#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n@keywords is, of, a.\n\n<> dc:title "An ontology for User Interface description, Hints and Forms.";\n    dc:description """The User Interface ontology allows the definition\n    of forms for processing RDF model data, and include a bootstrap form for\n    editing forms. It allows user interface hints such as background colors,\n    can be associated with objects and classes.\n    """;\n    dc:created 2010-08-07;\n    dc:license <https://creativecommons.org/publicdomain/zero/1.0/>;\n    dc:modified """$Date: 2020/03/22 16:53:21 $""";\n    dc:author <https://www.w3.org/People/Berners-Lee/card#i>.\n\nstyle a r:Property, owl:DatatypeProperty;\n    s:label "style";\n        prompt "CSS style";\n    s:comment """Must be a valid CSS style string such as one could put in\n        an HTML style attribute.  Depending on the user interface system, this can\n        by given to individuals, classes or properties. It is up to a user interface\n        which wants to draw on them to pick how it uses styles from which parts\n        of the data it has.  For example, the style of a class may be picked\n        to distinguish information about things in that class.""".\n\nbackgroundColor a r:Property, owl:DatatypeProperty;\n    s:label "background color"@en;\n        s:range ui:Color;\n    s:comment """Must be a valid CSS color string such as one could put in\n        an HTML style attribute.  This should be in the #xxxxxx form,\n        (with 6 digits of hex)  so that it\n        can work with Graphviz.""".\n\nbackgroundImage a r:Property, owl:DatatypeProperty;\n    s:label "background image"@en;\n    s:comment """URI or base64 representation of an image""".\n\ncolor a r:Property, owl:DatatypeProperty;\n    s:label "color"@en;\n    s:range ui:Color;\n    s:comment """Must be a valid CSS color string such as one could put in\n        an HTML style attribute.  This should be in the #xxxxxx form,\n        (with 6 digits of hex)  so that it\n        can work with Graphviz.""".\n\n\n\nsortPriority a r:Property, owl:DatatypeProperty;\n        s:label "sort priority";\n        s:range xsd:integer;\n        s:comment """When individuals or classes must be sorted, then\n        if they are given different values of sortPriority a user agent can\n        use this as a hint to how to present information.""".\n\nsortBy a r:Property;\n        s:label "sort by";\n        s:domain s:Class;\n        s:range r:Property;\n        s:comment """A property which typically is used to sort\n        members of a given class.""".\n\nseqeunce a r:Property;\n    s:label "sequence number";\n    s:range xsd:integer;\n    s:comment """The sequence in which this item is arranged with repect to other parts.""".\n\ninitialProperties a r:Property;\n        s:label "initial properties";\n        s:domain s:Class;\n        s:range r:List; # List of r:Property\n        s:comment """A really simple way of enabling user interfaces to\n            create new information about a class of things is to make a define of properties\n            to be specified when a information about a new item\n            ("New item" here means an item which the system\n            does not have prvious information about yet,\n            not an items which has just been created,\n            like new friend as opposed to new baby)""";\n            prompt "Properties to be specified for new ones".\n\ntableProperties a r:Property;\n        s:domain s:Class;\n        s:label "table properties";\n        s:range r:List; # List of r:Property\n        s:comment """This  is a crude way of specifying a table-based\n            view for objects of this class.""";\n            prompt "Properties to be given in a default table view".\n\nprompt  a r:Property;\n        s:label "user prompt";\n        s:comment """A string for the UI to use if the user needs a longer\n        prompts than just a field name, the rdfs:label. """;\n        ui:prompt "A longer prompt for a user inputting this property".\n\n\n#  A Taxonomy of Field types\n\nui:Form owl:disjointUnionOf ( ui:ValueField  ui:Group ui:Choice ui:Classifier ui:Options ui:Multiple ui:Heading ui:Comment);\n    s:comment """A form can be any type of single field, or typically a Group of several fields,\n    including interspersed headings and comments.  """.\nui:Single owl:disjointUnionOf ( ui:ValueField  ui:Group ui:Choice ui:Classifier ui:Options ui:Heading ui:Comment).\nui:ValueField owl:disjointUnionOf ( ui:TextField ui:NumericField ui:ColorField ui:DateField ui:DateTimeField ui:PhoneField ui:EmailField).\nui:NumericField owl:disjointUnionOf (ui:BooleanField ui:TriStateField ui:IntegerField ui:DecimalField ui:FloatField).\n# ui:Multiple owl:disjointUnionOf ( ui:ZeroOrMore ui:OneOrMore ).\nui:TextField owl:disjointUnionOf (ui:SingleLineTextField ui:MultiLineTextField).\n\nui:Form a s:Class; is s:subClassOf of ui:ValueField, ui:Group, ui:Choice,  ui:Heading, ui:Comment, ui:Classifier, ui:Options, ui:Multiple.\nui:Single a s:Class; is s:subClassOf of ui:ValueField, ui:Group, ui:Choice, ui:Heading, ui:Comment, ui:Classifier, ui:Options.\nui:ValueField a s:Class; is s:subClassOf of  ui:TextField, ui:NumericField, ui:ColorField, ui:DateField, ui:DateTimeField, ui:PhoneField, ui:EmailField.\nui:NumericField a s:Class; is s:subClassOf of ui:BooleanField, ui:TriStateField, ui:IntegerField, ui:DecimalField, ui:FloatField.\nui:TextField a s:Class; is s:subClassOf of ui:SingleLineTextField, ui:MultiLineTextField.\n\nui:Classifier a s:Class; s:label "classifier";\n    s:comment """A classifier allows the user to select the type of an object.\n    The possible types must be subclasses of some overall class, the "category".\n    (Ideally, the superclass is also set up as the disjoint union of the subclasses,\n    if they are disjoint.)\n\n    The form normally stores the resulting classes using an rdf:type triple,\n    but a different predicate can be used if required, so the classifier field\n    needs is \'property\' defined too.\n\n    If the subclass selected itself is has subclasses defined, the user can\n    recursively select from them in turn, as many levels as needed.""".\n\nui:property a r:Property; s:domain ui:Form; s:range r:Property;\n    s:label "property to be stored"@en;\n    s:comment """Many fields prompt for information about a given property of the subject.\n    When field is filled in, this gives which property is written into the data.""".\n\nui:category  a r:Property; s:domain ui:Classifier; s:range s:Class;\n    s:label "overall superclass"@en;\n    s:comment """The superclass subclasses of which will be selected.""".\n\nui:dependingOn a r:Property; s:domain ui:Options; s:range r:Property;\n    s:label "depending on"@en;\n    s:comment """Many fields prompt for information about a given property of the subject""".\n\nui:for a r:Property; s:label "for"@en; s:comment "The value for which this case is selected.".\nui:use a r:Property; s:range ui:Form.\n\nui:part a r:Property; s:label "part"@en ; s:domain ui:Form; s:range ui:Form. # Used for Multiple field - the subform for each item\nui:parts a r:Property; s:label "parts"@en ; s:domain ui:Form; s:range r:Collection. # (of Forms) The ordered set of fields in a group\nui:ordered e r:Property; s:label "ordered"; s:range xsd:Boolean . # Could be useful for all kinds of things in future so not restricted to Multiple\n\nui:from a r:Property; s:domain ui:Choice; s:range r:Class;\n    s:label "from"; ui:prompt "from what class".\n\nui:size a r:Property; s:domain ui:ValueField; s:range xsd:integer;\n    s:label "size of field";\n    ui:prompt "size of field in characters".\n\nui:maxLength a r:Property; s:domain ui:TextField; s:range xsd:integer;\n    s:label "max length of value".\n\nui:minValue a r:Property; s:domain ui:ValueField; s:label "min".  # @@ range?\nui:maxValue a r:Property; s:domain ui:ValueField; s:label "max".\n\n ui:creationForm a r:Property; s:domain s:Class; s:range ui:Form;\n    s:label "creation form";\n    s:comment """A form which may be used to collect information about a\n    hitherto locally undocumented instance instance of this class.""".\n\n ui:annotationForm a r:Property; s:domain s:Class; s:range ui:Form;\n    s:label "annotation form";\n    s:comment """A form which may be used to add more infromation to an\ninstance of this class which we know something about.  Anything from\nadding just add one more fact, to adding a whole lot of information about a specific\nfacet of the thing.\n""".\n\n\n#############################################\n#\n# Form for editing Forms\n#\n\nFormForm a ui:Form;\n    dc:title "Form for editing Forms";\n    is ui:creationForm of Form;\n    a ui:Group; ui:parts (FF1 FF2 FF3 FieldList) .\n\n    FF1 ui:sequence 1; a ui:Heading;  ui:contents "Edit Form"@en .\n    FF2 ui:sequence 2; a ui:SingleLineTextField; ui:property dc:title; ui:size 60 .\n    FF3 ui:sequence 3; a ui:Comment;  ui:contents\n        """To add a field to the form, press the plus at the bottom,\n        and then select what sort of field you want."""@en; ui:style "background-color: #ffe;" .\n\n    FieldList  ui:sequence 10; a ui:Multiple; ui:ordered true; ui:property ui:parts; ui:part FieldForm .\n\nFieldForm a ui:Group;\n    dc:title "Form for selecting a type of field";\n    ui:parts (\n\n        [ ui:sequence 1; a ui:Classifier; ui:property r:type; ui:category ui:Form]\n\n        [ a ui:Options; ui:sequence 2; ui:dependingOn r:type;\n\n            ui:case [ ui:for ui:TextField; ui:use [a ui:Group; ui:parts (\n                [ a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]  # @@@ Needs inference on current web\n                [ a ui:IntegerField; ui:property ui:size; ui:label "field size"; ui:min 1; ui:max 4096]\n                [ a ui:IntegerField; ui:property ui:maxLength; ui:label "Max. length of string"; ui:min 1]\n            )]];\n\n            ui:case [ ui:for ui:IntegerField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:IntegerField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:IntegerField; ui:property ui:max; ui:label "maximum value"] ) ]];\n\n            ui:case [ ui:for ui:DecimalField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DecimalField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:DecimalField; ui:property ui:max; ui:label "maximum value"] )  ]];\n\n            ui:case [ ui:for ui:FloatField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:FloatField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:FloatField; ui:property ui:max; ui:label "maximum value"] ) ]];\n\n            ui:case [ ui:for ui:ColorField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty] )\n            ]];\n\n            ui:case [ ui:for ui:DateField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DateField; ui:property ui:min; ui:label "min"]\n                [ ui:sequence 3; a ui:DateField; ui:property ui:max ; ui:label "max"]\n            ) ]];\n\n            ui:case [ ui:for ui:DateTimeField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DateTimeField; ui:property ui:min; ui:label "min"]\n                [ ui:sequence 3; a ui:DateTimeField; ui:property ui:max ; ui:label "max"]\n            ) ]];\n\n            ui:case [ ui:for ui:EmailField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:ObjectProperty]\n            ) ]];\n\n            ui:case [ ui:for ui:PhoneField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:ObjectProperty]\n            )]];\n\n            ui:case [ ui:for ui:Group; ui:use FieldList];\n\n            ui:case [ ui:for ui:Options; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:dependingOn; ui:label "depending on"; ui:from r:Property; ui:default r:type]\n                [ ui:sequence 2; a ui:Multiple; ui:property ui:case; ui:part CaseForm]\n                                ) ]];\n\n            ui:case [ ui:for ui:Choice; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property";\n                    ui:canMintNew true; ui:from owl:ObjectProperty]\n                [ ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:from; ui:label "destination class";\n                                    ui:from s:Class; ui:canMintNew true; ]\n                [ ui:sequence 3; a ui:BooleanField; ui:property ui:canMintNew; # No class form yet\n                            ui:label "user can add new"]\n                [ ui:sequence 4; a ui:Choice;  ui:canMintNew true; ui:property ui:use; ui:label "Nested Form (if any)";\n                            ui:from ui:Form; ui:optional true; ui:use FormForm] # @@ optional\n\n            ) ]];\n\n            ui:case [ ui:for ui:Classifier; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 2; a ui:Comment; ui:contents """A classifier allows the user to which classes the item belongs to, given a common superclass of the allowed classes.  Give the superclass here:""" ]\n\n                [ ui:sequence 4; a ui:Choice;  ui:canMintNew true; ui:property ui:category; ui:label "superclass"; ui:from s:Class]\n\n                [ ui:sequence 6; a ui:Comment; ui:contents """(When the choice is made normally the item is given a rdf:type. Set this to rdf:type unless you want the form to set a different property.)""" ]\n\n                [ ui:sequence 8; a ui:Choice;  ui:canMintNew true; ui:property ui:property;\n                        ui:label "property"; ui:from owl:ObjectProperty; ui:default r:type] # @@ restriction\n\n            ) ]];\n\n            ui:case [ ui:for ui:Multiple; ui:use [a ui:Group; ui:parts (\n                        [ui:sequence 0; a ui:BooleanField;  ui:property ui:ordered; ui:label "ordered"] # If this an ordered array or an unordered set?\n                        [ui:sequence 0; a ui:IntegerField;  ui:property ui:min; ui:label "minimum number"] # If this an ordered array or an unordered set?\n                        [ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from r:Property]\n                [ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:part; ui:from ui:Form; ui:use FieldForm]   # Form for details of the field part of the multiple\n            ) ]];\n\n            ui:case [ ui:for ui:Heading; ui:use [a ui:SingleLineTextField; ui:property ui:contents]];\n\n            ui:case [ ui:for ui:Comment; ui:use [a ui:MultiLineTextField; ui:property ui:contents]]\n        ]).\n\n\nCaseForm a ui:Group;\n   dc:title "Form for a conditional case in a form";\n   ui:parts (\n        [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:for; ui:label "when it is"; ui:canMintNew true; ui:from s:Class]\n        [ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:use; ui:from ui:Form; ui:canMintNew true; ui:use FieldForm] ). # Form for details of the field part of the multiple\n\n# ENDS\n'},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};t.__esModule=!0,t.renderAutoComplete=void 0;var a=n(0),o=n(145),s=a.store;t.renderAutoComplete=function(e,t,n){return r(this,void 0,void 0,(function(){function l(e,t){console.log("Auto complete: finish! "+e),n(e,t)}function c(e,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return t.acceptButton?(t.acceptButton.disabled=!1,S.value=n,k=n,C=e,console.log("Auto complete: name: "+n),console.log("Auto complete: waiting for accept "+e),[2]):(l(e,n),[2])}))}))}function u(e){return r(this,void 0,void 0,(function(){return i(this,(function(e){return S.value===k?l(C,k):t.acceptButton.disabled=!0,[2]}))}))}function d(e,t){for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(t.toLowerCase().indexOf(i)<0)return!1}return!0}function p(){for(;E.children.length>1;)E.removeChild(E.lastChild)}function f(e){return r(this,void 0,void 0,(function(){return i(this,(function(e){return g&&clearTimeout(g),setTimeout(h,300),[2]}))}))}function h(){return r(this,void 0,void 0,(function(){var n,l,u,f,h,g,x=this;return i(this,(function(k){switch(k.label){case 0:return v?(console.log('Ignoring "'+S.value+'" because of lock '),[2]):(v=!0,[4,o.getPreferredLanguages()]);case 1:return n=k.sent(),(l=S.value.trim().toLowerCase()).length<4?(p(),!1,w=20,[3,7]):[3,2];case 2:if(y&&b&&l.startsWith(b))return function(e){for(var t=0,n=null,r="",i=E.children.length-1;i>0;i--){var a=E.children[i];d(e,a.textContent)?(t+=1,n=a.getAttribute("subject"),r=a.textContent,a.style.display="",a.style.color="blue"):a.style.display="none"}1==t&&(console.log('  auto complete elimination:  "'+e+'" -> "'+r+'"'),c(s.sym(n),r))}(l),v=!1,[2];k.label=3;case 3:return k.trys.push([3,5,,6]),[4,o.queryPublicDataByName(l,m,t.queryParams)];case 4:return u=k.sent(),[3,6];case 5:return f=k.sent(),C="Error querying db of organizations: "+f,T=E.appendChild(e.createElement("tr")),console.log(C),T.appendChild(a.widgets.errorMessageBlock(e,C,"pink")),a.style.setStyle(T,"autocompleteRowStyle"),T.style.padding="1em",v=!1,[2];case 6:!0,h=u.length<o.AUTOCOMPLETE_LIMIT,b=h?l:null,p(),g=o.filterByLanguage(u,n),h&&g.length<=40&&(w=g.length),y=h&&g.length<=w,console.log(' Filter:"'+l+'" bindings: '+u.length+", slimmed to "+g.length+"; rows: "+w+", Enough? "+h+", All displayed? "+y),g.slice(0,w).forEach((function(t){var n=E.appendChild(e.createElement("tr"));a.style.setStyle(n,"autocompleteRowStyle");var o=t.subject.value,l=t.name.value;n.setAttribute("style","padding: 0.3em;"),n.setAttribute("subject",o),n.style.color=y?"#080":"#000",n.textContent=l,n.addEventListener("click",(function(e){return r(x,void 0,void 0,(function(){return i(this,(function(e){return console.log("       click row textContent: "+n.textContent),console.log("       click name: "+l),c(s.sym(o),l),[2]}))}))}))})),k.label=7;case 7:return v=!1,[2]}var C,T}))}))}var m,g,v,y,b,w,x,k,C,E,T,_,S,O;return i(this,(function(n){return t.queryParams,m=t.class,t.acceptButton&&t.acceptButton.addEventListener("click",u,!1),t.cancelButton,!1,g=null,v=!1,y=!1,b=null,w=20,x=e.createElement("div"),k=null,C=null,(E=x.appendChild(e.createElement("table"))).setAttribute("style","max-width: 30em; margin: 0.5em;"),T=E.appendChild(e.createElement("tr")),a.style.setStyle(T,"autocompleteRowStyle"),_=T.appendChild(e.createElement("td")),(S=_.appendChild(e.createElement("input"))).setAttribute("type","text"),O=a.style.searchInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",S.setAttribute("style",O),S.addEventListener("keyup",(function(e){13===e.keyCode&&u()}),!1),S.addEventListener("input",f),[2,x]}))}))}},function(e,t){e.exports='\nprefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(0),a=n(286),o=n(290),s={global:!1,icon:i.icons.iconBase+"noun_15695.svg",name:"activitystreams",label:function(e,t){return t.session.store.findTypeURIs(e)[i.ns.as("Note").uri]?"Note":null},render:function(e,t){return a.createElement(r.createElement(o.Pane,{subject:e,context:t}))}};t.default=s},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(146),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+_(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+_(s=e[c],c);l+=S(s,t,n,u,o)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=S(s=s.value,t,n,u=r+_(s,c++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function P(){var e=j.current;if(null===e)throw Error(f(321));return e}var I={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var a=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=void 0;var r=n(147);t.createElement=function(e){var t=document.createElement("div");return t.style.padding="1em",r.render(e,t),t}},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(8),i=n(146),a=n(288);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,C=60106,E=60107,T=60108,_=60114,S=60109,O=60110,A=60112,j=60113,P=60120,I=60115,N=60116,L=60121,R=60128,M=60129,D=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;k=B("react.element"),C=B("react.portal"),E=B("react.fragment"),T=B("react.strict_mode"),_=B("react.profiler"),S=B("react.provider"),O=B("react.context"),A=B("react.forward_ref"),j=B("react.suspense"),P=B("react.suspense_list"),I=B("react.memo"),N=B("react.lazy"),L=B("react.block"),B("react.scope"),R=B("react.opaque.id"),M=B("react.debug_trace_mode"),D=B("react.offscreen"),F=B("react.legacy_hidden")}var U,z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function H(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function V(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case C:return"Portal";case _:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return $(e.type);case L:return $(e._render);case N:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Oe=null;function Ae(e){if(e=Yr(e)){if("function"!=typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ei(t),_e(e.stateNode,e.type,t))}}function je(e){Se?Oe?Oe.push(e):Oe=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Oe;if(Oe=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ie(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Re=Ie,Me=!1,De=!1;function Fe(){null===Se&&null===Oe||(Le(),Pe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(e){Ue=!1}function qe(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var He=!1,We=null,Ge=!1,Ve=null,$e={onError:function(e){He=!0,We=e}};function Qe(e,t,n,r,i,a,o,s,l){He=!1,We=null,qe.apply($e,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(o(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,lt=null,ct=new Map,ut=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ft(t,n,r,i,a),null!==t&&(null!==(t=Yr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Xr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Yr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&vt(ot)&&(ot=null),null!==st&&vt(st)&&(st=null),null!==lt&&vt(lt)&&(lt=null),ct.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&wt(ot,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Et={},Tt={};function _t(e){if(Et[e])return Et[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var St=_t("animationend"),Ot=_t("animationiteration"),At=_t("animationstart"),jt=_t("transitionend"),Pt=new Map,It=new Map,Nt=["abort","abort",St,"animationEnd",Ot,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),It.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Rt=8;function Mt(e){if(0!=(1&e))return Rt=15,1;if(0!=(2&e))return Rt=14,2;if(0!=(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!=(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!=(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!=(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!=(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!=(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Dt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Rt=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(r=Mt(l),i=Rt):0!==(s&=a)&&(r=Mt(s),i=Rt)}else 0!==(a=n&~o)?(r=Mt(a),i=Rt):0!==s&&(r=Mt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Mt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Vt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Jt(e,t,n,r){Me||Le();var i=Xt,a=Me;Me=!0;try{Ne(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Kt(e,t,n,r){$t(Vt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),at.push(e);else{var a=Yt(e,t,n,r);if(null===a)i&&ht(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ft(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ut.set(a,mt(ut.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;ht(e,r)}jr(e,t,r,null,n)}}}function Yt(e,t,n,r){var i=Te(r);if(null!==(i=Xr(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ke(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return jr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=sn(dn),fn=i({},dn,{view:0,detail:0}),hn=sn(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},fn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=sn(i({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Tn}var Sn=sn(i({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),jn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],Nn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Rn=d&&"TextEvent"in window&&!Ln,Mn=d&&(!Nn||Ln&&8<Ln&&11>=Ln),Dn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){je(r),0<(t=Ir(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Vn=null;function $n(e){Er(e,0)}function Qn(e){if(X(Zr(e)))return e}function Jn(e,t){if("change"===e)return t}var Kn=!1;if(d){var Xn;if(d){var Yn="oninput"in document;if(!Yn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Yn="function"==typeof Zn.oninput}Xn=Yn}else Xn=!1;Kn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",tr),Vn=Gn=null)}function tr(e){if("value"===e.propertyName&&Qn(Vn)){var t=[];if(Wn(t,Vn,e,Te(e)),e=$n,Me)e(t);else{Me=!0;try{Ie(e,t)}finally{Me=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Vn=n,(Gn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Vn)}function ir(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function lr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!or(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==hr||hr!==Y(r)||("selectionStart"in(r=hr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Ir(mr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Nt,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<br.length;wr++)It.set(br[wr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var u=We;He=!1,We=null,Ge||(Ge=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=l}}}if(Ge)throw e=Ve,Ge=!1,Ve=null,e}function Tr(e,t){var n=ti(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var _r="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[_r]||(e[_r]=!0,s.forEach((function(t){kr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ti(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Ar(a,e,i,t),o.add(s))}function Ar(e,t,n,r){var i=It.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Kt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Xr(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(De)return e(t,n);De=!0;try{Re(e,t,n)}finally{De=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var l=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case St:case Ot:case At:l=bn;break;case jt:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!=(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Be(h,p))&&u.push(Pr(h,m,f)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Xr(c)&&!c[Jr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xr(c):null)&&(c!==(d=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:Zr(l),f=null==c?s:Zr(c),(s=new u(m,h+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,Xr(i)===r&&((u=new u(p,h+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=Nr(f))h++;for(f=0,m=p;m;m=Nr(m))f++;for(;0<h-f;)u=Nr(u),h--;for(;0<f-h;)p=Nr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Nr(u),p=Nr(p)}u=null}else u=null;null!==l&&Lr(o,s,l,u,!1),null!==c&&null!==d&&Lr(o,d,c,u,!0)}if("select"===(l=(s=r?Zr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Hn(s))if(Kn)g=ar;else{g=rr;var v=nr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?Zr(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(hr=v,mr=r,gr=null);break;case"focusout":gr=mr=hr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(v=Ir(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Er(o,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Pr(e,a,i)),null!=(a=Be(e,t))&&r.push(Pr(e,a,i))),e=e.return}return r}function Nr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Be(n,a))&&o.unshift(Pr(n,l,s)):i||null!=(l=Be(n,a))&&o.push(Pr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Rr(){}var Mr=null,Dr=null;function Fr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"==typeof setTimeout?setTimeout:void 0,zr="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Vr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Vr,Qr="__reactProps$"+Vr,Jr="__reactContainer$"+Vr,Kr="__reactEvents$"+Vr;function Xr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[$r])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[$r]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Zr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ei(e){return e[Qr]||null}function ti(e){var t=e[Kr];return void 0===t&&(t=e[Kr]=new Set),t}var ni=[],ri=-1;function ii(e){return{current:e}}function ai(e){0>ri||(e.current=ni[ri],ni[ri]=null,ri--)}function oi(e,t){ri++,ni[ri]=e.current,e.current=t}var si={},li=ii(si),ci=ii(!1),ui=si;function di(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!=(e=e.childContextTypes)}function fi(){ai(ci),ai(li)}function hi(e,t,n){if(li.current!==si)throw Error(o(168));oi(li,t),oi(ci,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,$(t)||"Unknown",a));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,ui=li.current,oi(li,e),oi(ci,ci.current),!0}function vi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=mi(e,t,ui),r.__reactInternalMemoizedMergedChildContext=e,ai(ci),ai(li),oi(li,e)):ai(ci),oi(ci,n)}var yi=null,bi=null,wi=a.unstable_runWithPriority,xi=a.unstable_scheduleCallback,ki=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ei=a.unstable_requestPaint,Ti=a.unstable_now,_i=a.unstable_getCurrentPriorityLevel,Si=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,ji=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Ii={},Ni=void 0!==Ei?Ei:function(){},Li=null,Ri=null,Mi=!1,Di=Ti(),Fi=1e4>Di?Ti:function(){return Ti()-Di};function Bi(){switch(_i()){case Si:return 99;case Oi:return 98;case Ai:return 97;case ji:return 96;case Pi:return 95;default:throw Error(o(332))}}function Ui(e){switch(e){case 99:return Si;case 98:return Oi;case 97:return Ai;case 96:return ji;case 95:return Pi;default:throw Error(o(332))}}function zi(e,t){return e=Ui(e),wi(e,t)}function qi(e,t,n){return e=Ui(e),xi(e,t,n)}function Hi(){if(null!==Ri){var e=Ri;Ri=null,ki(e)}Wi()}function Wi(){if(!Mi&&null!==Li){Mi=!0;var e=0;try{var t=Li;zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),xi(Si,Hi),t}finally{Mi=!1}}}var Gi=x.ReactCurrentBatchConfig;function Vi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ii(null),Qi=null,Ji=null,Ki=null;function Xi(){Ki=Ji=Qi=null}function Yi(e){var t=$i.current;ai($i),e.type._context._currentValue=t}function Zi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ea(e,t){Qi=e,Ki=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Io=!0),e.firstContext=null)}function ta(e,t){if(Ki!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ki=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Qi)throw Error(o(308));Ji=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,r){var a=e.updateQueue;na=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=c)}}if(null!==o){for(p=a.baseState,s=0,d=u=c=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){p=h.call(f,p,l);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=m.payload)?h.call(f,p,l):h))break e;p=i({},p,l);break e;case 2:na=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,Ls|=s,e.lanes=s,e.memoizedState=p}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ua=(new r.Component).refs;function da(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=al(),i=ol(e),a=aa(r,i);a.payload=t,null!=n&&(a.callback=n),oa(e,a),sl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=al(),i=ol(e),a=aa(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),oa(e,a),sl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=al(),r=ol(e),i=aa(n,r);i.tag=2,null!=t&&(i.callback=t),oa(e,i),sl(e,r,n)}};function fa(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ha(e,t,n){var r=!1,i=si,a=t.contextType;return"object"==typeof a&&null!==a?a=ta(a):(i=pi(t)?ui:li.current,a=(r=null!=(r=t.contextTypes))?di(e,i):si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,ra(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ta(a):(a=pi(t)?ui:li.current,i.context=di(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var va=Array.isArray;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ua&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ba(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Ul(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ul(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case C:return(t=Wl(t,e.mode,n)).return=e,t}if(va(t)||q(t))return(t=zl(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null}if(va(n)||q(n))return null!==i?null:d(e,t,n,r,null);ba(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(va(r)||q(r))return d(t,e=e.get(n)||null,r,i,null);ba(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=q(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,a,l){var c="object"==typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case k:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ya(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=zl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Ul(a.type,a.key,a.props,null,e.mode,l)).ref=ya(e,r,a),l.return=e,e=l)}return s(e);case C:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Hl(a,e.mode,l)).return=e,e=r),s(e);if(va(a))return m(e,r,a,l);if(q(a))return g(e,r,a,l);if(u&&ba(e,a),void 0===a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,$(e.type)||"Component"))}return n(e,r)}}var xa=wa(!0),ka=wa(!1),Ca={},Ea=ii(Ca),Ta=ii(Ca),_a=ii(Ca);function Sa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(oi(_a,t),oi(Ta,e),oi(Ea,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Ea),oi(Ea,t)}function Aa(){ai(Ea),ai(Ta),ai(_a)}function ja(e){Sa(_a.current);var t=Sa(Ea.current),n=he(t,e.type);t!==n&&(oi(Ta,e),oi(Ea,n))}function Pa(e){Ta.current===e&&(ai(Ea),ai(Ta))}var Ia=ii(0);function Na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Ra=null,Ma=!1;function Da(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Fa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ba(e){if(Ma){var t=Ra;if(t){var n=t;if(!Fa(e,t)){if(!(t=Hr(n.nextSibling))||!Fa(e,t))return e.flags=-1025&e.flags|2,Ma=!1,void(La=e);Da(La,n)}La=e,Ra=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Ma=!1,La=e}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function za(e){if(e!==La)return!1;if(!Ma)return Ua(e),Ma=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Ra;t;)Da(e,t),t=Hr(t.nextSibling);if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=La?Hr(e.stateNode.nextSibling):null;return!0}function qa(){Ra=La=null,Ma=!1}var Ha=[];function Wa(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Ga=x.ReactCurrentDispatcher,Va=x.ReactCurrentBatchConfig,$a=0,Qa=null,Ja=null,Ka=null,Xa=!1,Ya=!1;function Za(){throw Error(o(321))}function eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function to(e,t,n,r,i,a){if($a=a,Qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=null===e||null===e.memoizedState?Oo:Ao,e=n(r,i),Ya){a=0;do{if(Ya=!1,!(25>a))throw Error(o(301));a+=1,Ka=Ja=null,t.updateQueue=null,Ga.current=jo,e=n(r,i)}while(Ya)}if(Ga.current=So,t=null!==Ja&&null!==Ja.next,$a=0,Ka=Ja=Qa=null,Xa=!1,t)throw Error(o(300));return e}function no(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Qa.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function ro(){if(null===Ja){var e=Qa.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===Ka?Qa.memoizedState:Ka.next;if(null!==t)Ka=t,Ja=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Ka?Qa.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function io(e,t){return"function"==typeof t?t(e):t}function ao(e){var t=ro(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ja,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,c=i;do{var u=c.lane;if(($a&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,Qa.lanes|=u,Ls|=u}c=c.next}while(null!==c&&c!==i);null===l?a=r:l.next=s,or(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function oo(e){var t=ro(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);or(a,t.memoizedState)||(Io=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function so(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ha.push(t))),e)return n(t._source);throw Ha.push(t),Error(o(350))}function lo(e,t,n,r){var i=_s;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=Ga.current,c=l.useState((function(){return so(i,t,n)})),u=c[1],d=c[0];c=Ka;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var g=Qa;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=a(t._source);if(!or(s,e)){e=n(t._source),or(d,e)||(u(e),e=ol(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Ht(o),c=1<<l;r[l]|=e,o&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=ol(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),or(h,n)&&or(m,t)&&or(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:io,lastRenderedState:d}).dispatch=u=_o.bind(null,Qa,e),c.queue=e,c.baseQueue=null,d=so(i,t,n),c.memoizedState=c.baseState=d),d}function co(e,t,n){return lo(ro(),e,t,n)}function uo(e){var t=no();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:io,lastRenderedState:e}).dispatch=_o.bind(null,Qa,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qa.updateQueue)?(t={lastEffect:null},Qa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fo(e){return e={current:e},no().memoizedState=e}function ho(){return ro().memoizedState}function mo(e,t,n,r){var i=no();Qa.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function go(e,t,n,r){var i=ro();r=void 0===r?null:r;var a=void 0;if(null!==Ja){var o=Ja.memoizedState;if(a=o.destroy,null!==r&&eo(r,o.deps))return void po(t,n,a,r)}Qa.flags|=e,i.memoizedState=po(1|t,n,a,r)}function vo(e,t){return mo(516,4,e,t)}function yo(e,t){return go(516,4,e,t)}function bo(e,t){return go(4,2,e,t)}function wo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xo(e,t,n){return n=null!=n?n.concat([e]):null,go(4,2,wo.bind(null,t,e),n)}function ko(){}function Co(e,t){var n=ro();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=ro();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function To(e,t){var n=Bi();zi(98>n?98:n,(function(){e(!0)})),zi(97<n?97:n,(function(){var n=Va.transition;Va.transition=1;try{e(!1),t()}finally{Va.transition=n}}))}function _o(e,t,n){var r=al(),i=ol(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Qa||null!==o&&o===Qa)Ya=Xa=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,or(l,s))return}catch(e){}sl(e,i,r)}}var So={readContext:ta,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useMutableSource:Za,useOpaqueIdentifier:Za,unstable_isNewReconciler:!1},Oo={readContext:ta,useCallback:function(e,t){return no().memoizedState=[e,void 0===t?null:t],e},useContext:ta,useEffect:vo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,mo(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=no();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=no();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_o.bind(null,Qa,e),[r.memoizedState,e]},useRef:fo,useState:uo,useDebugValue:ko,useDeferredValue:function(e){var t=uo(e),n=t[0],r=t[1];return vo((function(){var t=Va.transition;Va.transition=1;try{r(e)}finally{Va.transition=t}}),[e]),n},useTransition:function(){var e=uo(!1),t=e[0];return fo(e=To.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=no();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Ma){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(o(355))})),n=uo(t)[1];return 0==(2&Qa.mode)&&(Qa.flags|=516,po(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return uo(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Ao={readContext:ta,useCallback:Co,useContext:ta,useEffect:yo,useImperativeHandle:xo,useLayoutEffect:bo,useMemo:Eo,useReducer:ao,useRef:ho,useState:function(){return ao(io)},useDebugValue:ko,useDeferredValue:function(e){var t=ao(io),n=t[0],r=t[1];return yo((function(){var t=Va.transition;Va.transition=1;try{r(e)}finally{Va.transition=t}}),[e]),n},useTransition:function(){var e=ao(io)[0];return[ho().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return ao(io)[0]},unstable_isNewReconciler:!1},jo={readContext:ta,useCallback:Co,useContext:ta,useEffect:yo,useImperativeHandle:xo,useLayoutEffect:bo,useMemo:Eo,useReducer:oo,useRef:ho,useState:function(){return oo(io)},useDebugValue:ko,useDeferredValue:function(e){var t=oo(io),n=t[0],r=t[1];return yo((function(){var t=Va.transition;Va.transition=1;try{r(e)}finally{Va.transition=t}}),[e]),n},useTransition:function(){var e=oo(io)[0];return[ho().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return oo(io)[0]},unstable_isNewReconciler:!1},Po=x.ReactCurrentOwner,Io=!1;function No(e,t,n,r){t.child=null===e?ka(t,null,n,r):xa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return ea(t,i),r=to(e,t,n,r,a,i),null===e||Io?(t.flags|=1,No(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,es(e,t,i))}function Ro(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||Fl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ul(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Mo(e,t,o,r,i,a))}return o=e.child,0==(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?es(e,t,a):(t.flags|=1,(e=Bl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Mo(e,t,n,r,i,a){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Io=!1,0==(a&i))return t.lanes=e.lanes,es(e,t,a);0!=(16384&e.flags)&&(Io=!0)}return Bo(e,t,n,r,a)}function Do(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ml(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ml(t,e),null;t.memoizedState={baseLanes:0},ml(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ml(t,r);return No(e,t,i,n),t.child}function Fo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bo(e,t,n,r,i){var a=pi(n)?ui:li.current;return a=di(t,a),ea(t,i),n=to(e,t,n,r,a,i),null===e||Io?(t.flags|=1,No(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,es(e,t,i))}function Uo(e,t,n,r,i){if(pi(n)){var a=!0;gi(t)}else a=!1;if(ea(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ha(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=ta(c):c=di(t,c=pi(n)?ui:li.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ma(t,o,r,c),na=!1;var p=t.memoizedState;o.state=p,la(t,r,o,i),l=t.memoizedState,s!==r||p!==l||ci.current||na?("function"==typeof u&&(da(t,n,u,r),l=t.memoizedState),(s=na||fa(t,n,s,r,p,l,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ia(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Vi(t.type,s),o.props=c,d=t.pendingProps,p=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=ta(l):l=di(t,l=pi(n)?ui:li.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||p!==l)&&ma(t,o,r,l),na=!1,p=t.memoizedState,o.state=p,la(t,r,o,i);var h=t.memoizedState;s!==d||p!==h||ci.current||na?("function"==typeof f&&(da(t,n,f,r),h=t.memoizedState),(c=na||fa(t,n,c,r,p,h,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){Fo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&vi(t,n,!1),es(e,t,a);r=t.stateNode,Po.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):No(e,t,s,a),t.memoizedState=r.state,i&&vi(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&hi(0,t.context,!1),Oa(e,t.containerInfo)}var Ho,Wo,Go,Vo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ia.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),oi(Ia,1&a),null===e?(void 0!==i.fallback&&Ba(t),e=i.children,a=i.fallback,o?(e=Qo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Vo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Vo,t.lanes=33554432,e):((n=ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Ko(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Vo,i):(n=Jo(e,t,i.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=ql(t,i,0,null),n=zl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Jo(e,t,n,r){var i=e.child;return e=i.sibling,n=Bl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ko(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bl(o,s),null!==e?r=Bl(e,r):(r=zl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Xo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Zi(e.return,t)}function Yo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function Zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(No(e,t,r.children,n),0!=(2&(r=Ia.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xo(e,n);else if(19===e.tag)Xo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oi(Ia,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yo(t,!0,n,null,a,t.lastEffect);break;case"together":Yo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!Ma)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&fi(),null;case 3:return Aa(),ai(ci),ai(li),Wa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(za(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Pa(t);var a=Sa(_a.current);if(n=t.type,null!==e&&null!=t.stateNode)Wo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Sa(Ea.current),za(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Qr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Tr(xr[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":le(r,s),Tr("invalid",r)}for(var c in Ce(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Tr("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Qr]=r,Ho(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),a=r;break;case"iframe":case"object":case"embed":Tr("load",e),a=r;break;case"video":case"audio":for(a=0;a<xr.length;a++)Tr(xr[a],e);a=r;break;case"source":Tr("error",e),a=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),a=r;break;case"details":Tr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Tr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":le(e,r),a=se(e,r),Tr("invalid",e);break;default:a=r}Ce(n,a);var u=a;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Tr("scroll",e):null!=d&&w(e,s,d,c))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Rr)}Fr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Sa(_a.current),Sa(Ea.current),za(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ai(Ia),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&za(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ia.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===_s||0==(134217727&Ls)&&0==(134217727&Rs)||dl(_s,Os))),(r||n)&&(t.flags|=4),null);case 4:return Aa(),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return Yi(t),null;case 17:return pi(t.type)&&fi(),null;case 19:if(ai(Ia),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)ts(r,!1);else{if(0!==Ps||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Na(e))){for(t.flags|=64,ts(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oi(Ia,1&Ia.current|2),t.child}e=e.sibling}null!==r.tail&&Fi()>Bs&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Na(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ma)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=Ia.current,oi(Ia,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function rs(e){switch(e.tag){case 1:pi(e.type)&&fi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Aa(),ai(ci),ai(li),Wa(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Pa(e),null;case 13:return ai(Ia),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Ia),null;case 4:return Aa(),null;case 10:return Yi(e),null;case 23:case 24:return gl(),null;default:return null}}function is(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function as(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Sa(Ea.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(d in Ce(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var c=a[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Tr("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===R?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),as(0,t)},n}function ls(e,t,n){(n=aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return as(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),as(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cs="function"==typeof WeakSet?WeakSet:Set;function us(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nl(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Vi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(jl(n,e),Al(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Vi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ca(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ca(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Fr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function hs(e,t){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(yi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))jl(t,n);else{r=t;try{i()}catch(e){Nl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(us(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Nl(t,e)}break;case 5:us(t);break;case 4:ys(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Rr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ys(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(hs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(hs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ve(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Fs=Fi(),fs(t.child,!0)),void ws(t);case 19:return void ws(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(o(163))}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var r=Rl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Cs=x.ReactCurrentDispatcher,Es=x.ReactCurrentOwner,Ts=0,_s=null,Ss=null,Os=0,As=0,js=ii(0),Ps=0,Is=null,Ns=0,Ls=0,Rs=0,Ms=0,Ds=null,Fs=0,Bs=1/0;function Us(){Bs=Fi()+500}var zs,qs=null,Hs=!1,Ws=null,Gs=null,Vs=!1,$s=null,Qs=90,Js=[],Ks=[],Xs=null,Ys=0,Zs=null,el=-1,tl=0,nl=0,rl=null,il=!1;function al(){return 0!=(48&Ts)?Fi():-1!==el?el:el=Fi()}function ol(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===tl&&(tl=Ns),0!==Gi.transition){0!==nl&&(nl=null!==Ds?Ds.pendingLanes:0),e=tl;var t=4186112&~nl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Bi(),0!=(4&Ts)&&98===e?e=Bt(12,tl):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tl),e}function sl(e,t,n){if(50<Ys)throw Ys=0,Zs=null,Error(o(185));if(null===(e=ll(e,t)))return null;qt(e,t,n),e===_s&&(Rs|=t,4===Ps&&dl(e,Os));var r=Bi();1===t?0!=(8&Ts)&&0==(48&Ts)?pl(e):(cl(e,n),0===Ts&&(Us(),Hi())):(0==(4&Ts)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),cl(e,n)),Ds=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ht(s),c=1<<l,u=a[l];if(-1===u){if(0==(c&r)||0!=(c&i)){u=t,Mt(c);var d=Rt;a[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Dt(e,e===_s?Os:0),t=Rt,0===r)null!==n&&(n!==Ii&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ii&&ki(n)}15===t?(n=pl.bind(null,e),null===Li?(Li=[n],Ri=xi(Si,Wi)):Li.push(n),n=Ii):14===t?n=qi(99,pl.bind(null,e)):n=qi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ul.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ul(e){if(el=-1,nl=tl=0,0!=(48&Ts))throw Error(o(327));var t=e.callbackNode;if(Ol()&&e.callbackNode!==t)return null;var n=Dt(e,e===_s?Os:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var a=bl();for(_s===e&&Os===r||(Us(),vl(e,r));;)try{kl();break}catch(t){yl(e,t)}if(Xi(),Cs.current=a,Ts=i,null!==Ss?r=0:(_s=null,Os=0,r=Ps),0!=(Ns&Rs))vl(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=wl(e,n))),1===r)throw t=Is,vl(e,0),dl(e,n),cl(e,Fi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Tl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(r=Fs+500-Fi())){if(0!==Dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){al(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ur(Tl.bind(null,e),r);break}Tl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Fi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Ur(Tl.bind(null,e),n);break}Tl(e);break;case 5:Tl(e);break;default:throw Error(o(329))}}return cl(e,Fi()),e.callbackNode===t?ul.bind(null,e):null}function dl(e,t){for(t&=~Ms,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function pl(e){if(0!=(48&Ts))throw Error(o(327));if(Ol(),e===_s&&0!=(e.expiredLanes&Os)){var t=Os,n=wl(e,t);0!=(Ns&Rs)&&(n=wl(e,t=Dt(e,t)))}else n=wl(e,t=Dt(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=wl(e,t))),1===n)throw n=Is,vl(e,0),dl(e,t),cl(e,Fi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e),cl(e,Fi()),null}function fl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Us(),Hi())}}function hl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Us(),Hi())}}function ml(e,t){oi(js,As),As|=t,Ns|=t}function gl(){As=js.current,ai(js)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,zr(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fi();break;case 3:Aa(),ai(ci),ai(li),Wa();break;case 5:Pa(r);break;case 4:Aa();break;case 13:case 19:ai(Ia);break;case 10:Yi(r);break;case 23:case 24:gl()}n=n.return}_s=e,Ss=Bl(e.current,null),Os=As=Ns=t,Ps=0,Is=null,Ms=Rs=Ls=0}function yl(e,t){for(;;){var n=Ss;try{if(Xi(),Ga.current=So,Xa){for(var r=Qa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xa=!1}if($a=0,Ka=Ja=Qa=null,Ya=!1,Es.current=null,null===n||null===n.return){Ps=1,Is=t,Ss=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Os,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Ia.current),p=o;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=p.updateQueue;if(null===g){var v=new Set;v.add(c),p.updateQueue=v}else g.add(c);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=aa(-1,1);y.tag=2,oa(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new os,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var w=Ll.bind(null,a,c,s);c.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error(($(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),l=is(l,s),p=o;do{switch(p.tag){case 3:a=l,p.flags|=4096,t&=-t,p.lanes|=t,sa(p,ss(0,a,t));break e;case 1:a=l;var x=p.type,k=p.stateNode;if(0==(64&p.flags)&&("function"==typeof x.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,sa(p,ls(p,a,t));break e}}p=p.return}while(null!==p)}El(n)}catch(e){t=e,Ss===n&&null!==n&&(Ss=n=n.return);continue}break}}function bl(){var e=Cs.current;return Cs.current=So,null===e?So:e}function wl(e,t){var n=Ts;Ts|=16;var r=bl();for(_s===e&&Os===t||vl(e,t);;)try{xl();break}catch(t){yl(e,t)}if(Xi(),Ts=n,Cs.current=r,null!==Ss)throw Error(o(261));return _s=null,Os=0,Ps}function xl(){for(;null!==Ss;)Cl(Ss)}function kl(){for(;null!==Ss&&!Ci();)Cl(Ss)}function Cl(e){var t=zs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?El(e):Ss=t,Es.current=null}function El(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ns(n,t,As)))return void(Ss=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(Ss=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ss=t);Ss=t=e}while(null!==t);0===Ps&&(Ps=5)}function Tl(e){var t=Bi();return zi(99,_l.bind(null,e,t)),null}function _l(e,t){do{Ol()}while(null!==$s);if(0!=(48&Ts))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var c=31-Ht(a),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,a&=~u}if(null!==Xs&&0==(24&r)&&Xs.has(e)&&Xs.delete(e),e===_s&&(Ss=_s=null,Os=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Es.current=null,Mr=Qt,pr(s=dr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,a=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,h=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==l||0!==a&&3!==g.nodeType||(p=d+a),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===l&&++h===a&&(p=d),v===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Dr={focusedElem:s,selectionRange:l},Qt=!1,rl=null,il=!1,qs=r;do{try{Sl()}catch(e){if(null===qs)throw Error(o(330));Nl(qs,e),qs=qs.nextEffect}}while(null!==qs);rl=null,qs=r;do{try{for(s=e;null!==qs;){var b=qs.flags;if(16&b&&ve(qs.stateNode,""),128&b){var w=qs.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:vs(qs),qs.flags&=-3;break;case 6:vs(qs),qs.flags&=-3,bs(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,bs(qs.alternate,qs);break;case 4:bs(qs.alternate,qs);break;case 8:ys(s,l=qs);var k=l.alternate;ms(l),null!==k&&ms(k)}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(o(330));Nl(qs,e),qs=qs.nextEffect}}while(null!==qs);if(x=Dr,w=dr(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,k=Math.min(s.start,l),s=void 0===s.end?k:Math.min(s.end,l),!x.extend&&k>s&&(l=s,s=k,k=l),l=ur(b,k),a=ur(b,s),l&&a&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),k>s?(x.addRange(w),x.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Qt=!!Mr,Dr=Mr=null,e.current=n,qs=r;do{try{for(b=e;null!==qs;){var C=qs.flags;if(36&C&&ps(b,qs.alternate,qs),128&C){w=void 0;var E=qs.ref;if(null!==E){var T=qs.stateNode;switch(qs.tag){case 5:w=T;break;default:w=T}"function"==typeof E?E(w):E.current=w}}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(o(330));Nl(qs,e),qs=qs.nextEffect}}while(null!==qs);qs=null,Ni(),Ts=i}else e.current=n;if(Vs)Vs=!1,$s=e,Qs=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((C=qs).sibling=null,C.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===Zs?Ys++:(Ys=0,Zs=e):Ys=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(yi,n,void 0,64==(64&n.current.flags))}catch(e){}if(cl(e,Fi()),Hs)throw Hs=!1,e=Ws,Ws=null,e;return 0!=(8&Ts)||Hi(),null}function Sl(){for(;null!==qs;){var e=qs.alternate;il||null===rl||(0!=(8&qs.flags)?Ze(qs,rl)&&(il=!0):13===qs.tag&&xs(e,qs)&&Ze(qs,rl)&&(il=!0));var t=qs.flags;0!=(256&t)&&ds(e,qs),0==(512&t)||Vs||(Vs=!0,qi(97,(function(){return Ol(),null}))),qs=qs.nextEffect}}function Ol(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,zi(e,Pl)}return!1}function Al(e,t){Js.push(t,e),Vs||(Vs=!0,qi(97,(function(){return Ol(),null})))}function jl(e,t){Ks.push(t,e),Vs||(Vs=!0,qi(97,(function(){return Ol(),null})))}function Pl(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Ts))throw Error(o(331));var t=Ts;Ts|=32;var n=Ks;Ks=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(o(330));Nl(a,e)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===a)throw Error(o(330));Nl(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ts=t,Hi(),!0}function Il(e,t,n){oa(e,t=ss(0,t=is(n,t),1)),t=al(),null!==(e=ll(e,1))&&(qt(e,1,t),cl(e,t))}function Nl(e,t){if(3===e.tag)Il(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Il(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=ls(n,e=is(t,e),1);if(oa(n,i),i=al(),null!==(n=ll(n,1)))qt(n,1,i),cl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ll(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=al(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Os&n)===n&&(4===Ps||3===Ps&&(62914560&Os)===Os&&500>Fi()-Fs?vl(e,0):Ms|=n),cl(e,t)}function Rl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===tl&&(tl=Ns),0===(t=Ut(62914560&~tl))&&(t=4194304))),n=al(),null!==(e=ll(e,t))&&(qt(e,t,n),cl(e,n))}function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Ml(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Fl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return zl(n.children,i,a,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case _:return(e=Dl(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case j:return(e=Dl(13,n,t,i)).type=j,e.elementType=j,e.lanes=a,e;case P:return(e=Dl(19,n,t,i)).elementType=P,e.lanes=a,e;case D:return ql(n,i,a,t);case F:return(e=Dl(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case O:s=9;break e;case A:s=11;break e;case I:s=14;break e;case N:s=16,r=null;break e;case L:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zl(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){return(e=Dl(23,e,r,t)).elementType=D,e.lanes=n,e}function Hl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,r){var i=t.current,a=al(),s=ol(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=mi(n,c,l);break e}}n=l}else n=si;return null===t.context?t.context=n:t.pendingContext=n,(t=aa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oa(i,t),sl(i,s,a),s}function Ql(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function Xl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=Dl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ra(t),e[Jr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Ql(o);s.call(e)}}$l(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Ql(o);l.call(e)}}hl((function(){$l(t,o,e,i)}))}return Ql(o)}function ec(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return Vl(e,t,null,n)}zs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Io=!0;else{if(0==(n&r)){switch(Io=!1,t.tag){case 3:qo(t),qa();break;case 5:ja(t);break;case 1:pi(t.type)&&gi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;oi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$o(e,t,n):(oi(Ia,1&Ia.current),null!==(t=es(e,t,n))?t.sibling:null);oi(Ia,1&Ia.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Zo(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),oi(Ia,Ia.current),r)break;return null;case 23:case 24:return t.lanes=0,Do(e,t,n)}return es(e,t,n)}Io=0!=(16384&e.flags)}else Io=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),ea(t,n),i=to(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;gi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ra(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&da(t,r,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,No(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Fl(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(i),e=Vi(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=Uo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Ro(null,t,i,Vi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ia(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)qa(),t=es(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ra=Hr(t.stateNode.containerInfo.firstChild),La=t,a=Ma=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ha.push(a);for(n=ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else No(e,t,r,n),qa();t=t.child}return t;case 5:return ja(t),null===e&&Ba(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==a&&Br(r,a)&&(t.flags|=16),Fo(e,t),No(e,t,s,n),t.child;case 6:return null===e&&Ba(t),null;case 13:return $o(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(oi($i,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=or(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!ci.current){t=es(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&a)){1===l.tag&&((u=aa(-1,n&-n)).tag=2,oa(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Zi(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}No(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ea(t,n),r=r(i=ta(i,a.unstable_observedBits)),t.flags|=1,No(e,t,r,n),t.child;case 14:return a=Vi(i=t.type,t.pendingProps),Ro(e,t,i,a=Vi(i.type,a),r,n);case 15:return Mo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,gi(t)):e=!1,ea(t,n),ha(t,r,i),ga(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return Zo(e,t,n);case 23:case 24:return Do(e,t,n)}throw Error(o(156,t.tag))},Xl.prototype.render=function(e){$l(e,this._internalRoot,null,null)},Xl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[Jr]=null}))},et=function(e){13===e.tag&&(sl(e,4,al()),Kl(e,4))},tt=function(e){13===e.tag&&(sl(e,67108864,al()),Kl(e,67108864))},nt=function(e){if(13===e.tag){var t=al(),n=ol(e);sl(e,n,t),Kl(e,n)}},rt=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ei(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ie=fl,Ne=function(e,t,n,r,i){var a=Ts;Ts|=4;try{return zi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=a)&&(Us(),Hi())}},Le=function(){0==(49&Ts)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,Fi())}))}Hi()}(),Ol())},Re=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Us(),Hi())}};var tc={Events:[Yr,Zr,ei,je,Pe,Ol,{current:!1}]},nc={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{yi=ic.inject(rc),bi=ic}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=ec,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!=(48&n))return e(t);Ts|=1;try{if(e)return zi(99,e.bind(null,t))}finally{Ts=n,Hi()}},t.hydrate=function(e,t,n){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(o(40));return!!e._reactRootContainer&&(hl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=fl,t.unstable_createPortal=function(e,t){return ec(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(289)},function(e,t,n){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,a,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,d=null,p=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(p,0),e}};r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(p,0))},i=function(e,t){d=setTimeout(e,t)},a=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?k.postMessage(null):(g=!1,v=null)}catch(e){throw k.postMessage(null),e}}else g=!1},r=function(e){v=e,g||(g=!0,k.postMessage(null))},i=function(e,n){y=f((function(){e(t.unstable_now())}),n)},a=function(){h(y),y=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>_(o,n))void 0!==l&&0>_(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>_(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],O=[],A=1,j=null,P=3,I=!1,N=!1,L=!1;function R(e){for(var t=E(O);null!==t;){if(null===t.callback)T(O);else{if(!(t.startTime<=e))break;T(O),t.sortIndex=t.expirationTime,C(S,t)}t=E(O)}}function M(e){if(L=!1,R(e),!N)if(null!==E(S))N=!0,r(D);else{var t=E(O);null!==t&&i(M,t.startTime-e)}}function D(e,n){N=!1,L&&(L=!1,a()),I=!0;var r=P;try{for(R(n),j=E(S);null!==j&&(!(j.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=j.callback;if("function"==typeof o){j.callback=null,P=j.priorityLevel;var s=o(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?j.callback=s:j===E(S)&&T(S),R(n)}else T(S);j=E(S)}if(null!==j)var l=!0;else{var c=E(O);null!==c&&i(M,c.startTime-n),l=!1}return l}finally{j=null,P=r,I=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||I||(N=!0,r(D))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:A++,callback:n,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,C(O,e),null===E(S)&&e===E(O)&&(L?a():L=!0,i(M,o-s))):(e.sortIndex=l,C(S,e),N||I||(N=!0,r(D))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pane=void 0;var i=n(8),a=n(291);t.Pane=function(e){var t=e.subject,n=e.context.session.store,o=a.useNote(t,n);return i.createElement(a.NoteCard,r({},o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNote=t.NoteCard=void 0;var r=n(292);Object.defineProperty(t,"NoteCard",{enumerable:!0,get:function(){return r.NoteCard}});var i=n(299);Object.defineProperty(t,"useNote",{enumerable:!0,get:function(){return i.useNote}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoteCard=void 0;var r=n(8),i=n(417),a=n(297),o=n(298),s=i.createUseStyles({card:{fontFamily:"sans-serif",display:"flex",flexWrap:"wrap",borderRadius:"4px",flexDirection:"column",justifyContent:"center",padding:"1em",boxShadow:"0 1px 5px rgba(0,0,0,0.2)",transition:"all .25s ease-in-out",maxWidth:632},content:{fontSize:"larger"},date:{color:"rgb(0, 0, 0, 60%)"},attribution:{display:"flex",alignItems:"center",fontWeight:"bold","& a":{color:"black",textDecoration:"none"},"& a:hover":{textDecoration:"underline"},"& img":{marginRight:5,width:47,borderRadius:5}}});t.NoteCard=function(e){var t=e.content,n=e.published,i=e.attributedTo,l=s();return r.createElement("div",{className:l.card},r.createElement("div",{className:l.attribution},r.createElement(o.AttributionTag,{to:i})),r.createElement("p",{className:l.content},t),r.createElement(a.FormattedDate,{className:l.date,value:n}))}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case o:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case g:case c:return e;default:return t}}case a:return t}}}function C(e){return k(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return C(e)||k(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return k(e)===u},t.isContextProvider=function(e){return k(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===v},t.isMemo=function(e){return k(e)===g},t.isPortal=function(e){return k(e)===a},t.isProfiler=function(e){return k(e)===l},t.isStrictMode=function(e){return k(e)===s},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===y)},t.typeOf=k},function(e,t,n){"use strict";var r=n(295);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormattedDate=void 0;var r=n(8),i=n(415),a={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};t.FormattedDate=function(e){var t=e.value,n=e.className;if(!t)return null;var o=t.toLocaleDateString(void 0,a),s=i.format(t);return r.createElement("p",{className:n},s," · ",o)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributionTag=void 0;var i=n(8),a=n(149);t.AttributionTag=function(e){var t=e.to;return a.isLinkAttribution(t)?i.createElement("a",{href:t.uri},t.uri):a.isPersonAttribution(t)?i.createElement(o,r({},t)):null};var o=function(e){var t=e.webId,n=e.name,r=e.imageSrc;return i.createElement(i.Fragment,null,r&&i.createElement("img",{height:"47",width:"47",alt:n,src:r}),i.createElement("a",{href:t},n))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useNote=void 0;var o=n(300),s=n(149),l=n(8),c=n(150);t.useNote=function(e,t){var n=l.useState(o.read(e,t)),u=n[0],d=n[1];return l.useEffect((function(){!function(){i(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return s.isLinkAttribution(u.attributedTo)?[4,c.fetchAttribution(u.attributedTo,t)]:[3,2];case 1:e=n.sent(),d(r(r({},u),{attributedTo:e})),n.label=2;case 2:return[2]}}))}))}()}),[]),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0;var r=n(0),i=n(150);t.read=function(e,t){var n=t.any(e,r.ns.as("content")),a=t.any(e,r.ns.as("published")),o=i.readAttribution(e,t);return n?{content:n.value,published:a&&new Date(a.value),attributedTo:o}:null}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Pane=void 0;var s=o(n(8)),l=o(n(147)),c=n(3),u=n(0),d=n(151),p=n(302);t.Pane={icon:u.icons.iconBase+"markdown.svg",name:"markdown file",label:function(e){return e.uri.endsWith(".md")?"Handle markdown file":null},mintNew:function(e,t){var n=function(e){var t=e.newBase;t.endsWith("/")&&(t=t.slice(0,-1)+".md");return c.sym(t)}(t);return d.saveMarkdown(u.store,n.uri,"# This is your markdown file\n\nHere be stuff!").then((function(){return r(r({},t),{newInstance:n})})).catch((function(e){return console.error("Error creating new instance of markdown file",e),r(r({},t),{newInstance:n})}))},render:function(e){var t=document.createElement("div");return l.render(s.createElement(p.Container,{store:u.store,subject:e}),t),t}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var o=a(n(8)),s=n(151),l=n(303);t.Container=function(e){var t=o.useState(),n=t[0],r=t[1];if(o.useEffect((function(){s.loadMarkdown(e.store,e.subject.uri).then((function(e){return r(e)})).catch((function(){return r(null)}))})),void 0===n)return o.createElement("section",{"aria-busy":!0},"Loading…");if(null===n)return o.createElement("section",null,"Error loading markdown :(");return o.createElement("section",null,o.createElement(l.View,{markdown:n,onSave:function(t){return s.saveMarkdown(e.store,e.subject.uri,t)}}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var s=a(n(8)),l=o(n(304));t.View=function(e){var t=s.useState("rendering"),n=t[0],r=t[1],i=s.useState(e.markdown),a=i[0],o=i[1];return"saving"===n?s.createElement("span",{"aria-busy":!0},"Loading…"):"editing"===n?s.createElement("form",{onSubmit:function(t){t.preventDefault(),r("saving"),e.onSave(a).then((function(){r("rendering")}))}},s.createElement("textarea",{onChange:function(e){o(e.target.value)},defaultValue:a}),s.createElement("button",{type:"submit"},"RENDER"),","):s.createElement("form",{onSubmit:function(e){e.preventDefault(),r("editing")}},s.createElement(l.default,{source:a}),s.createElement("button",{type:"submit"},"EDIT"))}},function(e,t,n){"use strict";var r=n(121),i=n(305),a=n(317),o=n(45),s=n(363),l=n(365),c=n(369),u=n(370),d=n(371),p=n(372),f=n(373),h=n(374),m=n(375),g=Object.keys(h),v=function(e){var t=e.source||e.children||"";if(e.allowedTypes&&e.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");var n=r(h,e.renderers),o=i().use(a).use(e.plugins||[]),f=o.runSync(o.parse(t)),v=r(e,{renderers:n,definitions:p(f)});return function(e){var t=[d,s()],n=e.disallowedTypes;e.allowedTypes&&(n=g.filter((function(t){return"root"!==t&&-1===e.allowedTypes.indexOf(t)})));var r=e.unwrapDisallowed?"unwrap":"remove";n&&n.length>0&&t.push(c.ofType(n,r));e.allowNode&&t.push(c.ifNotMatch(e.allowNode,r));var i=(e.allowDangerousHtml||!1===e.escapeHtml)&&!e.skipHtml,a=(e.astPlugins||[]).some((function(e){return e.identity===m.HtmlParser}));i&&!a&&t.push(l);e.astPlugins&&(t=t.concat(e.astPlugins));return t.push(u),t}(e).forEach((function(e){f=e(f,v)})),f};v.defaultProps={transformLinkUri:f},v.propTypes={className:o.string,source:o.string,children:o.string,sourcePos:o.bool,rawSourcePos:o.bool,escapeHtml:o.bool,allowDangerousHtml:o.bool,skipHtml:o.bool,allowNode:o.func,allowedTypes:o.arrayOf(o.oneOf(g)),disallowedTypes:o.arrayOf(o.oneOf(g)),transformLinkUri:o.oneOfType([o.func,o.bool]),linkTarget:o.oneOfType([o.func,o.string]),transformImageUri:o.func,astPlugins:o.arrayOf(o.func),unwrapDisallowed:o.bool,renderers:o.object,plugins:o.array},v.types=g,v.renderers=h,v.uriTransformer=f,e.exports=v},function(e,t,n){"use strict";var r=n(306),i=n(152),a=n(307),o=n(308),s=n(309),l=n(311);e.exports=function e(){var t,n=[],i=s(),y={},b=-1;return w.data=function(e,n){if("string"==typeof e)return 2===arguments.length?(m("data",t),y[e]=n,w):u.call(y,e)&&y[e]||null;if(e)return m("data",t),y=e,w;return y},w.freeze=x,w.attachers=n,w.use=function(e){var r;if(m("use",t),null==e);else if("function"==typeof e)u.apply(null,arguments);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?l(e):i(e)}r&&(y.settings=a(y.settings||{},r));return w;function i(e){l(e.plugins),e.settings&&(r=a(r||{},e.settings))}function s(e){if("function"==typeof e)u(e);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?u.apply(null,e):i(e)}}function l(e){var t=-1;if(null==e);else{if("object"!=typeof e||!("length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;)s(e[t])}}function u(e,t){var r=k(e);r?(o(r[1])&&o(t)&&(t=a(!0,r[1],t)),r[1]=t):n.push(c.call(arguments))}},w.parse=function(e){var t,n=l(e);if(x(),f("parse",t=w.Parser),p(t,"parse"))return new t(String(n),n).parse();return t(String(n),n)},w.stringify=function(e,t){var n,r=l(t);if(x(),h("stringify",n=w.Compiler),g(e),p(n,"compile"))return new n(e,r).compile();return n(e,r)},w.run=C,w.runSync=function(e,t){var n,i;return C(e,t,(function(e,t){i=!0,n=t,r(e)})),v("runSync","run",i),n},w.process=E,w.processSync=function(e){var t,n;return x(),f("processSync",w.Parser),h("processSync",w.Compiler),E(t=l(e),(function(e){n=!0,r(e)})),v("processSync","process",n),t},w;function w(){for(var t=e(),r=-1;++r<n.length;)t.use.apply(null,n[r]);return t.data(a(!0,{},y)),t}function x(){var e,r;if(t)return w;for(;++b<n.length;)!1!==(e=n[b])[1]&&(!0===e[1]&&(e[1]=void 0),"function"==typeof(r=e[0].apply(w,e.slice(1)))&&i.use(r));return t=!0,b=1/0,w}function k(e){for(var t=-1;++t<n.length;)if(n[t][0]===e)return n[t]}function C(e,t,n){if(g(e),x(),n||"function"!=typeof t||(n=t,t=null),!n)return new Promise(r);function r(r,a){i.run(e,l(t),(function(t,i,o){i=i||e,t?a(t):r?r(i):n(null,i,o)}))}r(null,n)}function E(e,t){if(x(),f("process",w.Parser),h("process",w.Compiler),!t)return new Promise(n);function n(n,r){var i=l(e);d.run(w,{file:i},(function(e){e?r(e):n?n(i):t(null,i)}))}n(null,t)}}().freeze();var c=[].slice,u={}.hasOwnProperty,d=s().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,n){e.run(t.tree,t.file,(function(e,r,i){e?n(e):(t.tree=r,t.file=i,n())}))})).use((function(e,t){var n=e.stringify(t.tree,t.file);null==n||("string"==typeof n||i(n)?t.file.contents=n:t.file.result=n)}));function p(e,t){return"function"==typeof e&&e.prototype&&(function(e){var t;for(t in e)return!0;return!1}(e.prototype)||t in e.prototype)}function f(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function h(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw new Error("Cannot invoke `"+e+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function g(e){if(!e||"string"!=typeof e.type)throw new Error("Expected node, got `"+e+"`")}function v(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},function(e,t,n){"use strict";e.exports=function(e){if(e)throw e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},l=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=r.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!a)return!1;for(t in e);return void 0===t||r.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,a,o,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(n in t)r=u(d,n),d!==(i=u(t,n))&&(h&&i&&(l(i)||(a=s(i)))?(a?(a=!1,o=r&&s(r)?r:[]):o=r&&l(r)?r:{},c(d,{name:n,newValue:e(h,o,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},function(e,t,n){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},function(e,t,n){"use strict";var r=n(310);e.exports=a,a.wrap=r;var i=[].slice;function a(){var e=[],t={run:function(){var t=-1,n=i.call(arguments,0,-1),a=arguments[arguments.length-1];if("function"!=typeof a)throw new Error("Expected function as last argument, not "+a);function o(s){var l=e[++t],c=i.call(arguments,0),u=c.slice(1),d=n.length,p=-1;if(s)a(s);else{for(;++p<d;)null!==u[p]&&void 0!==u[p]||(u[p]=n[p]);n=u,l?r(l,o).apply(null,n):a.apply(null,[null].concat(n))}}o.apply(null,[null].concat(n))},use:function(n){if("function"!=typeof n)throw new Error("Expected `fn` to be a function, not "+n);return e.push(n),t}};return t}},function(e,t,n){"use strict";var r=[].slice;e.exports=function(e,t){var n;return function(){var t,o=r.call(arguments,0),s=e.length>o.length;s&&o.push(i);try{t=e.apply(null,o)}catch(e){if(s&&n)throw e;return i(e)}s||(t&&"function"==typeof t.then?t.then(a,i):t instanceof Error?i(t):a(t))};function i(){n||(n=!0,t.apply(null,arguments))}function a(e){i(null,e)}}},function(e,t,n){"use strict";e.exports=n(312)},function(e,t,n){"use strict";var r=n(313),i=n(314);e.exports=i,i.prototype.message=function(e,t,n){var i=new r(e,t,n);this.path&&(i.name=this.path+":"+i.name,i.file=this.path);return i.fatal=!1,this.messages.push(i),i},i.prototype.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},i.prototype.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e}},function(e,t,n){"use strict";var r=n(153);function i(){}e.exports=o,i.prototype=Error.prototype,o.prototype=new i;var a=o.prototype;function o(e,t,n){var i,a,o;"string"==typeof t&&(n=t,t=null),i=function(e){var t,n=[null,null];"string"==typeof e&&(-1===(t=e.indexOf(":"))?n[1]=e:(n[0]=e.slice(0,t),n[1]=e.slice(t+1)));return n}(n),a=r(t)||"1:1",o={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(o=t,t=t.start):o.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=a,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=o,this.source=i[0],this.ruleId=i[1]}a.file="",a.name="",a.reason="",a.message="",a.stack="",a.fatal=null,a.column=null,a.line=null},function(e,t,n){"use strict";var r=n(315),i=n(316),a=n(152);e.exports=l;var o={}.hasOwnProperty,s=["history","path","basename","stem","extname","dirname"];function l(e){var t,n;if(e){if("string"==typeof e||a(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof l))return new l(e);for(this.data={},this.messages=[],this.history=[],this.cwd=i.cwd(),n=-1;++n<s.length;)t=s[n],o.call(e,t)&&(this[t]=e[t]);for(t in e)s.indexOf(t)<0&&(this[t]=e[t])}function c(e,t){if(e&&e.indexOf(r.sep)>-1)throw new Error("`"+t+"` cannot be a path: did not expect `"+r.sep+"`")}function u(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function d(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}l.prototype.toString=function(e){return(this.contents||"").toString(e)},Object.defineProperty(l.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){u(e,"path"),this.path!==e&&this.history.push(e)}}),Object.defineProperty(l.prototype,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(e){d(this.path,"dirname"),this.path=r.join(e||"",this.basename)}}),Object.defineProperty(l.prototype,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(e){u(e,"basename"),c(e,"basename"),this.path=r.join(this.dirname||"",e)}}),Object.defineProperty(l.prototype,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(e){if(c(e,"extname"),d(this.path,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=r.join(this.dirname,this.stem+(e||""))}}),Object.defineProperty(l.prototype,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(e){u(e,"stem"),c(e,"stem"),this.path=r.join(this.dirname||"",e+(this.extname||""))}})},function(e,t,n){"use strict";function r(e){var t,n;return i(e),t=47===e.charCodeAt(0),(n=function(e,t){var n,r,i="",a=0,o=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(o===l-1||1===s);else if(o!==l-1&&2===s){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",a=0):(i=i.slice(0,r),a=i.length-1-i.lastIndexOf("/")),o=l,s=0;continue}}else if(i.length){i="",a=0,o=l,s=0;continue}t&&(i=i.length?i+"/..":"..",a=2)}else i.length?i+="/"+e.slice(o+1,l):i=e.slice(o+1,l),a=l-o-1;o=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t)).length||t||(n="."),n.length&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n}function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}t.basename=function(e,t){var n,r,a,o,s=0,l=-1;if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');if(i(e),n=e.length,void 0===t||!t.length||t.length>e.length){for(;n--;)if(47===e.charCodeAt(n)){if(a){s=n+1;break}}else l<0&&(a=!0,l=n+1);return l<0?"":e.slice(s,l)}if(t===e)return"";r=-1,o=t.length-1;for(;n--;)if(47===e.charCodeAt(n)){if(a){s=n+1;break}}else r<0&&(a=!0,r=n+1),o>-1&&(e.charCodeAt(n)===t.charCodeAt(o--)?o<0&&(l=n):(o=-1,l=r));s===l?l=r:l<0&&(l=e.length);return e.slice(s,l)},t.dirname=function(e){var t,n,r;if(i(e),!e.length)return".";t=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(n){t=r;break}}else n||(n=!0);return t<0?47===e.charCodeAt(0)?"/":".":1===t&&47===e.charCodeAt(0)?"//":e.slice(0,t)},t.extname=function(e){var t,n,r,a=-1,o=0,s=-1,l=0;i(e),r=e.length;for(;r--;)if(47!==(n=e.charCodeAt(r)))s<0&&(t=!0,s=r+1),46===n?a<0?a=r:1!==l&&(l=1):a>-1&&(l=-1);else if(t){o=r+1;break}if(a<0||s<0||0===l||1===l&&a===s-1&&a===o+1)return"";return e.slice(a,s)},t.join=function(){var e,t=-1;for(;++t<arguments.length;)i(arguments[t]),arguments[t]&&(e=void 0===e?arguments[t]:e+"/"+arguments[t]);return void 0===e?".":r(e)},t.sep="/"},function(e,t,n){"use strict";t.cwd=function(){return"/"}},function(e,t,n){"use strict";e.exports=function(e){var t=this;this.Parser=function(n){return r(n,Object.assign({},t.data("settings"),e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}};var r=n(318)},function(e,t,n){"use strict";e.exports=n(319)},function(e,t,n){"use strict";e.exports=function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);return function(e){var t=e||{},n=function(e,t){var n=-1;for(;++n<t.length;)f(e,t[n]);return e}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:g(j),autolinkProtocol:k,autolinkEmail:k,atxHeading:g(S),blockQuote:g((function(){return{type:"blockquote",children:[]}})),characterEscape:k,characterReference:k,codeFenced:g(_),codeFencedFenceInfo:v,codeFencedFenceMeta:v,codeIndented:g(_,v),codeText:g((function(){return{type:"inlineCode",value:""}}),v),codeTextData:k,data:k,codeFlowValue:k,definition:g((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:v,definitionLabelString:v,definitionTitleString:v,emphasis:g((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:g(O),hardBreakTrailing:g(O),htmlFlow:g(A,v),htmlFlowData:k,htmlText:g(A,v),htmlTextData:k,image:g((function(){return{type:"image",title:null,url:"",alt:null}})),label:v,link:g(j),listItem:g((function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}})),listItemValue:function(e){h("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(e),10),u("expectingFirstListItemValue"))},listOrdered:g(P,(function(){u("expectingFirstListItemValue",!0)})),listUnordered:g(P),paragraph:g((function(){return{type:"paragraph",children:[]}})),reference:function(){u("referenceType","collapsed")},referenceString:v,resourceDestinationString:v,resourceTitleString:v,setextHeading:g(S),strong:g((function(){return{type:"strong",children:[]}})),thematicBreak:g((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:b(),atxHeadingSequence:function(e){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(e).length)},autolink:b(),autolinkEmail:function(e){C.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){C.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:b(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:T,characterReferenceMarkerNumeric:T,characterReferenceValue:function(e){var t,n,r=this.sliceSerialize(e),i=h("characterReferenceType");i?(t=s(r,"characterReferenceMarkerNumeric"===i?10:16),u("characterReferenceType")):t=d(r);(n=this.stack.pop()).value+=t,n.position.end=m(e.end)},codeFenced:b((function(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u("flowCodeInside")})),codeFencedFence:function(){if(h("flowCodeInside"))return;this.buffer(),u("flowCodeInside",!0)},codeFencedFenceInfo:function(){var e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){var e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:C,codeIndented:b((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),codeText:b((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),codeTextData:C,data:C,definition:b(),definitionDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=o(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:b(),hardBreakEscape:b(E),hardBreakTrailing:b(E),htmlFlow:b((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),htmlFlowData:C,htmlText:b((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),htmlTextData:C,image:b((function(){var e=this.stack[this.stack.length-1];h("inReference")?(e.type+="Reference",e.referenceType=h("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType);u("referenceType")})),label:function(){var e=this.stack[this.stack.length-1],t=this.resume();this.stack[this.stack.length-1].label=t,u("inReference",!0),"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=e.children:this.stack[this.stack.length-1].alt=t},labelText:function(e){this.stack[this.stack.length-2].identifier=o(this.sliceSerialize(e)).toLowerCase()},lineEnding:function(e){var t=this.stack[this.stack.length-1];if(h("atHardBreak"))return t.children[t.children.length-1].position.end=m(e.end),void u("atHardBreak");!h("setextHeadingSlurpLineEnding")&&n.canContainEols.indexOf(t.type)>-1&&(k.call(this,e),C.call(this,e))},link:b((function(){var e=this.stack[this.stack.length-1];h("inReference")?(e.type+="Reference",e.referenceType=h("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType);u("referenceType")})),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:function(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=o(this.sliceSerialize(e)).toLowerCase(),u("referenceType","full")},resourceDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){u("inReference")},setextHeading:b((function(){u("setextHeadingSlurpLineEnding")})),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){u("setextHeadingSlurpLineEnding",!0)},strong:b(),thematicBreak:b()}},t.mdastExtensions||[]),l={};return function(e){var t,r,o={type:"root",children:[]},s=[],l=[],d=-1,f={stack:[o],tokenStack:s,config:n,enter:y,exit:w,buffer:v,resume:x,setData:u,getData:h};for(;++d<e.length;)"listOrdered"!==e[d][1].type&&"listUnordered"!==e[d][1].type||("enter"===e[d][0]?l.push(d):(r=l.pop(d),d=c(e,r,d)));d=-1;for(;++d<e.length;)t=n[e[d][0]],a.call(t,e[d][1].type)&&t[e[d][1].type].call(i({sliceSerialize:e[d][2].sliceSerialize},f),e[d][1]);if(s.length)throw new Error("Cannot close document, a token (`"+s[s.length-1].type+"`, "+p({start:s[s.length-1].start,end:s[s.length-1].end})+") is still open");o.position={start:m(e.length?e[0][1].start:{line:1,column:1,offset:0}),end:m(e.length?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;for(;++d<n.transforms.length;)o=n.transforms[d](o)||o;return o};function c(e,t,n){for(var r,i,a,o,s,l,c,u=t-1,d=-1,p=!1;++u<=n;)if("listUnordered"===(s=e[u])[1].type||"listOrdered"===s[1].type||"blockQuote"===s[1].type?("enter"===s[0]?d++:d--,c=void 0):"lineEndingBlank"===s[1].type?"enter"===s[0]&&(!r||c||d||l||(l=u),c=void 0):"linePrefix"===s[1].type||"listItemValue"===s[1].type||"listItemMarker"===s[1].type||"listItemPrefix"===s[1].type||"listItemPrefixWhitespace"===s[1].type||(c=void 0),!d&&"enter"===s[0]&&"listItemPrefix"===s[1].type||-1===d&&"exit"===s[0]&&("listUnordered"===s[1].type||"listOrdered"===s[1].type)){if(r){for(i=u,a=void 0;i--;)if("lineEnding"===(o=e[i])[1].type||"lineEndingBlank"===o[1].type){if("exit"===o[0])continue;a&&(e[a][1].type="lineEndingBlank",p=!0),o[1].type="lineEnding",a=i}else if("linePrefix"!==o[1].type&&"blockQuotePrefix"!==o[1].type&&"blockQuotePrefixWhitespace"!==o[1].type&&"blockQuoteMarker"!==o[1].type&&"listItemIndent"!==o[1].type)break;l&&(!a||l<a)&&(r._spread=!0),r.end=m(a?e[a][1].start:s[1].end),e.splice(a||u,0,["exit",r,s[2]]),u++,n++}"listItemPrefix"===s[1].type&&(r={type:"listItem",_spread:!1,start:m(s[1].start)},e.splice(u,0,["enter",r,s[2]]),u++,n++,l=void 0,c=!0)}return e[t][1]._spread=p,n}function u(e,t){l[e]=t}function h(e){return l[e]}function m(e){return{line:e.line,column:e.column,offset:e.offset}}function g(e,t){return function(n){y.call(this,e(n),n),t&&t.call(this,n)}}function v(){this.stack.push({type:"fragment",children:[]})}function y(e,t){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push(t),e.position={start:m(t.start)},e}function b(e){return function(t){e&&e.call(this,t);w.call(this,t)}}function w(e){var t=this.stack.pop(),n=this.tokenStack.pop();if(!n)throw new Error("Cannot close `"+e.type+"` ("+p({start:e.start,end:e.end})+"): it’s not open");if(n.type!==e.type)throw new Error("Cannot close `"+e.type+"` ("+p({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+p({start:n.start,end:n.end})+") is open");return t.position.end=m(e.end),t}function x(){return r(this.stack.pop())}function k(e){var t=this.stack[this.stack.length-1].children,n=t[t.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:m(e.start)},this.stack[this.stack.length-1].children.push(n)),this.stack.push(n)}function C(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=m(e.end)}function E(){u("atHardBreak",!0)}function T(e){u("characterReferenceType",e.type)}function _(){return{type:"code",lang:null,meta:null,value:""}}function S(){return{type:"heading",depth:void 0,children:[]}}function O(){return{type:"break"}}function A(){return{type:"html",value:""}}function j(){return{type:"link",title:null,url:"",children:[]}}function P(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(n)(u(l(n).document().write(c()(e,t,!0))))};var r=n(320),i=n(81),a=n(154),o=n(122),s=n(321),l=n(322),c=n(361),u=n(362),d=n(159),p=n(153);function f(e,t){var n,r;for(n in t)r=a.call(e,n)?e[n]:e[n]={},"canContainEols"===n||"transforms"===n?e[n]=[].concat(r,t[n]):Object.assign(r,t[n])}},function(e,t,n){"use strict";function r(e){return e&&(e.value||e.alt||e.title||"children"in e&&i(e.children)||"length"in e&&i(e))||""}function i(e){for(var t=[],n=-1;++n<e.length;)t[n]=r(e[n]);return t.join("")}e.exports=r},function(e,t,n){"use strict";var r=n(93);e.exports=function(e,t){var n=parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"�":r(n)}},function(e,t,n){"use strict";var r=n(323),i=n(324),a=n(325),o=n(157),s=n(328),l=n(329),c=n(123),u=n(332);e.exports=function(e){var t={defined:[],constructs:s([u].concat(c((e||{}).extensions))),content:n(r),document:n(i),flow:n(a),string:n(o.string),text:n(o.text)};return t;function n(e){return function(n){return l(t,e,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(31),a=function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),a(t)}));return n;function a(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,o(n)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):r(t)?(e.consume(t),e.exit("chunkText"),a):(e.consume(t),o)}};t.tokenize=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(31),a=n(94),o=function(e){var t,n,i,o=this,c=[],u=0,d={tokenize:function(e,r){var i=0;return t={},u;function u(r){return i<c.length?(o.containerState=c[i][1],e.attempt(c[i][0].continuation,d,p)(r)):n.currentConstruct&&n.currentConstruct.concrete?(t.flowContinue=!0,m(r)):(o.interrupt=n.currentConstruct&&n.currentConstruct.interruptible,o.containerState={},e.attempt(s,h,m)(r))}function d(e){return i++,o.containerState._closeFlow?h(e):u(e)}function p(t){return n.currentConstruct&&n.currentConstruct.lazy?(o.containerState={},e.attempt(s,h,e.attempt(l,h,e.check(a,h,f)))(t)):h(t)}function f(e){return i=c.length,t.lazy=!0,t.flowContinue=!0,m(e)}function h(e){return t.flowEnd=!0,m(e)}function m(e){return t.continued=i,o.interrupt=o.containerState=void 0,r(e)}},partial:!0};return p;function p(t){return u<c.length?(o.containerState=c[u][1],e.attempt(c[u][0].continuation,f,h)(t)):h(t)}function f(e){return u++,p(e)}function h(r){return t&&t.flowContinue?g(r):(o.interrupt=n&&n.currentConstruct&&n.currentConstruct.interruptible,o.containerState={},e.attempt(s,m,g)(r))}function m(e){return c.push([o.currentConstruct,o.containerState]),o.containerState=void 0,h(e)}function g(t){return null===t?(w(0,!0),void e.consume(t)):(n=n||o.parser.flow(o.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:n}),v(t))}function v(t){return null===t?(b(e.exit("chunkFlow")),g(t)):r(t)?(e.consume(t),b(e.exit("chunkFlow")),e.check(d,y)):(e.consume(t),v)}function y(e){return w(t.continued,t&&t.flowEnd),u=0,p(e)}function b(e){i&&(i.next=e),i=e,n.lazy=t&&t.lazy,n.defineSkip(e.start),n.write(o.sliceStream(e))}function w(t,r){var a=c.length;for(n&&r&&(n.write([null]),i=n=void 0);a-- >t;)o.containerState=c[a][1],c[a][0].exit.call(o,e);c.length=t}},s={tokenize:function(e,t,n){return i(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},l={tokenize:function(e,t,n){return i(e,e.lazy(this.parser.constructs.flow,t,n),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}};t.tokenize=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(326),i=n(31),a=n(94),o=function(e){var t=this,n=e.attempt(a,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,o,i(e,e.attempt(this.parser.constructs.flow,o,e.attempt(r,o)),"linePrefix")));return n;function o(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}};t.tokenize=o},function(e,t,n){"use strict";var r=n(29),i=n(95),a=n(156),o=n(31),s={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?a(t):r(t)?e.check(l,o,a)(t):(e.consume(t),i)}function a(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n=n.next=e.enter("chunkContent",{contentType:"content",previous:n}),i}},resolve:function(e){return a(e),e},interruptible:!0,lazy:!0},l={tokenize:function(e,t,n){var a=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o(e,s,"linePrefix")};function s(o){return null===o||r(o)?n(o):a.parser.constructs.disable.null.indexOf("codeIndented")>-1||i(a.events,"linePrefix")<4?e.interrupt(a.parser.constructs.flow,n,t)(o):t(o)}},partial:!0};e.exports=s},function(e,t,n){"use strict";var r=[].splice;e.exports=r},function(e,t,n){"use strict";var r=n(154),i=n(58),a=n(123);function o(e,t){var n,i,o,l;for(n in t)for(l in i=r.call(e,n)?e[n]:e[n]={},o=t[n])i[l]=s(a(o[l]),r.call(i,l)?i[l]:[])}function s(e,t){for(var n=-1,r=[];++n<e.length;)("after"===e[n].add?t:r).push(e[n]);return i(t,0,0,r),t}e.exports=function(e){for(var t={},n=-1;++n<e.length;)o(t,e[n]);return t}},function(e,t,n){"use strict";var r=n(81),i=n(29),a=n(124),o=n(58),s=n(123),l=n(125),c=n(330),u=n(74),d=n(331);e.exports=function(e,t,n){var p=n?u(n):{line:1,column:1,offset:0},f={},h=[],m=[],g=[],v={consume:function(e){i(e)?(p.line++,p.column=1,p.offset+=-3===e?2:1,S()):-1!==e&&(p.column++,p.offset++);p._bufferIndex<0?p._index++:(p._bufferIndex++,p._bufferIndex===m[p._index].length&&(p._bufferIndex=-1,p._index++));y.previous=e},enter:function(e,t){var n=t||{};return n.type=e,n.start=x(),y.events.push(["enter",n,y]),g.push(n),n},exit:function(e){var t=g.pop();return t.end=x(),y.events.push(["exit",t,y]),t},attempt:T((function(e,t){_(e,t.from)})),check:T(E),interrupt:T(E,{interrupt:!0}),lazy:T(E,{lazy:!0})},y={previous:null,events:[],parser:e,sliceStream:w,sliceSerialize:function(e){return c(w(e))},now:x,defineSkip:function(e){f[e.line]=e.column,S()},write:function(e){if(m=a(m,e),k(),null!==m[m.length-1])return[];return _(t,0),y.events=l(h,y.events,y),y.events}},b=t.tokenize.call(y,v);return t.resolveAll&&h.push(t),p._index=0,p._bufferIndex=-1,y;function w(e){return d(m,e)}function x(){return u(p)}function k(){for(var e,t;p._index<m.length;)if("string"==typeof(t=m[p._index]))for(e=p._index,p._bufferIndex<0&&(p._bufferIndex=0);p._index===e&&p._bufferIndex<t.length;)C(t.charCodeAt(p._bufferIndex));else C(t)}function C(e){b=b(e)}function E(e,t){t.restore()}function T(e,t){return function(n,i,a){var o,l,c,u;return n.tokenize||"length"in n?d(s(n)):function(e){if(e in n||null in n)return d(n.null?s(n[e]).concat(s(n.null)):n[e])(e);return a(e)};function d(e){return o=e,f(e[l=0])}function f(e){return function(n){u=function(){var e=x(),t=y.previous,n=y.currentConstruct,r=y.events.length,i=Array.from(g);return{restore:function(){p=e,y.previous=t,y.currentConstruct=n,y.events.length=r,g=i,S()},from:r}}(),c=e,e.partial||(y.currentConstruct=e);if(e.name&&y.parser.constructs.disable.null.indexOf(e.name)>-1)return m();return e.tokenize.call(t?r({},y,t):y,v,h,m)(n)}}function h(t){return e(c,u),i}function m(e){return u.restore(),++l<o.length?f(o[l]):a}}}function _(e,t){e.resolveAll&&h.indexOf(e)<0&&h.push(e),e.resolve&&o(y.events,t,y.events.length-t,e.resolve(y.events.slice(t),y)),e.resolveTo&&(y.events=e.resolveTo(y.events,y))}function S(){p.line in f&&p.column<2&&(p.column=f[p.line],p.offset+=f[p.line]-1)}}},function(e,t,n){"use strict";var r=n(93);e.exports=function(e){for(var t,n,i,a=-1,o=[];++a<e.length;){if("string"==typeof(t=e[a]))n=t;else if(-5===t)n="\r";else if(-4===t)n="\n";else if(-3===t)n="\r\n";else if(-2===t)n="\t";else if(-1===t){if(i)continue;n=" "}else n=r(t);i=-2===t,o.push(n)}return o.join("")}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=t.start._index,i=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;return r===a?n=[e[r].slice(i,o)]:(n=e.slice(r,a),i>-1&&(n[0]=n[0].slice(i)),o>0&&n.push(e[a].slice(0,o))),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(157),i=n(333),a=n(339),o=n(341),s=n(342),l=n(344),c=n(346),u=n(347),d=n(348),p=n(349),f=n(350),h=n(351),m=n(352),g=n(355),v=n(127),y=n(356),b=n(357),w=n(358),x=n(359),k=n(360),C=n(165),E={42:x,43:x,45:x,48:x,49:x,50:x,51:x,52:x,53:x,54:x,55:x,56:x,57:x,62:o},T={91:p},_={"-2":u,"-1":u,32:u},S={35:h,42:C,45:[k,C],60:m,61:k,95:C,96:c,126:c},O={38:l,92:s},A={"-5":w,"-4":w,"-3":w,33:y,38:l,42:i,60:[a,g],91:b,92:[f,s],93:v,95:i,96:d},j={null:[i,r.resolver]};t.contentInitial=T,t.disable={null:[]},t.document=E,t.flow=S,t.flowInitial=_,t.insideSpan=j,t.string=O,t.text=A},function(e,t,n){"use strict";var r=n(124),i=n(58),a=n(334),o=n(338),s=n(125),l=n(74),c={name:"attention",tokenize:function(e,t){var n,r=a(this.previous);return function(t){return e.enter("attentionSequence"),n=t,i(t)};function i(o){var s,l,c,u;return o===n?(e.consume(o),i):(s=e.exit("attentionSequence"),c=!(l=a(o))||2===l&&r,u=!r||2===r&&l,s._open=42===n?c:c&&(r||!u),s._close=42===n?u:u&&(l||!c),t(o))}},resolveAll:function(e,t){var n,a,c,u,d,p,f,h,m=-1;for(;++m<e.length;)if("enter"===e[m][0]&&"attentionSequence"===e[m][1].type&&e[m][1]._close)for(n=m;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[m][1]).charCodeAt(0)){if((e[n][1]._close||e[m][1]._open)&&(e[m][1].end.offset-e[m][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[m][1].end.offset-e[m][1].start.offset)%3))continue;p=e[n][1].end.offset-e[n][1].start.offset>1&&e[m][1].end.offset-e[m][1].start.offset>1?2:1,u={type:p>1?"strongSequence":"emphasisSequence",start:o(l(e[n][1].end),-p),end:l(e[n][1].end)},d={type:p>1?"strongSequence":"emphasisSequence",start:l(e[m][1].start),end:o(l(e[m][1].start),p)},c={type:p>1?"strongText":"emphasisText",start:l(e[n][1].end),end:l(e[m][1].start)},a={type:p>1?"strong":"emphasis",start:l(u.start),end:l(d.end)},e[n][1].end=l(u.start),e[m][1].start=l(d.end),f=[],e[n][1].end.offset-e[n][1].start.offset&&(f=r(f,[["enter",e[n][1],t],["exit",e[n][1],t]])),f=r(f,[["enter",a,t],["enter",u,t],["exit",u,t],["enter",c,t]]),f=r(f,s(t.parser.constructs.insideSpan.null,e.slice(n+1,m),t)),f=r(f,[["exit",c,t],["enter",d,t],["exit",d,t],["exit",a,t]]),e[m][1].end.offset-e[m][1].start.offset?(h=2,f=r(f,[["enter",e[m][1],t],["exit",e[m][1],t]])):h=0,i(e,n-1,m-n+3,f),m=n+f.length-h-2;break}m=-1;for(;++m<e.length;)"attentionSequence"===e[m][1].type&&(e[m][1].type="data");return e}};e.exports=c},function(e,t,n){"use strict";var r=n(59),i=n(335),a=n(337);e.exports=function(e){return null===e||r(e)||a(e)?1:i(e)?2:void 0}},function(e,t,n){"use strict";var r=n(336),i=n(60)(r);e.exports=i},function(e,t,n){"use strict";e.exports=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/},function(e,t,n){"use strict";var r=n(60)(/\s/);e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t){return e.column+=t,e.offset+=t,e._bufferIndex+=t,e}},function(e,t,n){"use strict";var r=n(126),i=n(96),a=n(340),o=n(158),s={name:"autolink",tokenize:function(e,t,n){var s=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l};function l(t){return r(t)?(e.consume(t),c):a(t)?p(t):n(t)}function c(e){return 43===e||45===e||46===e||i(e)?u(e):p(e)}function u(t){return 58===t?(e.consume(t),d):(43===t||45===t||46===t||i(t))&&s++<32?(e.consume(t),u):p(t)}function d(t){return 62===t?(e.exit("autolinkProtocol"),g(t)):32===t||60===t||o(t)?n(t):(e.consume(t),d)}function p(t){return 64===t?(e.consume(t),s=0,f):a(t)?(e.consume(t),p):n(t)}function f(e){return i(e)?h(e):n(e)}function h(t){return 46===t?(e.consume(t),s=0,f):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",g(t)):m(t)}function m(t){return(45===t||i(t))&&s++<63?(e.consume(t),45===t?m:h):n(t)}function g(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};e.exports=s},function(e,t,n){"use strict";var r=n(60)(/[#-'*+\--9=?A-Z^-~]/);e.exports=r},function(e,t,n){"use strict";var r=n(52),i=n(31),a={name:"blockQuote",tokenize:function(e,t,n){var i=this;return function(t){if(62===t)return i.containerState.open||(e.enter("blockQuote",{_container:!0}),i.containerState.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a;return n(t)};function a(n){return r(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return i(e,e.attempt(a,t,n),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},exit:function(e){e.exit("blockQuote")}};e.exports=a},function(e,t,n){"use strict";var r=n(343),i={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return r(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};e.exports=i},function(e,t,n){"use strict";var r=n(60)(/[!-/:-@[-`{-~]/);e.exports=r},function(e,t,n){"use strict";var r=n(159),i=n(96),a=n(160),o=n(345);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),c={name:"characterReference",tokenize:function(e,t,n){var r,s,c=this,u=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),d};function d(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),r=31,s=i,f(t))}function p(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,s=o,f):(e.enter("characterReferenceValue"),r=7,s=a,f(t))}function f(a){var o;return 59===a&&u?(o=e.exit("characterReferenceValue"),s!==i||l.default(c.sliceSerialize(o))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)):s(a)&&u++<r?(e.consume(a),f):n(a)}}};e.exports=c},function(e,t,n){"use strict";var r=n(60)(/[\dA-Fa-f]/);e.exports=r},function(e,t,n){"use strict";var r=n(29),i=n(59),a=n(95),o=n(31),s={name:"codeFenced",tokenize:function(e,t,n){var s,l=this,c={tokenize:function(e,t,n){var i=0;return o(e,(function(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),a(t)}),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function a(t){return t===s?(e.consume(t),i++,a):i<d?n(t):(e.exit("codeFencedFenceSequence"),o(e,l,"whitespace")(t))}function l(i){return null===i||r(i)?(e.exit("codeFencedFence"),t(i)):n(i)}},partial:!0},u=a(this.events,"linePrefix"),d=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),s=t,p(t)};function p(t){return t===s?(e.consume(t),d++,p):(e.exit("codeFencedFenceSequence"),d<3?n(t):o(e,f,"whitespace")(t))}function f(t){return null===t||r(t)?v(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||i(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),o(e,m,"whitespace")(t)):96===t&&t===s?n(t):(e.consume(t),h)}function m(t){return null===t||r(t)?v(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(t))}function g(t){return null===t||r(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(t)):96===t&&t===s?n(t):(e.consume(t),g)}function v(n){return e.exit("codeFencedFence"),l.interrupt?t(n):y(n)}function y(t){return null===t?w(t):r(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),e.attempt(c,w,u?o(e,y,"linePrefix",u+1):y)):(e.enter("codeFlowValue"),b(t))}function b(t){return null===t||r(t)?(e.exit("codeFlowValue"),y(t)):(e.consume(t),b)}function w(n){return e.exit("codeFenced"),t(n)}},concrete:!0};e.exports=s},function(e,t,n){"use strict";var r=n(29),i=n(58),a=n(95),o=n(31),s={name:"codeIndented",tokenize:function(e,t,n){return e.attempt(l,i,n);function i(n){return null===n?t(n):r(n)?e.attempt(l,i,t)(n):(e.enter("codeFlowValue"),a(n))}function a(t){return null===t||r(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),a)}},resolve:function(e,t){var n={type:"codeIndented",start:e[0][1].start,end:e[e.length-1][1].end};return i(e,0,0,[["enter",n,t]]),i(e,e.length,0,[["exit",n,t]]),e}},l={tokenize:function(e,t,n){var i=this;return o(e,(function s(l){if(r(l))return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o(e,s,"linePrefix",5);return a(i.events,"linePrefix")<4?n(l):t(l)}),"linePrefix",5)},partial:!0};e.exports=s},function(e,t,n){"use strict";var r=n(29),i={name:"codeText",tokenize:function(e,t,n){var i,a,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),o++,s):(e.exit("codeTextSequence"),l(t))}function l(t){return null===t?n(t):96===t?(a=e.enter("codeTextSequence"),i=0,u(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):r(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(t))}function c(t){return null===t||32===t||96===t||r(t)?(e.exit("codeTextData"),l(t)):(e.consume(t),c)}function u(n){return 96===n?(e.consume(n),i++,u):i===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(a.type="codeTextData",c(n))}},resolve:function(e){var t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[r][1].type=e[i][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};e.exports=i},function(e,t,n){"use strict";var r=n(29),i=n(59),a=n(122),o=n(161),s=n(162),l=n(31),c=n(163),u=n(164),d={name:"definition",tokenize:function(e,t,n){var i,u=this;return function(t){return e.enter("definition"),s.call(u,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function d(t){return i=a(u.sliceSerialize(u.events[u.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),c(e,o(e,e.attempt(p,l(e,f,"whitespace"),l(e,f,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function f(a){return null===a||r(a)?(e.exit("definition"),u.parser.defined.indexOf(i)<0&&u.parser.defined.push(i),t(a)):n(a)}}},p={tokenize:function(e,t,n){return function(t){return i(t)?c(e,a)(t):n(t)};function a(t){return 34===t||39===t||40===t?u(e,l(e,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function o(e){return null===e||r(e)?t(e):n(e)}},partial:!0};e.exports=d},function(e,t,n){"use strict";var r=n(29),i={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),i};function i(i){return r(i)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(i)):n(i)}}};e.exports=i},function(e,t,n){"use strict";var r=n(29),i=n(59),a=n(52),o=n(58),s=n(31),l={name:"headingAtx",tokenize:function(e,t,n){var o=this,l=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),c(t)};function c(r){return 35===r&&l++<6?(e.consume(r),c):null===r||i(r)?(e.exit("atxHeadingSequence"),o.interrupt?t(r):u(r)):n(r)}function u(n){return 35===n?(e.enter("atxHeadingSequence"),d(n)):null===n||r(n)?(e.exit("atxHeading"),t(n)):a(n)?s(e,u,"whitespace")(n):(e.enter("atxHeadingText"),p(n))}function d(t){return 35===t?(e.consume(t),d):(e.exit("atxHeadingSequence"),u(t))}function p(t){return null===t||35===t||i(t)?(e.exit("atxHeadingText"),u(t)):(e.consume(t),p)}},resolve:function(e,t){var n,r,i=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);i-2>a&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4);i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},o(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};e.exports=l},function(e,t,n){"use strict";var r=n(126),i=n(96),a=n(29),o=n(59),s=n(52),l=n(93),c=n(353),u=n(354),d=n(94),p={name:"htmlFlow",tokenize:function(e,t,n){var d,p,h,m,g,v=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),y};function y(i){return 33===i?(e.consume(i),b):47===i?(e.consume(i),k):63===i?(e.consume(i),d=3,v.interrupt?t:q):r(i)?(e.consume(i),h=l(i),p=!0,C):n(i)}function b(i){return 45===i?(e.consume(i),d=2,w):91===i?(e.consume(i),d=5,h="CDATA[",m=0,x):r(i)?(e.consume(i),d=4,v.interrupt?t:q):n(i)}function w(r){return 45===r?(e.consume(r),v.interrupt?t:q):n(r)}function x(r){return r===h.charCodeAt(m++)?(e.consume(r),m===h.length?v.interrupt?t:R:x):n(r)}function k(t){return r(t)?(e.consume(t),h=l(t),C):n(t)}function C(r){return null===r||47===r||62===r||o(r)?47!==r&&p&&u.indexOf(h.toLowerCase())>-1?(d=1,v.interrupt?t(r):R(r)):c.indexOf(h.toLowerCase())>-1?(d=6,47===r?(e.consume(r),E):v.interrupt?t(r):R(r)):(d=7,v.interrupt?n(r):p?_(r):T(r)):45===r||i(r)?(e.consume(r),h+=l(r),C):n(r)}function E(r){return 62===r?(e.consume(r),v.interrupt?t:R):n(r)}function T(t){return s(t)?(e.consume(t),T):N(t)}function _(t){return 47===t?(e.consume(t),N):58===t||95===t||r(t)?(e.consume(t),S):s(t)?(e.consume(t),_):N(t)}function S(t){return 45===t||46===t||58===t||95===t||i(t)?(e.consume(t),S):O(t)}function O(t){return 61===t?(e.consume(t),A):s(t)?(e.consume(t),O):_(t)}function A(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),g=t,j):s(t)?(e.consume(t),A):(g=void 0,P(t))}function j(t){return t===g?(e.consume(t),I):null===t||a(t)?n(t):(e.consume(t),j)}function P(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||o(t)?O(t):(e.consume(t),P)}function I(e){return 47===e||62===e||s(e)?_(e):n(e)}function N(t){return 62===t?(e.consume(t),L):n(t)}function L(t){return s(t)?(e.consume(t),L):null===t||a(t)?R(t):n(t)}function R(t){return 45===t&&2===d?(e.consume(t),F):60===t&&1===d?(e.consume(t),B):62===t&&4===d?(e.consume(t),H):63===t&&3===d?(e.consume(t),q):93===t&&5===d?(e.consume(t),z):!a(t)||6!==d&&7!==d?null===t||a(t)?M(t):(e.consume(t),R):e.check(f,H,M)(t)}function M(t){return e.exit("htmlFlowData"),D(t)}function D(t){return null===t?W(t):a(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D):(e.enter("htmlFlowData"),R(t))}function F(t){return 45===t?(e.consume(t),q):R(t)}function B(t){return 47===t?(e.consume(t),h="",U):R(t)}function U(t){return 62===t&&u.indexOf(h.toLowerCase())>-1?(e.consume(t),H):r(t)&&h.length<8?(e.consume(t),h+=l(t),U):R(t)}function z(t){return 93===t?(e.consume(t),q):R(t)}function q(t){return 62===t?(e.consume(t),H):R(t)}function H(t){return null===t||a(t)?(e.exit("htmlFlowData"),W(t)):(e.consume(t),H)}function W(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){var t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},f={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(d,t,n)}},partial:!0};e.exports=p},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=["pre","script","style","textarea"]},function(e,t,n){"use strict";var r=n(126),i=n(96),a=n(29),o=n(59),s=n(52),l=n(31),c={name:"htmlText",tokenize:function(e,t,n){var c,u,d,p,f=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),h};function h(t){return 33===t?(e.consume(t),m):47===t?(e.consume(t),O):63===t?(e.consume(t),_):r(t)?(e.consume(t),P):n(t)}function m(t){return 45===t?(e.consume(t),g):91===t?(e.consume(t),u="CDATA[",d=0,x):r(t)?(e.consume(t),T):n(t)}function g(t){return 45===t?(e.consume(t),v):n(t)}function v(t){return null===t||62===t?n(t):45===t?(e.consume(t),y):b(t)}function y(e){return null===e||62===e?n(e):b(e)}function b(t){return null===t?n(t):45===t?(e.consume(t),w):a(t)?(p=b,B(t)):(e.consume(t),b)}function w(t){return 45===t?(e.consume(t),z):b(t)}function x(t){return t===u.charCodeAt(d++)?(e.consume(t),d===u.length?k:x):n(t)}function k(t){return null===t?n(t):93===t?(e.consume(t),C):a(t)?(p=k,B(t)):(e.consume(t),k)}function C(t){return 93===t?(e.consume(t),E):k(t)}function E(t){return 62===t?z(t):93===t?(e.consume(t),E):k(t)}function T(t){return null===t||62===t?z(t):a(t)?(p=T,B(t)):(e.consume(t),T)}function _(t){return null===t?n(t):63===t?(e.consume(t),S):a(t)?(p=_,B(t)):(e.consume(t),_)}function S(e){return 62===e?z(e):_(e)}function O(t){return r(t)?(e.consume(t),A):n(t)}function A(t){return 45===t||i(t)?(e.consume(t),A):j(t)}function j(t){return a(t)?(p=j,B(t)):s(t)?(e.consume(t),j):z(t)}function P(t){return 45===t||i(t)?(e.consume(t),P):47===t||62===t||o(t)?I(t):n(t)}function I(t){return 47===t?(e.consume(t),z):58===t||95===t||r(t)?(e.consume(t),N):a(t)?(p=I,B(t)):s(t)?(e.consume(t),I):z(t)}function N(t){return 45===t||46===t||58===t||95===t||i(t)?(e.consume(t),N):L(t)}function L(t){return 61===t?(e.consume(t),R):a(t)?(p=L,B(t)):s(t)?(e.consume(t),L):I(t)}function R(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),c=t,M):a(t)?(p=R,B(t)):s(t)?(e.consume(t),R):(e.consume(t),c=void 0,F)}function M(t){return t===c?(e.consume(t),D):null===t?n(t):a(t)?(p=M,B(t)):(e.consume(t),M)}function D(e){return 62===e||47===e||o(e)?I(e):n(e)}function F(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||o(t)?I(t):(e.consume(t),F)}function B(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l(e,U,"linePrefix",f.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function U(t){return e.enter("htmlTextData"),p(t)}function z(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}};e.exports=c},function(e,t,n){"use strict";var r={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:n(127).resolveAll};e.exports=r},function(e,t,n){"use strict";var r={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:n(127).resolveAll};e.exports=r},function(e,t,n){"use strict";var r=n(31),i={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),r(e,t,"linePrefix")}}};e.exports=i},function(e,t,n){"use strict";var r=n(160),i=n(52),a=n(95),o=n(155),s=n(31),l=n(94),c=n(165),u={name:"list",tokenize:function(e,t,n){var s=this,u=a(s.events,"linePrefix"),p=0;return function(t){var i=s.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!s.containerState.marker||t===s.containerState.marker:r(t)){if(s.containerState.type||(s.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(c,n,h)(t):h(t);if(!s.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(t)}return n(t)};function f(t){return r(t)&&++p<10?(e.consume(t),f):(!s.interrupt||p<2)&&(s.containerState.marker?t===s.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),h(t)):n(t)}function h(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||t,e.check(l,s.interrupt?n:m,e.attempt(d,v,g))}function m(e){return s.containerState.initialBlankLine=!0,u++,v(e)}function g(t){return i(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),v):n(t)}function v(n){return s.containerState.size=u+o(s.sliceStream(e.exit("listItemPrefix"))),t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(l,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,s(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!i(n))return r.containerState.furtherBlankLines=r.containerState.initialBlankLine=void 0,a(n);return r.containerState.furtherBlankLines=r.containerState.initialBlankLine=void 0,e.attempt(p,t,a)(n)}));function a(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,s(e,e.attempt(u,t,n),"linePrefix",r.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},d={tokenize:function(e,t,n){var r=this;return s(e,(function(e){return i(e)||!a(r.events,"listItemPrefixWhitespace")?n(e):t(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5)},partial:!0},p={tokenize:function(e,t,n){var r=this;return s(e,(function(e){return a(r.events,"listItemIndent")===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};e.exports=u},function(e,t,n){"use strict";var r=n(29),i=n(74),a=n(31),o={name:"setextUnderline",tokenize:function(e,t,n){var i,o,s=this,l=s.events.length;for(;l--;)if("lineEnding"!==s.events[l][1].type&&"linePrefix"!==s.events[l][1].type&&"content"!==s.events[l][1].type){o="paragraph"===s.events[l][1].type;break}return function(t){if(!s.lazy&&(s.interrupt||o))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),i=t,c(t);return n(t)};function c(t){return t===i?(e.consume(t),c):(e.exit("setextHeadingLineSequence"),a(e,u,"lineSuffix")(t))}function u(i){return null===i||r(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}},resolveTo:function(e,t){var n,r,a,o,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){n=s;break}"paragraph"===e[s][1].type&&(r=s)}else"content"===e[s][1].type&&e.splice(s,1),a||"definition"!==e[s][1].type||(a=s);o={type:"setextHeading",start:i(e[r][1].start),end:i(e[e.length-1][1].end)},e[r][1].type="setextHeadingText",a?(e.splice(r,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end=i(e[a][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};e.exports=o},function(e,t,n){"use strict";var r=/[\0\t\n\r]/g;e.exports=function(){var e,t=!0,n=1,i="";return function(a,o,s){var l,c,u,d,p,f=[];a=i+a.toString(o),u=0,i="",t&&(65279===a.charCodeAt(0)&&u++,t=void 0);for(;u<a.length;){if(r.lastIndex=u,l=r.exec(a),d=l?l.index:a.length,p=a.charCodeAt(d),!l){i=a.slice(u);break}if(10===p&&u===d&&e)f.push(-3),e=void 0;else if(e&&(f.push(-5),e=void 0),u<d&&(f.push(a.slice(u,d)),n+=d-u),0===p)f.push(65533),n++;else if(9===p)for(c=4*Math.ceil(n/4),f.push(-2);n++<c;)f.push(-1);else 10===p?(f.push(-4),n=1):(e=!0,n=1);u=d+1}s&&(e&&f.push(-5),i&&f.push(i),f.push(null));return f}}},function(e,t,n){"use strict";var r=n(156);e.exports=function(e){for(;!r(e););return e}},function(e,t,n){var r=n(364);e.exports=function(){return function(e){return r(e,"list",(function(e,t){var n,r,i=0;for(n=0,r=t.length;n<r;n++)"list"===t[n].type&&(i+=1);for(n=0,r=e.children.length;n<r;n++){var a=e.children[n];a.index=n,a.ordered=e.ordered}e.depth=i})),e}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=[];"function"==typeof t&&(n=t,t=null);function i(e){var a;return t&&e.type!==t||(a=n(e,r.concat())),e.children&&!1!==a?function(e,t){var n,a=e.length,o=-1;r.push(t);for(;++o<a;)if((n=e[o])&&!1===i(n))return!1;return r.pop(),!0}(e.children,e):a}i(e)}},function(e,t,n){"use strict";var r=n(97),i=/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\s*\/?>$/i,a=/^<(\/?)([a-z]+)\s*>$/;e.exports=function(e){var t,n;return r(e,"html",(function(e,r,o){n!==o&&(t=[],n=o);var s=function(e){var t=e.value.match(i);return!!t&&t[1]}(e);if(s)return o.children.splice(r,1,{type:"virtualHtml",tag:s,position:e.position}),!0;var l=function(e,t){var n=e.value.match(a);return!!n&&{tag:n[2],opening:!n[1],node:e}}(e);if(!l)return!0;var c=function(e,t){var n=e.length;for(;n--;)if(e[n].tag===t)return e.splice(n,1)[0];return!1}(t,l.tag);return c?o.children.splice(r,0,function(e,t,n){var r=n.children.indexOf(e.node),i=n.children.indexOf(t.node),a=n.children.splice(r,i-r+1).slice(1,-1);return{type:"virtualHtml",children:a,tag:e.tag,position:{start:e.node.position.start,end:t.node.position.end,indent:[]}}}(l,c,o)):l.opening||t.push(l),!0}),!0),e}},function(e,t,n){"use strict";e.exports=a;var r=n(367),i=n(368);function a(e,t,n,a){var o,s;"function"==typeof t&&"function"!=typeof n&&(a=n,n=t,t=null),s=r(t),o=a?-1:1,function e(r,l,c){var u,d="object"==typeof r&&null!==r?r:{};"string"==typeof d.type&&(u="string"==typeof d.tagName?d.tagName:"string"==typeof d.name?d.name:void 0,p.displayName="node ("+i(d.type+(u?"<"+u+">":""))+")");return p;function p(){var i,u,d=c.concat(r),p=[];if((!t||s(r,l,c[c.length-1]||null))&&!1===(p=function(e){if(null!==e&&"object"==typeof e&&"length"in e)return e;if("number"==typeof e)return[!0,e];return[e]}(n(r,c)))[0])return p;if(r.children&&"skip"!==p[0])for(u=(a?r.children.length:-1)+o;u>-1&&u<r.children.length;){if(!1===(i=e(r.children[u],u,d)())[0])return i;u="number"==typeof i[1]?i[1]:u+o}return p}}(e,null,[])()}a.CONTINUE=!0,a.SKIP="skip",a.EXIT=!1},function(e,t,n){"use strict";function r(e){if(null==e)return i;if("string"==typeof e)return function(e){return function(t){return Boolean(t&&t.type===e)}}(e);if("object"==typeof e)return"length"in e?function(e){var t=[],n=-1;for(;++n<e.length;)t[n]=r(e[n]);return function(){var e=-1;for(;++e<t.length;)if(t[e].apply(this,arguments))return!0;return!1}}(e):function(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function i(){return!0}e.exports=r},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var r=n(97),i=[].splice;function a(e,t){return function(e){return r(e,n),e};function n(n,r,a){if(a&&!e(n,r,a)){var o=[r,1];return"unwrap"===t&&n.children&&(o=o.concat(n.children)),i.apply(a.children,o),r}}}t.ofType=function(e,t){return a((function(t,n,r){return!e.includes(t.type)}),t)},t.ifNotMatch=a},function(e,t,n){"use strict";var r=n(8),i=n(121),a=n(148);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=t.renderers[e.type];e.position||(e.position={start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}});var c=e.position.start,u=[e.type,c.line,c.column,i].join("-");if(!a.isValidElementType(l))throw new Error("Renderer for type `".concat(e.type,"` not defined or is not renderable"));var d=s(e,u,t,l,n,i);return r.createElement(l,d,d.children||p()||void 0);function p(){return e.children&&e.children.map((function(n,r){return o(n,t,{node:e,props:d},r)}))}}function s(e,t,n,a,s,u){var d,p={key:t},f="string"==typeof a||a===r.Fragment;n.sourcePos&&e.position&&(p["data-sourcepos"]=[(d=e.position).start.line,":",d.start.column,"-",d.end.line,":",d.end.column].map(String).join("")),n.rawSourcePos&&!f&&(p.sourcePosition=e.position),n.includeNodeIndex&&s.node&&s.node.children&&!f&&(p.index=s.node.children.indexOf(e),p.parentChildCount=s.node.children.length);var h=null!==e.identifier&&void 0!==e.identifier?n.definitions[e.identifier.toUpperCase()]||{}:null;switch(e.type){case"root":l(p,{className:n.className});break;case"text":p.nodeKey=t,p.children=e.value;break;case"heading":p.level=e.depth;break;case"list":p.start=e.start,p.ordered=e.ordered,p.spread=e.spread,p.depth=e.depth;break;case"listItem":p.checked=e.checked,p.spread=e.spread,p.ordered=e.ordered,p.index=e.index,p.children=function(e,t){return(t&&t.node?function(e){var t=e.children,n=e.spread,r=-1;for(;!n&&++r<t.length;)n=c(t[r]);return n}(t.node):c(e))?e.children:function(e){return e.children.reduce((function(e,t){return e.concat("paragraph"===t.type?t.children:[t])}),[])}(e)}(e,s).map((function(t,r){return o(t,n,{node:e,props:p},r)}));break;case"definition":l(p,{identifier:e.identifier,title:e.title,url:e.url});break;case"code":l(p,{language:e.lang&&e.lang.split(/\s/,1)[0]});break;case"inlineCode":p.children=e.value,p.inline=!0;break;case"link":l(p,{title:e.title||void 0,target:"function"==typeof n.linkTarget?n.linkTarget(e.url,e.children,e.title):n.linkTarget,href:n.transformLinkUri?n.transformLinkUri(e.url,e.children,e.title):e.url});break;case"image":l(p,{src:n.transformImageUri?n.transformImageUri(e.url,e.children,e.title,e.alt):e.url,alt:e.alt||"",title:e.title||void 0});break;case"linkReference":l(p,i(h,{href:n.transformLinkUri?n.transformLinkUri(h.href):h.href}));break;case"imageReference":l(p,{src:n.transformImageUri&&h.href?n.transformImageUri(h.href,e.children,h.title,e.alt):h.href,alt:e.alt||"",title:h.title||void 0});break;case"table":case"tableHead":case"tableBody":p.columnAlignment=e.align;break;case"tableRow":p.isHeader="tableHead"===s.node.type,p.columnAlignment=s.props.columnAlignment;break;case"tableCell":l(p,{isHeader:s.props.isHeader,align:s.props.columnAlignment[u]});break;case"virtualHtml":p.tag=e.tag;break;case"html":p.isBlock=e.position.start.line!==e.position.end.line,p.allowDangerousHtml=n.allowDangerousHtml,p.escapeHtml=n.escapeHtml,p.skipHtml=n.skipHtml;break;case"parsedHtml":var m;e.children&&(m=e.children.map((function(t,r){return o(t,n,{node:e,props:p},r)}))),p.allowDangerousHtml=n.allowDangerousHtml,p.escapeHtml=n.escapeHtml,p.skipHtml=n.skipHtml,p.element=e.element?function(e,t){var n=e.element;if(Array.isArray(n)){var i=r.Fragment||"div";return r.createElement(i,null,n)}if(n.props.children||t){var a=r.Children.toArray(n.props.children).concat(t);return r.cloneElement(n,null,a)}return r.cloneElement(n,null)}(e,m):null;break;default:l(p,i(e,{type:void 0,position:void 0,children:void 0}))}return!f&&e.value&&(p.value=e.value),f||(p.node=e),p}function l(e,t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}function c(e){var t=e.spread;return null==t?e.children.length>1:t}e.exports=o},function(e,t,n){"use strict";var r=n(97);function i(e){var t=e.children;e.children=[{type:"tableHead",align:e.align,children:[t[0]],position:t[0].position}],t.length>1&&e.children.push({type:"tableBody",align:e.align,children:t.slice(1),position:{start:t[1].position.start,end:t[t.length-1].position.end}})}e.exports=function(e){return r(e,"table",i),e}},function(e,t,n){"use strict";var r=n(97);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(e,"definition",(function(e){var n=e.identifier.toUpperCase();n in t||(t[n]={href:e.url,title:e.title})})),t}},function(e,t,n){"use strict";var r=["http","https","mailto","tel"];e.exports=function(e){var t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;var i=t.indexOf(":");if(-1===i)return t;for(var a=r.length,o=-1;++o<a;){var s=r[o];if(i===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return-1!==(o=t.indexOf("?"))&&i>o||-1!==(o=t.indexOf("#"))&&i>o?t:"javascript:void(0)"}},function(e,t,n){"use strict";var r=n(121),i=n(8),a=parseInt((i.version||"16").slice(0,2),10)>=16,o=i.createElement;function s(e,t){return o(e,l(t),t.children)}function l(e){var t=e["data-sourcepos"];return t?{"data-sourcepos":t}:{}}e.exports={break:"br",paragraph:"p",emphasis:"em",strong:"strong",thematicBreak:"hr",blockquote:"blockquote",delete:"del",link:"a",image:"img",linkReference:"a",imageReference:"img",table:s.bind(null,"table"),tableHead:s.bind(null,"thead"),tableBody:s.bind(null,"tbody"),tableRow:s.bind(null,"tr"),tableCell:function(e){var t=e.align?{textAlign:e.align}:void 0,n=l(e);return o(e.isHeader?"th":"td",t?r({style:t},n):n,e.children)},root:function(e){var t=e.className,n=!t&&i.Fragment||"div";return o(n,t?{className:t}:null,e.children)},text:function(e){var t=e.children||"";return a?t:o("span",null,t)},list:function(e){var t=l(e);null!==e.start&&1!==e.start&&void 0!==e.start&&(t.start=e.start.toString());return o(e.ordered?"ol":"ul",t,e.children)},listItem:function(e){var t=null;if(null!==e.checked&&void 0!==e.checked){var n=e.checked;t=o("input",{type:"checkbox",checked:n,readOnly:!0})}return o("li",l(e),t,e.children)},definition:function(){return null},heading:function(e){return o("h".concat(e.level),l(e),e.children)},inlineCode:function(e){return o("code",l(e),e.children)},code:function(e){var t=e.language&&"language-".concat(e.language),n=o("code",t?{className:t}:null,e.value);return o("pre",l(e),n)},html:function(e){if(e.skipHtml)return null;var t=e.allowDangerousHtml||!1===e.escapeHtml,n=e.isBlock?"div":"span";if(!t)return o(i.Fragment||n,null,e.value);var r={dangerouslySetInnerHTML:{__html:e.value}};return o(n,r)},virtualHtml:function(e){return o(e.tag,l(e),e.children)},parsedHtml:function(e){return e["data-sourcepos"]?i.cloneElement(e.element,{"data-sourcepos":e["data-sourcepos"]}):e.element}}},function(e,t,n){"use strict";t.HtmlParser="undefined"==typeof Symbol?"__RMD_HTML_PARSER__":Symbol("__RMD_HTML_PARSER__")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(3),a={icon:r.icons.iconBase+"noun_79217.svg",name:"pad",audience:[r.ns.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/ns/pim/pad#Notepad"]?"pad":null},mintClass:r.ns.pad("Notepad"),mintNew:function(e,t){var n=e.session.store,i=n.updater;if(t.me&&!t.me.uri)throw new Error("notepad mintNew:  Invalid userid");var a=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),o=a.doc();n.add(a,r.ns.rdf("type"),r.ns.pad("Notepad"),o),n.add(a,r.ns.dc("title"),"Shared Notes",o),n.add(a,r.ns.dc("created"),new Date,o),t.me&&n.add(a,r.ns.dc("author"),t.me,o);var s=n.sym(a.uri+"_line0");return n.add(a,r.ns.pad("next"),s,o),n.add(s,r.ns.pad("next"),a,o),n.add(s,r.ns.dc("author"),t.me,o),n.add(s,r.ns.sioc("content"),"",o),new Promise((function(e,r){i?i.put(o,n.statementsMatching(void 0,void 0,void 0,o),"text/turtle",(function(n,i,a){i?e(t):r(new Error("FAILED to save new tool at: "+n+" : "+a))})):r(new Error("Have no updater"))}))},render:function(e,t,n){var a,o,s=t.dom,l=t.session.store,c=function(e,t){e||C.appendChild(r.widgets.errorMessageBlock(s,t,"pink"))},u=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},d=function(e,t,n){var o=(0,i.graph)(),s=(0,i.Namespace)("http://www.w3.org/ns/auth/acl#"),l=o.sym(t+"#a1"),c=o.sym(t),u=o.sym(e);return o.add(l,r.ns.rdf("type"),s("Authorization"),c),o.add(l,s("accessTo"),u,c),o.add(l,s("agent"),a,c),o.add(l,s("mode"),s("Read"),c),o.add(l,s("mode"),s("Write"),c),o.add(l,s("mode"),s("Control"),c),l=o.sym(t+"#a2"),o.add(l,r.ns.rdf("type"),s("Authorization"),c),o.add(l,s("accessTo"),u,c),o.add(l,s("agentClass"),r.ns.foaf("Agent"),c),o.add(l,s("mode"),s("Read"),c),n&&o.add(l,s("mode"),s("Write"),c),(0,i.serialize)(c,o,t,"text/turtle")},p=function(e,t,n){var r=l.any((0,i.sym)(e),(0,i.sym)("http://www.iana.org/assignments/link-relations/acl"));if(!y)throw new Error("Have no fetcher");if(r){var a=d(e,r.uri,t);return y.webOperation("PUT",r.uri,{data:a,contentType:"text/turtle"}).then((function(){return n(!0)})).catch((function(e){n(!1,e.message)}))}return y.load(e).catch((function(e){n(!1,"Getting headers for ACL: "+e)})).then((function(){var n=l.any((0,i.sym)(e),(0,i.sym)("http://www.iana.org/assignments/link-relations/acl"));if(!n)throw new Error("No Link rel=ACL header for "+e);var r=d(e,n.uri,t);return y.webOperation("PUT",n.uri,{data:r,contentType:"text/turtle"})})).then((function(){return n(!0)})).catch((function(e){n(!1,e.message)}))},f=function(e,t,n){var a=u(t);a.appendChild(r.authn.newAppInstance(s,{noun:"notepad"},(function(e,t){return h(new i.NamedNode(e||t))}))),a.appendChild(s.createElement("hr")),a.appendChild(s.createElement("p")).textContent="Where would you like to store the data for the "+n+"?  Give the URL of the directory where you would like the data stored.";var o=a.appendChild(s.createElement("input"));o.setAttribute("type","text"),o.size=80,o.label="base URL",o.autocomplete="on",a.appendChild(s.createElement("br"));var l=a.appendChild(s.createElement("button"));l.textContent="Start new "+n+" at this URI",l.addEventListener("click",(function(t){var n=o.value;"/"!==n.slice(-1)&&(n+="/"),m(e,n)}))},h=function(e){var t=l.any(e,r.ns.space("uriPrefix"));"/"!==(t=t?t.value:e.uri.split("#")[0]).slice(-1)&&(i.log.error(v+": No / at end of uriPrefix "+t),t+="/");var n=new Date;t+=v+"/id"+n.getTime()+"/",m(x,t)},m=function(e,t){var n,o=(0,i.sym)(e.uri.split("#")[0]),u=l.sym(t+"pad.ttl"),d=l.sym(t+"index.html"),f=[{local:"index.html",contentType:"text/html"}],h=l.sym(u.uri+"#thisPad"),m=[];for(n=0;n<f.length;n++){!function(e){m.push((function(){var n=t+e.local;console.log("Copying "+o+e.local+" to "+n);if(!l.fetcher)throw new Error("Store has no fetcher");l.fetcher.webCopy(o+e.local,t+e.local,e.contentType).then((function(){return r.authn.checkUser()})).then((function(e){a=e,p(n,!1,(function(e,t){e?m.shift()():(c(e,"FAILED to set ACL "+n+" : "+t),console.log("FAILED to set ACL "+n+" : "+t))}))})).catch((function(t){console.log("FAILED to copy "+o+e.local+" : "+t.message),c(!1,"FAILED to copy "+o+e.local+" : "+t.message)}))}))}(f[n])}m.push((function(){if(l.add(h,r.ns.rdf("type"),w("Notepad"),u),l.add(h,r.ns.dc("created"),new Date,u),a&&l.add(h,r.ns.dc("author"),a,u),l.add(h,w("next"),h,u),l.add(h,r.ns.space("inspiration"),e,k),l.add(h,r.ns.space("inspiration"),e,u),!b)throw new Error("Have no updater");b.put(u,l.statementsMatching(void 0,void 0,void 0,u),"text/turtle",(function(e,t,n){t?m.shift()():(c(t,"FAILED to save new notepad at: "+u.uri+" : "+n),console.log("FAILED to save new notepad at: "+u.uri+" : "+n))}))})),m.push((function(){p(u.uri,!0,(function(e,t){c(e,"Failed to set Read-Write ACL on pad data file: "+t),e&&m.shift()()}))})),m.push((function(){var e=C.appendChild(s.createElement("p"));e.setAttribute("style","font-size: 140%;"),e.innerHTML="Your <a href='"+d.uri+"'><b>new notepad</b></a> is ready. <br/><br/><a href='"+d.uri+"'>Go to new pad</a>"})),m.shift()()},g=function(t){console.log("showResults()"),a=r.authn.currentUser(),r.authn.checkUser().then((function(e){a=e}));var i=l.any(e,r.ns.dc("title"))||l.any(e,r.ns.vcard("fn"));n.solo&&"undefined"!=typeof window&&i&&(window.document.title=i.value),L.exists=t,o=r.pad.notepad(s,k,e,a,L),_.appendChild(o);var c=l.any(e,r.ns.meeting("parentMeeting"))||e;if(r.pad.manageParticipation(s,A,k,c,a,L),!l.updater)throw new Error("Store has no updater");l.updater.setRefreshHandler(k,o.reloadAndSync)},v="app-pad.timbl.com",y=l.fetcher,b=l.updater,w=(0,i.Namespace)("http://www.w3.org/ns/pim/pad#"),x=e,k=e.doc(),C=s.createElement("div"),E=C.appendChild(s.createElement("table"));E.setAttribute("style","background-color: white; min-width: 94%; margin-right:3% margin-left: 3%; min-height: 13em;");var T=E.appendChild(s.createElement("tr"));T.appendChild(s.createElement("td")),T.appendChild(s.createElement("td")),T.appendChild(s.createElement("td"));var _=E.appendChild(s.createElement("tr")).appendChild(s.createElement("td"));_.setAttribute("colspan","3");var S=E.appendChild(s.createElement("tr")),O=S.appendChild(s.createElement("td")),A=S.appendChild(s.createElement("td")),j=S.appendChild(s.createElement("td")),P=E.appendChild(s.createElement("tr")).appendChild(s.createElement("div")),I=E.appendChild(s.createElement("tr")).appendChild(s.createElement("div")),N=E.appendChild(s.createElement("tr"));N.setAttribute("class","naviMenu"),N.appendChild(s.createElement("td")),N.appendChild(s.createElement("td")),N.appendChild(s.createElement("td"));var L={statusArea:P,timingArea:O};return function(){if(!y)throw new Error("Have no fetcher");y.nowOrWhenFetched(k.uri,void 0,(function(t,n,i){if(t)u(_),l.holds(e,r.ns.rdf("type"),r.ns.wf("TemplateInstance"))&&f(e,_,"pad"),g(!0),j.appendChild(((a=C.appendChild(s.createElement("button"))).textContent="Start another pad",a.addEventListener("click",(function(){return f(e,I,"pad")})),a));else if(404===i.status){if(console.log("Initializing results file "+k),!b)throw new Error("Have no updater");b.put(k,[],"text/turtle",(function(e,t,n){t?(u(_),g(!1)):(c(t,"FAILED to create results file at: "+k.uri+" : "+n),console.log("FAILED to craete results file at: "+k.uri+" : "+n))}))}else c(t,"FAILED to read results file: "+n);var a}))}(),C}};t.default=a},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.iconBase+"noun_106746.svg",name:"transaction",audience:[a.solid("PowerUser")],label:function(e,t){var n=t.session.store,i=n.findTypeURIs(e);return i["http://www.w3.org/2000/10/swap/pim/qif#Transaction"]?"$$":n.any(e,r.ns.qu("amount"))?"$$$":i["http://www.w3.org/ns/pim/trip#Trip"]?"Trip $":null},render:function(e,t){var n=t.dom,o=t.session.store,s=o.fetcher,l=i.Namespace("http://www.w3.org/2000/10/swap/pim/qif#"),c=i.Namespace("http://www.w3.org/ns/pim/trip#"),u=n.createElement("div");u.setAttribute("class","transactionPane");var d,p,f,h,m,g=function(e){return function(e,t){void 0===t&&(t="color: grey");var r=n.createElement("pre");r.setAttribute("style",t),u.appendChild(r),r.appendChild(n.createTextNode(e))}(e,"color: #100; background-color: #fee")},v=o.statementsMatching(e),y=o.statementsMatching(void 0,void 0,e),b=o.findTypeURIs(e),w={},x=function(e){w[e.uri]=!0},k=function(e){if(void 0===e)return"";var t=""+e;return t.indexOf(".")>=0?t.split(".")[0]+"."+(t.split(".")[1]+"00").slice(0,2):t+".00"},C=function(e,t){var r=n.createElement("td");return 0+e===0&&t||(r.textContent=k(e)),r.setAttribute("style","width: 6em; text-align: right; "),r},E=function(e){var t=n.createElement("th");return t.textContent=e,t.setAttribute("style","text-align: right; "),t},T=function(e,t){var n=o.any(e,a.qu("date")),r=o.any(t,a.qu("date"));if(void 0!==n&&void 0!==r){if(n.value<r.value)return-1;if(n.value>r.value)return 1}return e.uri<t.uri?-1:e.uri>t.uri?1:0},_=function(e,n,r,i,a){n.expanded?(n.parentNode.removeChild(n.expanded),n.expanded=!1):function(e,n,r,i,a){var o=n.parentNode.children;if(a)for(var s=o.length-1;s>=0;s--)o[s].expanded&&(o[s].parentNode.removeChild(o[s].expanded),o[s].expanded=!1);var l=e.createElement("tr"),c=l.appendChild(e.createElement("td"));c.setAttribute("style","width: 98%; padding: 1em; border: 0.1em solid grey;");var u=n.children.length;n.nextSibling?n.parentNode.insertBefore(l,n.nextSibling):n.parentNode.appendChild(l),n.expanded=l,c.setAttribute("colspan",""+u),c.appendChild(function(e,t,n){var r=e.session.paneRegistry.byName(n).render(t,e);return r.setAttribute("style","border: 0.1em solid green;"),r}(t,r,i))}(e,n,r,i,a)};if(b["http://www.w3.org/2000/10/swap/pim/qif#Transaction"]||o.any(e,a.qu("toAccount"))){x(a.rdf("type"));var S=o.any(e,r.ns.qu("toAccount"));!function(e){var t="padding: 0.5em 1.5em 1em 1.5em; ";if(e){var n=o.any(e,r.ns.ui("backgroundColor"));n&&(t+="background-color: "+n.value+"; ")}u.setAttribute("style",t)}(S),S||g("(Error: There is no bank account known for this transaction <"+e.uri+">,\n -- every transaction needs one.)");var O=null,A=o.any(e,r.ns.qu("accordingTo"));void 0===A?g("(Error: There is no back link to the original data source foir this transaction <"+e.uri+">,\nso I can't tell how to annotate it.)"):void 0===(O=void 0!==A?o.any(A,r.ns.qu("annotationStore")):null)&&g("(There is no annotation document for this statement\n<"+A.uri+">,\nso you cannot classify this transaction.)");var j=n.createElement("div");j.setAttribute("style","float:right"),u.appendChild(j);var P=function(t,i){x(t);var a=o.any(e,t);if(a){var s=n.createElement("a");s.setAttribute("href",a.uri),s.setAttribute("style","float:right"),j.appendChild(s).textContent=i||r.utils.label(a),j.appendChild(n.createElement("br"))}};P(r.ns.qu("toAccount")),P(r.ns.qu("accordingTo"),"Statement"),P(c("trip"));var I=n.createElement("table");u.appendChild(I);var N=["date","payee","amount","in_USD","currency"].map(l).map((function(t){x(t);var n=o.any(e,t),i=n?r.utils.labelForXML(n):"";return'<tr><td style="text-align: right; padding-right: 0.6em">'+r.utils.labelForXML(t)+'</td><td style="font-weight: bold;">'+i+"</td></tr>"})).join("\n");I.innerHTML=N;var L=function(e,t){e||g("Sorry, failed to save your change:\n"+t)};O&&o.fetcher.nowOrWhenFetched(O.uri,e,(function(l,d){l||g("Cannot load store "+O+" "+d);var p=o.any(O,a.qu("calendarYear")),f=function(){u.insertBefore(r.widgets.makeSelectForNestedCategory(n,o,e,r.ns.qu("Classified"),O,L),I.nextSibling)};o.any(void 0,a.rdfs("subClassOf"),a.qu.Classified)?f():p?s.load(p).then((function(e){s.load(o.each(p,a.rdfs("seeAlso"))).then((function(){f()})).catch((function(e){console.log("Error loading background data: "+e)}))})).catch((function(e){console.log("Error loading calendarYear: "+e)})):console.log("Can't get categories, because no calendarYear"),u.appendChild(r.widgets.makeDescription(n,o,e,r.ns.rdfs("comment"),O,L));var h=o.statementsMatching(void 0,c("trip"),void 0,O).map((function(e){return e.object})),m=o.each(void 0,r.ns.rdf("type"),c("Trip"));h=h.concat(m).sort();(h=function(e,t,n,r){var i=t.map((function(t){var r=e.any(t,n);return[r=r?r.value:"9999-12-31",t]}));return i.sort(),r&&i.reverse(),i.map((function(e){return e[1]}))}(o,h,r.ns.cal("dtstart"),!0)).length>1&&u.appendChild(r.widgets.makeSelectForOptions(n,o,e,c("trip"),h,{multiple:!1,nullLabel:"-- what trip? --",mint:"New Trip *",mintClass:c("Trip"),mintStatementsFun:function(e){var t=[];return t.push(i.st(e,r.ns.rdf("type"),c("Trip"),e.doc())),t}},O,L)),u.appendChild(n.createElement("br"));var b=t.getOutliner(n);x(a.rdfs("comment")),r.widgets.attachmentList(n,e,u),x(a.wf("attachment")),u.appendChild(n.createElement("tr")).setAttribute("style","height: 1em"),b.appendPropertyTRs(u,v,!1,(function(e,t){return!(e.uri in w)})),b.appendPropertyTRs(u,y,!0,(function(e,t){return!(e.uri in w)}))}))}else if(b["http://www.w3.org/ns/pim/trip#Trip"]){d={},p={},f={},h=o.each(void 0,c("trip"),e),m=h.map((function(e){return e.doc()})),o.fetcher.load(m).then((function(){h.forEach((function(e){var t=o.the(e,a.qu("date")),n=t?(""+t.value).slice(0,4):"????",i=o.the(e,a.rdf("type"));if(i||(i=r.ns.qu("ErrorNoType")),i&&i.uri){var s=i.uri;p[n]||(p[n]=0),f[n]||(f[n]={}),d[s]||(d[s]=0),f[n][s]||(f[n][s]=0);var l=o.any(e,r.ns.qu("in_USD"));if(l||g("@@ No amount in USD: "+l+" for "+e),l){var c=parseFloat(l.value);d[s]+=c,f[n][s]+=c,p[n]+=c}}}));var t,i=[],s=0,l=[];for(var c in f)f.hasOwnProperty(c)&&l.push(c);l.sort();var m,v,y=l.length,b=u.appendChild(n.createElement("table"));if(b.setAttribute("style","font-size: 120%; margin-left:auto; margin-right:1em; margin-top: 1em; border: 0.05em solid gray; padding: 1em;"),y>1){var w=b.appendChild(n.createElement("tr"));for(w.appendChild(E("")),t=0;t<y;t++)w.appendChild(E(l[t]));w.appendChild(E("total"))}for(var x in d)d.hasOwnProperty(x)&&(i.push(x),s+=d[x]);i.sort();for(var S=0;S<i.length;S++){var O=o.sym(i[S]);if((m=b.appendChild(n.createElement("tr"))).appendChild(n.createElement("td")).textContent=r.utils.label(O),y>1)for(t=0;t<y;t++)v=f[l[t]][i[S]],m.appendChild(C(v,!0));m.appendChild(C(d[i[S]],!0))}if(i.length>1){if((m=b.appendChild(n.createElement("tr"))).appendChild(E("total")),y>1)for(t=0;t<y;t++)v=p[l[t]],m.appendChild(C(v?k(v):""));m.appendChild(C(s)).setAttribute("style","font-weight: bold; text-align: right;")}var A=function(e,t,n){var i=e.createElement("table");i.setAttribute("style","padding-left: 0.5em; padding-right: 0.5em; font-size: 9pt; width: 85%;");var s=function(e,t){var n=e.createElement("tr"),i=o.any(t,a.qu("toAccount"));!function(e,t){var n="'padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.1em;";if(t){var i=o.any(t,r.ns.ui("backgroundColor"));i&&(n+="background-color: "+i.value+"; ")}e.setAttribute("style",n)}(n,i);var s=n.appendChild(e.createElement("td")),l=o.any(t,a.qu("date"));s.textContent=l?l.value.slice(0,10):"???",s.setAttribute("style","width: 7em;");var c=n.appendChild(e.createElement("td"));c.setAttribute("style","width: 36em;");var u=o.any(t,a.qu("payee"));c.textContent=u?u.value:"???";var d=c.appendChild(e.createElement("a"));d.textContent=" ➜",d.setAttribute("href",t.uri);var p=n.appendChild(e.createElement("td")),f=o.any(t,a.qu("in_USD"));return p.textContent=f?k(f.value):"???",p.setAttribute("style","width: 6em; text-align: right; "),n.addEventListener("click",(function(r){_(e,n,t,"transaction",!r.shiftKey)}),!1),n},l=n?t.filter(n):t.slice();l.sort(T);for(var c=0;c<l.length;c++)i.appendChild(s(e,l[c]));return i}(n,h);A.setAttribute("style","margin-left:auto; margin-right:1em; margin-top: 1em; border: padding: 1em;"),u.appendChild(A),r.widgets.attachmentList(n,e,u)})).catch((function(e){g("Error loading transactions: "+e)}))}return u}}},function(e,t,n){"use strict";var r=n(0),i=r.ns;e.exports={icon:r.icons.iconBase+"noun_142708.svg",name:"period",audience:[i.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/2000/10/swap/pim/qif#Period"]?"period":null},render:function(e,t){var n=t.dom,i=t.session.store,a=r.ns,o=n.createElement("div");o.setAttribute("class","periodPane");var s=function(e,t){t||(t="color: grey;");var r=n.createElement("pre");r.setAttribute("style",t),o.appendChild(r),r.appendChild(n.createTextNode(e))},l=function(e){return s("✓ "+e,"color: #010; background-color: #efe")},c=function(e){return s(e,"color: #100; background-color: #fee")},u=function(){var s=i.any(e,a.cal("dtstart"));void 0===s&&c("(Error: There is no start date known for this period <"+e.uri+">,\n -- every period needs one.)");var u=i.any(e,a.cal("dtend"));void 0===u&&c("(Error: There is no end date known for this period <"+e.uri+">,\n -- every period needs one.)");var d,p={};d=a.rdf("type"),p[d.uri]=!0;var f=function(e){return!!((t=i.any(e,a.qu("date")))&&t>=s&&t<u);var t},h=function(e,t){var n=i.any(e,a.qu("date")),r=i.any(t,a.qu("date"));if(void 0!==n&&void 0!==r){if(n.value<r.value)return-1;if(n.value>r.value)return 1}return e.uri<t.uri?-1:e.uri>t.uri?1:0};o.appendChild(n.createElement("h2")).textContent="Period "+s.value.slice(0,10)+" - "+u.value.slice(0,10);var m,g,v,y,b=function(e,n,r,i,a){n.expanded?(n.parentNode.removeChild(n.expanded),n.expanded=!1):function(e,n,r,i,a){var o=n.parentNode.children;if(a)for(var s=o.length-1;s>=0;s--)o[s].expanded&&(o[s].parentNode.removeChild(o[s].expanded),o[s].expanded=!1);var l=e.createElement("tr"),c=l.appendChild(e.createElement("td"));c.setAttribute("style","width: 98%; padding: 1em; border: 0.1em solid grey;");var u=n.children.length;n.nextSibling?n.parentNode.insertBefore(l,n.nextSibling):n.parentNode.appendChild(l),n.expanded=l,c.setAttribute("colspan",""+u),c.appendChild(function(e,t,n){var r=e.session.paneRegistry.byName(n).render(t,e);return r.setAttribute("style","border: 0.1em solid green;"),r}(t,r,i))}(e,n,r,i,a)},w=function(e,t){var n=e.createElement("table");n.setAttribute("style","margin-left: 100; font-size: 9pt; width: 85%;");var o=function(e,t){var n=e.createElement("tr"),o=i.any(t,a.qu("toAccount"));!function(e,t){var n="margin-left: 8em; padding-left: 5em;";if(t){var a=i.any(t,r.ns.ui("backgroundColor"));a&&(n+="background-color: "+a.value+"; ")}e.setAttribute("style",n)}(n,o);var s=n.appendChild(e.createElement("td")),l=i.any(t,a.qu("date"));s.textContent=l?l.value.slice(0,10):"???",s.setAttribute("style","width: 7em;");var c=n.appendChild(e.createElement("td"));c.setAttribute("style","width: 36em;");var u=i.any(t,a.qu("payee"));c.textContent=u?u.value:"???";var d=c.appendChild(e.createElement("a"));d.textContent=" ➜",d.setAttribute("href",t.uri);var p,f,h=n.appendChild(e.createElement("td")),m=i.any(t,a.qu("in_USD"));return h.textContent=m?(p=m.value,(f=""+p).indexOf(".")>=0?f.split(".")[0]+"."+(f.split(".")[1]+"00").slice(0,2):f+".00"):"???",h.setAttribute("style","width: 6em; text-align: right; "),n.addEventListener("click",(function(r){b(e,n,t,"transaction",!r.shiftKey)}),!1),n},s=t.filter(f);s.sort(h);for(var l=0;l<s.length;l++)n.appendChild(o(e,s[l]));return n},x={"http://www.w3.org/2000/10/swap/pim/qif#Transaction":!0,"http://www.w3.org/2000/10/swap/pim/qif#Unclassified":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedOutgoing":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedIncome":!0},k=i.findMemberURIs(a.qu("Transaction")),C=[],E=[];for(var T in k)if(k.hasOwnProperty(T)){g=i.sym(T);for(var _=i.each(g,a.rdf("type")),S=!1,O=0;O<_.length;O++){void 0===x[_[O].uri]&&(S=!0)}S||(void 0===(m=i.any(g,a.qu("in_USD")))&&(m=i.any(g,a.qu("amount"))),m&&(""+m.value).indexOf("-")>=0?E.push(i.sym(T)):C.push(i.sym(T)))}C.length?(y=(v=w(n,C)).children.length,o.appendChild(n.createElement("h3")).textContent="Unclassified Income"+(y<4?"":" ("+y+")"),o.appendChild(v)):l("No unclassified income"),E.length?(y=(v=w(n,E)).children.length,o.appendChild(n.createElement("h3")).textContent="Unclassified Outgoings"+(y<4?"":" ("+y+")"),o.appendChild(v)):l("No unclassified outgoings ");var A=function(e,t){var s,l=function(e){var t=i.findSubClassesNT(a.qu("Transaction"));for(var n in t)if(t.hasOwnProperty(n)&&n.slice(1,-1).split("#")[1]===e)return i.sym(n.slice(1,-1));return null}(e),u=[],d=0;if(!l)return c("Error: No category correspnding to "+e),null;for(var p=i.each(void 0,a.rdf("type"),l),f=0;f<p.length;f++)i.any(p[f],t)||u.push(p[f]);return u.length&&(d=(s=w(n,u)).children.length,o.appendChild(n.createElement("h3")).textContent=r.utils.label(l)+" with no "+r.utils.label(t)+(d<4?"":" ("+d+")"),o.appendChild(s)),d};0===A("Reimbursables",a.trip("trip"))&&l("Reimbursables all have trips"),0===A("Other_Inc_Speaking",a.trip("trip"))&&l("Speaking income all has trips")};if(i.findTypeURIs(e)["http://www.w3.org/2000/10/swap/pim/qif#Period"]){var d=i.each(e,a.rdfs("seeAlso"));console.log("Loading before render: "+d.length),i.fetcher.load(d).then((function(){u()}))}return o}}},function(e,t,n){"use strict";e.exports={shortChatPane:n(380),longChatPane:n(166),getChat:n(381).getChat}},function(e,t,n){"use strict";var r=n(0),i=r.ns;e.exports={icon:r.icons.iconBase+"noun_346319.svg",name:"chat",audience:[i.solid("PowerUser")],label:function(e,t){var n=t.session.store,r=n.each(e,i.wf("message")).length;return r>0?"Chat ("+r+")":n.holds(e,i.rdf("type"),i.meeting("Chat"))?"Meeting chat":n.holds(void 0,i.rdf("type"),i.foaf("ChatChannel"),e)?"IRC log":null},mintClass:i.meeting("Chat"),mintNew:function(e,t){var n=e.session.store,r=n.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);var a=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),o=a.doc();return n.add(a,i.rdf("type"),i.meeting("Chat"),o),n.add(a,i.dc("title"),"Chat",o),n.add(a,i.dc("created"),new Date,o),t.me&&n.add(a,i.dc("author"),t.me,o),new Promise((function(e,i){r.put(o,n.statementsMatching(void 0,void 0,void 0,o),"text/turtle",(function(n,r,a){r?e(t):i(new Error("FAILED to save new tool at: "+n+" : "+a))}))}))},render:function(e,t){var n=t.session.store,a=t.dom,o=a.createElement("div");o.setAttribute("class","chatPane");var s,l,c,u,d,p,f={};if(n.holds(e,i.rdf("type"),i.meeting("Chat")))s=e.doc();else if(n.any(e,r.ns.wf("message")))s=r.store.any(e,r.ns.wf("message")).doc();else if(n.holds(void 0,i.rdf("type"),i.foaf("ChatChannel"),e)||n.holds(e,i.rdf("type"),i.foaf("ChatChannel"))){s=e.doc(),f.query=(d=new $rdf.Query("IRC log entries"),p=[],["chan","msg","date","list","pred","creator","content"].map((function(e){d.vars.push(p[e]=$rdf.variable(e))})),d.pat.add(p.chan,i.foaf("chatEventList"),p.list),d.pat.add(p.list,p.pred,p.msg),d.pat.add(p.msg,i.dc("date"),p.date),d.pat.add(p.msg,i.dc("creator"),p.creator),d.pat.add(p.msg,i.dc("description"),p.content),d)}else l="Unknown chat type",(u=a.createElement("pre")).setAttribute("style","background-color: "+c||!1),o.appendChild(u),u.appendChild(a.createTextNode(l));return o.appendChild(r.messageArea(a,n,e,s,f)),n.updater.addDownstreamChangeListener(s,(function(){r.widgets.refreshTree(o)})),o}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.findChat=C,t.getChat=function(e){return T.apply(this,arguments)};var i=n(0),a=n(3),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(166));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,s,"next",e)}function s(e){l(a,r,i,o,s,"throw",e)}o(void 0)}))}}function u(){return d.apply(this,arguments)}function d(){return(d=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=i.authn.currentUser())){e.next=3;break}throw new Error("Current user not found! Not logged in?");case 3:return e.next=5,i.store.fetcher.load(t.doc());case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.store.any(t,i.ns.space("storage"),void 0,t.doc())){e.next=3;break}throw new Error("Current user pod root not found!");case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.store.fetcher.load(t.doc());case 2:if(r=i.store.any(t,i.ns.ldp("inbox"),void 0,t.doc())){e.next=5;break}throw new Error("Invitee inbox not found! ".concat(t.value));case 5:return a="\n<> a <http://www.w3.org/ns/pim/meeting#LongChatInvite> ;\n".concat(i.ns.rdf("seeAlso")," <").concat(n.value,"> . \n  "),e.next=8,i.store.fetcher.webOperation("POST",r.value,{data:a,contentType:"text/turtle"});case 8:if(o=e.sent,o.headers.get("location")){e.next=12;break}throw new Error("Invite sending returned a ".concat(o.status));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){var n=new URL("IndividualChats/".concat(new URL(e.value).host,"/"),t.value).toString();return new a.NamedNode(n)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.mintNew({session:{store:i.store}},{me:n,newBase:t.value});case 2:return r=e.sent,e.abrupt("return",r.newInstance);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n){return w.apply(this,arguments)}function w(){return(w=c(regeneratorRuntime.mark((function e(t,n,r){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.store.fetcher.load(t);case 2:if(o=i.store.any(t,new a.NamedNode("http://www.iana.org/assignments/link-relations/acl"))){e.next=5;break}throw new Error("Chat ACL doc not found!");case 5:return s="\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#owner>\n    a acl:Authorization;\n    acl:agent <".concat(n.value,">;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Write, acl:Control.\n<#invitee>\n    a acl:Authorization;\n    acl:agent <").concat(r.value,">;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Append.\n"),e.next=8,i.store.fetcher.webOperation("PUT",o.value,{data:s,contentType:"text/turtle"});case 8:e.sent;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return k.apply(this,arguments)}function k(){return(k=c(regeneratorRuntime.mark((function e(t,n){var r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.store.any(n,i.ns.solid("privateTypeIndex"))){e.next=3;break}throw new Error("Private type index not found!");case 3:return e.next=5,i.store.fetcher.load(r);case 5:return o=i.widgets.newThing(r),s=[(0,a.st)(o,i.ns.rdf("type"),i.ns.solid("TypeRegistration"),r.doc()),(0,a.st)(o,i.ns.solid("forClass"),i.ns.meeting("LongChat"),r.doc()),(0,a.st)(o,i.ns.solid("instance"),t,r.doc())],e.next=9,new Promise((function(e,t){i.store.updater.update([],s,(function(n,r,i){r?e():t(new Error(i))}))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return E.apply(this,arguments)}function E(){return(E=c(regeneratorRuntime.mark((function e(t){var n,r,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return n=e.sent,e.next=5,p(n);case 5:return r=e.sent,s=g(t,r),l=!0,e.prev=8,e.next=11,i.store.fetcher.load(new a.NamedNode(s.value+o.CHAT_LOCATION_IN_CONTAINER));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),l=!1;case 16:return e.abrupt("return",{me:n,chatContainer:s,exists:l});case 17:case"end":return e.stop()}}),e,null,[[8,13]])})))).apply(this,arguments)}function T(){return(T=c(regeneratorRuntime.mark((function e(t){var n,r,i,s,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],e.next=3,C(t);case 3:if(r=e.sent,i=r.me,s=r.chatContainer,!r.exists){e.next=9;break}return e.abrupt("return",new a.NamedNode(s.value+o.CHAT_LOCATION_IN_CONTAINER));case 9:if(!n){e.next=20;break}return e.next=12,v(s,i);case 12:return l=e.sent,e.next=15,h(t,l);case 15:return e.next=17,b(s,i,t);case 17:return e.next=19,x(l,i);case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r=n(0),i=r.ns,a=n(3),o=n(383);e.exports={icon:r.icons.iconBase+"noun_66617.svg",name:"meeting",audience:[i.solid("PowerUser")],label:function(e,t){var n=t.session.store,i=r.ns;return n.holds(e,i.rdf("type"),i.meeting("Meeting"))?"Meeting":null},mintClass:r.ns.meeting("Meeting"),mintNew:function(e,t){return new Promise((function(n,i){var o=e.session.store,s=r.ns;t.newInstance=t.newInstance||o.sym(t.newBase+"index.ttl#this");var l=t.newInstance,c=l.doc(),u=r.authn.currentUser();u&&o.add(l,s.dc("author"),u,c),o.add(l,s.rdf("type"),s.meeting("Meeting"),c),o.add(l,s.dc("created"),new Date,c),o.add(l,s.ui("backgroundColor"),new a.Literal("#ddddcc",void 0,s.xsd("color")),c);var d=new a.Collection;o.add(l,s.meeting("toolList"),d,c),d.elements.push(l),o.updater.put(c,o.statementsMatching(void 0,void 0,void 0,c),"text/turtle",(function(e,r,a){r?n(t):i(new Error("Error writing meeting configuration: "+a))}))}))},render:function(e,t){var n=t.dom,i=t.session.store,s=r.ns,l=i.updater,c=this,u=function(e,t){console.log(e);var r=n.createElement("pre");r.setAttribute("style","background-color: "+t||!1),m.appendChild(r),r.appendChild(n.createTextNode(e))},d=function(e,t){e||u(t)},p=e,f=e.doc(),h=e.dir().uri,m=n.createElement("div"),g=m.appendChild(n.createElement("table"));g.style="width: 100%; height: 100%; margin:0;";var v=g.appendChild(n.createElement("tr"));v.appendChild(n.createElement("div"));var y=g.appendChild(n.createElement("tr")),b=g.appendChild(n.createElement("td")).appendChild(n.createElement("table")).appendChild(n.createElement("tr"));v.setAttribute("style","height: 2em;");var w=null,x=function(){l.put(f,i.statementsMatching(void 0,void 0,void 0,f),"text/turtle",(function(e,t,n){t?(Q.refresh(),G()):u(n="FAILED to save new thing at: "+f+" : "+n)}))},k=function(e,t,n){var r=t.doc();n&&i.add(p,n,t,r),i.add(t,s.meeting("parentMeeting"),p,r),l.put(r,i.statementsMatching(void 0,void 0,void 0,r),"text/turtle",(function(e,n,r){n?x():u("FAILED to save new tool at: "+t+" : "+r)}))},C=function(e,t,n,a){t&&i.add(p,t,e,f);var o=r.widgets.newThing(f);return n&&i.add(o,s.rdfs("label"),n,f),a&&i.add(o,s.meeting("icon"),i.sym(a),f),i.add(o,s.rdf("type"),s.meeting("Tool"),f),i.add(o,s.meeting("target"),e,f),i.the(p,s.meeting("toolList")).elements.push(o),o};function E(e){var t=/https:\/\/www\.google\..*\/maps\//,n="https://www.google.com/maps/embed/v1/",r=e.uri;if(!r.match(t))return e;if(r.startsWith(n))return e;var i=r.replace(t,n)+"&key=AIzaSyB8aaT6bY9tcLCmc2oPCkdUYLmTOWM8R54";return console.log("Converted Google Map URI! "+i),a.sym(i)}var T=function(n){return new Promise((function(o){console.log("Dropped on thing "+n);var l=n.uri;if(l.startsWith("http:")&&l.indexOf("#")<0)return function(n){var r=s.wf("attachment");i.add(e,r,n,e.doc());P({icon:"noun_160581.svg",limit:1,shareTab:!0},{newInstance:e,pane:t.session.paneRegistry.byName("link"),predicate:s.meeting("attachmentTool"),tabTitle:"Links",view:"link",noIndexHTML:!0})}(n),o(n);i.fetcher.nowOrWhenFetched(n,(function(e,t){function c(e){e=E(e),console.log("make web page attachement tab "+e);var t=C(e,r.ns.wf("attachment"),r.utils.label(e),null);return i.add(t,r.ns.meeting("view"),"iframe",f),o(e)}if(e){var h=n,m=i.findTypeURIs(h);for(var g in m)console.log("    drop object type includes: "+g);if(s.vcard("Individual").uri in m||s.foaf("Person").uri in m||s.foaf("Agent").uri in m)return function(e){var t=i.any(e,s.foaf("preferredURI")),n=t?i.sym(t):e,o=i.any(p,s.meeting("attendeeGroup")),l=function(e,t){var n=[a.st(t,r.ns.vcard("hasMember"),e,t.doc())],o=i.any(e,s.vcard("fn"))||i.any(e,s.foaf("name"));o&&n.push(a.st(e,r.ns.vcard("fn"),o,t.doc())),i.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(r,a){r?i.updater.update([],n,(function(t,n,r){d(n,r),n&&console.log("Addded to particpants OK: "+e)})):u("Can't read group to add person"+t)}))};o?l(n,o):j().then((function(e){var t=e.newInstance;l(n,t),i.fetcher.putBack(f,{contentType:"text/turtle"}).then((function(e){console.log("Particiants Group created: "+t)}))})).catch((function(e){u(e)}))}(n),o(n);if(l.startsWith("https:")&&l.indexOf("#")<0){var v=i.fetcher.getHeader(n,"x-frame-options"),y=!0;if(v)for(var b=0;b<v.length;b++)console.log("x-frame-options: "+v[b]),v[b].indexOf("sameorigin")<0&&(y=!1),v[b].indexOf("deny")<0&&(y=!1);if(y)return function(e){var t=C(e,r.ns.wf("attachment"),r.utils.label(e),null);i.add(t,r.ns.meeting("view"),"iframe",f)}(n=E(n)),o(n)}return console.log("Default: assume web page attachement "+n),c(n)}return console.log("Error looking up dropped thing, will just add it anyway. "+n+": "+t),c(n)}))}))},_=function(e){Promise.all(e.map((function(e){var t=a.sym(e);return T(t)}))).then((function(e){x()}))},S=function(e){r.widgets.uploadFiles(i.fetcher,e,p.dir().uri+"Files",p.dir().uri+"Pictures",(function(e,t){e.type.startsWith("image/")?O("Files"):A("Pictures")}))},O=function(e){return P({icon:"noun_598334.svg",limit:1,shareTab:!0},{newInstance:i.sym(p.dir().uri+e+"/"),pane:t.session.paneRegistry.byName("folder"),predicate:s.meeting("pictures"),shareTab:!0,tabTitle:e,view:"slideshow",noIndexHTML:!0})},A=function(e){return P({icon:"noun_681601.svg",limit:1,shareTab:!0},{newInstance:i.sym(p.dir().uri+"Files/"),pane:t.session.paneRegistry.byName("folder"),predicate:s.meeting("materialsFolder"),tabTitle:"Materials",noIndexHTML:!0})},j=function(){return P({icon:"noun_339237.svg",limit:1,shareTab:!0},{newInstance:i.sym(p.dir().uri+"Attendees/index.ttl#this"),pane:t.session.paneRegistry.byName("contact"),predicate:s.meeting("attendeeGroup"),tabTitle:"Attendees",instanceClass:s.vcard("Group"),instanceName:r.utils.label(e)+" attendees",noIndexHTML:!0})};function P(e,n){return new Promise((function(i,a){var o=t.session.store;if(!n.useExisting){var s=o.any(p,n.predicate);if(s){if(e.limit&&1===e.limit&&!e.shareTab)return u("Already have "+s+" as "+r.utils.label(n.predicate)),u("Cant have two"),i(null);if(e.shareTab)return console.log("Using existing "+s+" as "+r.utils.label(n.predicate)),i({me:w,newInstance:s,instanceClass:n.instanceClass})}}w||n.me||a(new Error("Username not defined for new tool")),n.me=n.me||w,n.newInstance=n.useExisting||n.newInstance||o.sym(n.newBase+"index.ttl#this"),n.pane.mintNew(t,n).then((function(e){var t=C(e.newInstance,e.predicate,e.tabTitle,e.pane.icon);e.view&&o.add(t,r.ns.meeting("view"),e.view,f),x(),o.fetcher.putBack(f,{contentType:"text/turtle"}).then((function(t){i(e)})).catch((function(e){a(e)}))})).catch((function(e){u(e),a(e)}))}))}var I=function(){var e=r.authn.selectWorkspace(n,{noun:"meeting"},(function(i,a){c.mintNew(t,{newBase:a}).then((function(t){var r=t.newInstance;D.removeChild(e);var i=D.appendChild(n.createElement("p"));i.setAttribute("style","font-size: 140%;"),i.innerHTML="Your <a target='_blank' href='"+r.uri+"'><b>new meeting</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+r.uri+"'>Go to your new meeting.</a>"})).catch((function(t){D.removeChild(e),D.appendChild(r.widgets.errorMessageBlock(n,t))}))}));D.appendChild(e)},N=[{icon:"noun_339237.svg",maker:function(e){var n=h+"Group/",i=t.session.store,o=i.any(p,s.meeting("particpants"));o||(o=a.sym(n+"index.ttl#this")),console.log("Participant group: "+o);var l=C(o,s.meeting("particpants"),"Particpants",r.icons.iconBase+"noun_339237.svg");i.add(l,r.ns.meeting("view"),"peoplePicker",f),x()},hint:"Make a group of people",limit:1},{icon:"noun_346777.svg",maker:function(e){return P(e,{useExisting:p,pane:t.session.paneRegistry.byName("schedule"),view:"schedule",tabTitle:"Schedule poll",noIndexHTML:!0})},hint:"Make a poll to schedule the meeting"},{icon:"noun_48218.svg",maker:function(e){},limit:1,hint:"Add an agenda list",disabled:!0},{icon:"noun_79217.svg",maker:function(e){return P(e,{newBase:h+"SharedNotes/",predicate:r.ns.meeting("sharedNotes"),tabTitle:"Shared Notes",pane:t.session.paneRegistry.byName("pad")})},hint:"Add a shared notepad"},{icon:"noun_346319.svg",maker:function(e){var n=h+"Chat/",i=t.session.store;if(i.holds(p,s.meeting("chat")))console.log("Ignored - already have chat");else{var a=i.sym(n+"chat.ttl");i.add(a,s.rdf("type"),s.meeting("Chat"),a);C(a,s.meeting("chat"),"Chat",r.icons.iconBase+"noun_346319.svg");k(0,a,s.meeting("chat"))}},limit:1,hint:"Add a chat channel for the meeting"},{icon:"noun_17020.svg",maker:function(e){var n=h+"Actions/",i=t.session.store;if(i.holds(p,s.meeting("actions")))console.log("Ignored - already have actions");else{var a=i.sym(n+"config.ttl"),o=i.sym(n+"config.ttl#this"),l=i.sym(n+"state.ttl");i.add(o,s.dc("title"),(i.anyValue(p,s.cal("summary"))||"Meeting ")+" actions",a),i.add(o,s.wf("issueClass"),s.wf("Task"),a),i.add(o,s.wf("initialState"),s.wf("Open"),a),i.add(o,s.wf("stateStore"),l,a),i.add(o,s.wf("assigneeClass"),s.foaf("Person"),a),i.add(o,s.rdf("type"),s.wf("Tracker"),a),i.add(o,s.rdf("type"),s.wf("Tracker"),a);C(o,s.meeting("actions"),"Actions",r.icons.iconBase+"noun_17020.svg");k(0,o,s.meeting("actions"))}},limit:1,hint:"Add a list of action items"},{icon:"noun_260227.svg",maker:function(e){var n=t.session.store,i=a.sym("https://meet.jit.si/"+r.utils.genUuid());if(n.holds(p,s.meeting("videoCallPage")))console.log("Ignored - already have a videoCallPage");else{n.add(i,s.rdf("type"),s.meeting("VideoCallPage"),f);var o=C(i,s.meeting("videoCallPage"),"Video call",r.icons.iconBase+"noun_260227.svg");n.add(o,s.meeting("view"),"iframe",f),x()}},limit:1,hint:"Add a video call for the meeting"},{icon:"noun_25830.svg",maker:function(e){r.widgets.askName(n,i,D,s.log("uri"),r.ns.rdf("Resource")).then((function(e){if(!e)return G();var n=t.session.store,i=r.ns,a=n.sym(e),o=C(a,i.wf("attachment"),r.utils.label(a),null);n.add(o,i.meeting("view"),"iframe",f),x()})).catch((function(e){u("Error making new sub-meeting: "+e)}))},hint:"Attach meeting materials",disabled:!1},{icon:"noun_123691.svg",maker:function(e){var n=t.session.store,i=r.ns,a=p.dir();if(e.limit&&1===e.limit&&n.holds(p,i.wf("sharingControl")))u("Ignored - already have "+r.utils.label($.predicate));else{var o=C(a,i.wf("sharingControl"),"Sharing",r.icons.iconBase+"noun_123691.svg");n.add(o,i.meeting("view"),"sharing",f),x()}},limit:1,hint:"Control Sharing",disabled:!1},{icon:"noun_66617.svg",maker:function(e){r.widgets.askName(n,i,D,s.foaf("name"),r.ns.meeting("Meeting")).then((function(n){if(!n)return G();var i=encodeURIComponent(n),a={newBase:h+i+"/",predicate:r.ns.meeting("subMeeting"),tabTitle:n,pane:t.session.paneRegistry.byName("meeting")};return P(e,a)})).catch((function(e){u("Error making new sub-meeting: "+e)}))},hint:"Make a sub meeting",disabled:!1}],L=a.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#settings");a.parse(o,i,L.doc().uri,"text/turtle");var R="padding: 1em; width: 3em; height: 3em;",M=b.appendChild(n.createElement("td")),D=b.appendChild(n.createElement("td")),F=M.appendChild(n.createElement("img")),B=!1;F.setAttribute("src",r.icons.iconBase+"noun_19460_green.svg"),F.setAttribute("style",R+"opacity: 50%;"),F.setAttribute("title","Add another tool to the meeting");var U,z=function(e){B=!B,F.setAttribute("style",R+(B?"background-color: yellow;":"")),W(B?"":"display: none;")};r.authn.checkUser().then((function(e){if(e)return w=e,F.addEventListener("click",z),void F.setAttribute("style",R);(U=r.authn.loginStatusBox(n,(function(e){e?(w=i.sym(e),D.removeChild(U),F.addEventListener("click",z),F.setAttribute("style",R)):(console.log("(Logged out)"),w=null)}))).setAttribute("style","margin: 0.5em 1em;"),D.appendChild(U)}));for(var q=[],H=0;H<N.length;H++){!function(){var e=N[H],t=M.appendChild(n.createElement("img"));t.setAttribute("src",r.icons.iconBase+e.icon),t.setAttribute("style",R+"display: none;"),q.push(t),t.tool=e;var i=e.maker;e.disabled||t.addEventListener("click",(function(n){V(t),i(e)}))}()}var W=function(e){for(var t=0;t<q.length;t++){var n=R+e;N[t].disabled&&(n+="opacity: 0.3;"),q[t].setAttribute("style",n)}},G=function(){W("display: none;"),F.setAttribute("style",R)},V=function(e){W("display: none;"),e.setAttribute("style",R+"background-color: yellow;")},$={dom:n};$.predicate=s.meeting("toolList"),$.subject=e,$.ordered=!0,$.orientation=1,$.renderMain=function(e,o){var l,c=null,d=null;e.innerHTML="";var h=function(t,n){t||(e.textContent=""+n)},m=function(){e.appendChild(n.createElement("h3")).textContent="Details of meeting";var t,o,l,c=a.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#main");r.widgets.appendForm(document,e,{},p,c,p.doc(),h),e.appendChild((t="Drag URL-bar icons of web pages into the tab bar on the left to add new meeting materials.",o=n.createElement("div"),(l=o.appendChild(n.createElement("p"))).setAttribute("style","margin: 0em; padding:3em; color: #888;"),l.textContent="Tip: "+t,o)),(w=r.authn.currentUser())&&i.add(p,s.dc("author"),w,f);var u={noun:"meeting",me:w,statusArea:e,div:e,dom:n};r.authn.registrationControl(u,p,s.meeting("Meeting")).then((function(e){console.log("Registration control finsished.")}));r.pad.manageParticipation(n,e,f,p,w,{});var d="height: 2em; width: 2em; margin:0.5em;",m=e.appendChild(n.createElement("div")),g=m.appendChild(n.createElement("img"));g.setAttribute("src",r.icons.iconBase+"noun_145978.svg"),g.setAttribute("title","Make a fresh new meeting"),g.addEventListener("click",I),g.setAttribute("style",d);var v=m.appendChild(n.createElement("a"));v.setAttribute("href","https://github.com/solid/solid-panes"),v.setAttribute("target","_blank");var y=v.appendChild(n.createElement("img"));y.setAttribute("src",r.icons.iconBase+"noun_368567.svg"),y.setAttribute("title","Fork me on github"),y.setAttribute("style",d+"opacity: 50%;")};if(i.holds(o,s.rdf("type"),s.meeting("Tool"))){var g=i.any(o,s.meeting("target"));if(g.sameTerm(p)&&!i.any(o,s.meeting("view")))m();else{var v=i.any(o,s.meeting("view"));"details"===(v=v?v.value:null)?m():"peoplePicker"===v?function(){var t={div:e,dom:n};e.appendChild(n.createElement("h4")).textContent="Meeting Participants";var o=function(e){var t=[a.st(p,s.meeting("particpantGroup"),e,p.doc())];i.updater.update([],t,(function(t,n,r){n?d=e:u("Cant save participants group: "+r)}))};d=i.any(p,s.meeting("particpantGroup")),r.authn.loadTypeIndexes(t).then((function(){var e={defaultNewGroupName:"Meeting Participants",selectedGroup:d};new r.widgets.PeoplePicker(t.div,t.index.private[0],o,e).render()}))}():"iframe"===v?function(t){var r=e.appendChild(n.createElement("iframe"));r.setAttribute("src",t.uri),r.setAttribute("style","border: none; margin: 0; padding: 0; height: 100%; width: 100%;"),r.setAttribute("allow","microphone camera"),r.setAttribute("name","disable-x-frame-options"),e.style.padding=0}(g):(c=v?t.session.paneRegistry.byName(v):null,(l=e.appendChild(n.createElement("table"))).style.width="100%",t.getOutliner(n).GotoSubject(g,!0,c,!1,void 0,l))}}else o.sameTerm(p)?m():(!o.sameTerm(o.doc())||i.holds(o,r.ns.rdf("type"),r.ns.meeting("Chat"))||i.holds(o,r.ns.rdf("type"),r.ns.meeting("PaneView")))&&(l=e.appendChild(n.createElement("table")),t.getOutliner(n).GotoSubject(o,!0,void 0,!1,void 0,l))},$.renderTab=function(e,t){if(i.holds(t,s.rdf("type"),s.meeting("Tool"))){var a=i.any(t,s.meeting("target")),o=i.any(t,s.rdfs("label"));o=o?o.value:r.utils.label(a);var l=e.appendChild(n.createElement("div"));l.textContent=o,l.setAttribute("style","margin-left: 0.7em");var c=i.any(t,s.meeting("icon"));if(c){var u=e.appendChild(n.createElement("table")).appendChild(n.createElement("tr")),d=u.appendChild(n.createElement("td")),p=u.appendChild(n.createElement("td")),f=d.appendChild(n.createElement("img"));f.setAttribute("src",c.uri),f.setAttribute("style","width: 1.5em; height: 1.5em;"),f.setAttribute("title",o),p.appendChild(l)}else e.appendChild(l)}else e.textContent=r.utils.label(t)},$.renderTabSettings=function(e,t){if(e.innerHTML="",e.style+="border-color: #eed;",e.appendChild(n.createElement("h3")).textContent="Adjust this tab",i.holds(t,s.rdf("type"),s.meeting("Tool"))){var o=a.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#settings");r.widgets.appendForm(document,e,{},t,o,p.doc(),d),r.widgets.deleteButtonWithCheck(n,e,"tab",(function(){for(var e=i.the(p,s.meeting("toolList")),n=0;n<e.elements.length;n++)if(e.elements[n].sameTerm(t)){e.elements.splice(n,1);break}var r=i.any(t,s.meeting("target")),a=i.statementsMatching(t).concat(i.statementsMatching(void 0,void 0,t)).concat(i.statementsMatching(p,void 0,r));i.remove(a),x()})).setAttribute("style","width: 1.5em; height: 1.5em;")}else e.appendChild(n.createElement("h4")).textContent="(No adjustments available)"},$.backgroundColor=i.anyValue(e,s.ui("backgroundColor"))||"#ddddcc";var Q=y.appendChild(r.tabs.tabWidget($));return r.aclControl.preventBrowserDropEvents(n),r.widgets.makeDropTarget(Q.tabContainer,_,S),r.widgets.makeDropTarget(M,_,S),m}}},function(e,t,n){"use strict";e.exports='@prefix : <http://www.w3.org/ns/ui#> .\n@prefix f: <#> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix cal: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix meeting: <http://www.w3.org/ns/pim/meeting#>.\n@prefix ns: <http://www.w3.org/2006/vcard/ns#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix te: <http://purl.org/dc/terms/> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n  f:main    a :Form;\n      cal:summary "Meeting Details";\n      :part f:titleField, f:locationField, f:startField,\n                    f:endField, f:eventComment, f:colorField .\n\n  f:titleField     a :SingleLineTextField;\n       :maxLength 256;\n       :property cal:summary;\n       :label "Name of meeting";\n       :size 80 .\n\n   f:locationField     a :SingleLineTextField;\n        :maxLength 128;\n        :property cal:location;\n        :size 40 .\n\n    f:startField     a :DateField;\n        :label "Start";\n         :property cal:dtstart .\n\n   f:endField     a :DateField;\n       :label "End";\n          :property cal:dtend .\n\n    f:colorField     a :ColorField;\n        :label "Tab color";\n  #      :default "#ddddcc"^^xsd:color;\n           :property ui:backgroundColor .\n\n      f:eventComment\n           a    ui:MultiLineTextField;\n       #    ui:maxLength\n       #       "1048";\n       #    ui:size\n       #       "40".\n           ui:property\n              cal:comment.\n\n###################################################\n\nf:settings a :Form;\n    dc:title "Tab settings";\n    :part f:labelField, f:targetField, f:viewField.\n\n    f:labelField     a :SingleLineTextField;\n         :maxLength 128;\n         :property rdfs:label;\n         :label "Label on tab";\n         :size 40 .\n\n   f:targetField     a :NamedNodeURIField;\n     :maxLength 1024;  # Longer?\n     :property meeting:target;\n     :label "URL of resource";\n     :size 80 .\n\n   f:colorField2     a :ColorField;\n       :label "Tab color";\n #      :default "#ddddcc"^^xsd:color;\n          :property ui:backgroundColor .\n\n   f:viewField     a :SingleLineTextField;\n        :maxLength 128;\n        :property meeting:view;\n        :label "View mode (experts only)";\n        :size 40 .\n\n#\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var a={icon:r.icons.iconBase+"noun_688606.svg",name:"tabbed",audience:[r.ns.solid("PowerUser")],label:function(e,t){var n=t.session.store.findTypeURIs(e);return r.ns.meeting("Cluster").uri in n?"Tabbed":null},render:function(e,t){var n,a=t.dom,o=t.session.store,s=a.createElement("div");return(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.fetcher){n.next=2;break}throw new Error("Store has no fetcher");case 2:return n.next=4,o.fetcher.load(e);case 4:s.appendChild(r.tabs.tabWidget({dom:a,subject:e,predicate:o.any(e,r.ns.meeting("predicate"))||r.ns.meeting("toolList"),ordered:!0,orientation:o.anyValue(e,r.ns.meeting("orientation"))||"0",renderMain:function(e,n){e.innerHTML="";var r=e.appendChild(t.dom.createElement("table"));t.getOutliner(t.dom).GotoSubject(n,!0,null,!1,void 0,r)},renderTab:function(n,i){var a=o.the(e,r.ns.meeting("predicate"));n.appendChild(r.widgets.personTR(t.dom,a,i,{}))},backgroundColor:o.anyValue(e,r.ns.ui("backgroundColor"))||"#ddddcc"}));case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))})(),s}};t.default=a},function(e,t,n){"use strict";var r=n(0),i=r.rdf,a=r.ns,o=[a.sched("No"),a.sched("Maybe"),a.sched("Yes")];e.exports={icon:r.icons.iconBase+"noun_346777.svg",name:"schedule",audience:[a.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/ns/pim/schedule#SchedulableEvent"]?"Scheduling poll":null},mintClass:a.sched("SchedulableEvent"),mintNew:function(e,t){return new Promise((function(n,a){var o=r.ns,s=e.session.store,l=t.newBase,c=t.useExisting||i.sym(t.newBase+"index.ttl#this"),u=function(e,t){e||(console.log("Error in Schedule Pane: Error constructing new scheduler: "+t),a(new Error(t)))},d=function(e,t,n){var a=i.graph(),s=i.Namespace("http://www.w3.org/ns/auth/acl#"),l=a.sym(t+"#a1"),c=a.sym(t),u=a.sym(e);return a.add(l,r.ns.rdf("type"),s("Authorization"),c),a.add(l,s("accessTo"),u,c),a.add(l,s("agent"),m,c),a.add(l,s("mode"),s("Read"),c),a.add(l,s("mode"),s("Write"),c),a.add(l,s("mode"),s("Control"),c),l=a.sym(t+"#a2"),a.add(l,r.ns.rdf("type"),s("Authorization"),c),a.add(l,s("accessTo"),u,c),a.add(l,s("agentClass"),o.foaf("Agent"),c),a.add(l,s("mode"),s("Read"),c),n&&a.add(l,s("mode"),s("Write"),c),i.serialize(c,a,t,"text/turtle")},p=function(e,t,n){var r=s.any(s.sym(e),s.sym("http://www.iana.org/assignments/link-relations/acl"));if(r){var i=d(e,r.uri,t);return f.webOperation("PUT",r.uri,{data:i,contentType:"text/turtle"}).then((function(e){return n(!0)})).catch((function(e){n(!1,e.message)}))}return f.load(e).catch((function(e){n(!1,"Getting headers for ACL: "+e)})).then((function(){var n=s.any(s.sym(e),s.sym("http://www.iana.org/assignments/link-relations/acl"));if(!n)throw new Error("No Link rel=ACL header for "+e);var r=d(e,n.uri,t);return f.webOperation("PUT",n.uri,{data:r,contentType:"text/turtle"})})).then((function(e){return n(!0)})).catch((function(e){n(!1,e.message)}))},f=s.fetcher,h=s.updater,m=t.me||r.authn.currentUser();if(!m)return console.log("MUST BE LOGGED IN"),void alert("NOT LOGGED IN");var g,v,y=c.dir().uri;if(t.useExisting){if(v=t.useExisting,l=c.dir().uri,g=v.doc(),t.newBase)throw new Error("mint new scheduler: Illegal - have both new base and existing event")}else g=s.sym(l+"details.ttl"),v=s.sym(g.uri+"#event");for(var b=s.sym(l+"results.ttl"),w=t.noIndexHTML?{}:[{local:"index.html",contentType:"text/html"}],x=[],k=0;k<w.length;k++){!function(e){x.push((function(){var t=l+e.local;console.log("Copying "+y+e.local+" to "+t);s.fetcher.webCopy(y+e.local,l+e.local,e.contentType).then((function(){return r.authn.checkUser()})).then((function(e){m=e,p(t,!1,(function(e,n){e?x.shift()():(u(e,"FAILED to set ACL "+t+" : "+n),console.log("FAILED to set ACL "+t+" : "+n))}))})).catch((function(t){console.log("FAILED to copy "+y+e.local+" : "+t.message),u(!1,"FAILED to copy "+y+e.local+" : "+t.message)}))}))}(w[k])}x.push((function(){s.add(v,o.rdf("type"),o.sched("SchedulableEvent"),g),m&&(s.add(v,o.dc("author"),m,g),s.add(v,o.foaf("maker"),m,g)),s.add(v,o.dc("created"),new Date,g),s.add(v,o.sched("resultsDocument"),g),h.put(g,s.statementsMatching(void 0,void 0,void 0,g),"text/turtle",(function(e,t,n){t?x.shift()():(u(t,"FAILED to save new scheduler at: "+g+" : "+n),console.log("FAILED to save new scheduler at: "+g+" : "+n))}))})),x.push((function(){s.fetcher.webOperation("PUT",b.uri,{data:"",contentType:"text/turtle"}).then((function(){x.shift()()})).catch((function(e){u(!1,"Failed to initialize empty results file: "+e.message)}))})),x.push((function(){p(b.uri,!0,(function(e,t){u(e,"Failed to set Read-Write ACL on results file: "+t),e&&x.shift()()}))})),x.push((function(){p(g.uri,!1,(function(e,t){u(e,"Failed to set read ACL on configuration file: "+t),e&&x.shift()()}))})),x.push((function(){console.log("Finished minting new scheduler"),t.newInstance=v,n(t)})),x.shift()()}))},render:function(e,t){var a=t.dom,s=t.session.store,l=r.ns,c=e,u=s.fetcher,d=s.updater,p=!1,f=e,h=e.doc(),m=h.dir().uri,g=i.sym(m+"results.ttl"),v="https://solid.github.io/solid-panes/schedule/formsForSchedule.ttl",y=s.sym(v+"#form1"),b=s.sym(v+"#form2"),w=s.sym(v+"#form3"),x=n(386);i.parse(x,s,v,"text/turtle");var k,C="background-color: #eef; padding: 0.5em;  border: .5em solid white; font-size: 100%",E=function(e,t){e||D.appendChild(r.widgets.errorMessageBlock(a,t,"pink"))},T=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},_=function(e,t){var n=s.any(t,r.ns.ui("backgroundColor"));n&&e.setAttribute("style","padding: 0.3em; text-align: center; background-color: "+n+";")};r.authn.checkUser().then((function(e){k=e,U&&U.refresh(),e&&p&&(p=!1,j())})),console.log("me: "+k);var S=function(e){var t=s.any(e,l.space("uriPrefix"));"/"!==(t=t?t.value:e.uri.split("#")[0]).slice(-1)&&(i.log.error("app-when-can-we.w3.org: No / at end of uriPrefix "+t),t+="/"),t+="app-when-can-we.w3.org/id"+(new Date).getTime()+"/",O(f,t)},O=function(e,n){var r={thisInstance:e,newBase:n};this.mintNew(t,r).then((function(e){var t=D.appendChild(a.createElement("p"));t.setAttribute("style","font-size: 140%;"),t.innerHTML="Your <a href='"+e.newInstance.uri+"'><b>new scheduler</b></a> is ready to be set up. <br/><br/><a href='"+e.newInstance.uri+"'>Say when you what days work for you.</a>"})).catch((function(e){E(!1,"Error createing new scheduler at "+r.newInstance+": "+e)}))},A=function(){console.log("getDetails()"),u.nowOrWhenFetched(h.uri,void 0,(function(e,t){if(console.log("getDetails() ok? "+e),!e)return E(e,t);j()}))},j=function(){console.log("showAppropriateDisplay()"),r.authn.checkUser().then((function(t){if(!t)return P();s.updater.editable(h.uri,s)&&!s.holds(e,l.rdf("type"),l.wf("TemplateInstance"))?s.any(e,l.sched("ready"))?R():L():I(D)}))},P=function(){T(z);var e={div:D,dom:a};r.authn.logIn(e).then((function(e){k=e.me,p=!1,j()}))},I=function(){var e=T(z);e.appendChild(r.authn.newAppInstance(a,{noun:"poll"},S)),e.appendChild(a.createElement("hr")),e.appendChild(a.createElement("p")).textContent="Where would you like to store the data for the poll?  Give the URL of the directory where you would like the data stored.";var t=e.appendChild(a.createElement("input"));t.setAttribute("type","text"),t.size=80,t.label="base URL",t.autocomplete="on",e.appendChild(a.createElement("br"));var n=e.appendChild(a.createElement("button"));n.setAttribute("style",C),n.textContent="Start new poll at this URI",n.addEventListener("click",(function(e){var n=t.value;"/"!==n.slice(-1)&&(n+="/"),O(f,n)}))},N=a.createElement("button"),L=function(){T(W);var t=0,n=!1,o=[y,b,w],c=[];t=0;for(var u=0;u<o.length;u++){var d=a.createElement("div");r.widgets.appendForm(document,d,{},e,o[u],h,E),c.push(d)}var p=function(){T(z).appendChild(c[t]),0===t?f.setAttribute("disabled",""):f.removeAttribute("disabled"),t===c.length-1?(m.setAttribute("disabled",""),n||(W.appendChild(x),W.appendChild(N),n=!0)):m.removeAttribute("disabled")},f=T(H).appendChild(a.createElement("button"));f.setAttribute("style",C),f.textContent="<- go back",f.addEventListener("click",(function(e){t>0&&(t-=1,p())}),!1);var m=T(G).appendChild(a.createElement("button"));m.setAttribute("style",C),m.textContent="continue ->",m.addEventListener("click",(function(e){t<c.length-1&&(t+=1,p())}),!1),p();var v=[];v.push(i.st(e,l.sched("availabilityOptions"),l.sched("YesNoMaybe"),h)),v.push(i.st(e,l.sched("ready"),new Date,h)),v.push(i.st(e,l.sched("results"),g,h)),N.setAttribute("style",C),N.textContent="Go to poll",N.addEventListener("click",(function(t){s.any(e,l.sched("ready"))?(R(),G.appendChild(x)):(G.appendChild(x),s.updater.update([],v,(function(e,t,n){t?R():E(t,n)})))}),!1);var x=a.createElement("button");x.setAttribute("style",C);var k=x.appendChild(a.createElement("img"));k.setAttribute("src",r.icons.iconBase+"noun_480183.svg"),k.setAttribute("style","width: 1.8em; height: 1.8em;"),x.addEventListener("click",(function(t){var n=s.anyValue(e,l.cal("summary"))||s.anyValue(e,l.dc("title"))||"",r="mailto:"+s.each(e,l.sched("invitee")).map((function(e){var t=s.any(e,l.foaf("mbox"));return t?t.uri.replace("mailto:",""):""})).join(",")+"?subject="+encodeURIComponent(n+"-- When can we meet?")+"&body="+encodeURIComponent(n+"\n\nWhen can you?\n\nSee "+e+"\n");console.log("Mail: "+r),window.location.href=r}),!1)},R=function(){u.nowOrWhenFetched(g.uri,(function(e,t,n){e?(T(z),M()):404===n.status?(console.log("Initializing details file "+g),d.put(g,[],"text/turtle",(function(e,t,n){t?(T(z),M()):(E(t,"FAILED to create results file at: "+g.uri+" : "+n),console.log("FAILED to craete results file at: "+g.uri+" : "+n))}))):E(e,"FAILED to read results file: "+t)}))},M=function(){var t=s.any(c,l.cal("summary")),n=s.any(c,l.cal("comment")),u=s.any(c,l.cal("location")),d=z;t&&(d.appendChild(a.createElement("h3")).textContent=t),u&&(d.appendChild(a.createElement("address")).textContent=u.value),n&&(d.appendChild(a.createElement("p")).textContent=n.value);var p=s.any(c,l.dc("author"));if(p){var f=s.any(p,l.foaf("name"));f&&(d.appendChild(a.createElement("p")).textContent=f)}var h=new i.Query("Responses"),m={};["time","author","value","resp","cell"].forEach((function(e){h.vars.push(m[e]=i.variable(e))})),h.pat.add(c,l.sched("response"),m.resp),h.pat.add(m.resp,l.dc("author"),m.author),h.pat.add(m.resp,l.sched("cell"),m.cell),h.pat.add(m.cell,l.sched("availabilty"),m.value),h.pat.add(m.cell,l.cal("dtstart"),m.time);var v={};v.set_x=s.each(e,l.sched("option")),v.set_x=v.set_x.map((function(e){return s.any(e,l.cal("dtstart"))})),v.set_y=s.each(e,l.sched("response")),v.set_y=v.set_y.map((function(e){return s.any(e,l.dc("author"))}));var y=s.each(c,l.sched("option")).map((function(e){return s.any(e,l.cal("dtstart"))})),b=function(){var e=d.appendChild(r.matrix.matrixForQuery(a,h,m.time,m.author,m.value,v,(function(){})));e.setAttribute("class","matrix");var t=a.createElement("button");t.setAttribute("style",C);var n=a.createElement("img");n.setAttribute("src",r.icons.iconBase+"noun_479395.svg"),n.setAttribute("style","width: 1.8em; height: 1.8em;"),t.appendChild(n),t.addEventListener("click",(function(n){t.disabled=!0,s.fetcher.refresh(g,(function(n,r){n?(e.refresh(),t.disabled=!1):console.log("Cant refresh matrix"+r)}))}),!1),T(W),W.appendChild(t)},w=[],x={div:W,dom:a};r.authn.logIn(x).then((function(e){var t=e.me,n=g;v.set_y=v.set_y.filter((function(e){return!e.sameTerm(t)})),v.set_y.push(t),v.cellFunction=function(e,n,i,c){if(null!==c&&s.fetcher.nowOrWhenFetched(c.uri.split("#")[0],void 0,(function(t,n){t&&_(e,c)})),i.sameTerm(t)){var u=l.sched("availabilty"),d=w[n.toNT()],p=r.widgets.makeSelectForOptions(a,s,d,u,o,{},g,(function(){_(e,c)}));e.appendChild(p)}else null!==c&&(e.textContent=r.utils.label(c))};var u=s.each(c,l.sched("response")),d=null;u.forEach((function(e){s.holds(e,l.dc("author"),t)&&(d=e)}));var p=[],f=r.widgets.newThing(n).uri;null===d?(d=i.sym(f+"_response"),p.push(i.st(c,l.sched("response"),d,n)),p.push(i.st(d,l.dc("author"),t,n))):s.each(d,l.sched("cell")).forEach((function(e){var t=s.any(e,l.cal("dtstart"));w[t.toNT()]=e}));for(var h=0;h<y.length;h++)if(!w[y[h].toNT()]){var m=i.sym(f+"_"+h);p.push(i.st(d,l.sched("cell"),m,n)),p.push(i.st(m,l.cal("dtstart"),y[h],n)),w[y[h].toNT()]=m}p.length?s.updater.update([],p,(function(e,t,n){t?b():E(t,n)})):b()}));var O,A=s.any(e,l.foaf("maker"));if(!A||A.sameTerm(k)){var j=a.createElement("button");j.setAttribute("style",C);var P=a.createElement("img");P.setAttribute("src",r.icons.iconBase+"noun_344563.svg"),P.setAttribute("style","width: 1.8em; height: 1.8em;"),j.appendChild(P),j.addEventListener("click",(function(e){T(d),L()}),!1),T(H),H.appendChild(j)}T(G),G.appendChild(((O=r.authn.newAppInstance(a,{noun:"scheduler"},S)).firstChild.setAttribute("style",C),O))},D=a.createElement("div"),F=D.appendChild(a.createElement("table"));F.setAttribute("style","background-color: white; min-width: 40em; min-height: 13em;");var B=F.appendChild(a.createElement("tr"));B.appendChild(a.createElement("td")),B.appendChild(a.createElement("td")),B.appendChild(a.createElement("td"));var U=null,z=F.appendChild(a.createElement("tr")).appendChild(a.createElement("td"));z.setAttribute("colspan","3");var q=F.appendChild(a.createElement("tr"));q.setAttribute("class","naviMenu"),q.setAttribute("style"," text-align: middle; vertical-align: middle; padding-top: 4em; ");var H=q.appendChild(a.createElement("td")),W=q.appendChild(a.createElement("td")),G=q.appendChild(a.createElement("td"));return console.log("getforms()"),A(),D}}},function(e,t,n){"use strict";e.exports='\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix ical: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix sched: <http://www.w3.org/ns/pim/schedule#>.\n\n   ical:Vevent ui:annotationForm <#form2>, <#form3>; ui:creationForm <#form1> .\n\n<#bigForm>\n    dc:title\n       "Schedule event (single form).";\n    a    ui:Group;\n    ui:part\n       <#form1>, <#form2>, <#form3>.\n\n<#form1>\n    dc:title\n       "Schedule an event (wizard)";\n    a    ui:Form;\n    ui:part\n        <#form1header>,\n        <#eventTitle>,\n        <#eventLocation>,\n        <#eventComment>,\n        <#eventAuthor>.\n<#eventTitle>\n    a    ui:SingleLineTextField;\n    ui:maxLength\n       "128";\n    ui:property\n       ical:summary;\n    ui:size\n       "40".\n\n<#eventLocation>\n    a    ui:SingleLineTextField;\n    ui:maxLength\n       "512";\n    ui:property\n       ical:location;\n    ui:size\n       "40".\n\n<#eventComment>\n    a    ui:MultiLineTextField;\n#    ui:maxLength\n#       "1048";\n#    ui:size\n#       "40".\n    ui:property\n       ical:comment.\n\n<#eventAuthor>\n   a ui:Multiple; ui:min 1; ui:part <#eventAuthorGroup>; ui:property dc:author.\n\n   <#eventAuthorGroup> a ui:Group; ui:part <#authorName>, <#authorEmail> .\n   <#authorName> a ui:SingleLineTextField; ui:property foaf:name .\n   <#authorEmail> a ui:EmailField; ui:label "email"; ui:property foaf:mbox .\n\n\n#####################\n\n<#form2> dc:title "Select possible days"; a ui:Form;\n        ui:part <#id1118132113134>, <#id1417314641301> .\n\n    <#id1118132113134> a ui:Heading; ui:contents "Time proposals" .\n\n    <#id1417314641301>\n    a ui:Multiple; ui:min 2; ui:part <#id1417314674292>; ui:property sched:option.\n\n   <#id1417314674292> a ui:DateField; ui:property ical:dtstart; ui:label "Date".\n\n   ##################################\n\n   <#form3> dc:title "Select invited people"; a ui:Form; ui:part  <#id1118132113135>, <#id1417314641301b> .\n<#id1417314641301b>\n   a ui:Multiple; ui:min 1; ui:part <#id1417314674292b>; ui:property sched:invitee.\n   <#id1417314674292b> a ui:EmailField; ui:label "email"; ui:property foaf:mbox .\n   <#form1header> a ui:Heading; ui:contents "Schedule an event" .\n   <#id1118132113135> a ui:Heading; ui:contents "Who to invite" .\n'},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.iconBase+"noun_62007.svg",name:"travel expenses",audience:[a.solid("PowerUser")],label:function(e,t){var n=t.session.store,i=n.findTypeURIs(e);return r.ns.qu("Transaction")in n.findSuperClassesNT(e)?"by Trip":i["http://www.w3.org/ns/pim/trip#Trip"]?"Trip $":null},render:function(e,t){var n=t.dom,a=t.store,o=r.ns,s=i.Namespace("http://www.w3.org/2002/12/cal/ical#"),l=i.Namespace("http://www.w3.org/ns/pim/trip#"),c=n.createElement("div");c.setAttribute("class","transactionPane"),c.innerHTML="<h2>Trip transactions</h2>";var u=function(e,t){void 0===t&&(t="color: grey");var r=n.createElement("pre");r.setAttribute("style",t),c.appendChild(r),r.appendChild(n.createTextNode(e))},d=a.findTypeURIs(e),p=function(e,t){var s=new i.Query(r.utils.label(e)),c={};["date","transaction","comment","type","in_USD"].forEach((function(e){s.vars.push(c[e]=i.variable(e))})),s.pat.add(c.transaction,l("trip"),e);var d=a.formula();d.add(c.transaction,o.rdf("type"),c.type),s.pat.optional.push(d),s.pat.add(c.transaction,r.ns.qu("date"),c.date),d.add(c.transaction,o.rdfs("comment"),c.comment),s.pat.optional.push(d),s.pat.add(c.transaction,r.ns.qu("in_USD"),c.in_USD);var p=r.table(n,{query:s,onDone:function(){var t={},n=a.each(void 0,l("trip"),e);n.forEach((function(e){var n=a.the(e,o.rdf("type"));if(n||(n=r.ns.qu("ErrorNoType")),n&&n.uri){var i=n.uri;t[i]||(t[i]=0);var s=a.any(e,r.ns.qu("in_USD"));s||u("    @@ No amount in USD: "+s+" for "+e),s&&(t[i]=t[i]+parseFloat(s.value))}}));var i="",s=0,c=0;for(var d in t)i+=r.utils.label(a.sym(d))+": "+t[d]+"; ",s++,c+=t[d];u("Totals of "+n.length+" transactions: "+i,""),s>1&&u("Overall net: "+c,"text-treatment: bold;")}});t.appendChild(p)};if(r.ns.qu("Transaction")in a.findSuperClassesNT(e)){for(var f=a.each(void 0,o.rdf("type"),e),h=[],m=[],g=0;g<f.length;g++){var v=f[g],y=a.any(v,l("trip"));if(y){v in m||(m[y]={total:0,transactions:[]});var b=a.any(v,r.ns.qu("in_USD"));b&&(m[y].total+=b);var w=a.any(v,r.ns.qu("date"));m[y.toNT()].transactions.push([w,v])}else h.push(v)}var x=[];for(var k in m){var C=a.fromNT(k);x.push([a.any(C,s("dtstart")),C])}x.sort();for(var E=0;E<x.length;E++){p(x[E][1],c)}}else d["http://www.w3.org/ns/pim/trip#Trip"]&&p(e,c);return c}}},function(e,t,n){"use strict";var r=n(0);e.exports={icon:r.icons.originalIconBase+"tango/22-image-x-generic.png",name:"image",label:function(e,t){var n=t.session.store;if(!n.anyStatementMatching(e,r.ns.rdf("type"),n.sym("http://purl.org/dc/terms/Image")))return null;return function(e,t,n){var r=e.fetcher.getHeader(t,"content-type");if(r)for(var i=0;i<r.length;i++)for(var a=0;a<n.length;a++)if(r[i].indexOf(n[a])>=0)return!0;return!1}(n,e,["application/pdf"])?null:"view"},render:function(e,t){var n=t.dom,r=n.createElement("div");r.setAttribute("class","imageView");var i=n.createElement("IMG");i.setAttribute("src",e.uri),i.setAttribute("style","max-width: 100%; max-height: 100%;");var a=n.createElement("TR");return a.appendChild(i),r.appendChild(a),r}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.iconBase+"noun_1619.svg",name:"playlistSlot",audience:[a.solid("PowerUser")],label:function(e,t){var n=t.session.store;return n.anyStatementMatching(e,r.ns.rdf("type"),n.sym("http://purl.org/ontology/pbo/core#PlaylistSlot"))?"playlist slot":null},render:function(e,t){var n=t.dom;var a,o=function(e,t){if(!t)return e;var i=n.createElement("a");return i.setAttribute("href",t),i.appendChild(e),i.addEventListener("click",r.widgets.openHrefInOutlineMode,!0),i},s=function(e){return n.createTextNode(e)},l=t.session.store,c=l.any(e,i.sym("http://purl.org/ontology/pbo/core#playlist_item")),u=l.any(e,i.sym("http://purl.org/ontology/olo/core#index")),d=c.uri,p=function(e,t){if(!e)return{html5:!0};var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-_%]+)/i),r=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),i=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),a=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return n?{youtube:n}:r?{vimeo:r}:i?{dailymotion:i}:a?{vk:a}:void 0}(d),f=n.createElement("div");if(p&&p.youtube?(d=d.replace("watch?v=","embed/"),f.setAttribute("class","imageView"),(a=n.createElement("IFRAME")).setAttribute("src",d),a.setAttribute("width",560),a.setAttribute("height",315),a.setAttribute("frameborder",0),a.setAttribute("style","max-width: 850px; max-height: 100%;"),a.setAttribute("allowfullscreen","true")):(f.setAttribute("class","imageView"),(a=n.createElement("IMG")).setAttribute("src",c.value),a.setAttribute("width",560),a.setAttribute("height",315),a.setAttribute("style","max-width: 560; max-height: 315;")),u){for(var h=l.statementsMatching(null,i.sym("http://purl.org/ontology/olo/core#index")),m=[],g=0;g<h.length;g++)h[g]&&m.push(parseInt(h[g].object.value,10));u=parseInt(u.value,10);var v=n.createElement("div"),y=m[(m.indexOf(u)-1+m.length)%m.length],b=m[(m.indexOf(u)+1+m.length)%m.length],w=o(s("<<"),e.uri.split("#")[0]+"#"+y);v.appendChild(w);var x=n.createElement("span");x.innerHTML=" Playlist slot : "+u+" ",v.appendChild(x);var k=o(s(">>"),e.uri.split("#")[0]+"#"+b);v.appendChild(k)}var C=n.createElement("TR");return C.appendChild(a),v&&C.appendChild(v),f.appendChild(C),f}}},function(e,t,n){"use strict";var r=n(0),i=n(3);e.exports={icon:r.icons.iconBase+"noun_1619.svg",name:"video",label:function(e,t){var n=t.session.store.findTypeURIs(e),r=i.Util.mediaTypeClass("video/*").uri.split("*")[0];for(var a in n)if(a.startsWith(r))return"Play video";return null},render:function(e,t){var n=t.dom,r=n.createElement("div"),i=r.appendChild(n.createElement("video"));return i.setAttribute("controls","yes"),i.setAttribute("src",e.uri),i.setAttribute("width","100%"),r}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.iconBase+"noun_534313.svg",name:"audio",label:function(e,t){var n=t.session.store.findTypeURIs(e),r=i.Util.mediaTypeClass("audio/*").uri.split("*")[0];for(var a in n)if(a.startsWith(r))return"Play audio";return null},render:function(e,t){var n=t.session.store,r=t.dom,i=!1,o=!0,s=!0,l=!1,c=function(e){var t=e.lastIndexOf(".");return t<0||t<e.lastIndexOf("/")?e:e.slice(0,t)},u=function(e){var t=e.uri.split("/").slice(-3),n=function(e){try{return decodeURIComponent(e)}catch(t){return e}};g.textContent=n(t[0]),v.textContent=n(t[1]),y.textContent=n(c(t[2]))},d=function(e){var t=n.sym(e.target.getAttribute("src"));if(o){!function t(r){var i=r;(function e(t,r){return new Promise((function(i){if(r=r||0,!o)return i(null);var c=n.any(void 0,a.ldp("contains"),t)||t.dir();if(!c)return i(null);n.fetcher.load(c).then((function(o){var u,d=n.each(c,a.ldp("contains"));d.sort();for(var p=0;p<d.length;p++)if(t.uri===d[p].uri){if(0!==(u=(p+1)%d.length))return i(d[u]);if(!s)return i(l?d[u]:null);if(1===r||!s)return i(null);e(c,r+1).then((function(e){e&&n.fetcher.load(e).then((function(t){var r=n.each(e,a.ldp("contains"));return 0===r.length?i(null):(r.sort(),console.log("New Album: "+e),i(r[0]))}))}))}}))}))})(i).then((function(r){r?!function(e){var t=n.any(void 0,a.ldp("contains"),e);if(!t)return!1;var r=n.each(t,a.ldp("contains"));if(r.length<2)return!1;for(var i=e.uri,o=0;o<r.length;o++){var s=r[o].uri;if(i.length>s.length&&i.startsWith(c(s)))return!0;if(i.endsWith(".m4a")&&s.endsWith(".mp3")&&c(i)===c(s))return!0}return!1}(r)?(console.log("Moving on to "+r),u(r),b.appendChild(p(r,!0)),b.removeChild(e.target)):(console.log("Ignoring redundant "+r),t(r)):console.log("No successor to "+i)}))}(t)}},p=function(e,t){var n=r.createElement("audio");return n.setAttribute("controls","yes"),n.setAttribute("src",e.uri),t&&n.setAttribute("autoplay","autoplay"),n.addEventListener("ended",d,!1),n},f=r.createElement("div"),h=f.appendChild(r.createElement("table")),m="padding: 0.3em; color:white; background-color: black;",g=h.appendChild(r.createElement("tr"));g.style.cssText=m;var v=h.appendChild(r.createElement("tr"));v.style.cssText=m;var y=h.appendChild(r.createElement("tr"));y.style.cssText=m;var b=h.appendChild(r.createElement("tr"));return u(e),b.appendChild(p(e,i)),!n.holds(void 0,a.ldp("contains"),e)&&e.dir()&&n.fetcher.load(e.dir()),f}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=n(77),o=n(393);e.exports={icon:r.icons.iconBase+"dokieli-logo.png",name:"Dokieli",mintClass:r.ns.solid("DokieliDocument"),label:function(e,t){var n=t.session.store,a=r.ns,o=["text/html","application/xhtml+xml"];return e.uri?n.findTypeURIs(e)[a.link("WebPage").uri]?"view":function(e,t,n){var r=e.fetcher.getHeader(t,"content-type");if(r)for(var i=0;i<r.length;i++)for(var a=0;a<n.length;a++)if(r[i].indexOf(n[a])>=0)return!0;return!1}(n,e,o)||function(t,n,r){for(var a=t.findTypeURIs(e),o=0;o<r.length;o++)if(i.Util.mediaTypeClass(r[o]).uri in a)return!0;return!1}(n,0,o)?"Dok":null:null},mintNew:function(e,t){var n=e.session.store,r=t.newInstance;if(!r){var s=t.newBase;s.endsWith("/")&&(s=s.slice(0,-1),t.newBase=s),r=n.sym(s)}var l=a.lookup(r.uri);l&&l.includes("html")||(r=i.sym(r.uri+".html")),t.newInstance=r,console.log("New dokieli will make: "+r);var c=o,u=r.uri.split("/").slice(-1)[0],d=(u=decodeURIComponent(u.split(".")[0])).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return c=(c=c.replace("<title>","<title>"+d)).replace("</article>","<h1>"+d+"</h1></article>"),console.log("@@ New HTML for Dok:"+c),new Promise((function(e){n.fetcher.webOperation("PUT",r.uri,{data:c,contentType:"text/html"}).then((function(){console.log("new Dokieli document created at "+t.newInstance),e(t)})).catch((function(e){console.log("Error creating dokelili dok at "+t.newInstance+": "+e)}))}))},render:function(e,t){var n=t.dom,r=n.createElement("div"),i=t.session.store;r.setAttribute("class","docView");var a=n.createElement("IFRAME");a.setAttribute("src",e.uri),a.setAttribute("class","doc");var o=i.fetcher.getHeader(e.doc(),"content-type"),s=o?o[0]:null;s?console.log("dokieliPane: c-t:"+s):console.log("dokieliPane: unknown content-type?"),a.setAttribute("style","resize = both; height: 40em; width:40em;");var l=n.createElement("tr");return l.appendChild(a),r.appendChild(l),r}}},function(e,t,n){"use strict";e.exports='\n<!DOCTYPE html>\n<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">\n  <head>\n    <meta charset="utf-8" />\n    <title></title>\n    <meta content="width=device-width, initial-scale=1" name="viewport" />\n    <link href="https://dokie.li/media/css/basic.css" media="all" rel="stylesheet" title="Basic" />\n    <link href="https://dokie.li/media/css/dokieli.css" media="all" rel="stylesheet" />\n    <script src="https://dokie.li/scripts/dokieli.js"><\/script>\n  </head>\n\n  <body about="" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# dcterms: http://purl.org/dc/terms/ dctypes: http://purl.org/dc/dcmitype/ foaf: http://xmlns.com/foaf/0.1/ pimspace: http://www.w3.org/ns/pim/space# cc: https://creativecommons.org/ns# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# mem: http://mementoweb.org/ns# qb: http://purl.org/linked-data/cube# schema: http://schema.org/ void: http://rdfs.org/ns/void# rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# bibo: http://purl.org/ontology/bibo/ sioc: http://rdfs.org/sioc/ns# doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: https://www.w3.org/ns/activitystreams# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms# acl: http://www.w3.org/ns/auth/acl# dio: https://w3id.org/dio# rel: https://www.w3.org/ns/iana/link-relations/relation#" typeof="schema:CreativeWork sioc:Post prov:Entity">\n    <main>\n      <article about="" typeof="schema:Article">\n\n      </article>\n    </main>\n  </body>\n</html>\n'},function(e,t,n){var r=n(0),i=r.ns;const a=r.rdf;e.exports={icon:r.icons.iconBase+"noun_973694_expanded.svg",name:"folder",mintNew:function(e,t){var n=e.session.store,r=t.newInstance||n.sym(t.newBase),i=r.uri;return i.endsWith("/")&&(i=i.slice(0,-1)),t.newInstance=n.sym(i+"/"),n.fetcher.webOperation("PUT",r.uri+".dummy",{contentType:"application/octet-stream"}).then((function(){return console.log("New folder created: "+r.uri),n.fetcher.delete(r.uri+".dummy")})).then((function(){return console.log("Dummy file deleted : "+r.uri+".dummy"),console.log("New container created: "+r.uri),t}))},label:function(e,t){var n=t.session.store,r=n.each(e,i.ldp("contains")).length;return r>0?"Contents ("+r+")":n.holds(e,i.rdf("type"),i.ldp("Container"))?"Container (0)":null},render:function(e,t){var n,o=t.dom,s=t.getOutliner(o),l=t.session.store,c=o.createElement("div");c.setAttribute("class","instancePane"),c.setAttribute("style","  border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em ");var u=function(e){var t=e.uri.slice(e.dir().uri.length);return!(t.startsWith(".")||t.endsWith(".acl")||t.endsWith("~"))};const d=e.uri.endsWith("/")?e.uri:e.uri+"/",p=l.sym(d+"index.ttl#this");if(l.holds(e,i.ldp("contains"),p.doc())){console.log("View of folder will be view of indexThing. Loading "+p);const e=c.appendChild(o.createElement("div"));return e.style.cssText="border-top: 0.2em solid #ccc;",l.fetcher.load(p.doc()).then((function(){n=e.appendChild(o.createElement("table")),t.getOutliner(o).GotoSubject(p,!0,void 0,!1,void 0,n)})),c}var f=async function(){await async function(){if(!l.anyStatementMatching(e,i.rdf("type"),i.ldp("Container"),e.doc()))return l.fetcher.webOperation("GET",e.uri,l.fetcher.initFetchOptions(e.uri,{headers:{accept:"text/turtle"}})).then(t=>{a.parse(t.responseText,l,e.uri,"text/turtle")})}();var t=l.each(e,i.ldp("contains")).filter(u);(t=t.map(e=>[r.utils.label(e).toLowerCase(),e])).sort(),t=t.map(e=>e[1]),r.utils.syncTableToArray(n,t,(function(t){const n=l.statementsMatching(e,i.ldp("contains"),t)[0],r=s.VIEWAS_boring_default,a=s.propertyTR(o,n,!1);return a.firstChild.textContent="",a.firstChild.style.cssText+="min-width: 3em;",a.appendChild(s.outlineObjectTD(t,r,void 0,n)),a}))};(n=c.appendChild(o.createElement("table"))).refresh=f,f();var h=c.appendChild(o.createElement("div")),m=r.authn.currentUser(),g={folder:e,div:h,dom:o,statusArea:h,me:m};return g.refreshTarget=n,r.authn.filterAvailablePanes(t.session.paneRegistry.list).then((function(e){r.create.newThingUI(g,t,e),r.aclControl.preventBrowserDropEvents(o);var n;n=h.firstChild,r.widgets.makeDropTarget(n,null,v)})),c;function v(t){r.widgets.uploadFiles(l.fetcher,t,e.uri,e.uri,(function(t,r){const a=l.sym(r);console.log(" Upload: put OK: "+a),l.add(e,i.ldp("contains"),a,e.doc()),n.refresh()}))}}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.originalIconBase+"tango/22-folder-open.png",name:"classInstance",audience:[a.solid("PowerUser")],label:function(e,t){var n=t.session.store.each(void 0,a.rdf("type"),e).length;return n>0?"List ("+n+")":null},render:function(e,t){var n=t.dom,o=t.getOutliner(n),s=t.session.store,l=function(e,t){var r=n.createElement("pre");r.setAttribute("style","background-color: "+t||!1),c.appendChild(r),r.appendChild(n.createTextNode(e))},c=n.createElement("div");c.setAttribute("class","instancePane"),c.setAttribute("style","  border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em ");var u=s.statementsMatching(void 0,a.rdf("type"),e);if(u.length>0){var d={},p=[];for(var f in u.forEach((function(e){d[e.subject.toNT()]=e})),s.findMembersNT(e))d[f]||p.push(i.st(s.fromNT(f),a.rdf("type"),e));if(p.length&&l("There are "+u.length+" explicit and "+p.length+" implicit members of "+r.utils.label(e)),e.sameTerm(a.rdf("Property")));else if(e.sameTerm(a.rdfs("Class"))){var h=s.statementsMatching(void 0,a.rdf("type"),void 0),m={};h.forEach((function(e){m[e.object]=e}));var g=[];for(var v in m)g.push(i.st(i.sym(v),a.rdf("type"),a.rdfs("Class")));l("Total of "+h.length+" type statements and "+g.length+" unique types.")}if(u.length>10){var y=n.createElement("TR");y.appendChild(n.createTextNode(""+u.length)),c.appendChild(y)}o.appendPropertyTRs(c,u,!0,(function(e){return!0})),p.length&&(l("Implicit:"),o.appendPropertyTRs(c,p,!0,(function(e){return!0})))}return c}}},function(e,t,n){"use strict";var r=n(0),i=r.ns,a=n(397);e.exports={icon:r.icons.iconBase+"noun_138712.svg",name:"slideshow",audience:[i.solid("PowerUser")],label:function(e,t){var n=t.session.store,i=r.ns,a=n.findTypeURIs(e);if(a[i.ldp("Container").uri]||a[i.ldp("BasicContainer").uri]){var o=n.each(e,i.ldp("contains")),s=0;return o.forEach((function(e){r.widgets.isImage(e)&&s++})),s>0?"Slideshow":null}return null},render:function(e,t){var n=t.dom;r.widgets.addStyleSheet(n,"https://leemark.github.io/better-simple-slideshow/css/simple-slideshow-styles.css");var i=t.session.store,o=r.ns,s=n.createElement("div");s.setAttribute("class","bss-slides");var l,c=i.findTypeURIs(e);(c[o.ldp("BasicContainer").uri]||c[o.ldp("Container").uri])&&(l=o.ldp("contains"));var u=i.each(e,l);u.sort();for(var d=0;d<u.length;d++)if(r.widgets.isImage(u[d])){var p=s.appendChild(n.createElement("figure")),f=p.appendChild(n.createElement("img"));f.setAttribute("src",u[d].uri),f.setAttribute("width","100%"),p.appendChild(n.createElement("figcaption"))}var h={dom:n};return setTimeout((function(){a(".bss-slides",h)}),1e3),s}}},function(e,t,n){e.exports&&(e.exports=function(e,t){if(void 0===n)var n=t.dom;var r=n.querySelectorAll(e),i={init:function(e,t){this.counter=0,this.el=e,this.$items=e.querySelectorAll("figure"),this.numItems=this.$items.length,(t=t||{}).auto=t.auto||!1,this.opts={auto:void 0!==t.auto&&t.auto,speed:void 0===t.auto.speed?1500:t.auto.speed,pauseOnHover:void 0!==t.auto.pauseOnHover&&t.auto.pauseOnHover,fullScreen:void 0!==t.fullScreen&&t.fullScreen,swipe:void 0!==t.swipe&&t.swipe},this.$items[0].classList.add("bss-show"),this.injectControls(e),this.addEventListeners(e),this.opts.auto&&this.autoCycle(this.el,this.opts.speed,this.opts.pauseOnHover),this.opts.fullScreen&&this.addFullScreen(this.el),this.opts.swipe&&this.addSwipe(this.el)},showCurrent:function(e){this.counter=e>0?this.counter+1===this.numItems?0:this.counter+1:this.counter-1<0?this.numItems-1:this.counter-1,[].forEach.call(this.$items,(function(e){e.classList.remove("bss-show")})),this.$items[this.counter].classList.add("bss-show")},injectControls:function(e){var t=n.createElement("span"),r=n.createElement("span"),i=n.createDocumentFragment();t.classList.add("bss-prev"),r.classList.add("bss-next"),t.innerHTML="&laquo;",r.innerHTML="&raquo;",i.appendChild(t),i.appendChild(r),e.appendChild(i)},addEventListeners:function(e){var t=this;e.querySelector(".bss-next").addEventListener("click",(function(){t.showCurrent(1)}),!1),e.querySelector(".bss-prev").addEventListener("click",(function(){t.showCurrent(-1)}),!1),e.onkeydown=function(e){37===(e=e||window.event).keyCode?t.showCurrent(-1):39===e.keyCode&&t.showCurrent(1)}},autoCycle:function(e,t,n){var r=this,i=window.setInterval((function(){r.showCurrent(1)}),t);n&&(e.addEventListener("mouseover",(function(){i=clearInterval(i)}),!1),e.addEventListener("mouseout",(function(){i=window.setInterval((function(){r.showCurrent(1)}),t)}),!1))},addFullScreen:function(e){var t=this,r=n.createElement("span");r.classList.add("bss-fullscreen"),e.appendChild(r),e.querySelector(".bss-fullscreen").addEventListener("click",(function(){t.toggleFullScreen(e)}),!1)},addSwipe:function(e){var t=this,n=new Hammer(e);n.on("swiperight",(function(e){t.showCurrent(-1)})),n.on("swipeleft",(function(e){t.showCurrent(1)}))},toggleFullScreen:function(e){n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen():n.documentElement.requestFullscreen?e.requestFullscreen():n.documentElement.msRequestFullscreen?e.msRequestFullscreen():n.documentElement.mozRequestFullScreen?e.mozRequestFullScreen():n.documentElement.webkitRequestFullscreen&&e.webkitRequestFullscreen(e.ALLOW_KEYBOARD_INPUT)}};[].forEach.call(r,(function(e){Object.create(i).init(e,t)}))})},function(e,t,n){"use strict";var r=n(0),i=n(3);e.exports={icon:r.icons.originalIconBase+"foaf/foafTiny.gif",name:"social",label:function(e,t){var n=t.session.store.findTypeURIs(e);return n[r.ns.foaf("Person").uri]||n[r.ns.vcard("Individual").uri]?"Friends":null},render:function(e,t){var n=t.dom,a=function(e){console.log(e);var t=n.createElement("p");t.textContent=e,x.appendChild(t)},o=function(e,t){if(!t)return e;var r=n.createElement("a");return r.setAttribute("href",t),r.appendChild(e),r},s=function(e){return n.createTextNode(e)},l=function(e,t){return r.widgets.personTR(n,r.ns.foaf("knows"),e,{})},c=t.getOutliner(n),u=t.session.store,d=n.createElement("div");d.setAttribute("class","socialPane");var p=r.ns.foaf,f=r.ns.vcard,h="background-color: #eee; width: 25%; border: 0; padding: 0.5em; margin: 0;",m=d.appendChild(n.createElement("table")).appendChild(n.createElement("tr")),g=m.appendChild(n.createElement("td")),v=m.appendChild(n.createElement("td")),y=m.appendChild(n.createElement("td")),b=g;b.style.cssText=h;var w=v.appendChild(n.createElement("table"));w.style.cssText="background-color: #fff; color: #000; width: 46%; margin: 0; border-left: 1px solid #ccc; border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; padding: 0;";var x=y;x.style.cssText=h;var k=u.any(e,p("img"))||u.any(e,p("depiction"));if(k){var C=n.createElement("IMG");C.setAttribute("src",k.uri),C.style.cssText=" width: 100% ; border: none; margin: 0; padding: 0;",b.appendChild(C)}var E=u.anyValue(e,p("name"))||"???",T=n.createElement("H3");T.appendChild(n.createTextNode(E));var _=r.authn.currentUser(),S=_?_.uri:null,O=r.authn.loginStatusBox(n,(function(e){_=u.sym(e),r.widgets.refreshTree(d)}));x.appendChild(O);var A,j,P=_&&u.sameThings(_,e),I=p("knows"),N=u.anyValue(e,p("givenname"))||u.anyValue(e,p("firstName"))||u.anyValue(e,p("nick"))||u.anyValue(e,p("name"))||u.anyValue(e,f("fn")),L=u.each(e,I),R=null,M=!1;if(_){for(var D=u.each(void 0,p("primaryTopic"),_),F="",B=0;B<D.length;B++)if(u.whether(D[B],r.ns.rdf("type"),p("PersonalProfileDocument"))){if(M=c.UserInput.sparqler.editable(D[B].uri,u)){R=D[B];break}F+="Your profile <"+r.utils.escapeForXML(D[B].uri)+"> is not remotely editable."}if(R?(a("Editing your profile "+R+"."),M=c.UserInput.sparqler.editable(R.uri,u)):a(F+"\nI couldn't find your editable personal profile document."),P);else{(T=n.createElement("h3")).appendChild(n.createTextNode("You and "+N)),b.appendChild(T);var U=u.canon(_),z=u.whether(e,I,U),q=!1,H=u.statementsMatching(U,I,e);H.length&&(q=!0,R||(R=H[0].why));var W=n.createElement("tr");b.appendChild(W);var G=function(){W.appendChild(o(s("You"),S)),W.appendChild(s(" and ")),W.appendChild(o(s(N),e.uri))};if(z?q?(G(),W.appendChild(s(" say you know each other."))):(W.appendChild(o(s(N),e.uri)),W.appendChild(s(" knows ")),W.appendChild(o(s("you"),S)),W.appendChild(s(" (unconfirmed).")),W.appendChild(s(" confirm you know ")),W.appendChild(o(s(N),e.uri)),W.appendChild(s("."))):q?(W.appendChild(o(s("You"),S)),W.appendChild(s(" know ")),W.appendChild(o(s(N),e.uri)),W.appendChild(s(" (unconfirmed)"))):(G(),W.appendChild(s(" have not said you know each other."))),M){var V=function(e,t,i){var a=n.createElement("form"),o=n.createElement("input");a.appendChild(o);var s=n.createTextNode(e);s.className="question",a.appendChild(s),o.setAttribute("type","checkbox");return o.checked=i,o.addEventListener("click",(function(e){if(s.className="pendingedit",this.checked)try{c.UserInput.sparqler.insert_statement(t,(function(e,n,i){if(s.className="question",!n)return r.log.alert(null,"Message","Error occurs while inserting "+t+"\n\n"+i),void(o.checked=!1);u.add(t.subject,t.predicate,t.object,t.why)}))}catch(e){r.log.error("Data write fails:"+e),r.log.alert("Data write fails:"+e),o.checked=!1,s.className="question"}else try{c.UserInput.sparqler.delete_statement(t,(function(e,n,i){s.className="question",n?u.removeMany(t.subject,t.predicate,t.object,t.why):(r.log.alert("Error occurs while deleting "+t+"\n\n"+i),this.checked=!0)}))}catch(e){r.log.alert("Delete fails:"+e),this.checked=!0}}),!1),a}("You know "+N,new r.rdf.Statement(_,I,e,R),q);b.appendChild(V)}if(L){var $=u.each(_,p("knows"));if($.length){var Q=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(t[i].sameTerm(e[r])){n.push(t[i]);break}return n}(L,$),J=n.createElement("tr");if(b.appendChild(J),J.appendChild(n.createTextNode("You"+(N?" and "+N:"")+" know"+(A=Q.length,j=" ",j+=A||"no",(1===A?j+" person":j+" people")+" found in common"))),Q)for(var K=0;K<Q.length;K++)J.appendChild(n.createTextNode(",  "+r.utils.label(Q[K])))}var X=n.createElement("tr");b.appendChild(X)}}}r.widgets.attachmentList(n,e,w,{doc:R,modify:!!M,predicate:p("knows"),noun:"friend"}),i.keepThisCodeForLaterButDisableFerossConstantConditionPolice&&function(e){q=u.each(e,p("knows")),z=u.each(void 0,p("knows"),e);for(var t=[],i=[],a=[],o=0;o<q.length;o++){for(var s=q[o],c=!1,d=0;d<z.length;d++)if(z[d].sameTerm(s)){c=!0;break}c?t.push(s):i.push(s)}for(var f=0;f<z.length;f++){for(var h=z[f],m=!1,g=0;g<q.length;g++)if(q[g].sameTerm(h)){m=!0;break}m||a.push(h)}for(var v=[["Acquaintances",q],["Mentioned as acquaintances by: ",a]],y=0;y<v.length;y++){var b=v[y],x=b[1];if(0!==x.length){var k=n.createElement("h3");k.textContent=b[0];var C=n.createElement("tr");C.appendChild(k),w.appendChild(C);for(var E=[],T=0;T<x.length;T++)E.push([r.utils.label(x[T]),x[T]]);E.sort();for(var _,S=null,O=0;O<E.length;O++)(_=E[O][1]).sameTerm(S)||(S=_,"..."!==r.utils.label(_)&&w.appendChild(l(_)))}}}(e),(T=n.createElement("h3")).appendChild(n.createTextNode("Basic Information")),b.appendChild(T);for(var Y=[r.ns.foaf("homepage"),r.ns.foaf("weblog"),r.ns.foaf("workplaceHomepage"),r.ns.foaf("schoolHomepage")],Z=0;Z<Y.length;Z++){var ee=Y[Z],te=u.statementsMatching(e,ee);if(0===te.length);else{for(var ne=[],re=0;re<te.length;re++){var ie=te[re];ie.object.uri&&ne.push(ie.object.uri)}ne.sort();for(var ae,oe="",se=0;se<ne.length;se++){var le=ne[se];if(le!==oe){oe=le;var ce="";if(ae=r.utils.label(ee),ne.length>1){var ue=le.indexOf("//");if(ue>0){var de=le.indexOf("/",ue+2),pe=le.lastIndexOf(".",de);pe>0&&(de=pe),ce=le.slice(ue+2,de)}}ce&&(ae=ce+" "+ae);var fe=n.createTextNode(ae),he=n.createElement("a");he.appendChild(fe),he.setAttribute("href",le);var me=n.createElement("div");me.style.cssText="width: 80%; background-color: #fff; border: solid 0.05em #ccc;  margin-top: 0.1em; margin-bottom: 0.1em; padding: 0.1em; text-align: center;",me.appendChild(he),b.appendChild(me)}}}}for(var ge=[r.ns.foaf("openid"),r.ns.foaf("nick")],ve=0;ve<ge.length;ve++){var ye=ge[ve],be=u.statementsMatching(e,ye);0===be.length||c.appendPropertyTRs(b,be,!1,(function(e){return!0}))}return d}}},function(e,t,n){"use strict";var r=n(0),i=n(3);e.exports={icon:r.icons.originalIconBase+"tango/22-text-x-generic.png",name:"humanReadable",label:function(e,t){var n=t.session.store,a=r.ns,o=["text/plain","text/html","application/xhtml+xml","image/png","image/jpeg","application/pdf","video/mp4"];return e.uri?n.findTypeURIs(e)[a.link("WebPage").uri]?"view":function(e,t,n){var r=e.fetcher.getHeader(t,"content-type");if(r)for(var i=0;i<r.length;i++)for(var a=0;a<n.length;a++)if(r[i].indexOf(n[a])>=0)return!0;return!1}(n,e,o)||function(t,n,r){for(var a=t.findTypeURIs(e),o=0;o<r.length;o++)if(i.Util.mediaTypeClass(r[o]).uri in a)return!0;return!1}(n,0,o)?"View":null:null},render:function(e,t){var n=t.dom,r=n.createElement("div"),i=t.session.store;r.setAttribute("class","docView");var a=n.createElement("IFRAME");a.setAttribute("src",e.uri),a.setAttribute("class","doc");var o=i.fetcher.getHeader(e.doc(),"content-type"),s=o?o[0]:null;s?console.log("humanReadablePane: c-t:"+s):console.log("humanReadablePane: unknown content-type?"),a.setAttribute("style","resize = both; height: 120em; width:80em;");var l=n.createElement("TR");return l.appendChild(a),r.appendChild(l),r}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.originalIconBase+"rdf_flyer.24.gif",name:"dataContents",audience:[a.solid("Developer")],label:function(e,t){if("http://www.w3.org/2007/ont/link#ProtocolEvent"in t.session.store.findTypeURIs(e))return null;var n=t.session.store.statementsMatching(void 0,void 0,void 0,e).length;return 0===n?null:"Data ("+n+")"},statementsAsTables:function(e,t,n){var i=t.dom,a=i.createElement("table"),o=r.rdf.Serializer(t.session.store),s=o.rootSubjects(e),l=s.roots,c=s.subjects,u=s.loopBreakers;for(var d in u)console.log("\tdataContentPane: loopbreaker:"+d);var p={},f={};function h(e){var t=i.createElement("table"),n=null,a=c[o.toStr(e)];if(!a)return t.appendChild(i.createTextNode("...")),t;a.sort();for(var s,l=0,u=0;u<a.length;u++){var d=a[u],p=i.createElement("tr");if(d.predicate.uri!==n){n&&l>1&&s.setAttribute("rowspan",""+l),(s=i.createElement("td")).setAttribute("class","pred");var f=i.createElement("a");f.setAttribute("href",d.predicate.uri),f.addEventListener("click",r.widgets.openHrefInOutlineMode,!0),f.appendChild(i.createTextNode(r.utils.predicateLabelForXML(d.predicate))),s.appendChild(f),p.appendChild(s),n=d.predicate.uri,l=0}l++;var h=i.createElement("td");h.appendChild(m(d.object)),p.appendChild(h),t.appendChild(p)}return n&&l>1&&s.setAttribute("rowspan",""+l),t}function m(e){var n,a;switch(e.termType){case"NamedNode":return(a=i.createElement("a")).setAttribute("href",e.uri),a.addEventListener("click",r.widgets.openHrefInOutlineMode,!0),a.appendChild(i.createTextNode(r.utils.label(e))),a;case"Literal":return e.datatype&&e.datatype.uri?"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===e.datatype.uri?((n=i.createElement("div")).setAttribute("class","embeddedXHTML"),n.innerHTML=e.value,n):i.createTextNode(e.value):((n=i.createElement("div")).setAttribute("style","white-space: pre-wrap;"),n.textContent=e.value,n);case"BlankNode":if(e.toNT()in p){f[e.toNT()]=!0;var o=i.createElement("a");return o.setAttribute("href","#"+e.toNT().slice(2)),o.setAttribute("class","bnodeRef"),o.textContent="*"+e.toNT().slice(3),o}p[e.toNT()]=!0;var s=h(e);return p[e.toNT()]=s,r.utils.ancestor(s,"TABLE")&&"white"===r.utils.ancestor(s,"TABLE").style.backgroundColor?s.style.backgroundColor="#eee":s.style.backgroundColor="white",s;case"Collection":(n=i.createElement("table")).setAttribute("class","collectionAsTables");for(var l=0;l<e.elements.length;l++){var c=i.createElement("tr");n.appendChild(c),c.appendChild(m(e.elements[l]))}return n;case"Graph":return(n=t.session.paneRegistry.byName("dataContents").statementsAsTables(e.statements,t)).setAttribute("class","nestedFormula"),n;case"Variable":return n=i.createTextNode("?"+e.uri)}throw new Error("Unhandled node type: "+e.termType)}n&&(l=n.concat(l.filter((function(e){for(var t=0;t<n.length;t++)if(e.sameTerm(n[t]))return!1;return!0}))));for(var g=0;g<l.length;g++){var v=i.createElement("tr");a.appendChild(v);var y=i.createElement("td");v.appendChild(y);var b=i.createElement("td");v.appendChild(b);var w=l[g];"BlankNode"===w.termType?y.appendChild(i.createTextNode(r.utils.label(w))):y.appendChild(m(w)),b.appendChild(h(w))}for(var x in f){var k=p[x],C=i.createElement("a");C.setAttribute("id",x.slice(2)),C.setAttribute("class","bnodeDef"),C.textContent=x.slice(3)+")",k.insertBefore(C,k.firstChild)}return a},render:function(e,t){var n=t.dom;var a=t.getOutliner(n),o=t.session.store,s=n.createElement("div");s.setAttribute("class","dataContentPane");var l=o.statementsMatching(void 0,void 0,void 0,e);return i.keepThisCodeForLaterButDisableFerossConstantConditionPolice?function(){for(var i=r.rdf.Serializer(t.session.store).rootSubjects(l).roots,c={render:function(t){var r=n.createElement("div");r.setAttribute("class","withinDocumentPane");var i=o.statementsMatching(t,void 0,void 0,e);return a.appendPropertyTRs(r,i,!1,(function(e,t){return!0})),r}},u=0;u<i.length;u++){var d=n.createElement("TR"),p=i[u];d.style.verticalAlign="top";var f=a.outlineObjectTD(p,void 0,d);d.appendChild(f),s.appendChild(d),a.outlineExpand(f,p,{pane:c})}}():function(){var n=[];o.holds(e,void 0,void 0,e)&&n.push(e);var i=o.any(e,r.ns.foaf("primaryTopic"),void 0,e);i&&n.push(i),s.appendChild(t.session.paneRegistry.byName("dataContents").statementsAsTables(l,t,n))}(),s}}},function(e,t,n){const r=n(0),i=n(77);e.exports={icon:r.icons.iconBase+"noun_109873.svg",name:"source",label:function(e,t){const n=t.session.store.findTypeURIs(e),r=$rdf.Util.mediaTypeClass("text/*").uri.split("*")[0];for(const e in n){if(e.startsWith(r))return"Source";if(e.includes("xml"))return"XML Source"}return null},mintNew:function(e,t){const n=e.session.store;let r=t.newInstance;if(!r){let e=t.newBase;e.endsWith("/")&&(e=e.slice(0,-1),t.newBase=e),r=n.sym(e),t.newInstance=r}const a=i.lookup(r.uri);if(!a||!a.startsWith("text")&&!a.includes("xml")){const e="A new text file has to have an file extension like .txt .ttl etc.";throw alert(e),new Error(e)}return new Promise((function(e,i){n.fetcher.webOperation("PUT",r.uri,{data:"\n",contentType:a}).then((function(n){console.log("New text file created: "+r.uri),t.newInstance=r,e(t)}),e=>{alert("Cant make new file: "+e),i(e)})}))},render:function(e,t){const n=t.dom,i=t.session.store,a=i.fetcher;let o,s,l,c=!0,u=!1,d=!1;const p=n.createElement("div");p.setAttribute("class","sourcePane");const f=p.appendChild(n.createElement("table")),h=f.appendChild(n.createElement("tr")),m=f.appendChild(n.createElement("tr")),g=f.appendChild(n.createElement("tr"));g.setAttribute("style","text-align: right;");const v=h.appendChild(n.createElement("textarea"));v.setAttribute("style","font-family: monospace; font-size: 100%; min-width:60em; margin: 1em 0.2em 1em 0.2em; padding: 1em; border: 0.1em solid #888; border-radius: 0.5em;");const y=g.appendChild(r.widgets.cancelButton(n)),b=g.appendChild(r.widgets.continueButton(n)),w=g.appendChild(function(e){return r.widgets.button(e,r.icons.iconBase+"noun_253504.svg","Edit")}(n));function x(){d||(u=!0,v.style.color="black",y.style.visibility="visible",b.style.visibility="collapse",w.style.visibility="collapse",v.removeAttribute("readonly"))}function k(e){!d&&u&&(v.style.color="green",y.style.visibility="visible",b.style.visibility="visible",w.style.visibility="collapse",v.removeAttribute("readonly"))}const C={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"application/ld+json":!0};function E(e,t){if(null!=e)if(e.createTextRange){const n=e.createTextRange();n.move("character",t),n.select()}else e.focus(),e.selectionStart&&e.setSelectionRange(t,t)}function T(e,t){if(!e.ok){let i="HTTP error on "+t+"! Status: "+e.status;console.log(i),412===e.status&&(i="Error: File changed by someone else"),m.appendChild(r.widgets.errorMessageBlock(n,i))}return e.ok}function _(t){const f=a.initFetchOptions(e.uri,{}),{headers:h}=f;f.headers=new Headers;for(const e in h)"string"==typeof h[e]&&f.headers.set(e,h[e]);a.webOperation("GET",e.uri,f).then((function(t){if(!T(t,"GET"))return;const a=t.responseText;if(v.rows=a?a.split("\n").length+2:2,v.cols=80,v.value=a,d||(u=!1,w.style.visibility="visible",v.style.color="#888",y.style.visibility="collapse",b.style.visibility="collapse",v.setAttribute("readonly","true")),t.headers&&t.headers.get("content-type"))o=t.headers.get("content-type"),s=t.headers.get("allow"),l=t.headers.get("etag");else{i.each(null,i.sym("http://www.w3.org/2007/ont/link#requestedURI"),e.uri).forEach(e=>{const t=i.any(e,i.sym("http://www.w3.org/2007/ont/link#response"));t&&"NamedNode"===t.termType&&(o=i.anyValue(t,r.ns.httph("content-type")),s=i.anyValue(t,r.ns.httph("allow")),l=i.anyValue(t,r.ns.httph("etag")),l||console.log("sourcePane: No eTag on GET"))})}if(!o)return c=!0,d=!0,void m.appendChild(r.widgets.errorMessageBlock(n,"Error: No content-type available!"));console.log("       source content-type "+o),s?c=s.indexOf("PUT")<0:(console.log("@@@@@@@@@@ No Allow: header from this server"),c=!1),v.readonly=c})).catch(e=>{p.appendChild(r.widgets.errorMessageBlock(n,"Error reading file: "+e))})}return v.addEventListener("keyup",k),w.addEventListener("click",x),y.addEventListener("click",_),b.addEventListener("click",(function(t){const s=v.value;if(!function(e,t,a){if(!C[t])return!0;try{m.innerHTML="",$rdf.parse(e,i,a,t)}catch(e){m.appendChild(r.widgets.errorMessageBlock(n,e));for(let t=e;t=t.cause;t)t.characterInFile&&E(v,e.characterInFile);return!1}return!0}(s,o,e.uri))return k(),void(v.style.color="red");const c={data:s,contentType:o};l&&(c.headers={"if-match":l}),a.webOperation("PUT",e.uri,c).then((function(e){T(e,"PUT")&&x()})).catch((function(e){p.appendChild(r.widgets.errorMessageBlock(n,"Error saving back: "+e))}))})),_(),p}}},function(e,t,n){"use strict";var r=n(0),i=r.ns;e.exports={icon:r.icons.originalIconBase+"w3c/n3_smaller.png",name:"n3",audience:[i.solid("Developer")],label:function(e,t){var n=t.session.store;if("http://www.w3.org/2007/ont/link#ProtocolEvent"in n.findTypeURIs(e))return null;var r=n.statementsMatching(void 0,void 0,void 0,e).length;return 0===r?null:"Data ("+r+") as N3"},render:function(e,t){var n=t.dom,i=t.session.store,a=n.createElement("div");a.setAttribute("class","n3Pane");var o=i.statementsMatching(void 0,void 0,void 0,e),s=r.rdf.Serializer(i);s.suggestNamespaces(i.namespaces),s.setBase(e.uri);var l=s.statementsToN3(o),c=n.createElement("PRE");return c.appendChild(n.createTextNode(l)),a.appendChild(c),a}}},function(e,t,n){"use strict";var r=n(0),i=r.ns;e.exports={icon:r.icons.originalIconBase+"22-text-xml4.png",name:"RDFXML",audience:[i.solid("Developer")],label:function(e,t){var n=t.session.store;if("http://www.w3.org/2007/ont/link#ProtocolEvent"in n.findTypeURIs(e))return null;var r=n.statementsMatching(void 0,void 0,void 0,e).length;return 0===r?null:"As RDF/XML ("+r+")"},render:function(e,t){var n=t.dom,i=t.session.store,a=n.createElement("div");a.setAttribute("class","RDFXMLPane");var o=i.statementsMatching(void 0,void 0,void 0,e),s=r.rdf.Serializer(i);s.suggestNamespaces(i.namespaces),s.setBase(e.uri);var l=s.statementsToXML(o),c=n.createElement("PRE");return c.appendChild(n.createTextNode(l)),a.appendChild(c),a}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.iconBase+"noun_122196.svg",name:"form",audience:[a.solid("PowerUser")],label:function(e){var t=r.widgets.formsFor(e).length;return r.log.debug("Form pane: forms for "+e+": "+t),t?t+" forms":null},render:function(e,t){var n=t.session.store,o=t.dom,s=function(e,t){var n=o.createElement("p");return n.setAttribute("style",t||"color: grey; background-color: white"),d.appendChild(n).textContent=e,n},l=function(e,t){s(e,"style")},c=function(e,t){e||l("Sorry, failed to save your change:\n"+t)},u=r.authn.currentUser(),d=o.createElement("div");(d.setAttribute("class","formPane"),u)?0===n.each(u,a.ui("workspace")).length&&s("You don't seem to have any workspaces defined.  A workspace is a place on the web (http://..) or in the file system (file:///) to store application data.\n"):s("You are not logged in. If you log in and have workspaces then you would be able to select workspace in which to put this new information");var p=function(e,t){n.fetcher.nowOrWhenFetched(e.uri,t,(function(n,a){if(!n)return l("Cannot load store "+e.uri+": "+a);for(var s=r.widgets.formsFor(t),u=0;u<s.length;u++){var p=s[u],f=o.createElement("h4");if(d.appendChild(f),p.uri){var h=i.Util.uri.document(p);if(h.uri!==p.uri)d.appendChild(r.widgets.editFormButton(o,d,p,h,c)).setAttribute("style","float: right;")}var m=o.createElement("a");m.setAttribute("href",p.uri),f.appendChild(m),m.textContent=r.utils.label(p,!0),r.widgets.appendForm(o,d,{},t,p,e,c)}}))},f=null,h=i.Util.uri.docpart(e.uri);if(e.uri!==h&&n.updater.editable(h,n)&&(f=e.doc()),!(f=f||n.any(n.sym(h),a.link("annotationStore")))){var m={},g=[];for(var v in f.statementsMatching(e).forEach((function(e){m[e.why.uri]=1})),f.statementsMatching(void 0,void 0,e).forEach((function(e){m[e.why.uri]=2})),m)g.push(m[v],v);g.sort();for(var y=0;y<g.length;y++){var b=g[y][1];if(b&&f.updater.editable(b)){f=f.sym(b);break}}}if(f)p(f,e);else{l("No suitable store is known, to edit <"+e.uri+">.");var w=r.authn.selectWorkspace(o,(function(t){s("Workspace selected OK: "+t);for(var n=f.each(void 0,a.space("workspace"),t);0<n.length;y++){var r=n[0],i=f.any(t,a.space("store")),o=f.any(t,a.cal("dtstart")).value(),c=f.any(t,a.cal("dtend")).value();if(i&&o&&c&&o<="2014"&&c>"2014"){p(i,e);break}l("Note no suitable annotation store in activity: "+r)}}));d.appendChild(w)}return d}}},function(e,t,n){"use strict";var r=n(0);e.exports={icon:r.icons.originalIconBase+"table.png",name:"tableOfClass",label:function(e,t){var n=t.session.store;if(!n.any(void 0,r.ns.rdf("type"),e))return null;var i=n.statementsMatching(void 0,r.ns.rdf("type"),e).length;return 0===i||i>15?null:r.utils.label(e)+" table"},render:function(e,t){var n=t.dom,i=n.createElement("div");return i.setAttribute("class","tablePane"),i.appendChild(r.table(n,{tableClass:e})),i}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.originalIconBase+"about.png",name:"default",audience:[a.solid("Developer")],label:function(e){return"about "},render:function(e,t){var n=t.dom,a=function(e,n){return void 0===t.session.paneRegistry.byName("internal").predicates[e.uri]&&(!n||"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==e.uri)},o=t.getOutliner(n),s=t.session.store;r.log.info("@defaultPane.render, dom is now "+n.location),e=s.canon(e);var l=n.createElement("div");l.setAttribute("class","defaultPane");var c=s.statementsMatching(e);if(o.appendPropertyTRs(l,c,!1,a),c=s.statementsMatching(void 0,void 0,e),o.appendPropertyTRs(l,c,!0,a),"Literal"===e.termType&&"http://"===e.value.slice(0,7)&&o.appendPropertyTRs(l,[i.st(s.sym(e.value),r.ns.link("uri"),e)],!0,a),"NamedNode"===e.termType&&s.updater.editable(r.rdf.Util.uri.docpart(e.uri),s)||"BlankNode"===e.termType&&s.anyStatementMatching(e)&&s.anyStatementMatching(e).why&&s.anyStatementMatching(e).why.uri&&s.updater.editable(s.anyStatementMatching(e).why.uri)){var u=n.createElement("tr"),d=n.createElement("td");d.setAttribute("colspan","2"),d.setAttribute("notSelectable","true");var p=n.createElement("img");p.src=r.icons.originalIconBase+"tango/22-list-add-new.png",p.addEventListener("click",(function(e){o.UserInput.addNewPredicateObject(e),e.stopPropagation(),e.preventDefault()})),p.className="bottom-border-active",l.appendChild(u).appendChild(d).appendChild(p)}return l}}},function(e,t,n){"use strict";var r=n(0),i=n(3),a=r.ns;e.exports={icon:r.icons.iconBase+"noun_170702.svg",name:"ui",audience:[a.solid("PowerUser")],label:function(e,t){var n=r.ns,i=t.session.store.findTypeURIs(e);return i[n.rdfs("Class").uri]?"creation forms":i[n.ui("Form").uri]?"edit form":null},render:function(e,t){var n=t.dom,a=t.session.store,o=r.ns,s=n.createElement("div");s.setAttribute("class","formPane");var l,c=r.utils.label(e),u=function(e,t){var r=n.createElement("p");return r.setAttribute("style",t||"color: grey; background-color: white"),s.appendChild(r).textContent=e,r},d=function(e,t){u(e,"style")},p=function(e,t){e||d("Sorry, failed to save your change:\n"+t)},f=a.findTypeURIs(e),h=null;if(e.uri){var m=i.Util.uri.docpart(e.uri);e.uri!==m&&a.updater.editable(m)&&(h=a.sym(i.Util.uri.docpart(e.uri)))}h||(h=a.any(a.sym(m),o.link("annotationStore"))),h||(h=r.widgets.defaultAnnotationStore(e)),h||(h=a.sym("https://formsregistry.solid.community/public/formRegistry/")),f[o.rdfs("Class").uri];var g=u("(Loading data from: "+h+")");return a.fetcher.nowOrWhenFetched(h.uri,e,(function(i,m){if(i)if(s.removeChild(g),f[o.rdfs("Class").uri]){var v=function(i,l){var f=a.statementsMatching(e,i),m=t.getOutliner(n);if(f.length){for(var g=0;g<f.length;g++){m.appendPropertyTRs(s,[f[g]]);var v=f[g].object,y=n.createElement("td");s.lastChild.appendChild(y),l&&y.appendChild(r.widgets.newButton(n,a,null,null,e,v,h,(function(e,t){e||d("Sorry, failed to save your change:\n"+t)})));var b=a.statementsMatching(v,o.rdf("type"));b.length||(b=a.statementsMatching(v)),b.length?r.widgets.editFormButton(n,s,v,b[0].why,p):d("No data about form")}s.appendChild(n.createElement("hr"))}else u("There are currently no known forms to make a "+c+".")};l=o.ui("creationForm"),s.appendChild(n.createElement("h2")).textContent=r.utils.label(l),u("Creation forms allow you to add information about a new thing, in this case a new "+c+"."),v(l,!0),s.appendChild(n.createElement("hr")),u("You can make a new creation form:"),s.appendChild(r.widgets.newButton(n,a,e,l,o.ui("Form"),null,h,p)),s.appendChild(n.createElement("hr")),l=o.ui("annotationForm"),s.appendChild(n.createElement("h2")).textContent=r.utils.label(l),u("Annotaion forms allow you to add extra information about a ,"+c+" we already know about."),v(l,!1),s.appendChild(n.createElement("hr")),u("You can make a new annotation form:"),s.appendChild(r.widgets.newButton(n,a,e,l,o.ui("Form"),null,h,p)),u("(Storing new forms in: "+h+")")}else f[o.ui("Form").uri]?r.widgets.appendForm(n,s,a,e,o.ui("FormForm"),h,p):d("ui/pane internal error -- Eh?");else d("Cannot load store "+h+" :"+m)})),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i={icon:r.icons.iconBase+"padlock-timbl.svg",name:"sharing",label:function(e,t){var n=t.session.store.findTypeURIs(e);return n[r.ns.ldp("Resource").uri]||n[r.ns.ldp("Container").uri]||n[r.ns.ldp("BasicContainer").uri]?"Sharing":null},render:function(e,t){var n=t.dom,i=t.session.store,a=function(){var t=i.findTypeURIs(e);if(t[r.ns.ldp("BasicContainer").uri]||t[r.ns.ldp("Container").uri])return"folder";return"file"}(),o=n.createElement("div");return o.classList.add("sharingPane"),r.aclControl.preventBrowserDropEvents(n),o.appendChild(r.aclControl.ACLControlBox5(e,t,a,i)),o}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(3);var a={icon:r.icons.originalIconBase+"tango/22-emblem-system.png",name:"internal",audience:[r.ns.solid("Developer")],label:function(){return"under the hood"},render:function(e,t){var n=t.dom,a=t.session.store,o=a.canon(e),s=a.findTypeURIs(o);function l(e){if(s["http://www.w3.org/2007/ont/link#ProtocolEvent"])return!0;var n=t.session.paneRegistry.byName("internal");return n&&n.predicates&&!(void 0===n.predicates[e.uri])}var c=n.createElement("div");if(c.setAttribute("class","internalPane"),c.setAttribute("style","background-color: #ddddff; padding: 0.5em; border-radius: 1em;"),e.uri&&!e.uri.includes("#")){var u=c.appendChild(n.createElement("table"));u.style.width="100%",u.style.margin="1em";var d=u.appendChild(n.createElement("tr")),p=d.appendChild(n.createElement("td")),f=e.uri&&e.uri.endsWith("/")||a.holds(e,r.ns.rdf("type"),r.ns.ldp("Container")),h=f?"folder":"file";if(!function(e){var t=e.site().uri;return e.uri===t||e.uri===t+"profile/"||e.uri===t+"profile/card"||e.uri===t+"settings/"||e.uri===t+"settings/prefs.ttl"||e.uri===t+"settings/privateTypeIndex.ttl"||e.uri===t+"settings/publicTypeIndex.ttl"||e.uri===t+"settings/serverSide.ttl"}(e)){console.log(e);var m=r.widgets.deleteButtonWithCheck(n,p,h,(function(){if(confirm("Are you sure you want to delete ".concat(e,"? This cannot be undone."))){if(!a.fetcher)throw new Error("Store has no fetcher");(f?function e(t,n){var i=t.fetcher;if(i)return new Promise((function(a,o){i.load(n).then((function(){var s=t.each(n,r.ns.ldp("contains")).map((function(n){return t.holds(n,r.ns.rdf("type"),r.ns.ldp("BasicContainer"))?e(t,n):(console.log("deleteRecursive leaf file: "+n),i.webOperation("DELETE",n.uri))}));Promise.all(s).then((function(){console.log("deleteRecursive empty folder: "+n),i.webOperation("DELETE",n.uri).then((function(){console.log("Deleted Ok: "+n),a(void 0)})).catch((function(e){var t="Unable to delete "+n+": "+e;console.log(t),o(new Error(t))})),a(void 0)}),(function(e){alert(e),o(e)}))}))}));console.error("No fetcher available")}(a,e)||Promise.resolve():a.fetcher.webOperation("DELETE",e.uri)||Promise.resolve()).then((function(){var t="Deleted: "+e;console.log(t)})).catch((function(t){var n="Unable to delete "+e+": "+t;console.log(n),alert(n)}))}}));m.style="height: 2em;",m.class="",p.appendChild(m)}var g=d.appendChild(n.createElement("td")),v=r.widgets.button(n,r.icons.iconBase+"noun_479395.svg","refresh");g.appendChild(v),v.addEventListener("click",(function(){if(!a.fetcher)throw new Error("Store has no fetcher");a.fetcher.refresh(e,(function(t,n){var r;r=t?"Refreshed OK: "+e:"Error refreshing: "+e+": "+n,console.log(r),alert(r)}))}))}var y=a.statementsMatching(e),b="";if(!a.fetcher)throw new Error("Store has no fetcher");if(e.uri&&(y.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#uri"),e.uri,a.fetcher.appNode)),e.uri.indexOf("#")>=0?(b=e.uri.split("#")[0],y.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#documentURI"),e.uri.split("#")[0],a.fetcher.appNode)),y.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#document"),(0,i.sym)(e.uri.split("#")[0]),a.fetcher.appNode))):b=e.uri),b){if(!a.updater)throw new Error("Store has no updater");var w=a.updater.editable(b);w&&y.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/ns/rww#editable"),(0,i.literal)(w.toString()),a.fetcher.appNode))}var x=t.getOutliner(n);return x.appendPropertyTRs(c,y,!1,l),y=a.statementsMatching(void 0,void 0,e),x.appendPropertyTRs(c,y,!0,l),c},predicates:{"http://www.w3.org/2007/ont/link#request":1,"http://www.w3.org/2007/ont/link#requestedBy":1,"http://www.w3.org/2007/ont/link#source":1,"http://www.w3.org/2007/ont/link#session":2,"http://www.w3.org/2007/ont/link#uri":1,"http://www.w3.org/2007/ont/link#documentURI":1,"http://www.w3.org/2007/ont/link#document":1,"http://www.w3.org/2007/ont/link#all":1,"http://www.w3.org/2007/ont/link#Document":1,"http://www.w3.org/ns/rww#editable":1,"http://www.w3.org/2000/01/rdf-schema#seeAlso":1,"http://www.w3.org/2002/07/owl#":1},classes:{"http://www.w3.org/2007/ont/link#ProtocolEvent":1}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var a={icon:r.icons.iconBase+"noun_547570.svg",global:!0,name:"home",label:function(){return"home"},render:function(e,t){var n=t.dom,a=function(){var e,a=(e=regeneratorRuntime.mark((function e(){var i,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={div:o,dom:n,statusArea:o,me:s},o.appendChild(n.createElement("h4")).textContent="Create new thing somewhere",a=o.appendChild(n.createElement("div")),l={div:a,dom:n,statusArea:o,me:s},e.next=6,r.authn.filterAvailablePanes(t.session.paneRegistry.list);case 6:c=e.sent,r.create.newThingUI(l,t,c),o.appendChild(n.createElement("h4")).textContent="Private things",r.authn.registrationList(i,{private:!0}).then((function(e){o.appendChild(n.createElement("h4")).textContent="Public things",o.appendChild(n.createElement("p")).textContent="Things in this list are visible to others.",r.authn.registrationList(e,{public:!0}).then((function(){}))}));case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))});return function(){return a.apply(this,arguments)}}(),o=n.createElement("div"),s=r.authn.currentUser();return a(),o}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createContext=function(e,t,n,i){return{dom:e,getOutliner:r.getOutliner,session:{paneRegistry:t,store:n,logic:i}}};var r=n(68)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return m})),n.d(t,"v3",(function(){return T})),n.d(t,"v4",(function(){return _})),n.d(t,"v5",(function(){return A})),n.d(t,"NIL",(function(){return j})),n.d(t,"version",(function(){return P})),n.d(t,"validate",(function(){return s})),n.d(t,"stringify",(function(){return p})),n.d(t,"parse",(function(){return g}));var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&o.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var u,d,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},f=0,h=0;var m=function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||u,s=void 0!==e.clockseq?e.clockseq:d;if(null==o||null==s){var l=e.random||(e.rng||a)();null==o&&(o=u=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==s&&(s=d=16383&(l[6]<<8|l[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:h+1,g=c-f+(m-h)/1e4;if(g<0&&void 0===e.clockseq&&(s=s+1&16383),(g<0||c>f)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=c,h=m,d=s;var v=(1e4*(268435455&(c+=122192928e5))+m)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=255&v;var y=c/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var b=0;b<6;++b)i[r+b]=o[b];return t||p(i)};var g=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var v=function(e,t,n){function r(e,r,i,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){a=a||0;for(var s=0;s<16;++s)i[a+s]=o[s];return i}return p(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function y(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,r,i,a){return b((o=b(b(t,e),b(r,a)))<<(s=i)|o>>>32-s,n);var o,s}function x(e,t,n,r,i,a,o){return w(t&n|~t&r,e,t,i,a,o)}function k(e,t,n,r,i,a,o){return w(t&r|n&~r,e,t,i,a,o)}function C(e,t,n,r,i,a,o){return w(t^n^r,e,t,i,a,o)}function E(e,t,n,r,i,a,o){return w(n^(t|~r),e,t,i,a,o)}var T=v("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var i=e[r>>5]>>>r%32&255,a=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[y(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,l=r,c=i,u=a;n=x(n,r,i,a,e[o],7,-680876936),a=x(a,n,r,i,e[o+1],12,-389564586),i=x(i,a,n,r,e[o+2],17,606105819),r=x(r,i,a,n,e[o+3],22,-1044525330),n=x(n,r,i,a,e[o+4],7,-176418897),a=x(a,n,r,i,e[o+5],12,1200080426),i=x(i,a,n,r,e[o+6],17,-1473231341),r=x(r,i,a,n,e[o+7],22,-45705983),n=x(n,r,i,a,e[o+8],7,1770035416),a=x(a,n,r,i,e[o+9],12,-1958414417),i=x(i,a,n,r,e[o+10],17,-42063),r=x(r,i,a,n,e[o+11],22,-1990404162),n=x(n,r,i,a,e[o+12],7,1804603682),a=x(a,n,r,i,e[o+13],12,-40341101),i=x(i,a,n,r,e[o+14],17,-1502002290),r=x(r,i,a,n,e[o+15],22,1236535329),n=k(n,r,i,a,e[o+1],5,-165796510),a=k(a,n,r,i,e[o+6],9,-1069501632),i=k(i,a,n,r,e[o+11],14,643717713),r=k(r,i,a,n,e[o],20,-373897302),n=k(n,r,i,a,e[o+5],5,-701558691),a=k(a,n,r,i,e[o+10],9,38016083),i=k(i,a,n,r,e[o+15],14,-660478335),r=k(r,i,a,n,e[o+4],20,-405537848),n=k(n,r,i,a,e[o+9],5,568446438),a=k(a,n,r,i,e[o+14],9,-1019803690),i=k(i,a,n,r,e[o+3],14,-187363961),r=k(r,i,a,n,e[o+8],20,1163531501),n=k(n,r,i,a,e[o+13],5,-1444681467),a=k(a,n,r,i,e[o+2],9,-51403784),i=k(i,a,n,r,e[o+7],14,1735328473),r=k(r,i,a,n,e[o+12],20,-1926607734),n=C(n,r,i,a,e[o+5],4,-378558),a=C(a,n,r,i,e[o+8],11,-2022574463),i=C(i,a,n,r,e[o+11],16,1839030562),r=C(r,i,a,n,e[o+14],23,-35309556),n=C(n,r,i,a,e[o+1],4,-1530992060),a=C(a,n,r,i,e[o+4],11,1272893353),i=C(i,a,n,r,e[o+7],16,-155497632),r=C(r,i,a,n,e[o+10],23,-1094730640),n=C(n,r,i,a,e[o+13],4,681279174),a=C(a,n,r,i,e[o],11,-358537222),i=C(i,a,n,r,e[o+3],16,-722521979),r=C(r,i,a,n,e[o+6],23,76029189),n=C(n,r,i,a,e[o+9],4,-640364487),a=C(a,n,r,i,e[o+12],11,-421815835),i=C(i,a,n,r,e[o+15],16,530742520),r=C(r,i,a,n,e[o+2],23,-995338651),n=E(n,r,i,a,e[o],6,-198630844),a=E(a,n,r,i,e[o+7],10,1126891415),i=E(i,a,n,r,e[o+14],15,-1416354905),r=E(r,i,a,n,e[o+5],21,-57434055),n=E(n,r,i,a,e[o+12],6,1700485571),a=E(a,n,r,i,e[o+3],10,-1894986606),i=E(i,a,n,r,e[o+10],15,-1051523),r=E(r,i,a,n,e[o+1],21,-2054922799),n=E(n,r,i,a,e[o+8],6,1873313359),a=E(a,n,r,i,e[o+15],10,-30611744),i=E(i,a,n,r,e[o+6],15,-1560198380),r=E(r,i,a,n,e[o+13],21,1309151649),n=E(n,r,i,a,e[o+4],6,-145523070),a=E(a,n,r,i,e[o+11],10,-1120210379),i=E(i,a,n,r,e[o+2],15,718787259),r=E(r,i,a,n,e[o+9],21,-343485551),n=b(n,s),r=b(r,l),i=b(i,c),a=b(a,u)}return[n,r,i,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(y(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var _=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return p(r)};function S(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function O(e,t){return e<<t|e>>>32-t}var A=v("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];s[l]=c}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<o;++d){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[d][f];for(var h=16;h<80;++h)p[h]=O(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],w=0;w<80;++w){var x=Math.floor(w/20),k=O(m,5)+S(x,g,v,y)+b+t[x]+p[w]>>>0;b=y,y=v,v=O(g,30)>>>0,g=m,m=k}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),j="00000000-0000-0000-0000-000000000000";var P=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";n.r(t),n.d(t,"versionInfo",(function(){return R}));var r=n(3),i=n(67),a=n(68),o=n(15),s=n.n(o),l=n(10),c=n.n(l),u=n(0),d='\n<svg width="352px" height="322px" viewBox="0 0 352 322" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="fadeIn header-banner__icon">\n    \x3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --\x3e\n    <title>To root of Pod</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n    <filter id="dropshadow">\n    <feGaussianBlur in="SourceAlpha" stdDeviation="12" result="blur"></feGaussianBlur>\n    <feOffset in="blur" dx="0" dy="0" result="offsetBlur"></feOffset>\n    <feFlood flood-color="#7C4DFF" flood-opacity="0.5" result="offsetColor"></feFlood>\n    <feComposite in="offsetColor" in2="offsetBlur" operator="in" result="offsetBlur"></feComposite>\n   </filter>\n  </defs>\n    <g id="Solid-2.0" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Splash-Page---Light" transform="translate(-543.000000, -233.000000)">\n            <g id="Logo/Solid" transform="translate(566.000000, 240.000000)">\n                <g id="solid-logo" transform="translate(0.000000, 17.386364)"> \n                    <path d="M64.9729592,257.966327 L4.24132653,152.635714 C-1.37908163,142.878061 -1.37908163,130.856633 4.24132653,121.09898 L64.9729592,15.8464286 C70.6193878,6.0627551 81.0535714,0.0520408163 92.2943878,0.0520408163 L213.679592,0.0520408163 C224.946429,0.0520408163 235.406633,6.0627551 241.00102,15.8464286 L301.758673,121.15102 C307.379082,130.908673 307.379082,142.930102 301.758673,152.687755 L241.027041,258.018367 C235.380612,267.802041 224.946429,273.812755 213.705612,273.812755 L92.372449,273.812755 C81.0535714,273.760714 70.6454082,267.72398 64.9729592,257.966327 Z" fill="#FFFFFF" fill-rule="nonzero" style="filter:url(#dropshadow)"></path>\n                    <path d="M64.9729592,257.966327 L4.24132653,152.635714 C-1.37908163,142.878061 -1.37908163,130.856633 4.24132653,121.09898 L64.9729592,15.8464286 C70.6193878,6.0627551 81.0535714,0.0520408163 92.2943878,0.0520408163 L213.679592,0.0520408163 C224.946429,0.0520408163 235.406633,6.0627551 241.00102,15.8464286 L301.758673,121.15102 C307.379082,130.908673 307.379082,142.930102 301.758673,152.687755 L241.027041,258.018367 C235.380612,267.802041 224.946429,273.812755 213.705612,273.812755 L92.372449,273.812755 C81.0535714,273.760714 70.6454082,267.72398 64.9729592,257.966327 Z" fill="#FFFFFF" fill-rule="nonzero"></path>\n                    <path d="M70.1510204,250.810714 L13.0362245,151.75102 C7.72806122,142.565816 7.72806122,131.246939 13.0362245,122.087755 L70.1510204,23.0020408 C75.4852041,13.7908163 85.294898,8.14438776 95.8852041,8.14438776 L210.114796,8.14438776 C220.705102,8.14438776 230.540816,13.7908163 235.84898,23.0020408 L293.015816,122.035714 C298.32398,131.220918 298.32398,142.539796 293.015816,151.69898 L235.875,250.836735 C230.540816,260.047959 220.731122,265.694388 210.140816,265.694388 L95.9372449,265.694388 C85.294898,265.694388 75.4852041,260.021939 70.1510204,250.810714 Z" fill="#7C4DFF" fill-rule="nonzero"></path>\n                    <path d="M70.1510204,250.810714 L13.0362245,151.75102 C7.72806122,142.565816 7.72806122,131.246939 13.0362245,122.087755 L70.1510204,23.0020408 C75.4852041,13.7908163 85.294898,8.14438776 95.8852041,8.14438776 L210.114796,8.14438776 C220.705102,8.14438776 230.540816,13.7908163 235.84898,23.0020408 L293.015816,122.035714 C298.32398,131.220918 298.32398,142.539796 293.015816,151.69898 L235.875,250.836735 C230.540816,260.047959 220.731122,265.694388 210.140816,265.694388 L95.9372449,265.694388 C85.294898,265.694388 75.4852041,260.021939 70.1510204,250.810714 Z" fill="#7C4DFF" fill-rule="nonzero"></path>\n                    <path d="M95.4688776,117.846429 L213.003061,117.846429 C214.486224,117.846429 215.657143,116.64949 215.657143,115.192347 L215.657143,93.1530612 C215.657143,78.5035714 203.765816,66.6122144 189.116327,66.6122144 L118.54898,66.6122144 C98.0188776,66.5862245 81.3917564,83.2132653 81.3917564,103.743367 L81.3917564,103.743367 C81.3658163,111.57551 87.6627551,117.846429 95.4688776,117.846429 Z" fill="#F7F7F7" fill-rule="nonzero"></path>\n                    <path d="M106.995918,215.214796 L177.225,215.214796 C198.431633,215.214796 215.657143,197.989286 215.657143,176.782653 L215.657143,176.782653 C215.657143,169.705102 209.932653,163.954592 202.829082,163.954592 L83.9418367,163.954592 C82.4846939,163.954592 81.3917927,165.12551 81.3917927,166.504592 L81.3917927,189.558673 C81.3658163,203.739796 92.8668367,215.214796 106.995918,215.214796 Z" fill="#F7F7F7" fill-rule="nonzero"></path>\n                    <path d="M86.5959184,114.932143 L174.258673,202.594898 C180.061224,208.397449 189.454592,208.397449 195.257143,202.594898 L210.453061,187.39898 C216.255612,181.596429 216.255612,172.203061 210.453061,166.40051 L122.816327,78.7377551 C117.013776,72.9352041 107.620408,72.9352041 101.817857,78.7377551 L86.6219388,93.9336735 C80.7673469,99.7362245 80.7673469,109.155612 86.5959184,114.932143 Z" fill="#F7F7F7" fill-rule="nonzero"></path>\n                    <polygon fill="#444444" fill-rule="nonzero" opacity="0.3" points="175.689796 204.078061 124.195408 163.954592 135.592347 163.954592"></polygon>\n                    <polygon fill="#444444" fill-rule="nonzero" opacity="0.3" points="121.359184 77.2806122 161.925 117.846429 175.689796 117.846429"></polygon>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';function p(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,s=0,l=function(){s=a.leading?Date.now():0,o=null,i=e.apply(n,r),o||(n=r=null)};return function(){var c=Date.now();s||a.leading||(s=c);var u=t-(c-s);return n=this,r=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,i=e.apply(n,r),o||(n=r=null)):o||!1===a.trailing||(o=setTimeout(l,u)),i}}function f(){return Object(r.sym)(document.location.origin).site()}function h(e,t,n){return m.apply(this,arguments)}function m(){return(m=s()(c.a.mark((function e(t,n,i){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(r.sym)("".concat(t.uri,"profile/card#me")),e.prev=1,e.next=4,i.load(a.doc());case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),console.log("Did NOT find pod owners profile at "+a),e.abrupt("return",null);case 10:if(!a){e.next=15;break}if(n.holds(a,u.ns.space("storage"),t,a.doc())){e.next=15;break}return console.log("** Pod owner ".concat(a," does NOT list pod ").concat(t," as storage")),e.abrupt("return",null);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function g(){return(g=s()(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("PageHeader")){e.next=3;break}return e.abrupt("return");case 3:r=f(),u.authn.solidAuthClient.trackSession(v(n,t,r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return function(){var i=s()(c.a.mark((function i(a){var o;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=a?Object(r.sym)(a.webId):null,e.innerHTML="",i.t0=e,i.next=5,y(t,n,o);case 5:i.t1=i.sent,i.t0.appendChild.call(i.t0,i.t1);case 7:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}function y(e,t,n){return b.apply(this,arguments)}function b(){return(b=s()(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=document.createElement("a")).href=n.uri,i.classList.add("header-banner__link"),i.innerHTML=d,!r){e.next=10;break}return e.next=7,T(t,r);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=w();case 11:return a=e.t0,(o=document.createElement("div")).classList.add("header-banner"),o.appendChild(i),o.appendChild(a),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e=document.createElement("div");return e.classList.add("header-banner__login"),e.appendChild(u.authn.loginStatusBox(document,null,{})),e}function x(e,t){return k.apply(this,arguments)}function k(){return(k=s()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showDashboard({pane:n});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){var n=document.createElement("button");return n.classList.add("header-user-menu__button"),n.addEventListener("click",t),n.innerText=e,n}function E(e,t){var n=document.createElement("a");return n.classList.add("header-user-menu__link"),n.href=t,n.innerText=e,n}function T(e,t){return _.apply(this,arguments)}function _(){return(_=s()(c.a.mark((function e(t,n){var r,i,o,s,l,d,f,h,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.fetcher)){e.next=4;break}return e.next=4,r.load(n);case 4:return i=Object(a.getOutliner)(document),(o=document.createElement("ul")).classList.add("header-user-menu__list"),o.appendChild(S(E("Show your profile",n.uri))),e.next=10,O(i);case 10:return e.sent.forEach((function(e){o.appendChild(S(C(e.label,(function(){return x(i,e.tabName||e.paneName)}))))})),o.appendChild(S(C("Log out",(function(){return u.authn.solidAuthClient.logout()})))),(s=document.createElement("nav")).classList.add("header-user-menu__navigation-menu"),s.setAttribute("aria-hidden","true"),s.appendChild(o),(l=document.createElement("button")).classList.add("header-user-menu__trigger"),l.type="button","string"==typeof(d=j(t,n))?l.innerHTML=d:l.appendChild(d),(f=document.createElement("div")).classList.add("header-banner__user-menu","header-user-menu"),f.appendChild(l),f.appendChild(s),h=p((function(e){return P(e,l,s)}),50),l.addEventListener("click",h),m=setTimeout((function(){return null}),0),f.addEventListener("mouseover",(function(e){clearTimeout(m),h(e)})),f.addEventListener("mouseout",(function(e){m=setTimeout((function(){return h(e)}),200)})),e.abrupt("return",f);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=document.createElement("li");return t.classList.add("header-user-menu__list-item"),t.appendChild(e),t}function O(e){return A.apply(this,arguments)}function A(){return(A=s()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getDashboardItems());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){var n=u.widgets.findImage(t);if(!n)return'\n<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="#D8D8D8" stroke="#8B8B8B"/>\n    <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="white" stroke="white"/>\n    </mask>\n    <g mask="url(#mask0)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0468 10.4586C17.0468 14.4979 15.4281 16.9214 12.9999 16.9214C10.5718 16.9214 8.95298 14.4979 8.95298 10.4586C8.95298 6.41931 12.9999 6.41931 12.9999 6.41931C12.9999 6.41931 17.0468 6.41931 17.0468 10.4586ZM4.09668 23.3842C6.52483 17.7293 12.9999 17.7293 12.9999 17.7293C12.9999 17.7293 19.475 17.7293 21.9031 23.3842C21.9031 23.3842 17.8481 25 12.9999 25C8.15169 25 4.09668 23.3842 4.09668 23.3842Z" fill="#8B8B8B"/>\n    </g>\n</svg>';var r=document.createElement("div");return r.classList.add("header-user-menu__photo"),r.style.backgroundImage='url("'.concat(n,'")'),r}function P(e,t,n){var r="true"===t.getAttribute("aria-expanded"),i="mouseover"===e.type,a="mouseout"===e.type;r&&i||!r&&a||(t.setAttribute("aria-expanded",(!r).toString()),n.setAttribute("aria-hidden",r.toString()))}function I(){return(I=s()(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("PageFooter")){e.next=3;break}return e.abrupt("return");case 3:return i=f(),e.next=6,h(i,t,n);case 6:a=e.sent,u.authn.solidAuthClient.trackSession(N(r,t,i,a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n,i){return function(){var a=s()(c.a.mark((function a(o){var s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=o?Object(r.sym)(o.webId):null,e.innerHTML="",a.t0=e,a.next=5,L(t,s,n,i);case 5:a.t1=a.sent,a.t0.appendChild.call(a.t0,a.t1);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function L(e,t,n,r){var i=document.createElement("div");if(!n||!r||t&&t.equals(r))return i;i.classList.add("footer-pod-info","footer");var a=document.createElement("span");a.innerText="You're visiting ";var o=document.createElement("a");o.href=n.uri,o.innerText="the Pod";var s=document.createElement("span");s.innerText=" controlled by ";var l=document.createElement("a");l.href=r.uri,l.innerText=function(e,t){return e.anyValue(t,u.ns.vcard("fn"),null,t.doc())||e.anyValue(t,u.ns.foaf("name"),null,t.doc())||t.uri}(e,r);var c=document.createElement("span");c.innerText=". For more info, check out ";var d=document.createElement("a");d.href="https://solidproject.org",d.innerText="solidproject.org";var p=document.createElement("span");return p.innerText=".",i.appendChild(a),i.appendChild(o),i.appendChild(s),i.appendChild(l),i.appendChild(c),i.appendChild(d),i.appendChild(p),i}var R={buildTime:"2021-06-10T09:22:04Z",commit:"1511bfd178e9fcde988e1be910a3d9abe9f3617f",npmInfo:{mashlib:"1.7.1",npm:"6.14.13",ares:"1.17.1",brotli:"1.0.9",cldr:"38.1",icu:"68.2",llhttp:"2.1.3",modules:"83",napi:"8",nghttp2:"1.42.0",node:"14.17.0",openssl:"1.1.1k",tz:"2020d",unicode:"13.0",uv:"1.41.0",v8:"8.4.371.23-node.63",zlib:"1.2.11"}},M=window;M.$rdf=r,M.panes=a,M.mashlib={versionInfo:R},M.panes.runDataBrowser=function(){i.a.crossSiteProxyTemplate=window.origin+"/xss/?uri={uri}";try{var e=document.createElement("meta");e.setAttribute("name","monetization"),e.setAttribute("content","$".concat(window.location.host)),document.head.appendChild(e)}catch(e){console.error("Failed to add web monetization tag to page header")}u.authn.checkUser().then((function(e){var t=window.location.href,n=u.store.sym(t);a.getOutliner(document).GotoSubject(n,!0,void 0,!0,void 0);var r=function(e){return g.apply(this,arguments)}(u.store),i=function(e,t){return I.apply(this,arguments)}(u.store,u.store.fetcher);return Promise.all([r,i])}))},void 0===M.require&&(M.require=function(e){if("mashlib"===e)return console.warn("Warning: mashlib's custom implementation of `require` will be deprecated in the future. Please import mashlib using a build-time bundler, or access the global `panes` variable when including it as a script."),a;throw new Error("Cannot require (this is a Mashlib-specific require stub)")}),window.onpopstate=function(e){M.document.outline.GotoSubject(r.sym(window.document.location.href),!0,void 0,!0,void 0)},M.dump=function(e){console.log(e.slice(0,-1))}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(170);const a=r.rdf,o=r.ns,s=r.widgets,l=r.utils,c=r.store,u=r.style,d=s.publicData.wikidataClasses,p=s.publicData.wikidataParameters,f=r.icons.iconBase+"noun_1369241.svg",h=r.icons.iconBase+"noun_1369237.svg";function m(e,t){const n=function(e,t,n){return e.each(t,o.vcard("url"),null,t.doc()).filter(r=>e.holds(r,o.rdf("type"),n,t.doc())).map(n=>e.any(n,o.vcard("value"),null,t.doc())).filter(e=>!!e)}(e,t).concat(function(e,t,n){const r=new Set,i=new Set([t.uri]);for(;i.size;){const t=Array.from(i)[0];if(i.delete(t),r.has(t))continue;r.add(t);const a=e.sym(t);e.each(a,o.owl("sameAs"),null,n).concat(e.each(null,o.owl("sameAs"),a,n)).forEach(e=>{console.log("        OWL sameAs found "+e),i.add(e.uri)}),e.each(a,o.schema("sameAs"),null,n).concat(e.each(null,o.schema("sameAs"),a,n)).forEach(e=>{console.log("        Schema sameAs found "+e),i.add(e.uri)})}return r.delete(t.uri),Array.from(r).map(t=>e.sym(t))}(e,t,t.doc())),r=[...new Set(n.map(e=>e.value))].map(t=>e.sym(t));return r.sort(),r.filter(e=>!e.sameTerm(t)),r}function g(e){const t=e.doc();return c.holds(e,o.rdf("type"),o.vcard("Organization"),t)||c.holds(e,o.rdf("type"),o.schema("Organization"),t)}async function v(e,t,n){function d(i,l,c){const u=i.createElement("div");u.style.width="100%";const d=u.appendChild(i.createElement("table"));d.style.width="100%";const p=d.appendChild(function(t){const l=new a.Literal(t.uri),d=n.urlType.sameTerm(o.vcard("WebID")),p={deleteFunction:n.editable?async function(){try{await async function(e,t,n,r){console.log(`Removing from ${e} their Solid ID: ${t}.`);const i=r.each(e,o.vcard("url"),null,e.doc()).filter(t=>r.holds(t,o.rdf("type"),n,e.doc())).filter(n=>r.holds(n,o.vcard("value"),t,e.doc()));if(!i.length)throw new Error(`Person ${e} does not have Solid ID ${t}.`);const s=i[0],l=[a.st(e,o.vcard("url"),s,e.doc()),a.st(s,o.rdf("type"),n,e.doc()),a.st(s,o.vcard("value"),t,e.doc())];await r.updater.update(l,[]);const c=r.each(null,o.vcard("hasMember"),e),u=[];c.forEach(n=>{u.push(a.st(e,o.owl("sameAs"),r.sym(t),n.doc()))}),await C(u)}(e,l,n.urlType,c)}catch(t){u.appendChild(s.errorMessageBlock(i,`Error removing Id ${l} from ${e}: ${t}`))}await v()}:null,draggable:!0};d&&(p.title=t.uri.split("/")[2],p.image=s.faviconOrDefault(i,t.site()));const f=s.personTR(i,r.ns.foaf("knows"),t,p);return d&&(f.children[1].textConent=p.title,f.style.backgroundColor="#ffe6ff"),f.style.padding="0.2em",f}(l));p.style.width="100%";const m=d.appendChild(i.createElement("tr")).appendChild(i.createElement("td"));let y;m.setAttribute("colspan",3);let b=!0;const w=p.children[2].appendChild(s.button(i,f,"View",(function(e){b=!b,y.style.visibility=b?"visible":"collapse",w.children[0].src=b?h:f})));w.style.float="right",delete w.style.backgroundColor,delete w.style.border;const x=(g(e)||g(l),"profile");return s.publicData.loadPublicDataThing(c,e,l).then(e=>{try{y=function(e,t,n,r){const i=r.session.paneRegistry.byName(n).render(t,r);return i.setAttribute("style","border: 0.1em solid #444; border-radius: 0.5em"),i}(0,l,x,t),console.log("main: ",y),y.style.width="100%",console.log("renderIdControl: main element: ",y),m.appendChild(y)}catch(e){y=s.errorMessageBlock(i,`Problem displaying persona ${l}: ${e}`),m.appendChild(y)}},e=>{y=s.errorMessageBlock(i,`Error loading persona ${l}: ${e}`),m.appendChild(y)}),u}async function v(){const t=m(c,e);console.log("WebId personas: "+e+" -> "+t.map(e=>e.uri).join(",\n  ")),x.style.display=t.length?"none":"",l.syncTableToArrayReOrdered(k,t,e=>d(y,e,c))}const{dom:y}=t;(n=n||{}).editable=c.updater.editable(e.doc().uri,c);const b=y.createElement("div");if(b.style="border-radius:0.3em; border: 0.1em solid #888;",0===m(c,e).length&&!n.editable)return b.style.display="none",b;const w=b.appendChild(y.createElement("h4"));w.textContent=n.idNoun,w.style=u.formHeadingStyle,w.style.color=u.highlightColor;const x=b.appendChild(y.createElement("p"));x.style=u.commentStyle,x.textContent=n.longPrompt;b.appendChild(y.createElement("table")).style.width="100%",n.editable&&(n.manualURIEntry=!0,n.queryParams=n.queryParams||p,b.appendChild(await Object(i.renderAutocompleteControl)(y,e,n,(async function(e,t){try{await async function(e,t,n,r){try{new URL(t)}catch(e){throw new Error(`Solid ID: ${t} is not a valid url.`)}console.log(`Adding to ${e} a Solid ID: ${t}.`);const i=r.bnode(),s=[a.st(e,o.vcard("url"),i,e.doc()),a.st(i,o.rdf("type"),n,e.doc()),a.st(i,o.vcard("value"),t,e.doc())];r.each(null,o.vcard("hasMember"),e).forEach(n=>{s.push(a.st(e,o.owl("sameAs"),r.sym(t),n.doc()))});try{await C([],s)}catch(e){throw new Error(`Could not create webId Solid ID: ${t}.`)}}(e,t,n.urlType,c)}catch(n){b.appendChild(s.errorMessageBlock(y,`Error adding Id ${t} to ${e}: ${n}`))}await v()}))));const k=b.appendChild(y.createElement("div"));return await v(),b}const y=r.ns,b=r.rdf,w=r.utils,x=r.store,k=x.updater;async function C(e,t=[]){const n=e.concat(t).map(e=>e.why),r=[];n.forEach(e=>{r.find(t=>t.equals(e))||r.push(e)});const i=r.map(n=>x.updater.update(e.filter(e=>e.why.sameTerm(n)),t.filter(e=>e.why.sameTerm(n))));return Promise.all(i)}async function E(e,t){await x.fetcher.load(e.doc());const n=x.any(e,y.vcard("groupIndex")),r=function(e){return e.replace(/\W/gu,"_").replace(/_+/g,"_")}(t),i=x.sym(e.dir().uri+"Group/"+r+".ttl#this"),a=i.doc();console.log(" New group will be: "+i+"\n");try{await x.fetcher.load(n)}catch(e){throw new Error("Error loading group index!"+n.uri+": "+e)}if(x.holds(e,y.vcard("includesGroup"),i,n))return i;const o=[b.st(e,y.vcard("includesGroup"),i,n),b.st(i,y.rdf("type"),y.vcard("Group"),n),b.st(i,y.vcard("fn"),t,n)];try{await k.update([],o)}catch(e){throw new Error("Could not update group index "+e)}const s=[b.st(e,y.vcard("includesGroup"),i,a),b.st(i,y.rdf("type"),y.vcard("Group"),a),b.st(i,y.vcard("fn"),t,a)];try{await k.update([],s)}catch(e){throw new Error("Could not update group file: "+e)}return i}async function T(e,t){const n=[e.doc(),t.doc()];try{await x.fetcher.load(n)}catch(e){throw new Error("addPersonToGroup: "+e)}const r=x.findTypeURIs(e);for(const e in r)console.log("    drop object type includes: "+e);if(!(y.vcard("Individual").uri in r)&&!(y.vcard("Organization").uri in r))return alert(`Can't add ${e} to a group: it has to be an individual or another group.`);const i=x.any(e,y.vcard("fn")),a=x.any(t,y.vcard("fn"));if(!i)return alert("No vcard name known for "+e);if(x.holds(t,y.vcard("hasMember"),e,t.doc()))return alert("ALREADY added "+i+" to group "+a);if(!confirm("Add "+i+" to group "+a+"?"))return;const o=[b.st(t,y.vcard("hasMember"),e,t.doc()),b.st(e,y.vcard("fn"),i,t.doc())];m(x,e).map(e=>e.value).forEach(n=>{o.push(b.st(e,y.owl("sameAs"),x.sym(n),t.doc()))});try{await k.update([],o),x.fetcher.unload(t.doc()),await x.fetcher.load(t.doc())}catch(e){throw new Error(`Error adding ${i} to group ${a}:`+e)}return e}function _(e,t,n,i,a,o){const s=a.dom,l=r.store,c=r.ns,u=c.vcard,d="font-size: 100%; margin: 0.8em; padding:0.5em;",p=s.createElement("div"),f=p.appendChild(s.createElement("table"));f.setAttribute("style","font-size:120%; margin: 1em; border: 0.1em #ccc ;");const h=f.appendChild(s.createElement("tr"));h.textContent=r.utils.label(i)+" - tools",h.setAttribute("style","min-width: 20em; padding: 1em; font-size: 150%; border-bottom: 0.1em solid red; margin-bottom: 2em;");const m=f.appendChild(s.createElement("tr")).appendChild(s.createElement("div"));m.setAttribute("style","padding: 2em;");const g=f.appendChild(s.createElement("tr")),v=g.appendChild(s.createElement("table"));f.appendChild(s.createElement("tr"));const y={target:i,me:o,noun:"address book",div:p,dom:s,statusRegion:m};function b(e){console.log(e),m.appendChild(r.widgets.errorMessageBlock(s,e,"pink"))}return async function(){v.appendChild(r.aclControl.ACLControlBox5(i.dir(),a,"book",l,(function(e,t){e||(v.innerHTML="ACL control box Failed: "+t)})));try{await r.authn.registrationControl(y,i,c.vcard("AddressBook"))}catch(e){r.widgets.complain(y,"registrationControl: "+e)}console.log("Registration control finished.");const o=g.appendChild(s.createElement("pre"));function f(e){console.log(e),o.textContent+=e+"\n"}const h=p.appendChild(s.createElement("button"));h.textContent="Load main index",h.style.cssText=d,h.addEventListener("click",(async function(e){h.setAttribute("style","background-color: #ffc;");const t=l.any(i,c.vcard("nameEmailIndex"));try{await l.fetcher.load(t)}catch(e){h.setAttribute("style","background-color: #fcc;"),f("Error: People index has NOT been loaded"+e+"\n")}h.setAttribute("style","background-color: #cfc;"),f(" People index has been loaded\n")}));const m=p.appendChild(s.createElement("button"));m.textContent="Statistics",m.style.cssText=d,m.addEventListener("click",(function(){f(l.each(void 0,u("inAddressBook"),i).length+" cards loaded. "),f(l.each(i,u("includesGroup")).length+" total groups. ");const e=[];for(const n in t)e.push(n);f(e.length+" selected groups. ")}));const w=p.appendChild(s.createElement("button"));w.textContent="Check individual card access of selected groups",w.style.cssText=d,w.addEventListener("click",(async function(e){function n(e){r.widgets.fixIndividualCardACL(e,f,(function(t,n){f(t?"Success for "+r.utils.label(e):"Failure for "+r.utils.label(e)+": "+n)}))}const i=[];for(const e in t)i.push(e);for(let e=0;e<i.length;e++){const t=l.sym(i[e]),a=l.each(t,c.vcard("hasMember"));f(r.utils.label(t)+": "+a.length+" members");for(let e=0;e<a.length;e++){const t=a[e];f(r.utils.label(t)),n(t)}}}));const x=p.appendChild(s.createElement("button"));async function k(e){const t=l.any(e,c.vcard("groupIndex")),n=l.any(e,c.vcard("nameEmailIndex"));try{await l.fetcher.load([n,t]);const r=l.each(e,c.vcard("includesGroup"));await l.fetcher.load(r)}catch(e){b("Error loading stuff:"+e)}const i={},a=[],o=l.each(e,u("includesGroup"));f(o.length+" total groups. ");for(let e=0;e<o.length;e++){const t=o[e],n=l.each(t,c.vcard("hasMember"));f(r.utils.label(t)+": "+n.length+" members");for(let e=0;e<n.length;e++)l.allAliases(n[e]).forEach((function(e){i[e.uri]=t}))}const s=l.each(void 0,u("inAddressBook"),e);f(s.length+" total cards");for(let e=0;e<s.length;e++)i[s[e].uri]||(a.push(s[e]),f("   groupless "+r.utils.label(s[e])));return f(a.length+" groupless cards."),a}x.textContent="Find duplicate cards",x.style.cssText=d,x.addEventListener("click",(function(e){const t={};t.book=i,t.nameEmailIndex=l.any(i,c.vcard("nameEmailIndex")),f("Loading name index..."),r.store.fetcher.nowOrWhenFetched(t.nameEmailIndex,void 0,(function(e,n){function r(e){let n;return Promise.resolve().then(()=>{const r=e.uri.replace("/Group/","/NewGroup/");n=l.sym(r);let i=[];for(let n=0;n<t.uniques.length;n++)i=i.concat(l.connectedStatements(t.uniques[n],e.doc()));const a=new $rdf.Serializer(l).setBase(e.uri);f("   Regenerating group of uniques..."+n);const o=a.statementsToN3(i);return l.fetcher.webOperation("PUT",n,{data:o})}).then(()=>(f("     Done uniques group "+n),!0)).catch(e=>{f("Error saving : "+e)})}f("Loaded name index."),t.cards=[],t.duplicates=[],t.definitive=[],t.nameless=[],t.exactDuplicates=[],t.nameOnlyDuplicates=[],t.uniquesSet=[],t.groupProblems=[],t.nameDupLog=l.sym(i.dir().uri+"dedup-nameDupLog.ttl"),t.exactDupLog=l.sym(i.dir().uri+"dedup-exactDupLog.ttl"),t.nameOnlyErrors=[],t.nameLessZeroData=[],t.nameLessIndex=[],t.namelessUniques=[],t.nameOnlyDuplicatesGroupDiff=[];const a=function(){let e=[];if(t.book){[t.book].forEach((function(t){const n=(t?l.each(t,c.vcard("includesGroup")):[]).map((function(e){return[t,l.any(e,c.vcard("fn")),e]}));e=e.concat(n)})),e.sort()}return e}();t.groupObjects=a.map(e=>e[2]),f("Loading "+t.groupObjects.length+" groups... "),l.fetcher.load(t.groupObjects).then((function(){return new Promise((function(e){let n,r,i;for(t.cards=l.each(void 0,u("inAddressBook"),t.book),f(t.cards.length+" total cards"),n=0;n<t.cards.length;n++)if(r=t.cards[n],i=l.anyValue(r,c.vcard("fn")),i)if(t.definitive[i]===r);else if(t.definitive[i]){t.duplicates.length;t.duplicates.push(r)}else t.definitive[i]=r;else t.nameless.push(r);t.duplicateSet=[];for(let e=0;e<t.duplicates.length;e++)t.duplicateSet[t.duplicates[e].uri]=t.duplicates[e];t.namelessSet=[];for(let e=0;e<t.nameless.length;e++)t.namelessSet[t.nameless[e].uri]=t.nameless[e];t.uniques=[],t.uniqueSet=[];for(let e=0;e<t.cards.length;e++){const n=t.cards[e].uri;t.duplicateSet[n]||t.namelessSet[n]||(t.uniques.push(t.cards[e]),t.uniqueSet[n]=t.cards[e])}f("Uniques: "+t.uniques.length),f(t.nameless.length+" nameless cards."),f(t.duplicates.length+" name-duplicate cards, leaving "+(t.cards.length-t.duplicates.length)),e(!0)}))})).then((function(){return new Promise((function(e){f("Groups loaded");for(let e=0;e<t.uniques.length;e++)t.uniquesSet[t.uniques[e].uri]=!0;t.groupMembers=l.statementsMatching(null,c.vcard("hasMember")).map(e=>e.object),f("  Naive group members "+t.groupMembers.length),t.groupMemberSet=[];for(let e=0;e<t.groupMembers.length;e++)t.groupMemberSet[t.groupMembers[e].uri]=t.groupMembers[e];t.groupMembers2=[];for(const e in t.groupMemberSet)t.groupMembers2.push(t.groupMemberSet[e]);if(f("  Compact group members "+t.groupMembers2.length),$rdf.keepThisCodeForLaterButDisableFerossConstantConditionPolice){for(let e=0;e<t.groupMembers.length;e++){const n=t.groupMembers[e];t.uniquesSet[n.uri]||(f("  Not in uniques: "+n),t.groupProblems.push(n),t.duplicateSet[n.uri]?f("    ** IN duplicates alas:"+n):f("   **** WTF?"))}f("Problem cards: "+t.groupProblems.length)}e(!0)}))})).then((function e(){return t.namelessToCheck=t.namelessToCheck||t.nameless.slice(),f("Nameless check left: "+t.namelessToCheck.length),new Promise((function(n){const r=t.namelessToCheck.shift();if(!r){if(f("namelessUniques: "+t.namelessUniques.length),f("namelessUniques: "+t.namelessUniques),t.namelessUniques.length>0&&confirm("Add all "+t.namelessUniques.length+" nameless cards to the rescued set?")){t.uniques=t.uniques.concat(t.namelessUniques);for(let e=0;e<t.namelessUniques.length;e++)t.uniqueSet[t.namelessUniques[e].uri]=!0}return n(!0)}var i;(i=r,new Promise((function(e){l.fetcher.load(i).then((function(n){f(" Nameless check "+i);const r={};r[c.vcard("hasUID").uri]=!0,r[c.dc("created").uri]=!0,r[c.dc("modified").uri]=!0;const a=(o=i,l.statementsMatching(null,null,null,o.doc()).filter((function(e){return!r[e.predicate.uri]})));var o;if(!a.length)return f("  Zero length "+i),t.nameLessZeroData.push(i),e(!1);const s=new $rdf.Serializer(l).setBase(i.doc().uri).statementsToN3(a),u=t.nameLessIndex[s];if(u){f("  Matches with "+u);const n=l.each(null,c.vcard("hasMember"),i),r=l.each(null,c.vcard("hasMember"),u);for(let a=0;a<n.length;a++){let o=!1;for(let e=0;e<r.length;e++)r[e].sameTerm(n[a])&&(o=!0);if(!o)return f("This one groups: "+n),f("Other one groups: "+r),f("Cant skip this one because it has a group, "+n[a]+", which the other does not."),t.nameOnlyDuplicatesGroupDiff.push(i),e(!1)}console.log("Group check done -- exact duplicate: "+i)}else f("First nameless like: "+i.doc()),f("___________________________________________"),f(s),f("___________________________________________"),t.nameLessIndex[s]=i,t.namelessUniques.push(i);e(!0)})).catch((function(n){f("Cant load a nameless card!: "+n),t.nameOnlyErrors.push(i),e(!1)}))}))).then((function(t){f("    Nameless check returns "+t),e()}))}))})).then((e,t)=>{confirm("Write new clean versions?")?e(!0):t()}).then((function(){let e;return Promise.resolve().then(()=>{e=l.sym(t.book.dir().uri+"clean-people.ttl");let n=[];for(let e=0;e<t.uniques.length;e++)n=n.concat(l.connectedStatements(t.uniques[e],t.nameEmailIndex));const r=new $rdf.Serializer(l).setBase(t.nameEmailIndex.uri);f("Serializing index of uniques...");const i=r.statementsToN3(n);return l.fetcher.webOperation("PUT",e,{data:i,contentType:"text/turtle"})}).then((function(){return f("Done uniques log "+e),!0})).catch((function(e){f("Error saving uniques: "+e)}))})).then((function(){return f("Saving ALL GROUPS"),Promise.all(t.groupObjects.map(r))})).then((function(){f("Done!")}))}))}));const C=p.appendChild(s.createElement("button"));C.style.cssText=d,C.textContent="Find individuals with no group",C.addEventListener("click",(function(r){f("Loading groups..."),e(t,n,(async function(e,t){if(!e)return void f("Load all groups: failed: "+t);const n=l.any(i,c.vcard("nameEmailIndex"));try{await l.fetcher.load(n)}catch(e){b(e)}f("Loaded groups and name index."),k(i),f("Groupless list finished..")}))}));const _=p.appendChild(s.createElement("button"));_.style.cssText=d,_.textContent="Put all individuals with no group in a new group",_.addEventListener("click",e=>async function(e){const t=await k(e);if(0===t.length)return void f("No groupless cards found.");const n=await E(e,"ZSortThese");if(confirm(`Add the ${t.length} cards without groups to a ZSortThese group?`))for(const e of t)f("   adding "+e),await T(e,n);f("People moved to group.")}(i))}(),p}const S=n(0),O=S.rdf;var A=n(77);const j=r.rdf,P=r.ns,I=r.utils,N=r.store;function L(e,t){function n(t){console.log(t),h.appendChild(r.widgets.errorMessageBlock(e,t,"pink"))}async function i(e,t,n){const r=[j.st(e,P.vcard("hasPhoto"),t,e.doc())];try{n?await N.updater.update(r,[]):await N.updater.update([],r)}catch(e){const n=" Write back image link FAIL "+t+", Error: "+e;console.log(n),alert(n)}}function a(e){N.fetcher.nowOrWhenFetched(e.doc(),(function(n,r){if(n){const n=N.findTypeURIs(e);for(const e in n)console.log("    drop object type includes: "+e);console.log("Default: assume web page  "+e),N.add(t,P.wf("attachment"),e,t.doc())}else console.log("Error looking up dropped thing "+e+": "+r)}))}function o(e,r,i){const a=A.extension(r);let o,s;r!==A.lookup(e)&&(e+="_."+a,console.log("MIME TYPE MISMATCH -- adding extension: "+e));const l=r.startsWith("image");let c,u;for(l?(o="image_",s=P.vcard("hasPhoto")):(o="attachment_",s=P.wf("attachment")),c=0;u=N.sym(t.dir().uri+e),N.holds(t,P.vcard("hasPhoto"),u);c++)e=o+c+"."+a;console.log("Putting "+i.byteLength+" bytes of "+r+" to "+u),N.fetcher.webOperation("PUT",u.uri,{data:i,contentType:r}).then((function(e){e.ok?(console.log(" Upload: put OK: "+u),N.add(t,s,u,t.doc()),N.fetcher.putBack(t.doc(),{contentType:"text/turtle"}).then((function(e){l&&m.refresh()}),(function(e){console.log(" Write back image link FAIL "+u+", Error: "+e)}))):n("Error uploading "+u+":"+e.status)}))}async function s(e){for(const i of e){var t=j.sym(i);if(console.log("Dropped on mugshot thing "+t),i.startsWith("http")&&i.indexOf("#")<0){i.startsWith("http:")&&(t=j.sym("https:"+i.slice(5)));const e={withCredentials:!1,credentials:"omit"};try{var r=await N.fetcher.webOperation("GET",t.uri,e)}catch(e){return n(`Gallery: fetch error trying to read picture ${t} data: ${e}`),void a(t)}const s=r.headers.get("Content-Type");let l=t.uri.split("/").slice(-1)[0];l=l.split("?")[0];const c=await r.arrayBuffer();return r.ok?void o(l,s,c):(alert("Cant download, so will link image. "+t+":"+r.status),void a(t))}alert("Not a web document URI, cannot copy as picture: "+t),a(t)}}function l(e){for(let t=0;t<e.length;t++){const n=e[t];console.log(" contacts: Filename: "+n.name+", type: "+(n.type||"n/a")+" size: "+n.size+" bytes, last modified: "+(n.lastModifiedDate?n.lastModifiedDate.toLocaleDateString():"n/a"));const r=new FileReader;r.onload=function(e){return function(t){const n=t.target.result;console.log(" File read byteLength : "+n.byteLength);o(encodeURIComponent(e.name),e.type,n)}}(n),r.readAsArrayBuffer(n)}}function c(t){const n=e.createElement("img");return n.setAttribute("style","max-height: 10em; border-radius: 1em; margin: 0.7em;"),r.widgets.makeDropTarget(n,s,l),t&&(n.setAttribute("src",t.uri),r.widgets.makeDraggable(n,t)),n}function u(){let e=N.each(t,P.vcard("hasPhoto"));e.sort(),e=e.slice(0,5),0===e.length?(m.innerHTML="",f&&m.appendChild(g)):I.syncTableToArray(m,e,c)}function d(){return N.sym(t.dir().uri+"Image_"+Date.now()+".png")}async function p(e){e&&(await i(t,e),u())}const f=N.updater.editable(t.doc().uri,N),h=e.createElement("div"),m=h.appendChild(e.createElement("div")),g=c();return r.widgets.setImage(g,t),u(),m.refresh=u,f&&h.appendChild(function(){const n=e.createElement("table"),a=n.appendChild(e.createElement("tr")),o=a.appendChild(e.createElement("td")),s=a.appendChild(e.createElement("td")),c=a.appendChild(e.createElement("td"));o.appendChild(r.media.cameraButton(e,N,d,p));try{s.appendChild(r.widgets.fileUploadButtonDiv(e,l))}catch(e){console.log("ignore fileUploadButtonDiv error for now",e)}return c.appendChild(function(){const n=r.widgets.button(e,r.icons.iconBase+"noun_925021.svg","Drag here to delete");return r.widgets.makeDropTarget(n,(async function(e){const n=N.each(t,P.vcard("hasPhoto")).map(e=>e.uri);for(const r of e){if(!n.includes(r))return void alert("Only drop images in this contact onto this trash can.");if(confirm(`Permanently DELETE image ${r} completely?`)){console.log("Unlinking image file "+r),await i(t,N.sym(r),!0);try{console.log("Deleting image file "+r),await N.fetcher.webOperation("DELETE",r)}catch(e){alert("Unable to delete picture! "+e)}}}u()}),null),n}()),n}()),h}const R=r.ns,M=r.utils;async function D(e,t){function n(t){const n={deleteFunction:function(){!async function(t,n){const l=o.any(t,R.vcard("fn")),c=o.any(n,R.vcard("fn"));if(o.each(null,R.vcard("hasMember"),t).length<2)return void alert("Must be a member of at least one group.  Add to another group first.");if(confirm("Remove "+l+" from group "+c+"?")){const t=o.statementsMatching(e,void 0,void 0,n.doc()).concat(o.statementsMatching(void 0,void 0,e,n.doc()));o.updater.update(t,[],(function(e,t,i){if(!t){const e="Error removing member from group "+n+": "+i;s.parentNode.appendChild(r.widgets.errorMessageBlock(a,e,"pink"))}})),console.log("Removed "+l+" from group "+c),o.fetcher.unload(n.doc()),await o.fetcher.load(n.doc()),i()}}(e,t)},noun:"membership"};return r.widgets.personTR(a,null,t,n)}function i(){const t=o.each(null,R.vcard("hasMember"),e);M.syncTableToArray(s,t,n)}const{dom:a}=t,o=t.session.store,s=a.createElement("table");return await async function(e=null){if(!e&&!(e=o.any(void 0,R.vcard("includesGroup"))))throw new Error("findBookFromGroups: Cant find address book which this group is part of");const t=o.any(e,R.vcard("groupIndex")),n=e?o.each(e,R.vcard("includesGroup"),null,t):[];await o.fetcher.load(n)}(),s.refresh=i,i(),s}var F=n(171),B=n.n(F),U=n(172),z=n.n(U);const q=r.rdf,H=r.ns,W=r.store,G=r.style;async function V(e,t,n,i){function a(n){console.log(n),t.appendChild(r.widgets.errorMessageBlock(e,n,"pink"))}function s(){t.appendChild(e.createElement("div")).setAttribute("style","height: 1em")}const l=W.findTypeURIs(n),u=!(!l[H.vcard("Organization").uri]&&!l[H.schema("Organization").uri]),f=W.updater.editable(n.doc().uri,W),h=W.sym("https://solid.github.io/solid-panes/contact/individualForm.ttl#form1");!function(e,t,n){const r=t.doc();e.holds(void 0,void 0,void 0,r)||q.parse(n,e,r.uri,"text/turtle")}(W,h,B.a);const m=W.sym("https://solid.github.io/solid-panes/contact/individualForm.ttl#orgDetailsForm"),g=r.ns.vcard("Type").doc();W.holds(void 0,void 0,void 0,g)||q.parse(z.a,W,g.uri,"text/turtle");try{await W.fetcher.load(n.doc())}catch(e){a("Error: Failed to load contact card: "+e)}t.style=G.paneDivStyle||"padding: 0.5em 1.5em 1em 1.5em;",r.authn.checkUser(),t.appendChild(L(e,n));const y=u?m:h;r.widgets.appendForm(e,t,{},n,y,n.doc(),(function(e,t){e||a("Error: "+t)})),s(),t.appendChild(await D(n,i)),s(),r.widgets.attachmentList(e,n,t,{modify:f}),s(),u?t.appendChild(await async function(e,t){let n=c.sym("http://www.wikidata.org/wiki/Q43229"),r="Organization";for(const t in d)c.holds(e,o.rdf("type"),o.schema(t),e.doc())&&(n=c.sym(d[t]),r=t,console.log(`  renderPublicIdControl bingo: ${t} -> ${n}`));return v(e,t,{longPrompt:`If you know the In public data of this ${r}, you can do more stuff with it.\n    To record its In public data, drag it onto the plus, or click the magnifyinng glass\n    to search for it in WikiData.`,idNoun:"In public data",urlType:o.vcard("PublicId"),dbLookup:!0,class:n,queryParams:p})}(n,i)):t.appendChild(await async function(e,t){return v(e,t,{longPrompt:"If you know someone's Solid ID, you can do more stuff with them.\n    To record their Solid ID, drag it onto the plus, or click the plus\n    to enter it by hand.",idNoun:"Solid ID",urlType:o.vcard("WebID")})}(n,i))}const $=r.ns,Q=r.utils,J=r.style;t.default={icon:r.icons.iconBase+"noun_99101.svg",name:"contact",label:function(e,t){const n=t.session.store.findTypeURIs(e);return n[$.vcard("Individual").uri]?"Contact":n[$.vcard("Organization").uri]?"contact":n[$.foaf("Person").uri]||n[$.schema("Person").uri]?"Person":n[$.vcard("Group").uri]?"Group":n[$.vcard("AddressBook").uri]?"Address book":null},mintClass:r.ns.vcard("AddressBook"),mintNew:function(e,t){return new Promise((function(n,r){S.authn.logInLoadProfile(t).then(t=>{console.log("Logged in as "+t.me);const i=t.me,a=t.dom,o=t.div,s=e.session.store,l=S.ns,c=t.newBase||t.newInstance.dir().uri;if((t.instanceClass||l.vcard("AddressBook")).sameTerm(l.vcard("Group"))){const e=t.newInstance||s.sym(t.newBase+"index.ttl#this"),i=e.doc();return s.add(e,l.rdf("type"),l.vcard("Group"),i),s.add(e,l.vcard("fn"),t.instanceName||"untitled group",i),void s.fetcher.putBack(i,{contentType:"text/turtle"}).then((function(e){n(t)})).catch((function(e){r(new Error("Error creating document for new group "+e))}))}function u(e){o.appendChild(S.widgets.errorMessageBlock(a,e,"pink"))}let d='@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n  @prefix ab: <http://www.w3.org/ns/pim/ab#>.\n  @prefix dc: <http://purl.org/dc/elements/1.1/>.\n  @prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n  <#this> a vcard:AddressBook;\n      dc:title "New address Book";\n      vcard:nameEmailIndex <people.ttl>;\n      vcard:groupIndex <groups.ttl>.\n';d+="<#this> <http://www.w3.org/ns/auth/acl#owner> <"+i.uri+">.\n\n";const p=s.sym(c+"index.ttl#this"),f=[{to:"index.ttl",content:d,contentType:"text/turtle"},{to:"groups.ttl",content:"",contentType:"text/turtle"},{to:"people.ttl",content:"",contentType:"text/turtle"},{to:"",existing:!0,aclOptions:{defaultForNew:!0}}];!function e(){function l(t,n){if(!n)return u("Error writing new file "+d.to),r(new Error("Error writing new file "+d.to));S.authn.setACLUserPublic(h,i,m).then(()=>e()).catch(e=>{const t="Error setting access permissions for "+d.to+" : "+e.message;return u(t),r(new Error(t))})}if(0===f.length)!function(e,r){console.log(`New ${r} created at ${e}`);const i=o.appendChild(a.createElement("p"));i.setAttribute("style","font-size: 140%;"),i.innerHTML="Your <a href='"+e.uri+"'><b>new "+r+"</b></a> is ready. <br/><br/><a href='"+e.uri+"'>Go to new "+r+"</a>";const s=Object.assign({newInstance:e},t);n(s)}(p,"address book");else{var d=f.shift();console.log("Creating new file "+d.to+" in new instance ");var h=O.uri.join(d.to,c),m=d.aclOptions||{};"content"in d?s.fetcher.webOperation("PUT",h,{data:d.content,saveMetadata:!0,contentType:d.contentType}).then(()=>l(0,!0)):"existing"in d?l(0,!0):r(new Error("copy not expected buiding new app!!"))}}()},e=>{t.div.appendChild(S.widgets.errorMessageBlock(e))})}))},render:function(e,t,n={}){const i=this;function a(e){console.log("contactsPane: "+e),u.appendChild(r.widgets.errorMessageBlock(l,e,"pink"))}function o(e,t){e||a("Error: "+t)}function s(e){return r.authn.newAppInstance(l,{noun:"address book",appPathSegment:"contactorator.timbl.com"},(function(t,n){i.clone(e,n,{me:d,div:u,dom:l})}))}const l=t.dom,c=t.session.store,u=l.createElement("div"),d=r.authn.currentUser();return r.aclControl.preventBrowserDropEvents(l),u.setAttribute("class","contactPane"),async function(){r.aclControl.preventBrowserDropEvents(l);const i=c.findTypeURIs(e);let d=r.authn.currentUser();const p={target:e,me:d,noun:"address book",div:u,dom:l};function f(e,i,p){c.fetcher.load(e).then((function(i){!function(e,i,p){const f=Q.label($.vcard("AddressBook"));let h=e[0];const m=c.any(h,$.vcard("groupIndex"));let g={},v={};const C=p.foreignGroup||h;let S=c.any(C,$.dc("title"))||c.any(C,$.vcard("fn"));n.solo&&S&&"undefined"!=typeof document&&(document.title=S.value);function O(e){if(e)return e;let t;for(const e in g){t=c.sym(e);const n=c.any(void 0,$.vcard("includesGroup"),t);if(n)return n}throw new Error("findBookFromGroups: Cant find address book which this group is part of")}function A(e){const t=c.any(e,$.vcard("fn"))||c.any(e,$.foaf("name"))||c.any(e,$.vcard("organization-name"));return t?t.value:"???"}function j(e){const t=ie.value.trim().toLowerCase();if(0===t.length)return!0;const n=t.split(" ");for(let t=0;t<n.length;t++){const r=n[t];if(e.toLowerCase().indexOf(r)<0)return!1}return!0}function P(e){ae.innerHTML="loading...",v={},v[e.uri]=!0,I();const t=h?function(e,t){const n=c.allAliases(e),r=h.dir().uri;for(let e=0;e<n.length;e++)if(n[e].uri.slice(0,r.length)===r)return n[e];throw new Error("No local URI for "+e)}(e):e;c.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(n,i){if(ae.innerHTML="",!n)return o(n,"Can't load card: "+t+": "+i);ae.appendChild(L(l,t,"contact")),ae.appendChild(l.createElement("br")),ae.appendChild(r.widgets.linkIcon(l,t));r.widgets.deleteButtonWithCheck(l,ae,"contact",(async function(){const t=e.dir(),n=c.any(e,$.vcard("fn"));if(confirm("Delete contact "+n+" completely?? "+t)){console.log("Deleting a contact "+n),await async function(){const e=h?c.each(h,$.vcard("includesGroup"),null,m):[];await c.fetcher.load(e)}();const r=c.any(h,$.vcard("nameEmailIndex"));await c.fetcher.load(r),await M(e),await function e(t,n){return new Promise((function(r){t.fetcher.load(n).then((function(){const i=t.each(n,$.ldp("contains")).map(n=>{if(t.holds(n,$.rdf("type"),$.ldp("BasicContainer")))return e(t,n);if(console.log("deleteRecirsive file: "+n),!confirm(" Really DELETE File "+n))throw new Error("User aborted delete file");return t.fetcher.webOperation("DELETE",n.uri)});if(console.log("deleteRecirsive folder: "+n),!confirm(" Really DELETE folder "+n))throw new Error("User aborted delete file");i.push(t.fetcher.webOperation("DELETE",n.uri)),Promise.all(i).then(e=>{r()})}))}))}(c,t),D(),ae.innerHTML="Contact Data Deleted."}})).style="height: 2em;"}))}function I(e){let t=0,n=null;for(let e=0;e<ee.children.length;e++){const r=ee.children[e],i=j(A(r.subject));i&&(t++,n=r),r.setAttribute("style",i?v[r.subject.uri]?"background-color: #cce;":"":"display: none;")}if(1===t&&e){P(n.subject)}}function N(e,t,n){function r(t,r){r.setAttribute("style","background-color: #ffe;"),c.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(s,l){if(!s){const e="Can't load group file: "+t+": "+l;return a.push(e),o(s,e)}r.setAttribute("style","background-color: #cce;"),e[t.uri]=!0,F(),D(),i-=1,i||n&&n(0===a.length,a)}))}let i=t.children.length;var a=[];for(let e=0;e<t.children.length;e++){const n=t.children[e];r(n.subject,n)}}function L(e,n,r){const i=t.session.paneRegistry.byName(r).render(n,t);return i.setAttribute("style","border: 0.1em solid #444; border-radius: 0.5em"),i}function R(e,t){let n=A(e),r=A(t);if(n&&r){if(n=n.toLowerCase(),r=r.toLowerCase(),n>r)return 1;if(n<r)return-1}return e.uri>t.uri?1:e.uri<t.uri?-1:0}async function M(e){console.log("deleteThingAndDoc: "+e);const t=c.statementsMatching(e).concat(c.statementsMatching(void 0,void 0,e));try{await c.updater.updateMany(t),console.log("Deleting resoure "+e.doc()),await c.fetcher.delete(e.doc()),console.log("Delete thing "+e+": complete.")}catch(t){a("Error deleting thing "+e+": "+t)}}function D(){let e=[];Object.keys(g).map(e=>c.sym(e)).forEach(t=>{if(g[t.value]){const n=c.each(t,$.vcard("hasMember"),null,t.doc());e=e.concat(n)}}),e.sort(R);for(let t=0;t<e.length-1;)e[t].uri===e[t+1].uri?e.splice(t,1):t++;V.textContent=e.length>5?e.length+" contacts":"contact",Q.syncTableToArrayReOrdered(ee,e,(function(e){const t=l.createElement("tr"),n=t.appendChild(l.createElement("td"));n.setAttribute("style",oe),t.subject=e;const i=A(e);return n.textContent=i,t.subject=e,r.widgets.makeDraggable(t,e),function(e,t){e.addEventListener("click",(function(e){e.preventDefault(),P(t)}))}(t,e),t})),I()}function F(){return function(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];r.subject&&r.setAttribute("style",t[r.subject.uri]?"background-color: #cce;":"")}}(Y,g)}function B(){const n=function(){let t=[];return p.foreignGroup&&t.push(["",c.any(p.foreignGroup,$.vcard("fn")),p.foreignGroup]),h&&(e.forEach((function(e){const n=(e?c.each(e,$.vcard("includesGroup"),null,m):[]).map((function(t){return[e,c.any(t,$.vcard("fn")),t]}));t=t.concat(n)})),t.sort()),t.map(e=>e[2])}();Q.syncTableToArrayReOrdered(Y,n,(function(e){const n=c.any(e,$.vcard("fn")),i=l.createElement("tr");return i.subject=e,r.widgets.makeDraggable(i,e),i.setAttribute("style",oe),i.textContent=n,r.widgets.makeDropTarget(i,(async function(t){t.forEach((function(t){console.log("Dropped on group: "+t);const n=c.sym(t);try{T(n,e)}catch(e){a(e)}D()}))})),r.widgets.deleteButtonWithCheck(l,i,"group "+n,(async function(){await M(e),B()})),i.addEventListener("click",(function(n){n.preventDefault();const i=c.sym(e.uri.split("#")[0]);n.metaKey||(g={}),g[e.uri]=!g[e.uri],F(),ee.innerHTML="",c.fetcher.nowOrWhenFetched(i.uri,void 0,(function(a,s){if(!a)return o(a,"Can't load group file: "+i+": "+s);if(D(),!n.metaKey){ae.innerHTML="";let n=!1;const i=r.aclControl.ACLControlBox5(e,t,"group",c,(function(e,t,n){e||(n&&n.status&&403===n.status?ae.innerHTML="No control access.":ae.innerHTML="Failed to load access control: "+t)})),a=ae.appendChild(l.createElement("button"));a.style.cssText="padding: 1em; margin: 1em";const o=a.appendChild(l.createElement("img"));o.style.cssText="width: 1.5em; height: 1.5em",o.setAttribute("src",r.icons.iconBase+"noun_123691.svg"),a.addEventListener("click",(function(){n=!n,n?ae.appendChild(i):ae.removeChild(i)}))}}))}),!0),i})),F()}async function U(e){ae.innerHTML="";const t=O(h);try{await c.fetcher.load(t)}catch(e){throw new Error("Book won't load:"+t)}const n=c.any(t,$.vcard("nameEmailIndex"));if(!n)throw new Error("Wot no nameEmailIndex?");await c.fetcher.load(n),console.log("Name index loaded async"+n);const i=await r.widgets.askName(l,c,ae,r.ns.foaf("name"),e);if(!i)return;let a;ae.innerHTML="indexing...",h=O(h);try{a=await async function(e,t,n,r){await x.fetcher.load(e.doc());const i=x.any(e,y.vcard("nameEmailIndex")),a=w.genUuid(),o=x.sym(e.dir().uri+"Person/"+a+"/index.ttl#this"),s=o.doc(),l=[b.st(o,y.vcard("inAddressBook"),e,i),b.st(o,y.vcard("fn"),t,i),b.st(o,y.vcard("fn"),t,s),b.st(o,y.rdf("type"),r,s),b.st(s,y.dct("created"),new Date,s)];for(const e in n){const n=x.sym(e),r=n.doc();l.push(b.st(n,y.vcard("hasMember"),o,r),b.st(o,y.vcard("fn"),t,r))}try{await k.updateMany([],l)}catch(e){throw console.log("Error: can't update "+o+" as new contact:"+e),new Error("Updating new contact: "+e)}return o}(h,i,g,e)}catch(e){const t="Error: can't save new contact: "+e;console.log(t),alert(t)}v={},v[a.uri]=!0,D(),ae.innerHTML="",ae.appendChild(L(0,a,"contact"))}S=S?S.value:f;const z=l.createElement("table");z.setAttribute("style","border-collapse: collapse; margin-right: 0; max-height: 9in;"),u.appendChild(z);const q=z.appendChild(l.createElement("tr")),H=z.appendChild(l.createElement("tr")),W=z.appendChild(l.createElement("tr")),G=q.appendChild(l.createElement("td")),V=q.appendChild(l.createElement("td")),K=q.appendChild(l.createElement("td")),X=H.appendChild(l.createElement("td")),Y=X.appendChild(l.createElement("table")),Z=H.appendChild(l.createElement("td")),ee=Z.appendChild(l.createElement("table")),te=W.appendChild(l.createElement("td")),ne=W.appendChild(l.createElement("td")),re=W.appendChild(l.createElement("td"));K.appendChild(l.createElement("div"));const ie=K.appendChild(l.createElement("input"));ie.setAttribute("type","text"),ie.style=J.searchInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",ie.addEventListener("input",(function(e){I(!0)}));const ae=H.appendChild(l.createElement("td"));ae.setAttribute("style","margin: 0;");const oe="padding: 0.1em;";function se(e){const t=e?"":"display: none;";G.setAttribute("style","min-width: 10em; padding-bottom 0.2em;"+t);X.setAttribute("style","padding: 0.1em;"+t),te.setAttribute("style","padding: 0.1em;"+t)}G.textContent="groups",G.setAttribute("style","min-width: 10em; padding-bottom 0.2em;"),se(!0),p.foreignGroup&&(g[p.foreignGroup.uri]=!0);if(h){const e=G.appendChild(l.createElement("button"));e.textContent="All";const t="margin-left: 1em; font-size: 100%;";e.setAttribute("style",t),e.addEventListener("click",(function(n){e.state=e.state?0:1,ee.innerHTML="",e.state?(e.setAttribute("style",t+"background-color: #ff8;"),N(g,Y,(function(n,r){if(!n)return a(r);e.setAttribute("style",t+"background-color: black; color: white"),F()}))):(e.setAttribute("style",t+"background-color: #cfc;"),g={},F())})),c.fetcher.nowOrWhenFetched(m.uri,h,(function(e,t){if(!e)return console.log("Cannot load group index: "+t);B(),D()}))}else B(),D(),console.log("No book, only one group -> hide list of groups"),se(!1);V.textContent="name",V.setAttribute("style","min-width: 18em;"),Z.setAttribute("style","overflow:scroll;");const le=l.createElement("button"),ce=l.createElement("div");le.setAttribute("type","button"),d||le.setAttribute("disabled","true");r.authn.checkUser().then(e=>{e&&(d=e,le.removeAttribute("disabled"))}),ce.appendChild(le),le.innerHTML="New Contact",ne.appendChild(ce),le.addEventListener("click",async e=>U($.vcard("Individual")),!1);const ue=l.createElement("button"),de=l.createElement("div");ue.setAttribute("type","button"),d||ue.setAttribute("disabled","true");if(r.authn.checkUser().then(e=>{e&&(d=e,ue.removeAttribute("disabled"))}),de.appendChild(ue),ue.innerHTML="New Organization",ne.appendChild(de),ue.addEventListener("click",async e=>U($.vcard("Organization")),!1),h){const e=te.appendChild(l.createElement("button"));e.setAttribute("type","button"),e.innerHTML="New Group",e.addEventListener("click",(async function(e){ae.innerHTML="";const n=c.any(h,$.vcard("groupIndex"));try{await c.fetcher.load(n)}catch(e){console.log("Error: Group index  NOT loaded:"+e+"\n")}console.log(" Group index has been loaded\n");const i=await r.widgets.askName(l,c,ae,r.ns.foaf("name"),$.vcard("Group"),"group");if(!i)return;let a;try{a=await E(h,i)}catch(e){return console.log("Error: can't save new group:"+e),void(ae.innerHTML="Failed to save group"+e)}g={},g[a.uri]=!0,B(),ae.innerHTML="",ae.appendChild(r.aclControl.ACLControlBox5(a.doc(),t,"group",c,(function(e,t){e||(ae.innerHTML="Group sharing setup failed: "+t)})))}),!1);const n=re.appendChild(l.createElement("button"));n.setAttribute("type","button"),n.innerHTML="Tools",n.addEventListener("click",(function(e){ae.innerHTML="",ae.appendChild(_(N,g,Y,h,t,d))}))}re.appendChild(s(h)),u.appendChild(l.createElement("hr"))}(e,0,p)})).catch((function(e){a(e)}))}i[$.vcard("Individual").uri]||i[$.foaf("Person").uri]||i[$.schema("Person").uri]||i[$.vcard("Organization").uri]||i[$.schema("Organization").uri]?V(l,u,e,t).then(()=>console.log("(individual rendered)")):i[$.vcard("Group").uri]?r.authn.findAppInstances(p,$.vcard("AddressBook")).then((function(t){const n=t.instances,r={foreignGroup:e};n.length>0?f(n,0,r):f([],0,r)})).catch((function(e){r.widgets.complain(p,e)})):i[$.vcard("AddressBook").uri]?f([e],0,{}):console.log("Error: Contact pane: No evidence that "+e+" is anything to do with contacts.");d=r.authn.currentUser(),d||(console.log("(You do not have your Web Id set. Sign in or sign up to make changes.)"),r.authn.logInLoadProfile(p).then(e=>{console.log("Logged in as "+e.me),d=e.me},e=>{u.appendChild(r.widgets.errorMessageBlock(e))}));"undefined"!=typeof document&&document.location&&"http://localhost"===(""+document.location).slice(0,16)&&(d=c.any(e,r.ns.acl("owner")),console.log("Assuming user is "+d));return u}().then(()=>console.log("contactsPane Rendered "+e),e=>a(""+e)),u}}},function(e,t,n){"use strict";n.r(t),n.d(t,"format",(function(){return p})),n.d(t,"render",(function(){return y})),n.d(t,"cancel",(function(){return v})),n.d(t,"register",(function(){return o}));var r=["second","minute","hour","day","week","month","year"],i=["秒","分钟","小时","天","周","个月","年"],a={},o=function(e,t){a[e]=t},s=function(e){return a[e]||a.en_US},l=[60,60,24,7,365/7/12,12];function c(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function u(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=l[i]&&i<l.length;i++)e/=l[i];return(e=Math.floor(e))>(0===(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}function d(e,t){return(+(t?c(t):new Date)-+c(e))/1e3}var p=function(e,t,n){return u(d(e,n&&n.relativeDate),s(t))};function f(e){return parseInt(e.getAttribute("timeago-id"))}var h={},m=function(e){clearTimeout(e),delete h[e]};function g(e,t,n,r){m(f(e));var i=r.relativeDate,a=r.minInterval,o=d(t,i);e.innerText=u(o,n);var s=setTimeout((function(){g(e,t,n,r)}),Math.min(1e3*Math.max(function(e){for(var t=1,n=0,r=Math.abs(e);e>=l[n]&&n<l.length;n++)e/=l[n],t*=l[n];return r=(r%=t)?t-r:t,Math.ceil(r)}(o),a||1),2147483647));h[s]=0,function(e,t){e.setAttribute("timeago-id",t)}(e,s)}function v(e){e?m(f(e)):Object.keys(h).forEach(m)}function y(e,t,n){var r=e.length?e:[e];return r.forEach((function(e){g(e,function(e){return e.getAttribute("datetime")}(e),s(t),n||{})})),r}o("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=r[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),o("zh_CN",(function(e,t){if(0===t)return["刚刚","片刻后"];var n=i[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]}))},function(e,t,n){"use strict";n.r(t);var r=n(0);const i=r.store,a=r.ns,o=r.rdf;const s=r.rdf,l=r.ns;function c(e,t,n,i,a){const o=e.createElement("div"),c=t.any(n,l.wf("stateStore")),u=function(){f.setAttribute("class","pendingedit"),f.disabled=!0;const e=[];let r;let u,d=t.anyValue(n,l.wf("issueURITemplate"));d?(d=s.uri.join(d,c.uri),r=t.sym(function(e){const t=new s.Literal(new Date),n=""+(new Date).getTime(),r=t.value.slice(0,4),i=t.value.slice(5,7),a=t.value.slice(8,10);return e.replace("{N}",n).replace("{YYYY}",r).replace("{MM}",i).replace("{DD}",a)}(d))):r=t.sym(c.uri+"#Iss"+(new Date).getTime()),u=r.doc();const p=t.literal(f.value);e.push(new s.Statement(r,l.wf("tracker"),n,c)),e.push(new s.Statement(r,l.dc("title"),p,c)),e.push(new s.Statement(r,l.dct("created"),new Date,c));const h=t.each(n,l.wf("initialState"));0===h.length&&console.log("This tracker has no initialState");for(let t=0;t<h.length;t++)e.push(new s.Statement(r,l.rdf("type"),h[t],c));i&&e.push(new s.Statement(i,l.wf("dependent"),r,c)),d&&(e.push(new s.Statement(r,l.wf("tracker"),n,u)),e.push(new s.Statement(r,l.rdfs("seeAlso"),c,u)));t.updater.update([],e,(function(e,t,n){t?(o.parentNode.removeChild(o),a(r)):console.log("Error: can't save new issue:"+n)}))},d=t.any(n,l.wf("issueClass")),p=r.utils.label(d);o.innerHTML="<h2>Add new "+(i?"sub ":"")+p+"</h2><p>Title of new "+p+":</p>";var f=e.createElement("input");return f.setAttribute("type","text"),f.setAttribute("style","margin: 0.5em; font-size: 100%; padding: 0.3em;"),f.setAttribute("size","100"),f.setAttribute("maxLength","2048"),f.select(),f.addEventListener("keyup",(function(e){13===e.keyCode&&u()}),!1),o.appendChild(f),o}const u=r.rdf,d=r.store;function p(e,t){function n(){const t=d.each(e,r.ns.rdf("type")).map(e=>d.any(e,r.ns.ui("backgroundColor"))).filter(e=>!!e);return t.length?t[0].value:null}function i(){const e=n()||"white";s.style.backgroundColor=e,u.style.backgroundColor=e}const a=t.dom,o=!n(),s=a.createElement("div"),l=s.appendChild(a.createElement("table"));l.style.width="100%";l.appendChild(r.widgets.personTR(a,null,e,{draggable:!1})),l.subject=e,s.style="border-radius: 0.4em; border: 0.05em solid grey; margin: 0.3em;";s.firstChild.firstChild.firstChild.firstChild.setAttribute("src",r.icons.iconBase+"noun_Danger_1259514.svg");const c=s.firstChild.firstChild.children[2],u=r.widgets.button(a,r.icons.iconBase+"noun_253504.svg","edit",async n=>{f(e,t)}),p=u.firstChild;if(p.style.width=p.style.height="1.5em",c.appendChild(u),o){const n=r.widgets.deleteButtonWithCheck(a,c,"issue",(async function(){try{await d.updater.update(d.connectedStatements(e))}catch(e){!function(e,t){console.warn(e),t.paneDiv.appendChild(r.widgets.errorMessageBlock(t.dom,e))}("Unable to delete issue: "+e,t)}console.log("User deleted issue "+e),s.parentNode.removeChild(s),r.widgets.refreshTree(t.paneDiv)}));c.appendChild(n)}return s.style.maxWidth="24em",s.refresh=i,i(),s}function f(e,t){const n=t.overlay;n.innerHTML="";const i=n.appendChild(r.widgets.button(t.dom,r.icons.iconBase+"noun_1180156.svg","close",(function(){n.innerHTML="",n.style.visibility="hidden"})));i.style.float="right",i.style.margin="0.7em",delete i.style.backgroundColor,n.style.visibility="visible",n.appendChild(h(e,t)),n.firstChild.style.overflow="auto"}function h(e,t){function n(e,t,n){0}function i(e,t){const n=l.createElement("pre");return n.setAttribute("style",t||"color: grey"),m.appendChild(n),n.appendChild(l.createTextNode(e)),n}function a(e){console.warn(e),m.appendChild(r.widgets.errorMessageBlock(l,e))}function o(e,t){e||a("Sorry, failed to save your change:\n"+t)}function s(e,t){const n=d.any(e,r.ns.ui(t));return!(!n||!n.value)}const l=t.dom,p=d.the(e,r.ns.wf("tracker"),null,e.doc());if(!p)throw new Error("No tracker");const f=d.any(p,r.ns.wf("stateStore")),h=e.doc(),m=l.createElement("div");r.authn.currentUser();!function(){const t=d.findTypeURIs(e);let n="padding: 0.5em 1.5em 1em 1.5em; ",r=null;for(const e in t)if(r=d.any(d.sym(e),d.sym("http://www.w3.org/ns/ui#backgroundColor")),r)break;r=r?r.value:"#eee",n+="background-color: "+r+"; ",m.setAttribute("style",n)}(),r.authn.checkUser();const g=d.any(p,r.ns.wf("issueClass"));if(!g)throw new Error("This tracker "+p+" has no issueClass");const v=r.widgets.makeSelectForCategory(l,d,e,g,f,(function(e,t){e?(n(),r.widgets.refreshTree(m)):console.log("Failed to change state:\n"+t)}));m.appendChild(v);const y=d.each(p,r.ns.wf("issueCategory"));for(let t=0;t<y.length;t++)m.appendChild(r.widgets.makeSelectForCategory(l,d,e,y[t],f,(function(e,t){e?(n(),r.widgets.refreshTree(m)):console.log("Failed to change category:\n"+t)})));const b=l.createElement("a");b.setAttribute("href",p.uri),b.setAttribute("style","float:right"),m.appendChild(b).textContent=r.utils.label(p),b.addEventListener("click",r.widgets.openHrefInOutlineMode,!0);const w=r.ns.wf("coreIsueForm");u.parse('\n    @prefix : <http://www.w3.org/ns/ui#> .\n    @prefix core: <http://www.w3.org/2005/01/wf/flow#>.\n    @prefix dc: <http://purl.org/dc/elements/1.1/>.\n    @prefix wf: <http://www.w3.org/2005/01/wf/flow#> .\n\n    core:coreIsueForm     a :Form;\n         <http://purl.org/dc/elements/1.1/title> "Core issue data";\n         :parts  (\n        core:titleField\n        core:descriptionField ) .\n\n    core:descriptionField     a :MultiLineTextField;\n         :label "Description";\n         :property wf:description;\n         :size "40" .\n\n    core:titleField     a :SingleLineTextField;\n         :label "Title";\n         :maxLength "128";\n         :property dc:title; # @@ Should move to dct or schema\n         :size "40" .\n\n    wf:Task     :creationForm core:coreIsueForm .\n',d,w.doc().uri,"text/turtle"),r.widgets.appendForm(l,m,{},e,w,f,o);const x=d.statementsMatching(e,r.ns.wf("assignee"));if(x.length>1){i("Weird, was assigned to more than one person. Fixing ..");const e=x.slice(1);d.updater.update(e,[],(function(e,t,n){t?i("Now fixed."):a("Fixed failed: "+n)}))}function k(e){return r.widgets.personTR(l,r.ns.wf("dependent"),e,{link:!1})}let C;if(async function(){let t=[];const n=d.each(e,r.ns.wf("assigneeGroup"));for(let e=0;e<n.length;e++){const i=n[e];await d.fetcher.load(),t=t.concat(d.each(i,r.ns.vcard("member")))}const i=d.any(null,r.ns.doap("bug-database"),p);return i&&(await d.fetcher.load(i),t=t.concat(d.each(i,r.ns.doap("developer")))),t}().then(t=>{if(t.length){t.forEach((function(e){d.fetcher.lookUpThing(e)}));const i={nullLabel:"(unassigned)"};m.appendChild(r.widgets.makeSelectForOptions(l,d,e,r.ns.wf("assignee"),t,i,h,(function(e,t){e?n():console.log("Failed to change assignee:\n"+t)})))}}),s(p,"allowSubIssues")){C||(C=m.appendChild(l.createElement("div")),C.style="margin: 1em; padding: 1em;"),C.appendChild(l.createElement("h4")).textContent="Super Issues";const t=C.appendChild(l.createElement("div"));t.refresh=function(){r.utils.syncTableToArrayReOrdered(t,d.each(null,r.ns.wf("dependent"),e),k)},t.refresh(),C.appendChild(l.createElement("h4")).textContent="Sub Issues";const n=C.appendChild(l.createElement("div"));n.refresh=function(){r.utils.syncTableToArrayReOrdered(n,d.each(e,r.ns.wf("dependent")),k)},n.refresh();const i=l.createElement("button");i.setAttribute("type","button"),C.appendChild(i);const a=r.utils.label(g);i.innerHTML="New sub "+a,i.setAttribute("style","float: right; margin: 0.5em 1em;"),i.addEventListener("click",(function(t){C.insertBefore(c(l,d,p,e,n.refresh),i.nextSibling)}),!1)}m.appendChild(l.createElement("br"));const E=d.any(p,r.ns.wf("extrasEntryForm"));E&&r.widgets.appendForm(l,m,{},e,E,f,o);const T=m.appendChild(l.createElement("tr"));T.setAttribute("style","height: 1em");let _;d.anyValue(p,r.ns.wf("issueURITemplate"))?_=e.doc():(_=d.any(p,r.ns.wf("messageStore")),_||(_=d.any(p,r.ns.wf("stateStore"))),d.sym(_.uri+"#Chat"+(new Date).getTime())),d.fetcher.nowOrWhenFetched(_,(function(t,n,i){if(t){const t=Object(r.messageArea)(l,d,e,_);m.insertBefore(t,T)}else{const e=l.createElement("p");e.textContent=n,m.insertBefore(e,T)}}));let S;m.appendChild(l.createElement("div")).innerHTML="<h4>Attachments</h4>\n    <p>Drag files, emails,\n    web pages onto the paper clip, or click the file upload button.</p>",S=e.uri.endsWith("/index.ttl#this")?e.uri.slice(0,14)+"Files/":e.dir().uri+"Files/"+e.uri.split("#")[1]+"/",r.widgets.attachmentList(l,e,m,{doc:f,promptIcon:r.icons.iconBase+"noun_25830.svg",uploadFolder:d.sym(S),predicate:r.ns.wf("attachment")});r.widgets.deleteButtonWithCheck(l,m,"issue",(async function(){try{await d.updater.update(d.connectedStatements(e))}catch(e){a("Unable to delete issue: "+e)}a("DELETED OK"),m.style.backgroundColor="#eee",m.style.fontColor="orange"})).style.float="right";const O=l.createElement("button");return O.textContent="refresh messages",O.addEventListener("click",(async function(e){try{await d.fetcher.load(_,{force:!0,clearPreviousData:!0})}catch(e){return void alert(e)}r.widgets.refreshTree(m)}),!1),O.setAttribute("style",r.style.button),m.appendChild(O),m}const m=r.rdf,g=r.ns,v=r.store.updater;function y(e,t){const n=r.authn.newAppInstance(t.dom,{noun:"tracker"},(function(n,i){const a=r.ns.space,o=t.session.store;if(!i&&("/"!==(i=o.any(n,a("uriPrefix")).value).slice(-1)&&(m.log.error("issuetracker.w3.org: No / at end of uriPrefix "+i),i+="/"),i+="issuetracker.w3.org/"+(new Date).getTime()+"/",!confirm("Make new tracker at "+i+"?")))return;const s=o.any(e,g.wf("stateStore")),l=o.sym(i+"store.ttl"),c=e.doc(),u=c.uri.slice(0,c.uri.lastIndexOf("/")+1);var d=function(e){if(void 0!==e.elements)return e.elements.map(d);if(void 0===e.uri)return e;let t=e.uri;return t===s.uri?l:(t.slice(0,u.length)===u&&(t=i+t.slice(u.length),m.log.debug(" Map "+e.uri+" to "+t)),o.sym(t))};const p=d(c),f=d(e),h=o.statementsMatching(void 0,void 0,void 0,c);for(let e=0;e<h.length;e++){const t=h[e];o.add(d(t.subject),d(t.predicate),d(t.object),p)}o.add(f,r.ns.space("inspiration"),e,s),o.add(f,r.ns.space("inspiration"),e,p),v.put(p,o.statementsMatching(void 0,void 0,void 0,p),"text/turtle",(function(e,t,n){t?v.put(l,[],"text/turtle",(function(e,t,n){t?console.info("Ok The tracker created OK at: "+f.uri+"\nMake a note of it, bookmark it. "):console.log("FAILED to set up new store at: "+l.uri+" : "+n)})):console.log("FAILED to save new tracker at: "+p.uri+" : "+n)}))}));return n.setAttribute("style","margin: 0.5em 1em;"),n}const b=r.rdf,w=r.ns,x=r.store,k=r.widgets;t.default={icon:r.icons.iconBase+"noun_122196.svg",name:"issue",audience:[],label:function(e,t){const n=x.findTypeURIs(e);return n["http://www.w3.org/2005/01/wf/flow#Task"]||x.holds(e,r.ns.wf("tracker"))?"issue":n["http://www.w3.org/2005/01/wf/flow#Tracker"]?"tracker":null},mintClass:w.wf("Tracker"),mintNew:async function(e,t){var n=e.session.store;const i=r.ns;let a;t.newInstance?a=n.sym(t.newInstance.doc().uri+"_state.ttl"):(t.newInstance=n.sym(t.newBase+"index.ttl#this"),a=n.sym(t.newBase+"state.ttl"));const o=t.newInstance,s=o.doc(),l=r.authn.currentUser();l&&n.add(o,i.dc("author"),l,s),n.add(o,i.rdf("type"),i.wf("Tracker"),s),n.add(o,i.dc("created"),new Date,s),n.add(o,i.wf("issueClass"),i.wf("Task"),s),n.add(o,i.wf("initialState"),i.wf("Open"),s),n.add(o,i.wf("stateStore"),a,s),n.add(o,i.wf("assigneeClass"),i.foaf("Person"),s),n.add(o,i.wf("stateStore"),a,a);const c=n.statementsMatching(void 0,void 0,void 0,s).concat(n.statementsMatching(void 0,void 0,void 0,a));try{await async function(e,t){const r=e.concat(t).map(e=>e.why),i=Array.from(new Set(r)).map(r=>n.updater.update(e.filter(e=>e.why.sameTerm(r)),t.filter(e=>e.why.sameTerm(r))));return Promise.all(i)}([],c)}catch(t){return r.widgets.complain(e,"Error writing tracker configuration: "+t)}const u=e.dom;return t.div.appendChild(u.createElement("div")).innerHTML=`<h4>Success</h4>\n    <p>Your <a href="${o.uri}">new tracker</a> has been made.\n    Use the settings tab to configure it.\n    </p>\n    `,t},render:function(e,t){const s=t.dom,l=s.createElement("div");function u(e){console.warn(e),l.appendChild(r.widgets.errorMessageBlock(s,e))}function m(e,t){e||u(t)}function g(e,n){const l=x.any(e,w.wf("issueClass")),c=(n=n||l).sameTerm(l),f=x.any(n,w.owl("disjointUnionOf"));if(!f)return u(`Configuration error: state ${l} does not have substates`);let h=f.elements;c&&h.length>2&&(h=h.filter(e=>x.holds(e,w.rdfs("subClassOf"),w.wf("Open"))||e.sameTerm(w.wf("Open"))));const m={columnDropHandler:async function(e,i){const a=function(e,t){const n=d.the(e,r.ns.wf("tracker"),null,e.doc()),i=d.any(n,r.ns.wf("issueClass"));t=t||i;const a=d.each(e,r.ns.rdf("type")).filter(e=>d.holds(e,r.ns.rdfs("subClassOf"),t));if(1!==a.length)throw new Error("Issue must have one type as state: "+a.length);return a[0]}(e,n),o=x.the(e,w.wf("tracker"),null,e.doc()),s=x.any(o,w.wf("stateStore"));if(!i.sameTerm(a)){try{await x.updater.update([b.st(e,w.rdf("type"),a,s)],[b.st(e,w.rdf("type"),i,s)])}catch(e){r.widgets.complain(t,"Unable to change issue state: "+e)}g.refresh()}},filter:c?null:function(e){return!!x.findTypeURIs(e)[w.wf("Open").uri]}};m.sortBy=w.dct("created"),m.sortReverse=!0;const g=function(e,t,n,s){const l=e.createElement("div");l.style="width: 100%;",l.style.margin="1em";const c=l.appendChild(e.createElement("table"));c.style="width: 100%;",c.style.borderCollapse="collapse";const u=c.appendChild(e.createElement("tr")),d=c.appendChild(e.createElement("tr"));function p(t,n){const o=e.createElement("div"),s=o.appendChild(e.createElement("table")),l=i.each(t,a.rdf("type")).map(e=>i.any(e,a.ui("backgroundColor"))).filter(e=>e);s.appendChild(r.widgets.personTR(e,null,t)),s.subject=t,s.style="margin: 1em;";const c=l[0]||i.any(n,a.ui("backgroundColor"));return o.style.backgroundColor=c?c.value:"#fff",o}function f(e,t,n,r){const a=e.map(e=>[i.any(e,t)||n,e]);return a.sort(),r&&a.reverse(),a.map(e=>e[1])}return t.forEach(t=>{const n=u.appendChild(e.createElement("th"));n.textContent=r.utils.label(t,!0),n.subject=t,n.style="margin: 0.3em; padding: 0.5em 1em; font-treatment: bold; font-size: 120%;";const a=d.appendChild(e.createElement("td"));a.subject=t,a.style="border: 0.01em solid white; padding: 0.1em;",s.columnDropHandler&&r.widgets.makeDropTarget(a,(function(e){e.forEach((function(e){console.log("Dropped on column: "+e);const n=i.sym(e);s.columnDropHandler(n,t)}))}))}),l.refresh=function(){const e=new o.Literal(new Date),t=n||s.renderItem||p;function l(e){const n=t(e);return r.widgets.makeDraggable(n,e),n.subject=e,n}for(let t=d.firstChild;t;t=t.nextSibling){const n=t.subject;let o=i.each(null,a.rdf("type"),n);const c=s.sortBy||a.dct("created");s.filter&&(o=o.filter(s.filter));const u=f(o,c,e,!0);r.utils.syncTableToArrayReOrdered(t,u,l)}},l.refresh(),l}(s,h,(function(e){return p(e,t)}),m);return g}function v(n){function i(){const e=new b.IndexedFormula;return c.pat.optional.push(e),e}const a=x.any(e,w.wf("issueClass")),o=x.each(n,w.wf("issueCategory")),l=["issue","state","created"];var c=new b.Query(r.utils.label(e));for(let e=0;e<o.length;e++)l.push("_cat_"+e);const u={};l.forEach((function(e){c.vars.push(u[e]=b.variable(e))})),c.pat.add(u.issue,w.wf("tracker"),n),c.pat.add(u.issue,w.dct("created"),u.created),c.pat.add(u.issue,w.rdf("type"),u.state),c.pat.add(u.state,w.rdfs("subClassOf"),a),c.pat.optional=[];for(let e=0;e<o.length;e++){const t=i();t.add(u.issue,w.rdf("type"),u["_cat_"+e]),t.add(u["_cat_"+e],w.rdfs("subClassOf"),o[e])}const d=x.any(n,w.wf("propertyList"));if(d){const e=d.elements;for(let t=0;t<e.length;t++){const n=e[t];let r="_prop_"+t;n.uri.indexOf("#")>=0&&(r=n.uri.split("#")[1]);const a=i();c.vars.push(u[r]=b.variable(r)),a.add(u.issue,n,u[r])}}const p={};x.each(void 0,w.rdfs("subClassOf"),a).forEach((function(e){(x.holds(e,w.rdfs("subClassOf"),w.wf("Open"))||e.sameTerm(w.wf("Open")))&&(p[e.uri]=!0)}));const h=r.table(s,{query:c,keyVariable:"?issue",sortBy:"?created",sortReverse:!0,hints:{"?issue":{linkFunction:function(e){f(b.sym(e),t)},label:"Title"},"?created":{cellFormat:"shortDate"},"?state":{initialSelection:p,label:"Status"}}}),m=x.any(e,w.wf("stateStore"));return h.appendChild(function(e,t){return k.button(s,r.icons.iconBase+"noun_479395.svg","refresh table",async n=>{try{await x.fetcher.load(e,{force:!0,clearPreviousData:!0})}catch(e){return void alert(e)}r.widgets.refreshTree(t)})}(m,h)),h}function C(e){const n=s.createElement("div"),i=r.authn.currentUser(),a={div:n,dom:s,noun:"tracker",statusArea:n,me:i,refreshTarget:e},o=[t.session.paneRegistry.byName("issue")];return r.create.newThingUI(a,t,o),n}function E(){const e=x.any(P,w.wf("issueClass")),t=[O,_,e].concat(x.each(P,w.wf("issueCategory")));t.push(S);const n={renderMain:function(e,t){if(e.innerHTML="",t.sameTerm(T))e.appendChild(g(P));else if(t.sameTerm(_))e.appendChild(v(P));else if(t.sameTerm(S))e.appendChild(function(e){const t=s.createElement("div"),n={dom:s,div:t,noun:"tracker"};return r.authn.registrationControl(n,e,w.wf("Tracker")).then(n=>{const r=w.wf("TrackerSettingsForm");b.parse('\n@prefix : <http://www.w3.org/ns/ui#> .\n@prefix core: <http://www.w3.org/2005/01/wf/flow#>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix ui: <http://www.w3.org/ns/ui#> .\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#> .\n\n  core:TrackerSettingsForm     a :Form;\n     <http://purl.org/dc/elements/1.1/title> "Tracker Configuration Form";\n     :parts  (\n\n      [   a ui:Heading;  ui:contents "About the tracker"@en ]\n\n      [ a :SingleLineTextField;\n                 :label "Title of issue tracker";\n                 :maxLength "128";\n                 :property dct:title;\n                 :size "40" ]\n\n      [ a :MultiLineTextField; :label "Description"; :property wf:description; :size "40" ]\n\n      [ a ui:Choice;  ui:canMintNew true; ui:use core:SuperClassForm; ui:follow true;\n          ui:property  wf:issueClass;\n          ui:label "What states can an issue be in?";\n          ui:from rdfs:Class;\n          ui:default wf:Task ]\n\n      [   a ui:Comment;  ui:contents """You can optionally sort issues using (one or more) classification systems"""@en ]\n\n\n      [ a ui:Choice;  ui:canMintNew true;  ui:use core:ClassificationForm;\n          ui:property  wf:issueCategory; ui:label "Sort them into which category?"; ui:from rdfs:Class ]\n\n      [ a :BooleanField;\n              :label "Allow issues to have sub-issues";\n              :property wf:allowSubIssues;\n              :default false ]\n\n      [ a ui:Heading;  ui:contents "Table view:"@en ]\n\n      [ a ui:Comment;  ui:contents "Any extra properties to include?"@en ]\n\n\n    [a ui:Multiple; ui:property wf:propertyList; ui:ordered true; ui:part core:PropertyForm; ui:follow true ]\n\n      [ a ui:Heading;  ui:contents "Details of issues"@en ]\n\n      # Use a people picker ideally\n      [ a ui:Choice;  ui:canMintNew true; ui:use core:GroupForm;\n          ui:property wf:assigneeGroup;\n          ui:label "Assign issues to people from which group?";\n          ui:from vcard:Group;\n          ]\n\n       # Optionally one form for extras\n\n       [ a ui:Choice;  ui:canMintNew true; ui:use ui:FormForm;\n           ui:property wf:extrasEntryForm;\n           ui:label "Other things to save about each issue?";\n           ui:from ui:Form;\n           ]\n\n\n    ) .\n\n    # Form for the superclass of all states\n    # @@ also We must require each state class to be stated to be a subclass of EITHER Open OR Closed.\n    core:SuperClassForm a ui:Form; dct:title "Form for managing states";\n      ui:parts (\n        [ a :SingleLineTextField;\n                   :label "Name of set of states";\n                   :defualt "States";\n                   :maxLength "128";\n                   :property rdfs:label;\n                   :size "40" ]\n          [a ui:Multiple; ui:property owl:disjointUnionOf; ui:ordered true; ui:part core:StateForm ]\n  #      [ a ui:Multiple; ui:property rdfs:subClassOf; ui:reverse true; ui:part core:StateForm ]\n    ) .\n\n    core:StateForm a ui:Form; dct:title "Form for one state";\n      ui:parts (\n                [ a :SingleLineTextField;\n                         :label "Name of state";\n                         :maxLength "128";\n                         :property rdfs:label;\n                         :size "40" ]\n                 [ a :ColorField; :label "Background color"; :property :backgroundColor ]\n                  # @@ add icon for state\n\n                 ).\n\n\n    # Form for Classification\n\n    core:ClassificationForm a ui:Form; dct:title "Form for a classification by categpry";\n      ui:parts (\n        [ a :SingleLineTextField;\n                   :label "Name of classification:";\n                   :maxLength "128";\n                   :property rdfs:label;\n                   :size "40" ]\n         [a ui:Multiple; ui:property owl:disjointUnionOf; ui:ordered true; ui:part core:CategoryForm ]\n    ) .\n\n    core:CategoryForm a ui:Form; dct:title "Form for a category";\n      ui:parts (\n                [ a :SingleLineTextField;\n                         :label "Name of category";\n                         :maxLength "128";\n                         :property rdfs:label;\n                         :size "40" ]\n                 [ a :ColorField; :label "Background color"; :property :backgroundColor ]\n\n                 ).\n\n   core:PropertyForm a ui:Form; ui:parts ( # Internded for raed only only marking the\n     [ a :SingleLineTextField;\n                :label "(property name)";\n                :maxLength "128";\n                :property rdfs:label;\n                :size "40" ]\n     ).\n\n\n    # Other ontology stuff we are otherwis missing\n\n    # we can usde ui:label to give a decent abel when the ontology uses a really bad one\n    rdfs:subClassOf ui:label "super class" .\n    # We can also add a specific nice label for the inverse\n    [] owl:inverse rdfs:subClassOf; rdfs:label "sub class" .\n    owl:disjointUnionOf ui:label "option" .\n\n    # Form for new group\n\n\n    core:GroupForm a ui:Form; dct:title "Form for new contacts group"; ui:parts (\n      [ a :SingleLineTextField;\n                 :label "Name of new group";\n                 :maxLength "128";\n                 :property vcard:fn;\n                 :size "60" ]\n\n      [ a ui:Heading;  ui:contents "Members of group"@en ]\n\n      [ a ui:Multiple; ui:label "contacts in group"; ui:property vcard:member; ui:part core:PersonForm ]\n\n      ).\n\n  core:PersonForm a ui:Form; dct:title "New contact details form"; ui:parts (\n\n  [ a :NamedNodeURIField; ui:label "Solid ID"; ui:property owl:sameAs; ui:size 60 ]\n\n  [ a :SingleLineTextField;\n             :label "Name of contact";\n             :maxLength "128";\n             :property vcard:fn;\n             :size "60" ]\n\n  [ a ui:PhoneField; :label "Phone"; :property vcard:phone; ] # @@ check property]\n\n  [ a :EmailField; :label "Email"; :property vcard:email ] # @@ check property\n\n ).\n\n# classificattion owl:disjointUnionOf ()\n        wf:Tracker     :creationForm core:SettingsForm .\n',x,r.doc().uri,"text/turtle"),k.appendForm(s,t,{},e,r,e.doc(),m)}),t}(P));else if(t.sameTerm(O))e.appendChild(function(e){const t=s.createElement("div"),n={dom:s,div:t,noun:"tracker"};return r.authn.registrationList(n,{public:!0,private:!0,type:e}).then(e=>{t.appendChild(C(t))}),t}(w.wf("Tracker")));else{if(!x.holds(P,w.wf("issueCategory"),t)&&!x.holds(P,w.wf("issueClass"),t))throw new Error("Unexpected tab type: "+t);e.appendChild(g(P,t))}},items:t,selectedTab:_},i=O.doc();x.add(O,w.rdfs("label"),"My Trackers",i),x.add(S,w.rdfs("label"),"Settings",i),x.add(e,w.rdfs("label"),"By State",i);return r.tabs.tabWidget(n)}t.paneDiv=l,l.setAttribute("class","issuePane");const T=w.wf("BoardView"),_=w.wf("TableView"),S=w.wf("SettingsView"),O=w.wf("InstancesView"),A=x.updater,j=x.findTypeURIs(e);let P;const I=r.ns.wf("").doc();x.holds(void 0,void 0,void 0,I)||b.parse(n(280),x,I.uri,"text/turtle");const N=r.ns.ui("").doc();if(x.holds(void 0,void 0,void 0,N)||b.parse(n(281),x,N.uri,"text/turtle"),j["http://www.w3.org/2005/01/wf/flow#Task"]||x.holds(e,r.ns.wf("tracker"))){if(P=x.any(e,w.wf("tracker")),!P)throw new Error("This issue "+e+"has no tracker");t.session.store.fetcher.load(P.doc()).then((function(n){const i=x.any(P,w.wf("stateStore"));t.session.store.fetcher.nowOrWhenFetched(i,e,(function(n,a){if(!n)return console.log("Failed to load state "+i+" "+a);l.appendChild(h(e,t)),A.addDownstreamChangeListener(i,(function(){r.widgets.refreshTree(l)}))}))})).catch(e=>u("Failed to load config "+P.doc()+" "+e)),t.session.store.fetcher.nowOrWhenFetched(P.doc(),e,(function(e,t){if(!e)return console.log("Failed to load config "+P.doc()+" "+t)}))}else j["http://www.w3.org/2005/01/wf/flow#Tracker"]?async function(){function n(e){r.widgets.refreshTree(l),f(e,t),d.disabled=!1}P=e;try{await async function(e,t){async function n(t){const n=e.any(t,w.owl("disjointUnionOf"),null,r);if(!n)throw new Error(`Classification ${t} has no disjointUnionOf`);if(!n.elements)throw new Error(`Classification ${t} has no array`);const i=new Set(n.elements.map(e=>e.uri)),a=new Set(e.each(null,w.rdfs("subClassOf"),t,r).map(e=>e.uri));for(const n of a)i.has(n)||s.push(b.st(e.sym(n),w.rdfs("subClassOf"),t,r));for(const n of i)a.has(n)||o.push(b.st(e.sym(n),w.rdfs("subClassOf"),t,r))}const r=t.doc(),i=e.any(t,w.wf("issueClass")),a=e.each(t,w.wf("issueCategory"));var o=[],s=[];a.push(i);for(const e of a)await n(e);const l=o.length+s.length;l&&alert(`Internal error: s${l} subclasses inconsistences!`)}(x,P)}catch(e){console.log("@@@ Error fixing subclasses in config: "+e)}const i=x.any(e,w.wf("issueClass"));if(!i)throw new Error("This tracker has no issueClass");const a=x.any(e,w.wf("stateStore"));if(!a)throw new Error("This tracker has no stateStore");r.authn.checkUser();const o=s.createElement("h2");o.setAttribute("style","font-size: 150%"),l.appendChild(o);const u=r.utils.label(i);o.appendChild(s.createTextNode(u+" list"));var d=s.createElement("button");const p=s.createElement("div");d.setAttribute("type","button"),d.setAttribute("style","padding: 0.3em; font-size: 100%; margin: 0.5em;"),p.appendChild(d),l.appendChild(p);const h=s.createElement("img");h.setAttribute("src",r.icons.iconBase+"noun_19460_green.svg"),h.setAttribute("style","width: 1em; height: 1em; margin: 0.2em;"),d.appendChild(h);const m=s.createElement("span");m.innerHTML="New "+u,d.appendChild(m),d.addEventListener("click",(function(e){d.disabled=!0,p.appendChild(c(s,x,P,null,n))}),!1),t.session.store.fetcher.load([a]).then((function(t){const n=E();l.appendChild(n),n.refresh||console.log("No table refresh function?!"),l.appendChild(y(e)),A.addDownstreamChangeListener(a,n.refresh)})).catch((function(e){return console.log("Cannot load state store: "+e)}))}().then(()=>console.log("Tracker rendered")):console.log("Error: Issue pane: No evidence that "+e+" is either a bug or a tracker.");let L;const R=l.appendChild(s.createElement("div"));return t.overlay=R,R.style="position: fixed; top: 1.51em; right: 2em; left: 2em; bottom:1.5em; border: 0.1em grey; overflow: scroll;",R.style.visibility="hidden",r.authn.checkUser().then(e=>{if(e)return console.log("Web ID set already: "+e),void(t.me=e);L=r.authn.loginStatusBox(s,e=>{e?(t.me=x.sym(e),console.log("Web ID set from login button: "+e),l.removeChild(L)):t.me=null}),L.setAttribute("style","margin: 0.5em 1em;"),l.appendChild(L),t.statusArea||(t.statusArea=l.appendChild(s.createElement("div")))}),l}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ThemeProvider",(function(){return k})),n.d(t,"createTheming",(function(){return y})),n.d(t,"useTheme",(function(){return C})),n.d(t,"withTheme",(function(){return x})),n.d(t,"SheetsRegistry",(function(){return E.SheetsRegistry})),n.d(t,"createGenerateId",(function(){return E.createGenerateId})),n.d(t,"JssContext",(function(){return I})),n.d(t,"JssProvider",(function(){return ee})),n.d(t,"createJsx",(function(){return ae})),n.d(t,"createUseStyles",(function(){return Y})),n.d(t,"jss",(function(){return B})),n.d(t,"jsx",(function(){return oe})),n.d(t,"styled",(function(){return ie})),n.d(t,"withStyles",(function(){return J}));var r=n(18),i=n(79),a=n(70),o=n(8),s=n.n(o),l=n(103),c=n.n(l),u=n(45),d=n.n(u);n(296);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return function(t){var n,r;function i(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return p(h(h(n=t.call.apply(t,[this].concat(i))||this)),"cachedTheme",void 0),p(h(h(n)),"lastOuterTheme",void 0),p(h(h(n)),"lastTheme",void 0),p(h(h(n)),"renderProvider",(function(t){var r=n.props.children;return s.a.createElement(e.Provider,{value:n.getTheme(t)},r)})),n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=i.prototype;return a.getTheme=function(e){if(this.props.theme!==this.lastTheme||e!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=e,this.lastTheme=this.props.theme,"function"==typeof this.lastTheme){var t=this.props.theme;this.cachedTheme=t(e)}else{var n=this.props.theme;this.cachedTheme=e?f({},e,n):n}return this.cachedTheme},a.render=function(){return this.props.children?s.a.createElement(e.Consumer,null,this.renderProvider):null},i}(s.a.Component)}function g(e){return function(t){var n=s.a.forwardRef((function(n,r){return s.a.createElement(e.Consumer,null,(function(e){return s.a.createElement(t,f({theme:e,ref:r},n))}))}));return c()(n,t),n}}function v(e){return function(){return s.a.useContext(e)}}function y(e){return{context:e,withTheme:g(e),useTheme:v(e),ThemeProvider:m(e)}}var b=Object(o.createContext)(),w=y(b),x=w.withTheme,k=w.ThemeProvider,C=w.useTheme,E=n(22),T=n(86),_=n(55);function S(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0;a<i;a++){var o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var O=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return O.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),j=Object(E.create)(Object(T.default)()),P=function(e){void 0===e&&(e=j);var t,n=new Map,r=0,i=function(){return(!t||t.rules.index.length>1e4)&&(t=e.createStyleSheet().attach()),t};function a(){var e=arguments,t=JSON.stringify(e),a=n.get(t);if(a)return a.className;var o=[];for(var s in e){var l=e[s];if(Array.isArray(l))for(var c=0;c<l.length;c++)o.push(l[c]);else o.push(l)}for(var u={},d=[],p=0;p<o.length;p++){var f=o[p];if(f){var h=f;if("string"==typeof f){var m=n.get(f);m&&(m.labels.length&&d.push.apply(d,m.labels),h=m.style)}h.label&&-1===d.indexOf(h.label)&&d.push(h.label),Object.assign(u,h)}}delete u.label;var g=0===d.length?"css":d.join("-"),v=g+"-"+r++;i().addRule(v,u);var y=i().classes[v],b={style:u,labels:d,className:y};return n.set(t,b),n.set(y,b),y}return a.getSheet=i,a}(),I=Object(o.createContext)({classNamePrefix:"",disableStylesGeneration:!1}),N=Number.MIN_SAFE_INTEGER||-1e9,L=function(){return N++},R=new Map,M=function(e,t){if(e.managers)return e.managers[t]||(e.managers[t]=new E.SheetsManager),e.managers[t];var n=R.get(t);return n||(n=new E.SheetsManager,R.set(t,n)),n},D=function(e){var t=e.sheet,n=e.context,r=e.index,i=e.theme;t&&(M(n,r).manage(i),n.registry&&n.registry.add(t))},F=function(e){e.sheet&&M(e.context,e.index).unmanage(e.theme)},B=Object(E.create)(Object(T.default)()),U=new WeakMap,z=function(e){return U.get(e)};var q=function(e){if(!e.context.disableStylesGeneration){var t=M(e.context,e.index),n=t.get(e.theme);if(n)return n;var i=e.context.jss||B,a=function(e){var t=e.styles;return"function"!=typeof t?t:t(e.theme)}(e),o=Object(E.getDynamicStyles)(a),s=i.createStyleSheet(a,function(e,t){var n;e.context.id&&null!=e.context.id.minify&&(n=e.context.id.minify);var i=e.context.classNamePrefix||"";e.name&&!n&&(i+=e.name.replace(/\s/g,"-")+"-");var a="";return e.name&&(a=e.name+", "),a+="function"==typeof e.styles?"Themed":"Unthemed",Object(r.a)({},e.sheetOptions,{index:e.index,meta:a,classNamePrefix:i,link:t,generateId:e.sheetOptions.generateId||e.context.generateId})}(e,null!==o));return function(e,t){U.set(e,t)}(s,{dynamicStyles:o,styles:a}),t.add(e.theme,s),s}},H=function(e,t){for(var n in t)e.deleteRule(t[n])},W=function(e,t,n){for(var r in n)t.updateOne(n[r],e)},G=function(e,t){var n=z(e);if(n){var r={};for(var i in n.dynamicStyles)for(var a=e.rules.index.length,o=e.addRule(i,n.dynamicStyles[i]),s=a;s<e.rules.index.length;s++){var l=e.rules.index[s];e.updateOne(l,t),r[o===l?i:l.key]=l}return r}},V=function(e,t){if(!t)return e.classes;var n={},r=z(e);if(!r)return e.classes;for(var i in r.styles)n[i]=e.classes[i],i in t&&(n[i]+=" "+e.classes[t[i].key]);return n},$=function(e){return e.children||null},Q={},J=function(e,t){void 0===t&&(t={});var n=t,s=n.index,l=void 0===s?L():s,u=n.theming,d=n.injectTheme,p=Object(a.a)(n,["index","theming","injectTheme"]),f="function"==typeof e,h=u&&u.context.Consumer||b.Consumer;return function(t){void 0===t&&(t=$);var n,s=(n=t).displayName||n.name||"Component",u=function(e){return f?e.theme:Q},m=function(n){function c(e){var t,i,a,o;(t=n.call(this,e)||this).mergeClassesProp=(i=function(e,t){return t?function(e,t){var n=Object(r.a)({},e);for(var i in t)n[i]=i in n?n[i]+" "+t[i]:t[i];return n}(e,t):e},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Array.isArray(a)&&t.length===a.length){for(var r=!0,s=0;s<t.length;s++)t[s]!==a[s]&&(r=!1);if(r)return o}return a=t,o=i.apply(void 0,t)}),t.state=c.createState(e);var s=e.jssContext.registry,l=t.state.sheet;return l&&s&&s.add(l),t}Object(i.a)(c,n),c.createState=function(t){var n=q({styles:e,theme:u(t),index:l,name:s,context:t.jssContext,sheetOptions:p});if(!n)return{classes:{},dynamicRules:void 0,sheet:void 0};var r=G(n,t);return{sheet:n,dynamicRules:r,classes:V(n,r)}},c.manage=function(e,t){var n=t.sheet;n&&D({sheet:n,index:l,context:e.jssContext,theme:u(e)})},c.unmanage=function(e,t){var n=t.sheet,r=t.dynamicRules;n&&(F({context:e.jssContext,index:l,sheet:n,theme:u(e)}),r&&H(n,r))};var h=c.prototype;return h.componentDidMount=function(){var e=this.props,t=this.state;e&&t&&c.manage(e,t)},h.componentDidUpdate=function(e,t){if(f&&this.props.theme!==e.theme){var n=c.createState(this.props);c.manage(this.props,n),c.unmanage(e,t),this.setState(n)}else this.state.sheet&&this.state.dynamicRules&&W(this.props,this.state.sheet,this.state.dynamicRules)},h.componentWillUnmount=function(){c.unmanage(this.props,this.state)},h.render=function(){var e=this.props,n=e.innerRef,i=(e.jssContext,e.theme),s=e.classes,l=Object(a.a)(e,["innerRef","jssContext","theme","classes"]),c=this.state.classes,u=Object(r.a)({},l,{classes:this.mergeClassesProp(c,s)});return n&&(u.ref=n),d&&(u.theme=i),Object(o.createElement)(t,u)},c}(o.Component);m.displayName="WithStyles("+s+")",m.defaultProps=Object(r.a)({},t.defaultProps);var g=Object(o.forwardRef)((function(e,t){return Object(o.createElement)(I.Consumer,null,(function(n){return f||d?Object(o.createElement)(h,null,(function(i){return Object(o.createElement)(m,Object(r.a)({innerRef:t,theme:i},e,{jssContext:n}))})):Object(o.createElement)(m,Object(r.a)({innerRef:t},e,{jssContext:n,theme:Q}))}))}));return g.displayName="JssContextSubscriber("+s+")",g.InnerComponent=t,c()(g,t)}},K=_.a?o.useLayoutEffect:o.useEffect,X={},Y=function(e,t){void 0===t&&(t={});var n=t,r=n.index,i=void 0===r?L():r,s=n.theming,l=n.name,c=Object(a.a)(n,["index","theming","name"]),u=s&&s.context||b,d="function"==typeof e?function(){return Object(o.useContext)(u)||X}:function(){return X};return function(t){var n=Object(o.useRef)(!0),r=Object(o.useContext)(I),a=d(),s=Object(o.useMemo)((function(){var n=q({context:r,styles:e,name:l,theme:a,index:i,sheetOptions:c}),o=n?G(n,t):null;return n&&D({index:i,context:r,sheet:n,theme:a}),[n,o]}),[r,a]),u=s[0],p=s[1];K((function(){u&&p&&!n.current&&W(t,u,p)}),[t]),K((function(){return function(){u&&F({index:i,context:r,sheet:u,theme:a}),u&&p&&H(u,p)}}),[u]);var f=u&&p?V(u,p):{};return Object(o.useDebugValue)(f),Object(o.useDebugValue)(a===X?"No theme":a),Object(o.useEffect)((function(){n.current=!1})),f}},Z={},ee=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).managers={},t.createContext=function(e,n){void 0===n&&(n=Z);var i=t.props,a=i.registry,o=i.classNamePrefix,s=i.jss,l=i.generateId,c=i.disableStylesGeneration,u=i.media,d=i.id,p=Object(r.a)({},e);return a&&(p.registry=a,a!==t.registry&&(t.managers={},t.registry=a)),p.managers=t.managers,void 0!==d&&(p.id=d),void 0!==l?p.generateId=l:p.generateId&&n&&p.id===n.id||(p.generateId=Object(E.createGenerateId)(p.id)),o&&(p.classNamePrefix=(p.classNamePrefix||"")+o),void 0!==u&&(p.media=u),s&&(p.jss=s),void 0!==c&&(p.disableStylesGeneration=c),n&&S(n,p)?n:p},t.prevContext=void 0,t.generateId=void 0,t.registry=void 0,t.renderProvider=function(e){var n=t.props.children,r=t.createContext(e,t.prevContext);return t.prevContext=r,Object(o.createElement)(I.Provider,{value:r},n)},t}return Object(i.a)(t,e),t.prototype.render=function(){return Object(o.createElement)(I.Consumer,null,this.renderProvider)},t}(o.Component);ee.propTypes={registry:d.a.instanceOf(E.SheetsRegistry),jss:d.a.instanceOf(E.default.constructor),generateId:d.a.func,classNamePrefix:d.a.string,disableStylesGeneration:d.a.bool,children:d.a.node.isRequired,media:d.a.string,id:d.a.shape({minify:d.a.bool})};var te=function(e){var t,n=[],r=[];for(var i in e){var a=e[i];a&&("function"==typeof a?n.push(a):(t||(t={}),Object.assign(t,a),t.label&&-1===r.indexOf(t.label)&&r.push(t.label)))}var o={},s=0===r.length?"sc":r.join("-");return t&&("label"in t&&delete t.label,o[s]=t),1===n.length&&(o.scd=n[0]),n.length>1&&(o.scd=function(e){for(var t={},r=0;r<n.length;r++){var i=n[r](e);i&&Object.assign(t,i)}return t}),{styles:o,label:s}},ne=Symbol("react-jss-styled"),re=function(e,t,n){var r={};for(var i in e)t?!0===t(i)&&(r[i]=e[i]):n?A(i)&&(r[i]=e[i]):r[i]=e[i];return r},ie=function(e,t){void 0===t&&(t={});var n=t.theming,r="string"==typeof e,i=n?n.context:b,s=function(e,t){var n=t.shouldForwardProp,r=e[ne],i=n||r;return n&&r&&(i=function(e){return r(e)&&n(e)}),i}(e,t),l=t,c=(l.shouldForwardProp,Object(a.a)(l,["shouldForwardProp"]));return function(){var t=te(arguments),n=t.styles,a=t.label,l=Y(n,c),u=function(t){var n=t.as,c=t.className,u=Object(o.useContext)(i),d=Object.assign({theme:u},t),p=l(d),f=re(t,s,r),h=((p[a]||p.sc||"")+" "+(p.scd||"")).trim();return f.className=c?c+" "+h:h,!r&&s&&(e[ne]=s),r&&n?Object(o.createElement)(n,f):Object(o.createElement)(e,f)};return u}},ae=function(e){return void 0===e&&(e=P),function(t,n){var r=arguments;if(n&&n.css){var i=e(n.css),a=Object.assign({},n);a.className=n.className?n.className+" "+i:i,delete a.css,r[1]=a}return o.createElement.apply(void 0,r)}},oe=ae();t.default=J},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(167),i=n(69),a=n(37);let o=0;class s{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&c(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),i=/trig/.test(t),a=/triple/.test(t),o=/quad/.test(t),s=this._n3Mode=/n3/.test(t),l=a||o;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||a||s),this._supportsRDFStar=""===t||/star|\*$/.test(t),l&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new r.a({lineMode:l,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){o=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,n,r,i){const a=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:t,type:e,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){const e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);n=this._namedNode(t);break;case"type":case"prefixed":const r=this._prefixes[e.prefix];if(void 0===r)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(r+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,r=this._readListItem;const i=this._subject,a=this._contextStack,o=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blankNode()),null===i?null===o.predicate?o.subject=n:o.object=n:this._emit(i,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(void 0===n)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const r=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const e=this._predicate,t=this._object;i?this._emit(t,e,r,n):this._emit(r,e,t,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){const e=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const r=this._blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let n,r;if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error("Expected >> but got "+e.type,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=l}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",r=-1,i=-1,a=0,o="/";for(;r<t;){switch(o){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<t&&"/"!==e[i];)r=i;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(o=e[1+ ++r],o){case"/":n+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return n+e.substring(a,r)+e.substr(r+1);case".":if(o=e[1+ ++r],void 0===o||"/"===o||"?"===o||"#"===o){if(n+=e.substring(a,r-2),(a=n.lastIndexOf("/"))>=i&&(n=n.substr(0,a)),"/"!==o)return`${n}/${e.substr(r+1)}`;a=r+1}}}o=e[++r]}return n+e.substring(a)}parse(e,t,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${o++}_`,this._prefixCallback=n||l,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const t=[];let n;if(this._callback=(e,r)=>{e?n=e:r&&t.push(r)},this._lexer.tokenize(e).every(e=>this._readCallback=this._readCallback(e)),n)throw n;return t}this._callback=t,this._lexer.tokenize(e,(e,t)=>{null!==e?(this._callback(e),this._callback=l):this._readCallback&&(this._readCallback=this._readCallback(t))})}}function l(){}function c(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(a.a.rdf.first),e.RDF_REST=n(a.a.rdf.rest),e.RDF_NIL=n(a.a.rdf.nil),e.N3_FORALL=n(a.a.r.forAll),e.N3_FORSOME=n(a.a.r.forSome),e.ABBREVIATIONS={a:n(a.a.rdf.type),"=":n(a.a.owl.sameAs),">":n(a.a.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}c(s.prototype,i.b)}])}));
//# sourceMappingURL=mashlib.min.js.map