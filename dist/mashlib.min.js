/*! For license information please see mashlib.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Mashlib=t():e.Mashlib=t()}(self,(()=>(()=>{var e,t,n,r,i={35306:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),e.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],n[i.type](i));if(o.sort(),o.length>0){for(t=1,r=1;t<o.length;t++)o[t-1]!==o[t]&&(o[r]=o[t],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,r){r=void 0!==r?r:{};var i,o={},a={turtleDoc:Gn},s=Gn,l=function(e){var t=wr.toJSON();return t["@graph"]=[],e.filter((e=>Array.isArray(e))).forEach((e=>{e.forEach((e=>{t["@graph"].push(e)}))})),1===t["@graph"].length&&(Object.assign(t,t["@graph"][0]),delete t["@graph"]),t},c=".",u=Wn(".",!1),d=function(e){return e},p="#",f=Wn("#",!1),h=/^[^\n]/,m=zn(["\n"],!0,!1),g="\n",v=Wn("\n",!1),y=function(e){return e.join("")},b="@prefix",w=Wn("@prefix",!1),x=function(e,t){return wr.addPrefix(""===e?"0":e,t),{}},E="@base",_=Wn("@base",!1),k=function(e){return wr.addBase(e),{}},S=/^[Bb]/,C=zn(["B","b"],!1,!1),A=/^[Aa]/,T=zn(["A","a"],!1,!1),P=/^[Ss]/,O=zn(["S","s"],!1,!1),I=/^[Ee]/,N=zn(["E","e"],!1,!1),F=/^[Pp]/,L=zn(["P","p"],!1,!1),R=/^[Rr]/,j=zn(["R","r"],!1,!1),M=/^[Ff]/,D=zn(["F","f"],!1,!1),U=/^[Ii]/,B=zn(["I","i"],!1,!1),H=/^[Xx]/,q=zn(["X","x"],!1,!1),W=function(e,t){var n={};return"string"==typeof e&&"[]"!==e?n["@id"]=e:"object"==typeof e&&Object.assign(n,e),t&&Object.assign(n,t),[n]},z=function(e,t){var n={};return e&&Object.assign(n,e),t&&Object.assign(n,t),[n]},V=";",$=Wn(";",!1),K=function(e,t,n,r){var i={};return i[n]=r,i},G=function(e,t,n){return n},J=function(e,t,n){var r={};return n.unshift(function(e,t){var n={};return n[e]=t,n}(e,t)),n.forEach((e=>{e&&Object.keys(e).forEach((t=>{e[t].forEach((e=>{"@type"===t&&void 0!==e["@id"]&&(e=e["@id"]),void 0===r[t]?r[t]=e:Array.isArray(r[t])?r[t].push(e):r[t]=[r[t],e]}))}))})),r},Q=",",Y=Wn(",",!1),X=function(e,t){return t},Z=function(e,t){return t.unshift(e),t},ee="a",te=Wn("a",!1),ne=function(){return"@type"},re=function(e){return xr(e,!0)},ie=function(e){return xr(e,!1)},oe=function(e){return"[]"===e?{}:{"@id":e}},ae=function(e){return{"@id":e}},se="[",le=Wn("[",!1),ce="]",ue=Wn("]",!1),de="(",pe=Wn("(",!1),fe=")",he=Wn(")",!1),me=function(e){return{"@list":e}},ge=function(e,t){return{"@value":e,"@language":t}},ve="^^",ye=Wn("^^",!1),be=function(e,t){if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"true"===e)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"false"===e)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===t)return parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===t)return parseFloat(e);const n=wr.resolve(t,!0);if(n){const r=t.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===n&&"true"===e)return wr.decrement(r),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===n&&"false"===e)return wr.decrement(r),!1;if("http://www.w3.org/2001/XMLSchema#integer"===n)return wr.decrement(r),parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===n)return wr.decrement(r),parseFloat(e)}return{"@value":e,"@type":t}},we="true",xe=Wn("true",!1),Ee=function(){return!0},_e="false",ke=Wn("false",!1),Se=function(){return!1},Ce=function(e){return e+":"},Ae="<",Te=Wn("<",!1),Pe=/^[^\0- <>"{}|\^`\\]/,Oe=zn([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Ie=">",Ne=Wn(">",!1),Fe=function(e){const t=e.map((e=>65536<=e.codePointAt(0)&&e.codePointAt(0)<=983039?"a":1===e.length?e:6===e.length?String.fromCharCode("0x"+e.substring(2)):10===e.length?String.fromCodePoint("0x"+e.substring(2)):e)).join("");if(t.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var n=e.join("");try{return wr.resolve(n)}catch(e){qn("Invalid IRIREF "+n)}}else qn("Invalid IRIREF "+e.join("")+" / "+t)},Le=":",Re=Wn(":",!1),je=function(e){return e=e||"0",!1===wr.hasPrefix(e)&&qn("undefined prefix "+e),e},Me=function(e){return e||""},De=function(e,t){return wr.increment(e),wr.resolve(e+":"+t)},Ue="_:",Be=Wn("_:",!1),He=/^[0-9]/,qe=zn([["0","9"]],!1,!1),We="@",ze=Wn("@",!1),Ve=/^[a-zA-Z]/,$e=zn([["a","z"],["A","Z"]],!1,!1),Ke="-",Ge=Wn("-",!1),Je=/^[a-zA-Z0-9]/,Qe=zn([["a","z"],["A","Z"],["0","9"]],!1,!1),Ye=function(e,t){return"-"+t.join("")},Xe=function(e,t){return e.join("")+t.join("")},Ze=/^[+\-]/,et=zn(["+","-"],!1,!1),tt=function(e){return e.match(/^[0+][0-9]+$/)?{"@value":e,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(e)},nt=function(e){return{"@value":e,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},rt=function(e){return{"@value":e,"@type":"http://www.w3.org/2001/XMLSchema#double"}},it=/^[eE]/,ot=zn(["e","E"],!1,!1),at='"',st=Wn('"',!1),lt=/^[^"\\\n\r]/,ct=zn(['"',"\\","\n","\r"],!0,!1),ut="'",dt=Wn("'",!1),pt=/^[^'\\\n\r]/,ft=zn(["'","\\","\n","\r"],!0,!1),ht="'''",mt=Wn("'''",!1),gt=/^[^'\\]/,vt=zn(["'","\\"],!0,!1),yt="''",bt=Wn("''",!1),wt=function(e,t){return"''"+t.join("")},xt=function(e,t){return"'"+t.join("")},Et=function(e,t){return e.join("")+t.join("")},_t='"""',kt=Wn('"""',!1),St=/^[^"\\]/,Ct=zn(['"',"\\"],!0,!1),At='""',Tt=Wn('""',!1),Pt=function(e,t){return'""'+t.join("")},Ot=function(e,t){return'"'+t.join("")},It="\\U",Nt=Wn("\\U",!1),Ft=function(e){return String.fromCodePoint(parseInt(e.join(""),16))},Lt="\\u",Rt=Wn("\\u",!1),jt=function(e){return String.fromCharCode(parseInt(e.join(""),16))},Mt="\\t",Dt=Wn("\\t",!1),Ut=function(){return"\t"},Bt="\\b",Ht=Wn("\\b",!1),qt=function(){return"\b"},Wt="\\n",zt=Wn("\\n",!1),Vt=function(){return"\n"},$t="\\r",Kt=Wn("\\r",!1),Gt=function(){return"\r"},Jt="\\f",Qt=Wn("\\f",!1),Yt=function(){return"\f"},Xt='\\"',Zt=Wn('\\"',!1),en=function(){return'"'},tn="\\'",nn=Wn("\\'",!1),rn=function(){return"'"},on="\\\\",an=Wn("\\\\",!1),sn=function(){return"\\"},ln=/^[ \t\r\n]/,cn=zn([" ","\t","\r","\n"],!1,!1),un=function(){return"[]"},dn=/^[\uD800-\uDBFF]/,pn=zn([["\ud800","\udbff"]],!1,!1),fn=/^[\uDC00-\uDFFF]/,hn=zn([["\udc00","\udfff"]],!1,!1),mn=function(e,t){return e+t},gn=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,vn=zn([["A","Z"],["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),yn="_",bn=Wn("_",!1),wn="·",xn=Wn("·",!1),En=/^[\u0300-\u036F]/,_n=zn([["̀","ͯ"]],!1,!1),kn=/^[\u203F-\u2040]/,Sn=zn([["‿","⁀"]],!1,!1),Cn=function(e,t,n,r){return n.join("")+r.join("")},An=function(e,t,n){return e+t.join("")+n.join("")},Tn="%",Pn=Wn("%",!1),On=/^[0-9A-Fa-f]/,In=zn([["0","9"],["A","F"],["a","f"]],!1,!1),Nn="\\",Fn=Wn("\\",!1),Ln=/^[_~.!$&'()*+,;=\/?#@%\-]/,Rn=zn(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),jn=0,Mn=0,Dn=[{line:1,column:1}],Un=0,Bn=[],Hn=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=a[r.startRule]}function qn(t,n){throw function(t,n){return new e(t,null,null,n)}(t,n=void 0!==n?n:$n(Mn,jn))}function Wn(e,t){return{type:"literal",text:e,ignoreCase:t}}function zn(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Vn(e){var n,r=Dn[e];if(r)return r;for(n=e-1;!Dn[n];)n--;for(r={line:(r=Dn[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Dn[e]=r,r}function $n(e,t){var n=Vn(e),r=Vn(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Kn(e){jn<Un||(jn>Un&&(Un=jn,Bn=[]),Bn.push(e))}function Gn(){var e,t,n,r;for(e=jn,t=[],n=Jn();n!==o;)t.push(n),n=Jn();if(t!==o){for(n=[],r=Qn();r!==o;)n.push(r),r=Qn();n!==o?(Mn=e,e=t=l(t)):(jn=e,e=o)}else jn=e,e=o;return e}function Jn(){var e,n,r,i;if((e=function(){var e;return(e=function(){var e,n,r,i,a,s,l,d,p;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if(t.substr(jn,7)===b?(r=b,jn+=7):(r=o,0===Hn&&Kn(w)),r!==o){for(i=[],a=Qn();a!==o;)i.push(a),a=Qn();if(i!==o)if((a=lr())!==o){for(s=[],l=Qn();l!==o;)s.push(l),l=Qn();if(s!==o)if((l=ar())!==o){for(d=[],p=Qn();p!==o;)d.push(p),p=Qn();d!==o?(46===t.charCodeAt(jn)?(p=c,jn++):(p=o,0===Hn&&Kn(u)),p!==o?(Mn=e,e=n=x(a,l)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o}else jn=e,e=o;else jn=e,e=o}else jn=e,e=o;else jn=e,e=o;return e}())===o&&(e=function(){var e,n,r,i,a,s,l;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if(t.substr(jn,5)===E?(r=E,jn+=5):(r=o,0===Hn&&Kn(_)),r!==o){for(i=[],a=Qn();a!==o;)i.push(a),a=Qn();if(i!==o)if((a=ar())!==o){for(s=[],l=Qn();l!==o;)s.push(l),l=Qn();s!==o?(46===t.charCodeAt(jn)?(l=c,jn++):(l=o,0===Hn&&Kn(u)),l!==o?(Mn=e,e=n=k(a)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o}else jn=e,e=o;else jn=e,e=o;return e}())===o&&(e=function(){var e,n,r,i,a,s,l,c,u,d,p,f;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if(F.test(t.charAt(jn))?(r=t.charAt(jn),jn++):(r=o,0===Hn&&Kn(L)),r!==o)if(R.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(j)),i!==o)if(I.test(t.charAt(jn))?(a=t.charAt(jn),jn++):(a=o,0===Hn&&Kn(N)),a!==o)if(M.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(D)),s!==o)if(U.test(t.charAt(jn))?(l=t.charAt(jn),jn++):(l=o,0===Hn&&Kn(B)),l!==o)if(H.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(q)),c!==o){for(u=[],d=Qn();d!==o;)u.push(d),d=Qn();if(u!==o)if((d=lr())!==o){for(p=[],f=Qn();f!==o;)p.push(f),f=Qn();p!==o&&(f=ar())!==o?(Mn=e,e=n=x(d,f)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o}else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;return e}())===o&&(e=function(){var e,n,r,i,a,s,l,c;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if(S.test(t.charAt(jn))?(r=t.charAt(jn),jn++):(r=o,0===Hn&&Kn(C)),r!==o)if(A.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(T)),i!==o)if(P.test(t.charAt(jn))?(a=t.charAt(jn),jn++):(a=o,0===Hn&&Kn(O)),a!==o)if(I.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(N)),s!==o){for(l=[],c=Qn();c!==o;)l.push(c),c=Qn();l!==o&&(c=ar())!==o?(Mn=e,e=n=k(c)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;return e}()),e}())===o)if(e=jn,(n=function(){var e,t,n;return e=jn,(t=function(){var e,t;return e=jn,(t=nr())!==o&&(Mn=e,t=re(t)),(e=t)===o&&(e=or())===o&&(e=ir()),e}())!==o&&(n=Yn())!==o?(Mn=e,e=t=W(t,n)):(jn=e,e=o),e===o&&(e=jn,(t=tr())!==o?((n=Yn())===o&&(n=null),n!==o?(Mn=e,e=t=z(t,n)):(jn=e,e=o)):(jn=e,e=o)),e}())!==o){for(r=[],i=Qn();i!==o;)r.push(i),i=Qn();r!==o?(46===t.charCodeAt(jn)?(i=c,jn++):(i=o,0===Hn&&Kn(u)),i!==o?(Mn=e,e=n=d(n)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;return e}function Qn(){var e;return(e=function(){var e;return ln.test(t.charAt(jn))?(e=t.charAt(jn),jn++):(e=o,0===Hn&&Kn(cn)),e}())===o&&(e=function(){var e,n,r,i;if(e=jn,35===t.charCodeAt(jn)?(n=p,jn++):(n=o,0===Hn&&Kn(f)),n!==o){for(r=[],h.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(m));i!==o;)r.push(i),h.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(m));r!==o?(10===t.charCodeAt(jn)?(i=g,jn++):(i=o,0===Hn&&Kn(v)),i!==o?(Mn=e,e=n=y(r)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;return e}()),e}function Yn(){var e,n,r,i,a,s,l,c,u,d;if(e=jn,(n=Zn())!==o)if((r=Xn())!==o){for(i=[],a=jn,s=[],l=Qn();l!==o;)s.push(l),l=Qn();for(s!==o?(59===t.charCodeAt(jn)?(l=V,jn++):(l=o,0===Hn&&Kn($)),l!==o?(c=jn,(u=Zn())!==o&&(d=Xn())!==o?(Mn=c,c=u=K(n,r,u,d)):(jn=c,c=o),c===o&&(c=null),c!==o?(Mn=a,a=s=G(n,r,c)):(jn=a,a=o)):(jn=a,a=o)):(jn=a,a=o);a!==o;){for(i.push(a),a=jn,s=[],l=Qn();l!==o;)s.push(l),l=Qn();s!==o?(59===t.charCodeAt(jn)?(l=V,jn++):(l=o,0===Hn&&Kn($)),l!==o?(c=jn,(u=Zn())!==o&&(d=Xn())!==o?(Mn=c,c=u=K(n,r,u,d)):(jn=c,c=o),c===o&&(c=null),c!==o?(Mn=a,a=s=G(n,r,c)):(jn=a,a=o)):(jn=a,a=o)):(jn=a,a=o)}i!==o?(Mn=e,e=n=J(n,r,i)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o;return e}function Xn(){var e,n,r,i,a,s,l;if(e=jn,(n=er())!==o){for(r=[],i=jn,a=[],s=Qn();s!==o;)a.push(s),s=Qn();for(a!==o?(44===t.charCodeAt(jn)?(s=Q,jn++):(s=o,0===Hn&&Kn(Y)),s!==o&&(l=er())!==o?(Mn=i,i=a=X(n,l)):(jn=i,i=o)):(jn=i,i=o);i!==o;){for(r.push(i),i=jn,a=[],s=Qn();s!==o;)a.push(s),s=Qn();a!==o?(44===t.charCodeAt(jn)?(s=Q,jn++):(s=o,0===Hn&&Kn(Y)),s!==o&&(l=er())!==o?(Mn=i,i=a=X(n,l)):(jn=i,i=o)):(jn=i,i=o)}r!==o?(Mn=e,e=n=Z(n,r)):(jn=e,e=o)}else jn=e,e=o;return e}function Zn(){var e,n,r;if(e=jn,(n=function(){var e,t,n;for(e=jn,t=[],n=Qn();n!==o;)t.push(n),n=Qn();return t!==o&&(n=ir())!==o?(Mn=e,e=t=d(n)):(jn=e,e=o),e}())!==o&&(Mn=e,n=d(n)),(e=n)===o){for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();n!==o?(97===t.charCodeAt(jn)?(r=ee,jn++):(r=o,0===Hn&&Kn(te)),r!==o?(Mn=e,e=n=ne()):(jn=e,e=o)):(jn=e,e=o)}return e}function er(){var e,n;return(e=function(){var e;return(e=function(){var e,n,r,i,a,s,l;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if((r=rr())!==o){for(i=[],a=Qn();a!==o;)i.push(a),a=Qn();i!==o&&(a=function(){var e,n,r,i,a,s,l,c;if(e=jn,64===t.charCodeAt(jn)?(n=We,jn++):(n=o,0===Hn&&Kn(ze)),n!==o){if(r=[],Ve.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn($e)),i!==o)for(;i!==o;)r.push(i),Ve.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn($e));else r=o;if(r!==o){if(i=[],a=jn,45===t.charCodeAt(jn)?(s=Ke,jn++):(s=o,0===Hn&&Kn(Ge)),s!==o){if(l=[],Je.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Qe)),c!==o)for(;c!==o;)l.push(c),Je.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Qe));else l=o;l!==o?(Mn=a,a=s=Ye(r,l)):(jn=a,a=o)}else jn=a,a=o;for(;a!==o;)if(i.push(a),a=jn,45===t.charCodeAt(jn)?(s=Ke,jn++):(s=o,0===Hn&&Kn(Ge)),s!==o){if(l=[],Je.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Qe)),c!==o)for(;c!==o;)l.push(c),Je.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Qe));else l=o;l!==o?(Mn=a,a=s=Ye(r,l)):(jn=a,a=o)}else jn=a,a=o;i!==o?(Mn=e,e=n=Xe(r,i)):(jn=e,e=o)}else jn=e,e=o}else jn=e,e=o;return e}())!==o?(Mn=e,e=n=ge(r,a)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o;if(e===o){for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if((r=rr())!==o){for(i=[],a=Qn();a!==o;)i.push(a),a=Qn();if(i!==o)if(t.substr(jn,2)===ve?(a=ve,jn+=2):(a=o,0===Hn&&Kn(ye)),a!==o){for(s=[],l=Qn();l!==o;)s.push(l),l=Qn();s!==o&&(l=ir())!==o?(Mn=e,e=n=be(r,l)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o}else jn=e,e=o;else jn=e,e=o;if(e===o){for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();n!==o&&(r=rr())!==o?(Mn=e,e=n=d(r)):(jn=e,e=o)}}return e}())===o&&(e=function(){var e,n,r;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();return n!==o?((r=function(){var e,n,r,i,a,s,l,d,p;if(e=jn,n=jn,r=jn,Ze.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(et)),i===o&&(i=null),i!==o){if(a=jn,s=[],He.test(t.charAt(jn))?(l=t.charAt(jn),jn++):(l=o,0===Hn&&Kn(qe)),l!==o)for(;l!==o;)s.push(l),He.test(t.charAt(jn))?(l=t.charAt(jn),jn++):(l=o,0===Hn&&Kn(qe));else s=o;if(s!==o)if(46===t.charCodeAt(jn)?(l=c,jn++):(l=o,0===Hn&&Kn(u)),l!==o){for(d=[],He.test(t.charAt(jn))?(p=t.charAt(jn),jn++):(p=o,0===Hn&&Kn(qe));p!==o;)d.push(p),He.test(t.charAt(jn))?(p=t.charAt(jn),jn++):(p=o,0===Hn&&Kn(qe));d!==o&&(p=cr())!==o?a=s=[s,l,d,p]:(jn=a,a=o)}else jn=a,a=o;else jn=a,a=o;if(a===o){if(a=jn,46===t.charCodeAt(jn)?(s=c,jn++):(s=o,0===Hn&&Kn(u)),s!==o){if(l=[],He.test(t.charAt(jn))?(d=t.charAt(jn),jn++):(d=o,0===Hn&&Kn(qe)),d!==o)for(;d!==o;)l.push(d),He.test(t.charAt(jn))?(d=t.charAt(jn),jn++):(d=o,0===Hn&&Kn(qe));else l=o;l!==o&&(d=cr())!==o?a=s=[s,l,d]:(jn=a,a=o)}else jn=a,a=o;if(a===o){if(a=jn,s=[],He.test(t.charAt(jn))?(l=t.charAt(jn),jn++):(l=o,0===Hn&&Kn(qe)),l!==o)for(;l!==o;)s.push(l),He.test(t.charAt(jn))?(l=t.charAt(jn),jn++):(l=o,0===Hn&&Kn(qe));else s=o;s!==o&&(l=cr())!==o?a=s=[s,l]:(jn=a,a=o)}}a!==o?r=i=[i,a]:(jn=r,r=o)}else jn=r,r=o;return(n=r!==o?t.substring(n,jn):r)!==o&&(Mn=e,n=rt(n)),n}())===o&&(r=function(){var e,n,r,i,a,s,l,d;if(e=jn,n=jn,r=jn,Ze.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(et)),i===o&&(i=null),i!==o){for(a=[],He.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(qe));s!==o;)a.push(s),He.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(qe));if(a!==o)if(46===t.charCodeAt(jn)?(s=c,jn++):(s=o,0===Hn&&Kn(u)),s!==o){if(l=[],He.test(t.charAt(jn))?(d=t.charAt(jn),jn++):(d=o,0===Hn&&Kn(qe)),d!==o)for(;d!==o;)l.push(d),He.test(t.charAt(jn))?(d=t.charAt(jn),jn++):(d=o,0===Hn&&Kn(qe));else l=o;l!==o?r=i=[i,a,s,l]:(jn=r,r=o)}else jn=r,r=o;else jn=r,r=o}else jn=r,r=o;return(n=r!==o?t.substring(n,jn):r)!==o&&(Mn=e,n=nt(n)),n}())===o&&(r=function(){var e,n,r,i,a,s;if(e=jn,n=jn,r=jn,Ze.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(et)),i===o&&(i=null),i!==o){if(a=[],He.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(qe)),s!==o)for(;s!==o;)a.push(s),He.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(qe));else a=o;a!==o?r=i=[i,a]:(jn=r,r=o)}else jn=r,r=o;return(n=r!==o?t.substring(n,jn):r)!==o&&(Mn=e,n=tt(n)),n}()),r!==o?(Mn=e,e=n=d(r)):(jn=e,e=o)):(jn=e,e=o),e}())===o&&(e=function(){var e,n,r;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o?(t.substr(jn,4)===we?(r=we,jn+=4):(r=o,0===Hn&&Kn(xe)),r!==o?(Mn=e,e=n=Ee()):(jn=e,e=o)):(jn=e,e=o),e===o){for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();n!==o?(t.substr(jn,5)===_e?(r=_e,jn+=5):(r=o,0===Hn&&Kn(ke)),r!==o?(Mn=e,e=n=Se()):(jn=e,e=o)):(jn=e,e=o)}return e}()),e}())===o&&(e=jn,(n=nr())!==o&&(Mn=e,n=ie(n)),(e=n)===o&&(e=jn,(n=or())!==o&&(Mn=e,n=oe(n)),(e=n)===o&&(e=jn,(n=tr())!==o&&(Mn=e,n=d(n)),(e=n)===o&&(e=jn,(n=ir())!==o&&(Mn=e,n=ae(n)),e=n)))),e}function tr(){var e,n,r,i,a,s;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if(91===t.charCodeAt(jn)?(r=se,jn++):(r=o,0===Hn&&Kn(le)),r!==o)if((i=Yn())!==o){for(a=[],s=Qn();s!==o;)a.push(s),s=Qn();a!==o?(93===t.charCodeAt(jn)?(s=ce,jn++):(s=o,0===Hn&&Kn(ue)),s!==o?(Mn=e,e=n=d(i)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;else jn=e,e=o;else jn=e,e=o;return e}function nr(){var e,n,r,i,a,s;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o)if(40===t.charCodeAt(jn)?(r=de,jn++):(r=o,0===Hn&&Kn(pe)),r!==o){for(i=[],a=er();a!==o;)i.push(a),a=er();if(i!==o){for(a=[],s=Qn();s!==o;)a.push(s),s=Qn();a!==o?(41===t.charCodeAt(jn)?(s=fe,jn++):(s=o,0===Hn&&Kn(he)),s!==o?(Mn=e,e=n=me(i)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o}else jn=e,e=o;else jn=e,e=o;return e}function rr(){var e,n,r;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();return n!==o?((r=function(){var e,n,r,i,a,s,l,c;if(e=jn,t.substr(jn,3)===ht?(n=ht,jn+=3):(n=o,0===Hn&&Kn(mt)),n!==o){for(r=[],gt.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(vt)),i===o&&(i=dr())===o&&(i=ur());i!==o;)r.push(i),gt.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(vt)),i===o&&(i=dr())===o&&(i=ur());if(r!==o){if(i=[],a=jn,t.substr(jn,2)===yt?(s=yt,jn+=2):(s=o,0===Hn&&Kn(bt)),s!==o){if(l=[],gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=wt(r,l)):(jn=a,a=o)}else jn=a,a=o;if(a===o)if(a=jn,39===t.charCodeAt(jn)?(s=ut,jn++):(s=o,0===Hn&&Kn(dt)),s!==o){if(l=[],gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=xt(r,l)):(jn=a,a=o)}else jn=a,a=o;for(;a!==o;){if(i.push(a),a=jn,t.substr(jn,2)===yt?(s=yt,jn+=2):(s=o,0===Hn&&Kn(bt)),s!==o){if(l=[],gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=wt(r,l)):(jn=a,a=o)}else jn=a,a=o;if(a===o)if(a=jn,39===t.charCodeAt(jn)?(s=ut,jn++):(s=o,0===Hn&&Kn(dt)),s!==o){if(l=[],gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),gt.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(vt)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=xt(r,l)):(jn=a,a=o)}else jn=a,a=o}i!==o?(t.substr(jn,3)===ht?(a=ht,jn+=3):(a=o,0===Hn&&Kn(mt)),a!==o?(Mn=e,e=n=Et(r,i)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o}else jn=e,e=o;return e}())===o&&(r=function(){var e,n,r,i,a,s,l,c;if(e=jn,t.substr(jn,3)===_t?(n=_t,jn+=3):(n=o,0===Hn&&Kn(kt)),n!==o){for(r=[],St.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(Ct)),i===o&&(i=dr())===o&&(i=ur());i!==o;)r.push(i),St.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(Ct)),i===o&&(i=dr())===o&&(i=ur());if(r!==o){if(i=[],a=jn,t.substr(jn,2)===At?(s=At,jn+=2):(s=o,0===Hn&&Kn(Tt)),s!==o){if(l=[],St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=Pt(r,l)):(jn=a,a=o)}else jn=a,a=o;if(a===o)if(a=jn,34===t.charCodeAt(jn)?(s=at,jn++):(s=o,0===Hn&&Kn(st)),s!==o){if(l=[],St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=Ot(r,l)):(jn=a,a=o)}else jn=a,a=o;for(;a!==o;){if(i.push(a),a=jn,t.substr(jn,2)===At?(s=At,jn+=2):(s=o,0===Hn&&Kn(Tt)),s!==o){if(l=[],St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=Pt(r,l)):(jn=a,a=o)}else jn=a,a=o;if(a===o)if(a=jn,34===t.charCodeAt(jn)?(s=at,jn++):(s=o,0===Hn&&Kn(st)),s!==o){if(l=[],St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur()),c!==o)for(;c!==o;)l.push(c),St.test(t.charAt(jn))?(c=t.charAt(jn),jn++):(c=o,0===Hn&&Kn(Ct)),c===o&&(c=dr())===o&&(c=ur());else l=o;l!==o?(Mn=a,a=s=Ot(r,l)):(jn=a,a=o)}else jn=a,a=o}i!==o?(t.substr(jn,3)===_t?(a=_t,jn+=3):(a=o,0===Hn&&Kn(kt)),a!==o?(Mn=e,e=n=Et(r,i)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o}else jn=e,e=o;return e}())===o&&(r=function(){var e,n,r,i;if(e=jn,39===t.charCodeAt(jn)?(n=ut,jn++):(n=o,0===Hn&&Kn(dt)),n!==o){for(r=[],pt.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(ft)),i===o&&(i=dr())===o&&(i=ur());i!==o;)r.push(i),pt.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(ft)),i===o&&(i=dr())===o&&(i=ur());r!==o?(39===t.charCodeAt(jn)?(i=ut,jn++):(i=o,0===Hn&&Kn(dt)),i!==o?(Mn=e,e=n=y(r)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;return e}())===o&&(r=function(){var e,n,r,i;if(e=jn,34===t.charCodeAt(jn)?(n=at,jn++):(n=o,0===Hn&&Kn(st)),n!==o){for(r=[],lt.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(ct)),i===o&&(i=dr())===o&&(i=ur());i!==o;)r.push(i),lt.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(ct)),i===o&&(i=dr())===o&&(i=ur());r!==o?(34===t.charCodeAt(jn)?(i=at,jn++):(i=o,0===Hn&&Kn(st)),i!==o?(Mn=e,e=n=y(r)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;return e}()),r!==o?(Mn=e,e=n=d(r)):(jn=e,e=o)):(jn=e,e=o),e}function ir(){var e,n,r;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o&&(r=ar())!==o?(Mn=e,e=n=d(r)):(jn=e,e=o),e===o){for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();n!==o&&(r=function(){var e,n;return(e=function(){var e,n,r;return e=jn,(n=sr())!==o&&(r=function(){var e,n,r,i,a,s,l,d;if(e=jn,(n=fr())===o&&(58===t.charCodeAt(jn)?(n=Le,jn++):(n=o,0===Hn&&Kn(Re)),n===o&&(He.test(t.charAt(jn))?(n=t.charAt(jn),jn++):(n=o,0===Hn&&Kn(qe)),n===o&&(n=gr()))),n!==o){for(r=[],(i=hr())===o&&(58===t.charCodeAt(jn)?(i=Le,jn++):(i=o,0===Hn&&Kn(Re)),i===o&&(i=gr()));i!==o;)r.push(i),(i=hr())===o&&(58===t.charCodeAt(jn)?(i=Le,jn++):(i=o,0===Hn&&Kn(Re)),i===o&&(i=gr()));if(r!==o){if(i=[],a=jn,s=[],46===t.charCodeAt(jn)?(l=c,jn++):(l=o,0===Hn&&Kn(u)),l!==o)for(;l!==o;)s.push(l),46===t.charCodeAt(jn)?(l=c,jn++):(l=o,0===Hn&&Kn(u));else s=o;if(s!==o){if(l=[],(d=hr())===o&&(58===t.charCodeAt(jn)?(d=Le,jn++):(d=o,0===Hn&&Kn(Re)),d===o&&(d=gr())),d!==o)for(;d!==o;)l.push(d),(d=hr())===o&&(58===t.charCodeAt(jn)?(d=Le,jn++):(d=o,0===Hn&&Kn(Re)),d===o&&(d=gr()));else l=o;l!==o?(Mn=a,a=s=Cn(n,r,s,l)):(jn=a,a=o)}else jn=a,a=o;for(;a!==o;){if(i.push(a),a=jn,s=[],46===t.charCodeAt(jn)?(l=c,jn++):(l=o,0===Hn&&Kn(u)),l!==o)for(;l!==o;)s.push(l),46===t.charCodeAt(jn)?(l=c,jn++):(l=o,0===Hn&&Kn(u));else s=o;if(s!==o){if(l=[],(d=hr())===o&&(58===t.charCodeAt(jn)?(d=Le,jn++):(d=o,0===Hn&&Kn(Re)),d===o&&(d=gr())),d!==o)for(;d!==o;)l.push(d),(d=hr())===o&&(58===t.charCodeAt(jn)?(d=Le,jn++):(d=o,0===Hn&&Kn(Re)),d===o&&(d=gr()));else l=o;l!==o?(Mn=a,a=s=Cn(n,r,s,l)):(jn=a,a=o)}else jn=a,a=o}i!==o?(Mn=e,e=n=An(n,r,i)):(jn=e,e=o)}else jn=e,e=o}else jn=e,e=o;return e}())!==o?(Mn=e,e=n=De(n,r)):(jn=e,e=o),e}())===o&&(e=jn,(n=sr())!==o&&(Mn=e,n=Ce(n)),e=n),e}())!==o?(Mn=e,e=n=d(r)):(jn=e,e=o)}return e}function or(){var e,n,r;for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();if(n!==o&&(r=function(){var e,n,r,i,a,s,l,d,p,f;if(e=jn,n=jn,t.substr(jn,2)===Ue?(r=Ue,jn+=2):(r=o,0===Hn&&Kn(Be)),r!==o)if((i=fr())===o&&(He.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(qe))),i!==o){for(a=[],s=hr();s!==o;)a.push(s),s=hr();if(a!==o){if(s=[],l=jn,d=[],46===t.charCodeAt(jn)?(p=c,jn++):(p=o,0===Hn&&Kn(u)),p!==o)for(;p!==o;)d.push(p),46===t.charCodeAt(jn)?(p=c,jn++):(p=o,0===Hn&&Kn(u));else d=o;if(d!==o){if(p=[],(f=hr())!==o)for(;f!==o;)p.push(f),f=hr();else p=o;p!==o?l=d=[d,p]:(jn=l,l=o)}else jn=l,l=o;for(;l!==o;){if(s.push(l),l=jn,d=[],46===t.charCodeAt(jn)?(p=c,jn++):(p=o,0===Hn&&Kn(u)),p!==o)for(;p!==o;)d.push(p),46===t.charCodeAt(jn)?(p=c,jn++):(p=o,0===Hn&&Kn(u));else d=o;if(d!==o){if(p=[],(f=hr())!==o)for(;f!==o;)p.push(f),f=hr();else p=o;p!==o?l=d=[d,p]:(jn=l,l=o)}else jn=l,l=o}s!==o?n=r=[r,i,a,s]:(jn=n,n=o)}else jn=n,n=o}else jn=n,n=o;else jn=n,n=o;return n!==o?t.substring(e,jn):n}())!==o?(Mn=e,e=n=d(r)):(jn=e,e=o),e===o){for(e=jn,n=[],r=Qn();r!==o;)n.push(r),r=Qn();n!==o&&(r=function(){var e,n,r,i;if(e=jn,91===t.charCodeAt(jn)?(n=se,jn++):(n=o,0===Hn&&Kn(le)),n!==o){for(r=[],i=Qn();i!==o;)r.push(i),i=Qn();r!==o?(93===t.charCodeAt(jn)?(i=ce,jn++):(i=o,0===Hn&&Kn(ue)),i!==o?(Mn=e,e=n=un()):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;return e}())!==o?(Mn=e,e=n=d(r)):(jn=e,e=o)}return e}function ar(){var e,n,r,i;if(e=jn,60===t.charCodeAt(jn)?(n=Ae,jn++):(n=o,0===Hn&&Kn(Te)),n!==o){for(r=[],Pe.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(Oe)),i===o&&(i=ur());i!==o;)r.push(i),Pe.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(Oe)),i===o&&(i=ur());r!==o?(62===t.charCodeAt(jn)?(i=Ie,jn++):(i=o,0===Hn&&Kn(Ne)),i!==o?(Mn=e,e=n=Fe(r)):(jn=e,e=o)):(jn=e,e=o)}else jn=e,e=o;return e}function sr(){var e,n,r;return e=jn,(n=mr())===o&&(n=null),n!==o?(58===t.charCodeAt(jn)?(r=Le,jn++):(r=o,0===Hn&&Kn(Re)),r!==o?(Mn=e,e=n=je(n)):(jn=e,e=o)):(jn=e,e=o),e}function lr(){var e,n,r;return e=jn,(n=mr())===o&&(n=null),n!==o?(58===t.charCodeAt(jn)?(r=Le,jn++):(r=o,0===Hn&&Kn(Re)),r!==o?(Mn=e,e=n=Me(n)):(jn=e,e=o)):(jn=e,e=o),e}function cr(){var e,n,r,i,a,s;if(e=jn,n=jn,it.test(t.charAt(jn))?(r=t.charAt(jn),jn++):(r=o,0===Hn&&Kn(ot)),r!==o)if(Ze.test(t.charAt(jn))?(i=t.charAt(jn),jn++):(i=o,0===Hn&&Kn(et)),i===o&&(i=null),i!==o){if(a=[],He.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(qe)),s!==o)for(;s!==o;)a.push(s),He.test(t.charAt(jn))?(s=t.charAt(jn),jn++):(s=o,0===Hn&&Kn(qe));else a=o;a!==o?n=r=[r,i,a]:(jn=n,n=o)}else jn=n,n=o;else jn=n,n=o;return n!==o?t.substring(e,jn):n}function ur(){var e,n,r,i,a,s,l,c,u,d,p;return e=jn,t.substr(jn,2)===It?(n=It,jn+=2):(n=o,0===Hn&&Kn(Nt)),n!==o?(r=jn,(i=vr())!==o&&(a=vr())!==o&&(s=vr())!==o&&(l=vr())!==o&&(c=vr())!==o&&(u=vr())!==o&&(d=vr())!==o&&(p=vr())!==o?r=i=[i,a,s,l,c,u,d,p]:(jn=r,r=o),r!==o?(Mn=e,e=n=Ft(r)):(jn=e,e=o)):(jn=e,e=o),e===o&&(e=jn,t.substr(jn,2)===Lt?(n=Lt,jn+=2):(n=o,0===Hn&&Kn(Rt)),n!==o?(r=jn,(i=vr())!==o&&(a=vr())!==o&&(s=vr())!==o&&(l=vr())!==o?r=i=[i,a,s,l]:(jn=r,r=o),r!==o?(Mn=e,e=n=jt(r)):(jn=e,e=o)):(jn=e,e=o)),e}function dr(){var e,n;return e=jn,t.substr(jn,2)===Mt?(n=Mt,jn+=2):(n=o,0===Hn&&Kn(Dt)),n!==o&&(Mn=e,n=Ut()),(e=n)===o&&(e=jn,t.substr(jn,2)===Bt?(n=Bt,jn+=2):(n=o,0===Hn&&Kn(Ht)),n!==o&&(Mn=e,n=qt()),(e=n)===o&&(e=jn,t.substr(jn,2)===Wt?(n=Wt,jn+=2):(n=o,0===Hn&&Kn(zt)),n!==o&&(Mn=e,n=Vt()),(e=n)===o&&(e=jn,t.substr(jn,2)===$t?(n=$t,jn+=2):(n=o,0===Hn&&Kn(Kt)),n!==o&&(Mn=e,n=Gt()),(e=n)===o&&(e=jn,t.substr(jn,2)===Jt?(n=Jt,jn+=2):(n=o,0===Hn&&Kn(Qt)),n!==o&&(Mn=e,n=Yt()),(e=n)===o&&(e=jn,t.substr(jn,2)===Xt?(n=Xt,jn+=2):(n=o,0===Hn&&Kn(Zt)),n!==o&&(Mn=e,n=en()),(e=n)===o&&(e=jn,t.substr(jn,2)===tn?(n=tn,jn+=2):(n=o,0===Hn&&Kn(nn)),n!==o&&(Mn=e,n=rn()),(e=n)===o&&(e=jn,t.substr(jn,2)===on?(n=on,jn+=2):(n=o,0===Hn&&Kn(an)),n!==o&&(Mn=e,n=sn()),e=n))))))),e}function pr(){var e,n,r;return e=jn,dn.test(t.charAt(jn))?(n=t.charAt(jn),jn++):(n=o,0===Hn&&Kn(pn)),n!==o?(fn.test(t.charAt(jn))?(r=t.charAt(jn),jn++):(r=o,0===Hn&&Kn(hn)),r!==o?(Mn=e,e=n=mn(n,r)):(jn=e,e=o)):(jn=e,e=o),e===o&&(gn.test(t.charAt(jn))?(e=t.charAt(jn),jn++):(e=o,0===Hn&&Kn(vn))),e}function fr(){var e;return(e=pr())===o&&(95===t.charCodeAt(jn)?(e=yn,jn++):(e=o,0===Hn&&Kn(bn))),e}function hr(){var e;return(e=fr())===o&&(45===t.charCodeAt(jn)?(e=Ke,jn++):(e=o,0===Hn&&Kn(Ge)),e===o&&(He.test(t.charAt(jn))?(e=t.charAt(jn),jn++):(e=o,0===Hn&&Kn(qe)),e===o&&(183===t.charCodeAt(jn)?(e=wn,jn++):(e=o,0===Hn&&Kn(xn)),e===o&&(En.test(t.charAt(jn))?(e=t.charAt(jn),jn++):(e=o,0===Hn&&Kn(_n)),e===o&&(kn.test(t.charAt(jn))?(e=t.charAt(jn),jn++):(e=o,0===Hn&&Kn(Sn))))))),e}function mr(){var e,n,r,i,a,s,l,d,p;if(e=jn,n=jn,(r=pr())!==o){for(i=[],a=hr();a!==o;)i.push(a),a=hr();if(i!==o){if(a=[],s=jn,l=[],46===t.charCodeAt(jn)?(d=c,jn++):(d=o,0===Hn&&Kn(u)),d!==o)for(;d!==o;)l.push(d),46===t.charCodeAt(jn)?(d=c,jn++):(d=o,0===Hn&&Kn(u));else l=o;if(l!==o){if(d=[],(p=hr())!==o)for(;p!==o;)d.push(p),p=hr();else d=o;d!==o?s=l=[l,d]:(jn=s,s=o)}else jn=s,s=o;for(;s!==o;){if(a.push(s),s=jn,l=[],46===t.charCodeAt(jn)?(d=c,jn++):(d=o,0===Hn&&Kn(u)),d!==o)for(;d!==o;)l.push(d),46===t.charCodeAt(jn)?(d=c,jn++):(d=o,0===Hn&&Kn(u));else l=o;if(l!==o){if(d=[],(p=hr())!==o)for(;p!==o;)d.push(p),p=hr();else d=o;d!==o?s=l=[l,d]:(jn=s,s=o)}else jn=s,s=o}a!==o?n=r=[r,i,a]:(jn=n,n=o)}else jn=n,n=o}else jn=n,n=o;return n!==o?t.substring(e,jn):n}function gr(){var e;return(e=function(){var e,n,r,i,a;return e=jn,n=jn,37===t.charCodeAt(jn)?(r=Tn,jn++):(r=o,0===Hn&&Kn(Pn)),r!==o&&(i=vr())!==o&&(a=vr())!==o?n=r=[r,i,a]:(jn=n,n=o),n!==o?t.substring(e,jn):n}())===o&&(e=function(){var e,n,r;return e=jn,92===t.charCodeAt(jn)?(n=Nn,jn++):(n=o,0===Hn&&Kn(Fn)),n!==o?(Ln.test(t.charAt(jn))?(r=t.charAt(jn),jn++):(r=o,0===Hn&&Kn(Rn)),r!==o?(Mn=e,e=n=d(r)):(jn=e,e=o)):(jn=e,e=o),e}()),e}function vr(){var e;return On.test(t.charAt(jn))?(e=t.charAt(jn),jn++):(e=o,0===Hn&&Kn(In)),e}var yr=new Function("try {return this===window;}catch(e){ return false;}")()?window.URL:n(88835).URL,br=function(e){return e.match(/^[a-z](.*?):(.+?)/g)},wr={base:[],data:{},addBase:function(e){if(0===wr.base.length)return void wr.base.push(e);const t=wr.base[wr.base.length-1];t!==e&&wr.base.push(new yr(e,t).toString())},addPrefix:function(e,t){const n=wr.data[e];void 0===n?wr.data[e]=[{uri:t,count:0}]:n[n.length-1].uri!==t&&n.push({uri:t,count:0})},hasPrefix:function(e){return void 0!==this.data[e]},resolve:function(e,t){const n=Object.keys(wr.data).find((t=>0===e.indexOf(t+":")));if(void 0!==n){const r=wr.data[n];if(1===r.length&&!0!==t&&br(r[0].uri))return e;const i=r[r.length-1].uri;return e.replace(n+":",i)}var i=0===wr.base.length?r.baseIRI:wr.base[wr.base.length-1];return!i||e.match(/^(http:|https:|urn:|file:)/)?e:0===e.indexOf("//")&&i?i.split("//")[0]+e:new yr(e,i).toString()},increment:function(e){const t=wr.data[e];void 0!==t&&t[t.length-1].count++},decrement:function(e){const t=wr.data[e];void 0!==t&&t[t.length-1].count--},toJSON:function(){const e={};return wr.base.length>0&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"]["@base"]=wr.base[0]),Object.keys(wr.data).forEach((t=>{const n=wr.data[t][0];"http://www.w3.org/2001/XMLSchema#"===n.uri&&n.count<1||br(n.uri)&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"][t]=n.uri)})),e}};function xr(e,t){if(void 0===e["@list"])return e;if(!t&&!e["@list"].find((e=>void 0!==e["@list"])))return e;if(0===e["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var n={},r=null;return e["@list"].forEach((e=>{null===r?r=n:(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},r=r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),r["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=xr(e,!0),r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})),n}if((i=s())!==o&&jn===t.length)return i;throw i!==o&&jn<t.length&&Kn({type:"end"}),function(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}(Bn,Un<t.length?t.charAt(Un):null,Un<t.length?$n(Un,Un+1):$n(Un,Un))}}})?r.apply(t,[]):r)||(e.exports=i)},47330:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CordovaIFrameNavigator:()=>r.CordovaIFrameNavigator,CordovaPopupNavigator:()=>r.CordovaPopupNavigator,InMemoryWebStorage:()=>r.InMemoryWebStorage,Log:()=>r.Log,OidcClient:()=>r.OidcClient,SessionMonitor:()=>r.SessionMonitor,User:()=>r.User,UserManager:()=>r.UserManager,Version:()=>r.Version,WebStorageStateStore:()=>r.WebStorageStateStore,clearOidcPersistentStorage:()=>L,getBearerToken:()=>P,getDpopToken:()=>O,normalizeCallbackUrl:()=>F,refresh:()=>N,registerClient:()=>C});var r=n(76516);n(37007),globalThis.fetch;const{fetch:i,Response:o,Request:a,Headers:s}=globalThis;var l=n(9380),c=n(68136),u=n(37248),d=n(37307),p=n(25130);const f={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let h;const m=new Uint8Array(16);function g(){if(!h&&(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(m)}const v=[];for(let e=0;e<256;++e)v.push((e+256).toString(16).slice(1));const y=function(e,t,n){if(f.randomUUID&&!t&&!e)return f.randomUUID();const r=(e=e||{}).random||(e.rng||g)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return v[e[t+0]]+v[e[t+1]]+v[e[t+2]]+v[e[t+3]]+"-"+v[e[t+4]]+v[e[t+5]]+"-"+v[e[t+6]]+v[e[t+7]]+"-"+v[e[t+8]]+v[e[t+9]]+"-"+v[e[t+10]]+v[e[t+11]]+v[e[t+12]]+v[e[t+13]]+v[e[t+14]]+v[e[t+15]]}(r)},b=["ES256","RS256"],w=["openid","offline_access","webid"].join(" ");async function x(e,t,n,r){const o=await async function(e,t){const n=await i.call(globalThis,e);if(200!==n.status)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${n.status} ${n.statusText}`);let r;try{r=(await n.json()).keys[0]}catch(n){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${n.message}`)}return r}(t,n);let a;try{const{payload:t}=await(0,l.V)(e,await(0,c.Og)(o),{issuer:n,audience:r});a=t}catch(e){throw new Error(`Token verification failed: ${e.stack}`)}if("string"==typeof a.webid)return a.webid;if("string"!=typeof a.sub)throw new Error(`The token ${JSON.stringify(a)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(a.sub),a.sub}catch(e){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${a.sub}] is invalid as a URL - error [${e}].`)}}Error,Error;class E extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class _ extends Error{constructor(e,t,n){super(e),this.error=t,this.errorDescription=n}}function k(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function S(e,t,n){return new u.P({htu:k(e),htm:t.toUpperCase(),jti:y()}).setProtectedHeader({alg:b[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function C(e,t){var n;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=function(e,t){var n;return null!==(n=t.find((t=>e.includes(t))))&&void 0!==n?n:null}(t.idTokenSigningAlgValuesSupported,b),i={client_name:e.clientName,application_type:"web",redirect_uris:[null===(n=e.redirectUrl)||void 0===n?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(o.ok){const t=await o.json();return function(e,t){if(void 0===e.client_id)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}(t,e),{clientId:t.client_id,clientSecret:t.client_secret,idTokenSignedResponseAlg:t.id_token_signed_response_alg,clientType:"dynamic"}}throw 400===o.status&&function(e,t){var n,r,i,o;if("invalid_redirect_uri"===e.error)throw new Error(`Dynamic client registration failed: the provided redirect uri [${null===(n=t.redirectUrl)||void 0===n?void 0:n.toString()}] is invalid - ${null!==(r=e.error_description)&&void 0!==r?r:""}`);if("invalid_client_metadata"===e.error)throw new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${null!==(i=e.error_description)&&void 0!==i?i:""}`);throw new Error(`Dynamic client registration failed: ${e.error} - ${null!==(o=e.error_description)&&void 0!==o?o:""}`)}(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function A(e){return void 0!==e.error_description&&"string"==typeof e.error_description}function T(e,t){if(void 0!==(n=e).error&&"string"==typeof n.error)throw new _(`Token endpoint returned error [${e.error}]${A(e)?`: ${e.error_description}`:""}${function(e){return void 0!==e.error_uri&&"string"==typeof e.error_uri}(e)?` (see ${e.error_uri})`:""}`,e.error,A(e)?e.error_description:void 0);var n;if(!function(e){return void 0!==e.access_token&&"string"==typeof e.access_token}(e))throw new E(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"==typeof e.id_token}(e))throw new E(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"==typeof e.token_type}(e))throw new E(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"==typeof e.expires_in}(e))throw new E(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function P(e){let t;try{const n=new r.OidcClient({response_mode:"query",loadUserInfo:!1});if(t=await n.processSigninResponse(e),void 0===n.settings.metadata)throw new Error("Cannot retrieve issuer metadata from client information in storage.");if(void 0===n.settings.metadata.jwks_uri)throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(void 0===n.settings.metadata.issuer)throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(void 0===n.settings.client_id)throw new Error("Missing some client information in storage: 'client_id' is undefined");const i=await x(t.id_token,n.settings.metadata.jwks_uri,n.settings.metadata.issuer,n.settings.client_id);return{accessToken:t.access_token,idToken:t.id_token,webId:i,refreshToken:t.refresh_token}}catch(t){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${e}]: ${t}`)}}async function O(e,t,n){return async function(e,t,n,r){!function(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}(e,n);const o={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await async function(){const{privateKey:e,publicKey:t}=await(0,d.T)(b[0]),n={privateKey:e,publicKey:await(0,p.JU)(t)};return[n.publicKey.alg]=b,n}(),o.DPoP=await S(e.tokenEndpoint,"POST",a)),t.clientSecret&&(o.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const s={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},l={method:"POST",headers:o,body:new URLSearchParams(s).toString()},c=await i(e.tokenEndpoint,l),u=T(await c.json(),r),f=await x(u.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:u.access_token,idToken:u.id_token,refreshToken:(h=u,void 0!==h.refresh_token&&"string"==typeof h.refresh_token?u.refresh_token:void 0),webId:f,dpopKey:a,expiresIn:u.expires_in};var h}(e,t,n,!0)}const I=e=>{try{return new URL(e),!0}catch(e){return!1}};async function N(e,t,n,r){if(void 0===n.clientId)throw new Error("No client ID available when trying to refresh the access token.");const o={grant_type:"refresh_token",refresh_token:e,scope:w};let a={};void 0!==r&&(a={DPoP:await S(t.tokenEndpoint,"POST",r)});let s={};void 0!==n.clientSecret?s={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:I(n.clientId)&&(o.client_id=n.clientId);const l=await i(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(o).toString(),headers:{...a,...s,"Content-Type":"application/x-www-form-urlencoded"}});let c;try{c=await l.json()}catch(e){throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const u=T(c,void 0!==r),d=await x(u.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:u.access_token,idToken:u.id_token,refreshToken:"string"==typeof u.refresh_token?u.refresh_token:void 0,webId:d,dpopKey:r,expiresIn:u.expires_in}}function F(e){const t=function(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function L(){const e=new r.OidcClient({response_mode:"query"});await e.clearStaleState(new r.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let e=0;e<=t.length;e+=1){const r=t.key(e);r&&(r.match(/^oidc\..+$/)||r.match(/^solidClientAuthenticationUser:.+$/))&&n.push(r)}n.forEach((e=>t.removeItem(e)))}},76516:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,o=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(o,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(o,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(o,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(o,Array.from(t))}},r(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},o=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){a=e},r(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(7),a=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var n=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},n,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},r(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(a)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=a))),this._metadataUrl}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var r=n(0),i=n(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=n.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var a,s={},l=/([^&=]+)=([^&]*)/g,c=0;a=l.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),c++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var u in s)return s;return{}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n(33));t.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(23),s=n(6),l=n(24),c=n(2),u=".well-known/openid-configuration";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,i=t.metadataUrl,o=t.metadata,u=t.signingKeys,d=t.metadataSeed,p=t.client_id,f=t.client_secret,h=t.response_type,m=void 0===h?"id_token":h,g=t.scope,v=void 0===g?"openid":g,y=t.redirect_uri,b=t.post_logout_redirect_uri,w=t.client_authentication,x=void 0===w?"client_secret_post":w,E=t.prompt,_=t.display,k=t.max_age,S=t.ui_locales,C=t.acr_values,A=t.resource,T=t.response_mode,P=t.filterProtocolClaims,O=void 0===P||P,I=t.loadUserInfo,N=void 0===I||I,F=t.staleStateAge,L=void 0===F?900:F,R=t.clockSkew,j=void 0===R?300:R,M=t.clockService,D=void 0===M?new a.ClockService:M,U=t.userInfoJwtIssuer,B=void 0===U?"OP":U,H=t.mergeClaims,q=void 0!==H&&H,W=t.stateStore,z=void 0===W?new s.WebStorageStateStore:W,V=t.ResponseValidatorCtor,$=void 0===V?l.ResponseValidator:V,K=t.MetadataServiceCtor,G=void 0===K?c.MetadataService:K,J=t.extraQueryParams,Q=void 0===J?{}:J,Y=t.extraTokenParams,X=void 0===Y?{}:Y;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._authority=n,this._metadataUrl=i,this._metadata=o,this._metadataSeed=d,this._signingKeys=u,this._client_id=p,this._client_secret=f,this._response_type=m,this._scope=v,this._redirect_uri=y,this._post_logout_redirect_uri=b,this._client_authentication=x,this._prompt=E,this._display=_,this._max_age=k,this._ui_locales=S,this._acr_values=C,this._resource=A,this._response_mode=T,this._filterProtocolClaims=!!O,this._loadUserInfo=!!N,this._staleStateAge=L,this._clockSkew=j,this._clockService=D,this._userInfoJwtIssuer=B,this._mergeClaims=!!q,this._stateStore=z,this._validator=new $(this),this._metadataService=new G(this),this._extraQueryParams="object"===(void 0===Q?"undefined":r(Q))?Q:{},this._extraTokenParams="object"===(void 0===X?"undefined":r(X))?X:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(u)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=u)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var r=n(0),i=n(1);t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"oidc.":n,o=t.store,a=void 0===o?i.Global.localStorage:o;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._store=a,this._prefix=r}return e.prototype.set=function(e,t){return r.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){r.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){r.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var r=n(0),i=n(1);t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,o){var a=new n._XMLHttpRequest;a.open("GET",e);var s=n._contentTypes,l=n._jwtHandler;a.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var n=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==n)return void l(a).then(i,o);if(n)try{return void i(JSON.parse(a.responseText))}catch(e){return r.Log.error("JsonService.getJson: Error parsing JSON response",e.message),void o(e)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){r.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,n){var i=this;if(!e)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",e),new Promise((function(o,a){var s=new i._XMLHttpRequest;s.open("POST",e);var l=i._contentTypes;s.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(n=s.getResponseHeader("Content-Type"))&&l.find((function(e){if(n.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return r.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(e){return r.Log.error("JsonService.postForm: Error parsing JSON response",e.message),void a(e)}a(Error(s.statusText+" ("+s.status+")"))}else{var n;if((n=s.getResponseHeader("Content-Type"))&&l.find((function(e){if(n.startsWith(e))return!0})))try{return void o(JSON.parse(s.responseText))}catch(e){return r.Log.error("JsonService.postForm: Error parsing JSON response",e.message),void a(e)}a(Error("Invalid response Content-Type: "+n+", from URL: "+e))}},s.onerror=function(){r.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var c="";for(var u in t){var d=t[u];d&&(c.length>0&&(c+="&"),c+=encodeURIComponent(u),c+="=",c+=encodeURIComponent(d))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==n&&s.setRequestHeader("Authorization","Basic "+btoa(n)),s.send(c)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var r=n(0),i=n(3),o=n(13);t.SigninRequest=function(){function e(t){var n=t.url,a=t.client_id,s=t.redirect_uri,l=t.response_type,c=t.scope,u=t.authority,d=t.data,p=t.prompt,f=t.display,h=t.max_age,m=t.ui_locales,g=t.id_token_hint,v=t.login_hint,y=t.acr_values,b=t.resource,w=t.response_mode,x=t.request,E=t.request_uri,_=t.extraQueryParams,k=t.request_type,S=t.client_secret,C=t.extraTokenParams,A=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!l)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!u)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var T=e.isOidc(l),P=e.isCode(l);w||(w=e.isCode(l)?"query":null),this.state=new o.SigninState({nonce:T,data:d,client_id:a,authority:u,redirect_uri:s,code_verifier:P,request_type:k,response_mode:w,client_secret:S,scope:c,extraTokenParams:C,skipUserInfo:A}),n=i.UrlUtility.addQueryParam(n,"client_id",a),n=i.UrlUtility.addQueryParam(n,"redirect_uri",s),n=i.UrlUtility.addQueryParam(n,"response_type",l),n=i.UrlUtility.addQueryParam(n,"scope",c),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),T&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),P&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var O={prompt:p,display:f,max_age:h,ui_locales:m,id_token_hint:g,login_hint:v,acr_values:y,resource:b,request:x,request_uri:E,response_mode:w};for(var I in O)O[I]&&(n=i.UrlUtility.addQueryParam(n,I,O[I]));for(var N in _)n=i.UrlUtility.addQueryParam(n,N,_[N]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.data,i=t.created,a=t.request_type;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._id=n||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=a}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then((function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var o=[],a=function(a){var s=n[a];l=t.get(s).then((function(n){var o=!1;if(n)try{var a=e.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=r&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),o.push(l)},s=0;s<n.length;s++){var l;a(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},r(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(5),a=n(12),s=n(8),l=n(34),c=n(35),u=n(36),d=n(13),p=n(9);t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t instanceof o.OidcClientSettings?this._settings=t:this._settings=new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,o=t.redirect_uri,a=t.data,l=t.state,c=t.prompt,u=t.display,d=t.max_age,p=t.ui_locales,f=t.id_token_hint,h=t.login_hint,m=t.acr_values,g=t.resource,v=t.request,y=t.request_uri,b=t.response_mode,w=t.extraQueryParams,x=t.extraTokenParams,E=t.request_type,_=t.skipUserInfo,k=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var S=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,u=u||this._settings.display,d=d||this._settings.max_age,p=p||this._settings.ui_locales,m=m||this._settings.acr_values,g=g||this._settings.resource,b=b||this._settings.response_mode,w=w||this._settings.extraQueryParams,x=x||this._settings.extraTokenParams;var C=this._settings.authority;return s.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var A=new s.SigninRequest({url:t,client_id:S,redirect_uri:o,response_type:n,scope:r,data:a||l,authority:C,prompt:c,display:u,max_age:d,ui_locales:p,id_token_hint:f,login_hint:h,acr_values:m,resource:g,request:v,request_uri:y,extraQueryParams:w,extraTokenParams:x,request_type:E,response_mode:b,client_secret:e._settings.client_secret,skipUserInfo:_}),T=A.state;return(k=k||e._stateStore).set(T.id,T.toStorageString()).then((function(){return A}))}))},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type)?"?":"#",o=new l.SigninResponse(e,r);return o.state?(t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(o.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.SigninState.fromStorageString(e),response:o}}))):(i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},e.prototype.processSigninResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,o=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,l=t.request_type,u=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var d=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:a,data:r||o,extraQueryParams:s,request_type:l}),p=d.state;return p&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(u=u||e._stateStore).set(p.id,p.toStorageString())),d}))},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new u.SignoutResponse(e);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new a.ErrorResponse(r))):Promise.resolve({state:void 0,response:r});var o=r.state;return t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(o).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:p.State.fromStorageString(e),response:r}}))},e.prototype.processSignoutResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,p.State.clearStaleState(e,this.settings.staleStateAge)},r(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var r=n(7),i=n(2),o=n(0);t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new a(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=r?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(0);t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.error,o=n.error_description,a=n.error_uri,s=n.state,l=n.session_state;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!i)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o||i));return c.name="ErrorResponse",c.error=i,c.error_description=o,c.error_uri=a,c.state=s,c.session_state=l,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(9),a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,o=n.client_id,l=n.redirect_uri,c=n.code_verifier,u=n.response_mode,d=n.client_secret,p=n.scope,f=n.extraTokenParams,h=n.skipUserInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));if(!0===r?m._nonce=(0,s.default)():r&&(m._nonce=r),!0===c?m._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():c&&(m._code_verifier=c),m.code_verifier){var g=a.JoseUtil.hashString(m.code_verifier,"SHA256");m._code_challenge=a.JoseUtil.hexToBase64Url(g)}return m._redirect_uri=l,m._authority=i,m._client_id=o,m._response_mode=u,m._client_secret=d,m._scope=p,m._extraTokenParams=f,m._skipUserInfo=h,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?i:o)().replace(/-/g,"")};var r="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^r.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.User=function(){function e(t){var n=t.id_token,r=t.session_state,i=t.access_token,o=t.refresh_token,a=t.token_type,s=t.scope,l=t.profile,c=t.expires_at,u=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=o,this.token_type=a,this.scope=s,this.profile=l,this.expires_at=c,this.state=u}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var r=n(0),i=n(46);t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,r=void 0===n?60:n,o=t.accessTokenExpiringTimer,a=void 0===o?new i.Timer("Access token expiring"):o,s=t.accessTokenExpiredTimer,l=void 0===s?new i.Timer("Access token expired"):s;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=a,this._accessTokenExpired=l}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(19),a=n(1);t.SessionMonitor=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=r,this._timer=s,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?n._start(e):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),n._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,o=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,o,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(n)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var n={session_state:t.session_state};t.sub&&t.sid&&(n.profile={sub:t.sub,sid:t.sid}),e._start(n)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},r(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var r=n(0);t.CheckSessionIFrame=function(){function e(t,n,r,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._callback=t,this._client_id=n,this._url=r,this._interval=i||2e3,this._stopOnError=o;var a=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,a),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=r}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var r=n(0),i=n(2),o=n(1);t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new a(this._settings)}return e.prototype.revoke=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==i&&"refresh_token"!=i)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){r.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=n._settings.client_id,s=n._settings.client_secret;return n._revoke(o,a,s,e,i)}if(t)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,n,i,o){var a=this;return new Promise((function(s,l){var c=new a._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?s():l(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),l("Network Error")};var u="client_id="+encodeURIComponent(t);n&&(u+="&client_secret="+encodeURIComponent(n)),u+="&token_type_hint="+encodeURIComponent(o),u+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(u)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.CordovaPopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(10),o=n(5),a=n(6),s=n(37),l=n(38),c=n(16),u=n(2),d=n(48),p=n(49),f=n(19),h=n(20),m=n(18),g=n(1),v=n(15),y=n(50);t.default={Version:y.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:u.MetadataService,CordovaPopupNavigator:d.CordovaPopupNavigator,CordovaIFrameNavigator:p.CordovaIFrameNavigator,CheckSessionIFrame:f.CheckSessionIFrame,TokenRevocationClient:h.TokenRevocationClient,SessionMonitor:m.SessionMonitor,Global:g.Global,User:v.User},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),o=n(2),a=n(25),s=n(11),l=n(12),c=n(4),u=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=l,this._tokenClient=new u(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=n._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];n[i]?Array.isArray(n[i])?n[i].indexOf(s)<0&&n[i].push(s):n[i]!==s&&("object"===(void 0===s?"undefined":r(s))&&this._settings.mergeClaims?n[i]=this._mergeClaims(n[i],s):n[i]=[n[i],s]):n[i]=s}}return n},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(u.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===r(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(r){for(var o in r)t[o]=r[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){var o=e.client_id,a=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),n._settings.getEpochTime().then((function(s){return n._joseUtil.validateJwtAttributes(t.id_token,r,o,a,s).then((function(n){return e.nonce&&e.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then((function(e){return n._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(n){var r=e.header.kid;if(!n)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(r)o=n.filter((function(e){return e.kid===r}))[0];else{if((n=t._filterByAlg(n,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=n[0]}return Promise.resolve(o)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(n){return n?Promise.resolve(n):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);return r&&r.header&&r.payload?e.nonce!==r.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._getSigningKeyForJwtWithSingleRetry(r).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,l=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",l),n._joseUtil.validateJwt(t.id_token,a,o,s,l).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var o="sha"+r,a=this._joseUtil.hashString(e.access_token,o);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),l=this._joseUtil.hexToBase64Url(s);return l!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",l,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var r=n(7),i=n(2),o=n(0),a=n(4);t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new s(this._settings),this._joseUtil=l}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(n){return o.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then((function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var n=this;try{var r=this._joseUtil.parseJwt(t.responseText);if(!r||!r.header||!r.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(r.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),n._metadataService.getSigningKeys().then((function(a){if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=a.filter((function(e){return e.kid===i}))[0];else{if((a=n._filterByAlg(a,r.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var l=n._settings.client_id,c=n._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.responseText,s,e,l,c,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload}))}))}))}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n(27);t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,o,a,s,l,c,u,d,p,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h={userAgent:!1},m={},g=g||(n=Math,i=(r={}).lib={},o=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new a.init(t,e)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,o=this.blockSize,s=i/(4*o),l=(s=e?n.ceil(s):n.max((0|s)-this._minBufferSize,0))*o,c=n.min(4*l,i);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(r,u);var d=r.splice(0,l);t.sigBytes-=c}return new a.init(d,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),p=r.algo={},r);!function(e){var t,n=(t=g).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=g,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<a%4*2,l=r.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=g,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var u;e:{u=l;for(var d=e.sqrt(u),p=2;p<=d;p++)if(!(u%p)){u=!1;break e}u=!0}u&&(8>c&&(o[c]=s(e.pow(l,.5))),a[c]=s(e.pow(l,1/3)),c++),l++}var f=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],p=0;64>p;p++){if(16>p)f[p]=0|e[t+p];else{var h=f[p-15],m=f[p-2];f[p]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+f[p-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+f[p-16]}h=d+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&u)+a[p]+f[p],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),d=u,u=c,c=l,l=s+h|0,s=o,o=i,i=r,r=h+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+u|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=g,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],l=0;80>l;l++)s[l]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(d=this._hash.words)[0],r=d[1],i=d[2],o=d[3],l=d[4],c=d[5],u=d[6],d=d[7],p=n.high,f=n.low,h=r.high,m=r.low,g=i.high,v=i.low,y=o.high,b=o.low,w=l.high,x=l.low,E=c.high,_=c.low,k=u.high,S=u.low,C=d.high,A=d.low,T=p,P=f,O=h,I=m,N=g,F=v,L=y,R=b,j=w,M=x,D=E,U=_,B=k,H=S,q=C,W=A,z=0;80>z;z++){var V=s[z];if(16>z)var $=V.high=0|e[t+2*z],K=V.low=0|e[t+2*z+1];else{$=((K=($=s[z-15]).high)>>>1|(G=$.low)<<31)^(K>>>8|G<<24)^K>>>7;var G=(G>>>1|K<<31)^(G>>>8|K<<24)^(G>>>7|K<<25),J=((K=(J=s[z-2]).high)>>>19|(Q=J.low)<<13)^(K<<3|Q>>>29)^K>>>6,Q=(Q>>>19|K<<13)^(Q<<3|K>>>29)^(Q>>>6|K<<26),Y=(K=s[z-7]).high,X=(Z=s[z-16]).high,Z=Z.low;$=($=($=$+Y+((K=G+K.low)>>>0<G>>>0?1:0))+J+((K+=Q)>>>0<Q>>>0?1:0))+X+((K+=Z)>>>0<Z>>>0?1:0),V.high=$,V.low=K}Y=j&D^~j&B,Z=M&U^~M&H,V=T&O^T&N^O&N;var ee=P&I^P&F^I&F,te=(G=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),J=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),(Q=a[z]).high),ne=Q.low;X=q+((j>>>14|M<<18)^(j>>>18|M<<14)^(j<<23|M>>>9))+((Q=W+((M>>>14|j<<18)^(M>>>18|j<<14)^(M<<23|j>>>9)))>>>0<W>>>0?1:0),q=B,W=H,B=D,H=U,D=j,U=M,j=L+(X=(X=(X=X+Y+((Q+=Z)>>>0<Z>>>0?1:0))+te+((Q+=ne)>>>0<ne>>>0?1:0))+$+((Q+=K)>>>0<K>>>0?1:0))+((M=R+Q|0)>>>0<R>>>0?1:0)|0,L=N,R=F,N=O,F=I,O=T,I=P,T=X+(V=G+V+((K=J+ee)>>>0<J>>>0?1:0))+((P=Q+K|0)>>>0<Q>>>0?1:0)|0}f=n.low=f+P,n.high=p+T+(f>>>0<P>>>0?1:0),m=r.low=m+I,r.high=h+O+(m>>>0<I>>>0?1:0),v=i.low=v+F,i.high=g+N+(v>>>0<F>>>0?1:0),b=o.low=b+R,o.high=y+L+(b>>>0<R>>>0?1:0),x=l.low=x+M,l.high=w+j+(x>>>0<M>>>0?1:0),_=c.low=_+U,c.high=E+D+(_>>>0<U>>>0?1:0),S=u.low=S+H,u.high=k+B+(S>>>0<H>>>0?1:0),A=d.low=A+W,d.high=C+q+(A>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=g,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();var v,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=y.charAt(n>>6)+y.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=y.charAt(n>>2)+y.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function w(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=y.indexOf(e.charAt(t)))<0||(0==o?(i+=A(r>>2),n=3&r,o=1):1==o?(i+=A(n<<2|r>>4),n=15&r,o=2):2==o?(i+=A(n),i+=A(r>>2),n=3&r,o=3):(i+=A(n<<2|r>>4),i+=A(15&r),o=0));return 1==o&&(i+=A(n<<2)),i}function x(e){var t,n=w(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function E(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function _(){return new E(null)}"Microsoft Internet Explorer"==h.appName?(E.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;i=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*c+(i>>>30),n[r++]=1073741823&l}return i},v=30):"Netscape"!=h.appName?(E.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},v=26):(E.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;i=((l=a*l+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return i},v=28),E.prototype.DB=v,E.prototype.DM=(1<<v)-1,E.prototype.DV=1<<v,E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-v,E.prototype.F2=2*v-52;var k,S,C=new Array;for(k="0".charCodeAt(0),S=0;S<=9;++S)C[k++]=S;for(k="a".charCodeAt(0),S=10;S<36;++S)C[k++]=S;for(k="A".charCodeAt(0),S=10;S<36;++S)C[k++]=S;function A(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var n=C[e.charCodeAt(t)];return null==n?-1:n}function P(e){var t=_();return t.fromInt(e),t}function O(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e}function N(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e,t){return e&t}function L(e,t){return e|t}function R(e,t){return e^t}function j(e,t){return e&~t}function M(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function D(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function U(){}function B(e){return e}function H(e){this.r2=_(),this.q3=_(),E.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},N.prototype.convert=function(e){var t=_();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(E.ZERO)>0&&this.m.subTo(t,t),t},N.prototype.revert=function(e){var t=_();return e.copyTo(t),this.reduce(t),t},N.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},N.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},N.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},E.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},E.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},E.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=8==n?255&e[r]:T(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},E.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},E.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},E.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},E.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},E.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},E.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&E.ZERO.subTo(t,t)},E.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},E.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=_());var o=_(),a=this.s,s=e.s,l=this.DB-O(r[r.t-1]);l>0?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,u=o[c-1];if(0!=u){var d=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),p=this.FV/d,f=(1<<this.F1)/d,h=1<<this.F2,m=n.t,g=m-c,v=null==t?_():t;for(o.dlShiftTo(g,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),E.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--g>=0;){var y=n[--m]==u?this.DM:Math.floor(n[m]*p+(n[m-1]+h)*f);if((n[m]+=o.am(0,y,n,g,0,c))<y)for(o.dlShiftTo(g,v),n.subTo(v,n);n[m]<--y;)n.subTo(v,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&E.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&E.ZERO.subTo(n,n)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(e,t){if(e>4294967295||e<1)return E.ONE;var n=_(),r=_(),i=t.convert(this),o=O(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},E.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=A(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=A(n));return i?o:"0"},E.prototype.negate=function(){var e=_();return E.ZERO.subTo(this,e),e},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(e){var t=_();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(E.ZERO)>0&&e.subTo(t,t),t},E.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new I(t):new N(t),this.exp(e,n)},E.ZERO=P(0),E.ONE=P(1),U.prototype.convert=B,U.prototype.revert=B,U.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},U.prototype.sqrTo=function(e,t){e.squareTo(t)},H.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=_();return e.copyTo(t),this.reduce(t),t},H.prototype.revert=function(e){return e},H.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},H.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var q,W,z,V=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$=(1<<26)/V[V.length-1];function K(){this.i=0,this.j=0,this.S=new Array}function G(){!function(e){W[z++]^=255&e,W[z++]^=e>>8&255,W[z++]^=e>>16&255,W[z++]^=e>>24&255,z>=256&&(z-=256)}((new Date).getTime())}if(E.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},E.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=P(n),i=_(),o=_(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(e)+a},E.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,a=0,s=0;s<e.length;++s){var l=T(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(E.ONE.shiftLeft(e-1),L,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(E.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},E.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},E.prototype.changeBit=function(e,t){var n=E.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},E.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},E.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},E.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},E.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},E.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},E.prototype.millerRabin=function(e){var t=this.subtract(E.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>V.length&&(e=V.length);for(var i=_(),o=0;o<e;++o){i.fromInt(V[Math.floor(Math.random()*V.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(E.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},E.prototype.clone=function(){var e=_();return this.copyTo(e),e},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},E.prototype.equals=function(e){return 0==this.compareTo(e)},E.prototype.min=function(e){return this.compareTo(e)<0?this:e},E.prototype.max=function(e){return this.compareTo(e)>0?this:e},E.prototype.and=function(e){var t=_();return this.bitwiseTo(e,F,t),t},E.prototype.or=function(e){var t=_();return this.bitwiseTo(e,L,t),t},E.prototype.xor=function(e){var t=_();return this.bitwiseTo(e,R,t),t},E.prototype.andNot=function(e){var t=_();return this.bitwiseTo(e,j,t),t},E.prototype.not=function(){for(var e=_(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},E.prototype.shiftLeft=function(e){var t=_();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},E.prototype.shiftRight=function(e){var t=_();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},E.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+M(this[e]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=D(this[n]^t);return e},E.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},E.prototype.setBit=function(e){return this.changeBit(e,L)},E.prototype.clearBit=function(e){return this.changeBit(e,j)},E.prototype.flipBit=function(e){return this.changeBit(e,R)},E.prototype.add=function(e){var t=_();return this.addTo(e,t),t},E.prototype.subtract=function(e){var t=_();return this.subTo(e,t),t},E.prototype.multiply=function(e){var t=_();return this.multiplyTo(e,t),t},E.prototype.divide=function(e){var t=_();return this.divRemTo(e,t,null),t},E.prototype.remainder=function(e){var t=_();return this.divRemTo(e,null,t),t},E.prototype.divideAndRemainder=function(e){var t=_(),n=_();return this.divRemTo(e,t,n),new Array(t,n)},E.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=P(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new I(t):t.isEven()?new H(t):new N(t);var a=new Array,s=3,l=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),n>1){var u=_();for(r.sqrTo(a[1],u);s<=c;)a[s]=_(),r.mulTo(u,a[s-2],a[s]),s+=2}var d,p,f=e.t-1,h=!0,m=_();for(i=O(e[f])-1;f>=0;){for(i>=l?d=e[f]>>i-l&c:(d=(e[f]&(1<<i+1)-1)<<l-i,f>0&&(d|=e[f-1]>>this.DB+i-l)),s=n;0==(1&d);)d>>=1,--s;if((i-=s)<0&&(i+=this.DB,--f),h)a[d].copyTo(o),h=!1;else{for(;s>1;)r.sqrTo(o,m),r.sqrTo(m,o),s-=2;s>0?r.sqrTo(o,m):(p=o,o=m,m=p),r.mulTo(m,a[d],o)}for(;f>=0&&0==(e[f]&1<<i);)r.sqrTo(o,m),p=o,o=m,m=p,--i<0&&(i=this.DB-1,--f)}return r.revert(o)},E.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return E.ZERO;for(var n=e.clone(),r=this.clone(),i=P(1),o=P(0),a=P(0),s=P(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),o.subTo(s,o)):(r.subTo(n,r),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=r.compareTo(E.ONE)?E.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},E.prototype.pow=function(e){return this.exp(e,new U)},E.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},E.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=V[V.length-1]){for(t=0;t<V.length;++t)if(n[0]==V[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<V.length;){for(var r=V[t],i=t+1;i<V.length&&r<$;)r*=V[i++];for(r=n.modInt(r);t<i;)if(r%V[t++]==0)return!1}return n.millerRabin(e)},E.prototype.square=function(){var e=_();return this.squareTo(e),e},K.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},K.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==W){var J;if(W=new Array,z=0,void 0!==m&&(void 0!==m.crypto||void 0!==m.msCrypto)){var Q=m.crypto||m.msCrypto;if(Q.getRandomValues){var Y=new Uint8Array(32);for(Q.getRandomValues(Y),J=0;J<32;++J)W[z++]=Y[J]}else if("Netscape"==h.appName&&h.appVersion<"5"){var X=m.crypto.random(32);for(J=0;J<X.length;++J)W[z++]=255&X.charCodeAt(J)}}for(;z<256;)J=Math.floor(65536*Math.random()),W[z++]=J>>>8,W[z++]=255&J;z=0,G()}function Z(){if(null==q){for(G(),(q=new K).init(W),z=0;z<W.length;++z)W[z]=0;z=0}return q.next()}function ee(){}function te(e,t){return new E(e,t)}function ne(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function re(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t){this.x=t,this.q=e}function oe(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?E.ONE:r,this.zinv=null}function ae(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Z()},re.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},re.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},re.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new ee,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new E(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},re.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=le.crypto.MessageDigest,o=le.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return Ee(o.hashHex(_e(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,l="";for(s=0;s<t-e.length-2*r-2;s+=1)l+="\0";var c=n("")+l+""+e,u=new Array(r);(new ee).nextBytes(u);var d=ne(u,c.length,n),p=[];for(s=0;s<c.length;s+=1)p[s]=c.charCodeAt(s)^d.charCodeAt(s);var f=ne(p,u.length,n),h=[0];for(s=0;s<u.length;s+=1)h[s+1]=u[s]^f.charCodeAt(s);return new E(h.concat(p))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},re.prototype.type="RSA",ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ie.prototype.toBigInteger=function(){return this.x},ie.prototype.negate=function(){return new ie(this.q,this.x.negate().mod(this.q))},ie.prototype.add=function(e){return new ie(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ie.prototype.subtract=function(e){return new ie(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ie.prototype.multiply=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ie.prototype.square=function(){return new ie(this.q,this.x.square().mod(this.q))},ie.prototype.divide=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(E.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(E.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(E.ZERO.equals(n))return E.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new E("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=a.multiply(n),l=i.multiply(a),c=t.square().multiply(this.z),u=c.subtract(l.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),d=l.multiply(r).multiply(t).subtract(o.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),p=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(d),p)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new E("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);E.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),l=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(l),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new E("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new E("3")),l=new oe(this.curve,this.x,this.y),c=l.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var u=r.testBit(t);u!=n.testBit(t)&&(o=o.add(u?this:i))}for(t=s.bitLength()-2;t>0;--t){l=l.twice();var d=s.testBit(t);d!=a.testBit(t)&&(l=l.add(d?l:c))}return o},oe.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new ie(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new E(n,16)),this.fromBigInteger(new E(r,16)))}},ie.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},oe.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new E(r),a=new E(i);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(a))},oe.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new E(r,16),a=new E(i,16);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(a))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(E.valueOf(2)),t=this.curve.fromBigInteger(E.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new E("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var a=r.testBit(t);a!=n.testBit(t)&&(o=o.add2D(a?this:i))}return o},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(a)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(E.ONE)<0||t.compareTo(e.subtract(E.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(E.ONE)<0||n.compareTo(e.subtract(E.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var se=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,a){var s,l,c=n.match(e),u=c[0],d=!1;"{"===u?s={}:"["===u?s=[]:(s=[],d=!0);for(var p=[s],h=1-d,m=c.length;h<m;++h){var g;switch((u=c[h]).charCodeAt(0)){default:(g=p[0])[l||g.length]=+u,l=void 0;break;case 34:if(-1!==(u=u.substring(1,u.length-1)).indexOf("\\")&&(u=u.replace(t,r)),g=p[0],!l){if(!(g instanceof Array)){l=u||i;break}l=g.length}g[l]=u,l=void 0;break;case 91:g=p[0],p.unshift(g[l||g.length]=[]),l=void 0;break;case 93:case 125:p.shift();break;case 102:(g=p[0])[l||g.length]=!1,l=void 0;break;case 110:(g=p[0])[l||g.length]=null,l=void 0;break;case 116:(g=p[0])[l||g.length]=!0,l=void 0;break;case 123:g=p[0],p.unshift(g[l||g.length]={}),l=void 0}}if(d){if(1!==p.length)throw new Error;s=s[0]}else if(p.length)throw new Error;return a&&(s=function e(t,n){var r=t[n];if(r&&"object"===(void 0===r?"undefined":f(r))){var i=null;for(var s in r)if(o.call(r,s)&&r!==t){var l=e(r,s);void 0!==l?r[s]=l:(i||(i=[]),i.push(s))}if(i)for(var c=i.length;--c>=0;)delete r[i[c]]}return a.call(t,n,r)}({"":s},"")),s}}();void 0!==le&&le||(t.KJUR=le={}),void 0!==le.asn1&&le.asn1||(le.asn1={}),le.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new E(r,16).xor(e).add(E.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Ae(e,t)},this.newObject=function(e){var t=le.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,l=t.DERObjectIdentifier,c=t.DEREnumerated,u=t.DERUTF8String,d=t.DERNumericString,p=t.DERPrintableString,f=t.DERTeletexString,h=t.DERIA5String,m=t.DERUTCTime,g=t.DERGeneralizedTime,v=t.DERVisibleString,y=t.DERBMPString,b=t.DERSequence,w=t.DERSet,x=t.DERTaggedObject,E=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var _=Object.keys(e);if(1!=_.length)throw new Error("key of param shall be only one.");var k=_[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+k+":"))throw new Error("undefined key: "+k);if("bool"==k)return new r(e[k]);if("int"==k)return new i(e[k]);if("bitstr"==k)return new o(e[k]);if("octstr"==k)return new a(e[k]);if("null"==k)return new s(e[k]);if("oid"==k)return new l(e[k]);if("enum"==k)return new c(e[k]);if("utf8str"==k)return new u(e[k]);if("numstr"==k)return new d(e[k]);if("prnstr"==k)return new p(e[k]);if("telstr"==k)return new f(e[k]);if("ia5str"==k)return new h(e[k]);if("utctime"==k)return new m(e[k]);if("gentime"==k)return new g(e[k]);if("visstr"==k)return new v(e[k]);if("bmpstr"==k)return new y(e[k]);if("asn1"==k)return new n(e[k]);if("seq"==k){for(var S=e[k],C=[],A=0;A<S.length;A++){var T=E(S[A]);C.push(T)}return new b({array:C})}if("set"==k){for(S=e[k],C=[],A=0;A<S.length;A++)T=E(S[A]),C.push(T);return new w({array:C})}if("tag"==k){var P=e[k];if("[object Array]"===Object.prototype.toString.call(P)&&3==P.length){var O=E(P[2]);return new x({tag:P[0],explicit:P[1],obj:O})}return new x(P)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},le.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new E(r,2).toString(10),r="")}return t},le.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new E(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},le.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},le.asn1.DERAbstractString=function(e){le.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=we(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},He(le.asn1.DERAbstractString,le.asn1.ASN1Object),le.asn1.DERAbstractTime=function(e){le.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var l=r(String(s),3);a=a+"."+(l=l.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=me(e)},this.setByDateValue=function(e,t,n,r,i,o){var a=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},He(le.asn1.DERAbstractTime,le.asn1.ASN1Object),le.asn1.DERAbstractStructured=function(e){le.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},He(le.asn1.DERAbstractStructured,le.asn1.ASN1Object),le.asn1.DERBoolean=function(e){le.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},He(le.asn1.DERBoolean,le.asn1.ASN1Object),le.asn1.DERInteger=function(e){le.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=le.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new E(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},He(le.asn1.DERInteger,le.asn1.ASN1Object),le.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=le.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}le.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},He(le.asn1.DERBitString,le.asn1.ASN1Object),le.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=le.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}le.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},He(le.asn1.DEROctetString,le.asn1.DERAbstractString),le.asn1.DERNull=function(){le.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},He(le.asn1.DERNull,le.asn1.ASN1Object),le.asn1.DERObjectIdentifier=function(e){le.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=le.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},He(le.asn1.DERObjectIdentifier,le.asn1.ASN1Object),le.asn1.DEREnumerated=function(e){le.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=le.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new E(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},He(le.asn1.DEREnumerated,le.asn1.ASN1Object),le.asn1.DERUTF8String=function(e){le.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},He(le.asn1.DERUTF8String,le.asn1.DERAbstractString),le.asn1.DERNumericString=function(e){le.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},He(le.asn1.DERNumericString,le.asn1.DERAbstractString),le.asn1.DERPrintableString=function(e){le.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},He(le.asn1.DERPrintableString,le.asn1.DERAbstractString),le.asn1.DERTeletexString=function(e){le.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},He(le.asn1.DERTeletexString,le.asn1.DERAbstractString),le.asn1.DERIA5String=function(e){le.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},He(le.asn1.DERIA5String,le.asn1.DERAbstractString),le.asn1.DERVisibleString=function(e){le.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},He(le.asn1.DERVisibleString,le.asn1.DERAbstractString),le.asn1.DERBMPString=function(e){le.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},He(le.asn1.DERBMPString,le.asn1.DERAbstractString),le.asn1.DERUTCTime=function(e){le.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},He(le.asn1.DERUTCTime,le.asn1.DERAbstractTime),le.asn1.DERGeneralizedTime=function(e){le.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},He(le.asn1.DERGeneralizedTime,le.asn1.DERAbstractTime),le.asn1.DERSequence=function(e){le.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},He(le.asn1.DERSequence,le.asn1.DERAbstractStructured),le.asn1.DERSet=function(e){le.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},He(le.asn1.DERSet,le.asn1.DERAbstractStructured),le.asn1.DERTaggedObject=function(e){le.asn1.DERTaggedObject.superclass.constructor.call(this);var t=le.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==f(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},He(le.asn1.DERTaggedObject,le.asn1.ASN1Object);var le,ce,ue,de=new function(){};function pe(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function fe(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function he(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function me(e){return he(pe(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ve(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ye(e){return e.length%2==1&&(e="0"+e),ge(b(e))}function be(e){return w(ve(e))}function we(e){return Ie(Me(e))}function xe(e){return decodeURIComponent(Ne(e))}function Ee(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function _e(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function ke(e){return b(e)}function Se(e){return ke(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Ce(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ae(e,t){return"-----BEGIN "+t+"-----\r\n"+Se(e)+"\r\n-----END "+t+"-----\r\n"}function Te(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ce(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pe(e){var t,n,r,i,o,a,s,l,c,u,d;if(d=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=d[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(d[2])-1,r=parseInt(d[3]),i=parseInt(d[4]),o=parseInt(d[5]),a=parseInt(d[6]),s=0,""!==(c=d[7])&&(u=(c.substr(1)+"00").substr(0,3),s=parseInt(u)),Date.UTC(t,n,r,i,o,a,s);throw"unsupported zulu format: "+e}function Oe(e){return~~(Pe(e)/1e3)}function Ie(e){return e.replace(/%/g,"")}function Ne(e){return e.replace(/(..)/g,"%$1")}function Fe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Le(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function Re(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Le(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function je(e){return e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return xe((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return xe((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))})).join("")}function Me(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+me(t[r]);return n}function De(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Ue(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},de.getL=function(e,t){var n=de.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},de.getVblen=function(e,t){var n;return""==(n=de.getL(e,t))?-1:("8"===n.substr(0,1)?new E(n.substr(2),16):new E(n,16)).intValue()},de.getVidx=function(e,t){var n=de.getLblen(e,t);return n<0?n:t+2*(n+1)},de.getV=function(e,t){var n=de.getVidx(e,t),r=de.getVblen(e,t);return e.substr(n,2*r)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var n,r,i,o=de,a=[];n=o.getVidx(e,t),r=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var l=o.getTLVblen(e,s);if((i+=l)<=r&&a.push(s),s+=l,i>=r)break}return a},de.getNthChildIdx=function(e,t,n){return de.getChildIdx(e,t)[n]},de.getIdxbyList=function(e,t,n,r){var i,o,a=de;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],n,r)},de.getIdxbyListEx=function(e,t,n,r){var i,o,a=de;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),o=a.getChildIdx(e,t);for(var s=0,l=0;l<o.length;l++){var c=e.substr(o[l],2);if("number"==typeof i&&!a.isContextTag(c)&&s==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,o[l],n,r);a.isContextTag(c)||s++}return-1},de.getTLVbyList=function(e,t,n,r){var i=de,o=i.getIdxbyList(e,t,n,r);return-1==o||o>=e.length?null:i.getTLV(e,o)},de.getTLVbyListEx=function(e,t,n,r){var i=de,o=i.getIdxbyListEx(e,t,n,r);return-1==o?null:i.getTLV(e,o)},de.getVbyList=function(e,t,n,r,i){var o,a,s=de;return-1==(o=s.getIdxbyList(e,t,n,r))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},de.getVbyListEx=function(e,t,n,r,i){var o,a,s=de;return-1==(o=s.getIdxbyListEx(e,t,n,r))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},de.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=de.getV(e,t);return"02"==r?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16),r=e.substr(2),i=parseInt(r,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-n),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return n}},de.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:function(e){if(!De(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],l="";for(a=0;a<o.length;a++)128&o[a]?l+=Be((127&o[a]).toString(2),7):(l+=Be((127&o[a]).toString(2),7),s.push(new String(parseInt(l,2))),l="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}(de.getV(e,t))}catch(e){return n}},de.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=de.getOID(e,t,n);if(r==n)return n;var i=le.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},de.getString=function(e,t,n){null==n&&(n=null);try{return Ee(de.getV(e,t))}catch(e){return n}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var l=[],c="";for(s=0;s<a.length;s++)128&a[s]?c+=t((127&a[s]).toString(2),7):(c+=t((127&a[s]).toString(2),7),l.push(new String(parseInt(c,2))),c="");var u=n.join(".");return l.length>0&&(u=u+"."+l.join(".")),u},de.dump=function(e,t,n,r){var i=de,o=i.getV,a=i.dump,s=i.getChildIdx,l=e;e instanceof le.asn1.ASN1Object&&(l=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var u,d=t.ommit_long_octet;if("01"==(u=l.substr(n,2)))return"00"==(p=o(l,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==u)return r+"INTEGER "+c(p=o(l,n),d)+"\n";if("03"==u){var p=o(l,n);return i.isASN1HEX(p.substr(2))?(x=r+"BITSTRING, encapsulates\n")+a(p.substr(2),t,0,r+"  "):r+"BITSTRING "+c(p,d)+"\n"}if("04"==u)return p=o(l,n),i.isASN1HEX(p)?(x=r+"OCTETSTRING, encapsulates\n")+a(p,t,0,r+"  "):r+"OCTETSTRING "+c(p,d)+"\n";if("05"==u)return r+"NULL\n";if("06"==u){var f=o(l,n),h=le.asn1.ASN1Util.oidHexToInt(f),m=le.asn1.x509.OID.oid2name(h),g=h.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==u)return r+"ENUMERATED "+parseInt(o(l,n))+"\n";if("0c"==u)return r+"UTF8String '"+xe(o(l,n))+"'\n";if("13"==u)return r+"PrintableString '"+xe(o(l,n))+"'\n";if("14"==u)return r+"TeletexString '"+xe(o(l,n))+"'\n";if("16"==u)return r+"IA5String '"+xe(o(l,n))+"'\n";if("17"==u)return r+"UTCTime "+xe(o(l,n))+"\n";if("18"==u)return r+"GeneralizedTime "+xe(o(l,n))+"\n";if("1a"==u)return r+"VisualString '"+xe(o(l,n))+"'\n";if("1e"==u)return r+"BMPString '"+je(o(l,n))+"'\n";if("30"==u){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";x=r+"SEQUENCE\n";var v=t;if((2==(w=s(l,n)).length||3==w.length)&&"06"==l.substr(w[0],2)&&"04"==l.substr(w[w.length-1],2)){m=i.oidname(o(l,w[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=m,v=y}for(var b=0;b<w.length;b++)x+=a(l,v,w[b],r+"  ");return x}if("31"==u){x=r+"SET\n";var w=s(l,n);for(b=0;b<w.length;b++)x+=a(l,t,w[b],r+"  ");return x}if(0!=(128&(u=parseInt(u,16)))){var x,E=31&u;if(0!=(32&u)){for(x=r+"["+E+"]\n",w=s(l,n),b=0;b<w.length;b++)x+=a(l,t,w[b],r+"  ");return x}return p=o(l,n),de.isASN1HEX(p)?(x=r+"["+E+"]\n")+a(p,t,0,r+"  "):(("68747470"==p.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==E)&&(p=xe(p)),r+"["+E+"] "+p+"\n")}return r+"UNKNOWN("+u+") "+o(l,n)+"\n"},de.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},de.checkStrictDER=function(e,t,n,r,i){var o=de;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!le.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>r)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),l=s.length-2-o.getL(e,t).length;if(l!==2*a)throw new Error("V string length and L's value not the same:"+l+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var u=o.getVidx(e,t);if("00"==e.substr(u,2)&&e.charCodeAt(u+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var d=o.getVblen(e,t),p=0,f=o.getChildIdx(e,t),h=0;h<f.length;h++)p+=o.getTLV(e,f[h]).length,o.checkStrictDER(e,f[h],n,r,i);if(2*d!=p)throw new Error("sum of children's TLV length and L unmatch: "+2*d+"!="+p)}},de.oidname=function(e){var t=le.asn1;le.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.lang&&le.lang||(le.lang={}),le.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=ce=function(t){return ge(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=ue=function(t){return e.from(ve(t),"base64").toString("utf8")}):(t.utf8tob64u=ce=function(e){return ye(Ie(Me(e)))},t.b64utoutf8=ue=function(e){return decodeURIComponent(Ne(be(e)))}),le.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},le.lang.String.isHex=function(e){return De(e)},le.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},le.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ve(e),le.lang.String.isBase64(e))},le.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},le.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},le.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},le.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function He(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="00"+r,a="",s=i-4-o.length,l=0;l<s;l+=2)a+="ff";return"0001"+a+o},this.hashString=function(e,t){return new le.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new le.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof re||e instanceof le.crypto.DSA||e instanceof le.crypto.ECDSA}},le.crypto.Util.md5=function(e){return new le.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},le.crypto.Util.ripemd160=function(e){return new le.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},le.crypto.Util.SECURERANDOMGEN=new ee,le.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return le.crypto.Util.SECURERANDOMGEN.nextBytes(t),he(t)},le.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new E(le.crypto.Util.getRandomHexOfNbytes(e),16)},le.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return le.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],he(n)},le.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new E(le.crypto.Util.getRandomHexOfNbits(e),16)},le.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=le.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},le.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return le.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},le.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=le.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=le.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=le.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},le.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},le.crypto.MessageDigest.getHashLength=function(e){var t=le.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},le.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},le.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=le.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=le.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=g.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=_e(e)),void(this.pass=g.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":f(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=we(e.utf8)),void 0!==e.rstr&&(t=_e(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=g.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},le.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new le.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?qe.getKey(e):qe.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==le.crypto.ECDSA&&(this.prvKey=new le.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof re&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof le.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof le.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==le.crypto.ECDSA&&(this.pubKey=new le.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof re&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==le.crypto.ECDSA&&this.pubKey instanceof le.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==le.crypto.DSA&&this.pubKey instanceof le.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=qe.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},le.crypto.Cipher=function(e){},le.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof re&&t.isPublic){var r=le.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},le.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof re&&t.isPrivate){var r=le.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},le.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof re){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},le.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.ECDSA=function(e){var t=Error,n=E,r=oe,i=le.crypto.ECDSA,o=le.crypto.ECParameterDB,a=i.getName,s=de,l=s.getVbyListEx,c=s.isASN1HEX,u=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),u).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=o.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),o=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-o),s="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),o=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(o),l=this.ecparams.G.multiply(s).getX().toBigInteger().mod(o)}while(l.compareTo(n.ZERO)<=0);var c=s.modInverse(o).multiply(a.add(r.multiply(l))).mod(o);return i.biRSSigToASN1Sig(l,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(E.ZERO)<=0);var l=a.modInverse(i).multiply(o.add(r.multiply(s))).mod(i);return this.serializeSig(s,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,o){try{var a,s,l=i.parseSigHex(t);a=l.r,s=l.s;var c=r.decodeFromHex(this.ecparams.curve,o),u=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(u,a,s,c)}catch(e){return!1}},this.verify=function(e,t,i){var o,a,s;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);o=l.r,a=l.s}else{if("object"!==(void 0===t?"undefined":f(t))||!t.r||!t.s)throw"Invalid value for signature";o=t.r,a=t.s}if(i instanceof oe)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=r.decodeFrom(this.ecparams.curve,i)}var c=n.fromByteArrayUnsigned(e);return this.verifyRaw(c,o,a,s)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var s=r.modInverse(o),l=e.multiply(s).mod(o),c=t.multiply(s).mod(o);return a.multiply(l).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=l(e,0,["[0]",0],"06"),n=l(e,0,[1],"04");try{r=l(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r,i;try{l(e,0,[1,0],"06"),n=l(e,0,[1,1],"06"),r=l(e,0,[2,0,1],"04");try{i=l(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r;try{l(e,0,[0,0],"06"),n=l(e,0,[0,1],"06"),r=l(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===c(e))throw new t("not ASN.1 hex string");var r,i;try{r=l(e,0,[0,5,0,1],"06"),i=l(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},le.crypto.ECDSA.parseSigHex=function(e){var t=le.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new E(t.r,16),s:new E(t.s,16)}},le.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,o),s:r(e,a)}},le.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=le.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},le.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return le.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},le.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new E(e,16),r=new E(t,16);return le.crypto.ECDSA.biRSSigToASN1Sig(n,r)},le.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=le.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},le.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new E(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,a,s,l,c,u,d,p,f,h){e[r]={};var m=n(o),g=n(a),v=n(s),y=n(l),b=n(c),w=new ae(m,g,v),x=w.decodePointHex("04"+u+d);e[r].name=r,e[r].keylen=i,e[r].curve=w,e[r].G=x,e[r].n=y,e[r].h=b,e[r].oid=f,e[r].info=h;for(var E=0;E<p.length;E++)t[p[E]]=r}},le.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),le.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),le.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),le.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),le.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),le.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),le.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),le.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),le.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),le.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var qe=function(){var e=function(e,n,r){return t(g.AES,e,n,r)},t=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),a=g.enc.Hex.parse(r),s={};s.key=o,s.iv=a,s.ciphertext=i;var l=e.decrypt(s,o,{iv:a});return g.enc.Hex.stringify(l)},n=function(e,t,n){return r(g.AES,e,t,n)},r=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),a=g.enc.Hex.parse(r),s=e.encrypt(i,o,{iv:a}),l=g.enc.Hex.parse(s.toString());return g.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(g.TripleDES,e,n,r)},eproc:function(e,t,n){return r(g.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(g.DES,e,n,r)},eproc:function(e,t,n){return r(g.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,n){for(var r=n.substring(0,16),o=g.enc.Hex.parse(r),a=g.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,l="",c=null;;){var u=g.algo.MD5.create();if(null!=c&&u.update(c),u.update(a),u.update(o),c=u.finalize(),(l+=g.enc.Hex.stringify(c)).length>=2*s)break}var d={};return d.keyhex=l.substr(0,2*i[e].keylen),d.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),d},s=function(e,t,n,r){var o=g.enc.Base64.parse(e),a=g.enc.Hex.stringify(o);return(0,i[t].proc)(a,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,r){return s(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,l=n.data,c=a(r,t,i).keyhex;return s(l,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var s="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);void 0!==o&&null!=o||(o=function(e){var t=g.lib.WordArray.random(e);return g.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var l=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,a(r,n,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+r+","+o+"\r\n",s+="\r\n",(s+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+o.length);i.ciphertext=r(e,o[1]);var a=n(e,o[0]);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+a.length);if("2a864886f70d01050d"!=r(e,a[0]))throw new Error("this only supports pkcs5PBES2");var s=n(e,a[1]);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var l=n(e,s[1]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length);if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var c=n(e,s[0]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length);if("2a864886f70d01050c"!=r(e,c[0]))throw new Error("this only supports pkcs5PBKDF2");var u=n(e,c[1]);if(u.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+u.length);i.pbkdf2Salt=r(e,u[0]);var d=r(e,u[1]);try{i.pbkdf2Iter=parseInt(d,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+d)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=g.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=g.PBKDF2(t,n,{keySize:6,iterations:r});return g.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Te(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=qe.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=g.enc.Hex.parse(r.ciphertext);var a=g.enc.Hex.parse(i),s=g.enc.Hex.parse(r.encryptionSchemeIV),l=g.TripleDES.decrypt(o,a,{iv:s});return g.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=n(e,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var a=n(e,o[1]);if(2!=a.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=r(e,a[1])),"04"!=e.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Te(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new re;else if("2a8648ce380401"==n.algoid)t=new le.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new le.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new re;else if("2a8648ce380401"===n)t=new le.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new le.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=n(e,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var a=o[0];if("30"!=e.substr(a,2))throw new Error("malformed PKCS8 public key(code:001)");var s=n(e,a);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,o[1]).substr(2),i}}}();function We(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function ze(e,t,n){for(var r="",i=0;r.length<t;)r+=Ee(n(_e(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Ve(e){for(var t in le.crypto.Util.DIGESTINFOHEAD){var n=le.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function $e(e){var t,n=de,r=n.getChildIdx,i=n.getV,o=n.getTLV,a=n.getVbyList,s=n.getVbyListEx,l=n.getTLVbyList,c=n.getTLVbyListEx,u=n.getIdxbyList,d=n.getIdxbyListEx,p=n.getVidx,f=n.getInt,h=n.oidname,m=n.hextooidstr,g=Te;try{t=le.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=l(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=l(e,0,[0]),n=f(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return h(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return l(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return l(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return n.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return u(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return qe.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=l(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=l(this.hex,0,[0],"30"),i=new le.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=u(s,0,[0,7,0],"30"),o=r(s,t)}else{s=Te(e);var l=u(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,l))return void(this.aExtInfo=new Array);t=u(s,0,[0,3,0,1,0],"30"),o=r(s,t),this.hex=s}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var d={critical:!1},f=0;3===r(s,o[c]).length&&(d.critical=!0,f=1),d.oid=n.hextooidstr(a(s,o[c],[0],"06"));var h=u(s,o[c],[1+f]);d.vidx=p(s,h),this.aExtInfo.push(d)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=le.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("keyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push($e.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var a=i(e,0);return r.kid={hex:a},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++){var c=e.substr(s[l],2);if("80"===c&&(a.kid={hex:i(e,s[l])}),"a1"===c){var u=o(e,s[l]),d=this.getGeneralNames(u);a.issuer=d[0].dn}"82"===c&&(a.sn={hex:i(e,s[l])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++)a.array.push(h(i(e,s[l])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=o(this.hex,e.vidx);if(""===n)return t;for(var a=r(n,0),s=0;s<a.length;s++)t.push(h(i(n,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&n.push(a)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=Ee(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Re(n)}:"a4"==t?{dn:this.getX500Name(n)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,l=o(this.hex,a.vidx),c=r(l,0),u=0;u<c.length;u++)n=l.substr(c[u],2),e=i(l,c[u]),"81"===n&&(t=xe(e),s.push(["MAIL",t])),"82"===n&&(t=xe(e),s.push(["DNS",t])),"84"===n&&(t=$e.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=xe(e),s.push(["URI",t])),"87"===n&&(t=Re(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var l=o(e,a[s]);i.array.push(this.getDistributionPoint(l))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=r(this.hex,e.vidx),i=0;i<n.length;i++)try{var o=xe(a(this.hex,n[i],[0,0,0],"86"));t.push(o)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var o=a(this.hex,n[i],[0],"06"),s=a(this.hex,n[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(xe(s)),"2b06010505073002"===o&&t.caissuer.push(xe(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var l=r(e,0),c=0;c<l.length;c++){var u=s(e,l[c],[0],"06"),d=xe(a(e,l[c],[1],"86"));if("2b06010505073001"==u)i.array.push({ocsp:d});else{if("2b06010505073002"!=u)throw new Error("unknown method: "+u);i.array.push({caissuer:d})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var l=o(e,a[s]),c=this.getPolicyInformation(l);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=a(e,0,[0],"06");t.policyoid=h(n);var i=d(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=r(e,i),l=0;l<s.length;l++){var c=o(e,s[l]),u=this.getPolicyQualifierInfo(c);t.array.push(u)}}return t},this.getPolicyQualifierInfo=function(e){var t={},n=a(e,0,[0],"06");if("2b06010505070201"===n){var r=s(e,0,[1],"16");t.cps=Ee(r)}else if("2b06010505070202"===n){var i=l(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Ee(i(e,0)),t},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=r(e,0);if(a.length>1){var s=o(e,a[1]),l=this.getGeneralName(s);null!=l.uri&&(i.uri=l.uri)}if(a.length>2){var c=o(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var a=n[r],s=a.ds,l=a.value,c=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(le.lang.String.isMail(l))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getRDN(o(e,n[i])));return t},this.getRDN=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getAttrTypeAndValue(o(e,n[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},n=r(e,0),i=a(e,n[0],[],"06"),o=a(e,n[1],[]),s=le.asn1.ASN1Util.oidHexToInt(i);return t.type=le.asn1.x509.OID.oid2atype(s),t.ds=this.HEX2STAG[e.substr(n[1],2)],"bmp"!=t.ds?t.value=xe(o):t.value=je(o),t},this.readCertPEM=function(e){this.readCertHex(g(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{u(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Ae(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=d(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=m(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==l(e,0,[1])&&(i=!0);var o=l(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==n?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==n?s=this.getExtKeyUsage(o,i):"2.5.29.17"==n?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==n?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==n?s=this.getExtBasicConstraints(o,i):"2.5.29.31"==n?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==n?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==n?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==n?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==n?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==n?s=this.getExtCRLNumber(o,i):"2.5.29.21"==n?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==n?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==n?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==n&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var c={extname:n,extn:o};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.getInfo=function(){var e,t,n,r=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+$e.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ue(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ue(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var l=n[s],c=le.asn1.x509.OID.oid2name(l.oid);""===c&&(c=l.oid);var u="";if(!0===l.critical&&(u="CRITICAL"),e+="  "+c+" "+u+":\n","basicConstraints"===c){var d=this.getExtBasicConstraints();void 0===d.cA?e+="    {}\n":(e+="    cA=true",void 0!==d.pathLen&&(e+=", pathLen="+d.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var p=this.getExtAuthorityKeyIdentifier();void 0!==p.kid&&(e+="    kid="+p.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):le.lang.String.isHex(e)&&this.readCertHex(e))}qe.getKey=function(e,t,n){var r,i=(v=de).getChildIdx,o=(v.getV,v.getVbyList),a=le.crypto,s=a.ECDSA,l=a.DSA,c=re,u=Te,d=qe;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new c).setPublic(e.n,e.e),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(P=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(P=new c).setPrivate(e.n,e.e,e.d),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(P=new l).setPublic(e.p,e.q,e.g,e.y),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(P=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new c).setPublic(be(e.n),be(e.e)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(P=new c).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(P=new c).setPrivate(be(e.n),be(e.e),be(e.d)),P;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var p=(T=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+be(e.x)).slice(-p)+("0000000000"+be(e.y)).slice(-p);return T.setPublicKeyHex(f),T}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){p=(T=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+be(e.x)).slice(-p)+("0000000000"+be(e.y)).slice(-p);var h=("0000000000"+be(e.d)).slice(-p);return T.setPublicKeyHex(f),T.setPrivateKeyHex(h),T}if("pkcs5prv"===n){var m,g=e,v=de;if(9===(m=i(g,0)).length)(P=new c).readPKCS5PrvKeyHex(g);else if(6===m.length)(P=new l).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(P=new s).readPKCS5PrvKeyHex(g)}return P}if("pkcs8prv"===n)return d.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return d._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return $e.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return $e.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var y=Te(e,"PUBLIC KEY");return d._getKeyFromPublicPKCS8Hex(y)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=u(e,"RSA PRIVATE KEY");return d.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=o(r=u(e,"DSA PRIVATE KEY"),0,[1],"02"),x=o(r,0,[2],"02"),_=o(r,0,[3],"02"),k=o(r,0,[4],"02"),S=o(r,0,[5],"02");return(P=new l).setPrivate(new E(w,16),new E(x,16),new E(_,16),new E(k,16),new E(S,16)),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=u(e,"EC PRIVATE KEY"),d.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return d.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var C=d.getDecryptedKeyHex(e,t),A=new re;return A.readPKCS5PrvKeyHex(C),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T,P=o(r=d.getDecryptedKeyHex(e,t),0,[1],"04"),O=o(r,0,[2,0],"06"),I=o(r,0,[3,0],"03").substr(2);if(void 0===le.crypto.OID.oidhex2name[O])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+O);return(T=new s({curve:le.crypto.OID.oidhex2name[O]})).setPublicKeyHex(I),T.setPrivateKeyHex(P),T.isPublic=!1,T}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=o(r=d.getDecryptedKeyHex(e,t),0,[1],"02"),x=o(r,0,[2],"02"),_=o(r,0,[3],"02"),k=o(r,0,[4],"02"),S=o(r,0,[5],"02"),(P=new l).setPrivate(new E(w,16),new E(x,16),new E(_,16),new E(k,16),new E(S,16)),P;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return d.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},qe.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new re).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new re,i=a.n.toString(16),o=a.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}if("EC"==e){var a,s,l=t,c=new le.crypto.ECDSA({curve:l}).generateKeyPairHex();return(a=new le.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new le.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}throw new Error("unknown algorithm: "+e)},qe.getPEM=function(e,t,n,r,i,o){var a=le,s=a.asn1,l=s.DERObjectIdentifier,c=s.DERInteger,u=s.ASN1Util.newObject,d=s.x509.SubjectPublicKeyInfo,p=a.crypto,f=p.DSA,h=p.ECDSA,m=re;function v(e){return u({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function y(e){return u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return u({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==m&&e instanceof m||void 0!==f&&e instanceof f||void 0!==h&&e instanceof h)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Ae(_=new d(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==m&&e instanceof m&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate){var w=new l({name:e.curveName}).getEncodedHex(),x=y(e).getEncodedHex(),E="";return(E+=Ae(w,"EC PARAMETERS"))+Ae(x,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=b(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==m&&e instanceof m&&void 0!==n&&null!=n&&1==e.isPrivate){var _=v(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",_,n,r,o)}if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return _=y(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",_,n,r,o);if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return _=b(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",_,n,r,o);var k=function(e,t){var n=S(e,t);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},S=function(e,t){var n=g.lib.WordArray.random(8),r=g.lib.WordArray.random(8),i=g.PBKDF2(t,n,{keySize:6,iterations:100}),o=g.enc.Hex.parse(e),a=g.TripleDES.encrypt(o,i,{iv:r})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=g.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=g.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&null!=m&&e instanceof m&&1==e.isPrivate){var C=v(e).getEncodedHex();return _=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(x=k(_,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return C=new u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),_=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(x=k(_,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return C=new c({bigint:e.x}).getEncodedHex(),_=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(x=k(_,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},qe.getKeyFromCSRPEM=function(e){var t=Te(e,"CERTIFICATE REQUEST");return qe.getKeyFromCSRHex(t)},qe.getKeyFromCSRHex=function(e){var t=qe.parseCSRHex(e);return qe.getKey(t.p8pubkeyhex,null,"pkcs8pub")},qe.parseCSRHex=function(e){var t=de,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var a=n(o,0);if(a.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(a[0],2))throw new Error("malformed CSR(code:003)");var s=n(o,a[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(o,s[2]),i},qe.getKeyID=function(e){var t=qe,n=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Te(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return le.crypto.Util.hashHex(o,"sha1")},qe.getJWKFromKey=function(e){var t={};if(e instanceof re&&e.isPrivate)return t.kty="RSA",t.n=ye(e.n.toString(16)),t.e=ye(e.e.toString(16)),t.d=ye(e.d.toString(16)),t.p=ye(e.p.toString(16)),t.q=ye(e.q.toString(16)),t.dp=ye(e.dmp1.toString(16)),t.dq=ye(e.dmq1.toString(16)),t.qi=ye(e.coeff.toString(16)),t;if(e instanceof re&&e.isPublic)return t.kty="RSA",t.n=ye(e.n.toString(16)),t.e=ye(e.e.toString(16)),t;if(e instanceof le.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw new Error("unsupported curve name for JWT: "+r);var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=ye(n.x),t.y=ye(n.y),t.d=ye(e.prvKeyHex),t}if(e instanceof le.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw new Error("unsupported curve name for JWT: "+r);return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=ye(n.x),t.y=ye(n.y),t}throw new Error("not supported key object")},re.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},re.getHexValueArrayOfChildrenFromHex=function(e){var t,n=de.getV,r=n(e,(t=re.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),a=n(e,t[3]),s=n(e,t[4]),l=n(e,t[5]),c=n(e,t[6]),u=n(e,t[7]),d=n(e,t[8]);return(t=new Array).push(r,i,o,a,s,l,c,u,d),t},re.prototype.readPrivateKeyFromPEMString=function(e){var t=Te(e),n=re.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},re.prototype.readPKCS5PrvKeyHex=function(e){var t=re.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},re.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,a,s,l,c=de,u=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=u(e,0,[2,0,1],"02"),n=u(e,0,[2,0,2],"02"),r=u(e,0,[2,0,3],"02"),i=u(e,0,[2,0,4],"02"),o=u(e,0,[2,0,5],"02"),a=u(e,0,[2,0,6],"02"),s=u(e,0,[2,0,7],"02"),l=u(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,o,a,s,l)},re.prototype.readPKCS5PubKeyHex=function(e){var t=de,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},re.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},re.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new $e).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},new RegExp("[^0-9a-f]","gi"),re.prototype.sign=function(e,t){var n=function(e){return le.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},re.prototype.signWithMessageHash=function(e,t){var n=te(le.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return We(this.doPrivate(n).toString(16),this.n.bitLength())},re.prototype.signPSS=function(e,t,n){var r=function(e){return le.crypto.Util.hashHex(e,t)}(_e(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},re.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=Ee(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),l=function(e){return le.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=s-o-2;else if(n<-2)throw new Error("invalid salt length");if(s<o+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var u=Ee(l(_e("\0\0\0\0\0\0\0\0"+i+c))),d=[];for(r=0;r<s-n-o-2;r+=1)d[r]=0;var p=String.fromCharCode.apply(String,d)+""+c,f=ze(u,p.length,l),h=[];for(r=0;r<p.length;r+=1)h[r]=p.charCodeAt(r)^f.charCodeAt(r);var m=65280>>8*s-a&255;for(h[0]&=~m,r=0;r<o;r++)h.push(u.charCodeAt(r));return h.push(188),We(this.doPrivate(new E(h)).toString(16),this.n.bitLength())},re.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=te(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var o=Ve(i.replace(/^1f+00/,""));if(0==o.length)return!1;var a=o[0];return o[1]==function(e){return le.crypto.Util.hashString(e,a)}(e)},re.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=te(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ve(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},re.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return le.crypto.Util.hashHex(e,n)}(_e(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},re.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new E(t,16),a=function(e){return le.crypto.Util.hashHex(e,n)},s=Ee(e),l=s.length,c=this.n.bitLength()-1,u=Math.ceil(c/8);if(-1===r||void 0===r)r=l;else if(-2===r)r=u-l-2;else if(r<-2)throw new Error("invalid salt length");if(u<l+r+2)throw new Error("data too long");var d=this.doPublic(o).toByteArray();for(i=0;i<d.length;i+=1)d[i]&=255;for(;d.length<u;)d.unshift(0);if(188!==d[u-1])throw new Error("encoded message does not end in 0xbc");var p=(d=String.fromCharCode.apply(String,d)).substr(0,u-l-1),f=d.substr(p.length,l),h=65280>>8*u-c&255;if(0!=(p.charCodeAt(0)&h))throw new Error("bits beyond keysize not zero");var m=ze(f,p.length,a),g=[];for(i=0;i<p.length;i+=1)g[i]=p.charCodeAt(i)^m.charCodeAt(i);g[0]&=~h;var v=u-l-r-2;for(i=0;i<v;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[v])throw new Error("0x01 marker not found");return f===Ee(a(_e("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,g.slice(-r)))))},re.SALT_LEN_HLEN=-1,re.SALT_LEN_MAX=-2,re.SALT_LEN_RECOVER=-2,$e.hex2dn=function(e,t){void 0===t&&(t=0);var n=new $e;return de.getTLV(e,t),n.getX500Name(e).str},$e.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=de.getChildIdx(e,t),i=0;i<r.length;i++)n.push($e.hex2attrTypeValue(e,r[i]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},$e.hex2attrTypeValue=function(e,t){var n=de,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),a=le.asn1.ASN1Util.oidHexToInt(o);return le.asn1.x509.OID.oid2atype(a)+"="+Ee(r(e,i[1]))},$e.getPublicKeyFromCertHex=function(e){var t=new $e;return t.readCertHex(e),t.getPublicKey()},$e.getPublicKeyFromCertPEM=function(e){var t=new $e;return t.readCertPEM(e),t.getPublicKey()},$e.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=de.getVbyList,i={algparam:null};return(t=new $e).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},$e.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==le&&le||(t.KJUR=le={}),void 0!==le.jws&&le.jws||(le.jws={}),le.jws.JWS=function(){var e=le.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],a=r[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!n){var l=be(a),c=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=c}var u=ue(i),d=ue(o);if(this.parsedJWS.headS=u,this.parsedJWS.payloadS=d,!e(u,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+u}}},le.jws.JWS.sign=function(e,t,n,r,i){var o,a,s,l=le,c=l.jws.JWS,u=c.readSafeJSONString,d=c.isSafeJSONString,p=l.crypto,h=(p.ECDSA,p.Mac),m=p.Signature,g=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":f(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":f(t))&&(a=t,o=g.stringify(a)),"string"==typeof t){if(!d(o=t))throw"JWS Head is not safe JSON string: "+o;a=u(o)}if(s=n,"object"==(void 0===n?"undefined":f(n))&&(s=g.stringify(n)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,o=g.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var v=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=c.jwsalg2sigalg[e];var y=ce(o)+"."+ce(s),b="";if("Hmac"==v.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var w=new h({alg:v,prov:"cryptojs",pass:r});w.updateString(y),b=w.doFinal()}else if(-1!=v.indexOf("withECDSA")){(E=new m({alg:v})).init(r,i),E.updateString(y);var x=E.sign();b=le.crypto.ECDSA.asn1SigToConcatSig(x)}else{var E;"none"!=v&&((E=new m({alg:v})).init(r,i),E.updateString(y),b=E.sign())}return y+"."+ye(b)},le.jws.JWS.verify=function(e,t,n){var r,i=le,o=i.jws.JWS,a=o.readSafeJSONString,s=i.crypto,l=s.ECDSA,c=s.Mac,u=s.Signature;void 0!==f(re)&&(r=re);var d=e.split(".");if(3!==d.length)return!1;var p,h=d[0]+"."+d[1],m=be(d[2]),g=a(ue(d[0])),v=null;if(void 0===g.alg)throw"algorithm not specified in header";if(p=(v=g.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=qe.getKey(t)),!("RS"!=p&&"PS"!=p||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==p&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===o.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+v;if("none"==(y=o.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var b=new c({alg:y,pass:t});return b.updateString(h),m==b.doFinal()}if(-1!=y.indexOf("withECDSA")){var w,x=null;try{x=l.concatSigToASN1Sig(m)}catch(e){return!1}return(w=new u({alg:y})).init(t),w.updateString(h),w.verify(x)}return(w=new u({alg:y})).init(t),w.updateString(h),w.verify(m)},le.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=le.jws.JWS.readSafeJSONString(ue(t)),o.payloadObj=le.jws.JWS.readSafeJSONString(ue(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=ue(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=be(r)),o},le.jws.JWS.verifyJWT=function(e,t,n){var r=le.jws,i=r.JWS,o=i.readSafeJSONString,a=i.inArray,s=i.includedArray,l=e.split("."),c=l[0],u=l[1],d=(be(l[2]),o(ue(c))),p=o(ue(u));if(void 0===d.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(d.alg,n.alg))return!1;if(void 0!==p.iss&&"object"===f(n.iss)&&!a(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"===f(n.sub)&&!a(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"===f(n.aud))if("string"==typeof p.aud){if(!a(p.aud,n.aud))return!1}else if("object"==f(p.aud)&&!s(p.aud,n.aud))return!1;var h=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(h=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<h||void 0!==p.nbf&&"number"==typeof p.nbf&&h<p.nbf-n.gracePeriod||void 0!==p.iat&&"number"==typeof p.iat&&h<p.iat-n.gracePeriod||void 0!==p.jti&&void 0!==n.jti&&p.jti!==n.jti||!i.verify(e,t,n.alg))},le.jws.JWS.includedArray=function(e,t){var n=le.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":f(e)))return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},le.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":f(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},le.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},le.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=(void 0===(r=se(e))?"undefined":f(r))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},le.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=se(e))?"undefined":f(t))||t.constructor===Array?null:t}catch(e){return null}},le.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},le.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=_e(t);return ye(le.crypto.Util.hashHex(n,"sha256"))},le.jws.IntDate={},le.jws.IntDate.get=function(e){var t=le.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},le.jws.IntDate.getZulu=function(e){return Oe(e)},le.jws.IntDate.getNow=function(){return~~(new Date/1e3)},le.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},le.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=ee,t.rng_seed_time=G,t.BigInteger=E,t.RSAKey=re;var Ke=le.crypto.EDSA;t.EDSA=Ke;var Ge=le.crypto.DSA;t.DSA=Ge;var Je=le.crypto.Signature;t.Signature=Je;var Qe=le.crypto.MessageDigest;t.MessageDigest=Qe;var Ye=le.crypto.Mac;t.Mac=Ye;var Xe=le.crypto.Cipher;t.Cipher=Xe,t.KEYUTIL=qe,t.ASN1HEX=de,t.X509=$e,t.CryptoJS=g,t.b64tohex=w,t.b64toBA=x,t.stoBA=pe,t.BAtos=fe,t.BAtohex=he,t.stohex=me,t.stob64=function(e){return b(me(e))},t.stob64u=function(e){return ge(b(me(e)))},t.b64utos=function(e){return fe(x(ve(e)))},t.b64tob64u=ge,t.b64utob64=ve,t.hex2b64=b,t.hextob64u=ye,t.b64utohex=be,t.utf8tob64u=ce,t.b64utoutf8=ue,t.utf8tob64=function(e){return b(Ie(Me(e)))},t.b64toutf8=function(e){return decodeURIComponent(Ne(w(e)))},t.utf8tohex=we,t.hextoutf8=xe,t.hextorstr=Ee,t.rstrtohex=_e,t.hextob64=ke,t.hextob64nl=Se,t.b64nltohex=Ce,t.hextopem=Ae,t.pemtohex=Te,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Pe,t.zulutosec=Oe,t.zulutodate=function(e){return new Date(Pe(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Ie,t.hextouricmp=Ne,t.ipv6tohex=Fe,t.hextoipv6=Le,t.hextoip=Re,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Fe(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(e){throw t}},t.encodeURIComponentAll=Me,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ue,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=le;var Ze=le.crypto;t.crypto=Ze;var et=le.asn1;t.asn1=et;var tt=le.jws;t.jws=tt;var nt=le.lang;t.lang=nt}).call(this,n(28).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(30),i=n(31),o=n(32);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,p=0;p<l;p++)if(c(e,o+p)!==c(t,p)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return W(H(t,e.length-n),e,n,r)}function x(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return W(q(t),e,n,r)}function k(e,t,n,r){return W(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:H(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(c(e,s,s+a>l?l:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,n=e.KeyUtil,i=e.X509,o=e.crypto,a=e.hextob64u,s=e.b64tohex,l=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(n){r.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(e){r.Log.error(e)}},e.validateJwt=function(t,o,a,l,c,u,d){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=n.getKey(o);else{if(!o.x5c||!o.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var p=s(o.x5c[0]);o=i.getPublicKeyFromCertHex(p)}else{if("EC"!==o.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=n.getKey(o)}return e._validateJwt(t,o,a,l,c,u,d)}catch(e){return r.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,i,o,a,s){o||(o=0),a||(a=parseInt(Date.now()/1e3));var l=e.parseJwt(t).payload;if(!l.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(l.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",l.iss),Promise.reject(new Error("Invalid issuer in token: "+l.iss));if(!l.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(l.aud===i||Array.isArray(l.aud)&&l.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",l.aud),Promise.reject(new Error("Invalid audience in token: "+l.aud));if(l.azp&&l.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",l.azp),Promise.reject(new Error("Invalid azp in token: "+l.azp));if(!s){var c=a+o,u=a-o;if(!l.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<l.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",l.iat),Promise.reject(new Error("iat is in the future: "+l.iat));if(l.nbf&&c<l.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",l.nbf),Promise.reject(new Error("nbf is in the future: "+l.nbf));if(!l.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(l.exp<u)return r.Log.error("JoseUtil._validateJwt: exp is in the past",l.exp),Promise.reject(new Error("exp is in the past:"+l.exp))}return Promise.resolve(l)},e._validateJwt=function(n,i,o,a,s,c,u){return e.validateJwtAttributes(n,o,a,s,c,u).then((function(e){try{return t.JWS.verify(n,i,l)?e:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return r.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,n){try{return o.Util.hashString(t,n)}catch(e){r.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){r.Log.error(e)}},e}()};var r=n(0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3);t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=i.UrlUtility.parseUrlFragment(t,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var r=n(0),i=n(3),o=n(9);t.SignoutRequest=function e(t){var n=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,l=t.data,c=t.extraQueryParams,u=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var d in a&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",a)),s&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",s),l&&(this.state=new o.State({data:l,request_type:u}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),c)n=i.UrlUtility.addQueryParam(n,d,c[d]);this.url=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var r=n(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},r(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(10),a=n(39),s=n(15),l=n(45),c=n(47),u=n(18),d=n(8),p=n(20),f=n(11),h=n(4);t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.TokenRevocationClient,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TokenClient,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h.JoseUtil;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),n instanceof a.UserManagerSettings||(n=new a.UserManagerSettings(n));var g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return g._events=new l.UserManagerEvents(n),g._silentRenewService=new r(g),g.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),g.startSilentRenew()),g.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),g._sessionMonitor=new o(g)),g._tokenRevocationClient=new s(g._settings),g._tokenClient=new d(g._settings),g._joseUtil=m,g}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token||n.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then((function(){return e._events.load(n),n}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){return n.settings.getEpochTime().then((function(o){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(n){var r=n.state;return n.response,"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then((function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then((function(t){return n._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var r=new s.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var n="query"===this._settings.response_mode||!this._settings.response_mode&&d.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,n)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then((function(e){return n._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(n).then((function(r){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then((function(){var a=e.id_token_hint||o&&o.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),n.url=e.url,e.state&&(n.id=e.state.id),r.navigate(n)}))}))}))})).catch((function(e){throw r.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.access_token,o=e.refresh_token;return this._revokeAccessTokenInternal(r,t).then((function(e){return n._revokeRefreshTokenInternal(o,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0),n(5)),o=n(40),a=n(41),s=n(43),l=n(6),c=n(1),u=n(8);t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,d=n.popupWindowFeatures,p=n.popupWindowTarget,f=n.silent_redirect_uri,h=n.silentRequestTimeout,m=n.automaticSilentRenew,g=void 0!==m&&m,v=n.validateSubOnSilentRenew,y=void 0!==v&&v,b=n.includeIdTokenInSilentRenew,w=void 0===b||b,x=n.monitorSession,E=void 0===x||x,_=n.monitorAnonymousSession,k=void 0!==_&&_,S=n.checkSessionInterval,C=void 0===S?2e3:S,A=n.stopCheckSessionOnError,T=void 0===A||A,P=n.query_status_response_type,O=n.revokeAccessTokenOnSignout,I=void 0!==O&&O,N=n.accessTokenExpiringNotificationTime,F=void 0===N?60:N,L=n.redirectNavigator,R=void 0===L?new o.RedirectNavigator:L,j=n.popupNavigator,M=void 0===j?new a.PopupNavigator:j,D=n.iframeNavigator,U=void 0===D?new s.IFrameNavigator:D,B=n.userStore,H=void 0===B?new l.WebStorageStateStore({store:c.Global.sessionStorage}):B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var q=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));return q._popup_redirect_uri=r,q._popup_post_logout_redirect_uri=i,q._popupWindowFeatures=d,q._popupWindowTarget=p,q._silent_redirect_uri=f,q._silentRequestTimeout=h,q._automaticSilentRenew=g,q._validateSubOnSilentRenew=y,q._includeIdTokenInSilentRenew=w,q._accessTokenExpiringNotificationTime=F,q._monitorSession=E,q._monitorAnonymousSession=k,q._checkSessionInterval=C,q._stopCheckSessionOnError=T,P?q._query_status_response_type=P:arguments[0]&&arguments[0].response_type?q._query_status_response_type=u.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":q._query_status_response_type="id_token",q._revokeAccessTokenOnSignout=I,q._redirectNavigator=R,q._popupNavigator=M,q._iframeNavigator=U,q._userStore=H,q}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var r=n(0),i=n(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,n,o){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,n,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(3);t.PopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t}));var r=t.popupWindowTarget||"_blank",o=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",r,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=o.UrlUtility.parseUrlFragment(e,n);if(r.state){var a="popupCallback_"+r.state,s=window.opener[a];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var r=n(0),i=n(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.IFrameWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},r(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var r=n(0),i=n(16),o=n(17);t.UserManagerEvents=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedIn=new o.Event("User signed in"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){r.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(1),a=n(17);t.Timer=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a._timer=r,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},r(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var r=n(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){r.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var r=n(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var r=n(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.6"}])},e.exports=t()},32452:(e,t,n)=>{"use strict";var r=n(84667),i=n(66681),o=n(37007),a=n(47330),s=n(85914);class l extends r.StorageUtility{constructor(e,t){super(e,t)}}class c extends r.ClientAuthentication{constructor(){super(...arguments),this.login=async(e,t)=>{var n,i;await this.sessionInfoManager.clear(e.sessionId);const o=null!==(n=e.redirectUrl)&&void 0!==n?n:a.normalizeCallbackUrl(window.location.href);if(!r.isValidRedirectUrl(o))throw new Error(`${o} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:o,clientName:null!==(i=e.clientName)&&void 0!==i?i:e.clientId,eventEmitter:t})},this.validateCurrentSession=async e=>{const t=await this.sessionInfoManager.get(e);return void 0===t||void 0===t.clientAppId||void 0===t.issuer?null:t},this.handleIncomingRedirect=async(e,t)=>{try{const n=await this.redirectHandler.handle(e,t);return this.fetch=n.fetch.bind(window),this.boundLogout=n.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:n.isLoggedIn,webId:n.webId,sessionId:n.sessionId,expirationDate:n.expirationDate}}catch(n){return await this.cleanUrlAfterRedirect(e),void t.emit(r.EVENTS.ERROR,"redirect",n)}}}async cleanUrlAfterRedirect(e){const t=r.removeOpenIdParams(e).href;for(window.history.replaceState(null,"",t);window.location.href!==t;)await new Promise((e=>{setTimeout((()=>e()),1)}))}}function u(e){return"string"==typeof e.oidcIssuer}function d(e){return"string"==typeof e.redirectUrl}class p{constructor(e,t,n,r){this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async canHandle(e){return u(e)&&d(e)}async handle(e){if(!u(e))throw new r.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!d(e))throw new r.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const t=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),n=await r.handleRegistration(e,t,this.storageUtility,this.clientRegistrar),i={issuer:t.issuer,dpop:"dpop"===e.tokenType.toLowerCase(),...e,issuerConfiguration:t,client:n};return this.oidcHandler.handle(i)}}class f extends r.AuthorizationCodeWithPkceOidcHandlerBase{async handle(e){var t;const n={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl.toString(),post_logout_redirect_uri:e.redirectUrl.toString(),response_type:"code",scope:r.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(t=e.prompt)&&void 0!==t?t:"consent"},i=new a.OidcClient(n);try{const t=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:t.state._id,codeVerifier:t.state._code_verifier,targetUrl:t.url.toString()})}catch(e){console.error(e)}}}const h={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};class m{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let t;const n=new URL(".well-known/openid-configuration",e.endsWith("/")?e:`${e}/`).href,i=await s.fetch.call(globalThis,n);try{t=function(e){const t={};return Object.keys(e).forEach((n=>{h[n]&&(t[h[n].toKey]=e[n])})),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}(await i.json())}catch(t){throw new r.ConfigurationError(`[${e.toString()}] has an invalid configuration: ${t.message}`)}return await this.storageUtility.set(m.getLocalStorageKey(e),JSON.stringify(t)),t}}class g extends r.SessionInfoManagerBase{async get(e){const[t,n,i,o,a,s,l,c]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if("string"!=typeof a||r.isValidRedirectUrl(a)){if(void 0!==c&&!r.isSupportedTokenType(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(void 0!==i||void 0!==t||void 0!==n||void 0!==s)return{sessionId:e,webId:n,isLoggedIn:"true"===t,redirectUrl:a,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:o,tokenType:null!=c?c:"DPoP"}}else await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})])}async clear(e){return async function(e,t){await r.clear(e,t),await a.clearOidcPersistentStorage()}(e,this.storageUtility)}}class v{async canHandle(e){try{return new URL(e),!0}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e){return r.getUnauthenticatedSession()}}const y=(...e)=>s.fetch.call(globalThis,...e);class b{constructor(e,t,n,r,i){this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.tokerRefresher=i,this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.tokerRefresher=i}async canHandle(e){try{const t=new URL(e);return null!==t.searchParams.get("code")&&null!==t.searchParams.get("state")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const n=new URL(e),i=n.searchParams.get("state"),o=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:s,codeVerifier:l,redirectUrl:c,dpop:u}=await r.loadOidcContextFromStorage(o,this.storageUtility,this.issuerConfigFetcher),d=n.searchParams.get("iss");if("string"==typeof d&&d!==s.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${s.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(void 0===l)throw new Error(`The code verifier for session ${o} is missing from storage.`);if(void 0===c)throw new Error(`The redirect URL for session ${o} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:o},s);let f;const h=Date.now();let m;u?(f=await a.getDpopToken(s,p,{grantType:"authorization_code",code:n.searchParams.get("code"),codeVerifier:l,redirectUrl:c}),window.localStorage.removeItem(`oidc.${i}`)):f=await a.getBearerToken(n.toString()),void 0!==f.refreshToken&&(m={sessionId:o,refreshToken:f.refreshToken,tokenRefresher:this.tokerRefresher});const g=await r.buildAuthenticatedFetch(y,f.accessToken,{dpopKey:f.dpopKey,refreshOptions:m,eventEmitter:t,expiresIn:f.expiresIn});await this.storageUtility.setForUser(o,{webId:f.webId,isLoggedIn:"true"},{secure:!0});const v=await this.sessionInfoManager.get(o);if(!v)throw new Error(`Could not retrieve session: [${o}].`);return Object.assign(v,{fetch:g,getLogoutUrl:r.maybeBuildRpInitiatedLogout({idTokenHint:f.idToken,endSessionEndpoint:s.endSessionEndpoint}),expirationDate:"number"==typeof f.expiresIn?h+1e3*f.expiresIn:void 0})}}class w extends r.AggregateHandler{constructor(e){super(e)}}class x{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,t){this.storage.setItem(e,t)}async delete(e){this.storage.removeItem(e)}}class E{redirect(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class _{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,t){const[n,r]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1})]);if(n)return{clientId:n,clientSecret:r,clientType:"dynamic"};try{const n=await a.registerClient(e,t),r={clientId:n.clientId};return n.clientSecret&&(r.clientSecret=n.clientSecret),n.idTokenSignedResponseAlg&&(r.idTokenSignedResponseAlg=n.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,r,{secure:!1}),n}catch(e){throw new Error(`Client registration failed: [${e}]`)}}}class k{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(void 0!==t){const n=new URL(e),i=n.searchParams.get("error"),o=n.searchParams.get("error_description");t.emit(r.EVENTS.ERROR,i,o)}return r.getUnauthenticatedSession()}}class S{constructor(e,t,n){this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=n,this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=n}async refresh(e,t,n,i){const o=await r.loadOidcContextFromStorage(e,this.storageUtility,this.issuerConfigFetcher),s=await this.clientRegistrar.getClient({sessionId:e},o.issuerConfig);if(void 0===t)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(o.dpop&&void 0===n)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const l=await a.refresh(t,o.issuerConfig,s,n);return void 0!==l.refreshToken&&(null==i||i.emit(r.EVENTS.NEW_REFRESH_TOKEN,l.refreshToken),await this.storageUtility.setForUser(e,{refreshToken:l.refreshToken})),l}}function C(e){const t=new r.InMemoryStorage,n=e.secureStorage||t,i=e.insecureStorage||new x,o=new l(n,i),a=new m(o),s=new _(o),u=new g(o),d=new S(o,a,s),h=new E,y=new p(o,new f(o,h),a,s),C=new w([new k,new b(o,u,a,s,d),new v]);return new c(y,C,new r.IWaterfallLogoutHandler(u,h),u,a)}const A=`${r.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`,T=`${r.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`;class P extends o{constructor(e={},t=void 0){super(),this.tokenRequestInProgress=!1,this.login=async e=>{var t;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...e,tokenType:null!==(t=e.tokenType)&&void 0!==t?t:"DPoP"},this.events),new Promise((()=>{}))},this.fetch=(e,t)=>this.clientAuthentication.fetch(e,t),this.internalLogout=async(e,t)=>{window.localStorage.removeItem(A),await this.clientAuthentication.logout(this.info.sessionId,t),this.info.isLoggedIn=!1,e&&this.events.emit(r.EVENTS.LOGOUT)},this.logout=async e=>this.internalLogout(!0,e),this.handleIncomingRedirect=async(e={})=>{var t;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const n="string"==typeof e?{url:e}:e,i=null!==(t=n.url)&&void 0!==t?t:window.location.href;this.tokenRequestInProgress=!0;const o=await this.clientAuthentication.handleIncomingRedirect(i,this.events);if(function(e){return!!(null==e?void 0:e.isLoggedIn)}(o)){this.setSessionInfo(o);const e=window.localStorage.getItem(T);null===e?this.events.emit(r.EVENTS.LOGIN):(window.localStorage.removeItem(T),this.events.emit(r.EVENTS.SESSION_RESTORED,e))}else if(!0===n.restorePreviousSession){const e=window.localStorage.getItem(A);if(null!==e){const t=await async function(e,t,n){var r;const i=await t.validateCurrentSession(e);return null!==i&&(window.localStorage.setItem(T,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:null!==(r=i.tokenType)&&void 0!==r?r:"DPoP"},n.events),!0)}(e,this.clientAuthentication,this);if(t)return new Promise((()=>{}))}}return this.tokenRequestInProgress=!1,o},this.events=new Proxy(this,r.buildProxyHandler(P.prototype,"events only implements ISessionEventListener")),e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=C({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=C({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId}:this.info={sessionId:null!=t?t:i.v4(),isLoggedIn:!1},this.events.on(r.EVENTS.LOGIN,(()=>window.localStorage.setItem(A,this.info.sessionId))),this.events.on(r.EVENTS.SESSION_EXPIRED,(()=>this.internalLogout(!1))),this.events.on(r.EVENTS.ERROR,(()=>this.internalLogout(!1)))}onLogin(e){this.events.on(r.EVENTS.LOGIN,e)}onLogout(e){this.events.on(r.EVENTS.LOGOUT,e)}onError(e){this.events.on(r.EVENTS.ERROR,e)}onSessionRestore(e){this.events.on(r.EVENTS.SESSION_RESTORED,e)}onSessionExpiration(e){this.events.on(r.EVENTS.SESSION_EXPIRED,e)}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.events.on(r.EVENTS.SESSION_EXTENDED,(e=>{this.info.expirationDate=Date.now()+1e3*e}))}}let O;function I(){return void 0===O&&(O=new P),O}Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return r.ConfigurationError}}),Object.defineProperty(t,"EVENTS",{enumerable:!0,get:function(){return r.EVENTS}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return r.InMemoryStorage}}),Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return r.NotImplementedError}}),t.Session=P,t.events=()=>I().events,t.fetch=(...e)=>I().fetch(...e),t.getClientAuthenticationWithDependencies=C,t.getDefaultSession=I,t.handleIncomingRedirect=(...e)=>I().handleIncomingRedirect(...e),t.login=(...e)=>I().login(...e),t.logout=(...e)=>I().logout(...e),t.onLogin=(...e)=>I().onLogin(...e),t.onLogout=(...e)=>I().onLogout(...e),t.onSessionRestore=(...e)=>I().onSessionRestore(...e)},66681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var r=p(n(54196)),i=p(n(26046)),o=p(n(32895)),a=p(n(21576)),s=p(n(34538)),l=p(n(12633)),c=p(n(755)),u=p(n(76640)),d=p(n(43902));function p(e){return e&&e.__esModule?e:{default:e}}},25061:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(l=o)|s>>>32-l,n);var s,l}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function l(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=i,p=c,f=u,h=d;i=o(i,c,u,d,e[t],7,-680876936),d=o(d,i,c,u,e[t+1],12,-389564586),u=o(u,d,i,c,e[t+2],17,606105819),c=o(c,u,d,i,e[t+3],22,-1044525330),i=o(i,c,u,d,e[t+4],7,-176418897),d=o(d,i,c,u,e[t+5],12,1200080426),u=o(u,d,i,c,e[t+6],17,-1473231341),c=o(c,u,d,i,e[t+7],22,-45705983),i=o(i,c,u,d,e[t+8],7,1770035416),d=o(d,i,c,u,e[t+9],12,-1958414417),u=o(u,d,i,c,e[t+10],17,-42063),c=o(c,u,d,i,e[t+11],22,-1990404162),i=o(i,c,u,d,e[t+12],7,1804603682),d=o(d,i,c,u,e[t+13],12,-40341101),u=o(u,d,i,c,e[t+14],17,-1502002290),c=o(c,u,d,i,e[t+15],22,1236535329),i=a(i,c,u,d,e[t+1],5,-165796510),d=a(d,i,c,u,e[t+6],9,-1069501632),u=a(u,d,i,c,e[t+11],14,643717713),c=a(c,u,d,i,e[t],20,-373897302),i=a(i,c,u,d,e[t+5],5,-701558691),d=a(d,i,c,u,e[t+10],9,38016083),u=a(u,d,i,c,e[t+15],14,-660478335),c=a(c,u,d,i,e[t+4],20,-405537848),i=a(i,c,u,d,e[t+9],5,568446438),d=a(d,i,c,u,e[t+14],9,-1019803690),u=a(u,d,i,c,e[t+3],14,-187363961),c=a(c,u,d,i,e[t+8],20,1163531501),i=a(i,c,u,d,e[t+13],5,-1444681467),d=a(d,i,c,u,e[t+2],9,-51403784),u=a(u,d,i,c,e[t+7],14,1735328473),c=a(c,u,d,i,e[t+12],20,-1926607734),i=s(i,c,u,d,e[t+5],4,-378558),d=s(d,i,c,u,e[t+8],11,-2022574463),u=s(u,d,i,c,e[t+11],16,1839030562),c=s(c,u,d,i,e[t+14],23,-35309556),i=s(i,c,u,d,e[t+1],4,-1530992060),d=s(d,i,c,u,e[t+4],11,1272893353),u=s(u,d,i,c,e[t+7],16,-155497632),c=s(c,u,d,i,e[t+10],23,-1094730640),i=s(i,c,u,d,e[t+13],4,681279174),d=s(d,i,c,u,e[t],11,-358537222),u=s(u,d,i,c,e[t+3],16,-722521979),c=s(c,u,d,i,e[t+6],23,76029189),i=s(i,c,u,d,e[t+9],4,-640364487),d=s(d,i,c,u,e[t+12],11,-421815835),u=s(u,d,i,c,e[t+15],16,530742520),c=s(c,u,d,i,e[t+2],23,-995338651),i=l(i,c,u,d,e[t],6,-198630844),d=l(d,i,c,u,e[t+7],10,1126891415),u=l(u,d,i,c,e[t+14],15,-1416354905),c=l(c,u,d,i,e[t+5],21,-57434055),i=l(i,c,u,d,e[t+12],6,1700485571),d=l(d,i,c,u,e[t+3],10,-1894986606),u=l(u,d,i,c,e[t+10],15,-1051523),c=l(c,u,d,i,e[t+1],21,-2054922799),i=l(i,c,u,d,e[t+8],6,1873313359),d=l(d,i,c,u,e[t+15],10,-30611744),u=l(u,d,i,c,e[t+6],15,-1560198380),c=l(c,u,d,i,e[t+13],21,1309151649),i=l(i,c,u,d,e[t+4],6,-145523070),d=l(d,i,c,u,e[t+11],10,-1120210379),u=l(u,d,i,c,e[t+2],15,718787259),c=l(c,u,d,i,e[t+9],21,-343485551),i=r(i,n),c=r(c,p),u=r(u,f),d=r(d,h)}return[i,c,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}},71366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},34538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},43902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(755))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},60134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},33380:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},67888:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];s[t]=n}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=r(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],l=i[1],c=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=r(a,5)+n(i,l,c,u)+d+t[i]+o[e]>>>0;d=u,u=c,c=r(l,30)>>>0,l=a,a=s}i[0]=i[0]+a>>>0,i[1]=i[1]+l>>>0,i[2]=i[2]+c>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},76640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var r,i=(r=n(755))&&r.__esModule?r:{default:r};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}t.default=function(e,t=0){const n=a(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}},54196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(33380))&&r.__esModule?r:{default:r},o=n(76640);let a,s,l=0,c=0;t.default=function(e,t,n){let r=t&&n||0;const u=t||new Array(16);let d=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const m=f-l+(h-c)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||f>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=f,c=h,s=p,f+=122192928e5;const g=(1e4*(268435455&f)+h)%4294967296;u[r++]=g>>>24&255,u[r++]=g>>>16&255,u[r++]=g>>>8&255,u[r++]=255&g;const v=f/4294967296*1e4&268435455;u[r++]=v>>>8&255,u[r++]=255&v,u[r++]=v>>>24&15|16,u[r++]=v>>>16&255,u[r++]=p>>>8|128,u[r++]=255&p;for(let e=0;e<6;++e)u[r+e]=d[e];return t||(0,o.unsafeStringify)(u)}},26046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(69751)),i=o(n(25061));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);t.default=a},69751:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,a,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,o.default)(r)),16!==(null===(l=r)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(r),c.set(e,r.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=c[e];return a}return(0,i.unsafeStringify)(c)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=s,r};var r,i=n(76640),o=(r=n(43902))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},32895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(71366)),i=a(n(33380)),o=n(76640);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,o.unsafeStringify)(a)}},21576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(69751)),i=o(n(67888));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);t.default=a},755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(60134))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},12633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(755))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},84667:(e,t,n)=>{"use strict";var r=n(37007),i=n(85914),o=n(96438),a=n(14144);const s=["ES256","RS256"],l={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},c=["openid","offline_access","webid"].join(" ");async function u(e,t){const n=await i.fetch.call(globalThis,e);if(200!==n.status)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${n.status} ${n.statusText}`);let r;try{r=(await n.json()).keys[0]}catch(n){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${n.message}`)}return r}class d{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class p{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,t){return"idp"===(null==t?void 0:t.logoutType)}async handle(e,t){if("idp"!==(null==t?void 0:t.logoutType))throw new Error("Attempting to call idp logout handler to perform app logout");if(void 0===t.toLogoutUrl)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(t.toLogoutUrl(t),{handleRedirect:t.handleRedirect})}}async function f(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}function h({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return void 0!==t&&i.searchParams.append("id_token_hint",t),void 0!==n&&(i.searchParams.append("post_logout_redirect_uri",n),void 0!==r&&i.searchParams.append("state",r)),i.toString()}function m(e){try{return new URL(e),!0}catch(e){return!1}}const g=(e,t)=>i.fetch.call(globalThis,e,t);class v{constructor(e,t){this.secureStorage=e,this.insecureStorage=t,this.secureStorage=e,this.insecureStorage=t}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,t){const n=await(t?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(void 0===n)return{};try{return JSON.parse(n)}catch(r){throw new Error(`Data for user [${e}] in [${t?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${n}`)}}async setUserData(e,t,n){await(n?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(t))}async get(e,t){const n=await((null==t?void 0:t.secure)?this.secureStorage:this.insecureStorage).get(e);if(void 0===n&&(null==t?void 0:t.errorIfNull))throw new Error(`[${e}] is not stored`);return n}async set(e,t,n){return((null==n?void 0:n.secure)?this.secureStorage:this.insecureStorage).set(e,t)}async delete(e,t){return((null==t?void 0:t.secure)?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,t,n){const r=await this.getUserData(e,null==n?void 0:n.secure);let i;if(r&&r[t]||(i=void 0),i=r[t],void 0===i&&(null==n?void 0:n.errorIfNull))throw new Error(`Field [${t}] for user [${e}] is not stored`);return i||void 0}async setForUser(e,t,n){let r;try{r=await this.getUserData(e,null==n?void 0:n.secure)}catch(e){r={}}await this.setUserData(e,{...r,...t},null==n?void 0:n.secure)}async deleteForUser(e,t,n){const r=await this.getUserData(e,null==n?void 0:n.secure);delete r[t],await this.setUserData(e,r,null==n?void 0:n.secure)}async deleteAllUserData(e,t){await((null==t?void 0:t.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class y extends Error{constructor(e){super(e)}}class b extends Error{constructor(e){super(`[${e}] is not implemented`)}}class w extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class x extends Error{constructor(e,t,n){super(e),this.error=t,this.errorDescription=n}}function E(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function _(e,t,n){return new o.SignJWT({htu:E(e),htm:t.toUpperCase(),jti:a.v4()}).setProtectedHeader({alg:s[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function k(e,t,n,r,o){return e(n,await async function(e,t,n,r){if(void 0!==n)return async function(e,t,n,r){var o;const a=new i.Headers(null==r?void 0:r.headers);return a.set("Authorization",`DPoP ${t}`),a.set("DPoP",await _(e,null!==(o=null==r?void 0:r.method)&&void 0!==o?o:"get",n)),{...r,headers:a}}(e,t,n,r);const o=new i.Headers(null==r?void 0:r.headers);return o.set("Authorization",`Bearer ${t}`),{...r,headers:o}}(n.toString(),t,o,r))}const S=e=>void 0!==e?e-5>0?e-5:e:600,C="getResponse",A={get:async(e,t)=>C,set:async(e,t)=>{},delete:async e=>{},getForUser:async(e,t,n)=>C,setForUser:async(e,t,n)=>{},deleteForUser:async(e,t,n)=>{},deleteAllUserData:async(e,t)=>{}},T=e=>{const t=e;return{get:async e=>{if(void 0!==t[e])return"string"==typeof t[e]?t[e]:JSON.stringify(t[e])},set:async(e,n)=>{t[e]=n},delete:async e=>{delete t[e]}}};t.AggregateHandler=class{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const t=await Promise.all(this.handleables.map((t=>t.canHandle(...e))));for(let e=0;e<t.length;e+=1)if(t[e])return this.handleables[e];return null}async canHandle(...e){return null!==await this.getProperHandler(e)}async handle(...e){const t=await this.getProperHandler(e);if(t)return t.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map((e=>{try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")}`)}},t.AuthorizationCodeWithPkceOidcHandlerBase=class{constructor(e,t){this.storageUtility=e,this.redirector=t,this.storageUtility=e,this.redirector=t}async canHandle(e){return!!(e.issuerConfiguration.grantTypesSupported&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handleRedirect({oidcLoginOptions:e,state:t,codeVerifier:n,targetUrl:r}){await Promise.all([this.storageUtility.setForUser(t,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:n,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:e.dpop?"true":"false"})]),this.redirector.redirect(r,{handleRedirect:e.handleRedirect})}},t.ClientAuthentication=class{constructor(e,t,n,r,i){this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=n,this.sessionInfoManager=r,this.issuerConfigFetcher=i,this.fetch=g,this.logout=async(e,t)=>{await this.logoutHandler.handle(e,"idp"===(null==t?void 0:t.logoutType)?{...t,toLogoutUrl:this.boundLogout}:t),this.fetch=g,delete this.boundLogout},this.getSessionInfo=async e=>this.sessionInfoManager.get(e),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=n,this.sessionInfoManager=r,this.issuerConfigFetcher=i}},t.ConfigurationError=y,t.DEFAULT_SCOPES=c,t.EVENTS=l,t.GeneralLogoutHandler=d,t.IRpLogoutHandler=p,t.IWaterfallLogoutHandler=class{constructor(e,t){this.handlers=[new d(e),new p(t)]}async canHandle(){return!0}async handle(e,t){for(const n of this.handlers)await n.canHandle(e,t)&&await n.handle(e,t)}},t.InMemoryStorage=class{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,t){this.map[e]=t}async delete(e){delete this.map[e]}},t.InvalidResponseError=w,t.NotImplementedError=b,t.OidcProviderError=x,t.PREFERRED_SIGNING_ALG=s,t.REFRESH_BEFORE_EXPIRATION_SECONDS=5,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.SessionInfoManagerBase=class{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,t){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return f(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}},t.StorageUtility=v,t.StorageUtilityGetResponse=C,t.StorageUtilityMock=A,t.USER_SESSION_PREFIX="solidClientAuthenticationUser",t.buildAuthenticatedFetch=async function(e,t,n){var r;let i,o=t;const a=null==n?void 0:n.refreshOptions;if(void 0!==a){const e=async()=>{var t,r,s,c;try{const{accessToken:r,refreshToken:s,expiresIn:c}=await async function(e,t,n){var r;const i=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return null==n||n.emit(l.SESSION_EXTENDED,null!==(r=i.expiresIn)&&void 0!==r?r:600),"string"==typeof i.refreshToken&&(null==n||n.emit(l.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}(a,n.dpopKey,n.eventEmitter);o=r,void 0!==s&&(a.refreshToken=s),clearTimeout(i),i=setTimeout(e,1e3*S(c)),null===(t=n.eventEmitter)||void 0===t||t.emit(l.TIMEOUT_SET,i)}catch(e){e instanceof x&&(null===(r=null==n?void 0:n.eventEmitter)||void 0===r||r.emit(l.ERROR,e.error,e.errorDescription),null===(s=null==n?void 0:n.eventEmitter)||void 0===s||s.emit(l.SESSION_EXPIRED)),e instanceof w&&e.missingFields.includes("access_token")&&(null===(c=null==n?void 0:n.eventEmitter)||void 0===c||c.emit(l.SESSION_EXPIRED))}};i=setTimeout(e,1e3*S(n.expiresIn)),null===(r=n.eventEmitter)||void 0===r||r.emit(l.TIMEOUT_SET,i)}else if(void 0!==n&&void 0!==n.eventEmitter){const e=setTimeout((()=>{n.eventEmitter.emit(l.SESSION_EXPIRED)}),1e3*S(n.expiresIn));n.eventEmitter.emit(l.TIMEOUT_SET,e)}return async(t,r)=>{let i=await k(e,o,t,r,null==n?void 0:n.dpopKey);const a=!i.ok&&(s=i.status,![401,403].includes(s));var s;return i.ok||a||i.url!==t&&void 0!==(null==n?void 0:n.dpopKey)&&(i=await k(e,o,i.url,r,n.dpopKey)),i}},t.buildProxyHandler=(e,t)=>({get(n,i,o){if(!Object.getOwnPropertyNames(r.EventEmitter).includes(i)&&Object.getOwnPropertyNames(e).includes(i))throw new Error(`${t}: [${i}] is not supported`);return Reflect.get(n,i,o)}}),t.clear=f,t.createDpopHeader=_,t.determineSigningAlg=function(e,t){var n;return null!==(n=t.find((t=>e.includes(t))))&&void 0!==n?n:null},t.fetchJwks=u,t.generateDpopKeyPair=async function(){const{privateKey:e,publicKey:t}=await o.generateKeyPair(s[0]),n={privateKey:e,publicKey:await o.exportJWK(t)};return[n.publicKey.alg]=s,n},t.getEndSessionUrl=h,t.getSessionIdFromOauthState=async function(e,t){return e.getForUser(t,"sessionId")},t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:a.v4(),fetch:(...e)=>i.fetch.call(globalThis,...e)}},t.getWebidFromTokenPayload=async function(e,t,n,r){const i=await u(t,n);let a;try{const{payload:t}=await o.jwtVerify(e,await o.importJWK(i),{issuer:n,audience:r});a=t}catch(e){throw new Error(`Token verification failed: ${e.stack}`)}if("string"==typeof a.webid)return a.webid;if("string"!=typeof a.sub)throw new Error(`The token ${JSON.stringify(a)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(a.sub),a.sub}catch(e){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${a.sub}] is invalid as a URL - error [${e}].`)}},t.handleRegistration=async function(e,t,n,r){const i=function(e,t){return void 0===e.clientId||m(e.clientId)?t.scopesSupported.includes("webid")&&void 0!==e.clientId&&m(e.clientId)?"solid-oidc":"dynamic":"static"}(e,t);return"dynamic"===i?r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t):(await n.setForUser(e.sessionId,{clientId:e.clientId}),e.clientSecret&&await n.setForUser(e.sessionId,{clientSecret:e.clientSecret}),e.clientName&&await n.setForUser(e.sessionId,{clientName:e.clientName}),{clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:i})},t.isSupportedTokenType=function(e){return"string"==typeof e&&["DPoP","Bearer"].includes(e)},t.isValidRedirectUrl=function(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=""===t.hash;return n&&r}catch(e){return!1}},t.loadOidcContextFromStorage=async function(e,t,n){try{const[r,i,o,a]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0})]);return await t.deleteForUser(e,"codeVerifier"),{codeVerifier:i,redirectUrl:o,issuerConfig:await n.fetchConfig(r),dpop:"true"===a}}catch(t){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${t}`)}},t.maybeBuildRpInitiatedLogout=function({endSessionEndpoint:e,idTokenHint:t}){if(void 0!==e)return function({state:n,postLogoutUrl:r}){return h({endSessionEndpoint:e,idTokenHint:t,state:n,postLogoutRedirectUri:r})}},t.mockStorage=T,t.mockStorageUtility=(e,t=!1)=>t?new v(T(e),T({})):new v(T({}),T(e)),t.removeOpenIdParams=function(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t},t.saveSessionInfoToStorage=async function(e,t,n,r,i,a,s){void 0!==i&&await e.setForUser(t,{refreshToken:i},{secure:a}),void 0!==n&&await e.setForUser(t,{webId:n},{secure:a}),void 0!==r&&await e.setForUser(t,{isLoggedIn:r},{secure:a}),void 0!==s&&await e.setForUser(t,{publicKey:JSON.stringify(s.publicKey),privateKey:JSON.stringify(await o.exportJWK(s.privateKey))},{secure:a})}},14144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var r=p(n(27167)),i=p(n(45985)),o=p(n(32116)),a=p(n(31643)),s=p(n(84203)),l=p(n(73068)),c=p(n(54008)),u=p(n(38221)),d=p(n(47107));function p(e){return e&&e.__esModule?e:{default:e}}},19e3:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(l=o)|s>>>32-l,n);var s,l}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function l(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=i,p=c,f=u,h=d;i=o(i,c,u,d,e[t],7,-680876936),d=o(d,i,c,u,e[t+1],12,-389564586),u=o(u,d,i,c,e[t+2],17,606105819),c=o(c,u,d,i,e[t+3],22,-1044525330),i=o(i,c,u,d,e[t+4],7,-176418897),d=o(d,i,c,u,e[t+5],12,1200080426),u=o(u,d,i,c,e[t+6],17,-1473231341),c=o(c,u,d,i,e[t+7],22,-45705983),i=o(i,c,u,d,e[t+8],7,1770035416),d=o(d,i,c,u,e[t+9],12,-1958414417),u=o(u,d,i,c,e[t+10],17,-42063),c=o(c,u,d,i,e[t+11],22,-1990404162),i=o(i,c,u,d,e[t+12],7,1804603682),d=o(d,i,c,u,e[t+13],12,-40341101),u=o(u,d,i,c,e[t+14],17,-1502002290),c=o(c,u,d,i,e[t+15],22,1236535329),i=a(i,c,u,d,e[t+1],5,-165796510),d=a(d,i,c,u,e[t+6],9,-1069501632),u=a(u,d,i,c,e[t+11],14,643717713),c=a(c,u,d,i,e[t],20,-373897302),i=a(i,c,u,d,e[t+5],5,-701558691),d=a(d,i,c,u,e[t+10],9,38016083),u=a(u,d,i,c,e[t+15],14,-660478335),c=a(c,u,d,i,e[t+4],20,-405537848),i=a(i,c,u,d,e[t+9],5,568446438),d=a(d,i,c,u,e[t+14],9,-1019803690),u=a(u,d,i,c,e[t+3],14,-187363961),c=a(c,u,d,i,e[t+8],20,1163531501),i=a(i,c,u,d,e[t+13],5,-1444681467),d=a(d,i,c,u,e[t+2],9,-51403784),u=a(u,d,i,c,e[t+7],14,1735328473),c=a(c,u,d,i,e[t+12],20,-1926607734),i=s(i,c,u,d,e[t+5],4,-378558),d=s(d,i,c,u,e[t+8],11,-2022574463),u=s(u,d,i,c,e[t+11],16,1839030562),c=s(c,u,d,i,e[t+14],23,-35309556),i=s(i,c,u,d,e[t+1],4,-1530992060),d=s(d,i,c,u,e[t+4],11,1272893353),u=s(u,d,i,c,e[t+7],16,-155497632),c=s(c,u,d,i,e[t+10],23,-1094730640),i=s(i,c,u,d,e[t+13],4,681279174),d=s(d,i,c,u,e[t],11,-358537222),u=s(u,d,i,c,e[t+3],16,-722521979),c=s(c,u,d,i,e[t+6],23,76029189),i=s(i,c,u,d,e[t+9],4,-640364487),d=s(d,i,c,u,e[t+12],11,-421815835),u=s(u,d,i,c,e[t+15],16,530742520),c=s(c,u,d,i,e[t+2],23,-995338651),i=l(i,c,u,d,e[t],6,-198630844),d=l(d,i,c,u,e[t+7],10,1126891415),u=l(u,d,i,c,e[t+14],15,-1416354905),c=l(c,u,d,i,e[t+5],21,-57434055),i=l(i,c,u,d,e[t+12],6,1700485571),d=l(d,i,c,u,e[t+3],10,-1894986606),u=l(u,d,i,c,e[t+10],15,-1051523),c=l(c,u,d,i,e[t+1],21,-2054922799),i=l(i,c,u,d,e[t+8],6,1873313359),d=l(d,i,c,u,e[t+15],10,-30611744),u=l(u,d,i,c,e[t+6],15,-1560198380),c=l(c,u,d,i,e[t+13],21,1309151649),i=l(i,c,u,d,e[t+4],6,-145523070),d=l(d,i,c,u,e[t+11],10,-1120210379),u=l(u,d,i,c,e[t+2],15,718787259),c=l(c,u,d,i,e[t+9],21,-343485551),i=r(i,n),c=r(c,p),u=r(u,f),d=r(d,h)}return[i,c,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}},16893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},84203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},47107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(54008))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},42519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},22493:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},32139:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];s[t]=n}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=r(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],l=i[1],c=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=r(a,5)+n(i,l,c,u)+d+t[i]+o[e]>>>0;d=u,u=c,c=r(l,30)>>>0,l=a,a=s}i[0]=i[0]+a>>>0,i[1]=i[1]+l>>>0,i[2]=i[2]+c>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},38221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var r,i=(r=n(54008))&&r.__esModule?r:{default:r};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}t.default=function(e,t=0){const n=a(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}},27167:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(22493))&&r.__esModule?r:{default:r},o=n(38221);let a,s,l=0,c=0;t.default=function(e,t,n){let r=t&&n||0;const u=t||new Array(16);let d=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const m=f-l+(h-c)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||f>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=f,c=h,s=p,f+=122192928e5;const g=(1e4*(268435455&f)+h)%4294967296;u[r++]=g>>>24&255,u[r++]=g>>>16&255,u[r++]=g>>>8&255,u[r++]=255&g;const v=f/4294967296*1e4&268435455;u[r++]=v>>>8&255,u[r++]=255&v,u[r++]=v>>>24&15|16,u[r++]=v>>>16&255,u[r++]=p>>>8|128,u[r++]=255&p;for(let e=0;e<6;++e)u[r+e]=d[e];return t||(0,o.unsafeStringify)(u)}},45985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(74674)),i=o(n(19e3));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);t.default=a},74674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,a,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,o.default)(r)),16!==(null===(l=r)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(r),c.set(e,r.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=c[e];return a}return(0,i.unsafeStringify)(c)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=s,r};var r,i=n(38221),o=(r=n(47107))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},32116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(16893)),i=a(n(22493)),o=n(38221);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,o.unsafeStringify)(a)}},31643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(74674)),i=o(n(32139));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);t.default=a},54008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(42519))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},73068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(54008))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},85914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=globalThis.fetch;const{fetch:r,Response:i,Request:o,Headers:a}=globalThis;t.Headers=a,t.Request=o,t.Response=i,t.default=n,t.fetch=r},73562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=a,t.createCurve=function(e,t){const n=t=>(0,o.weierstrass)({...e,...a(t)});return{...n(t),create:n}};const r=n(39615),i=n(99175),o=n(91705);function a(e){return{hash:e,hmac:(t,...n)=>(0,r.hmac)(e,t,(0,i.concatBytes)(...n)),randomBytes:i.randomBytes}}},62422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wNAF=function(e,t){return{constTimeNegate:s,hasPrecomputes:e=>1!==h(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>o;)n&a&&(r=r.add(i)),i=i.double(),n>>=a;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=c(n,t),o=[];let a=e,s=a;for(let e=0;e<r;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(n,r,i){const{windows:o,windowSize:l}=c(n,t);let u=e.ZERO,d=e.BASE;const p=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let e=0;e<o;e++){const t=e*l;let n=Number(i&p);i>>=h,n>l&&(n-=f,i+=a);const o=t,c=t+Math.abs(n)-1,m=e%2!=0,g=n<0;0===n?d=d.add(s(m,r[o])):u=u.add(s(g,r[c]))}return{p:u,f:d}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:l,windowSize:u}=c(n,t),d=BigInt(2**n-1),p=2**n,f=BigInt(n);for(let e=0;e<l;e++){const t=e*u;if(i===o)break;let n=Number(i&d);if(i>>=f,n>u&&(n-=p,i+=a),0===n)continue;let l=r[t+Math.abs(n)-1];n<0&&(l=l.negate()),s=s.add(l)}return s},getPrecomputes(e,t,n){let r=p.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&p.set(t,n(r))),r},wNAFCached(e,t,n){const r=h(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=h(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){l(n,t),f.set(e,n),p.delete(e)}}},t.pippenger=function(e,t,n,r){if(u(n,e),d(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=(0,i.bitLen)(BigInt(n.length)),s=a>12?a-3:a>4?a-2:a?2:1,l=(1<<s)-1,c=new Array(l+1).fill(o);let p=o;for(let e=Math.floor((t.BITS-1)/s)*s;e>=0;e-=s){c.fill(o);for(let t=0;t<r.length;t++){const i=r[t],o=Number(i>>BigInt(e)&BigInt(l));c[o]=c[o].add(n[t])}let t=o;for(let e=c.length-1,n=o;e>0;e--)n=n.add(c[e]),t=t.add(n);if(p=p.add(t),0!==e)for(let e=0;e<s;e++)p=p.double()}return p},t.precomputeMSMUnsafe=function(e,t,n,r){l(r,t.BITS),u(n,e);const i=e.ZERO,o=2**r-1,a=Math.ceil(t.BITS/r),s=BigInt((1<<r)-1),c=n.map((e=>{const t=[];for(let n=0,r=e;n<o;n++)t.push(r),r=r.add(e);return t}));return e=>{if(d(e,t),e.length>n.length)throw new Error("array of scalars must be smaller than array of points");let o=i;for(let t=0;t<a;t++){if(o!==i)for(let e=0;e<r;e++)o=o.double();const n=BigInt(a*r-(t+1)*r);for(let t=0;t<e.length;t++){const r=e[t],i=Number(r>>n&s);i&&(o=o.add(c[t][i-1]))}}return o}},t.validateBasic=function(e){return(0,r.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};const r=n(24967),i=n(91484),o=BigInt(0),a=BigInt(1);function s(e,t){const n=t.negate();return e?n:t}function l(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function c(e,t){return l(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function u(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}function d(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}const p=new WeakMap,f=new WeakMap;function h(e){return f.get(e)||1}},71761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand_message_xmd=c,t.expand_message_xof=u,t.hash_to_field=d,t.isogenyMap=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,a,s]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(a,s)),{x:t,y:r}}},t.createHasher=function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=d(r,2,{...n,DST:n.DST,...i}),a=e.fromAffine(t(o[0])),s=e.fromAffine(t(o[1])),l=a.add(s).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const o=d(r,1,{...n,DST:n.encodeDST,...i}),a=e.fromAffine(t(o[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const e of n)if("bigint"!=typeof e)throw new Error("mapToCurve: expected array of bigints");const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const r=n(24967),i=n(91484),o=i.bytesToNumberBE;function a(e,t){if(l(e),l(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function s(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function l(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function c(e,t,n,r){(0,i.abytes)(e),(0,i.abytes)(t),l(n),t.length>255&&(t=r((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:c}=r,u=Math.ceil(n/o);if(n>65535||u>255)throw new Error("expand_message_xmd: invalid lenInBytes");const d=(0,i.concatBytes)(t,a(t.length,1)),p=a(0,c),f=a(n,2),h=new Array(u),m=r((0,i.concatBytes)(p,e,f,a(0,1),d));h[0]=r((0,i.concatBytes)(m,a(1,1),d));for(let e=1;e<=u;e++){const t=[s(m,h[e-1]),a(e+1,1),d];h[e]=r((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...h).slice(0,n)}function u(e,t,n,r,o){if((0,i.abytes)(e),(0,i.abytes)(t),l(n),t.length>255){const e=Math.ceil(2*r/8);t=o.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(a(n,2)).update(t).update(a(t.length,1)).digest()}function d(e,t,n){(0,i.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:a,k:s,m:d,hash:p,expand:f,DST:h}=n;(0,i.abytes)(e),l(t);const m="string"==typeof h?(0,i.utf8ToBytes)(h):h,g=a.toString(2).length,v=Math.ceil((g+s)/8),y=t*d*v;let b;if("xmd"===f)b=c(e,m,y,p);else if("xof"===f)b=u(e,m,y,s,p);else{if("_internal_pass"!==f)throw new Error('expand must be "xmd" or "xof"');b=e}const w=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let n=0;n<d;n++){const i=v*(n+e*d),s=b.subarray(i,i+v);t[n]=(0,r.mod)(o(s),a)}w[e]=t}return w}},24967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNegativeLE=void 0,t.mod=d,t.pow=p,t.pow2=function(e,t,n){let r=e;for(;t-- >i;)r*=r,r%=n;return r},t.invert=f,t.tonelliShanks=h,t.FpSqrt=m,t.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(e,t)},t.FpPow=v,t.FpInvertBatch=y,t.FpDiv=function(e,t,n){return e.mul(t,"bigint"==typeof n?f(n,e.ORDER):e.inv(n))},t.FpLegendre=b,t.FpIsSquare=function(e){const t=b(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},t.nLength=w,t.Field=function(e,t,n=!1,a={}){if(e<=i)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:l}=w(e,t);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:l,MASK:(0,r.bitMask)(s),ZERO:i,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,n)=>d(t+n,e),sub:(t,n)=>d(t-n,e),mul:(t,n)=>d(t*n,e),pow:(e,t)=>v(u,e,t),div:(t,n)=>d(t*f(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:a.sqrt||(t=>(c||(c=m(e)),c(u,t))),invertBatch:e=>y(u,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,r.numberToBytesLE)(e,l):(0,r.numberToBytesBE)(e,l),fromBytes:e=>{if(e.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+e.length);return n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)}});return Object.freeze(u)},t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},t.hashToPrivateScalar=function(e,t,n=!1){const i=(e=(0,r.ensureBytes)("privateHash",e)).length,a=w(t).nByteLength+8;if(a<24||i<a||i>1024)throw new Error("hashToPrivateScalar: expected "+a+"-1024 bytes of input, got "+i);return d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o},t.getFieldBytesLength=x,t.getMinHashLength=E,t.mapHashToField=function(e,t,n=!1){const i=e.length,a=x(t),s=E(t);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const l=d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o;return n?(0,r.numberToBytesLE)(l,a):(0,r.numberToBytesBE)(l,a)};const r=n(91484),i=BigInt(0),o=BigInt(1),a=BigInt(2),s=BigInt(3),l=BigInt(4),c=BigInt(5),u=BigInt(8);function d(e,t){const n=e%t;return n>=i?n:t+n}function p(e,t,n){if(t<i)throw new Error("invalid exponent, negatives unsupported");if(n<=i)throw new Error("invalid modulus");if(n===o)return i;let r=o;for(;t>i;)t&o&&(r=r*e%n),e=e*e%n,t>>=o;return r}function f(e,t){if(e===i)throw new Error("invert: expected non-zero number");if(t<=i)throw new Error("invert: expected positive modulus, got "+t);let n=d(e,t),r=t,a=i,s=o,l=o,c=i;for(;n!==i;){const e=r/n,t=r%n,i=a-l*e,o=s-c*e;r=n,n=t,a=l,s=c,l=i,c=o}if(r!==o)throw new Error("invert: does not exist");return d(a,t)}function h(e){const t=(e-o)/a;let n,r,s;for(n=e-o,r=0;n%a===i;n/=a,r++);for(s=a;s<e&&p(s,t,e)!==e-o;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+o)/l;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const c=(n+o)/a;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,s),n),u=e.pow(i,c),d=e.pow(i,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(l,o<<BigInt(a-t-1));l=e.sqr(n),u=e.mul(u,n),d=e.mul(d,l),a=t}return u}}function m(e){if(e%l===s){const t=(e+o)/l;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%u===c){const t=(e-c)/u;return function(e,n){const r=e.mul(n,a),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,a),i),l=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(l),n))throw new Error("Cannot find square root");return l}}return h(e)}t.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(e,t,n){if(n<i)throw new Error("invalid exponent, negatives unsupported");if(n===i)return e.ONE;if(n===o)return t;let r=e.ONE,a=t;for(;n>i;)n&o&&(r=e.mul(r,a)),a=e.sqr(a),n>>=o;return r}function y(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}function b(e){const t=(e-o)/a;return(e,n)=>e.pow(n,t)}function w(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function x(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function E(e){const t=x(e);return t+Math.ceil(t/2)}},91484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=t.bitMask=void 0,t.isBytes=o,t.abytes=a,t.abool=function(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)},t.bytesToHex=l,t.numberToHexUnpadded=c,t.hexToNumber=u,t.hexToBytes=f,t.bytesToNumberBE=function(e){return u(l(e))},t.bytesToNumberLE=function(e){return a(e),u(l(Uint8Array.from(e).reverse()))},t.numberToBytesBE=h,t.numberToBytesLE=function(e,t){return h(e,t).reverse()},t.numberToVarBytesBE=function(e){return f(c(e))},t.ensureBytes=function(e,t,n){let r;if("string"==typeof t)try{r=f(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!o(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r},t.concatBytes=m,t.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},t.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},t.inRange=v,t.aInRange=function(e,t,n,r){if(!v(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)},t.bitLen=function(e){let t;for(t=0;e>n;e>>=r,t+=1);return t},t.bitGet=function(e,t){return e>>BigInt(t)&r},t.bitSet=function(e,t,i){return e|(i?r:n)<<BigInt(t)},t.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=y(e),i=y(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=(...e)=>n(i,r,...e),l=(e=y())=>{i=s(b([0]),e),r=s(),0!==e.length&&(i=s(b([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return m(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}},t.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=w[n];if("function"!=typeof i)throw new Error("invalid validator function");const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},t.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const o=e(n,...r);return t.set(n,o),o}};const n=BigInt(0),r=BigInt(1),i=BigInt(2);function o(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw new Error("Uint8Array expected")}const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){a(e);let t="";for(let n=0;n<e.length;n++)t+=s[e[n]];return t}function c(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}const d={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function f(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===n||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r}function h(e,t){return f(e.toString(16).padStart(2*t,"0"))}function m(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];a(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const g=e=>"bigint"==typeof e&&n<=e;function v(e,t,n){return g(e)&&g(t)&&g(n)&&t<=e&&e<n}t.bitMask=e=>(i<<BigInt(e-1))-r;const y=e=>new Uint8Array(e),b=e=>Uint8Array.from(e),w={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};t.notImplemented=()=>{throw new Error("not implemented")}},91705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=g,t.weierstrass=function(e){const n=function(e){const t=(0,r.validateBasic)(e);return o.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:l,n:c}=n,u=l.BYTES+1,f=2*l.BYTES+1;function h(e){return(0,i.mod)(e,c)}function m(e){return(0,i.invert)(e,c)}const{ProjectivePoint:v,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:w}=g({...n,toBytes(e,t,n){const r=t.toAffine(),i=l.toBytes(r.x),s=o.concatBytes;return(0,a.abool)("isCompressed",n),n?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,l.toBytes(r.y))},fromBytes(e){const t=e.length,n=e[0],r=e.subarray(1);if(t!==u||2!==n&&3!==n){if(t===f&&4===n)return{x:l.fromBytes(r.subarray(0,l.BYTES)),y:l.fromBytes(r.subarray(l.BYTES,2*l.BYTES))};throw new Error("invalid Point, expected length of "+u+", or uncompressed "+f+", got "+t)}{const e=o.bytesToNumberBE(r);if(!o.inRange(e,p,l.ORDER))throw new Error("Point is not on curve");const t=b(e);let i;try{i=l.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return 1==(1&n)!=((i&p)===p)&&(i=l.neg(i)),{x:e,y:i}}}}),x=e=>o.bytesToHex(o.numberToBytesBE(e,n.nByteLength));function E(e){return e>c>>p}const _=(e,t,n)=>o.bytesToNumberBE(e.slice(t,n));class k{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const t=n.nByteLength;return e=(0,a.ensureBytes)("compactSignature",e,2*t),new k(_(e,0,t),_(e,t,2*t))}static fromDER(e){const{r:n,s:r}=t.DER.toSig((0,a.ensureBytes)("DER",e));return new k(n,r)}assertValidity(){o.aInRange("r",this.r,p,c),o.aInRange("s",this.s,p,c)}addRecoveryBit(e){return new k(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:r,recovery:i}=this,o=T((0,a.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const s=2===i||3===i?t+n.n:t;if(s>=l.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=0==(1&i)?"02":"03",u=v.fromHex(c+x(s)),d=m(s),p=h(-o*d),f=h(r*d),g=v.BASE.multiplyAndAddUnsafe(u,p,f);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return o.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return o.hexToBytes(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const S={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=(0,i.getMinHashLength)(n.n);return(0,i.mapHashToField)(n.randomBytes(e),n.n)},precompute:(e=8,t=v.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function C(e){const t=o.isBytes(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===u||r===f:n?r===2*u||r===2*f:e instanceof v}const A=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=o.bytesToNumberBE(e),r=8*e.length-n.nBitLength;return r>0?t>>BigInt(r):t},T=n.bits2int_modN||function(e){return h(A(e))},P=o.bitMask(n.nBitLength);function O(e){return o.aInRange("num < 2^"+n.nBitLength,e,d,P),o.numberToBytesBE(e,n.nByteLength)}const I={lowS:n.lowS,prehash:!1},N={lowS:n.lowS,prehash:!1};return v.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function(e,t=!0){return v.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(C(e))throw new Error("first arg must be private key");if(!C(t))throw new Error("second arg must be public key");return v.fromHex(t).multiply(y(e)).toRawBytes(n)},sign:function(e,t,r=I){const{seed:i,k2sig:c}=function(e,t,r=I){if(["recovered","canonical"].some((e=>e in r)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=n;let{lowS:u,prehash:f,extraEntropy:g}=r;null==u&&(u=!0),e=(0,a.ensureBytes)("msgHash",e),s(r),f&&(e=(0,a.ensureBytes)("prehashed msgHash",i(e)));const b=T(e),x=y(t),_=[O(x),O(b)];if(null!=g&&!1!==g){const e=!0===g?c(l.BYTES):g;_.push((0,a.ensureBytes)("extraEntropy",e))}const S=o.concatBytes(..._),C=b;return{seed:S,k2sig:function(e){const t=A(e);if(!w(t))return;const n=m(t),r=v.BASE.multiply(t).toAffine(),i=h(r.x);if(i===d)return;const o=h(n*h(C+i*x));if(o===d)return;let a=(r.x===i?0:2)|Number(r.y&p),s=o;return u&&E(o)&&(s=function(e){return E(e)?h(-e):e}(o),a^=1),new k(i,s,a)}}}(e,t,r),u=n;return o.createHmacDrbg(u.hash.outputLen,u.nByteLength,u.hmac)(i,c)},verify:function(e,r,i,l=N){const c=e;r=(0,a.ensureBytes)("msgHash",r),i=(0,a.ensureBytes)("publicKey",i);const{lowS:u,prehash:d,format:p}=l;if(s(l),"strict"in l)throw new Error("options.strict was renamed to lowS");if(void 0!==p&&"compact"!==p&&"der"!==p)throw new Error("format must be compact or der");const f="string"==typeof c||o.isBytes(c),g=!f&&!p&&"object"==typeof c&&null!==c&&"bigint"==typeof c.r&&"bigint"==typeof c.s;if(!f&&!g)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let y,b;try{if(g&&(y=new k(c.r,c.s)),f){try{"compact"!==p&&(y=k.fromDER(c))}catch(e){if(!(e instanceof t.DER.Err))throw e}y||"der"===p||(y=k.fromCompact(c))}b=v.fromHex(i)}catch(e){return!1}if(!y)return!1;if(u&&y.hasHighS())return!1;d&&(r=n.hash(r));const{r:w,s:x}=y,E=T(r),_=m(x),S=h(E*_),C=h(w*_),A=v.BASE.multiplyAndAddUnsafe(b,S,C)?.toAffine();return!!A&&h(A.x)===w},ProjectivePoint:v,Signature:k,utils:S}},t.SWUFpSqrtRatio=v,t.mapToCurveSimpleSWU=function(e,t){if((0,i.validateField)(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=v(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,a,s,l,c,u,d;i=e.sqr(r),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),a=e.add(o,e.ONE),a=e.mul(a,t.B),s=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),s=e.mul(s,t.A),o=e.sqr(a),c=e.sqr(s),l=e.mul(c,t.A),o=e.add(o,l),o=e.mul(o,a),c=e.mul(c,s),l=e.mul(c,t.B),o=e.add(o,l),u=e.mul(i,a);const{isValid:p,value:f}=n(o,c);d=e.mul(i,r),d=e.mul(d,f),u=e.cmov(u,a,p),d=e.cmov(d,f,p);const h=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,h),u=e.div(u,s),{x:u,y:d}}};const r=n(62422),i=n(24967),o=n(91484),a=n(91484);function s(e){void 0!==e.lowS&&(0,a.abool)("lowS",e.lowS),void 0!==e.prehash&&(0,a.abool)("prehash",e.prehash)}const{bytesToNumberBE:l,hexToBytes:c}=o;class u extends Error{constructor(e=""){super(e)}}t.DERErr=u,t.DER={Err:u,_tlv:{encode:(e,n)=>{const{Err:r}=t.DER;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&n.length)throw new r("tlv.encode: unpadded data");const i=n.length/2,a=o.numberToHexUnpadded(i);if(a.length/2&128)throw new r("tlv.encode: long form length too big");const s=i>127?o.numberToHexUnpadded(a.length/2|128):"";return o.numberToHexUnpadded(e)+s+a+n},decode(e,n){const{Err:r}=t.DER;let i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(n.length<2||n[i++]!==e)throw new r("tlv.decode: wrong tlv");const o=n[i++];let a=0;if(128&o){const e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const t=n.subarray(i,i+e);if(t.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===t[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of t)a=a<<8|e;if(i+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=o;const s=n.subarray(i,i+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:n.subarray(i+a)}}},_int:{encode(e){const{Err:n}=t.DER;if(e<d)throw new n("integer: negative integers are not allowed");let r=o.numberToHexUnpadded(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new n("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:n}=t.DER;if(128&e[0])throw new n("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new n("invalid signature integer: unnecessary leading zero");return l(e)}},toSig(e){const{Err:n,_int:r,_tlv:i}=t.DER,a="string"==typeof e?c(e):e;o.abytes(a);const{v:s,l}=i.decode(48,a);if(l.length)throw new n("invalid signature: left bytes after parsing");const{v:u,l:d}=i.decode(2,s),{v:p,l:f}=i.decode(2,d);if(f.length)throw new n("invalid signature: left bytes after parsing");return{r:r.decode(u),s:r.decode(p)}},hexFromSig(e){const{_tlv:n,_int:r}=t.DER,i=n.encode(2,r.encode(e.r))+n.encode(2,r.encode(e.s));return n.encode(48,i)}};const d=BigInt(0),p=BigInt(1),f=BigInt(2),h=BigInt(3),m=BigInt(4);function g(e){const t=function(e){const t=(0,r.validateBasic)(e);o.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a}=t;if(n){if(!i.eql(a,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,s=(0,i.Field)(t.n,t.nBitLength),l=t.toBytes||((e,t,r)=>{const i=t.toAffine();return o.concatBytes(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function u(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),u(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:l}=t;if(n&&"bigint"!=typeof e){if(o.isBytes(e)&&(e=o.bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let c;try{c="bigint"==typeof e?e:o.bytesToNumberBE((0,a.ensureBytes)("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return s&&(c=(0,i.mod)(c,l)),o.aInRange("private key",c,p,l),c}function m(e){if(!(e instanceof y))throw new Error("ProjectivePoint expected")}const g=(0,a.memoized)(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));const s=n.mul(r,t),l=n.mul(i,t),c=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:l}})),v=(0,a.memoized)((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),a=u(r);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class y{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof y)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?y.ZERO:new y(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(c((0,a.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(f(e))}static msm(e,t){return(0,r.pippenger)(y,s,e,t)}_setWindowSize(e){w.setWindowSize(this,e)}assertValidity(){v(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){m(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return l&&c}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,h),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(o,o),p=n.mul(a,a),f=n.mul(s,s),m=n.mul(o,a);return m=n.add(m,m),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,f),c=n.add(l,c),l=n.sub(p,c),c=n.add(p,c),c=n.mul(l,c),l=n.mul(m,l),u=n.mul(i,u),f=n.mul(e,f),m=n.sub(d,f),m=n.mul(e,m),m=n.add(m,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,m),c=n.add(c,d),f=n.mul(a,s),f=n.add(f,f),d=n.mul(f,m),l=n.sub(l,d),u=n.mul(f,p),u=n.add(u,u),u=n.add(u,u),new y(l,c,u)}add(e){m(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:l}=e;let c=n.ZERO,u=n.ZERO,d=n.ZERO;const p=t.a,f=n.mul(t.b,h);let g=n.mul(r,a),v=n.mul(i,s),b=n.mul(o,l),w=n.add(r,i),x=n.add(a,s);w=n.mul(w,x),x=n.add(g,v),w=n.sub(w,x),x=n.add(r,o);let E=n.add(a,l);return x=n.mul(x,E),E=n.add(g,b),x=n.sub(x,E),E=n.add(i,o),c=n.add(s,l),E=n.mul(E,c),c=n.add(v,b),E=n.sub(E,c),d=n.mul(p,x),c=n.mul(f,b),d=n.add(c,d),c=n.sub(v,d),d=n.add(v,d),u=n.mul(c,d),v=n.add(g,g),v=n.add(v,g),b=n.mul(p,b),x=n.mul(f,x),v=n.add(v,b),b=n.sub(g,b),b=n.mul(p,b),x=n.add(x,b),g=n.mul(v,x),u=n.add(u,g),g=n.mul(E,x),c=n.mul(w,c),c=n.sub(c,g),g=n.mul(w,v),d=n.mul(E,d),d=n.add(d,g),new y(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return w.wNAFCached(this,e,y.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;o.aInRange("scalar",e,d,i);const a=y.ZERO;if(e===d)return a;if(this.is0()||e===p)return this;if(!r||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,e,y.normalizeZ);let{k1neg:s,k1:l,k2neg:c,k2:u}=r.splitScalar(e),f=a,h=a,m=this;for(;l>d||u>d;)l&p&&(f=f.add(m)),u&p&&(h=h.add(m)),m=m.double(),l>>=p,u>>=p;return s&&(f=f.negate()),c&&(h=h.negate()),h=new y(n.mul(h.px,r.beta),h.py,h.pz),f.add(h)}multiply(e){const{endo:r,n:i}=t;let a,s;if(o.aInRange("scalar",e,p,i),r){const{k1neg:t,k1:i,k2neg:o,k2:l}=r.splitScalar(e);let{p:c,f:u}=this.wNAF(i),{p:d,f:p}=this.wNAF(l);c=w.constTimeNegate(t,c),d=w.constTimeNegate(o,d),d=new y(n.mul(d.px,r.beta),d.py,d.pz),a=c.add(d),s=u.add(p)}else{const{p:t,f:n}=this.wNAF(e);a=t,s=n}return y.normalizeZ([a,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=y.BASE,i=(e,t)=>t!==d&&t!==p&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return g(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===p)return!0;if(n)return n(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===p?this:n?n(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,a.abool)("isCompressed",e),this.assertValidity(),l(y,this,e)}toHex(e=!0){return(0,a.abool)("isCompressed",e),o.bytesToHex(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,w=(0,r.wNAF)(y,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:f,weierstrassEquation:u,isWithinCurveOrder:function(e){return o.inRange(e,p,t.n)}}}function v(e,t){const n=e.ORDER;let r=d;for(let e=n-p;e%f===d;e/=f)r+=p;const i=r,o=f<<i-p-p,a=o*f,s=(n-p)/a,l=(s-p)/f,c=a-p,u=o,g=e.pow(t,s),v=e.pow(t,(s+p)/f);let y=(t,n)=>{let r=g,o=e.pow(n,c),a=e.sqr(o);a=e.mul(a,n);let s=e.mul(t,a);s=e.pow(s,l),s=e.mul(s,o),o=e.mul(s,n),a=e.mul(s,t);let d=e.mul(a,o);s=e.pow(d,u);let h=e.eql(s,e.ONE);o=e.mul(a,v),s=e.mul(d,r),a=e.cmov(o,a,h),d=e.cmov(s,d,h);for(let t=i;t>p;t--){let n=t-f;n=f<<n-p;let i=e.pow(d,n);const s=e.eql(i,e.ONE);o=e.mul(a,r),r=e.mul(r,r),i=e.mul(d,r),a=e.cmov(o,a,s),d=e.cmov(i,d,s)}return{isValid:h,value:a}};if(e.ORDER%m===h){const n=(e.ORDER-h)/m,r=e.sqrt(e.neg(t));y=(t,i)=>{let o=e.sqr(i);const a=e.mul(t,i);o=e.mul(o,a);let s=e.pow(o,n);s=e.mul(s,a);const l=e.mul(s,r),c=e.mul(e.sqr(s),i),u=e.eql(c,t);return{isValid:u,value:e.cmov(l,s,u)}}}return y}},8510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const r=n(22623),i=n(99175),o=n(73562),a=n(71761),s=n(24967),l=n(91484),c=n(91705),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p=BigInt(1),f=BigInt(2),h=(e,t)=>(e+t/f)/t;function m(e){const t=u,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),d=e*e*e%t,p=d*d*e%t,h=(0,s.pow2)(p,n,t)*p%t,m=(0,s.pow2)(h,n,t)*p%t,v=(0,s.pow2)(m,f,t)*d%t,y=(0,s.pow2)(v,i,t)*v%t,b=(0,s.pow2)(y,o,t)*y%t,w=(0,s.pow2)(b,l,t)*b%t,x=(0,s.pow2)(w,c,t)*w%t,E=(0,s.pow2)(x,l,t)*b%t,_=(0,s.pow2)(E,n,t)*p%t,k=(0,s.pow2)(_,a,t)*y%t,S=(0,s.pow2)(k,r,t)*d%t,C=(0,s.pow2)(S,f,t);if(!g.eql(g.sqr(C),e))throw new Error("Cannot find square root");return C}const g=(0,s.Field)(u,void 0,void 0,{sqrt:m});t.secp256k1=(0,o.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-p*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),l=h(o*e,t),c=h(-r*e,t);let u=(0,s.mod)(e-l*n-c*i,t),f=(0,s.mod)(-l*r-c*o,t);const m=u>a,g=f>a;if(m&&(u=t-u),g&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:u,k2neg:g,k2:f}}}},r.sha256);const v=BigInt(0),y={};function b(e,...t){let n=y[e];if(void 0===n){const t=(0,r.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=(0,l.concatBytes)(t,t),y[e]=n}return(0,r.sha256)((0,l.concatBytes)(n,...t))}const w=e=>e.toRawBytes(!0).slice(1),x=e=>(0,l.numberToBytesBE)(e,32),E=e=>(0,s.mod)(e,u),_=e=>(0,s.mod)(e,d),k=t.secp256k1.ProjectivePoint,S=(e,t,n)=>k.BASE.multiplyAndAddUnsafe(e,t,n);function C(e){let n=t.secp256k1.utils.normPrivateKeyToScalar(e),r=k.fromPrivateKey(n);return{scalar:r.hasEvenY()?n:_(-n),bytes:w(r)}}function A(e){(0,l.aInRange)("x",e,p,u);const t=E(e*e);let n=m(E(t*e+BigInt(7)));n%f!==v&&(n=E(-n));const r=new k(e,n,p);return r.assertValidity(),r}const T=l.bytesToNumberBE;function P(...e){return _(T(b("BIP0340/challenge",...e)))}function O(e,t,n){const r=(0,l.ensureBytes)("signature",e,64),i=(0,l.ensureBytes)("message",t),o=(0,l.ensureBytes)("publicKey",n,32);try{const e=A(T(o)),t=T(r.subarray(0,32));if(!(0,l.inRange)(t,p,u))return!1;const n=T(r.subarray(32,64));if(!(0,l.inRange)(n,p,d))return!1;const a=P(x(t),w(e),i),s=S(e,n,_(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(e){return!1}}t.schnorr={getPublicKey:function(e){return C(e).bytes},sign:function(e,t,n=(0,i.randomBytes)(32)){const r=(0,l.ensureBytes)("message",e),{bytes:o,scalar:a}=C(t),s=(0,l.ensureBytes)("auxRand",n,32),c=x(a^T(b("BIP0340/aux",s))),u=b("BIP0340/nonce",c,o,r),d=_(T(u));if(d===v)throw new Error("sign failed: k is zero");const{bytes:p,scalar:f}=C(d),h=P(p,o,r),m=new Uint8Array(64);if(m.set(p,0),m.set(x(_(f+h*a)),32),!O(m,r,o))throw new Error("sign: Invalid signature produced");return m},verify:O,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:A,pointToBytes:w,numberToBytesBE:l.numberToBytesBE,bytesToNumberBE:l.bytesToNumberBE,taggedHash:b,mod:s.mod}};const I=(()=>(0,a.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),N=(()=>(0,c.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),F=(()=>(0,a.createHasher)(t.secp256k1.ProjectivePoint,(e=>{const{x:t,y:n}=N(g.create(e[0]));return I(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}))();t.hashToCurve=F.hashToCurve,t.encodeToCurve=F.encodeToCurve},67557:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function r(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.anumber=n,t.abytes=r,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},t.aoutput=function(e,t){r(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}},37202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=void 0,t.setBigUint64=o,t.Chi=function(e,t,n){return e&t^~e&n},t.Maj=function(e,t,n){return e&t^e&n^t&n};const r=n(67557),i=n(99175);function o(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}class a extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.aexists)(this);const{view:t,buffer:n,blockLen:o}=this,a=(e=(0,i.toBytes)(e)).length;for(let r=0;r<a;){const s=Math.min(o-this.pos,a-r);if(s!==o)n.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=a-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:s}=this;let{pos:l}=this;t[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>a-l&&(this.process(n,0),l=0);for(let e=l;e<a;e++)t[e]=0;o(n,a-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)c.setUint32(4*e,p[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}t.HashMD=a},25145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},39615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const r=n(67557),i=n(99175);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,r.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,r.aexists)(this),(0,r.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o,t.hmac=(e,t,n)=>new o(e,t).update(n).digest(),t.hmac.create=(e,t)=>new o(e,t)},22623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=t.SHA256=void 0;const r=n(37202),i=n(99175),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class l extends r.HashMD{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)s[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=s[e-15],n=s[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;s[e]=o+s[e-7]+r+s[e-16]|0}let{A:n,B:a,C:l,D:c,E:u,F:d,G:p,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+(0,r.Chi)(u,d,p)+o[e]+s[e]|0,h=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+(0,r.Maj)(n,a,l)|0;f=p,p=d,d=u,u=c+t|0,c=l,l=a,a=n,n=t+h|0}n=n+this.A|0,a=a+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(n,a,l,c,u,d,p,f)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.SHA256=l;class c extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new l)),t.sha224=(0,i.wrapConstructor)((()=>new c))},99175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.isLE=void 0,t.isBytes=function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=o(e[t])},t.bytesToHex=function(e){(0,i.abytes)(e);let t="";for(let n=0;n<e.length;n++)t+=a[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=l(e.charCodeAt(i)),o=l(e.charCodeAt(i+1));if(void 0===n||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=c,t.toBytes=u,t.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];(0,i.abytes)(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(u(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(u(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return r.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const r=n(25145),i=n(67557);function o(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.byteSwapIfBE=t.isLE?e=>e:e=>o(e);const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0"))),s={_0:48,_9:57,A:65,F:70,a:97,f:102};function l(e){return e>=s._0&&e<=s._9?e-s._0:e>=s.A&&e<=s.F?e-(s.A-10):e>=s.a&&e<=s.f?e-(s.a-10):void 0}function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){return"string"==typeof e&&(e=c(e)),(0,i.abytes)(e),e}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}}},56305:e=>{e.exports&&(e.exports=function(e,t){if(void 0===n)var n=t.dom;var r=n.querySelectorAll(e),i={init:function(e,t){this.counter=0,this.el=e,this.$items=e.querySelectorAll("figure"),this.numItems=this.$items.length,(t=t||{}).auto=t.auto||!1,this.opts={auto:void 0!==t.auto&&t.auto,speed:void 0===t.auto.speed?1500:t.auto.speed,pauseOnHover:void 0!==t.auto.pauseOnHover&&t.auto.pauseOnHover,fullScreen:void 0!==t.fullScreen&&t.fullScreen,swipe:void 0!==t.swipe&&t.swipe},this.$items[0].classList.add("bss-show"),this.injectControls(e),this.addEventListeners(e),this.opts.auto&&this.autoCycle(this.el,this.opts.speed,this.opts.pauseOnHover),this.opts.fullScreen&&this.addFullScreen(this.el),this.opts.swipe&&this.addSwipe(this.el)},showCurrent:function(e){this.counter=e>0?this.counter+1===this.numItems?0:this.counter+1:this.counter-1<0?this.numItems-1:this.counter-1,[].forEach.call(this.$items,(function(e){e.classList.remove("bss-show")})),this.$items[this.counter].classList.add("bss-show")},injectControls:function(e){var t=n.createElement("span"),r=n.createElement("span"),i=n.createDocumentFragment();t.classList.add("bss-prev"),r.classList.add("bss-next"),t.innerHTML="&laquo;",r.innerHTML="&raquo;",i.appendChild(t),i.appendChild(r),e.appendChild(i)},addEventListeners:function(e){var t=this;e.querySelector(".bss-next").addEventListener("click",(function(){t.showCurrent(1)}),!1),e.querySelector(".bss-prev").addEventListener("click",(function(){t.showCurrent(-1)}),!1),e.onkeydown=function(e){37===(e=e||window.event).keyCode?t.showCurrent(-1):39===e.keyCode&&t.showCurrent(1)}},autoCycle:function(e,t,n){var r=this,i=window.setInterval((function(){r.showCurrent(1)}),t);n&&(e.addEventListener("mouseover",(function(){i=clearInterval(i)}),!1),e.addEventListener("mouseout",(function(){i=window.setInterval((function(){r.showCurrent(1)}),t)}),!1))},addFullScreen:function(e){var t=this,r=n.createElement("span");r.classList.add("bss-fullscreen"),e.appendChild(r),e.querySelector(".bss-fullscreen").addEventListener("click",(function(){t.toggleFullScreen(e)}),!1)},addSwipe:function(e){var t=this,n=new Hammer(e);n.on("swiperight",(function(e){t.showCurrent(-1)})),n.on("swipeleft",(function(e){t.showCurrent(1)}))},toggleFullScreen:function(e){n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen():n.documentElement.requestFullscreen?e.requestFullscreen():n.documentElement.msRequestFullscreen?e.msRequestFullscreen():n.documentElement.mozRequestFullScreen?e.mozRequestFullScreen():n.documentElement.webkitRequestFullscreen&&e.webkitRequestFullscreen(e.ALLOW_KEYBOARD_INPUT)}};[].forEach.call(r,(function(e){Object.create(i).init(e,t)}))})},44582:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},15752:(e,t,n)=>{var r=n(44582),i=n(84722),o=n(56559),a=n(64466),s=i.DOMImplementation,l=r.NAMESPACE,c=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function f(){this.cdata=!1}function h(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var n=this.options,r=new u,i=n.domBuilder||new f,a=n.errorHandler,s=n.locator,c=n.xmlns||{},p=/\/x?html?$/.test(t),h=p?o.HTML_ENTITIES:o.XML_ENTITIES;s&&i.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof f)return t;e=t}var r={},i=e instanceof Function;function o(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+m(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),r}(a,i,s),r.domBuilder=n.domBuilder||i,p&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var g=n.normalizeLineEndings||d;return e&&"string"==typeof e?r.parse(g(e),c,h):r.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),a=r.length;v(this,o),this.currentElement=o,this.locator&&h(this.locator,o);for(var s=0;s<a;s++){e=r.getURI(s);var l=r.getValue(s),c=(n=r.getQName(s),i.createAttributeNS(e,n));this.locator&&h(r.getLocator(s),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&h(this.locator,n),v(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=g.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&h(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=g.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&h(this.locator,r),v(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&h(this.locator,i),v(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){f.prototype[e]=function(){return null}})),t.DOMParser=p},84722:(e,t,n)=>{var r=n(44582),i=r.find,o=r.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,c(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var d={},p=d.ELEMENT_NODE=1,f=d.ATTRIBUTE_NODE=2,h=d.TEXT_NODE=3,m=d.CDATA_SECTION_NODE=4,g=d.ENTITY_REFERENCE_NODE=5,v=d.ENTITY_NODE=6,y=d.PROCESSING_INSTRUCTION_NODE=7,b=d.COMMENT_NODE=8,w=d.DOCUMENT_NODE=9,x=d.DOCUMENT_TYPE_NODE=10,E=d.DOCUMENT_FRAGMENT_NODE=11,_=d.NOTATION_NODE=12,k={},S={},C=(k.INDEX_SIZE_ERR=(S[1]="Index size error",1),k.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),k.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),A=(k.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),k.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),k.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),k.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),k.NOT_FOUND_ERR=(S[8]="Not found",8)),T=(k.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),k.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));function P(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,P);return n.code=e,t&&(this.message=this.message+": "+t),n}function O(){}function I(e,t){this._node=e,this._refresh=t,N(this)}function N(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(ye(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];c(n,e),e._inc=t}}function F(){}function L(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function R(e,t,n,r){if(r?t[L(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&q(i,e,r),function(e,t,n){e&&e._inc++,n.namespaceURI===o.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function j(e,t,n){var r=L(t,n);if(!(r>=0))throw new P(A,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(q(o,e,n),n.ownerElement=null)}}function M(){}function D(){}function U(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(B(e,t))return!0}while(e=e.nextSibling)}function H(){this.ownerDocument=this}function q(e,t,n,r){e&&e._inc++,n.namespaceURI===o.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function W(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o,delete r[r.length]}}}function z(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,W(e.ownerDocument,e),t}function V(e){return e&&e.nodeType===D.DOCUMENT_TYPE_NODE}function $(e){return e&&e.nodeType===D.ELEMENT_NODE}function K(e){return e&&e.nodeType===D.TEXT_NODE}function G(e,t){var n=e.childNodes||[];if(i(n,$)||V(t))return!1;var r=i(n,V);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function J(e,t){var n=e.childNodes||[];if(i(n,(function(e){return $(e)&&e!==t})))return!1;var r=i(n,V);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function Q(e,t,n){var r=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===D.DOCUMENT_FRAGMENT_NODE){var a=o.filter($);if(a.length>1||i(o,K))throw new P(C,"More than one element or text in fragment");if(1===a.length&&!G(e,n))throw new P(C,"Element in fragment can not be inserted before doctype")}if($(t)&&!G(e,n))throw new P(C,"Only one element can be added and only after doctype");if(V(t)){if(i(r,V))throw new P(C,"Only one doctype is allowed");var s=i(r,$);if(n&&r.indexOf(s)<r.indexOf(n))throw new P(C,"Doctype can only be inserted before an element");if(!n&&s)throw new P(C,"Doctype can not be appended since element is present")}}function Y(e,t,n){var r=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===D.DOCUMENT_FRAGMENT_NODE){var a=o.filter($);if(a.length>1||i(o,K))throw new P(C,"More than one element or text in fragment");if(1===a.length&&!J(e,n))throw new P(C,"Element in fragment can not be inserted before doctype")}if($(t)&&!J(e,n))throw new P(C,"Only one element can be added and only after doctype");if(V(t)){if(i(r,(function(e){return V(e)&&e!==n})))throw new P(C,"Only one doctype is allowed");var s=i(r,$);if(n&&r.indexOf(s)<r.indexOf(n))throw new P(C,"Doctype can only be inserted before an element")}}function X(e,t,n,r){(function(e,t,n){if(!function(e){return e&&(e.nodeType===D.DOCUMENT_NODE||e.nodeType===D.DOCUMENT_FRAGMENT_NODE||e.nodeType===D.ELEMENT_NODE)}(e))throw new P(C,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new P(A,"child not in parent");if(!function(e){return e&&($(e)||K(e)||V(e)||e.nodeType===D.DOCUMENT_FRAGMENT_NODE||e.nodeType===D.COMMENT_NODE||e.nodeType===D.PROCESSING_INSTRUCTION_NODE)}(t)||V(t)&&e.nodeType!==D.DOCUMENT_NODE)throw new P(C,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,n),e.nodeType===D.DOCUMENT_NODE&&(r||Q)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===E){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var s=n?n.previousSibling:e.lastChild;o.previousSibling=s,a.nextSibling=n,s?s.nextSibling=o:e.firstChild=o,null==n?e.lastChild=a:n.previousSibling=a;do{o.parentNode=e}while(o!==a&&(o=o.nextSibling));return W(e.ownerDocument||e,e),t.nodeType==E&&(t.firstChild=t.lastChild=null),t}function Z(){this._nsMap={}}function ee(){}function te(){}function ne(){}function re(){}function ie(){}function oe(){}function ae(){}function se(){}function le(){}function ce(){}function ue(){}function de(){}function pe(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return me(this,n,e,t,a),n.join("")}function fe(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===r&&i===o.XML||i===o.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===r)return s.namespace!==i}return!0}function he(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,U),'"')}function me(e,t,n,r,i){if(i||(i=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case p:var a=e.attributes,s=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(n=o.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var d,v=0;v<a.length;v++)if("xmlns"===a.item(v).name){d=a.item(v).value;break}if(!d)for(var _=i.length-1;_>=0;_--)if(""===(k=i[_]).prefix&&k.namespace===e.namespaceURI){d=k.namespace;break}if(d!==e.namespaceURI)for(_=i.length-1;_>=0;_--){var k;if((k=i[_]).namespace===e.namespaceURI){k.prefix&&(u=k.prefix+":"+c);break}}}t.push("<",u);for(var S=0;S<s;S++)"xmlns"==(C=a.item(S)).prefix?i.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&i.push({prefix:"",namespace:C.value});for(S=0;S<s;S++){var C,A,T;fe(C=a.item(S),0,i)&&(he(t,(A=C.prefix||"")?"xmlns:"+A:"xmlns",T=C.namespaceURI),i.push({prefix:A,namespace:T})),me(C,t,n,r,i)}if(c===u&&fe(e,0,i)&&(he(t,(A=e.prefix||"")?"xmlns:"+A:"xmlns",T=e.namespaceURI),i.push({prefix:A,namespace:T})),l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):me(l,t,n,r,i.slice()),l=l.nextSibling;else for(;l;)me(l,t,n,r,i.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case w:case E:for(l=e.firstChild;l;)me(l,t,n,r,i.slice()),l=l.nextSibling;return;case f:return he(t,e.name,e.value);case h:return t.push(e.data.replace(/[<&>]/g,U));case m:return t.push("<![CDATA[",e.data,"]]>");case b:return t.push("\x3c!--",e.data,"--\x3e");case x:var P=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),P)t.push(" PUBLIC ",P),O&&"."!=O&&t.push(" ",O),t.push(">");else if(O&&"."!=O)t.push(" SYSTEM ",O,">");else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case y:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ge(e,t,n){var r;switch(t.nodeType){case p:(r=t.cloneNode(!1)).ownerDocument=e;case E:break;case f:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ge(e,i,n)),i=i.nextSibling;return r}function ve(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new O),r.ownerDocument=e,r.nodeType){case p:var a=t.attributes,s=r.attributes=new F,l=a.length;s._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(ve(e,a.item(c),!0));break;case f:n=!0}if(n)for(var u=t.firstChild;u;)r.appendChild(ve(e,u,n)),u=u.nextSibling;return r}function ye(e,t,n){e[t]=n}k.INVALID_STATE_ERR=(S[11]="Invalid state",11),k.SYNTAX_ERR=(S[12]="Syntax error",12),k.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),k.NAMESPACE_ERR=(S[14]="Invalid namespace",14),k.INVALID_ACCESS_ERR=(S[15]="Invalid access",15),P.prototype=Error.prototype,c(k,P),O.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)me(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},I.prototype.item=function(e){return N(this),this[e]||null},u(I,O),F.prototype={length:0,item:O.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new P(T);var n=this.getNamedItem(e.nodeName);return R(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new P(T);return t=this.getNamedItemNS(e.namespaceURI,e.localName),R(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return j(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return j(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},M.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new H;if(r.implementation=this,r.childNodes=new O,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new oe;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return X(this,e,t)},replaceChild:function(e,t){X(this,e,t,Y),t&&this.removeChild(t)},removeChild:function(e){return z(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ve(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==h&&e.nodeType==h?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(d,D),c(d,D.prototype),H.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==E){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return X(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===p&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),z(this,e)},replaceChild:function(e,t){X(this,e,t,Y),e.ownerDocument=this,t&&this.removeChild(t),$(e)&&(this.documentElement=e)},importNode:function(e,t){return ge(this,e,t)},getElementById:function(e){var t=null;return B(this.documentElement,(function(n){if(n.nodeType==p&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=l(e);return new I(this,(function(n){var r=[];return t.length>0&&B(n.documentElement,(function(i){if(i!==n&&i.nodeType===p){var o=i.getAttribute("class");if(o){var a=e===o;if(!a){var s=l(o);a=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}a&&r.push(i)}}var c})),r}))},createElement:function(e){var t=new Z;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new O,(t.attributes=new F)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new O,e},createTextNode:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ue;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Z,r=t.split(":"),i=n.attributes=new F;return n.childNodes=new O,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new ee,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},u(H,D),Z.prototype={nodeType:p,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===E?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,W(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new I(this,(function(t){var n=[];return B(t,(function(r){r===t||r.nodeType!=p||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new I(this,(function(n){var r=[];return B(n,(function(i){i===n||i.nodeType!==p||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},H.prototype.getElementsByTagName=Z.prototype.getElementsByTagName,H.prototype.getElementsByTagNameNS=Z.prototype.getElementsByTagNameNS,u(Z,D),ee.prototype.nodeType=f,u(ee,D),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[C])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(te,D),ne.prototype={nodeName:"#text",nodeType:h,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},u(ne,te),re.prototype={nodeName:"#comment",nodeType:b},u(re,te),ie.prototype={nodeName:"#cdata-section",nodeType:m},u(ie,te),oe.prototype.nodeType=x,u(oe,D),ae.prototype.nodeType=_,u(ae,D),se.prototype.nodeType=v,u(se,D),le.prototype.nodeType=g,u(le,D),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=E,u(ce,D),ue.prototype.nodeType=y,u(ue,D),de.prototype.serializeToString=function(e,t,n){return pe.call(e,t,n)},D.prototype.toString=pe;try{if(Object.defineProperty){function be(e){switch(e.nodeType){case p:case E:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(be(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(I.prototype,"length",{get:function(){return N(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case p:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ye=function(e,t,n){e["$$"+t]=n}}}catch(we){}t.DocumentType=oe,t.DOMException=P,t.DOMImplementation=M,t.Element=Z,t.Node=D,t.NodeList=O,t.XMLSerializer=de},56559:(e,t,n)=>{"use strict";var r=n(44582).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES},28978:(e,t,n)=>{var r=n(84722);r.DOMImplementation,r.XMLSerializer,t.DOMParser=n(15752).DOMParser},64466:(e,t,n)=>{var r=n(44582).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+i.source+o.source+"*(?::"+i.source+o.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,i,o,a){function s(e,t,r){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),r)}for(var l,c=++t,u=0;;){var d=e.charAt(c);switch(d){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(l,p=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(l,p=e.slice(t,c),t),a.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,c)).slice(-1)&&(n.closed=!0,p=p.slice(0,-1));case 2:2===u&&(p=l),4==u?(a.warning('attribute "'+p+'" missed quot(")!'),s(l,p,t)):(r.isHTML(i[""])&&p.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),s(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var p=e.slice(t,c);a.warning('attribute "'+p+'" missed quot(")!!'),s(l,p,t);case 5:u=6}else switch(u){case 2:n.tagName,r.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,u=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(e,t,n){for(var i=e.tagName,o=null,a=e.length;a--;){var s=e[a],l=s.qName,c=s.value;if((f=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,f),d=l.slice(f+1),p="xmlns"===u&&d;else d=l,u=null,p="xmlns"===l&&"";s.localName=d,!1!==p&&(null==o&&(o={},h(n,n={})),n[p]=o[p]=c,s.uri=r.XMLNS,t.startPrefixMapping(p,c))}for(a=e.length;a--;)(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=r.XML),"xmlns"!==u&&(s.uri=n[u||""]));var f;(f=i.indexOf(":"))>0?(u=e.prefix=i.slice(0,f),d=e.localName=i.slice(f+1)):(u=null,d=e.localName=i);var m=e.uri=n[u||""];if(t.startElement(m,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(m,d,i),o)for(u in o)Object.prototype.hasOwnProperty.call(o,u)&&t.endPrefixMapping(u)}function p(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function f(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function h(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function m(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var u=o[a-1];return n.startDTD(s,l,c),n.endDTD(),u.index+u[0].length}return-1}function g(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function v(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),h(t,t={}),function(e,t,n,i,o){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>k){var n=e.substring(k,t).replace(/&#?\w+;/g,a);x&&h(k),i.characters(n,0,t-k),k=t}}function h(t,n){for(;t>=b&&(n=w.exec(e));)y=n.index,b=y+n[0].length,x.lineNumber++;x.columnNumber=t-y+1}for(var y=0,b=0,w=/.*(?:\r\n?|\n)|.*$/g,x=i.locator,E=[{currentNSMap:t}],_={},k=0;;){try{var S=e.indexOf("<",k);if(S<0){if(!e.substr(k).match(/^\s*$/)){var C=i.doc,A=C.createTextNode(e.substr(k));C.appendChild(A),i.currentElement=A}return}switch(S>k&&l(S),e.charAt(S+1)){case"/":var T=e.indexOf(">",S+3),P=e.substring(S+2,T).replace(/[ \t\n\r]+$/g,""),O=E.pop();T<0?(P=e.substring(S+2).replace(/[\s<].*/,""),o.error("end tag name: "+P+" is not complete:"+O.tagName),T=S+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),o.error("end tag name: "+P+" maybe not complete"),T=S+1+P.length);var I=O.localNSMap,N=O.tagName==P;if(N||O.tagName&&O.tagName.toLowerCase()==P.toLowerCase()){if(i.endElement(O.uri,O.localName,P),I)for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&i.endPrefixMapping(F);N||o.fatalError("end tag name: "+P+" is not match the current start tagName:"+O.tagName)}else E.push(O);T++;break;case"?":x&&h(S),T=g(e,S,i);break;case"!":x&&h(S),T=m(e,S,i,o);break;default:x&&h(S);var L=new v,R=E[E.length-1].currentNSMap,j=(T=u(e,S,L,R,a,o),L.length);if(!L.closed&&f(e,T,L.tagName,_)&&(L.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),x&&j){for(var M=c(x,{}),D=0;D<j;D++){var U=L[D];h(U.offset),U.locator=c(x,{})}i.locator=M,d(L,i,R)&&E.push(L),i.locator=x}else d(L,i,R)&&E.push(L);r.isHTML(L.uri)&&!L.closed?T=p(e,T,L.tagName,a,i):T++}}catch(e){if(e instanceof s)throw e;o.error("element parse error: "+e),T=-1}T>k?k=T:l(Math.max(S,k)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},v.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},73866:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pane=void 0;var i=n(96540),o=n(92579);t.Pane=function(e){var t=e.subject,n=e.context.session.store,a=(0,o.useNote)(t,n);return i.createElement(o.NoteCard,r({},a))}},56838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=void 0;var r=n(40961);t.createElement=function(e){var t=document.createElement("div");return t.style.padding="1em",(0,r.render)(e,t),t}},47878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96540),i=n(92361),o=n(56838),a=n(73866),s={global:!1,icon:i.icons.iconBase+"noun_15695.svg",name:"activitystreams",label:function(e,t){return t.session.store.findTypeURIs(e)[i.ns.as("Note").uri]?"Note":null},render:function(e,t){return(0,o.createElement)(r.createElement(a.Pane,{subject:e,context:t}))}};t.default=s},4e3:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AttributionTag=void 0;var i=n(96540),o=n(32290);t.AttributionTag=function(e){var t=e.to;return(0,o.isLinkAttribution)(t)?i.createElement("a",{href:t.uri},t.uri):(0,o.isPersonAttribution)(t)?i.createElement(a,r({},t)):null};var a=function(e){var t=e.webId,n=e.name,r=e.imageSrc;return i.createElement(i.Fragment,null,r&&i.createElement("img",{height:"47",width:"47",alt:n,src:r}),i.createElement("a",{href:t},n))}},97103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormattedDate=void 0;var r=n(96540),i=n(56186),o={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};t.FormattedDate=function(e){var t=e.value,n=e.className;if(!t)return null;var a=t.toLocaleDateString(void 0,o),s=(0,i.format)(t);return r.createElement("p",{className:n},s," · ",a)}},12525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoteCard=void 0;var r=n(96540),i=n(46169),o=n(97103),a=n(4e3),s=(0,i.createUseStyles)({card:{fontFamily:"sans-serif",display:"flex",flexWrap:"wrap",borderRadius:"4px",flexDirection:"column",justifyContent:"center",padding:"1em",boxShadow:"0 1px 5px rgba(0,0,0,0.2)",transition:"all .25s ease-in-out",maxWidth:632},content:{fontSize:"larger"},date:{color:"rgb(0, 0, 0, 60%)"},attribution:{display:"flex",alignItems:"center",fontWeight:"bold","& a":{color:"black",textDecoration:"none"},"& a:hover":{textDecoration:"underline"},"& img":{marginRight:5,width:47,borderRadius:5}}});t.NoteCard=function(e){var t=e.content,n=e.published,i=e.attributedTo,l=s();return r.createElement("div",{className:l.card},r.createElement("div",{className:l.attribution},r.createElement(a.AttributionTag,{to:i})),r.createElement("p",{className:l.content},t),r.createElement(o.FormattedDate,{className:l.date,value:n}))}},92579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNote=t.NoteCard=void 0;var r=n(12525);Object.defineProperty(t,"NoteCard",{enumerable:!0,get:function(){return r.NoteCard}});var i=n(75232);Object.defineProperty(t,"useNote",{enumerable:!0,get:function(){return i.useNote}})},59248:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAttribution=t.readAttribution=void 0;var o=n(92361),a=n(67364);function s(e,t){return e instanceof a.NamedNode?(n=t.findTypeURIs(e),r=o.ns.as("Person").uri,i=o.ns.foaf("Person").uri,s=o.ns.vcard("Individual").uri,l=o.ns.schema("Person").uri,n[r]||n[i]||n[s]||n[l]?function(e,t){var n=e.anyValue(t,o.ns.as("name"))||e.anyValue(t,o.ns.foaf("name"))||e.anyValue(t,o.ns.vcard("fn"))||e.anyValue(t,o.ns.schema("name"))||"",r=function(e,t){var n=e.anyValue(t,o.ns.as("image"));return n?e.anyValue((0,a.sym)(n),o.ns.as("url"))||void 0:e.anyValue(t,o.ns.foaf("img"))||e.anyValue(t,o.ns.vcard("hasPhoto"))||void 0}(e,t);return{discriminator:"PersonAttribution",webId:t.uri,name:n,imageSrc:r}}(t,e):{discriminator:"LinkAttribution",uri:e.uri}):{discriminator:"NoAttribution"};var n,r,i,s,l}t.readAttribution=function(e,t){return s(t.any(e,o.ns.as("attributedTo")),t)},t.fetchAttribution=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=(0,a.sym)(e.uri),[4,t.fetcher.load(n)];case 1:return r.sent(),[2,s(n,t)]}}))}))}},84129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0;var r=n(92361),i=n(59248);t.read=function(e,t){var n=t.any(e,r.ns.as("content")),o=t.any(e,r.ns.as("published")),a=(0,i.readAttribution)(e,t);return n?{content:n.value,published:o&&new Date(o.value),attributedTo:a}:null}},32290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPersonAttribution=t.isLinkAttribution=void 0,t.isLinkAttribution=function(e){return"LinkAttribution"===e.discriminator},t.isPersonAttribution=function(e){return"PersonAttribution"===e.discriminator}},75232:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useNote=void 0;var a=n(84129),s=n(32290),l=n(96540),c=n(59248);t.useNote=function(e,t){var n=(0,l.useState)((0,a.read)(e,t)),u=n[0],d=n[1];return(0,l.useEffect)((function(){!function(){i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return(0,s.isLinkAttribution)(u.attributedTo)?[4,(0,c.fetchAttribution)(u.attributedTo,t)]:[3,2];case 1:e=n.sent(),d(r(r({},u),{attributedTo:e})),n.label=2;case 2:return[2]}}))}))}()}),[]),u}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},13144:(e,t,n)=>{"use strict";var r=n(66743),i=n(11002),o=n(10076),a=n(47119);e.exports=a||r.call(o,i)},11002:e=>{"use strict";e.exports=Function.prototype.apply},10076:e=>{"use strict";e.exports=Function.prototype.call},73126:(e,t,n)=>{"use strict";var r=n(66743),i=n(69675),o=n(10076),a=n(13144);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(r,o,e)}},47119:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},36556:(e,t,n)=>{"use strict";var r=n(70453),i=n(73126),o=i([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i([n]):n}},88782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findChat=k,t.getChat=function(e){return C.apply(this,arguments)};var r=n(92361),i=n(23451),o=n(67364),a=n(62440);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&r.call(k,a)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==s(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(s(t)+" is not iterable")}return w.prototype=x,i(S,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,a,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function d(){return p.apply(this,arguments)}function p(){return(p=u(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=i.authn.currentUser())){e.next=3;break}throw new Error("Current user not found! Not logged in?");case 3:return e.next=5,i.store.fetcher.load(t.doc());case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=u(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.store.any(t,r.ns.space("storage"),void 0,t.doc())){e.next=3;break}throw new Error("Current user pod root not found!");case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return g.apply(this,arguments)}function g(){return(g=u(l().mark((function e(t,n){var o,a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.store.fetcher.load(t.doc());case 2:if(o=i.store.any(t,r.ns.ldp("inbox"),void 0,t.doc())){e.next=5;break}throw new Error("Invitee inbox not found! ".concat(t.value));case 5:return a="\n<> a <http://www.w3.org/ns/pim/meeting#LongChatInvite> ;\n".concat(r.ns.rdf("seeAlso")," <").concat(n.value,"> . \n  "),e.next=8,i.store.fetcher.webOperation("POST",o.value,{data:a,contentType:"text/turtle"});case 8:if((s=e.sent).headers.get("location")){e.next=12;break}throw new Error("Invite sending returned a ".concat(s.status));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){var n=new URL("IndividualChats/".concat(new URL(e.value).host,"/"),t.value).toString();return new o.NamedNode(n)}function y(e,t){return b.apply(this,arguments)}function b(){return(b=u(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.longChatPane.mintNew({session:{store:i.store}},{me:n,newBase:t.value});case 2:return r=e.sent,e.abrupt("return",r.newInstance);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return x.apply(this,arguments)}function x(){return(x=u(l().mark((function e(t,n,r){var a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.store.fetcher.load(t);case 2:if(a=i.store.any(t,new o.NamedNode("http://www.iana.org/assignments/link-relations/acl"))){e.next=5;break}throw new Error("Chat ACL doc not found!");case 5:return s="\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#owner>\n    a acl:Authorization;\n    acl:agent <".concat(n.value,">;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Write, acl:Control.\n<#invitee>\n    a acl:Authorization;\n    acl:agent <").concat(r.value,">;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Append.\n"),e.next=8,i.store.fetcher.webOperation("PUT",a.value,{data:s,contentType:"text/turtle"});case 8:e.sent;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return _.apply(this,arguments)}function _(){return(_=u(l().mark((function e(t,n){var a,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.store.any(n,r.ns.solid("privateTypeIndex"))){e.next=3;break}throw new Error("Private type index not found!");case 3:return e.next=5,i.store.fetcher.load(a);case 5:return s=r.widgets.newThing(a),c=[(0,o.st)(s,r.ns.rdf("type"),r.ns.solid("TypeRegistration"),a.doc()),(0,o.st)(s,r.ns.solid("forClass"),r.ns.meeting("LongChat"),a.doc()),(0,o.st)(s,r.ns.solid("instance"),t,a.doc())],e.next=9,new Promise((function(e,t){i.store.updater.update([],c,(function(n,r,i){r?e():t(new Error(i))}))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return S.apply(this,arguments)}function S(){return(S=u(l().mark((function e(t){var n,r,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return n=e.sent,e.next=5,f(n);case 5:return r=e.sent,s=v(t,r),c=!0,e.prev=8,e.next=11,i.store.fetcher.load(new o.NamedNode(s.value+a.longChatPane.CHAT_LOCATION_IN_CONTAINER));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),c=!1;case 16:return e.abrupt("return",{me:n,chatContainer:s,exists:c});case 17:case"end":return e.stop()}}),e,null,[[8,13]])})))).apply(this,arguments)}function C(){return C=u(l().mark((function e(t){var n,r,i,s,c,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(u.length>1&&void 0!==u[1])||u[1],e.next=3,k(t);case 3:if(r=e.sent,i=r.me,s=r.chatContainer,!r.exists){e.next=9;break}return e.abrupt("return",new o.NamedNode(s.value+a.longChatPane.CHAT_LOCATION_IN_CONTAINER));case 9:if(!n){e.next=20;break}return e.next=12,y(s,i);case 12:return c=e.sent,e.next=15,m(t,c);case 15:return e.next=17,w(s,i,t);case 17:return e.next=19,E(c,i);case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}},62440:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.longChatPane=void 0;var i=n(23451),o=l(n(92361)),a=l(n(67364));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function c(){c=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,s,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&i.call(k,s)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,s,l){var c=f(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,s,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}var p=o.ns,f=p.meeting("LongChat"),h="index.ttl#this",m=o.style.sidebarComponentStyle||" padding: 0.5em; width: 100%;",g=o.style.sidebarStyle||"overflow-x: auto; overflow-y: auto; border-radius: 1em; border: 0.1em solid white;";t.longChatPane={CHAT_LOCATION_IN_CONTAINER:h,icon:o.icons.iconBase+"noun_1689339.svg",name:"long chat",label:function(e,t){var n=t.session.store;return n.holds(e,p.rdf("type"),p.meeting("LongChat"))?"Chat channnel":n.holds(e,p.rdf("type"),p.sioc("Thread"))?"Thread":n.any(e,p.sioc("content"))&&n.any(e,p.dct("created"))?"message":null},mintClass:f,mintNew:function(e,t){var n=e.session.store,r=n.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);var i=t.newInstance=t.newInstance||n.sym(t.newBase+h),o=i.doc();n.add(i,p.rdf("type"),p.meeting("LongChat"),o),n.add(i,p.dc("title"),"Chat channel",o),n.add(i,p.dc("created"),new Date,o),t.me&&n.add(i,p.dc("author"),t.me,o);var a=function(e,t,n){return"\n    @prefix : <#>.\n    @prefix acl: <http://www.w3.org/ns/auth/acl#>.\n    @prefix foaf: <http://xmlns.com/foaf/0.1/>.\n    @prefix lon: <./".concat(t,">.\n\n    :ControlReadWrite\n        a acl:Authorization;\n        acl:accessTo lon:;\n        acl:agent <").concat(e.uri,">;\n        acl:default lon:;\n        acl:mode acl:Control, acl:Read, acl:Write.\n    :Read\n        a acl:Authorization;\n        acl:accessTo lon:;\n        acl:agentClass foaf:Agent;\n        acl:default lon:;\n        acl:mode acl:Read.\n    :Read").concat(n,"\n        a acl:Authorization;\n        acl:accessTo lon:;\n        acl:agentClass acl:AuthenticatedAgent;\n        acl:default lon:;\n        acl:mode acl:Read, acl:").concat(n,".")};return new Promise((function(e,i){r.put(o,n.statementsMatching(void 0,void 0,void 0,o),"text/turtle",(function(n,r,o){r?e(t):i(new Error("FAILED to save new chat channel at: "+n+" : "+o))})).then((function(e){return new Promise((function(e,r){t.me&&(n.fetcher.webOperation("PUT",t.newBase+".acl",{data:a(t.me,"","Append"),contentType:"text/turtle"}),n.fetcher.webOperation("PUT",t.newBase+"index.ttl.acl",{data:a(t.me,"index.ttl","Write"),contentType:"text/turtle"})),e(t)}))}))}))},render:function(e,t,n){var r=t.dom,s=t.session.store,l=s.sym("https://solid.github.io/solid-panes/longCharPane/preferencesForm.ttl#this"),u=l.doc();s.holds(void 0,void 0,void 0,u)||a.parse('\n    @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n    @prefix solid: <http://www.w3.org/ns/solid/terms#>.\n    @prefix ui: <http://www.w3.org/ns/ui#>.\n    @prefix : <#>.\n\n    :this\n      <http://purl.org/dc/elements/1.1/title> "Chat preferences" ;\n      a ui:Form ;\n      ui:parts ( :colorizeByAuthor :expandImagesInline :newestFirst :inlineImageHeightEms\n                  :shiftEnterSendsMessage :authorDateOnLeft :showDeletedMessages).\n\n    :colorizeByAuthor a ui:TristateField; ui:property solid:colorizeByAuthor;\n    ui:label "Color user input by user".\n\n    :expandImagesInline a ui:TristateField; ui:property solid:expandImagesInline;\n    ui:label "Expand image URLs inline".\n\n    :newestFirst a ui:TristateField; ui:property solid:newestFirst;\n    ui:label "Newest messages at the top".\n\n    :inlineImageHeightEms a ui:IntegerField; ui:property solid:inlineImageHeightEms;\n    ui:label "Inline image height (lines)".\n\n    :shiftEnterSendsMessage a ui:TristateField; ui:property solid:shiftEnterSendsMessage;\n    ui:label "Shift-Enter sends message".\n\n    :authorDateOnLeft a ui:TristateField; ui:property solid:authorDateOnLeft;\n    ui:label "Author & date of message on left".\n\n    :showDeletedMessages a ui:TristateField; ui:property solid:showDeletedMessages;\n    ui:label "Show placeholders for deleted messages".\n',s,u.uri,"text/turtle");var h=s.statementsMatching(null,p.ui.property,null,u).map((function(e){return e.object}));function v(e){return y.apply(this,arguments)}function y(){return y=d(c().mark((function e(t){var n,r,a,u,d,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dom,r=t.noun,(a=n.createElement("div")).appendChild(b(a)),a.style=m,a.style.minWidth="25em",a.style.maxHeight=N,u=a.appendChild(n.createElement("table")),d=u.appendChild(n.createElement("tr")),p=u.appendChild(n.createElement("tr")),!(h=i.authn.currentUser())){e.next=15;break}return e.next=13,o.login.registrationControl({noun:r,me:h,statusArea:p,dom:n,div:d},A,f);case 13:console.log("Registration control finsished."),a.appendChild(o.preferences.renderPreferencesForm(A,f,l,{noun:r,me:h,statusArea:p,div:a,dom:n,kb:s}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function b(e){var n=o.widgets.button(t.dom,o.icons.iconBase+"noun_1180156.svg","close",(function(){e.parentNode.removeChild(e)}));return n.style.float="right",n.style.margin="0.7em",delete n.style.backgroundColor,n}function w(){return(w=d(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W){e.next=4;break}return e.next=3,v({dom:r,noun:"chat room"});case 3:W=e.sent;case 4:D.contains(W)?(W.parentNode.removeChild(W),W=null):D.appendChild(W);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,n){var a=r.createElement("div"),s=i.authn.currentUser(),l={div:a,dom:r,noun:n,statusArea:a,me:s,refreshTarget:e},c=[t.session.paneRegistry.byName("chat")];return o.create.newThingUI(l,t,c),a}function E(e,t){return _.apply(this,arguments)}function _(){return _=d(c().mark((function e(t,n){var i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.createElement("div"),a={dom:r,div:i,noun:n},e.next=4,o.login.registrationList(a,{public:!0,private:!0,type:t});case 4:return i.appendChild(x(i,n)),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}var k,S=null;function C(){return(C=d(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=10;break}return(S=r.createElement("div")).style=m,S.style.maxHeight=N,S.appendChild(b(S)),e.t0=S,e.next=8,E(p.meeting("LongChat"),"chat");case 8:e.t1=e.sent,e.t0.appendChild.call(e.t0,e.t1);case 10:R.contains(S)?S.parentNode.removeChild(S):R.appendChild(S);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=e,T=null,P=null;if(s.holds(e,p.rdf("type"),p.meeting("LongChat")))console.log("@@@ Chat channnel");else if(s.holds(e,p.rdf("type"),p.sioc("Thread"))){console.log("Thread is subject "+e.uri),P=e;var O=s.the(null,p.sioc("has_reply"),P,P.doc());if(!O)throw new Error("Thread has no root message "+P);if(!(A=s.any(null,p.wf("message"),O)))throw new Error("Thread root has no link to chatChannel")}else if(s.any(e,p.sioc("content"))&&s.any(e,p.dct("created"))&&(console.log("message is subject "+e.uri),T=e,!(A=s.any(null,p.wf("message"),T))))throw new Error("Message has no link to chatChannel");var I=r.createElement("div"),N="20cm",F=I.appendChild(r.createElement("table"));F.style.maxHeight='12"';var L=F.appendChild(r.createElement("tr")),R=L.appendChild(r.createElement("td")),j=L.appendChild(r.createElement("td")),M=L.appendChild(r.createElement("td")),D=L.appendChild(r.createElement("td")),U=F.appendChild(r.createElement("tr"));R.style=g,R.style.paddingRight="1em",M.style=g,M.style.paddingLeft="1em",D.style=g,D.style.paddingLeft="1em",U.appendChild(r.createElement("td"));var B=U.appendChild(r.createElement("td"));U.appendChild(r.createElement("td"));var H=o.widgets.button(r,o.icons.iconBase+"noun_339237.svg","participants ...");B.appendChild(H),H.addEventListener("click",(function(e){if(!k){(k=r.createElement("div")).style=m,k.style.maxHeight=N,k.appendChild(b(k));var t=i.authn.currentUser();t||alert("Should be logeed in for partipants panel"),o.pad.manageParticipation(r,k,A.doc(),A,t,{})}R.contains(k)?(k.parentNode.removeChild(k),k=null):R.appendChild(k)}));var q=o.widgets.button(r,o.icons.iconBase+"noun_1689339.svg","List of other chats ...");B.appendChild(q),q.addEventListener("click",(function(e){return C.apply(this,arguments)}));var W=null,z=o.widgets.button(r,o.icons.iconBase+"noun_344563.svg","Setting ...");B.appendChild(z),z.style.float="right",z.addEventListener("click",(function(e){return w.apply(this,arguments)})),I.setAttribute("class","chatPane");var V={infinite:!0},$={noun:"chat room",div:I,dom:r};function K(e,t){return G.apply(this,arguments)}function G(){return G=d(c().mark((function e(t,n){var i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("@@@@ showThread thread "+t),(i={}).thread=t,i.includeRemoveButton=!0,i.authorDateOnLeft=n.authorDateOnLeft,i.newestFirst=n.newestFirst,M.innerHTML="",console.log("Options for showThread message Area",i),e.next=10,o.infiniteMessageArea(r,s,A,i);case 10:(a=e.sent).style.resize="both",a.style.overflow="auto",a.style.maxHeight=N,M.appendChild(a);case 15:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function J(){return(J=d(c().mark((function e(){var t,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.preferences.getPreferencesForClass(A,f,h,$);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.widgets.complain($,e.t0);case 9:for(i in t)V[i.split("#")[1]]=t[i];return T&&(V.selectedMessage=T),n.solo&&(V.solo=!0),P?V.thread=P:V.showThread=K,e.next=15,o.infiniteMessageArea(r,s,A,V);case 15:(a=e.sent).style.resize="both",a.style.overflow="auto",a.style.maxHeight=N,j.appendChild(a);case 20:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return $.me=i.authn.currentUser(),function(){return J.apply(this,arguments)}().then(console.log("async - chat pane built")),I}}},3071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getChat",{enumerable:!0,get:function(){return o.getChat}}),Object.defineProperty(t,"longChatPane",{enumerable:!0,get:function(){return i.longChatPane}}),Object.defineProperty(t,"shortChatPane",{enumerable:!0,get:function(){return r.shortChatPane}});var r=n(74694),i=n(62440),o=n(88782)},74694:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.shortChatPane=void 0;var i=n(23451),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=o.ns;t.shortChatPane={icon:o.icons.iconBase+"noun_346319.svg",name:"chat",audience:[s.solid("PowerUser")],label:function(e,t){var n=t.session.store,r=n.each(e,s.wf("message")).length;return r>0?"Chat ("+r+")":n.holds(e,s.rdf("type"),s.meeting("Chat"))?"Meeting chat":n.holds(void 0,s.rdf("type"),s.foaf("ChatChannel"),e)?"IRC log":null},mintClass:s.meeting("Chat"),mintNew:function(e,t){if(confirm("short Chat is deprecated in favor of long Chat.\nEmbedded chat for comments and existing short Chats will work.\nYou can report any issues at https://github.com/SolidOS/chat-pane ?\n\nDo you really want to create a new deprecated short Chat?")){var n=e.session.store,r=n.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);var i=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),o=i.doc();return n.add(i,s.rdf("type"),s.meeting("Chat"),o),n.add(i,s.dc("title"),"Chat",o),n.add(i,s.dc("created"),new Date,o),t.me&&n.add(i,s.dc("author"),t.me,o),new Promise((function(e,i){r.put(o,n.statementsMatching(void 0,void 0,void 0,o),"text/turtle",(function(n,r,o){r?e(t):i(new Error("FAILED to save new tool at: "+n+" : "+o))}))}))}},render:function(e,t){var n=t.session.store,r=t.dom,a=r.createElement("div");a.setAttribute("class","chatPane");var l,c,u,d,p={};return n.holds(e,s.rdf("type"),s.meeting("Chat"))?l=e.doc():n.any(e,o.ns.wf("message"))?l=i.store.any(e,o.ns.wf("message")).doc():n.holds(void 0,s.rdf("type"),s.foaf("ChatChannel"),e)||n.holds(e,s.rdf("type"),s.foaf("ChatChannel"))?(l=e.doc(),p.query=(u=new $rdf.Query("IRC log entries"),d=[],["chan","msg","date","list","pred","creator","content"].map((function(e){u.vars.push(d[e]=$rdf.variable(e))})),u.pat.add(d.chan,s.foaf("chatEventList"),d.list),u.pat.add(d.list,d.pred,d.msg),u.pat.add(d.msg,s.dc("date"),d.date),u.pat.add(d.msg,s.dc("creator"),d.creator),u.pat.add(d.msg,s.dc("description"),d.content),u)):("Unknown chat type",(c=r.createElement("pre")).setAttribute("style","background-color: undefined"),a.appendChild(c),c.appendChild(r.createTextNode("Unknown chat type"))),a.appendChild(o.messageArea(r,n,e,l,p)),n.updater.addDownstreamChangeListener(l,(function(){o.widgets.refreshTree(a)})),a}}},86023:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>te});var r=n(23451),i=n(92361),o=n(5840);const a=i.rdf,s=i.ns,l=i.widgets,c=i.utils,u=r.store,d=i.style,p=l.publicData.wikidataClasses,f=l.publicData.wikidataParameters,h="Solid ID",m="In public data",g=i.icons.iconBase+"noun_1369241.svg",v=i.icons.iconBase+"noun_1369237.svg",y="#ffe6ff";function b(e,t){const n=function(e,t,n){return e.each(t,s.vcard("url"),null,t.doc()).filter((n=>e.holds(n,s.rdf("type"),undefined,t.doc()))).map((n=>e.any(n,s.vcard("value"),null,t.doc()))).filter((e=>!!e))}(e,t).concat(function(e,t,n){const r=new Set,i=new Set([t.uri]);for(;i.size;){const t=Array.from(i)[0];if(i.delete(t),r.has(t))continue;r.add(t);const o=e.sym(t);e.each(o,s.owl("sameAs"),null,n).concat(e.each(null,s.owl("sameAs"),o,n)).forEach((e=>{console.log("        OWL sameAs found "+e),i.add(e.uri)})),e.each(o,s.schema("sameAs"),null,n).concat(e.each(null,s.schema("sameAs"),o,n)).forEach((e=>{console.log("        Schema sameAs found "+e),i.add(e.uri)}))}return r.delete(t.uri),Array.from(r).map((t=>e.sym(t)))}(e,t,t.doc())),r=[...new Set(n.map((e=>e.value)))].map((t=>e.sym(t)));return r.sort(),r.filter((e=>!e.sameTerm(t))),r}function w(e){const t=e.doc();return u.holds(e,s.rdf("type"),s.vcard("Organization"),t)||u.holds(e,s.rdf("type"),s.schema("Organization"),t)}async function x(e,t,n){async function r(){const o=b(u,e);console.log("WebId personas: "+e+" -> "+o.map((e=>e.uri)).join(",\n  ")),E.style.display=o.length?"none":"",c.syncTableToArrayReOrdered(_,o,(o=>function(o,c,u){const d=o.createElement("div");d.style.width="100%";const p=d.appendChild(o.createElement("table"));p.style.width="100%";const f=p.appendChild(function(t){const c=new a.Literal(t.uri),p=n.urlType.sameTerm(s.vcard("WebID")),f=n.editable?async function(){try{await async function(e,t,n,r){console.log(`Removing from ${e} their ${h}: ${t}.`);const i=r.each(e,s.vcard("url"),null,e.doc()).filter((t=>r.holds(t,s.rdf("type"),n,e.doc()))).filter((n=>r.holds(n,s.vcard("value"),t,e.doc())));if(!i.length)throw new Error(`Person ${e} does not have ${h} ${t}.`);const o=i[0],l=[a.st(e,s.vcard("url"),o,e.doc()),a.st(o,s.rdf("type"),n,e.doc()),a.st(o,s.vcard("value"),t,e.doc())];await r.updater.update(l,[]);const c=r.each(null,s.vcard("hasMember"),r.sym(t));let u=[];const d=[];c.forEach((async n=>{u=u.concat(r.statementsMatching(r.sym(t),s.owl("sameAs"),e,n.doc())),d.push(a.st(n,s.vcard("hasMember"),e,n.doc())),r.statementsMatching(r.sym(t),s.owl("sameAs"),null,n.doc()).length<2&&(u=u.concat(r.statementsMatching(n,s.vcard("hasMember"),r.sym(t),n.doc())))})),await A(u,d)}(e,c,n.urlType,u)}catch(t){d.appendChild(l.errorMessageBlock(o,`Error removing Id ${c} from ${e}: ${t}`))}await r()}:null,m={deleteFunction:f,draggable:!0};p&&(m.title=t.uri.split("/")[2],m.image=l.faviconOrDefault(o,t.site()));const g=l.personTR(o,i.ns.foaf("knows"),t,m);return p&&(g.children[1].textConent=m.title,g.style.backgroundColor=y),g.style.padding="0.2em",g}(c));f.style.width="100%";const m=p.appendChild(o.createElement("tr")).appendChild(o.createElement("td"));let b;m.setAttribute("colspan",3);let x=!0;const E=f.children[2].appendChild(l.button(o,g,"View",(function(e){x=!x,b.style.visibility=x?"visible":"collapse",E.children[0].src=x?v:g})));E.style.float="right",delete E.style.backgroundColor,delete E.style.border;const _=(w(e)||w(c),"profile");return l.publicData.loadPublicDataThing(u,e,c).then((e=>{try{b=function(e,t,n,r){const i=r.session.paneRegistry.byName(n).render(t,r);return i.setAttribute("style","border: 0.1em solid #444; border-radius: 0.5em"),i}(0,c,_,t),console.log("main: ",b),b.style.width="100%",console.log("renderIdControl: main element: ",b),m.appendChild(b)}catch(e){b=l.errorMessageBlock(o,`Problem displaying persona ${c}: ${e}`),m.appendChild(b)}}),(e=>{b=l.errorMessageBlock(o,`Error loading persona ${c}: ${e}`),m.appendChild(b)})),d}(p,o,u)))}const{dom:p}=t;(n=n||{}).editable=u.updater.editable(e.doc().uri,u);const m=p.createElement("div");if(m.style="border-radius:0.3em; border: 0.1em solid #888;",0===b(u,e).length&&!n.editable)return m.style.display="none",m;const x=m.appendChild(p.createElement("h4"));x.textContent=n.idNoun,x.style=d.formHeadingStyle,x.style.color=d.highlightColor;const E=m.appendChild(p.createElement("p"));E.style=d.commentStyle,E.textContent=n.longPrompt,m.appendChild(p.createElement("table")).style.width="100%",n.editable&&(n.manualURIEntry=!0,n.queryParams=n.queryParams||f,m.appendChild(await(0,o.renderAutocompleteControl)(p,e,n,(async function(e,t){try{await async function(e,t,n,r){try{new URL(t)}catch(e){throw new Error(`${h}: ${t} is not a valid url.`)}console.log(`Adding to ${e} a ${h}: ${t}.`);const i=r.bnode(),o=[a.st(e,s.vcard("url"),i,e.doc()),a.st(i,s.rdf("type"),n,e.doc()),a.st(i,s.vcard("value"),t,e.doc())],l=r.each(null,s.vcard("hasMember"),e);let c=[];l.forEach((n=>{c=c.concat(r.statementsMatching(n,s.vcard("hasMember"),e,n.doc())),o.push(a.st(n,s.vcard("hasMember"),r.sym(t),n.doc())),o.push(a.st(r.sym(t),s.owl("sameAs"),e,n.doc()))}));try{await A(c,o)}catch(e){throw new Error(`Could not create webId ${h}: ${t}.`)}}(e,t,n.urlType,u)}catch(n){m.appendChild(l.errorMessageBlock(p,`Error adding Id ${t} to ${e}: ${n}`))}await r()}))));const _=m.appendChild(p.createElement("div"));return await r(),m}const E=i.ns,_=i.rdf,k=i.utils,S=r.store,C=S.updater;async function A(e,t=[]){const n=e.concat(t).map((e=>e.why)),r=[];n.forEach((e=>{r.find((t=>t.equals(e)))||r.push(e)}));const i=r.map((n=>S.updater.update(e.filter((e=>e.why.sameTerm(n))),t.filter((e=>e.why.sameTerm(n))))));return Promise.all(i)}async function T(e,t){await S.fetcher.load(e.doc());const n=S.any(e,E.vcard("groupIndex")),r=function(e){return e.replace(/\W/gu,"_").replace(/_+/g,"_")}(t),i=S.sym(e.dir().uri+"Group/"+r+".ttl#this"),o=i.doc();try{await S.fetcher.load(n)}catch(e){throw new Error("Error loading group index!"+n.uri+": "+e)}if(S.holds(e,E.vcard("includesGroup"),i,n))return i;const a=[_.st(e,E.vcard("includesGroup"),i,n),_.st(i,E.rdf("type"),E.vcard("Group"),n),_.st(i,E.vcard("fn"),t,n)];try{await C.update([],a)}catch(e){throw new Error("Could not update group index "+e)}const s=[_.st(e,E.vcard("includesGroup"),i,o),_.st(i,E.rdf("type"),E.vcard("Group"),o),_.st(i,E.vcard("fn"),t,o)];try{await C.update([],s)}catch(e){throw new Error("Could not update group file: "+e)}return i}async function P(e,t){const n=[e.doc(),t.doc()];try{await S.fetcher.load(n)}catch(e){throw new Error("addPersonToGroup: "+e)}const r=S.findTypeURIs(e);for(const e in r);if(!(E.vcard("Individual").uri in r)&&!(E.vcard("Organization").uri in r))return alert(`Can't add ${e} to a group: it has to be an individual or another group.`);const i=S.any(e,E.vcard("fn")),o=S.any(t,E.vcard("fn"));if(!i)return alert("No vcard name known for "+e);if(S.holds(e,E.vcard("fn"),null,t.doc()))return alert("ALREADY added "+i+" to group "+o);if(!confirm("Add "+i+" to group "+o+"?"))return;const a=[_.st(e,E.vcard("fn"),i,t.doc())],s=b(S,e).map((e=>e.value));s.length?s.forEach((n=>{a.push(_.st(S.sym(n),E.owl("sameAs"),e,t.doc())),a.push(_.st(t,E.vcard("hasMember"),S.sym(n),t.doc()))})):a.push(_.st(t,E.vcard("hasMember"),e,t.doc()));try{await C.update([],a),S.fetcher.unload(t.doc()),await S.fetcher.load(t.doc())}catch(e){throw new Error(`Error adding ${i} to group ${o}:`+e)}return e}function O(e,t){const n=e.each(t,E.vcard("hasMember"),null,t.doc());let r=[];n.forEach((n=>{r=e.any(n,E.vcard("fn"),null,t.doc())?r.concat(n):r.concat(e.each(n,E.owl("sameAs"),null,t.doc()))}));const i=new Set(r.map((e=>e.uri)));return r=[...i].map((t=>e.sym(t))),r}function I(e,t){const n=e.dir().dir().dir();return t.uri&&t.uri.startsWith(n.uri)}const{setACLUserPublic:N}=r.solidLogicSingleton.acl,F=i.rdf;var L=n(86049);const R=i.rdf,j=i.ns,M=i.utils,D=r.store;const U=i.ns,B=i.utils,H=r.store;function q(e){let t=H.statementsMatching(null,U.owl("sameAs"),e).map((e=>e.why)).concat(H.each(null,U.vcard("hasMember"),e));const n=new Set(t.map((e=>e.uri)));return t=[...n].map((e=>H.sym(e))),t}var W=n(12038),z=n.n(W),V=n(31789),$=n.n(V);const K=i.rdf,G=i.ns,J=r.store,Q=i.style;async function Y(e,t,n,o){function a(n){console.log(n),t.appendChild(i.widgets.errorMessageBlock(e,n,"pink"))}function l(){t.appendChild(e.createElement("div")).setAttribute("style","height: 1em")}const c=J.findTypeURIs(n),d=!(!c[G.vcard("Organization").uri]&&!c[G.schema("Organization").uri]),g=J.updater.editable(n.doc().uri,J),v=J.sym("https://solid.github.io/solid-panes/contact/individualForm.ttl#form1");!function(e,t,n){const r=t.doc();e.holds(void 0,void 0,void 0,r)||K.parse(n,e,r.uri,"text/turtle")}(J,v,z());const y=J.sym("https://solid.github.io/solid-panes/contact/individualForm.ttl#orgDetailsForm"),b=i.ns.vcard("Type").doc();J.holds(void 0,void 0,void 0,b)||K.parse($(),J,b.uri,"text/turtle");try{await J.fetcher.load(n.doc())}catch(e){a("Error: Failed to load contact card: "+e)}t.style=Q.paneDivStyle||"padding: 0.5em 1.5em 1em 1.5em;",r.authn.checkUser(),t.appendChild(function(e,t){function n(t){console.log(t),m.appendChild(i.widgets.errorMessageBlock(e,t,"pink"))}async function o(e,t,n){const r=[R.st(e,j.vcard("hasPhoto"),t,e.doc())];try{n?await D.updater.update(r,[]):await D.updater.update([],r)}catch(e){const n=" Write back image link FAIL "+t+", Error: "+e;console.log(n),alert(n)}}function a(e){D.fetcher.nowOrWhenFetched(e.doc(),(function(n,r){if(n){const n=D.findTypeURIs(e);for(const e in n)console.log("    drop object type includes: "+e);console.log("Default: assume web page  "+e),D.add(t,j.wf("attachment"),e,t.doc())}else console.log("Error looking up dropped thing "+e+": "+r)}))}function s(e,r,i){const o=L.extension(r);let a,s;r!==L.lookup(e)&&(e+="_."+o,console.log("MIME TYPE MISMATCH -- adding extension: "+e));const l=r.startsWith("image");let c,u;for(l?(a="image_",s=j.vcard("hasPhoto")):(a="attachment_",s=j.wf("attachment")),c=0;u=D.sym(t.dir().uri+e),D.holds(t,j.vcard("hasPhoto"),u);c++)e=a+c+"."+o;console.log("Putting "+i.byteLength+" bytes of "+r+" to "+u),D.fetcher.webOperation("PUT",u.uri,{data:i,contentType:r}).then((function(e){e.ok?(console.log(" Upload: put OK: "+u),D.add(t,s,u,t.doc()),D.fetcher.putBack(t.doc(),{contentType:"text/turtle"}).then((function(e){l&&g.refresh()}),(function(e){console.log(" Write back image link FAIL "+u+", Error: "+e)}))):n("Error uploading "+u+":"+e.status)}))}async function l(e){for(const t of e){let e=R.sym(t);if(console.log("Dropped on mugshot thing "+e),t.startsWith("http")&&t.indexOf("#")<0){t.startsWith("http:")&&(e=R.sym("https:"+t.slice(5)));const r={withCredentials:!1,credentials:"omit"};let i;try{i=await D.fetcher.webOperation("GET",e.uri,r)}catch(t){return n(`Gallery: fetch error trying to read picture ${e} data: ${t}`),void a(e)}const o=i.headers.get("Content-Type");let l=e.uri.split("/").slice(-1)[0];l=l.split("?")[0];const c=await i.arrayBuffer();return i.ok?void s(l,o,c):(alert("Cant download, so will link image. "+e+":"+i.status),void a(e))}alert("Not a web document URI, cannot copy as picture: "+e),a(e)}}function c(e){for(let t=0;t<e.length;t++){const n=e[t];console.log(" contacts: Filename: "+n.name+", type: "+(n.type||"n/a")+" size: "+n.size+" bytes, last modified: "+(n.lastModifiedDate?n.lastModifiedDate.toLocaleDateString():"n/a"));const r=new FileReader;r.onload=function(e){return function(t){const n=t.target.result;console.log(" File read byteLength : "+n.byteLength),s(encodeURIComponent(e.name),e.type,n)}}(n),r.readAsArrayBuffer(n)}}function u(t){const n=e.createElement("img");return n.setAttribute("style","max-height: 10em; border-radius: 1em; margin: 0.7em;"),i.widgets.makeDropTarget(n,l,c),t&&(r.store.fetcher._fetch(t.uri).then((function(e){return e.blob()})).then((function(e){const t=URL.createObjectURL(e);n.setAttribute("src",t)})),i.widgets.makeDraggable(n,t)),n}function d(){let e=D.each(t,j.vcard("hasPhoto"));e.sort(),e=e.slice(0,5),0===e.length?(g.innerHTML="",h&&g.appendChild(v)):M.syncTableToArray(g,e,u)}function p(){return D.sym(t.dir().uri+"Image_"+Date.now()+".png")}async function f(e){e&&(await o(t,e),d())}const h=D.updater.editable(t.doc().uri,D),m=e.createElement("div"),g=m.appendChild(e.createElement("div")),v=u();return i.widgets.setImage(v,t),d(),g.refresh=d,h&&m.appendChild(function(){const n=e.createElement("table"),r=n.appendChild(e.createElement("tr")),a=r.appendChild(e.createElement("td")),s=r.appendChild(e.createElement("td")),l=r.appendChild(e.createElement("td"));a.appendChild(i.media.cameraButton(e,D,p,f));try{s.appendChild(i.widgets.fileUploadButtonDiv(e,c))}catch(e){console.log("ignore fileUploadButtonDiv error for now",e)}return l.appendChild(function(){const n=i.widgets.button(e,i.icons.iconBase+"noun_925021.svg","Drag here to delete");return i.widgets.makeDropTarget(n,(async function(e){const n=D.each(t,j.vcard("hasPhoto")).map((e=>e.uri));for(const r of e){if(!n.includes(r))return void alert("Only drop images in this contact onto this trash can.");if(confirm(`Permanently DELETE image ${r} completely?`)){console.log("Unlinking image file "+r),await o(t,D.sym(r),!0);try{console.log("Deleting image file "+r),await D.fetcher.webOperation("DELETE",r)}catch(e){alert("Unable to delete picture! "+e)}}}d()}),null),n}()),n}()),m}(e,n));const w=d?y:v;i.widgets.appendForm(e,t,{},n,w,n.doc(),(function(e,t){e||a("Error: "+t)})),l(),t.appendChild(await async function(e,t){function n(t){const n={deleteFunction:function(){!async function(t,n){const l=a.any(t,U.vcard("fn")),c=a.any(n,U.vcard("fn")),u=a.each(null,U.owl("sameAs"),t,n.doc());let d=[];u.map((e=>{a.statementsMatching(e,U.owl("sameAs"),t,n.doc())&&(d=d.concat(e))}));let p=t;if(d.length>0&&(p=d[0]),a.each(null,U.vcard("hasMember"),p).length<2)alert("Must be a member of at least one group.  Add to another group first.");else if(confirm("Remove "+l+" from group "+c+"?")){let t=a.statementsMatching(e,void 0,void 0,n.doc()).concat(a.statementsMatching(void 0,void 0,e,n.doc()));d.map((e=>{a.statementsMatching(e,U.owl("sameAs"),void 0,n.doc()).length<2&&(t=t.concat(a.statementsMatching(void 0,void 0,e,n.doc())))})),a.updater.update(t,[],(function(e,t,r){if(!t){const e="Error removing member from group "+n+": "+r;s.parentNode.appendChild(i.widgets.errorMessageBlock(o,e,"pink"))}})),console.log("Removed "+l+" from group "+c),a.fetcher.unload(n.doc()),await a.fetcher.load(n.doc()),r()}}(e,t)},noun:"membership"};return i.widgets.personTR(o,null,t,n)}function r(){B.syncTableToArray(s,q(e),n)}const{dom:o}=t,a=t.session.store,s=o.createElement("table");return await async function(e=null){if(!e&&!(e=a.any(void 0,U.vcard("includesGroup"))))return;const t=a.any(e,U.vcard("groupIndex")),n=e?a.each(e,U.vcard("includesGroup"),null,t):[];await a.fetcher.load(n)}(),s.refresh=r,r(),s}(n,o)),l(),i.widgets.attachmentList(e,n,t,{modify:g}),l(),d?t.appendChild(await async function(e,t){let n=u.sym("http://www.wikidata.org/wiki/Q43229"),r="Organization";for(const t in p)u.holds(e,s.rdf("type"),s.schema(t),e.doc())&&(n=u.sym(p[t]),r=t,console.log(`  renderPublicIdControl bingo: ${t} -> ${n}`));return x(e,t,{longPrompt:`If you know the ${m} of this ${r}, you can do more stuff with it.\n    To record its ${m}, drag it onto the plus, or click the magnifyinng glass\n    to search for it in WikiData.`,idNoun:m,urlType:s.vcard("PublicId"),dbLookup:!0,class:n,queryParams:f})}(n,o)):t.appendChild(await async function(e,t){return x(e,t,{longPrompt:`If you know someone's ${h}, you can do more stuff with them.\n    To record their ${h}, drag it onto the plus, or click the plus\n    to enter it by hand.`,idNoun:h,urlType:s.vcard("WebID")})}(n,o))}const X=i.ns,Z=i.utils,ee=i.style,te={icon:i.icons.iconBase+"noun_99101.svg",name:"contact",label:function(e,t){const n=t.session.store.findTypeURIs(e);return n[X.vcard("Individual").uri]?"Contact":n[X.vcard("Organization").uri]?"contact":n[X.foaf("Person").uri]||n[X.schema("Person").uri]?"Person":n[X.vcard("Group").uri]?"Group":n[X.vcard("AddressBook").uri]?"Address book":null},mintClass:i.ns.vcard("AddressBook"),mintNew:function(e,t){return new Promise((function(n,r){i.login.ensureLoadedProfile(t).then((t=>{console.log("Logged in as "+t.me);const o=t.me,a=t.dom,s=t.div,l=e.session.store,c=i.ns,u=t.newBase||t.newInstance.dir().uri;if((t.instanceClass||c.vcard("AddressBook")).sameTerm(c.vcard("Group"))){const e=t.newInstance||l.sym(t.newBase+"index.ttl#this"),i=e.doc();return l.add(e,c.rdf("type"),c.vcard("Group"),i),l.add(e,c.vcard("fn"),t.instanceName||"untitled group",i),void l.fetcher.putBack(i,{contentType:"text/turtle"}).then((function(e){n(t)})).catch((function(e){r(new Error("Error creating document for new group "+e))}))}function d(e){s.appendChild(i.widgets.errorMessageBlock(a,e,"pink"))}let p='@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n  @prefix ab: <http://www.w3.org/ns/pim/ab#>.\n  @prefix dc: <http://purl.org/dc/elements/1.1/>.\n  @prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n  <#this> a vcard:AddressBook;\n      dc:title "New address Book";\n      vcard:nameEmailIndex <people.ttl>;\n      vcard:groupIndex <groups.ttl>.\n';p+="<#this> <http://www.w3.org/ns/auth/acl#owner> <"+o.uri+">.\n\n";const f=l.sym(u+"index.ttl#this"),h=[{to:"index.ttl",content:p,contentType:"text/turtle"},{to:"groups.ttl",content:"",contentType:"text/turtle"},{to:"people.ttl",content:"",contentType:"text/turtle"},{to:"",existing:!0,aclOptions:{defaultForNew:!0}}];!function e(){function i(t,n){if(!n)return d("Error writing new file "+c.to),r(new Error("Error writing new file "+c.to));N(p,o,m).then((()=>e())).catch((e=>{const t="Error setting access permissions for "+c.to+" : "+e.message;return d(t),r(new Error(t))}))}if(0===h.length)!function(e,r){console.log(`New ${r} created at ${e}`);const i=s.appendChild(a.createElement("p"));i.setAttribute("style","font-size: 140%;"),i.innerHTML="Your <a href='"+e.uri+"'><b>new "+r+"</b></a> is ready. <br/><br/><a href='"+e.uri+"'>Go to new "+r+"</a>";const o=Object.assign({newInstance:e},t);n(o)}(f,"address book");else{var c=h.shift();console.log("Creating new file "+c.to+" in new instance ");var p=F.uri.join(c.to,u),m=c.aclOptions||{};"content"in c?l.fetcher.webOperation("PUT",p,{data:c.content,saveMetadata:!0,contentType:c.contentType}).then((()=>i(0,!0))):"existing"in c?i(0,!0):r(new Error("copy not expected buiding new app!!"))}}()}),(e=>{t.div.appendChild(i.widgets.errorMessageBlock(e))}))}))},render:function(e,t,n={}){const o=this;function a(e){console.log("contactsPane: "+e),d.appendChild(i.widgets.errorMessageBlock(c,e,"pink"))}function s(e,t){e||a("Error: "+t)}function l(e){return i.login.newAppInstance(c,{noun:"address book",appPathSegment:"contactorator.timbl.com"},(function(t,n){o.clone(e,n,{me:p,div:d,dom:c})}))}const c=t.dom,u=t.session.store,d=c.createElement("div"),p=r.authn.currentUser();return i.aclControl.preventBrowserDropEvents(c),d.setAttribute("class","contactPane"),async function(){i.aclControl.preventBrowserDropEvents(c);const o=u.findTypeURIs(e);let p=r.authn.currentUser();const f={target:e,me:p,noun:"address book",div:d,dom:c};function h(e,o,f){u.fetcher.load(e).then((function(o){!function(e,o,f){const h=Z.label(X.vcard("AddressBook"));let m=e[0];const g=u.any(m,X.vcard("groupIndex"));let v={},y={};const b=f.foreignGroup||m;let w=u.any(b,X.dc("title"))||u.any(b,X.vcard("fn"));function x(e){if(e)return e;let t;for(const e in v){t=u.sym(e);const n=u.any(void 0,X.vcard("includesGroup"),t);if(n)return n}throw new Error("findBookFromGroups: Cant find address book which this group is part of")}function A(e){const t=u.any(e,X.vcard("fn"))||u.any(e,X.foaf("name"))||u.any(e,X.vcard("organization-name"));return t?t.value:"???"}function N(e){const t=ce.value.trim().toLowerCase();if(0===t.length)return!0;const n=t.split(" ");for(let t=0;t<n.length;t++){const r=n[t];if(e.toLowerCase().indexOf(r)<0)return!1}return!0}function F(e){ue.innerHTML="loading...",y={},y[e.uri]=!0,L();const t=m?function(e,t){const n=u.allAliases(e),r=m.dir().uri;for(let e=0;e<n.length;e++)if(n[e].uri.slice(0,r.length)===r)return n[e];throw new Error("No local URI for "+e)}(e):e;u.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(n,r){if(ue.innerHTML="",!n)return s(n,"Can't load card: "+t+": "+r);ue.appendChild(M(0,t,"contact")),ue.appendChild(c.createElement("br")),ue.appendChild(i.widgets.linkIcon(c,t));const o=i.widgets.deleteButtonWithCheck(c,ue,"contact",(async function(){const t=e.dir(),n=u.any(e,X.vcard("fn"));if(confirm("Delete contact "+n+" completely?? "+t)){console.log("Deleting a contact "+n),await j();const r=u.any(m,X.vcard("nameEmailIndex"));await u.fetcher.load(r);const i=q(e);let o=[];i.map((t=>{getSameAs(u,e,t.doc()).map((e=>{(getSameAs(u,e,t.doc()).length=1)&&(o=o.concat(u.statementsMatching(t,X.vcard("hasMember"),e,t.doc())))}))})),await u.updater.updateMany(o),await U(e),await B(u,t),H(),ue.innerHTML="Contact Data Deleted."}}));o.style="height: 2em;"}))}function L(e){let t=0,n=null;for(let e=0;e<oe.children.length;e++){const r=oe.children[e],i=N(A(r.subject));i&&(t++,n=r),r.setAttribute("style",i?y[r.subject.uri]?"background-color: #cce;":"":"display: none;")}1===t&&e&&F(n.subject)}function R(e,t,n){function r(t,r){r.setAttribute("style","background-color: #ffe;"),u.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(a,l){if(!a){const e="Can't load group file: "+t+": "+l;return o.push(e),s(a,e)}r.setAttribute("style","background-color: #cce;"),e[t.uri]=!0,W(),H(),i-=1,i||n&&n(0===o.length,o)}))}let i=t.children.length;var o=[];for(let e=0;e<t.children.length;e++){const n=t.children[e];r(n.subject,n)}}async function j(){await u.fetcher.load(g);const e=m?u.each(m,X.vcard("includesGroup"),null,g):[];return await u.fetcher.load(e),e}function M(e,n,r){const i=t.session.paneRegistry.byName(r).render(n,t);return i.setAttribute("style","border: 0.1em solid #444; border-radius: 0.5em"),i}function D(e,t){let n=A(e),r=A(t);if(n&&r){if(n=n.toLowerCase(),r=r.toLowerCase(),n>r)return 1;if(n<r)return-1}return e.uri>t.uri?1:e.uri<t.uri?-1:0}async function U(e){console.log("deleteThingAndDoc: "+e);const t=u.statementsMatching(e).concat(u.statementsMatching(void 0,void 0,e));try{await u.updater.updateMany(t),console.log("Deleting resoure "+e.doc()),await u.fetcher.delete(e.doc()),console.log("Delete thing "+e+": complete.")}catch(t){a("Error deleting thing "+e+": "+t)}}function B(e,t){return new Promise((function(n){e.fetcher.load(t).then((function(){const r=e.each(t,X.ldp("contains")).map((t=>{if(e.holds(t,X.rdf("type"),X.ldp("BasicContainer")))return B(e,t);if(console.log("deleteRecirsive file: "+t),!confirm(" Really DELETE File "+t))throw new Error("User aborted delete file");return e.fetcher.webOperation("DELETE",t.uri)}));if(console.log("deleteRecirsive folder: "+t),!confirm(" Really DELETE folder "+t))throw new Error("User aborted delete file");r.push(e.fetcher.webOperation("DELETE",t.uri)),Promise.all(r).then((e=>{n()}))}))}))}function H(){let e=[];Object.keys(v).map((e=>u.sym(e))).forEach((t=>{v[t.value]&&(e=e.concat(O(u,t)))})),e.sort(D);for(let t=0;t<e.length-1;)e[t].uri===e[t+1].uri?e.splice(t,1):t++;Y.textContent=e.length>5?e.length+" contacts":"contact",Z.syncTableToArrayReOrdered(oe,e,(function(e){const t=c.createElement("tr"),n=t.appendChild(c.createElement("td"));n.setAttribute("style",de),t.subject=e;const r=A(e);return n.textContent=r,t.subject=e,i.widgets.makeDraggable(t,e),function(e,t){e.addEventListener("click",(function(e){e.preventDefault(),F(t)}))}(t,e),t})),L()}function W(){return function(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];r.subject&&r.setAttribute("style",t[r.subject.uri]?"background-color: #cce;":"")}}(re,v)}function z(){const n=function(){let t=[];return f.foreignGroup&&t.push(["",u.any(f.foreignGroup,X.vcard("fn")),f.foreignGroup]),m&&(e.forEach((function(e){const n=(e?u.each(e,X.vcard("includesGroup"),null,g):[]).map((function(t){return[e,u.any(t,X.vcard("fn")),t]}));t=t.concat(n)})),t.sort()),t.map((e=>e[2]))}();Z.syncTableToArrayReOrdered(re,n,(function(e){const n=u.any(e,X.vcard("fn")),r=c.createElement("tr");return r.subject=e,i.widgets.makeDraggable(r,e),r.setAttribute("style",de),r.textContent=n,i.widgets.makeDropTarget(r,(async function(t){t.forEach((function(t){console.log("Dropped on group: "+t);const n=u.sym(t);try{P(n,e)}catch(e){a(e)}H()}))})),i.widgets.deleteButtonWithCheck(c,r,"group "+n,(async function(){await U(e),z()})),r.addEventListener("click",(function(n){n.preventDefault();const r=u.sym(e.uri.split("#")[0]);n.metaKey||(v={}),v[e.uri]=!v[e.uri],W(),oe.innerHTML="",u.fetcher.nowOrWhenFetched(r.uri,void 0,(function(o,a){if(!o)return s(o,"Can't load group file: "+r+": "+a);if(H(),!n.metaKey){ue.innerHTML="";let n=!1;const r=i.aclControl.ACLControlBox5(e,t,"group",u,(function(e,t,n){e||(n&&n.status&&403===n.status?ue.innerHTML="No control access.":ue.innerHTML="Failed to load access control: "+t)})),o=ue.appendChild(c.createElement("button"));o.style.cssText="padding: 1em; margin: 1em";const a=o.appendChild(c.createElement("img"));a.style.cssText="width: 1.5em; height: 1.5em",a.setAttribute("src",i.icons.iconBase+"noun_123691.svg"),o.addEventListener("click",(function(){n=!n,n?ue.appendChild(r):ue.removeChild(r)}))}}))}),!0),r})),W()}async function V(e){ue.innerHTML="";const t=x(m);try{await u.fetcher.load(t)}catch(e){throw new Error("Book won't load:"+t)}const n=u.any(t,X.vcard("nameEmailIndex"));if(!n)throw new Error("Wot no nameEmailIndex?");await u.fetcher.load(n);const r=await i.widgets.askName(c,u,ue,i.ns.foaf("name"),e);if(!r)return;let o;ue.innerHTML="indexing...",m=x(m);try{o=await async function(e,t,n,r){await S.fetcher.load(e.doc());const i=S.any(e,E.vcard("nameEmailIndex")),o=k.genUuid(),a=S.sym(e.dir().uri+"Person/"+o+"/index.ttl#this"),s=a.doc(),l=[_.st(a,E.vcard("inAddressBook"),e,i),_.st(a,E.vcard("fn"),t,i),_.st(a,E.vcard("fn"),t,s),_.st(a,E.rdf("type"),r,s),_.st(s,E.dct("created"),new Date,s)];for(const e in n){const n=S.sym(e),r=n.doc();l.push(_.st(n,E.vcard("hasMember"),a,r),_.st(a,E.vcard("fn"),t,r))}try{await C.updateMany([],l)}catch(e){throw console.error("Error: can't update "+a+" as new contact:"+e),new Error("Updating new contact: "+e)}return a}(m,r,v,e)}catch(e){const t="Error: can't save new contact: "+e;console.log(t),alert(t)}y={},y[o.uri]=!0,H(),ue.innerHTML="",ue.appendChild(M(0,o,"contact"))}n.solo&&w&&"undefined"!=typeof document&&(document.title=w.value),w=w?w.value:h;const $=c.createElement("table");$.setAttribute("style","border-collapse: collapse; margin-right: 0; max-height: 9in;"),d.appendChild($);const K=$.appendChild(c.createElement("tr")),G=$.appendChild(c.createElement("tr")),J=$.appendChild(c.createElement("tr")),Q=K.appendChild(c.createElement("td")),Y=K.appendChild(c.createElement("td")),te=K.appendChild(c.createElement("td")),ne=G.appendChild(c.createElement("td")),re=ne.appendChild(c.createElement("table")),ie=G.appendChild(c.createElement("td")),oe=ie.appendChild(c.createElement("table")),ae=J.appendChild(c.createElement("td")),se=J.appendChild(c.createElement("td")),le=J.appendChild(c.createElement("td"));te.appendChild(c.createElement("div"));const ce=te.appendChild(c.createElement("input"));ce.setAttribute("type","text"),ce.style=ee.searchInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",ce.addEventListener("input",(function(e){L(!0)}));const ue=G.appendChild(c.createElement("td"));ue.setAttribute("style","margin: 0;");const de="padding: 0.1em;";function pe(e){const t=e?"":"display: none;";Q.setAttribute("style","min-width: 10em; padding-bottom 0.2em;"+t);const n="padding: 0.1em;";ne.setAttribute("style",n+t),ae.setAttribute("style",n+t)}if(Q.textContent="groups",Q.setAttribute("style","min-width: 10em; padding-bottom 0.2em;"),pe(!0),f.foreignGroup&&(v[f.foreignGroup.uri]=!0),m){const e=Q.appendChild(c.createElement("button"));e.textContent="All";const t="margin-left: 1em; font-size: 100%;";e.setAttribute("style",t),e.addEventListener("click",(function(n){e.state=e.state?0:1,oe.innerHTML="",e.state?(e.setAttribute("style",t+"background-color: #ff8;"),R(v,re,(function(n,r){if(!n)return a(r);e.setAttribute("style",t+"background-color: black; color: white"),W()}))):(e.setAttribute("style",t+"background-color: #cfc;"),v={},W())})),u.fetcher.nowOrWhenFetched(g.uri,m,(function(e,t){if(!e)return console.log("Cannot load group index: "+t);z(),H()}))}else z(),H(),console.log("No book, only one group -> hide list of groups"),pe(!1);Y.textContent="name",Y.setAttribute("style","min-width: 18em;"),ie.setAttribute("style","overflow:scroll;");const fe=c.createElement("button"),he=c.createElement("div");fe.setAttribute("type","button"),p||fe.setAttribute("disabled","true"),r.authn.checkUser().then((e=>{e&&(p=e,fe.removeAttribute("disabled"))})),he.appendChild(fe),fe.innerHTML="New Contact",se.appendChild(he),fe.addEventListener("click",(async e=>V(X.vcard("Individual"))),!1);const me=c.createElement("button"),ge=c.createElement("div");if(me.setAttribute("type","button"),p||me.setAttribute("disabled","true"),r.authn.checkUser().then((e=>{e&&(p=e,me.removeAttribute("disabled"))})),ge.appendChild(me),me.innerHTML="New Organization",se.appendChild(ge),me.addEventListener("click",(async e=>V(X.vcard("Organization"))),!1),m){const e=ae.appendChild(c.createElement("button"));e.setAttribute("type","button"),e.innerHTML="New Group",e.addEventListener("click",(async function(e){ue.innerHTML="";const n=u.any(m,X.vcard("groupIndex"));try{await u.fetcher.load(n)}catch(e){console.log("Error: Group index  NOT loaded:"+e+"\n")}console.log(" Group index has been loaded\n");const r=await i.widgets.askName(c,u,ue,i.ns.foaf("name"),X.vcard("Group"),"group");if(!r)return;let o;try{o=await T(m,r)}catch(e){return console.log("Error: can't save new group:"+e),void(ue.innerHTML="Failed to save group"+e)}v={},v[o.uri]=!0,z(),ue.innerHTML="",ue.appendChild(i.aclControl.ACLControlBox5(o.doc(),t,"group",u,(function(e,t){e||(ue.innerHTML="Group sharing setup failed: "+t)})))}),!1);const n=le.appendChild(c.createElement("button"));n.setAttribute("type","button"),n.innerHTML="Tools",n.addEventListener("click",(function(e){ue.innerHTML="",ue.appendChild(function(e,t,n,o,a,s){const l=a.dom,c=r.store,u=i.ns,d=u.vcard,p="font-size: 100%; margin: 0.8em; padding:0.5em;",f=l.createElement("div"),h=f.appendChild(l.createElement("table"));h.setAttribute("style","font-size:120%; margin: 1em; border: 0.1em #ccc ;");const m=h.appendChild(l.createElement("tr"));m.textContent=i.utils.label(o)+" - tools",m.setAttribute("style","min-width: 20em; padding: 1em; font-size: 150%; border-bottom: 0.1em solid red; margin-bottom: 2em;");const g=h.appendChild(l.createElement("tr")).appendChild(l.createElement("div"));g.setAttribute("style","padding: 2em;");const v=h.appendChild(l.createElement("tr")),y=v.appendChild(l.createElement("table"));h.appendChild(l.createElement("tr"));const b={target:o,me:s,noun:"address book",div:f,dom:l,statusRegion:g};function w(e){console.log(e),g.appendChild(i.widgets.errorMessageBlock(l,e,"pink"))}return async function(){y.appendChild(i.aclControl.ACLControlBox5(o.dir(),a,"book",c,(function(e,t){e||(y.innerHTML="ACL control box Failed: "+t)})));try{await i.login.registrationControl(b,o,u.vcard("AddressBook"))}catch(e){i.widgets.complain(b,"registrationControl: "+e)}console.log("Registration control finished.");const s=v.appendChild(l.createElement("pre"));function h(e){console.log(e),s.textContent+=e+"\n"}const m=f.appendChild(l.createElement("button"));m.textContent="Load main index",m.style.cssText=p,m.addEventListener("click",(async function(e){m.setAttribute("style","background-color: #ffc;");const t=c.any(o,u.vcard("nameEmailIndex"));try{await c.fetcher.load(t)}catch(e){m.setAttribute("style","background-color: #fcc;"),h("Error: People index has NOT been loaded"+e+"\n")}m.setAttribute("style","background-color: #cfc;"),h(" People index has been loaded\n")}));const g=f.appendChild(l.createElement("button"));g.textContent="Statistics",g.style.cssText=p,g.addEventListener("click",(function(){h(c.each(void 0,d("inAddressBook"),o).length+" cards loaded. ");let e=c.each(o,d("includesGroup"));const n=new Set(e.map((e=>e.uri)));e=[...n].map((e=>c.sym(e))),h(e.length+" total groups. ");const r=[];for(const e in t)r.push(e);h(r.length+" selected groups. ")}));const x=f.appendChild(l.createElement("button"));x.textContent="Check individual card access of selected groups",x.style.cssText=p,x.addEventListener("click",(async function(e){function n(e){i.widgets.fixIndividualCardACL(e,h,(function(t,n){h(t?"Success for "+i.utils.label(e):"Failure for "+i.utils.label(e)+": "+n)}))}const r=[];for(const e in t)r.push(e);for(let e=0;e<r.length;e++){const t=c.sym(r[e]),o=O(c,t);h(i.utils.label(t)+": "+o.length+" members");for(let e=0;e<o.length;e++){const t=o[e];h(i.utils.label(t)),n(t)}}}));const E=f.appendChild(l.createElement("button"));async function _(e){const t=c.any(e,u.vcard("groupIndex")),n=c.any(e,u.vcard("nameEmailIndex"));try{await c.fetcher.load([n,t]);const r=c.each(e,u.vcard("includesGroup"));await c.fetcher.load(r)}catch(e){w("Error loading stuff:"+e)}const r={},o=[];let a=c.each(e,d("includesGroup"));const s=new Set(a.map((e=>e.uri)));a=[...s].map((e=>c.sym(e))),h(a.length+" total groups. ");for(let e=0;e<a.length;e++){const t=a[e],n=O(c,t);h(i.utils.label(t)+": "+n.length+" members");for(let e=0;e<n.length;e++)c.allAliases(n[e]).forEach((function(e){r[e.uri]=t}))}const l=c.each(void 0,d("inAddressBook"),e);h(l.length+" total cards");for(let e=0;e<l.length;e++)r[l[e].uri]||(o.push(l[e]),h("   groupless "+i.utils.label(l[e])));return h(o.length+" groupless cards."),o}E.textContent="Find duplicate cards",E.style.cssText=p,E.addEventListener("click",(function(e){const t={};t.book=o,t.nameEmailIndex=c.any(o,u.vcard("nameEmailIndex")),h("Loading name index..."),r.store.fetcher.nowOrWhenFetched(t.nameEmailIndex,void 0,(function(e,n){function r(e){let n;return Promise.resolve().then((()=>{const r=e.uri.replace("/Group/","/NewGroup/");n=c.sym(r);let i=[];for(let n=0;n<t.uniques.length;n++)i=i.concat(c.connectedStatements(t.uniques[n],e.doc()));const o=new $rdf.Serializer(c).setBase(e.uri);h("   Regenerating group of uniques..."+n);const a=o.statementsToN3(i);return c.fetcher.webOperation("PUT",n,{data:a,contentType:"text/turtle"})})).then((()=>(h("     Done uniques group "+n),!0))).catch((e=>{h("Error saving : "+e)}))}h("Loaded name index."),t.cards=[],t.duplicates=[],t.definitive=[],t.nameless=[],t.exactDuplicates=[],t.nameOnlyDuplicates=[],t.uniquesSet=[],t.groupProblems=[],t.nameDupLog=c.sym(o.dir().uri+"dedup-nameDupLog.ttl"),t.exactDupLog=c.sym(o.dir().uri+"dedup-exactDupLog.ttl"),t.nameOnlyErrors=[],t.nameLessZeroData=[],t.nameLessIndex=[],t.namelessUniques=[],t.nameOnlyDuplicatesGroupDiff=[];const i=function(){let e=[];return t.book&&([t.book].forEach((function(t){const n=(t?c.each(t,u.vcard("includesGroup")):[]).map((function(e){return[t,c.any(e,u.vcard("fn")),e]}));e=e.concat(n)})),e.sort()),e}();t.groupObjects=i.map((e=>e[2])),h("Loading "+t.groupObjects.length+" groups... "),c.fetcher.load(t.groupObjects).then((function(){return new Promise((function(e){let n,r,i;for(t.cards=c.each(void 0,d("inAddressBook"),t.book),h(t.cards.length+" total cards"),n=0;n<t.cards.length;n++)r=t.cards[n],i=c.anyValue(r,u.vcard("fn")),i?t.definitive[i]===r||(t.definitive[i]?(t.duplicates.length,t.duplicates.push(r)):t.definitive[i]=r):t.nameless.push(r);t.duplicateSet=[];for(let e=0;e<t.duplicates.length;e++)t.duplicateSet[t.duplicates[e].uri]=t.duplicates[e];t.namelessSet=[];for(let e=0;e<t.nameless.length;e++)t.namelessSet[t.nameless[e].uri]=t.nameless[e];t.uniques=[],t.uniqueSet=[];for(let e=0;e<t.cards.length;e++){const n=t.cards[e].uri;t.duplicateSet[n]||t.namelessSet[n]||(t.uniques.push(t.cards[e]),t.uniqueSet[n]=t.cards[e])}h("Uniques: "+t.uniques.length),h(t.nameless.length+" nameless cards."),h(t.duplicates.length+" name-duplicate cards, leaving "+(t.cards.length-t.duplicates.length)),e(!0)}))})).then((function(){return new Promise((function(e){h("Groups loaded");for(let e=0;e<t.uniques.length;e++)t.uniquesSet[t.uniques[e].uri]=!0;t.groupMembers=[],c.each(null,u.vcard("hasMember")).map((e=>{t.groupMembers=t.groupMembers.concat(O(c,e))})),h("  Naive group members "+t.groupMembers.length),t.groupMemberSet=[];for(let e=0;e<t.groupMembers.length;e++)t.groupMemberSet[t.groupMembers[e].uri]=t.groupMembers[e];t.groupMembers2=[];for(const e in t.groupMemberSet)t.groupMembers2.push(t.groupMemberSet[e]);if(h("  Compact group members "+t.groupMembers2.length),$rdf.keepThisCodeForLaterButDisableFerossConstantConditionPolice){for(let e=0;e<t.groupMembers.length;e++){const n=t.groupMembers[e];t.uniquesSet[n.uri]||(h("  Not in uniques: "+n),t.groupProblems.push(n),t.duplicateSet[n.uri]?h("    ** IN duplicates alas:"+n):h("   **** WTF?"))}h("Problem cards: "+t.groupProblems.length)}e(!0)}))})).then((function e(){return t.namelessToCheck=t.namelessToCheck||t.nameless.slice(),h("Nameless check left: "+t.namelessToCheck.length),new Promise((function(n){const r=t.namelessToCheck.shift();if(!r){if(h("namelessUniques: "+t.namelessUniques.length),h("namelessUniques: "+t.namelessUniques),t.namelessUniques.length>0&&confirm("Add all "+t.namelessUniques.length+" nameless cards to the rescued set?")){t.uniques=t.uniques.concat(t.namelessUniques);for(let e=0;e<t.namelessUniques.length;e++)t.uniqueSet[t.namelessUniques[e].uri]=!0}return n(!0)}var i;(i=r,new Promise((function(e){c.fetcher.load(i).then((function(n){h(" Nameless check "+i);const r={};r[u.vcard("hasUID").uri]=!0,r[u.dc("created").uri]=!0,r[u.dc("modified").uri]=!0;const o=(a=i,c.statementsMatching(null,null,null,a.doc()).filter((function(e){return!r[e.predicate.uri]})));var a;if(!o.length)return h("  Zero length "+i),t.nameLessZeroData.push(i),e(!1);const s=new $rdf.Serializer(c).setBase(i.doc().uri).statementsToN3(o),l=t.nameLessIndex[s];if(l){h("  Matches with "+l);const n=c.each(null,u.vcard("hasMember"),i),r=c.each(null,u.vcard("hasMember"),l);for(let o=0;o<n.length;o++){let a=!1;for(let e=0;e<r.length;e++)r[e].sameTerm(n[o])&&(a=!0);if(!a)return h("This one groups: "+n),h("Other one groups: "+r),h("Cant skip this one because it has a group, "+n[o]+", which the other does not."),t.nameOnlyDuplicatesGroupDiff.push(i),e(!1)}console.log("Group check done -- exact duplicate: "+i)}else h("First nameless like: "+i.doc()),h("___________________________________________"),h(s),h("___________________________________________"),t.nameLessIndex[s]=i,t.namelessUniques.push(i);e(!0)})).catch((function(n){h("Cant load a nameless card!: "+n),t.nameOnlyErrors.push(i),e(!1)}))}))).then((function(t){h("    Nameless check returns "+t),e()}))}))})).then((()=>new Promise((function(e,t){confirm("Write new clean versions?")?e(!0):t()})))).then((function(){let e;return Promise.resolve().then((()=>{e=c.sym(t.book.dir().uri+"clean-people.ttl");let n=[];for(let e=0;e<t.uniques.length;e++)n=n.concat(c.connectedStatements(t.uniques[e],t.nameEmailIndex));const r=new $rdf.Serializer(c).setBase(t.nameEmailIndex.uri);h("Serializing index of uniques...");const i=r.statementsToN3(n);return c.fetcher.webOperation("PUT",e,{data:i,contentType:"text/turtle"})})).then((function(){return h("Done uniques log "+e),!0})).catch((function(e){h("Error saving uniques: "+e)}))})).then((function(){return h("Saving ALL GROUPS"),Promise.all(t.groupObjects.map(r))})).then((function(){h("Done!")}))}))}));const k=f.appendChild(l.createElement("button"));k.style.cssText=p,k.textContent="Find individuals with no group",k.addEventListener("click",(function(r){h("Loading groups..."),e(t,n,(async function(e,t){if(!e)return void h("Load all groups: failed: "+t);const n=c.any(o,u.vcard("nameEmailIndex"));try{await c.fetcher.load(n)}catch(e){w(e)}h("Loaded groups and name index."),_(o),h("Groupless list finished..")}))}));const S=f.appendChild(l.createElement("button"));S.style.cssText=p,S.textContent="Put all individuals with no group in a new group",S.addEventListener("click",(e=>async function(e){const t=await _(e);if(0===t.length)return void h("No groupless cards found.");const n=await T(e,"ZSortThese");if(confirm(`Add the ${t.length} cards without groups to a ZSortThese group?`))for(const e of t)h("   adding "+e),await P(e,n);h("People moved to group.")}(o)));const C=f.appendChild(l.createElement("button"));C.style.cssText=p,C.textContent="Revert groups to old data model",C.addEventListener("click",(e=>async function(e){let t=c.each(e,d("includesGroup"));const n=new Set(t.map((e=>e.uri)));t=[...n].map((e=>c.sym(e))),async function(e){let t=[],n=[];e.forEach((e=>{let r=c.statementsMatching(null,u.owl("sameAs"),null,e.doc()).map((e=>e.subject));const i=new Set(r.map((e=>e.uri)));r=[...i].map((e=>c.sym(e))),r.forEach((r=>{c.each(r,u.vcard("fn"),null,e.doc()).length||(t=t.concat(c.statementsMatching(r,u.owl("sameAs"),null,e.doc()).concat(c.statementsMatching(void 0,void 0,r,e.doc()))),c.each(r,u.owl("sameAs"),null,e.doc()).forEach((t=>{n=n.concat($rdf.st(t,u.owl("sameAs"),r,e.doc())).concat($rdf.st(e,u.vcard("hasMember"),t,e.doc()))})))}))})),t.length&&confirm("Groups can be updated to old data model ?")?(await c.updater.updateMany(t,n),alert("Update done")):t.length||alert("Nothing to update.\nAll Groups already use the old data model.")}(t)}(o)))}(),f}(R,v,re,m,t,p))}))}le.appendChild(l(m)),d.appendChild(c.createElement("hr")),async function(){const e=await j(),{del:t,ins:n}=await async function(e){let t=[],n=[];return e.forEach((e=>{S.each(e,E.vcard("hasMember"),null,e.doc()).forEach((r=>{const i=function(e,t,n){return e.each(t,E.owl("sameAs"),null,n).concat(e.each(null,E.owl("sameAs"),t,n))}(S,r,e.doc());if(i.length&&I(e,r))for(const o of i)if(!I(e,o)){t.push(_.st(e,E.vcard("hasMember"),r,e.doc())),n.push(_.st(e,E.vcard("hasMember"),o,e.doc()));break}}))})),{del:t,ins:n}}(e);t.length&&confirm(`Groups data model need to be updated? (${t.length})`)&&(await u.updater.updateMany(t,n),alert("Update done"))}().then((()=>{console.log("async checkDataModel done.")}))}(e,0,f)})).catch((function(e){a(e)}))}return o[X.vcard("Individual").uri]||o[X.foaf("Person").uri]||o[X.schema("Person").uri]||o[X.vcard("Organization").uri]||o[X.schema("Organization").uri]?Y(c,d,e,t).then((()=>console.log("(individual rendered)"))):o[X.vcard("Group").uri]?i.login.findAppInstances(f,X.vcard("AddressBook")).then((function(t){const n=t.instances,r={foreignGroup:e};n.length>0?h(n,0,r):h([],0,r)})).catch((function(e){i.widgets.complain(f,e)})):o[X.vcard("AddressBook").uri]?h([e],0,{}):console.log("Error: Contact pane: No evidence that "+e+" is anything to do with contacts."),p=r.authn.currentUser(),p||(console.log("(You do not have your Web Id set. Sign in or sign up to make changes.)"),i.login.ensureLoadedProfile(f).then((e=>{console.log("Logged in as "+e.me),p=e.me}),(e=>{d.appendChild(i.widgets.errorMessageBlock(e))}))),"undefined"!=typeof document&&document.location&&"http://localhost"===(""+document.location).slice(0,16)&&(p=u.any(e,i.ns.acl("owner")),console.log("Assuming user is "+p)),d}().then((()=>console.log("contactsPane Rendered "+e)),(e=>a(""+e))),d}}},5840:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutocompleteControl=function(e,t,n,p){return r(this,void 0,void 0,(function*(){function f(e,n){return r(this,void 0,void 0,(function*(){const n=e.uri;return h(),p(t,n)}))}function h(){w.removeChild(b),b=null}const m=n.queryParameters||s.wikidataParameters,g=o.widgets.continueButton(e),v=o.widgets.cancelButton(e,h),y={queryParams:m,class:n.class,acceptButton:g,cancelButton:v};var b=null;(n=n||{}).editable=c.updater.editable(t.doc().uri,c);const w=e.createElement("div");if(w.setAttribute("style","display: flex; flex-flow: wrap;"),n.editable){w.style.width="100%";const s=w.appendChild(o.widgets.button(e,u,n.idNoun,(function(n){return r(this,void 0,void 0,(function*(){const n=yield o.widgets.askName(e,i.store,w,o.ns.vcard("url"),null,l);if(n)return p(t,n)}))})));o.widgets.makeDropTarget(s,(function(e){return r(this,void 0,void 0,(function*(){for(const n of e)yield p(t,n)}))}),null),n.dbLookup&&w.appendChild(o.widgets.button(e,d,n.idNoun,(function(t){return r(this,void 0,void 0,(function*(){b?(w.removeChild(b),b=null):((b=e.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),b.appendChild(yield(0,a.renderAutoComplete)(e,y,f)),b.appendChild(g),b.appendChild(v),w.appendChild(b))}))})))}return w}))};const i=n(23451),o=n(92361),a=n(13351),s=n(25528),l="Solid ID",c=i.store,u=o.icons.iconBase+"noun_34653_green.svg",d=o.icons.iconBase+"noun_Search_875351.svg"},13351:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutoComplete=function(e,t,n){return r(this,void 0,void 0,(function*(){function d(e,t){console.log("Auto complete: finish! "+e),n(e,t)}function p(e,n){return r(this,void 0,void 0,(function*(){if(t.acceptButton)return t.acceptButton.disabled=!1,T.value=n,k=n,S=e,console.log("Auto complete: name: "+n),void console.log("Auto complete: waiting for accept "+e);d(e,n)}))}function f(e){return r(this,void 0,void 0,(function*(){T.value===k?d(S,k):t.acceptButton.disabled=!0}))}function h(e,t){const n=e.split(" ");for(let e=0;e<n.length;e++){const r=n[e];if(t.toLowerCase().indexOf(r)<0)return!1}return!0}function m(){for(;C.children.length>1;)C.removeChild(C.lastChild)}function g(){return r(this,void 0,void 0,(function*(){if(b)return void console.log(`Ignoring "${T.value}" because of lock `);b=!0;var n=yield(0,a.getPreferredLanguages)();const u=T.value.trim().toLowerCase();if(u.length<s)m(),y=!1,E=l;else{if(w&&x&&u.startsWith(x))return function(e){var t=0,n=null,r="";for(let i=C.children.length-1;i>0;i--){let o=C.children[i];h(e,o.textContent)?(t+=1,n=o.getAttribute("subject"),r=o.textContent,o.style.display="",o.style.color="blue"):o.style.display="none"}1==t&&(console.log(`  auto complete elimination:  "${e}" -> "${r}"`),p(i.store.sym(n),r))}(u),void(b=!1);var d;try{d=yield(0,a.queryPublicDataByName)(u,v,t.queryParams)}catch(t){return function(t){const n=C.appendChild(e.createElement("tr"));console.log(t),n.appendChild(o.widgets.errorMessageBlock(e,t,"pink")),o.style.setStyle(n,"autocompleteRowStyle"),n.style.padding="1em"}("Error querying db of organizations: "+t),void(b=!1)}y=!0;const s=d.length<a.AUTOCOMPLETE_LIMIT;x=s?u:null,m();const l=(0,a.filterByLanguage)(d,n);s&&l.length<=c&&(E=l.length),w=s&&l.length<=E,console.log(` Filter:"${u}" bindings: ${d.length}, slimmed to ${l.length}; rows: ${E}, Enough? ${s}, All displayed? ${w}`),l.slice(0,E).forEach((t=>{const n=C.appendChild(e.createElement("tr"));o.style.setStyle(n,"autocompleteRowStyle");var a=t.subject.value,s=t.name.value;n.setAttribute("style","padding: 0.3em;"),n.setAttribute("subject",a),n.style.color=w?"#080":"#000",n.textContent=s,n.addEventListener("click",(e=>r(this,void 0,void 0,(function*(){console.log("       click row textContent: "+n.textContent),console.log("       click name: "+s),p(i.store.sym(a),s)}))))}))}b=!1}))}t.queryParams;const v=t.class;t.acceptButton&&t.acceptButton.addEventListener("click",f,!1),t.cancelButton;let y=!1,b=!1,w=!1;var x=null,E=l,_=e.createElement("div"),k=null,S=null,C=_.appendChild(e.createElement("table"));C.setAttribute("style","max-width: 30em; margin: 0.5em;");const A=C.appendChild(e.createElement("tr"));o.style.setStyle(A,"autocompleteRowStyle");const T=A.appendChild(e.createElement("td")).appendChild(e.createElement("input"));T.setAttribute("type","text");const P=o.style.searchInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em";return T.setAttribute("style",P),T.addEventListener("keyup",(function(e){13===e.keyCode&&f()}),!1),T.addEventListener("input",(function(e){return r(this,void 0,void 0,(function*(){setTimeout(g,u)}))})),_}))};const i=n(23451),o=n(92361),a=n(25528),s=4,l=20,c=40,u=300},12038:e=>{e.exports='\n# This turtle file defined the forms usied in the contacts management\n#\n#  Indivduals and orgs are in one file as they both\n# share some forms (address etc) and also interact (roles)\n\n# Now hand-edited, was originally made using form editor.\n# Forms documentaion: https://solid.github.io/solid-ui/Documentation/forms-intro.html\n\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix prov: <http://www.w3.org/ns/prov#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix : <#>.\n\n# Ontology additions or interpretations needed for the form to work well\n\n# The ontology file doesn\'t make them disjoint.  This makes the selector be a choice.\nvcard:TelephoneType   owl:disjointUnionOf ( vcard:Cell vcard:Home vcard:Work) .\nvcard:Type   owl:disjointUnionOf (vcard:Home vcard:Work) . # for email\n\n# Better field labels\nvcard:Cell ui:label "mobile"@en . # app will imake nitial caps if nec\nvcard:hasAddress ui:label "address"@en .\nvcard:bday ui:label "born"@en.\nvcard:hasEmail ui:label "email"@en .\nvcard:hasTelephone ui:label "phone"@en .\nvcard:note ui:label "notes"@en .\n\n\n\n# Ontology data to drive a top classifier\n\nfoaf:Agent owl:disjointUnionOf  (\n  vcard:Individual\n  # @@  schema:robot @@  schem:SoftwareApplication, n0:Agent, n0:Person,\n  prov:SoftwareAgent\n  # vcard:Group     a group of agents is not (currently) an agent itself.\n  # You can\'t get a decision out of it so it can\'t own a bank account\n  vcard:Organization\n).\n\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corpration\n# Consortium - a Corporation or a NGO\n  schema:Corporation\n  schema:EducationalOrganization\n  schema:ResearchOrganization\n# FundingScheme - eh?\n  schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n  schema:MedicalOrganization\n  schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\n  schema:MusicGroup # e.g. a band\n  schema:Project # like Solid\n  schema:SportsOrganization # a Team\n ) .\n\n#########################################################\n#  The forms themselves\n\nfoaf:Agent ui:creationForm :AgentForm .\n\n:AgentForm a ui:Form; schema:name "Form for editing a agent" ;\n  ui:parts ( :AgentClassifier :AgentOptions  ) .\n\n  :AgentClassifier a ui:Classifier; ui:label "What sort of agent?"@en;\n    ui:category foaf:Agent .\n\n:AgentOptions  a ui:Options; ui:dependingon rdf:type;\n   ui:case [ ui:for vcard:Individual; ui:use :form1 ],\n           [ ui:for vcard:Organization; ui:use :orgDetailsForm ],\n           [ ui:for prov:SoftwareAgent; ui:use :robotDetailsForm ] .\n\n# Robots\n\n:robotDetailsForm a ui:Form; ui:parts ( ) . # @@@@\n\n#  Individual-specific form\n\nvcard:Individual\n    ui:creationForm :form1 .\n\n# The addressComment, etc., fields with a comment before each type of field\n# were originally partly because the labels on the fields were clumsy like "hasAddress".\n# This is fixed by adding the ui:label to the properties above, so let\'s try\n# removing the little micro-headings\n\n# For org:\n:orgDetailsForm a ui:Form ; dct:title "Contact details for an organozation";\n  ui:parts (\n    :OrgClassifier\n\n    :fullNameField\n    :addresses\n    :eMails\n    :telephones\n    :noteField ) .\n# For individual:\n:form1\n    dct:title "Contact Details for a person" ;\n    a ui:Form ;\n    ui:part\n        :fullNameField,   :roleField,   :orgNameField,\n         # :addressesComment,\n         :addresses,\n      #  :emailComment,\n         :eMails,\n#        :telephoneComment,\n         :telephones,\n#         :noteComment,\n         :noteField ;\n    ui:parts (\n                :fullNameField  :roleField :orgNameField\n                # :addressesComment\n                  :addresses\n                # :emailComment\n                 :eMails\n                # :telephoneComment\n                 :telephones  :birthdayField\n                 # :noteComment\n                  :noteField ) .\n\n    :fullNameField\n        a ui:SingleLineTextField ;\n        ui:label "Name";\n        ui:maxLength "128" ;\n        ui:property vcard:fn ;\n        ui:size "40" .\n\n    :roleField\n        a ui:SingleLineTextField ;\n        ui:suppressEmptyUneditable true;\n        ui:maxLength "128" ;\n        ui:property vcard:role ;\n        ui:size "40" .\n\n      :orgNameField\n          a ui:SingleLineTextField ;\n          ui:suppressEmptyUneditable true;\n          ui:maxLength "128" ;\n          ui:property vcard:organization-name ;\n          ui:size "40" .\n\n\n:addressesComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "Address" .\n\n\n:addresses\n    dct:title "Address details" ;\n    a ui:Multiple ;\n    ui:part :oneAddress ;\n    ui:property vcard:hasAddress .\n\n:oneAddress\n    a ui:Group ;\n    ui:parts ( :id1409437207443 :id1409437292400 :id1409437421996 :id1409437467649 :id1409437569420 ). # :id1409437646712\n\n:id1409437207443\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:street-address ;\n    ui:size "40" .\n\n:id1409437292400\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:locality ;\n    ui:size "40" .\n\n:id1409437421996\n    a ui:SingleLineTextField ;\n    ui:maxLength "25" ;\n    ui:property vcard:postal-code ;\n    ui:size "25" .\n\n:id1409437467649\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:region ;\n    ui:size "40" .\n\n:id1409437569420\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:country-name ;\n    ui:size "40" .\n\n:id1409437646712\n    a ui:Classifier ;\n    ui:from rdf:Class ;\n    ui:property rdf:type .\n\n\n##############################\n\n:emailComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n\n    ui:contents "Email" .\n\n\n:eMails\n    a ui:Multiple ;\n    ui:part :oneEMail ;\n    ui:property vcard:hasEmail .\n\n:oneEMail\n    a ui:Group ; # hint: side by side is good\n    ui:part :emailValue, :emailType ;\n    ui:parts ( :emailType  :emailValue ).\n\n:emailValue\n    a ui:EmailField ; ui:label "email";\n    ui:property vcard:value ;\n    ui:size "50" .\n\n:emailType\n    a ui:Classifier ;\n    ui:canMintNew "0" ;\n    ui:category vcard:Type ;\n    ui:from vcard:Type ;\n    ui:property rdf:type .\n\n\n##############################\n\n:telephoneComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "Phones" .\n\n\n:telephones\n    a ui:Multiple ;\n    ui:part :onetelephone ;\n    ui:property vcard:hasTelephone .\n\n:onetelephone\n    a ui:Group ;\n    ui:part :telephoneValue, :telephoneType ;\n    ui:parts (  :telephoneType :telephoneValue ).\n\n:telephoneValue\n    a ui:PhoneField ;\n    ui:property vcard:value ;\n    ui:size "50" .\n\n:telephoneType\n    a ui:Classifier ;\n    ui:canMintNew "0" ;\n    ui:category vcard:TelephoneType ;\n    ui:from vcard:Type ;\n    ui:property rdf:type .\n\n##############################\n\n:birthdayField\n    a ui:DateField;\n    ui:label "Born";\n    ui:suppressEmptyUneditable true;\n    ui:property vcard:bday .\n\n##############################\n\n:noteComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "General Notes" .\n\n:noteField\n    a ui:MultiLineTextField ;\n    ui:suppressEmptyUneditable true;\n\n    ui:property vcard:note .\n\n\n############ organization forms\n\n:OrganinizatioCreationForm a ui:Form; schema:name "Form for editing contact details of an organization" ;\n  ui:parts ( :OrgClassifier :homePageURIField  ) .\n\n\n:OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n  ui:category solid:InterestingOrganization .\n\n\n:instituteNameField\n    a ui:SingleLineTextField ;\n    ui:label "Intitute Name";\n    ui:maxLength "200" ;\n    ui:property schema:name ;\n    ui:size "80" .\n\n :homePageURIField a ui:NamedNodeURIField;\n    ui:property  schema:url . # @@ ??\n\n  :initituteTypeField a ui:Classifier;\n  ui:label "What sort of organization";\n  ui:category solid:InterestingOrganization .\n'},64044:e=>{e.exports='\nprefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}\n'},25528:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.predMap=t.wikidataClassMap=t.wikidataParameters=t.dbpediaParameters=t.escoParameters=t.wikidataClasses=t.AUTOCOMPLETE_LIMIT=void 0,t.getPreferredLanguages=function(){return r(this,void 0,void 0,(function*(){return["fr","en","de","it"]}))},t.filterByLanguage=function(e,t){let n={};e.forEach((e=>{const t=e.subject.value;n[t]=n[t]||[],n[t].push(e)}));var r=t;r.reverse();var i=[];for(const e in n){const t=n[e].map((e=>[r.indexOf(e.name["xml:lang"]),e]));t.sort(),t.reverse(),i.push(t[0][1])}return console.log(` Filter by language: ${e.length} -> ${i.length}`),i},t.loadFromBindings=c,t.queryESCODataByName=function(e,n,i){return r(this,void 0,void 0,(function*(){const r=i.searchByNameURI.replace("$(name)",e).replace("$(limit)",""+t.AUTOCOMPLETE_LIMIT).replace("$(class)",n);console.log("Querying ESCO data - uri: "+r);const a=(yield o.store.fetcher.webOperation("GET",r,{credentials:"omit",headers:{Accept:"application/json"}})).responseText;if(console.log("    Query result  text"+a.slice(0,500)+"..."),0===a.length)throw new Error("Wot no text back from ESCO query "+r);const s=JSON.parse(a);return console.log("    Query result JSON"+JSON.stringify(s,null,4).slice(0,500)+"..."),s._embedded.results.map((e=>({name:{value:e.title,type:"literal"},uri:{type:"IRI",value:e.uri}})))}))},t.queryPublicDataByName=function(e,n,i){return r(this,void 0,void 0,(function*(){const r=i.searchByNameQuery.replace("$(name)",e).replace("$(limit)",""+t.AUTOCOMPLETE_LIMIT).replace("$(class)",n);return console.log("Querying public data - sparql: "+r),u(r,i)}))},t.queryPublicDataSelect=u,t.queryPublicDataConstruct=d,t.loadPublicDataThing=function(e,t,n){return r(this,void 0,void 0,(function*(){if(n.uri.startsWith("https://dbpedia.org/resource/"))return f(0,0,n);if(!n.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){const t=n.uri.startsWith("http:")?e.sym("https:"+n.uri.slice(5)):n;return e.fetcher.load(t,{credentials:"omit",headers:{Accept:"text/turtle"}})}n.uri.split("/")[4],yield p(0,0,n)}))},t.getWikidataDetails=p,t.getWikidataDetailsOld=function(e,n,i){return r(this,void 0,void 0,(function*(){const n='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?class } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(l,i),r=yield u(n,t.wikidataParameters);c(e,i,r,i.doc())}))},t.getWikidataLocation=function(e,n,i){return r(this,void 0,void 0,(function*(){const n='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(l,i);console.log(" location query sparql:"+n);const r=yield u(n,t.wikidataParameters);console.log(" location query bindings:",r),c(e,i,r,i.doc())}))},t.getDbpediaDetails=f;const i=n(67364),o=n(23451),a=n(92361),s=n(64044);t.AUTOCOMPLETE_LIMIT=3e3;const l=/\$\(subject\)/g;function c(e,n,r,o){var s={};console.log(`loadFromBindings:  subject: ${n}`),console.log(`                       doc: ${o}`),r.forEach((e=>{for(const t in e){const n=e[t],r=JSON.stringify(n);s[t]=s[t]||new Set,s[t].add(r)}}));for(const r in s){const l=s[r];console.log(`    results ${r} -> ${l}`),l.forEach((s=>{const l=JSON.parse(s),{type:c,value:u}=l;var d;if("uri"===c)d=e.sym(u);else{if("literal"!==c)throw new Error(`loadFromBindings:  unexpected type: ${c}`);d=new i.Literal(u,l.language,l.datatype)}if("type"==r)t.wikidataClassMap[u]?d=t.wikidataClassMap[u]:console.warn("Unmapped Wikidata Class: "+u);else if("coordinates"===r){console.log("         @@@ hey a point: "+u);const t=/.*\(([-0-9\.-]*) ([-0-9\.-]*)\)/.exec(u),r=a.ns.xsd("float"),s=new i.Literal(t[1],null,r),l=new i.Literal(t[2],null,r);e.add(n,a.ns.schema("longitude"),l,o),e.add(n,a.ns.schema("latitude"),s,o)}else if(t.predMap[r]){const i=t.predMap[r]||a.ns.schema(r);e.add(n,i,d,o),console.log(`  public data ${i} ${d}.`)}}))}}function u(e,t){return r(this,void 0,void 0,(function*(){const n=new URL(t.endpoint);n.searchParams.append("query",e);const r=n.href;console.log(" queryPublicDataSelect uri: "+r);const i=(yield o.store.fetcher.webOperation("GET",r,{credentials:"omit",headers:{Accept:"application/json"}})).responseText;if(0===i.length)throw new Error("Wot no text back from query "+r);const a=JSON.parse(i);return console.log("    Query result JSON"+JSON.stringify(a,null,4).slice(0,100)+"..."),a.results.bindings}))}function d(e,t,n){return r(this,void 0,void 0,(function*(){console.log("queryPublicDataConstruct: sparql:",e);const r=new URL(n.endpoint);r.searchParams.append("query",e);const a=r.href;console.log(" queryPublicDataConstruct uri: "+a);const s=(yield o.store.fetcher.webOperation("GET",a,{credentials:"omit",headers:{Accept:"text/turtle"}})).responseText,l=s.lenth>500?s.slice(0,200)+" ... "+s.slice(-200):s;if(console.log("    queryPublicDataConstruct result text:"+l),0===s.length)throw new Error("queryPublicDataConstruct: No text back from construct query:"+a);(0,i.parse)(s,o.store,t.uri,"text/turtle")}))}function p(e,n,i){return r(this,void 0,void 0,(function*(){const e=s.replace(/wd:Q49108/g,i);yield d(e,i,t.wikidataParameters),console.log("getWikidataDetails: loaded.",i)}))}function f(e,n,i){return r(this,void 0,void 0,(function*(){const e=`select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <${i}> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ${i} <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ${i} <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ${i} foaf:homepage ?homepage }\n    OPTIONAL { ${i} foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ${i} <http://dbpedia.org/ontology/country> ?country }\n   }`;a.ns.vcard("locality"),a.ns.vcard("region"),a.ns.vcard("country-name"),a.ns.foaf("homepage"),a.ns.geo("latitude"),a.ns.geo("longitude"),(yield u(e,t.dbpediaParameters)).forEach((e=>{e.subject.value,e.name.value}))}))}t.wikidataClasses={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"},t.escoParameters={label:"ESCO",logo:"https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif",searchByNameQuery:null,searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)",endpoint:null,class:{}},t.dbpediaParameters={label:"DBPedia",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png",searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(class); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/",class:{AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"}},t.wikidataParameters={label:"WikiData",logo:"https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png",endpoint:"https://query.wikidata.org/sparql",class:{AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"},searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(class) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'},t.wikidataClassMap={"http://www.wikidata.org/entity/Q15936437":a.ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":a.ns.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":a.ns.schema("Organization"),"http://www.wikidata.org/entity/Q3918":a.ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":a.ns.schema("Project"),"http://www.wikidata.org/entity/Q327333":a.ns.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":a.ns.schema("Place")},t.predMap={class:a.ns.rdf("type"),sealImage:a.ns.schema("logo"),shortName:a.ns.foaf("nick"),subsidiary:a.ns.schema("subOrganization")}},31789:e=>{e.exports='\n@prefix : <http://www.w3.org/2006/vcard/ns#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xml: <http://www.w3.org/XML/1998/namespace> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n:Acquaintance a owl:Class ;\n    rdfs:label "Acquaintance"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Agent a owl:Class ;\n    rdfs:label "Agent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:BBS a owl:Class ;\n    rdfs:label "BBS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Car a owl:Class ;\n    rdfs:label "Car"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Cell a owl:Class ;\n    rdfs:label "Cell"@en ;\n    rdfs:comment "Also called mobile telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Child a owl:Class ;\n    rdfs:label "Child"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Colleague a owl:Class ;\n    rdfs:label "Colleague"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Contact a owl:Class ;\n    rdfs:label "Contact"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coresident a owl:Class ;\n    rdfs:label "Coresident"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coworker a owl:Class ;\n    rdfs:label "Coworker"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Crush a owl:Class ;\n    rdfs:label "Crush"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Date a owl:Class ;\n    rdfs:label "Date"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Dom a owl:Class ;\n    rdfs:label "Dom"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Emergency a owl:Class ;\n    rdfs:label "Emergency"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Fax a owl:Class ;\n    rdfs:label "Fax"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Female a owl:Class ;\n    rdfs:label "Female"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Friend a owl:Class ;\n    rdfs:label "Friend"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Home a owl:Class ;\n    rdfs:label "Home"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s personal life"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:ISDN a owl:Class ;\n    rdfs:label "ISDN"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Internet a owl:Class ;\n    rdfs:label "Internet"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Intl a owl:Class ;\n    rdfs:label "Intl"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Kin a owl:Class ;\n    rdfs:label "Kin"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Label a owl:Class ;\n    rdfs:label "Label"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Male a owl:Class ;\n    rdfs:label "Male"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Me a owl:Class ;\n    rdfs:label "Me"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Met a owl:Class ;\n    rdfs:label "Met"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Modem a owl:Class ;\n    rdfs:label "Modem"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Msg a owl:Class ;\n    rdfs:label "Msg"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Muse a owl:Class ;\n    rdfs:label "Muse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Neighbor a owl:Class ;\n    rdfs:label "Neighbor"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:None a owl:Class ;\n    rdfs:label "None"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Other a owl:Class ;\n    rdfs:label "Other"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:PCS a owl:Class ;\n    rdfs:label "PCS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Pager a owl:Class ;\n    rdfs:label "Pager"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Parcel a owl:Class ;\n    rdfs:label "Parcel"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Parent a owl:Class ;\n    rdfs:label "Parent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Postal a owl:Class ;\n    rdfs:label "Postal"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Pref a owl:Class ;\n    rdfs:label "Pref"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Sibling a owl:Class ;\n    rdfs:label "Sibling"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Spouse a owl:Class ;\n    rdfs:label "Spouse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Sweetheart a owl:Class ;\n    rdfs:label "Sweetheart"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Tel a owl:Class ;\n    rdfs:label "Tel"@en ;\n    rdfs:comment "This class is deprecated. Use the hasTelephone object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Text a owl:Class ;\n    rdfs:label "Text"@en ;\n    rdfs:comment "Also called sms telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:TextPhone a owl:Class ;\n    rdfs:label "Text phone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Unknown a owl:Class ;\n    rdfs:label "Unknown"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Video a owl:Class ;\n    rdfs:label "Video"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Voice a owl:Class ;\n    rdfs:label "Voice"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Work a owl:Class ;\n    rdfs:label "Work"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s work place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:X400 a owl:Class ;\n    rdfs:label "X400"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:adr a owl:ObjectProperty ;\n    rdfs:label "address"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasAddress .\n\n:agent a owl:ObjectProperty ;\n    rdfs:label "agent"@en ;\n    rdfs:comment "This object property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:anniversary a owl:DatatypeProperty ;\n    rdfs:label "anniversary"@en ;\n    rdfs:comment "The date of marriage, or equivalent, of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:gYear ) ] .\n\n:bday a owl:DatatypeProperty ;\n    rdfs:label "birth date"@en ;\n    rdfs:comment "To specify the birth date of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:dateTimeStamp xsd:gYear ) ] .\n\n:category a owl:DatatypeProperty ;\n    rdfs:label "category"@en ;\n    rdfs:comment "The category information about the object, also known as tags"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:class a owl:DatatypeProperty ;\n    rdfs:label "class"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:email a owl:ObjectProperty ;\n    rdfs:label "email"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasEmail .\n\n:extended-address a owl:DatatypeProperty ;\n    rdfs:label "extended address"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:geo a owl:ObjectProperty ;\n    rdfs:label "geo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasGeo .\n\n:hasAdditionalName a owl:ObjectProperty ;\n    rdfs:label "has additional name"@en ;\n    rdfs:comment "Used to support property parameters for the additional name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarBusy a owl:ObjectProperty ;\n    rdfs:label "has calendar busy"@en ;\n    rdfs:comment "To specify the busy time associated with the object. (Was called FBURL in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarLink a owl:ObjectProperty ;\n    rdfs:label "has calendar link"@en ;\n    rdfs:comment "To specify the calendar associated with the object. (Was called CALURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarRequest a owl:ObjectProperty ;\n    rdfs:label "has calendar request"@en ;\n    rdfs:comment "To specify the calendar user address to which a scheduling request be sent for the object. (Was called CALADRURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCategory a owl:ObjectProperty ;\n    rdfs:label "has category"@en ;\n    rdfs:comment "Used to support property parameters for the category data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCountryName a owl:ObjectProperty ;\n    rdfs:label "has country name"@en ;\n    rdfs:comment "Used to support property parameters for the country name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFN a owl:ObjectProperty ;\n    rdfs:label "has formatted name"@en ;\n    rdfs:comment "Used to support property parameters for the formatted name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFamilyName a owl:ObjectProperty ;\n    rdfs:label "has family name"@en ;\n    rdfs:comment "Used to support property parameters for the family name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGender a owl:ObjectProperty ;\n    rdfs:label "has gender"@en ;\n    rdfs:comment "To specify  the sex or gender identity of the object. URIs are recommended to enable interoperable sex and gender codes to be used."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGivenName a owl:ObjectProperty ;\n    rdfs:label "has given name"@en ;\n    rdfs:comment "Used to support property parameters for the given name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificPrefix a owl:ObjectProperty ;\n    rdfs:label "has honorific prefix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific prefix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificSuffix a owl:ObjectProperty ;\n    rdfs:label "has honorific suffix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific suffix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasInstantMessage a owl:ObjectProperty ;\n    rdfs:label "has messaging"@en ;\n    rdfs:comment "To specify the instant messaging and presence protocol communications with the object. (Was called IMPP in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLanguage a owl:ObjectProperty ;\n    rdfs:label "has language"@en ;\n    rdfs:comment "Used to support property parameters for the language data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLocality a owl:ObjectProperty ;\n    rdfs:label "has locality"@en ;\n    rdfs:comment "Used to support property parameters for the locality data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasNickname a owl:ObjectProperty ;\n    rdfs:label "has nickname"@en ;\n    rdfs:comment "Used to support property parameters for the nickname data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:seeAlso :nickname .\n\n:hasNote a owl:ObjectProperty ;\n    rdfs:label "has note"@en ;\n    rdfs:comment "Used to support property parameters for the note data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationName a owl:ObjectProperty ;\n    rdfs:label "has organization name"@en ;\n    rdfs:comment "Used to support property parameters for the organization name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationUnit a owl:ObjectProperty ;\n    rdfs:label "has organization unit name"@en ;\n    rdfs:comment "Used to support property parameters for the organization unit name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasPostalCode a owl:ObjectProperty ;\n    rdfs:label "has postal code"@en ;\n    rdfs:comment "Used to support property parameters for the postal code data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRegion a owl:ObjectProperty ;\n    rdfs:label "has region"@en ;\n    rdfs:comment "Used to support property parameters for the region data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRelated a owl:ObjectProperty ;\n    rdfs:label "has related"@en ;\n    rdfs:comment "To specify a relationship between another entity and the entity represented by this object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRole a owl:ObjectProperty ;\n    rdfs:label "has role"@en ;\n    rdfs:comment "Used to support property parameters for the role data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasSource a owl:ObjectProperty ;\n    rdfs:label "has source"@en ;\n    rdfs:comment "To identify the source of directory information of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasStreetAddress a owl:ObjectProperty ;\n    rdfs:label "has street address"@en ;\n    rdfs:comment "Used to support property parameters for the street address data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasTitle a owl:ObjectProperty ;\n    rdfs:label "has title"@en ;\n    rdfs:comment "Used to support property parameters for the title data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasUID a owl:ObjectProperty ;\n    rdfs:label "has uid"@en ;\n    rdfs:comment "To specify a value that represents a globally unique identifier corresponding to the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasValue a owl:ObjectProperty ;\n    rdfs:label "has value"@en ;\n    rdfs:comment "Used to indicate the resource value of an object property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:label a owl:DatatypeProperty ;\n    rdfs:label "label"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:language a owl:DatatypeProperty ;\n    rdfs:label "language"@en ;\n    rdfs:comment "To specify the language that may be used for contacting the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:latitude a owl:DatatypeProperty ;\n    rdfs:label "latitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:longitude a owl:DatatypeProperty ;\n    rdfs:label "longitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:mailer a owl:DatatypeProperty ;\n    rdfs:label "mailer"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:note a owl:DatatypeProperty ;\n    rdfs:label "note"@en ;\n    rdfs:comment "A note associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:org a owl:ObjectProperty ;\n    rdfs:label "organization"@en ;\n    rdfs:comment "This object property has been mapped. Use the organization-name data property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :organization-name .\n\n:organization-unit a owl:DatatypeProperty ;\n    rdfs:label "organizational unit name"@en ;\n    rdfs:comment "To specify the organizational unit name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string ;\n    rdfs:subPropertyOf :organization-name .\n\n:post-office-box a owl:DatatypeProperty ;\n    rdfs:label "post office box"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:prodid a owl:DatatypeProperty ;\n    rdfs:label "product id"@en ;\n    rdfs:comment "To specify the identifier for the product that created the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:rev a owl:DatatypeProperty ;\n    rdfs:label "revision"@en ;\n    rdfs:comment "To specify revision information about the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:dateTime .\n\n:role a owl:DatatypeProperty ;\n    rdfs:label "role"@en ;\n    rdfs:comment "To specify the function or part played in a particular situation by the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:sort-string a owl:DatatypeProperty ;\n    rdfs:label "sort as"@en ;\n    rdfs:comment "To specify the string to be used for national-language-specific sorting. Used as a property parameter only."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:title a owl:DatatypeProperty ;\n    rdfs:label "title"@en ;\n    rdfs:comment "To specify the position or job of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:tz a owl:DatatypeProperty ;\n    rdfs:label "time zone"@en ;\n    rdfs:comment "To indicate time zone information that is specific to the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:value a owl:DatatypeProperty ;\n    rdfs:label "value"@en ;\n    rdfs:comment "Used to indicate the literal value of a data property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Address a owl:Class ;\n    rdfs:label "Address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the  object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :country-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :country-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :locality ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :locality ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :postal-code ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :postal-code ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :region ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :region ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :street-address ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :street-address ] ) ] ) ] .\n\n:Email a owl:Class ;\n    rdfs:label "Email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object the vCard represents. Use the hasEmail object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Group a owl:Class ;\n    rdfs:label "Group"@en ;\n    rdfs:comment "Object representing a group of persons or entities.  A group object will usually contain hasMember properties to specify the members of the group."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Individual,\n        :Location,\n        :Organization ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:intersectionOf ( [ a owl:Restriction ;\n                        owl:onProperty :hasMember ;\n                        owl:someValuesFrom :Kind ] [ a owl:Restriction ;\n                        owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n                        owl:onClass :Kind ;\n                        owl:onProperty :hasMember ] ) ] .\n\n:Individual a owl:Class ;\n    rdfs:label "Individual"@en ;\n    rdfs:comment "An object representing a single person or entity"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Location,\n        :Organization .\n\n:Name a owl:Class ;\n    rdfs:label "Name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :additional-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :additional-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :family-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :family-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :given-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :given-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-prefix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-prefix ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-suffix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-suffix ] ) ] ) ] .\n\n:VCard a owl:Class ;\n    rdfs:label "VCard"@en ;\n    rdfs:comment "The vCard class is  equivalent to the new Kind class, which is the parent for the four explicit types of vCards (Individual, Organization, Location, Group)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass :Kind .\n\n:fn a owl:DatatypeProperty ;\n    rdfs:label "formatted name"@en ;\n    rdfs:comment "The formatted text corresponding to the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasAddress a owl:ObjectProperty ;\n    rdfs:label "has address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Address .\n\n:hasEmail a owl:ObjectProperty ;\n    rdfs:label "has email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Email .\n\n:hasGeo a owl:ObjectProperty ;\n    rdfs:label "has geo"@en ;\n    rdfs:comment "To specify information related to the global positioning of the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasKey a owl:ObjectProperty ;\n    rdfs:label "has key"@en ;\n    rdfs:comment "To specify a public key or authentication certificate associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :key .\n\n:hasLogo a owl:ObjectProperty ;\n    rdfs:label "has logo"@en ;\n    rdfs:comment "To specify a graphic image of a logo associated with the object "@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :logo .\n\n:hasName a owl:ObjectProperty ;\n    rdfs:label "has name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Name ;\n    owl:equivalentProperty :n .\n\n:hasPhoto a owl:ObjectProperty ;\n    rdfs:label "has photo"@en ;\n    rdfs:comment "To specify an image or photograph information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :photo .\n\n:hasSound a owl:ObjectProperty ;\n    rdfs:label "has sound"@en ;\n    rdfs:comment "To specify a digital sound content information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :sound .\n\n:hasTelephone a owl:ObjectProperty ;\n    rdfs:label "has telephone"@en ;\n    rdfs:comment "To specify the telephone number for telephony communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :tel .\n\n:hasURL a owl:ObjectProperty ;\n    rdfs:label "has url"@en ;\n    rdfs:comment "To specify a uniform resource locator associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :url .\n\n:key a owl:ObjectProperty ;\n    rdfs:label "key"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasKey .\n\n:logo a owl:ObjectProperty ;\n    rdfs:label "logo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasLogo .\n\n:n a owl:ObjectProperty ;\n    rdfs:label "name"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasName .\n\n:nickname a owl:DatatypeProperty ;\n    rdfs:label "nickname"@en ;\n    rdfs:comment "The nick name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:photo a owl:ObjectProperty ;\n    rdfs:label "photo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasPhoto .\n\n:sound a owl:ObjectProperty ;\n    rdfs:label "sound"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasSound .\n\n:tel a owl:ObjectProperty ;\n    rdfs:label "telephone"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasTelephone .\n\n:url a owl:ObjectProperty ;\n    rdfs:label "url"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasURL .\n\n:Location a owl:Class ;\n    rdfs:label "Location"@en ;\n    rdfs:comment "An object representing a named geographical place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Organization .\n\n:additional-name a owl:DatatypeProperty ;\n    rdfs:label "additional name"@en ;\n    rdfs:comment "The additional name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:country-name a owl:DatatypeProperty ;\n    rdfs:label "country name"@en ;\n    rdfs:comment "The country name associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:family-name a owl:DatatypeProperty ;\n    rdfs:label "family name"@en ;\n    rdfs:comment "The family name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:given-name a owl:DatatypeProperty ;\n    rdfs:label "given name"@en ;\n    rdfs:comment "The given name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasMember a owl:ObjectProperty ;\n    rdfs:label "has member"@en ;\n    rdfs:comment "To include a member in the group this object represents. (This property can only be used by Group individuals)"@en ;\n    rdfs:domain :Group ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Kind .\n\n:honorific-prefix a owl:DatatypeProperty ;\n    rdfs:label "honorific prefix"@en ;\n    rdfs:comment "The honorific prefix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:honorific-suffix a owl:DatatypeProperty ;\n    rdfs:label "honorific suffix"@en ;\n    rdfs:comment "The honorific suffix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:locality a owl:DatatypeProperty ;\n    rdfs:label "locality"@en ;\n    rdfs:comment "The locality (e.g. city or town) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:organization-name a owl:DatatypeProperty ;\n    rdfs:label "organization name"@en ;\n    rdfs:comment "To specify the organizational name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:postal-code a owl:DatatypeProperty ;\n    rdfs:label "postal code"@en ;\n    rdfs:comment "The postal code associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:region a owl:DatatypeProperty ;\n    rdfs:label "region"@en ;\n    rdfs:comment "The region (e.g. state or province) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:street-address a owl:DatatypeProperty ;\n    rdfs:label "street address"@en ;\n    rdfs:comment "The street address associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:Organization a owl:Class ;\n    rdfs:label "Organization"@en ;\n    rdfs:comment """An object representing an organization.  An organization is a single entity, and might represent a business or government, a department or division within a business or government, a club, an association, or the like.\n"""@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind .\n\n:Gender a owl:Class ;\n    rdfs:label "Gender"@en ;\n    rdfs:comment "Used for gender codes. The URI of the gender code must be used as the value for Gender."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Kind a owl:Class ;\n    rdfs:label "Kind"@en ;\n    rdfs:comment "The parent class for all objects"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Restriction ;\n            owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n            owl:onDataRange xsd:string ;\n            owl:onProperty :fn ],\n        :VCard .\n\n:Type a owl:Class ;\n    rdfs:label "Type"@en ;\n    rdfs:comment "Used for type codes. The URI of the type code must be used as the value for Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:TelephoneType a owl:Class ;\n    rdfs:label "Phone"@en ;\n    rdfs:comment "Used for telephone type codes. The URI of the telephone type code must be used as the value for the Telephone Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:RelatedType a owl:Class ;\n    rdfs:label "Relation Type"@en ;\n    rdfs:comment "Used for relation type codes. The URI of the relation type code must be used as the value for the Relation Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n<http://www.w3.org/2006/vcard/ns> a owl:Ontology ;\n    rdfs:label "Ontology for vCard"@en ;\n    rdfs:comment "Ontology for vCard based on RFC6350"@en ;\n    owl:versionInfo "Final"@en .\n\n\n'},74945:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];x.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new x(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=p,e.Request=b,e.Response=x),t.Headers=p,t.Request=b,t.Response=x,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},76320:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},o={};o[n]=0;var a,s,l,c,u,d,p,f=t.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(l in s=(a=f.pop()).value,c=a.cost,u=e[s]||{})u.hasOwnProperty(l)&&(d=c+u[l],p=o[l],(void 0===o[l]||p>d)&&(o[l]=d,f.push(l,d),i[l]=s));if(void 0!==r&&void 0===o[r]){var h=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},25454:e=>{"use strict";const{entries:t,setPrototypeOf:n,isFrozen:r,getPrototypeOf:i,getOwnPropertyDescriptor:o}=Object;let{freeze:a,seal:s,create:l}=Object,{apply:c,construct:u}="undefined"!=typeof Reflect&&Reflect;a||(a=function(e){return e}),s||(s=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),u||(u=function(e,t){return new e(...t)});const d=C(Array.prototype.forEach),p=C(Array.prototype.lastIndexOf),f=C(Array.prototype.pop),h=C(Array.prototype.push),m=C(Array.prototype.splice),g=C(String.prototype.toLowerCase),v=C(String.prototype.toString),y=C(String.prototype.match),b=C(String.prototype.replace),w=C(String.prototype.indexOf),x=C(String.prototype.trim),E=C(Object.prototype.hasOwnProperty),_=C(RegExp.prototype.test),k=(S=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(S,t)});var S;function C(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return c(e,t,r)}}function A(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;n&&n(e,null);let o=t.length;for(;o--;){let n=t[o];if("string"==typeof n){const e=i(n);e!==n&&(r(t)||(t[o]=e),n=e)}e[n]=!0}return e}function T(e){for(let t=0;t<e.length;t++)E(e,t)||(e[t]=null);return e}function P(e){const n=l(null);for(const[r,i]of t(e))E(e,r)&&(Array.isArray(i)?n[r]=T(i):i&&"object"==typeof i&&i.constructor===Object?n[r]=P(i):n[r]=i);return n}function O(e,t){for(;null!==e;){const n=o(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=i(e)}return function(){return null}}const I=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=a(["#text"]),D=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=a(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=s(/<%[\w\W]*|[\w\W]*%>/gm),z=s(/\$\{[\w\W]*/gm),V=s(/^data-[\-\w.\u00B7-\uFFFF]+$/),$=s(/^aria-[\-\w]+$/),K=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=s(/^(?:\w+script|data):/i),J=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=s(/^html$/i),Y=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var X=Object.freeze({__proto__:null,ARIA_ATTR:$,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:Y,DATA_ATTR:V,DOCTYPE_NAME:Q,ERB_EXPR:W,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:G,MUSTACHE_EXPR:q,TMPLIT_EXPR:z});const Z=function(){return"undefined"==typeof window?null:window};var ee=function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();const r=t=>e(t);if(r.version="3.2.4",r.removed=[],!n||!n.document||9!==n.document.nodeType||!n.Element)return r.isSupported=!1,r;let{document:i}=n;const o=i,s=o.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:S,Element:C,NodeFilter:T,NamedNodeMap:q=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:W,DOMParser:z,trustedTypes:V}=n,$=C.prototype,G=O($,"cloneNode"),J=O($,"remove"),Y=O($,"nextSibling"),ee=O($,"childNodes"),te=O($,"parentNode");if("function"==typeof u){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ne,re="";const{implementation:ie,createNodeIterator:oe,createDocumentFragment:ae,getElementsByTagName:se}=i,{importNode:le}=o;let ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof t&&"function"==typeof te&&ie&&void 0!==ie.createHTMLDocument;const{MUSTACHE_EXPR:ue,ERB_EXPR:de,TMPLIT_EXPR:pe,DATA_ATTR:fe,ARIA_ATTR:he,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:ge,CUSTOM_ELEMENT:ve}=X;let{IS_ALLOWED_URI:ye}=X,be=null;const we=A({},[...I,...N,...F,...R,...M]);let xe=null;const Ee=A({},[...D,...U,...B,...H]);let _e=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ke=null,Se=null,Ce=!0,Ae=!0,Te=!1,Pe=!0,Oe=!1,Ie=!0,Ne=!1,Fe=!1,Le=!1,Re=!1,je=!1,Me=!1,De=!0,Ue=!1,Be=!0,He=!1,qe={},We=null;const ze=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const $e=A({},["audio","video","img","source","image","track"]);let Ke=null;const Ge=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Xe=Ye,Ze=!1,et=null;const tt=A({},[Je,Qe,Ye],v);let nt=A({},["mi","mo","mn","ms","mtext"]),rt=A({},["annotation-xml"]);const it=A({},["title","style","font","a","script"]);let ot=null;const at=["application/xhtml+xml","text/html"];let st=null,lt=null;const ct=i.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=P(e),ot=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===ot?v:g,be=E(e,"ALLOWED_TAGS")?A({},e.ALLOWED_TAGS,st):we,xe=E(e,"ALLOWED_ATTR")?A({},e.ALLOWED_ATTR,st):Ee,et=E(e,"ALLOWED_NAMESPACES")?A({},e.ALLOWED_NAMESPACES,v):tt,Ke=E(e,"ADD_URI_SAFE_ATTR")?A(P(Ge),e.ADD_URI_SAFE_ATTR,st):Ge,Ve=E(e,"ADD_DATA_URI_TAGS")?A(P($e),e.ADD_DATA_URI_TAGS,st):$e,We=E(e,"FORBID_CONTENTS")?A({},e.FORBID_CONTENTS,st):ze,ke=E(e,"FORBID_TAGS")?A({},e.FORBID_TAGS,st):{},Se=E(e,"FORBID_ATTR")?A({},e.FORBID_ATTR,st):{},qe=!!E(e,"USE_PROFILES")&&e.USE_PROFILES,Ce=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Oe=e.SAFE_FOR_TEMPLATES||!1,Ie=!1!==e.SAFE_FOR_XML,Ne=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,je=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,De=!1!==e.SANITIZE_DOM,Ue=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,ye=e.ALLOWED_URI_REGEXP||K,Xe=e.NAMESPACE||Ye,nt=e.MATHML_TEXT_INTEGRATION_POINTS||nt,rt=e.HTML_INTEGRATION_POINTS||rt,_e=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_e.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_e.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_e.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(Ae=!1),je&&(Re=!0),qe&&(be=A({},M),xe=[],!0===qe.html&&(A(be,I),A(xe,D)),!0===qe.svg&&(A(be,N),A(xe,U),A(xe,H)),!0===qe.svgFilters&&(A(be,F),A(xe,U),A(xe,H)),!0===qe.mathMl&&(A(be,R),A(xe,B),A(xe,H))),e.ADD_TAGS&&(be===we&&(be=P(be)),A(be,e.ADD_TAGS,st)),e.ADD_ATTR&&(xe===Ee&&(xe=P(xe)),A(xe,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&A(Ke,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(We===ze&&(We=P(We)),A(We,e.FORBID_CONTENTS,st)),Be&&(be["#text"]=!0),Ne&&A(be,["html","head","body"]),be.table&&(A(be,["tbody"]),delete ke.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=e.TRUSTED_TYPES_POLICY,re=ne.createHTML("")}else void 0===ne&&(ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(V,s)),null!==ne&&"string"==typeof re&&(re=ne.createHTML(""));a&&a(e),lt=e}},pt=A({},[...N,...F,...L]),ft=A({},[...R,...j]),ht=function(e){h(r.removed,{element:e});try{te(e).removeChild(e)}catch(t){J(e)}},mt=function(e,t){try{h(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Re||je)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},gt=function(e){let t=null,n=null;if(Le)e="<remove></remove>"+e;else{const t=y(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ot&&Xe===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=ne?ne.createHTML(e):e;if(Xe===Ye)try{t=(new z).parseFromString(r,ot)}catch(e){}if(!t||!t.documentElement){t=ie.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Ze?re:r}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Xe===Ye?se.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:o},vt=function(e){return oe.call(e.ownerDocument||e,e,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},yt=function(e){return e instanceof W&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof q)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},bt=function(e){return"function"==typeof S&&e instanceof S};function wt(e,t,n){d(e,(e=>{e.call(r,t,n,lt)}))}const xt=function(e){let t=null;if(wt(ce.beforeSanitizeElements,e,null),yt(e))return ht(e),!0;const n=st(e.nodeName);if(wt(ce.uponSanitizeElement,e,{tagName:n,allowedTags:be}),e.hasChildNodes()&&!bt(e.firstElementChild)&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return ht(e),!0;if(7===e.nodeType)return ht(e),!0;if(Ie&&8===e.nodeType&&_(/<[/\w]/g,e.data))return ht(e),!0;if(!be[n]||ke[n]){if(!ke[n]&&_t(n)){if(_e.tagNameCheck instanceof RegExp&&_(_e.tagNameCheck,n))return!1;if(_e.tagNameCheck instanceof Function&&_e.tagNameCheck(n))return!1}if(Be&&!We[n]){const t=te(e)||e.parentNode,n=ee(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=G(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,Y(e))}}return ht(e),!0}return e instanceof C&&!function(e){let t=te(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});const n=g(e.tagName),r=g(t.tagName);return!!et[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===Ye?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===r||nt[r]):Boolean(pt[n]):e.namespaceURI===Je?t.namespaceURI===Ye?"math"===n:t.namespaceURI===Qe?"math"===n&&rt[r]:Boolean(ft[n]):e.namespaceURI===Ye?!(t.namespaceURI===Qe&&!rt[r])&&!(t.namespaceURI===Je&&!nt[r])&&!ft[n]&&(it[n]||!pt[n]):!("application/xhtml+xml"!==ot||!et[e.namespaceURI]))}(e)?(ht(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(Oe&&3===e.nodeType&&(t=e.textContent,d([ue,de,pe],(e=>{t=b(t,e," ")})),e.textContent!==t&&(h(r.removed,{element:e.cloneNode()}),e.textContent=t)),wt(ce.afterSanitizeElements,e,null),!1):(ht(e),!0)},Et=function(e,t,n){if(De&&("id"===t||"name"===t)&&(n in i||n in ct))return!1;if(Ae&&!Se[t]&&_(fe,t));else if(Ce&&_(he,t));else if(!xe[t]||Se[t]){if(!(_t(e)&&(_e.tagNameCheck instanceof RegExp&&_(_e.tagNameCheck,e)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(e))&&(_e.attributeNameCheck instanceof RegExp&&_(_e.attributeNameCheck,t)||_e.attributeNameCheck instanceof Function&&_e.attributeNameCheck(t))||"is"===t&&_e.allowCustomizedBuiltInElements&&(_e.tagNameCheck instanceof RegExp&&_(_e.tagNameCheck,n)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(n))))return!1}else if(Ke[t]);else if(_(ye,b(n,ge,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==w(n,"data:")||!Ve[e])if(Te&&!_(me,b(n,ge,"")));else if(n)return!1;return!0},_t=function(e){return"annotation-xml"!==e&&y(e,ve)},kt=function(e){wt(ce.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||yt(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:a,namespaceURI:s,value:l}=o,c=st(a);let u="value"===a?l:x(l);if(n.attrName=c,n.attrValue=u,n.keepAttr=!0,n.forceKeepAttr=void 0,wt(ce.uponSanitizeAttribute,e,n),u=n.attrValue,!Ue||"id"!==c&&"name"!==c||(mt(a,e),u="user-content-"+u),Ie&&_(/((--!?|])>)|<\/(style|title)/i,u)){mt(a,e);continue}if(n.forceKeepAttr)continue;if(mt(a,e),!n.keepAttr)continue;if(!Pe&&_(/\/>/i,u)){mt(a,e);continue}Oe&&d([ue,de,pe],(e=>{u=b(u,e," ")}));const p=st(e.nodeName);if(Et(p,c,u)){if(ne&&"object"==typeof V&&"function"==typeof V.getAttributeType)if(s);else switch(V.getAttributeType(p,c)){case"TrustedHTML":u=ne.createHTML(u);break;case"TrustedScriptURL":u=ne.createScriptURL(u)}try{s?e.setAttributeNS(s,a,u):e.setAttribute(a,u),yt(e)?ht(e):f(r.removed)}catch(e){}}}wt(ce.afterSanitizeAttributes,e,null)},St=function e(t){let n=null;const r=vt(t);for(wt(ce.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)wt(ce.uponSanitizeShadowNode,n,null),xt(n),kt(n),n.content instanceof c&&e(n.content);wt(ce.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,a=null,s=null;if(Ze=!e,Ze&&(e="\x3c!--\x3e"),"string"!=typeof e&&!bt(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Fe||dt(t),r.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){const t=st(e.nodeName);if(!be[t]||ke[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof S)n=gt("\x3c!----\x3e"),i=n.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!Re&&!Oe&&!Ne&&-1===e.indexOf("<"))return ne&&Me?ne.createHTML(e):e;if(n=gt(e),!n)return Re?null:Me?re:""}n&&Le&&ht(n.firstChild);const l=vt(He?e:n);for(;a=l.nextNode();)xt(a),kt(a),a.content instanceof c&&St(a.content);if(He)return e;if(Re){if(je)for(s=ae.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(xe.shadowroot||xe.shadowrootmode)&&(s=le.call(o,s,!0)),s}let u=Ne?n.outerHTML:n.innerHTML;return Ne&&be["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&_(Q,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),Oe&&d([ue,de,pe],(e=>{u=b(u,e," ")})),ne&&Me?ne.createHTML(u):u},r.setConfig=function(){dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Fe=!0},r.clearConfig=function(){lt=null,Fe=!1},r.isValidAttribute=function(e,t,n){lt||dt({});const r=st(e),i=st(t);return Et(r,i,n)},r.addHook=function(e,t){"function"==typeof t&&h(ce[e],t)},r.removeHook=function(e,t){if(void 0!==t){const n=p(ce[e],t);return-1===n?void 0:m(ce[e],n,1)[0]}return f(ce[e])},r.removeHooks=function(e){ce[e]=[]},r.removeAllHooks=function(){ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();e.exports=ee},7176:(e,t,n)=>{"use strict";var r,i=n(73126),o=n(75795);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!r&&o&&o(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},30655:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},79612:e=>{"use strict";e.exports=Object},70580:e=>{"use strict";var t=/["'&<>]/;e.exports=function(e){var n,r=""+e,i=t.exec(r);if(!i)return r;var o="",a=0,s=0;for(a=i.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(o+=r.substring(s,a)),s=a+1,o+=n}return s!==a?o+r.substring(s,a):o}},37007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=h(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},11838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23451),i=n(92361);e.exports={icon:i.icons.iconBase+"noun_973694_expanded.svg",name:"folder",mintNew:function(e,t){var n=e.session.store,r=t.newInstance||n.sym(t.newBase),i=r.uri;return i.endsWith("/")&&(i=i.slice(0,-1)),t.newInstance=n.sym(i+"/"),n.fetcher.webOperation("PUT",r.uri).then((function(){return console.log("New container created: "+r.uri),t}))},label:function(e,t){var n=t.session.store,r=n.each(e,i.ns.ldp("contains")).length;return r>0?"Contents ("+r+")":n.holds(e,i.ns.rdf("type"),i.ns.ldp("Container"))?"Container (0)":null},render:function(e,t){function n(e){var t=e.uri.slice(e.dir().uri.length);return!(t.startsWith(".")||t.endsWith(".acl")||t.endsWith("~"))}function o(){var t=c.each(e,i.ns.ldp("contains")).filter(n);(t=t.map((function(e){return[i.utils.label(e).toLowerCase(),e]}))).sort(),t=t.map((function(e){return e[1]})),i.utils.syncTableToArray(a,t,(function(t){var n=c.statementsMatching(e,i.ns.ldp("contains"),t)[0],r=l.VIEWAS_boring_default,o=l.propertyTR(s,n,!1);return o.firstChild.textContent="",o.firstChild.style.cssText+="min-width: 3em;",o.appendChild(l.outlineObjectTD(t,r,void 0,n)),o}))}var a,s=t.dom,l=t.getOutliner(s),c=t.session.store,u=s.createElement("div");u.setAttribute("class","instancePane");var d=i.style.folderPaneStyle||"border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em;";u.setAttribute("style",d);var p=e.uri.endsWith("/")?e.uri:e.uri+"/",f=c.sym(p+"index.ttl#this");if(c.holds(e,i.ns.ldp("contains"),f.doc())){console.log("View of folder will be view of indexThing. Loading "+f);var h=u.appendChild(s.createElement("div"));return h.style.cssText="border-top: 0.2em solid #ccc;",c.fetcher.load(f.doc()).then((function(){a=h.appendChild(s.createElement("table")),t.getOutliner(s).GotoSubject(f,!0,void 0,!1,void 0,a)})),u}(a=u.appendChild(s.createElement("table"))).refresh=o,o(),c.updater.addDownstreamChangeListener(e,o);var m=u.appendChild(s.createElement("div")),g=r.authn.currentUser(),v={folder:e,div:m,dom:s,statusArea:m,me:g};return v.refreshTarget=a,i.login.filterAvailablePanes(t.session.paneRegistry.list).then((function(e){var n;i.create.newThingUI(v,t,e),i.aclControl.preventBrowserDropEvents(s),n=m.firstChild,i.widgets.makeDropTarget(n,null,y)})),u;function y(t){i.widgets.uploadFiles(c.fetcher,t,e.uri,e.uri,(function(t,n){var r=c.sym(n);console.log(" Upload: put OK: "+r),c.add(e,i.ns.ldp("contains"),r,e.doc()),a.refresh()}))}}}},89353:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e,t){for(var n=[],r=1,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments),s=n(0,i.length-a.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=",");return n}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(a,arguments));return Object(t)===t?t:this}return i.apply(e,r(a,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},66743:(e,t,n)=>{"use strict";var r=n(89353);e.exports=Function.prototype.bind||r},70453:(e,t,n)=>{"use strict";var r,i=n(79612),o=n(69383),a=n(41237),s=n(79290),l=n(79538),c=n(58068),u=n(69675),d=n(35345),p=n(71514),f=n(58968),h=n(6188),m=n(68002),g=n(75880),v=n(70414),y=n(73093),b=Function,w=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},x=n(75795),E=n(30655),_=function(){throw new u},k=x?function(){try{return _}catch(e){try{return x(arguments,"callee").get}catch(e){return _}}}():_,S=n(64039)(),C=n(93628),A=n(71064),T=n(48648),P=n(11002),O=n(10076),I={},N="undefined"!=typeof Uint8Array&&C?C(Uint8Array):r,F={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":S&&C?C([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":I,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&C?C(C([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&C?C((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&C?C((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&C?C(""[Symbol.iterator]()):r,"%Symbol%":S?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":k,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":O,"%Function.prototype.apply%":P,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":A,"%Math.abs%":p,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":T};if(C)try{null.error}catch(e){var L=C(C(e));F["%Error.prototype%"]=L}var R=function e(t){var n;if("%AsyncFunction%"===t)n=w("async function () {}");else if("%GeneratorFunction%"===t)n=w("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=w("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&C&&(n=C(i.prototype))}return F[t]=n,n},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=n(66743),D=n(9957),U=M.call(O,Array.prototype.concat),B=M.call(P,Array.prototype.splice),H=M.call(O,String.prototype.replace),q=M.call(O,String.prototype.slice),W=M.call(O,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,$=function(e,t){var n,r=e;if(D(j,r)&&(r="%"+(n=j[r])[0]+"%"),D(F,r)){var i=F[r];if(i===I&&(i=R(r)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=q(e,0,1),n=q(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return H(e,z,(function(e,t,n,i){r[r.length]=n?H(i,V,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=$("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],B(n,U([0,1],l)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],h=q(f,0,1),m=q(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&p||(s=!0),D(F,o="%"+(r+="."+f)+"%"))a=F[o];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(x&&d+1>=n.length){var g=x(a,f);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=D(a,f),a=a[f];p&&!s&&(F[o]=a)}}return a}},71064:(e,t,n)=>{"use strict";var r=n(79612);e.exports=r.getPrototypeOf||null},48648:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},93628:(e,t,n)=>{"use strict";var r=n(48648),i=n(71064),o=n(7176);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},6549:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},75795:(e,t,n)=>{"use strict";var r=n(6549);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},64039:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(41333);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9957:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(66743);e.exports=o.call(r,i)},4146:(e,t,n)=>{"use strict";var r=n(44363),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=p(n,v);try{c(t,v,y)}catch(e){}}}}return t}},251:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*m}},35867:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(92361),i=n(23451);const o=r.rdf,a=r.rdf;function s(e,t,n,i,o){const s=e.createElement("div"),l=t.any(n,r.ns.wf("stateStore")),c=t.any(n,r.ns.wf("issueClass")),u=r.utils.label(c);s.innerHTML="<h2>Add new "+(i?"sub ":"")+u+"</h2><p>Title of new "+u+":</p>";const d=e.createElement("input");return d.setAttribute("type","text"),d.setAttribute("style","margin: 0.5em; font-size: 100%; padding: 0.3em;"),d.setAttribute("size","100"),d.setAttribute("maxLength","2048"),d.select(),d.addEventListener("keyup",(function(e){13===e.keyCode&&function(){d.setAttribute("class","pendingedit"),d.disabled=!0;const e=[],c=t.anyValue(n,r.ns.wf("issueURITemplate")),u=c?t.sym(function(e){const t=new a.Literal(new Date),n=""+(new Date).getTime(),r=t.value.slice(0,4),i=t.value.slice(5,7),o=t.value.slice(8,10);return e.replace("{N}",n).replace("{YYYY}",r).replace("{MM}",i).replace("{DD}",o)}(a.uri.join(c,l.uri))):t.sym(l.uri+"#Iss"+(new Date).getTime()),p=u.doc(),f=t.literal(d.value);e.push(new a.Statement(u,r.ns.wf("tracker"),n,l)),e.push(new a.Statement(u,r.ns.dc("title"),f,l)),e.push(new a.Statement(u,r.ns.dct("created"),new Date,l));const h=i?t.each(i,r.ns.rdf("type"),null,i.doc()):t.each(n,r.ns.wf("initialState"));for(const t of h)e.push(new a.Statement(u,r.ns.rdf("type"),t,l));i&&e.push(new a.Statement(i,r.ns.wf("dependent"),u,l)),c&&(e.push(new a.Statement(u,r.ns.wf("tracker"),n,p)),e.push(new a.Statement(u,r.ns.rdfs("seeAlso"),l,p))),t.updater.update([],e,(function(e,t,n){t?(s.parentNode.removeChild(s),o(u)):console.log("Error: can't save new issue:"+n)}))}()}),!1),s.appendChild(d),d.focus(),s}const l=r.rdf,c=i.store,u=!1,d=r.icons.iconBase+"noun_17020_gray-tick.svg",p=(r.icons.iconBase,r.icons.iconBase+"noun_17020.svg");function f(e){const t=c.each(e,r.ns.rdf("type")).map((e=>c.any(e,r.ns.ui("backgroundColor")))).filter((e=>!!e));return t.length?t[0].value:null}function h(e,t){const n=t.overlay;n.innerHTML="";const i=n.appendChild(r.widgets.button(t.dom,r.icons.iconBase+"noun_1180156.svg","close",(function(){n.innerHTML="",n.style.visibility="hidden"})));i.style.float="right",i.style.margin="0.7em",delete i.style.backgroundColor,n.style.visibility="visible",n.appendChild(g(e,t)),n.firstChild.style.overflow="auto"}function m(e,t){const n=e.createElement("div");return n.setAttribute("style","height: 1em; margin: 0.5em;"),n.style.backgroundColor=t,n}function g(e,t){function n(t,n,i){if(u){if(!g(y,"trackLastModified"))return;const t=n.statementsMatching(e,r.ns.dct("modified")).concat(n.statementsMatching(e,r.ns.wf("modifiedBy"))),o=[l.st(e,r.ns.dct("modified"),new Date,i)];E&&o.push(l.st(e,r.ns.wf("modifiedBy"),E,i)),n.updater.update(t,o,(function(e,t,n){}))}}function o(e,t){const n=v.createElement("pre");return n.setAttribute("style",t||"color: grey"),x.appendChild(n),n.appendChild(v.createTextNode(e)),n}function a(e){console.warn(e),x.appendChild(r.widgets.errorMessageBlock(v,e))}function h(e,t){e||a("Sorry, failed to save your change:\n"+t)}function g(e,t){const n=c.any(e,r.ns.ui(t));return!(!n||!n.value)}const v=t.dom,y=c.the(e,r.ns.wf("tracker"),null,e.doc());if(!y)throw new Error("No tracker");const b=c.any(y,r.ns.wf("stateStore")),w=e.doc(),x=v.createElement("div"),E=i.authn.currentUser(),_=f(e)||"white";!function(){const t="padding: 0.5em 1.5em 1em 1.5em; border: 0.7em;border-color: "+(f(e)||"#eee")+"; ";x.setAttribute("style",t),x.style.backgroundColor="white"}(),i.authn.checkUser();const k=x.appendChild(r.widgets.button(v,function(e){return function(e){return!!c.findTypeURIs(e)[r.ns.wf("Open").uri]}(e)?d:p}(e)));r.widgets.makeDraggable(k,e);const S=c.any(y,r.ns.wf("issueClass"));if(!S)throw new Error("This tracker "+y+" has no issueClass");const C=r.widgets.makeSelectForCategory(v,c,e,S,b,(function(e,t){e?(n(0,c,w),r.widgets.refreshTree(x)):console.log("Failed to change state:\n"+t)}));x.appendChild(C);const A=c.each(y,r.ns.wf("issueCategory"));for(const t of A)x.appendChild(r.widgets.makeSelectForCategory(v,c,e,t,b,(function(e,t){e?(n(0,c,w),r.widgets.refreshTree(x)):console.log("Failed to change category:\n"+t)})));const T=v.createElement("a");T.setAttribute("href",y.uri),T.setAttribute("style","float:right"),x.appendChild(T).textContent=r.utils.label(y),T.addEventListener("click",r.widgets.openHrefInOutlineMode,!0);const P=r.ns.wf("coreIsueForm");l.parse('\n    @prefix : <http://www.w3.org/ns/ui#> .\n    @prefix core: <http://www.w3.org/2005/01/wf/flow#>.\n    @prefix dc: <http://purl.org/dc/elements/1.1/>.\n    @prefix wf: <http://www.w3.org/2005/01/wf/flow#> .\n\n    core:coreIsueForm     a :Form;\n         <http://purl.org/dc/elements/1.1/title> "Core issue data";\n         :parts  (\n        core:titleField\n        core:descriptionField ) .\n\n    core:descriptionField     a :MultiLineTextField;\n         :label "Description";\n         :property wf:description;\n         :size "40" .\n\n    core:titleField     a :SingleLineTextField;\n         :label "Title";\n         :maxLength "128";\n         :property dc:title; # @@ Should move to dct or schema\n         :size "40" .\n\n    wf:Task     :creationForm core:coreIsueForm .\n',c,P.doc().uri,"text/turtle");const O=r.widgets.appendForm(v,null,{},e,P,b,h);x.appendChild(O),O.style.backgroundColor=_;const I=c.statementsMatching(e,r.ns.wf("assignee"));if(I.length>1){o("Weird, was assigned to more than one person. Fixing ..");const e=I.slice(1);c.updater.update(e,[],(function(e,t,n){t?o("Now fixed."):a("Fixed failed: "+n)}))}function N(e){return r.widgets.personTR(v,r.ns.wf("dependent"),e,{link:!1})}function F(e,t){t=t||[];const n=c.any(null,r.ns.wf("dependent"),e,e.doc());return n?F(n,[n].concat(t)):t}if(async function(){const t=c.each(e,r.ns.wf("assigneeGroup"));await c.fetcher.load(t);const n=t.map((e=>c.each(e,r.ns.vcard("member"),null,e.doc()))).flat(),i=c.any(null,r.ns.doap("bug-database"),y);i&&await c.fetcher.load(i);const o=i?c.each(i,r.ns.doap("developer")):[];return n.concat(o)}().then((t=>{if(t.length){t.forEach((function(e){c.fetcher.lookUpThing(e)}));const i={nullLabel:"(unassigned)"};x.appendChild(r.widgets.makeSelectForOptions(v,c,e,r.ns.wf("assignee"),t,i,w,(function(e,t){e?n(0,c,w):console.log("Failed to change assignee:\n"+t)})))}})),g(y,"allowSubIssues")){const t=x.appendChild(v.createElement("div"));t.style="margin: 1em; padding: 1em;",t.appendChild(v.createElement("h4")).textContent="Super Issues";const n=t.appendChild(v.createElement("div"));n.style.display="flex",n.refresh=function(){const t=F(e);r.utils.syncTableToArrayReOrdered(n,t,N)},n.refresh(),t.appendChild(v.createElement("h4")).textContent="Sub Issues";const i=t.appendChild(v.createElement("div"));i.style.display="flex",i.style.flexDirection="reverse",i.refresh=function(){const t=c.each(e,r.ns.wf("dependent"),null,e.doc());r.utils.syncTableToArrayReOrdered(i,t,N)},i.refresh();const o=v.createElement("button");o.setAttribute("type","button"),t.appendChild(o);const a=r.utils.label(S);o.innerHTML="New sub "+a,o.setAttribute("style","float: right; margin: 0.5em 1em;"),o.addEventListener("click",(function(n){t.insertBefore(s(v,c,y,e,i.refresh),o.nextSibling)}),!1)}x.appendChild(v.createElement("br"));const L=c.any(y,r.ns.wf("extrasEntryForm"));L&&r.widgets.appendForm(v,x,{},e,L,b,h);const R=x.appendChild(m(v,_));let j;c.anyValue(y,r.ns.wf("issueURITemplate"))?j=e.doc():(j=c.any(y,r.ns.wf("messageStore")),j||(j=c.any(y,r.ns.wf("stateStore"))),c.sym(j.uri+"#Chat"+(new Date).getTime())),c.fetcher.nowOrWhenFetched(j,(function(t,n,i){if(t){const t=(0,r.messageArea)(v,c,e,j);x.insertBefore(t,R),x.insertBefore(m(v,_),t)}else{const e=v.createElement("p");e.textContent=n,x.insertBefore(e,R)}})),x.appendChild(v.createElement("div")).innerHTML="<h4>Attachments</h4>\n    <p>Drag files, emails,\n    web pages onto the paper clip, or click the file upload button.</p>";const M=e.uri.endsWith("/index.ttl#this")?e.uri.slice(0,14)+"Files/":e.dir().uri+"Files/"+e.uri.split("#")[1]+"/";r.widgets.attachmentList(v,e,x,{doc:b,promptIcon:r.icons.iconBase+"noun_25830.svg",uploadFolder:c.sym(M),predicate:r.ns.wf("attachment")}),r.widgets.deleteButtonWithCheck(v,x,"issue",(async function(){try{await c.updater.update(c.connectedStatements(e))}catch(e){a(`Unable to delete issue: ${e}`)}a("DELETED OK"),x.style.backgroundColor="#eee",x.style.fontColor="orange"})).style.float="right";const D=v.createElement("button");return D.textContent="refresh messages",D.addEventListener("click",(async function(e){try{await c.fetcher.load(j,{force:!0,clearPreviousData:!0})}catch(e){return void alert(e)}r.widgets.refreshTree(x)}),!1),D.setAttribute("style",r.style.button),x.appendChild(D),x}const v=r.rdf,y=r.ns,b=i.store.updater;function w(e,t){const n=r.login.newAppInstance(t.dom,{noun:"tracker"},(function(n,i){function o(e){if(void 0!==e.elements)return e.elements.map(o);if(void 0===e.uri)return e;let t=e.uri;return t===c.uri?u:(t.slice(0,p.length)===p&&(t=i+t.slice(p.length)),l.sym(t))}const a="issuetracker.w3.org",s=r.ns.space,l=t.session.store;if(!i&&("/"!==(i=l.any(n,s("uriPrefix")).value).slice(-1)&&(v.log.error(a+": No / at end of uriPrefix "+i),i+="/"),i+=a+"/"+(new Date).getTime()+"/",!confirm("Make new tracker at "+i+"?")))return;const c=l.any(e,y.wf("stateStore")),u=l.sym(i+"store.ttl"),d=e.doc(),p=d.uri.slice(0,d.uri.lastIndexOf("/")+1),f=o(d),h=o(e),m=l.statementsMatching(void 0,void 0,void 0,d);for(let e=0;e<m.length;e++){const t=m[e];l.add(o(t.subject),o(t.predicate),o(t.object),f)}l.add(h,r.ns.space("inspiration"),e,c),l.add(h,r.ns.space("inspiration"),e,f),b.put(f,l.statementsMatching(void 0,void 0,void 0,f),"text/turtle",(function(e,t,n){t?b.put(u,[],"text/turtle",(function(e,t,n){t?console.info("Ok The tracker created OK at: "+h.uri+"\nMake a note of it, bookmark it. "):console.log("FAILED to set up new store at: "+u.uri+" : "+n)})):console.log("FAILED to save new tracker at: "+f.uri+" : "+n)}))}));return n.setAttribute("style","margin: 0.5em 1em;"),n}const x=r.rdf,E=i.store,_={icon:r.icons.iconBase+"noun_122196.svg",name:"issue",audience:[],label:function(e,t){const n=E.findTypeURIs(e);return n["http://www.w3.org/2005/01/wf/flow#Task"]||E.holds(e,r.ns.wf("tracker"))?"issue":n["http://www.w3.org/2005/01/wf/flow#Tracker"]?"tracker":null},mintClass:r.ns.wf("Tracker"),mintNew:async function(e,t){const n=e.session.store;let o;t.newInstance?o=n.sym(t.newInstance.doc().uri+"_state.ttl"):(t.newInstance=n.sym(t.newBase+"index.ttl#this"),o=n.sym(t.newBase+"state.ttl"));const a=t.newInstance,s=a.doc(),l=i.authn.currentUser();l&&n.add(a,r.ns.dc("author"),l,s),n.add(a,r.ns.rdf("type"),r.ns.wf("Tracker"),s),n.add(a,r.ns.dc("created"),new Date,s),n.add(a,r.ns.wf("issueClass"),r.ns.wf("Task"),s),n.add(a,r.ns.wf("initialState"),r.ns.wf("Open"),s),n.add(a,r.ns.wf("stateStore"),o,s),n.add(a,r.ns.wf("assigneeClass"),r.ns.foaf("Person"),s),n.add(a,r.ns.wf("stateStore"),o,o);const c=n.statementsMatching(void 0,void 0,void 0,s).concat(n.statementsMatching(void 0,void 0,void 0,o));try{await async function(e,t){const r=e.concat(t).map((e=>e.why)),i=Array.from(new Set(r)).map((r=>n.updater.update(e.filter((e=>e.why.sameTerm(r))),t.filter((e=>e.why.sameTerm(r))))));return Promise.all(i)}([],c)}catch(t){return r.widgets.complain(e,"Error writing tracker configuration: "+t)}const u=e.dom;return t.div.appendChild(u.createElement("div")).innerHTML=`<h4>Success</h4>\n    <p>Your <a href="${a.uri}">new tracker</a> has been made.\n    Use the settings tab to configure it.\n    </p>\n    `,t},render:function(e,t){const a=t.dom,l=a.createElement("div");function u(e){console.warn(e),l.appendChild(r.widgets.errorMessageBlock(a,e))}function d(e,t){e||u(t)}function p(e,n){const s=E.any(e,r.ns.wf("issueClass")),l=(n=n||s).sameTerm(s),d=E.any(n,r.ns.owl("disjointUnionOf"));if(!d)return u(`Configuration error: state ${s} does not have substates`);let p=d.elements;l&&p.length>2&&(p=p.filter((e=>E.holds(e,r.ns.rdfs("subClassOf"),r.ns.wf("Open"))||e.sameTerm(r.ns.wf("Open")))));const m={columnDropHandler:async function(e,i){const o=function(e,t){const n=c.the(e,r.ns.wf("tracker"),null,e.doc()),i=c.any(n,r.ns.wf("issueClass"));t=t||i;const o=c.each(e,r.ns.rdf("type")).filter((e=>c.holds(e,r.ns.rdfs("subClassOf"),t)));if(1!==o.length)throw new Error("Issue must have one type as state: "+o.length);return o[0]}(e,n),a=E.the(e,r.ns.wf("tracker"),null,e.doc()),s=E.any(a,r.ns.wf("stateStore"));if(!i.sameTerm(o)){try{await E.updater.update([x.st(e,r.ns.rdf("type"),o,s)],[x.st(e,r.ns.rdf("type"),i,s)])}catch(e){r.widgets.complain(t,"Unable to change issue state: "+e)}g.refresh()}},filter:l?null:function(e){return!!E.findTypeURIs(e)[r.ns.wf("Open").uri]}};m.sortBy=r.ns.dct("created"),m.sortReverse=!0;const g=function(e,t,n,a){const s=e.createElement("div");s.style="width: 100%;",s.style.margin="1em";const l=s.appendChild(e.createElement("table"));l.style="width: 100%;",l.style.borderCollapse="collapse";const c=l.appendChild(e.createElement("tr")),u=l.appendChild(e.createElement("tr"));function d(t,n){const o=e.createElement("div"),a=o.appendChild(e.createElement("table")),s=i.store.each(t,r.ns.rdf("type")).map((e=>i.store.any(e,r.ns.ui("backgroundColor")))).filter((e=>e));a.appendChild(r.widgets.personTR(e,null,t)),a.subject=t,a.style="margin: 1em;";const l=s[0]||i.store.any(n,r.ns.ui("backgroundColor"));return o.style.backgroundColor=l?l.value:"#fff",o}function p(e,t,n,r){const o=e.map((e=>[i.store.any(e,t)||n,e]));return o.sort(),r&&o.reverse(),o.map((e=>e[1]))}return t.forEach((t=>{const n=c.appendChild(e.createElement("th"));n.textContent=r.utils.label(t,!0),n.subject=t,n.style="margin: 0.3em; padding: 0.5em 1em; font-treatment: bold; font-size: 120%;";const o=u.appendChild(e.createElement("td"));o.subject=t,o.style="border: 0.01em solid white; padding: 0.1em;",a.columnDropHandler&&r.widgets.makeDropTarget(o,(function(e){e.forEach((function(e){console.log("Dropped on column: "+e);const n=i.store.sym(e);a.columnDropHandler(n,t)}))}))})),s.refresh=function(){const e=new o.Literal(new Date),t=n||a.renderItem||d;function s(e){const n=t(e);return r.widgets.makeDraggable(n,e),n.subject=e,n}for(let t=u.firstChild;t;t=t.nextSibling){const n=t.subject;let o=i.store.each(null,r.ns.rdf("type"),n);const l=a.sortBy||r.ns.dct("created");a.filter&&(o=o.filter(a.filter));const c=p(o,l,e,!0);r.utils.syncTableToArrayReOrdered(t,c,s)}},s.refresh(),s}(a,p,(function(e){return function(e,t){function n(){const t=f(e)||"white";a.style.backgroundColor=t,u.style.backgroundColor=t}const i=t.dom,o=!f(e),a=i.createElement("div"),s=a.appendChild(i.createElement("table"));s.style.width="100%",s.appendChild(r.widgets.personTR(i,null,e,{draggable:!1})),s.subject=e,a.style="border-radius: 0.4em; border: 0.05em solid grey; margin: 0.3em;",a.firstChild.firstChild.firstChild.firstChild.setAttribute("src",r.icons.iconBase+"noun_Danger_1259514.svg");const l=a.firstChild.firstChild.children[2],u=r.widgets.button(i,r.icons.iconBase+"noun_253504.svg","edit",(async n=>{h(e,t)})),d=u.firstChild;if(d.style.width=d.style.height="1.5em",l.appendChild(u),o){const n=r.widgets.deleteButtonWithCheck(i,l,"issue",(async function(){try{await c.updater.update(c.connectedStatements(e))}catch(e){!function(e,t){console.warn(e),t.paneDiv.appendChild(r.widgets.errorMessageBlock(t.dom,e))}(`Unable to delete issue: ${e}`,t)}console.log("User deleted issue "+e),a.parentNode.removeChild(a),r.widgets.refreshTree(t.paneDiv)}));l.appendChild(n)}return a.style.maxWidth="24em",a.refresh=n,n(),a}(e,t)}),m);return g}function m(e){const n=a.createElement("div"),o=i.authn.currentUser(),s={div:n,dom:a,noun:"tracker",statusArea:n,me:o,refreshTarget:e},l=[t.session.paneRegistry.byName("issue")];return r.create.newThingUI(s,t,l),n}function v(){const n=E.any(A,r.ns.wf("issueClass")),i=[k,b,n].concat(E.each(A,r.ns.wf("issueCategory")));i.push(_);const o={renderMain:function(n,i){if(n.innerHTML="",i.sameTerm(y))n.appendChild(p(A));else if(i.sameTerm(b))n.appendChild(function(n){function i(){const e=new x.IndexedFormula;return c.pat.optional.push(e),e}const o=E.any(e,r.ns.wf("issueClass")),s=E.each(n,r.ns.wf("issueCategory")),l=["issue","state","created"],c=new x.Query(r.utils.label(e));for(let e=0;e<s.length;e++)l.push("_cat_"+e);const u={};l.forEach((function(e){c.vars.push(u[e]=x.variable(e))})),c.pat.add(u.issue,r.ns.wf("tracker"),n),c.pat.add(u.issue,r.ns.dct("created"),u.created),c.pat.add(u.issue,r.ns.rdf("type"),u.state),c.pat.add(u.state,r.ns.rdfs("subClassOf"),o),c.pat.optional=[];for(let e=0;e<s.length;e++){const t=i();t.add(u.issue,r.ns.rdf("type"),u["_cat_"+e]),t.add(u["_cat_"+e],r.ns.rdfs("subClassOf"),s[e])}const d=E.any(n,r.ns.wf("propertyList"));if(d){const e=d.elements;for(let t=0;t<e.length;t++){const n=e[t];let r="_prop_"+t;n.uri.indexOf("#")>=0&&(r=n.uri.split("#")[1]);const o=i();c.vars.push(u[r]=x.variable(r)),o.add(u.issue,n,u[r])}}const p={};E.each(void 0,r.ns.rdfs("subClassOf"),o).forEach((function(e){(E.holds(e,r.ns.rdfs("subClassOf"),r.ns.wf("Open"))||e.sameTerm(r.ns.wf("Open")))&&(p[e.uri]=!0)}));const f=(0,r.table)(a,{query:c,keyVariable:"?issue",sortBy:"?created",sortReverse:!0,hints:{"?issue":{linkFunction:function(e){h(x.sym(e),t)},label:"Title"},"?created":{cellFormat:"shortDate"},"?state":{initialSelection:p,label:"Status"}}}),m=E.any(e,r.ns.wf("stateStore"));return f.appendChild(function(e,t){return r.widgets.button(a,r.icons.iconBase+"noun_479395.svg","refresh table",(async n=>{try{await E.fetcher.load(e,{force:!0,clearPreviousData:!0})}catch(e){return void alert(e)}r.widgets.refreshTree(t)}))}(m,f)),f}(A));else if(i.sameTerm(_))n.appendChild(function(e){const t=a.createElement("div"),n=E.any(e,r.ns.wf("issueClass")),i=[b,n].concat(E.each(e,r.ns.wf("issueCategory"))),o=t.appendChild(a.createElement("div"));r.widgets.renderNameValuePair(a,E,o,null,"Default view").appendChild(r.widgets.makeSelectForOptions(a,E,e,r.ns.wf("defaultView"),i,{},e.doc()));const s={dom:a,div:t,noun:"tracker"};return r.login.registrationControl(s,e,r.ns.wf("Tracker")).then((n=>{const i=r.ns.wf("TrackerSettingsForm");x.parse('\n@prefix : <http://www.w3.org/ns/ui#> .\n@prefix core: <http://www.w3.org/2005/01/wf/flow#>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix ui: <http://www.w3.org/ns/ui#> .\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#> .\n\n  core:TrackerSettingsForm     a :Form;\n     <http://purl.org/dc/elements/1.1/title> "Tracker Configuration Form";\n     :parts  (\n\n      [   a ui:Heading;  ui:contents "About the tracker"@en ]\n\n      [ a :SingleLineTextField;\n                 :label "Title of issue tracker";\n                 :maxLength "128";\n                 :property dct:title;\n                 :size "40" ]\n\n      [ a :MultiLineTextField; :label "Description"; :property wf:description; :size "40" ]\n\n      [ a ui:Choice;  ui:canMintNew true; ui:use core:SuperClassForm; ui:follow true;\n          ui:property  wf:issueClass;\n          ui:label "What states can an issue be in?";\n          ui:from rdfs:Class;\n          ui:default wf:Task ]\n\n      [   a ui:Comment;  ui:contents """You can optionally sort issues using (one or more) classification systems"""@en ]\n\n\n      [ a ui:Multiple;  ui:canMintNew true;  ui:part core:ClassificationForm;\n          ui:property  wf:issueCategory; ui:label "Sort them into which category?"; ui:from rdfs:Class ]\n\n      [ a :BooleanField;\n              :label "Allow issues to have sub-issues";\n              :property wf:allowSubIssues;\n              :default false ]\n\n      [ a ui:Heading;  ui:contents "Table view:"@en ]\n\n      [ a ui:Comment;  ui:contents "Any extra properties to include?"@en ]\n\n\n    [a ui:Multiple; ui:property wf:propertyList; ui:ordered true; ui:part core:PropertyForm; ui:follow true ]\n\n      [ a ui:Heading;  ui:contents "Details of issues"@en ]\n\n      # Use a people picker ideally\n      [ a ui:Choice;  ui:canMintNew true; ui:use core:GroupForm;\n          ui:property wf:assigneeGroup;\n          ui:label "Assign issues to people from which group?";\n          ui:from vcard:Group;\n          ]\n\n       # Optionally one form for extras\n\n       [ a ui:Choice;  ui:canMintNew true; ui:use ui:FormForm;\n           ui:property wf:extrasEntryForm;\n           ui:label "Other things to save about each issue?";\n           ui:from ui:Form;\n           ]\n\n\n    ) .\n\n    # Form for the superclass of all states\n    # @@ also We must require each state class to be stated to be a subclass of EITHER Open OR Closed.\n    core:SuperClassForm a ui:Form; dct:title "Form for managing states";\n      ui:parts (\n        [ a :SingleLineTextField;\n                   :label "Name of set of states";\n                   :defualt "States";\n                   :maxLength "128";\n                   :property rdfs:label;\n                   :size "40" ]\n          [a ui:Multiple; ui:property owl:disjointUnionOf; ui:ordered true; ui:part core:StateForm ]\n  #      [ a ui:Multiple; ui:property rdfs:subClassOf; ui:reverse true; ui:part core:StateForm ]\n    ) .\n\n    core:StateForm a ui:Form; dct:title "Form for one state";\n      ui:parts (\n                [ a :SingleLineTextField;\n                         :label "Name of state";\n                         :maxLength "128";\n                         :property rdfs:label;\n                         :size "40" ]\n                 [ a :ColorField; :label "Background color"; :property :backgroundColor ]\n                  # @@ add icon for state\n\n                 ).\n\n\n    # Form for Classification\n\n    core:ClassificationForm a ui:Form; dct:title "Form for a classification by categpry";\n      ui:parts (\n        [ a :SingleLineTextField;\n                   :label "Name of classification:";\n                   :maxLength "128";\n                   :property rdfs:label;\n                   :size "40" ]\n         [a ui:Multiple; ui:property owl:disjointUnionOf; ui:ordered true; ui:part core:CategoryForm ]\n    ) .\n\n    core:CategoryForm a ui:Form; dct:title "Form for a category";\n      ui:parts (\n                [ a :SingleLineTextField;\n                         :label "Name of category";\n                         :maxLength "128";\n                         :property rdfs:label;\n                         :size "40" ]\n                 [ a :ColorField; :label "Background color"; :property :backgroundColor ]\n\n                 ).\n\n   core:PropertyForm a ui:Form; ui:parts ( # Internded for raed only only marking the\n     [ a :SingleLineTextField;\n                :label "(property name)";\n                :maxLength "128";\n                :property rdfs:label;\n                :size "40" ]\n     ).\n\n\n    # Other ontology stuff we are otherwis missing\n\n    # we can usde ui:label to give a decent abel when the ontology uses a really bad one\n    rdfs:subClassOf ui:label "super class" .\n    # We can also add a specific nice label for the inverse\n    [] owl:inverse rdfs:subClassOf; rdfs:label "sub class" .\n    owl:disjointUnionOf ui:label "option" .\n\n    # Form for new group\n\n\n    core:GroupForm a ui:Form; dct:title "Form for new contacts group"; ui:parts (\n      [ a :SingleLineTextField;\n                 :label "Name of new group";\n                 :maxLength "128";\n                 :property vcard:fn;\n                 :size "60" ]\n\n      [ a ui:Heading;  ui:contents "Members of group"@en ]\n\n      [ a ui:Multiple; ui:label "contacts in group"; ui:property vcard:member; ui:part core:PersonForm ]\n\n      ).\n\n  core:PersonForm a ui:Form; dct:title "New contact details form"; ui:parts (\n\n  [ a :NamedNodeURIField; ui:label "Solid ID"; ui:property owl:sameAs; ui:size 60 ]\n\n  [ a :SingleLineTextField;\n             :label "Name of contact";\n             :maxLength "128";\n             :property vcard:fn;\n             :size "60" ]\n\n  [ a ui:PhoneField; :label "Phone"; :property vcard:phone; ] # @@ check property]\n\n  [ a :EmailField; :label "Email"; :property vcard:email ] # @@ check property\n\n ).\n\n# classificattion owl:disjointUnionOf ()\n        wf:Tracker     :creationForm core:SettingsForm .\n',E,i.doc().uri,"text/turtle"),r.widgets.appendForm(a,t,{},e,i,e.doc(),d)})),t}(A));else if(i.sameTerm(k))n.appendChild(function(e){const t=a.createElement("div"),n={dom:a,div:t,noun:"tracker"};return r.login.registrationList(n,{public:!0,private:!0,type:e}).then((e=>{t.appendChild(m(t))})),t}(r.ns.wf("Tracker")));else{if(!E.holds(A,r.ns.wf("issueCategory"),i)&&!E.holds(A,r.ns.wf("issueClass"),i))throw new Error("Unexpected tab type: "+i);n.appendChild(p(A,i))}},items:i,selectedTab:E.any(A,r.ns.wf("defaultView"),null,A.doc())||b},s=k.doc();return E.add(k,r.ns.rdfs("label"),"My Trackers",s),E.add(_,r.ns.rdfs("label"),"Settings",s),E.add(n,r.ns.rdfs("label"),"By State",s),r.tabs.tabWidget(o)}t.paneDiv=l,l.setAttribute("class","issuePane");const y=r.ns.wf("BoardView"),b=r.ns.wf("TableView"),_=r.ns.wf("SettingsView"),k=r.ns.wf("InstancesView"),S=E.updater,C=E.findTypeURIs(e);let A;const T=r.ns.wf("").doc();E.holds(void 0,void 0,void 0,T)||x.parse(n(9264),E,T.uri,"text/turtle");const P=r.ns.ui("").doc();let O;E.holds(void 0,void 0,void 0,P)||x.parse(n(16915),E,P.uri,"text/turtle"),C["http://www.w3.org/2005/01/wf/flow#Task"]||E.holds(e,r.ns.wf("tracker"))?async function(){if(A=E.any(e,r.ns.wf("tracker")),!A)throw new Error("This issue "+e+"has no tracker");try{await t.session.store.fetcher.load(A.doc())}catch(e){return u("Failed to load tracker config "+A.doc()+": "+e)}const n=E.any(A,r.ns.wf("stateStore"));if(!n)return u("Tracker has no state store: "+A);try{await t.session.store.fetcher.load(e)}catch(e){return u("Failed to load issue state "+n+": "+e)}l.appendChild(g(e,t)),S.addDownstreamChangeListener(n,(function(){r.widgets.refreshTree(l)}))}().then((()=>console.log("Single issue rendered"))):C["http://www.w3.org/2005/01/wf/flow#Tracker"]?async function(){function n(e){r.widgets.refreshTree(l),h(e,t),d.disabled=!1}A=e;try{await async function(e,t){async function n(t){const n=e.any(t,r.ns.owl("disjointUnionOf"),null,i);if(!n)throw new Error(`Classification ${t} has no disjointUnionOf`);if(!n.elements)throw new Error(`Classification ${t} has no array`);const o=new Set(n.elements.map((e=>e.uri))),a=new Set(e.each(null,r.ns.rdfs("subClassOf"),t,i).map((e=>e.uri))),s=[...a].filter((e=>!o.has(e))).map((n=>({action:"delete",st:x.st(e.sym(n),r.ns.rdfs("subClassOf"),t,i)}))),l=[...o].filter((e=>!a.has(e))).map((n=>({action:"insert",st:x.st(e.sym(n),r.ns.rdfs("subClassOf"),t,i)})));return s.concat(l)}const i=t.doc(),o=e.any(t,r.ns.wf("issueClass")),a=e.each(t,r.ns.wf("issueCategory")).concat([o]);let s=[];for(const e of a)s=s.concat(await n(e));if(s.length){const t=s.filter((e=>"insert"===e.action)).map((e=>e.st)),n=s.filter((e=>"delete"===e.action)).map((e=>e.st));console.log("Damage:",s),confirm(`Fix ${s} inconsistent subclasses in tracker config?`)&&await e.updater.update(n,t)}}(E,A)}catch(e){console.log("@@@ Error fixing subclasses in config: "+e)}const i=E.any(e,r.ns.wf("issueClass"));if(!i)throw new Error("This tracker has no issueClass");const o=E.any(e,r.ns.wf("stateStore"));if(!o)throw new Error("This tracker has no stateStore");const c=a.createElement("h2");c.setAttribute("style","font-size: 150%"),l.appendChild(c);const u=r.utils.label(i);c.appendChild(a.createTextNode(u+" list"));const d=a.createElement("button"),p=a.createElement("div");d.setAttribute("type","button"),d.setAttribute("style","padding: 0.3em; font-size: 100%; margin: 0.5em;"),p.appendChild(d),l.appendChild(p);const f=a.createElement("img");f.setAttribute("src",r.icons.iconBase+"noun_19460_green.svg"),f.setAttribute("style","width: 1em; height: 1em; margin: 0.2em;"),d.appendChild(f);const m=a.createElement("span");m.innerHTML="New "+u,d.appendChild(m),d.addEventListener("click",(function(e){d.disabled=!0,p.appendChild(s(a,E,A,null,n))}),!1),t.session.store.fetcher.load([o]).then((function(n){const r=v();l.appendChild(r),r.refresh||console.log("No table refresh function?!"),l.appendChild(w(e,t)),S.addDownstreamChangeListener(o,r.refresh)})).catch((function(e){return console.log("Cannot load state store: "+e)}))}().then((()=>console.log("Tracker rendered"))):console.log("Error: Issue pane: No evidence that "+e+" is either a bug or a tracker.");const I=l.appendChild(a.createElement("div"));return t.overlay=I,I.style="position: fixed; z-index: 100; top: 1.51em; right: 2em; left: 2em; bottom:1.5em; border: 0.1em grey; overflow: scroll;",I.style.visibility="hidden",i.authn.checkUser().then((e=>{if(e)return console.log("Web ID set already: "+e),void(t.me=e);O=r.login.loginStatusBox(a,(e=>{i.authn.log,e?(t.me=E.sym(e),console.log("Web ID set from login button: "+e),l.removeChild(O)):t.me=null})),O.setAttribute("style","margin: 0.5em 1em;"),l.appendChild(O),t.statusArea||(t.statusArea=l.appendChild(a.createElement("div")))})),l}}},16915:e=>{e.exports='\n#  Ontology for user interface hints and forms\n#\n#  See also related: the Fresnel language\n#\n@prefix contact: <http://www.w3.org/2000/10/swap/pim/contact#>.\n@prefix dc:  <http://purl.org/dc/elements/1.1/>.\n@prefix doc: <http://www.w3.org/2000/10/swap/pim/doc#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix r: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix s: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix tt: <http://dig.csail.mit.edu/2010/issues/track#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <http://www.w3.org/ns/ui#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n@keywords is, of, a.\n\n<> dc:title "An ontology for User Interface description, Hints and Forms.";\n    dc:description """The User Interface ontology allows the definition\n    of forms for processing RDF model data, and include a bootstrap form for\n    editing forms. It allows user interface hints such as background colors,\n    can be associated with objects and classes.\n    """;\n    dc:created 2010-08-07;\n    dc:license <https://creativecommons.org/publicdomain/zero/1.0/>;\n    dc:modified """$Date: 2020/03/22 16:53:21 $""";\n    dc:author <https://www.w3.org/People/Berners-Lee/card#i>.\n\nstyle a r:Property, owl:DatatypeProperty;\n    s:label "style";\n        prompt "CSS style";\n    s:comment """Must be a valid CSS style string such as one could put in\n        an HTML style attribute.  Depending on the user interface system, this can\n        by given to individuals, classes or properties. It is up to a user interface\n        which wants to draw on them to pick how it uses styles from which parts\n        of the data it has.  For example, the style of a class may be picked\n        to distinguish information about things in that class.""".\n\nbackgroundColor a r:Property, owl:DatatypeProperty;\n    s:label "background color"@en;\n        s:range ui:Color;\n    s:comment """Must be a valid CSS color string such as one could put in\n        an HTML style attribute.  This should be in the #xxxxxx form,\n        (with 6 digits of hex)  so that it\n        can work with Graphviz.""".\n\nbackgroundImage a r:Property, owl:DatatypeProperty;\n    s:label "background image"@en;\n    s:comment """URI or base64 representation of an image""".\n\ncolor a r:Property, owl:DatatypeProperty;\n    s:label "color"@en;\n    s:range ui:Color;\n    s:comment """Must be a valid CSS color string such as one could put in\n        an HTML style attribute.  This should be in the #xxxxxx form,\n        (with 6 digits of hex)  so that it\n        can work with Graphviz.""".\n\n\n\nsortPriority a r:Property, owl:DatatypeProperty;\n        s:label "sort priority";\n        s:range xsd:integer;\n        s:comment """When individuals or classes must be sorted, then\n        if they are given different values of sortPriority a user agent can\n        use this as a hint to how to present information.""".\n\nsortBy a r:Property;\n        s:label "sort by";\n        s:domain s:Class;\n        s:range r:Property;\n        s:comment """A property which typically is used to sort\n        members of a given class.""".\n\nseqeunce a r:Property;\n    s:label "sequence number";\n    s:range xsd:integer;\n    s:comment """The sequence in which this item is arranged with repect to other parts.""".\n\ninitialProperties a r:Property;\n        s:label "initial properties";\n        s:domain s:Class;\n        s:range r:List; # List of r:Property\n        s:comment """A really simple way of enabling user interfaces to\n            create new information about a class of things is to make a define of properties\n            to be specified when a information about a new item\n            ("New item" here means an item which the system\n            does not have prvious information about yet,\n            not an items which has just been created,\n            like new friend as opposed to new baby)""";\n            prompt "Properties to be specified for new ones".\n\ntableProperties a r:Property;\n        s:domain s:Class;\n        s:label "table properties";\n        s:range r:List; # List of r:Property\n        s:comment """This  is a crude way of specifying a table-based\n            view for objects of this class.""";\n            prompt "Properties to be given in a default table view".\n\nprompt  a r:Property;\n        s:label "user prompt";\n        s:comment """A string for the UI to use if the user needs a longer\n        prompts than just a field name, the rdfs:label. """;\n        ui:prompt "A longer prompt for a user inputting this property".\n\n\n#  A Taxonomy of Field types\n\nui:Form owl:disjointUnionOf ( ui:ValueField  ui:Group ui:Choice ui:Classifier ui:Options ui:Multiple ui:Heading ui:Comment);\n    s:comment """A form can be any type of single field, or typically a Group of several fields,\n    including interspersed headings and comments.  """.\nui:Single owl:disjointUnionOf ( ui:ValueField  ui:Group ui:Choice ui:Classifier ui:Options ui:Heading ui:Comment).\nui:ValueField owl:disjointUnionOf ( ui:TextField ui:NumericField ui:ColorField ui:DateField ui:DateTimeField ui:PhoneField ui:EmailField).\nui:NumericField owl:disjointUnionOf (ui:BooleanField ui:TriStateField ui:IntegerField ui:DecimalField ui:FloatField).\n# ui:Multiple owl:disjointUnionOf ( ui:ZeroOrMore ui:OneOrMore ).\nui:TextField owl:disjointUnionOf (ui:SingleLineTextField ui:MultiLineTextField).\n\nui:Form a s:Class; is s:subClassOf of ui:ValueField, ui:Group, ui:Choice,  ui:Heading, ui:Comment, ui:Classifier, ui:Options, ui:Multiple.\nui:Single a s:Class; is s:subClassOf of ui:ValueField, ui:Group, ui:Choice, ui:Heading, ui:Comment, ui:Classifier, ui:Options.\nui:ValueField a s:Class; is s:subClassOf of  ui:TextField, ui:NumericField, ui:ColorField, ui:DateField, ui:DateTimeField, ui:PhoneField, ui:EmailField.\nui:NumericField a s:Class; is s:subClassOf of ui:BooleanField, ui:TriStateField, ui:IntegerField, ui:DecimalField, ui:FloatField.\nui:TextField a s:Class; is s:subClassOf of ui:SingleLineTextField, ui:MultiLineTextField.\n\nui:Classifier a s:Class; s:label "classifier";\n    s:comment """A classifier allows the user to select the type of an object.\n    The possible types must be subclasses of some overall class, the "category".\n    (Ideally, the superclass is also set up as the disjoint union of the subclasses,\n    if they are disjoint.)\n\n    The form normally stores the resulting classes using an rdf:type triple,\n    but a different predicate can be used if required, so the classifier field\n    needs is \'property\' defined too.\n\n    If the subclass selected itself is has subclasses defined, the user can\n    recursively select from them in turn, as many levels as needed.""".\n\nui:property a r:Property; s:domain ui:Form; s:range r:Property;\n    s:label "property to be stored"@en;\n    s:comment """Many fields prompt for information about a given property of the subject.\n    When field is filled in, this gives which property is written into the data.""".\n\nui:category  a r:Property; s:domain ui:Classifier; s:range s:Class;\n    s:label "overall superclass"@en;\n    s:comment """The superclass subclasses of which will be selected.""".\n\nui:dependingOn a r:Property; s:domain ui:Options; s:range r:Property;\n    s:label "depending on"@en;\n    s:comment """Many fields prompt for information about a given property of the subject""".\n\nui:for a r:Property; s:label "for"@en; s:comment "The value for which this case is selected.".\nui:use a r:Property; s:range ui:Form.\n\nui:part a r:Property; s:label "part"@en ; s:domain ui:Form; s:range ui:Form. # Used for Multiple field - the subform for each item\nui:parts a r:Property; s:label "parts"@en ; s:domain ui:Form; s:range r:Collection. # (of Forms) The ordered set of fields in a group\nui:ordered e r:Property; s:label "ordered"; s:range xsd:Boolean . # Could be useful for all kinds of things in future so not restricted to Multiple\n\nui:from a r:Property; s:domain ui:Choice; s:range r:Class;\n    s:label "from"; ui:prompt "from what class".\n\nui:size a r:Property; s:domain ui:ValueField; s:range xsd:integer;\n    s:label "size of field";\n    ui:prompt "size of field in characters".\n\nui:maxLength a r:Property; s:domain ui:TextField; s:range xsd:integer;\n    s:label "max length of value".\n\nui:minValue a r:Property; s:domain ui:ValueField; s:label "min".  # @@ range?\nui:maxValue a r:Property; s:domain ui:ValueField; s:label "max".\n\n ui:creationForm a r:Property; s:domain s:Class; s:range ui:Form;\n    s:label "creation form";\n    s:comment """A form which may be used to collect information about a\n    hitherto locally undocumented instance instance of this class.""".\n\n ui:annotationForm a r:Property; s:domain s:Class; s:range ui:Form;\n    s:label "annotation form";\n    s:comment """A form which may be used to add more infromation to an\ninstance of this class which we know something about.  Anything from\nadding just add one more fact, to adding a whole lot of information about a specific\nfacet of the thing.\n""".\n\n\n#############################################\n#\n# Form for editing Forms\n#\n\nFormForm a ui:Form;\n    dc:title "Form for editing Forms";\n    is ui:creationForm of Form;\n    a ui:Group; ui:parts (FF1 FF2 FF3 FieldList) .\n\n    FF1 ui:sequence 1; a ui:Heading;  ui:contents "Edit Form"@en .\n    FF2 ui:sequence 2; a ui:SingleLineTextField; ui:property dc:title; ui:size 60 .\n    FF3 ui:sequence 3; a ui:Comment;  ui:contents\n        """To add a field to the form, press the plus at the bottom,\n        and then select what sort of field you want."""@en; ui:style "background-color: #ffe;" .\n\n    FieldList  ui:sequence 10; a ui:Multiple; ui:ordered true; ui:property ui:parts; ui:part FieldForm .\n\nFieldForm a ui:Group;\n    dc:title "Form for selecting a type of field";\n    ui:parts (\n\n        [ ui:sequence 1; a ui:Classifier; ui:property r:type; ui:category ui:Form]\n\n        [ a ui:Options; ui:sequence 2; ui:dependingOn r:type;\n\n            ui:case [ ui:for ui:TextField; ui:use [a ui:Group; ui:parts (\n                [ a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]  # @@@ Needs inference on current web\n                [ a ui:IntegerField; ui:property ui:size; ui:label "field size"; ui:min 1; ui:max 4096]\n                [ a ui:IntegerField; ui:property ui:maxLength; ui:label "Max. length of string"; ui:min 1]\n            )]];\n\n            ui:case [ ui:for ui:IntegerField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:IntegerField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:IntegerField; ui:property ui:max; ui:label "maximum value"] ) ]];\n\n            ui:case [ ui:for ui:DecimalField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DecimalField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:DecimalField; ui:property ui:max; ui:label "maximum value"] )  ]];\n\n            ui:case [ ui:for ui:FloatField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:FloatField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:FloatField; ui:property ui:max; ui:label "maximum value"] ) ]];\n\n            ui:case [ ui:for ui:ColorField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty] )\n            ]];\n\n            ui:case [ ui:for ui:DateField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DateField; ui:property ui:min; ui:label "min"]\n                [ ui:sequence 3; a ui:DateField; ui:property ui:max ; ui:label "max"]\n            ) ]];\n\n            ui:case [ ui:for ui:DateTimeField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DateTimeField; ui:property ui:min; ui:label "min"]\n                [ ui:sequence 3; a ui:DateTimeField; ui:property ui:max ; ui:label "max"]\n            ) ]];\n\n            ui:case [ ui:for ui:EmailField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:ObjectProperty]\n            ) ]];\n\n            ui:case [ ui:for ui:PhoneField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:ObjectProperty]\n            )]];\n\n            ui:case [ ui:for ui:Group; ui:use FieldList];\n\n            ui:case [ ui:for ui:Options; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:dependingOn; ui:label "depending on"; ui:from r:Property; ui:default r:type]\n                [ ui:sequence 2; a ui:Multiple; ui:property ui:case; ui:part CaseForm]\n                                ) ]];\n\n            ui:case [ ui:for ui:Choice; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property";\n                    ui:canMintNew true; ui:from owl:ObjectProperty]\n                [ ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:from; ui:label "destination class";\n                                    ui:from s:Class; ui:canMintNew true; ]\n                [ ui:sequence 3; a ui:BooleanField; ui:property ui:canMintNew; # No class form yet\n                            ui:label "user can add new"]\n                [ ui:sequence 4; a ui:Choice;  ui:canMintNew true; ui:property ui:use; ui:label "Nested Form (if any)";\n                            ui:from ui:Form; ui:optional true; ui:use FormForm] # @@ optional\n\n            ) ]];\n\n            ui:case [ ui:for ui:Classifier; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 2; a ui:Comment; ui:contents """A classifier allows the user to which classes the item belongs to, given a common superclass of the allowed classes.  Give the superclass here:""" ]\n\n                [ ui:sequence 4; a ui:Choice;  ui:canMintNew true; ui:property ui:category; ui:label "superclass"; ui:from s:Class]\n\n                [ ui:sequence 6; a ui:Comment; ui:contents """(When the choice is made normally the item is given a rdf:type. Set this to rdf:type unless you want the form to set a different property.)""" ]\n\n                [ ui:sequence 8; a ui:Choice;  ui:canMintNew true; ui:property ui:property;\n                        ui:label "property"; ui:from owl:ObjectProperty; ui:default r:type] # @@ restriction\n\n            ) ]];\n\n            ui:case [ ui:for ui:Multiple; ui:use [a ui:Group; ui:parts (\n                        [ui:sequence 0; a ui:BooleanField;  ui:property ui:ordered; ui:label "ordered"] # If this an ordered array or an unordered set?\n                        [ui:sequence 0; a ui:IntegerField;  ui:property ui:min; ui:label "minimum number"] # If this an ordered array or an unordered set?\n                        [ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from r:Property]\n                [ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:part; ui:from ui:Form; ui:use FieldForm]   # Form for details of the field part of the multiple\n            ) ]];\n\n            ui:case [ ui:for ui:Heading; ui:use [a ui:SingleLineTextField; ui:property ui:contents]];\n\n            ui:case [ ui:for ui:Comment; ui:use [a ui:MultiLineTextField; ui:property ui:contents]]\n        ]).\n\n\nCaseForm a ui:Group;\n   dc:title "Form for a conditional case in a form";\n   ui:parts (\n        [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:for; ui:label "when it is"; ui:canMintNew true; ui:from s:Class]\n        [ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:use; ui:from ui:Form; ui:canMintNew true; ui:use FieldForm] ). # Form for details of the field part of the multiple\n\n# ENDS\n'},9264:e=>{e.exports='\n#   Issue tracking - Workflow application definition ontology\n#\n# Finite state automaton ontology\n#\n# See requirements for tracking tools http://www.w3.org/2005/01/06-tool-req.html\n#\n@keywords a, is, of.\n\n@prefix :   <http://www.w3.org/2005/01/wf/flow#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#>.\n\n@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix s: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n@prefix doc: <http://www.w3.org/2000/10/swap/pim/doc#> .\n@prefix log: <http://www.w3.org/2000/10/swap/log#> .\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix contact: <http://www.w3.org/2000/10/swap/pim/contact#> .\n@prefix doap: <http://usefulinc.com/ns/doap#>.\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n<> dc:title "Issue Tracking Ontology";\n\n    dct:creator <http://www.w3.org/People/Berners-Lee/card#i>;\n\n    s:comment """This ontology defines a very general class (Task)\n    which can used for any kind of bug tracking, issue tracking,\n    to-do-list management, action items, goal dependency, and so on.\n    It captures the state of a task as a subclass, so that\n    subsumption can be used.\n    It captures a discussion thread about a task.\n    It captures subtasks structure if necessary.\n    A "Tracker" defines actual set of states, categories, etc.,\n    which  a task can be in. The data about the tracker\n    guides the software managing the task.\n\n    There is some workflow modeling finite state machine\n    terms which are optional for  more complex definition\n    of the transitions allowed.\n    """.\n\nTask a s:Class;\n    s:label "task"@en; owl:disjointUnionOf (Open Closed);\n    s:comment """Something to be done in a wide sense,\n    an agenda item at a meeting is one example, but any\n    issue, task, action item, goal, product, deliverable, milestone, can such a thing.\n    The requirement for this framework was that it would allow\n    one to customize ontologies for things such as agenda items,\n    action items, working group issues with a spec, w3c Last Call issues,\n    software bugs and administrative requests.\n    In π-calculus, a process.\n    Make your type of issue a subclass of Task.\n    """.\n\nOpen a s:Class; s:subClassOf Task;\n    s:label "open"@en, "ouvert"@fr;\n  ui:backgroundColor "#d6f5d6"; # green like github for some reason\n    s:comment """A task which needs attention. The very crude states of Open and Closed all\n        interoperability between different systems if the states for a given\n        application are made subclasses of either Open or Closed. This allows\n        tasks from different systems to be mixed and treated together with\n        limited but valuable functionality.\n    """.\n\nClosed a s:Class; s:subClassOf Task;\n    s:label "closed"@en, "fermé"@fr;\n  ui:backgroundColor "#f5d6d6"; # pink\n    s:comment """A task which does not need attention. It may be closed because\n        has been abandoned or completed, for example.\n    """.\n\n\n  ActionItem a s:Class;\n    s:subClassOf Task;\n    s:label "action item"@en; owl:disjointUnionOf (Open Closed);\n    s:comment """An obligation taken on by a person, typically at a meeting.\n    """.\n\n\ndescription a rdf:Property;\n        s:label "description";\n        s:comment """The description, definition,\n        or abstract. Information explaining what this is.\n        Not arbitrary comment about anything, only about the subject.\n        (Use this property for anything. There is no domain restriction.).""".\n\ndependent a rdf:Property;\n        s:label "how";  owl:inverseOf [ s:label "why"];\n        s:domain Task; s:range Task;\n        s:comment """Another task upon which this depends, in the sense that\n        this task cannot be completed without that task being done.\n        You can\'t use this for dependencies on anything other than other tasks.\n        (Note the US spelling of the URI. In the UK, a dependant is a something\n        which is dependent on somehing else.)""".\n\nassignee    a       rdf:Property;\n        s:label     "assigned to"; owl:inverseOf [s:label "assignment"];\n#       s:domain    Task;\n        s:range     foaf:Agent;\n        s:comment   """The person or group to whom this has been assigned.""".\n\n# use dct:modified\n#modified        a               rdf:Property;\n#                s:label         "last changed".\n\nmodifiedBy      a               rdf:Property;\n                s:range         foaf:Agent;\n                s:label         "changed by".\n\n# use dct:created instead\n#created         a               rdf:Property;\n#                s:range         xsd:dateTime;\n#\n# Use foaf:maker instead\n#creator         a               rdf:Property;\n#                s:range         foaf:Agent;\n#                s:label         "changed by".\n\nsubscriber      a               rdf:Property;\n                s:label         "subscriber";\n                s:range         foaf:Agent.\n\n\n################## Products\n#\n#\n# History:  The Tracker system included a cocept of a product,\n# such that an action  could be associated with *either* an issue *or* a product.\n# Noah Mendelsohn for the TAG needed to be able make\n# and to give products: Goals, scuuess criteria,\n#  deliverables with dates, schedules, TAG members assigned, related issues.\n#\n\n\nProduct         a s:Class; s:subClassOf Task;\n                s:label "product";\n                s:comment """A product is a task which monitors something\n                which must be produced.""".\n\ndeliverable     a rdf:Property; s:subPropertyOf dependent;\n                s:range Product;\n                s:label "deliverable"@en;\n                s:comment """Something which must be delivered to accomplish this""".\n\ngoalDescription a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:string;\n                s:label "goals";\n                s:comment """A textual description of the goals of this product, etc.""".\n\nsuccessCriteria a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:string;\n                s:label "success criteria";\n                s:comment """A textual description of the successs critera.\n                How when we know this is done?""".\n\ndateDue         a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:date;\n                s:label "due"@en;\n                s:comment """The date this task is due.\n                """.\n\n##################  Attachments\n\nattachment      a rdf:Property;\n                s:label "attachment";\n                s:comment """Something related is attached for information.""".\n\nscreenShot      a rdf:Property; s:subPropertyOf attachment;\n                s:label "screen shot"@en;\n                s:comment """An image taken by capturing the state of a\n                 computer screen, for example to demonstrate a problem""".\n\ntestData        a rdf:Property; s:subPropertyOf attachment;\n                s:label "test data"@en;\n                s:comment """A file which can be used as inpiut to a test\n                or to demonstrate a problem. """.\n\n\nterminalOutput      a rdf:Property; s:subPropertyOf attachment;\n                s:label "terminal output"@en;\n                s:comment """A file showing user interaction from a\n                text terminal or console etc. """.\n\n\nmessage         a rdf:Property; s:subPropertyOf attachment;\n                s:label "message"@en;\n                s:comment """A message about this. Attached for information.""".\n\n\nMessage         a s:Class; s:label "message"@en.\nrecipent a rdf:Property; s:label "to"; s:domain Message; s:range foaf:Agent.\nsender a rdf:Property; s:label "from"; s:domain Message; s:range foaf:Agent.\n\n############################# A Tracker connects and manages issues\n\ntracker         a rdf:Property;\n                s:label "tracker";\n                owl:inverseOf [ s:label "issue"];\n                s:domain Task;\n                s:range Tracker.\n\nTracker         a s:Class;\n                s:label "tracker";\n                s:comment """A set of issues and\n                the constraints on how they evolve.\n                To use this ontology, craete a new tracker.\n                Copy an existing one or make up your own.""".\n\nissueClass      a rdf:Property;\n                s:label "all issues must be in";\n                s:domain Tracker;\n                s:range s:Class, State;\n                s:comment """The class of issues which are allowed in this tracker.\n                This is essemtial to the operation of the tracker,\n                as it defines which states an issue can be in.\n                (The issueClass must be a disjointUnionOf the state classes)""".\n\nissueCategory   a rdf:Property;\n                s:label "issue category";\n                s:domain Tracker;\n                s:range s:Class;\n                s:comment """Issues may be categorized according to the\n                subclasses of this class""".\n\nstateStore      a rdf:Property;\n                s:label "state store";\n                s:domain Tracker;\n                s:range doc:Document;\n                s:comment """A read-write document.\n                The state of the issues is modified here.\n                When you set up a trcaker, thgis must be set to point\n                to a writeble data resource on the web.""".\n\ntransactionStore\n                a rdf:Property;\n                s:label "transaction store";\n                s:domain Tracker;\n                s:range doc:Document;\n                s:comment """An appendable document. Transactions and messsages\n                    can be written into here""".\n\nasigneeClass\n                a rdf:Property;\n                s:label "assignees must be";\n                s:domain Tracker;\n                s:range s:Class;  # Subclass of foaf:Agent\n                s:comment """When an issue is assigned, the assignee must be from this class""".\n\ninitialState\n                a rdf:Property;\n                s:label "initial state"@en;\n                s:label "état initial"@fr;\n                s:domain Tracker;\n                s:range State;\n                s:comment """The initial state for a new issue""".\n\n# Use this to link a project to a tracker\ndoap:bug-database owl:inverseOf [ s:label "project"@en ].\n\n\n\n\n############################################################\n#\n#           Finite state machines\n#\nChange      a s:Class;\n        s:label "change";\n        s:comment """The universal class of things which\nchange the state of a task.\nIncluded now: Creation, Transition. (Maybe in the future\nmore π-calculus constructions such as splitting & merging tasks,\nand import/export of obligations to a foreign opaque system.)\n""".\n\nTransition  a s:Class; s:subClassOf Change;\n        s:label     "transition";\n        s:comment """A transition is a change of state of\na task. Typical properties include date and/or source\n(a document causing the transition), and a final state.""".\n\nCreation    a s:Class; s:subClassOf Change;\n        s:label     "creation";\n        s:comment """A creation is a change from existence\nto non-existence\na task. Typical properties include date and/or source\n(a document causing the transition), and a final state.""".\n\n\ndate    s:range DateTime.\n\nfinal   a       rdf:Property;\n        s:label     "to";\n        s:domain    Transition;\n        s:range State.\n\ntask        a       rdf:Property;\n        s:range     Task;\n        s:label     "task".\n\nrequires    a rdf:Property;\n        s:label "requires";\n        s:domain    Transition;\n        s:range     rdf:List; # Of properties for validation\n        s:comment   """To be a valid transition,\n        a necessary (but not necessarily sufficuent) condition\n        is that there be recorded these properties for the record""".\n\naffects     a rdf:Property;\n        s:label "affects";\n        s:domain    doc:Work;\n        s:range     Task.\n\n\n# { ?x a Transition; task ?t; source ?doc } => { ?doc affects ?t }.\n\n\ncreates     a rdf:Property;\n        s:label "creates";\n        s:domain    doc:Work;\n        s:range     Task.\n\n\nallowedTransitions a rdf:Property;\n        s:domain    State;\n        s:range     rdf:List; # @@@ of Action\n        s:label     "allowed transitions";\n        s:comment   """The state machine is defined\n    by these lists of transition allowed for each issue.\n    (An interesting option in the Web is to make an allowed transition\n    to a state in soemone else\'s ontology, which in turn allows\n    transitions into many ontologies.  So a finite state maxchine\n    may become very large. In practice this means that a task handed\n    off to another organization may be processed on all kinds of ways.)""".\n\n#   { ?x a TerminalState} => { ?x allowedTransitions () }.\n\nfinal       a rdf:Property;\n        s:label     "to";\n        s:range State.\n\nissue       a       rdf:Property;\n        s:label     "issue";\n        s:comment\n        """A transition changes the state of the given issue.""".\n\nsource  a       rdf:Property;\n        s:label     "source";\n        s:comment   """The source of a transition is\n                the document by which it happened""";\n        s:range     doc:Work.\nTerminalState a s:Class;\n    s:subClassOf State;\n    s:label "terminal state";\n    s:comment """A state from which there are no transitions.""".\n\nNonTerminalState a s:Class;\n    s:label "non-terminal state";\n    owl:disjointWith TerminalState;\n    s:comment """A state from which there are transitions.""".\n\n######################################################\n\n#ends\n'},71514:e=>{"use strict";e.exports=Math.abs},58968:e=>{"use strict";e.exports=Math.floor},94459:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6188:e=>{"use strict";e.exports=Math.max},68002:e=>{"use strict";e.exports=Math.min},75880:e=>{"use strict";e.exports=Math.pow},70414:e=>{"use strict";e.exports=Math.round},73093:(e,t,n)=>{"use strict";var r=n(94459);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},91196:e=>{"use strict";e.exports='@prefix : <http://www.w3.org/ns/ui#> .\n@prefix f: <#> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix cal: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix meeting: <http://www.w3.org/ns/pim/meeting#>.\n@prefix ns: <http://www.w3.org/2006/vcard/ns#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix te: <http://purl.org/dc/terms/> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n  f:main    a :Form;\n      cal:summary "Meeting Details";\n      :part f:titleField, f:locationField, f:startField,\n                    f:endField, f:eventComment, f:colorField .\n\n  f:titleField     a :SingleLineTextField;\n       :maxLength 256;\n       :property cal:summary;\n       :label "Name of meeting";\n       :size 80 .\n\n   f:locationField     a :SingleLineTextField;\n        :maxLength 128;\n        :property cal:location;\n        :size 40 .\n\n    f:startField     a :DateField;\n        :label "Start";\n         :property cal:dtstart .\n\n   f:endField     a :DateField;\n       :label "End";\n          :property cal:dtend .\n\n    f:colorField     a :ColorField;\n        :label "Tab color";\n  #      :default "#ddddcc"^^xsd:color;\n           :property ui:backgroundColor .\n\n      f:eventComment\n           a    ui:MultiLineTextField;\n       #    ui:maxLength\n       #       "1048";\n       #    ui:size\n       #       "40".\n           ui:property\n              cal:comment.\n\n###################################################\n\nf:settings a :Form;\n    dc:title "Tab settings";\n    :part f:labelField, f:targetField, f:viewField.\n\n    f:labelField     a :SingleLineTextField;\n         :maxLength 128;\n         :property rdfs:label;\n         :label "Label on tab";\n         :size 40 .\n\n   f:targetField     a :NamedNodeURIField;\n     :maxLength 1024;  # Longer?\n     :property meeting:target;\n     :label "URL of resource";\n     :size 80 .\n\n   f:colorField2     a :ColorField;\n       :label "Tab color";\n #      :default "#ddddcc"^^xsd:color;\n          :property ui:backgroundColor .\n\n   f:viewField     a :SingleLineTextField;\n        :maxLength 128;\n        :property meeting:view;\n        :label "View mode (experts only)";\n        :size 40 .\n\n#\n'},50632:(e,t,n)=>{"use strict";var r=n(23451),i=n(92361),o=i.ns,a=n(67364),s=n(91196);e.exports={icon:i.icons.iconBase+"noun_66617.svg",name:"meeting",audience:[o.solid("PowerUser")],label:function(e,t){var n=t.session.store,r=i.ns;return n.holds(e,r.rdf("type"),r.meeting("Meeting"))?"Meeting":null},mintClass:i.ns.meeting("Meeting"),mintNew:function(e,t){return new Promise((function(n,o){var s=e.session.store,l=i.ns;t.newInstance=t.newInstance||s.sym(t.newBase+"index.ttl#this");var c=t.newInstance,u=c.doc(),d=r.authn.currentUser();d&&s.add(c,l.dc("author"),d,u),s.add(c,l.rdf("type"),l.meeting("Meeting"),u),s.add(c,l.dc("created"),new Date,u),s.add(c,l.ui("backgroundColor"),new a.Literal("#ddddcc",void 0,l.xsd("color")),u);var p=new a.Collection;s.add(c,l.meeting("toolList"),p,u),p.elements.push(c),s.updater.put(u,s.statementsMatching(void 0,void 0,void 0,u),"text/turtle",(function(e,r,i){r?n(t):o(new Error("Error writing meeting configuration: "+i))}))}))},render:function(e,t){var n=t.dom,o=t.session.store,l=i.ns,c=o.updater,u=this,d=function(e,t){console.log(e);var r=n.createElement("pre");r.setAttribute("style","background-color: "+t||0),g.appendChild(r),r.appendChild(n.createTextNode(e))},p=function(e,t){e||d(t)},f=e,h=e.doc(),m=e.dir().uri,g=n.createElement("div"),v=g.appendChild(n.createElement("table"));v.style="width: 100%; height: 100%; margin:0;";var y=v.appendChild(n.createElement("tr"));y.appendChild(n.createElement("div"));var b=v.appendChild(n.createElement("tr")),w=v.appendChild(n.createElement("td")).appendChild(n.createElement("table")).appendChild(n.createElement("tr"));y.setAttribute("style","height: 2em;");var x=null,E=function(){c.put(h,o.statementsMatching(void 0,void 0,void 0,h),"text/turtle",(function(e,t,n){t?(G.refresh(),V()):d(n="FAILED to save new thing at: "+h+" : "+n)}))},_=function(e,t,n){var r=t.doc();n&&o.add(f,n,t,r),o.add(t,l.meeting("parentMeeting"),f,r),c.put(r,o.statementsMatching(void 0,void 0,void 0,r),"text/turtle",(function(e,n,r){n?E():d("FAILED to save new tool at: "+t+" : "+r)}))},k=function(e,t,n,r){t&&o.add(f,t,e,h);var a=i.widgets.newThing(h);return n&&o.add(a,l.rdfs("label"),n,h),r&&o.add(a,l.meeting("icon"),o.sym(r),h),o.add(a,l.rdf("type"),l.meeting("Tool"),h),o.add(a,l.meeting("target"),e,h),o.the(f,l.meeting("toolList")).elements.push(a),a};function S(e){var t=/https:\/\/www\.google\..*\/maps\//,n="https://www.google.com/maps/embed/v1/",r=e.uri;if(!r.match(t))return e;if(r.startsWith(n))return e;var i=r.replace(t,n)+"&key=AIzaSyB8aaT6bY9tcLCmc2oPCkdUYLmTOWM8R54";return console.log("Converted Google Map URI! "+i),a.sym(i)}var C=function(n){Promise.all(n.map((function(n){return function(n){return new Promise((function(r){console.log("Dropped on thing "+n);var s=n.uri;if(s.startsWith("http:")&&s.indexOf("#")<0)return function(n){var r=l.wf("attachment");o.add(e,r,n,e.doc()),I({icon:"noun_160581.svg",limit:1,shareTab:!0},{newInstance:e,pane:t.session.paneRegistry.byName("link"),predicate:l.meeting("attachmentTool"),tabTitle:"Links",view:"link",noIndexHTML:!0})}(n),r(n);o.fetcher.nowOrWhenFetched(n,(function(e,t){function c(e){e=S(e),console.log("make web page attachement tab "+e);var t=k(e,i.ns.wf("attachment"),i.utils.label(e),null);return o.add(t,i.ns.meeting("view"),"iframe",h),r(e)}if(e){var u=n,m=o.findTypeURIs(u);for(var g in m)console.log("    drop object type includes: "+g);if(l.vcard("Individual").uri in m||l.foaf("Person").uri in m||l.foaf("Agent").uri in m)return function(e){var t=o.any(e,l.foaf("preferredURI")),n=t?o.sym(t):e,r=o.any(f,l.meeting("attendeeGroup")),s=function(e,t){var n=[a.st(t,i.ns.vcard("hasMember"),e,t.doc())],r=o.any(e,l.vcard("fn"))||o.any(e,l.foaf("name"));r&&n.push(a.st(e,i.ns.vcard("fn"),r,t.doc())),o.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(r,i){r?o.updater.update([],n,(function(t,n,r){p(n,r),n&&console.log("Addded to particpants OK: "+e)})):d("Can't read group to add person"+t)}))};r?s(n,r):O().then((function(e){var t=e.newInstance;s(n,t),o.fetcher.putBack(h,{contentType:"text/turtle"}).then((function(e){console.log("Particiants Group created: "+t)}))})).catch((function(e){d(e)}))}(n),r(n);if(s.startsWith("https:")&&s.indexOf("#")<0){var v=o.fetcher.getHeader(n,"x-frame-options"),y=!0;if(v)for(var b=0;b<v.length;b++)console.log("x-frame-options: "+v[b]),v[b].indexOf("sameorigin")<0&&(y=!1),v[b].indexOf("deny")<0&&(y=!1);if(y)return function(e){var t=k(e,i.ns.wf("attachment"),i.utils.label(e),null);o.add(t,i.ns.meeting("view"),"iframe",h)}(n=S(n)),r(n)}return console.log("Default: assume web page attachement "+n),c(n)}return console.log("Error looking up dropped thing, will just add it anyway. "+n+": "+t),c(n)}))}))}(a.sym(n))}))).then((function(e){E()}))},A=function(e){i.widgets.uploadFiles(o.fetcher,e,f.dir().uri+"Files",f.dir().uri+"Pictures",(function(e,t){e.type.startsWith("image/")?T("Files"):P("Pictures")}))},T=function(e){return I({icon:"noun_598334.svg",limit:1,shareTab:!0},{newInstance:o.sym(f.dir().uri+e+"/"),pane:t.session.paneRegistry.byName("folder"),predicate:l.meeting("pictures"),shareTab:!0,tabTitle:e,view:"slideshow",noIndexHTML:!0})},P=function(e){return I({icon:"noun_681601.svg",limit:1,shareTab:!0},{newInstance:o.sym(f.dir().uri+"Files/"),pane:t.session.paneRegistry.byName("folder"),predicate:l.meeting("materialsFolder"),tabTitle:"Materials",noIndexHTML:!0})},O=function(){return I({icon:"noun_339237.svg",limit:1,shareTab:!0},{newInstance:o.sym(f.dir().uri+"Attendees/index.ttl#this"),pane:t.session.paneRegistry.byName("contact"),predicate:l.meeting("attendeeGroup"),tabTitle:"Attendees",instanceClass:l.vcard("Group"),instanceName:i.utils.label(e)+" attendees",noIndexHTML:!0})};function I(e,n){return new Promise((function(r,o){var a=t.session.store;if(!n.useExisting){var s=a.any(f,n.predicate);if(s){if(e.limit&&1===e.limit&&!e.shareTab)return d("Already have "+s+" as "+i.utils.label(n.predicate)),d("Cant have two"),r(null);if(e.shareTab)return console.log("Using existing "+s+" as "+i.utils.label(n.predicate)),r({me:x,newInstance:s,instanceClass:n.instanceClass})}}x||n.me||o(new Error("Username not defined for new tool")),n.me=n.me||x,n.newInstance=n.useExisting||n.newInstance||a.sym(n.newBase+"index.ttl#this"),n.pane.mintNew(t,n).then((function(e){var t=k(e.newInstance,e.predicate,e.tabTitle,e.pane.icon);e.view&&a.add(t,i.ns.meeting("view"),e.view,h),E(),a.fetcher.putBack(h,{contentType:"text/turtle"}).then((function(t){r(e)})).catch((function(e){o(e)}))})).catch((function(e){d(e),o(e)}))}))}var N=function(){var e=i.login.selectWorkspace(n,{noun:"meeting"},(function(r,o){u.mintNew(t,{newBase:o}).then((function(t){var r=t.newInstance;M.removeChild(e);var i=M.appendChild(n.createElement("p"));i.setAttribute("style","font-size: 140%;"),i.innerHTML="Your <a target='_blank' href='"+r.uri+"'><b>new meeting</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+r.uri+"'>Go to your new meeting.</a>"})).catch((function(t){M.removeChild(e),M.appendChild(i.widgets.errorMessageBlock(n,t))}))}));M.appendChild(e)},F=[{icon:"noun_339237.svg",maker:function(e){var n=m+"Group/",r=t.session.store,o=r.any(f,l.meeting("particpants"));o||(o=a.sym(n+"index.ttl#this")),console.log("Participant group: "+o);var s=k(o,l.meeting("particpants"),"Particpants",i.icons.iconBase+"noun_339237.svg");r.add(s,i.ns.meeting("view"),"peoplePicker",h),E()},hint:"Make a group of people",limit:1},{icon:"noun_346777.svg",maker:function(e){return I(e,{useExisting:f,pane:t.session.paneRegistry.byName("schedule"),view:"schedule",tabTitle:"Schedule poll",noIndexHTML:!0})},hint:"Make a poll to schedule the meeting"},{icon:"noun_48218.svg",maker:function(e){},limit:1,hint:"Add an agenda list",disabled:!0},{icon:"noun_79217.svg",maker:function(e){return I(e,{newBase:m+"SharedNotes/",predicate:i.ns.meeting("sharedNotes"),tabTitle:"Shared Notes",pane:t.session.paneRegistry.byName("pad")})},hint:"Add a shared notepad"},{icon:"noun_346319.svg",maker:function(e){var n=m+"Chat/",r=t.session.store;if(r.holds(f,l.meeting("chat")))console.log("Ignored - already have chat");else{var o=r.sym(n+"chat.ttl");r.add(o,l.rdf("type"),l.meeting("Chat"),o),k(o,l.meeting("chat"),"Chat",i.icons.iconBase+"noun_346319.svg"),_(0,o,l.meeting("chat"))}},limit:1,hint:"Add a chat channel for the meeting"},{icon:"noun_17020.svg",maker:function(e){var n=m+"Actions/",r=t.session.store;if(r.holds(f,l.meeting("actions")))console.log("Ignored - already have actions");else{var o=r.sym(n+"config.ttl"),a=r.sym(n+"config.ttl#this"),s=r.sym(n+"state.ttl");r.add(a,l.dc("title"),(r.anyValue(f,l.cal("summary"))||"Meeting ")+" actions",o),r.add(a,l.wf("issueClass"),l.wf("Task"),o),r.add(a,l.wf("initialState"),l.wf("Open"),o),r.add(a,l.wf("stateStore"),s,o),r.add(a,l.wf("assigneeClass"),l.foaf("Person"),o),r.add(a,l.rdf("type"),l.wf("Tracker"),o),r.add(a,l.rdf("type"),l.wf("Tracker"),o),k(a,l.meeting("actions"),"Actions",i.icons.iconBase+"noun_17020.svg"),_(0,a,l.meeting("actions"))}},limit:1,hint:"Add a list of action items"},{icon:"noun_260227.svg",maker:function(e){var n=t.session.store,r=a.sym("https://meet.jit.si/"+i.utils.genUuid());if(n.holds(f,l.meeting("videoCallPage")))console.log("Ignored - already have a videoCallPage");else{n.add(r,l.rdf("type"),l.meeting("VideoCallPage"),h);var o=k(r,l.meeting("videoCallPage"),"Video call",i.icons.iconBase+"noun_260227.svg");n.add(o,l.meeting("view"),"iframe",h),E()}},limit:1,hint:"Add a video call for the meeting"},{icon:"noun_25830.svg",maker:function(e){i.widgets.askName(n,o,M,l.log("uri"),i.ns.rdf("Resource")).then((function(e){if(!e)return V();var n=t.session.store,r=i.ns,o=n.sym(e),a=k(o,r.wf("attachment"),i.utils.label(o),null);n.add(a,r.meeting("view"),"iframe",h),E()})).catch((function(e){d("Error making new sub-meeting: "+e)}))},hint:"Attach meeting materials",disabled:!1},{icon:"noun_123691.svg",maker:function(e){var n=t.session.store,r=i.ns,o=f.dir();if(e.limit&&1===e.limit&&n.holds(f,r.wf("sharingControl")))d("Ignored - already have "+i.utils.label(K.predicate));else{var a=k(o,r.wf("sharingControl"),"Sharing",i.icons.iconBase+"noun_123691.svg");n.add(a,r.meeting("view"),"sharing",h),E()}},limit:1,hint:"Control Sharing",disabled:!1},{icon:"noun_66617.svg",maker:function(e){i.widgets.askName(n,o,M,l.foaf("name"),i.ns.meeting("Meeting")).then((function(n){if(!n)return V();var r=encodeURIComponent(n),o={newBase:m+r+"/",predicate:i.ns.meeting("subMeeting"),tabTitle:n,pane:t.session.paneRegistry.byName("meeting")};return I(e,o)})).catch((function(e){d("Error making new sub-meeting: "+e)}))},hint:"Make a sub meeting",disabled:!1}],L=a.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#settings");a.parse(s,o,L.doc().uri,"text/turtle");var R="padding: 1em; width: 3em; height: 3em;",j=w.appendChild(n.createElement("td")),M=w.appendChild(n.createElement("td")),D=j.appendChild(n.createElement("img")),U=!1;D.setAttribute("src",i.icons.iconBase+"noun_19460_green.svg"),D.setAttribute("style",R+"opacity: 50%;"),D.setAttribute("title","Add another tool to the meeting");var B,H=function(e){U=!U,D.setAttribute("style",R+(U?"background-color: yellow;":"")),z(U?"":"display: none;")};r.authn.checkUser().then((function(e){if(e)return x=e,D.addEventListener("click",H),void D.setAttribute("style",R);(B=i.login.loginStatusBox(n,(function(e){e?(x=o.sym(e),M.removeChild(B),D.addEventListener("click",H),D.setAttribute("style",R)):(console.log("(Logged out)"),x=null)}))).setAttribute("style","margin: 0.5em 1em;"),M.appendChild(B)}));for(var q=[],W=0;W<F.length;W++)!function(){var e=F[W],t=j.appendChild(n.createElement("img"));t.setAttribute("src",i.icons.iconBase+e.icon),t.setAttribute("style",R+"display: none;"),q.push(t),t.tool=e;var r=e.maker;e.disabled||t.addEventListener("click",(function(n){$(t),r(e)}))}();var z=function(e){for(var t=0;t<q.length;t++){var n=R+e;F[t].disabled&&(n+="opacity: 0.3;"),q[t].setAttribute("style",n)}},V=function(){z("display: none;"),D.setAttribute("style",R)},$=function(e){z("display: none;"),e.setAttribute("style",R+"background-color: yellow;")},K={dom:n};K.predicate=l.meeting("toolList"),K.subject=e,K.ordered=!0,K.orientation=1,K.renderMain=function(e,s){var c,u=null,p=null;e.innerHTML="";var m=function(t,n){t||(e.textContent=""+n)},g=function(){e.appendChild(n.createElement("h3")).textContent="Details of meeting";var t,s,c=a.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#main");i.widgets.appendForm(document,e,{},f,c,f.doc(),m),e.appendChild(("Drag URL-bar icons of web pages into the tab bar on the left to add new meeting materials.",(s=(t=n.createElement("div")).appendChild(n.createElement("p"))).setAttribute("style","margin: 0em; padding:3em; color: #888;"),s.textContent="Tip: Drag URL-bar icons of web pages into the tab bar on the left to add new meeting materials.",t)),(x=r.authn.currentUser())&&o.add(f,l.dc("author"),x,h);var u={noun:"meeting",me:x,statusArea:e,div:e,dom:n};i.login.registrationControl(u,f,l.meeting("Meeting")).then((function(e){console.log("Registration control finsished.")})),i.pad.manageParticipation(n,e,h,f,x,{});var d="height: 2em; width: 2em; margin:0.5em;",p=e.appendChild(n.createElement("div")),g=p.appendChild(n.createElement("img"));g.setAttribute("src",i.icons.iconBase+"noun_145978.svg"),g.setAttribute("title","Make a fresh new meeting"),g.addEventListener("click",N),g.setAttribute("style",d);var v=p.appendChild(n.createElement("a"));v.setAttribute("href","https://github.com/solid/solid-panes"),v.setAttribute("target","_blank");var y=v.appendChild(n.createElement("img"));y.setAttribute("src",i.icons.iconBase+"noun_368567.svg"),y.setAttribute("title","Fork me on github"),y.setAttribute("style",d+"opacity: 50%;")};if(o.holds(s,l.rdf("type"),l.meeting("Tool"))){var v=o.any(s,l.meeting("target"));if(v.sameTerm(f)&&!o.any(s,l.meeting("view")))g();else{var y=o.any(s,l.meeting("view"));"details"===(y=y?y.value:null)?g():"peoplePicker"===y?function(){var t={div:e,dom:n};e.appendChild(n.createElement("h4")).textContent="Meeting Participants";var s=function(e){var t=[a.st(f,l.meeting("particpantGroup"),e,f.doc())];o.updater.update([],t,(function(t,n,r){n?p=e:d("Cant save participants group: "+r)}))};p=o.any(f,l.meeting("particpantGroup")),r.loadTypeIndexes(t).then((function(){var e={defaultNewGroupName:"Meeting Participants",selectedGroup:p};new i.widgets.PeoplePicker(t.div,t.index.private[0],s,e).render()}))}():"iframe"===y?function(t){var r=e.appendChild(n.createElement("iframe"));r.setAttribute("src",t.uri),r.setAttribute("style","border: none; margin: 0; padding: 0; height: 100%; width: 100%;"),r.setAttribute("allow","microphone camera"),r.setAttribute("name","disable-x-frame-options"),e.style.padding=0}(v):(u=y?t.session.paneRegistry.byName(y):null,(c=e.appendChild(n.createElement("table"))).style.width="100%",t.getOutliner(n).GotoSubject(v,!0,u,!1,void 0,c))}}else s.sameTerm(f)?g():(!s.sameTerm(s.doc())||o.holds(s,i.ns.rdf("type"),i.ns.meeting("Chat"))||o.holds(s,i.ns.rdf("type"),i.ns.meeting("PaneView")))&&(c=e.appendChild(n.createElement("table")),t.getOutliner(n).GotoSubject(s,!0,void 0,!1,void 0,c))},K.renderTab=function(e,t){if(o.holds(t,l.rdf("type"),l.meeting("Tool"))){var r=o.any(t,l.meeting("target")),a=o.any(t,l.rdfs("label"));a=a?a.value:i.utils.label(r);var s=e.appendChild(n.createElement("div"));s.textContent=a,s.setAttribute("style","margin-left: 0.7em");var c=o.any(t,l.meeting("icon"));if(c){var u=e.appendChild(n.createElement("table")).appendChild(n.createElement("tr")),d=u.appendChild(n.createElement("td")),p=u.appendChild(n.createElement("td")),f=d.appendChild(n.createElement("img"));f.setAttribute("src",c.uri),f.setAttribute("style","width: 1.5em; height: 1.5em;"),f.setAttribute("title",a),p.appendChild(s)}else e.appendChild(s)}else e.textContent=i.utils.label(t)},K.renderTabSettings=function(e,t){if(e.innerHTML="",e.style+="border-color: #eed;",e.appendChild(n.createElement("h3")).textContent="Adjust this tab",o.holds(t,l.rdf("type"),l.meeting("Tool"))){var r=a.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#settings");i.widgets.appendForm(document,e,{},t,r,f.doc(),p);var s=i.widgets.deleteButtonWithCheck(n,e,"tab",(function(){for(var e=o.the(f,l.meeting("toolList")),n=0;n<e.elements.length;n++)if(e.elements[n].sameTerm(t)){e.elements.splice(n,1);break}var r=o.any(t,l.meeting("target")),i=o.statementsMatching(t).concat(o.statementsMatching(void 0,void 0,t)).concat(o.statementsMatching(f,void 0,r));o.remove(i),E()}));s.setAttribute("style","width: 1.5em; height: 1.5em;")}else e.appendChild(n.createElement("h4")).textContent="(No adjustments available)"},K.backgroundColor=o.anyValue(e,l.ui("backgroundColor"))||"#ddddcc";var G=b.appendChild(i.tabs.tabWidget(K));return i.aclControl.preventBrowserDropEvents(n),i.widgets.makeDropTarget(G.tabContainer,C,A),i.widgets.makeDropTarget(j,C,A),g}}},7598:(e,t,n)=>{e.exports=n(81813)},86049:(e,t,n)=>{"use strict";var r,i,o,a=n(7598),s=n(57975).extname,l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!(!r||!r.length)&&r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=s("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1},t.types=Object.create(null),r=t.extensions,i=t.types,o=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var s=0;s<n.length;s++){var l=n[s];if(i[l]){var c=o.indexOf(a[i[l]].source),u=o.indexOf(t.source);if("application/octet-stream"!==i[l]&&(c>u||c===u&&"application/"===i[l].substr(0,12)))continue}i[l]=e}}}))},55271:(e,t,n)=>{"use strict";var r=n(67526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||q(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(i)return r?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,p=0;p<l;p++)if(c(e,o+p)!==c(t,p)){d=!1;break}if(d)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(q(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return B(D(t,e.length-n),e,n,r)}function E(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return B(U(t),e,n,r)}function k(e,t,n,r){return B(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(H(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(H(o,Uint8Array))i+o.length>r.length?l.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(H(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W[e[o]];return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:l.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+/0-9A-Za-z-_]/g;function D(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},45228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},58859:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,x=String.prototype.toLowerCase,E=RegExp.prototype.test,_=Array.prototype.concat,k=Array.prototype.join,S=Array.prototype.slice,C=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,F=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-C(-e):C(e);if(r!==e){var i=String(r),o=y.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var R=n(42634),j=R.custom,M=z(j)?j:null,D={__proto__:null,double:'"',single:"'"},U={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function B(e,t,n){var r=n.quoteStyle||t,i=D[r];return i+e+i}function H(e){return b.call(String(e),/"/g,"&quot;")}function q(e){return!("[object Array]"!==K(e)||I&&"object"==typeof e&&I in e)}function W(e){return!("[object RegExp]"!==K(e)||I&&"object"==typeof e&&I in e)}function z(e){if(O)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,s){var l=r||{};if($(l,"quoteStyle")&&!$(D,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!$(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return J(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return w?L(t,E):E}if("bigint"==typeof t){var C=String(t)+"n";return w?L(t,C):C}var T=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=T&&T>0&&"object"==typeof t)return q(t)?"[Array]":"[Object]";var j,U=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=k.call(Array(e.indent+1)," ")}return{base:n,prev:k.call(Array(t+1),n)}}(l,i);if(void 0===s)s=[];else if(G(s,t)>=0)return"[Circular]";function V(t,n,r){if(n&&(s=S.call(s)).push(n),r){var o={depth:l.depth};return $(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"==typeof t&&!W(t)){var Q=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ne=te(t,V);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(ne.length>0?" { "+k.call(ne,", ")+" }":"")}if(z(t)){var re=O?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!=typeof t||O?re:Y(re)}if((j=t)&&"object"==typeof j&&("undefined"!=typeof HTMLElement&&j instanceof HTMLElement||"string"==typeof j.nodeName&&"function"==typeof j.getAttribute)){for(var ie="<"+x.call(String(t.nodeName)),oe=t.attributes||[],ae=0;ae<oe.length;ae++)ie+=" "+oe[ae].name+"="+B(H(oe[ae].value),"double",l);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+"</"+x.call(String(t.nodeName))+">"}if(q(t)){if(0===t.length)return"[]";var se=te(t,V);return U&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(se)?"["+ee(se,U)+"]":"[ "+k.call(se,", ")+" ]"}if(function(e){return!("[object Error]"!==K(e)||I&&"object"==typeof e&&I in e)}(t)){var le=te(t,V);return"cause"in Error.prototype||!("cause"in t)||N.call(t,"cause")?0===le.length?"["+String(t)+"]":"{ ["+String(t)+"] "+k.call(le,", ")+" }":"{ ["+String(t)+"] "+k.call(_.call("[cause]: "+V(t.cause),le),", ")+" }"}if("object"==typeof t&&m){if(M&&"function"==typeof t[M]&&R)return R(t,{depth:T-i});if("symbol"!==m&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return a&&a.call(t,(function(e,n){ce.push(V(n,t,!0)+" => "+V(e,t))})),Z("Map",o.call(t),ce,U)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return u&&u.call(t,(function(e){ue.push(V(e,t))})),Z("Set",c.call(t),ue,U)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if(function(e){return!("[object Number]"!==K(e)||I&&"object"==typeof e&&I in e)}(t))return Y(V(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return Y(V(A.call(t)));if(function(e){return!("[object Boolean]"!==K(e)||I&&"object"==typeof e&&I in e)}(t))return Y(h.call(t));if(function(e){return!("[object String]"!==K(e)||I&&"object"==typeof e&&I in e)}(t))return Y(V(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==K(e)||I&&"object"==typeof e&&I in e)}(t)&&!W(t)){var de=te(t,V),pe=F?F(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",he=!pe&&I&&Object(t)===t&&I in t?y.call(K(t),8,-1):fe?"Object":"",me=(pe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||fe?"["+k.call(_.call([],he||[],fe||[]),": ")+"] ":"");return 0===de.length?me+"{}":U?me+"{"+ee(de,U)+"}":me+"{ "+k.call(de,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function $(e,t){return V.call(e,t)}function K(e){return m.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function J(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return J(y.call(e,0,t.maxStringLength),t)+r}var i=U[t.quoteStyle||"single"];return i.lastIndex=0,B(b.call(b.call(e,i,"\\$1"),/[\x00-\x1f]/g,Q),"single",t)}function Q(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function Y(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function Z(e,t,n,r){return e+" ("+t+") {"+(r?ee(n,r):k.call(n,", "))+"}"}function ee(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+k.call(e,","+n)+"\n"+t.prev}function te(e,t){var n=q(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=$(e,i)?t(e[i],e):""}var o,a="function"==typeof T?T(e):[];if(O){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)$(e,l)&&(n&&String(Number(l))===l&&l<e.length||O&&o["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof T)for(var c=0;c<a.length;c++)N.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},46808:e=>{const t=e.exports={};t.list=[],t.paneForIcon=[],t.paneForPredicate=[],t.register=function(e,n){if(e.requireQueryButton=n,e.name)if(console.log("  registering pane: "+e.name),e.label){if(t.list.push(e),e.name in t||(t[e.name]=e),e.icon&&(t.paneForIcon[e.icon]=e),e.predicates)for(const n in e.predicates)t.paneForPredicate[n]={pred:n,code:e.predicates[n]}}else console.log("***     No label for pane!");else console.log("***     No name for pane!")},t.byName=function(e){for(let n=0;n<t.list.length;n++)if(t.list[n].name===e)return t.list[n];return console.warn(`No view with name ${e} found in the registry of views (aka paneRegistry)`),null}},57975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=a<l?a:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else a>c&&(47===e.charCodeAt(i+d)?u=d:0===d&&(u=0));break}var p=e.charCodeAt(i+d);if(p!==n.charCodeAt(s+d))break;47===p&&(u=d)}var f="";for(d=i+u+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){i=r+1;break}}else-1===l&&(a=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(o=!1,i=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,s=0,l=-1,c=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){s=u+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(n.base=n.name=0===s&&o?e.slice(1,l):e.slice(s,l)):(0===s&&o?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(s,a),n.base=e.slice(s,l)),n.ext=e.slice(a,l)),s>0?n.dir=e.slice(0,s-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},25956:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CVCard=void 0;var o,a,s,l,c,u,d,p,f,h,m,g,v,y,b=n(36752),w=n(94572),x=n(12378),E=n(94572),_={image:(0,x.styleMap)((0,w.fullWidth)()),intro:(0,x.styleMap)(i(i({},(0,w.textGray)()),(0,w.textCenter)())),card:(0,x.styleMap)((0,E.card)()),info:(0,x.styleMap)(i(i({},(0,w.paddingSmall)()),(0,w.textLeft)())),tools:(0,x.styleMap)(i(i({},(0,w.paddingSmall)()),(0,w.textRight)()))};function k(e){if(e[0]>"")return(0,b.html)(u||(u=r(["","",""],["","",""])),(t=e[0])?(0,b.html)(s||(s=r(['<div style="margin-top: 0.3em; margin-bottom: 0.3em;">\n        <b>',"</b>\n        <span>","</span>\n        <span>","</span>   \n      </div> "],['<div style="margin-top: 0.3em; margin-bottom: 0.3em;">\n        <b>',"</b>\n        <span>","</span>\n        <span>","</span>   \n      </div> "])),t.orgName,A(t.roleText),t.dates):(0,b.html)(l||(l=r([""],[""]))),e.length>1?k(e.slice(1)):(0,b.html)(c||(c=r([""],[""]))));var t}function S(e){if(e[0]>"")return(0,b.html)(h||(h=r([""," ",""],[""," ",""])),(t=A(e[0]))?(0,b.html)(d||(d=r(['<div style="margin: 0.5em;">\n        <p style="text-align: center;">',"</p>\n      </div> "],['<div style="margin: 0.5em;">\n        <p style="text-align: center;">',"</p>\n      </div> "])),t):(0,b.html)(p||(p=r([""],[""]))),e.length>1?S(e.slice(1)):(0,b.html)(f||(f=r([""],[""]))));var t}function C(e){if(e[0]>"")return(0,b.html)(y||(y=r(["","",""],["","",""])),(t=e[0])?(0,b.html)(m||(m=r(['<div style="margin: 0.5em;">\n        <p style="text-align: center;">',"</p>\n      </div> "],['<div style="margin: 0.5em;">\n        <p style="text-align: center;">',"</p>\n      </div> "])),t):(0,b.html)(g||(g=r([""],[""]))),e.length>1?C(e.slice(1)):(0,b.html)(v||(v=r([""],[""]))));var t}function A(e){if(e&&e[0]>""){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}return""}t.CVCard=function(e,t){var n=t.rolesByType,s=t.skills,l=t.languages,c=(0,x.styleMap)(i(i({},(0,w.heading)()),{color:e.highlightColor}));return k(n.FutureRole)||k(n.CurrentRole)||k(n.PastRole)||S(s)||C(l)?(0,b.html)(o||(o=r(['\n  <div>\n    <div data-testid="curriculum-vitae" style="','">\n      <div style=',">\n        <h3 style=",">Bio</h3>\n        <div style=",">","</div>\n        <hr />\n        <div style=",">","</div>\n        <hr />\n        <div style=",">","</div>\n        <hr />\n        <h3 style=",">Skills</h3>\n        <div style=",">","</div>\n        <h3 style=",">Languages</h3>\n        <div style=",">","</div>\n            \n      </div>\n      </div>\n    </div>\n  "],['\n  <div>\n    <div data-testid="curriculum-vitae" style="','">\n      <div style=',">\n        <h3 style=",">Bio</h3>\n        <div style=",">","</div>\n        <hr />\n        <div style=",">","</div>\n        <hr />\n        <div style=",">","</div>\n        <hr />\n        <h3 style=",">Skills</h3>\n        <div style=",">","</div>\n        <h3 style=",">Languages</h3>\n        <div style=",">","</div>\n            \n      </div>\n      </div>\n    </div>\n  "])),_.card,_.info,c,_.info,k(n.FutureRole),_.info,k(n.CurrentRole),_.info,k(n.PastRole),c,_.info,S(s),c,_.info,C(l)):(0,b.html)(a||(a=r([""],[""])))}},67408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typesOfRole=void 0,t.skillAsText=a,t.languageAsText=s,t.datesAsText=l,t.presentCV=function(e,n){for(var r=function(e,n){for(var r={PastRole:[],CurrentRole:[],FutureRole:[]},a=0,s=e.each(null,o("member"),n,null);a<s.length;a++){var c=s[a],u=void 0,d=void 0,p=void 0,f=void 0,h=void 0,m=e.any(c,i.ns.schema("startDate")),g=e.any(c,i.ns.schema("endDate")),v=l(m,g),y=e.any(c,o("organization"));y&&(d=e.anyJS(y,i.ns.schema("name")),u=e.any(y,i.ns.schema("uri")),h=e.any(y,i.ns.solid("publicId"))),h&&(p=e.anyJS(h,i.ns.schema("name")));var b=p||d,w=e.any(c,o("role"));w&&(f=e.anyJS(w,i.ns.schema("name")));for(var x=e.anyJS(c,i.ns.vcard("role")),E={startDate:m,endDate:g,orgName:b,roleText:x&&f?f+" - "+x:x||f,dates:v,orgHomePage:u},_=0,k=t.typesOfRole;_<k.length;_++){var S=k[_];e.holds(c,i.ns.rdf("type"),i.ns.solid(S))&&r[S].push(E)}}return r}(n,e),c=0,u=t.typesOfRole;c<u.length;c++)r[u[c]].sort((function(e,t){return e.endDate&&t.endDate?e.endDate>t.endDate?-1:1:e.startDate>t.startDate?-1:1}));var d=n.each(e,i.ns.schema("skills")).map((function(e){return a(n,e)})),p=n.anyJS(e,i.ns.schema("knowsLanguage")),f=[];return p&&(f=p.map((function(e){return s(n,e)}))),{rolesByType:r,skills:d,languages:f}};var r=n(67364),i=n(92361),o=(0,r.Namespace)("http://www.w3.org/ns/org#");function a(e,t){if("Literal"===t.termType)return t.value;var n=e.anyJS(t,i.ns.solid("publicId"));if(n){var r=e.anyJS(n,i.ns.schema("name"));if(r)return r}var o=e.anyJS(t,i.ns.vcard("role"));return o&&o[0]>""?o:"¿¿¿ skill ???"}function s(e,t){if("Literal"===t.termType)return t.value;var n=e.anyJS(t,i.ns.solid("publicId"));return n?i.utils.label(n,!0):"-"}function l(e,t){return e?"("+e.value.slice(0,10)+" to "+(t?t.value.slice(0,10):"")+")":""}t.typesOfRole=["PastRole","CurrentRole","FutureRole"]},4799:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},s=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||l(e,t)}))},t&&(r[e]=t(r[e])))}function l(e,t){try{(n=i[e](t)).value instanceof a?Promise.resolve(n.value.v).then(c,u):d(o[0][2],n)}catch(e){d(o[0][3],e)}var n}function c(e){l("next",e)}function u(e){l("throw",e)}function d(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatWithMe=void 0;var l,c=n(36752),u=n(92361),d=n(764),p=n(21363);t.ChatWithMe=function(e,t){var n=t.session.logic,f=t.session.paneRegistry.byName("long chat");return(0,c.html)(l||(l=r([" "," "],[" "," "])),(0,d.asyncReplace)(function(){return s(this,arguments,(function(){var r,s,l,c=this;return o(this,(function(d){switch(d.label){case 0:r=t.dom.createElement("div"),d.label=1;case 1:return d.trys.push([1,5,,6]),[4,a(p.loadingMessage)];case 2:return[4,d.sent()];case 3:return d.sent(),[4,a(n.chat.getChat(e,!1))];case 4:return s=d.sent(),[3,6];case 5:return d.sent(),s=!1,[3,6];case 6:return s?(r.appendChild(f.render(s,t,{})),[4,a(r)]):[3,9];case 7:return[4,d.sent()];case 8:return d.sent(),[3,12];case 9:return l=u.widgets.button(t.dom,void 0,p.chatWithMeButtonText,(function(){return i(c,void 0,void 0,(function(){var i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,n.chat.getChat(e,!0)];case 1:return i=o.sent(),r.innerHTML="",r.appendChild(f.render(i,t,{})),[3,3];case 2:return a=o.sent(),r.appendChild(u.widgets.errorMessageBlock(t.dom,a.message)),[3,3];case 3:return[2]}}))}))}),{needsBorder:!0}),r.appendChild(l),[4,a(r)];case 10:return[4,d.sent()];case 11:d.sent(),d.label=12;case 12:return[2]}}))}))}()))}},91119:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.FriendList=void 0;var o=n(92361),a=n(36752),s=n(12378),l=n(94572),c=n(94572),u={root:(0,s.styleMap)((0,l.padding)()),heading:(0,s.styleMap)((0,l.headingLight)()),card:(0,s.styleMap)((0,l.card)())};t.FriendList=function(e,t,n){var o=(0,s.styleMap)(i(i({},(0,c.heading)()),{color:e.highlightColor}));return f(t,n)?(0,a.html)(d||(d=r(['\n    <div data-testid="friend-list" style="','">\n      <div style=',">\n        <h3 style=",">Friends</h3>\n        ","\n      </div>\n    </div>\n    "],['\n    <div data-testid="friend-list" style="','">\n      <div style=',">\n        <h3 style=",">Friends</h3>\n        ","\n      </div>\n    </div>\n    "])),u.card,u.root,o,f(t,n)):(0,a.html)(p||(p=r([""],[""])))};var d,p,f=function(e,t){var n=t.dom,r=n.createElement("div");return o.widgets.attachmentList(n,e,r,{doc:e.doc(),modify:!1,predicate:o.ns.foaf("knows"),noun:"friend"}),""===r.textContent?null:r}},18348:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileCard=void 0;var o=n(36752),a=n(12378),s=n(94572),l={image:(0,a.styleMap)((0,s.fullWidth)()),intro:(0,a.styleMap)(i(i({},(0,s.textGray)()),(0,s.textCenter)())),info:(0,a.styleMap)((0,s.padding)())};t.ProfileCard=function(e){var t=e.name,n=e.imageSrc,u=e.introduction,d=e.location,h=e.pronouns,m=e.highlightColor,g=(0,a.styleMap)(i(i({},(0,s.heading)()),{"text-decoration":"underline","text-decoration-color":m}));return(0,o.html)(c||(c=r(["\n    ","\n    <div style=",">\n      <h3 style=",">","</h3>\n      <div style=",">\n        "," "," ","\n      </div>\n    </div>\n  "],["\n    ","\n    <div style=",">\n      <h3 style=",">","</h3>\n      <div style=",">\n        "," "," ","\n      </div>\n    </div>\n  "])),f(n,t),l.info,g,t,l.intro,p(u),p(d,"🌐"),p(h))};var c,u,d,p=function(e,t){return void 0===t&&(t=o.nothing),e?(0,o.html)(u||(u=r(["<p>"," ","</p>"],["<p>"," ","</p>"])),t,e):o.nothing},f=function(e,t){return e?(0,o.html)(d||(d=r(["<img style="," src="," alt="," />"],["<img style="," src="," alt="," />"])),l.image,e,t):o.nothing}},93447:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileView=function(e,t){return o(this,void 0,void 0,(function(){var n,o,_,k,S;return a(this,(function(a){switch(a.label){case 0:return n=(0,f.presentProfile)(e,t.session.store),o=(0,h.presentCV)(e,t.session.store),_=(0,m.presentSocial)(e,t.session.store),[4,(0,g.presentStuff)(e)];case 1:return k=a.sent(),S={grid:(0,c.styleMap)(i(i(i({},(0,u.responsiveGrid)()),(0,u.paddingSmall)()),{background:"radial-gradient(circle, ".concat(n.backgroundColor," 80%, ").concat(n.highlightColor," 100%)")})),card:(0,c.styleMap)((0,u.card)()),chat:(0,c.styleMap)(i(i({},(0,u.card)()),(0,u.padding)()))},[2,(0,l.html)(s||(s=r(['\n    <div style="','">\n      <div>\n        <div data-testid="profile-card" style="','">\n          ',"\n          ","\n        </div>\n      </div>\n        ","\n        ","\n        ","\n        ",'\n      <div style="','">','</div>\n      <div data-testid="qrcode-display" class="qrcode-display" style="','">\n        ',"\n         \n      </div>\n    </div>\n  "],['\n    <div style="','">\n      <div>\n        <div data-testid="profile-card" style="','">\n          ',"\n          ","\n        </div>\n      </div>\n        ","\n        ","\n        ","\n        ",'\n      <div style="','">','</div>\n      <div data-testid="qrcode-display" class="qrcode-display" style="','">\n        ',"\n         \n      </div>\n    </div>\n  "])),S.grid,S.card,(0,v.ProfileCard)(n),(0,E.addMeToYourFriendsDiv)(e,t),(0,y.CVCard)(n,o),(0,b.SocialCard)(n,_),(0,w.StuffCard)(n,t,e,k),(0,p.FriendList)(n,e,t),S.chat,(0,d.ChatWithMe)(e,t),S.card,(0,x.QRCodeCard)(n,e))]}}))}))};var s,l=n(36752),c=n(12378),u=n(94572),d=n(4799),p=n(91119),f=n(14887),h=n(67408),m=n(76294),g=n(2865),v=n(18348),y=n(25956),b=n(11038),w=n(50135),x=n(47983),E=n(64695)},47983:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeCard=void 0;var o,a=n(36752),s=n(94572),l=n(12378),c=n(92361),u={image:(0,l.styleMap)((0,s.fullWidth)()),intro:(0,l.styleMap)(i(i({},(0,s.textGray)()),(0,s.textCenter)())),card:(0,l.styleMap)({}),info:(0,l.styleMap)(i(i({},(0,s.paddingSmall)()),(0,s.textLeft)()))};t.QRCodeCard=function(e,t){var n=(0,l.styleMap)(i(i({},(0,s.heading)()),{color:e.highlightColor})),d=e.highlightColor||"#000000",p=e.backgroundColor||"#ffffff",f="BEGIN:VCARD\r\nFN:"+c.utils.label(t)+"\r\nURL:"+t.uri+"r\nEND:VCARD\r\nVERSION:4.0\r\n";return(0,a.html)(o||(o=r(["\n  <div>\n    <div style=",">\n      <h3 style=",">",'</h3>\n      <div class="QRCode" style="','" data-value="','" highlightColor="','" backgroundColor="','"></div>\n    </div>\n  </div>\n  '],["\n  <div>\n    <div style=",">\n      <h3 style=",">",'</h3>\n      <div class="QRCode" style="','" data-value="','" highlightColor="','" backgroundColor="','"></div>\n    </div>\n  </div>\n  '])),u.card,n,e.name,"width: 80%; margin:auto;",f,d,p)}},11038:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SocialCard=void 0;var o,a,s,l,c,u,d=n(36752),p=n(94572),f=n(12378),h=n(94572),m={image:(0,f.styleMap)((0,p.fullWidth)()),intro:(0,f.styleMap)(i(i({},(0,p.textGray)()),(0,p.textCenter)())),card:(0,f.styleMap)((0,h.card)()),info:(0,f.styleMap)(i(i({},(0,p.paddingSmall)()),(0,p.textCenter)())),tools:(0,f.styleMap)(i(i({},(0,p.paddingSmall)()),(0,p.textRight)()))};function g(e){if(e.length>0)return(0,d.html)(u||(u=r(["","",""],["","",""])),(t=e[0]).homepage&&t.name&&t.icon?(0,d.html)(s||(s=r(['<div class="textButton-0-1-3" style="margin-top: 0.3em; margin-bottom: 0.3em;">\n\n        <a href="','" style="text-decoration: none;" target="social"> \n                <img style="width: 2em; height: 2em; margin: 1em; vertical-align:middle;" src="','" alt="','"> \n\n                <span style="font-size: 1.2rem;">',"</span> \n        </a>\n      </div> "],['<div class="textButton-0-1-3" style="margin-top: 0.3em; margin-bottom: 0.3em;">\n\n        <a href="','" style="text-decoration: none;" target="social"> \n                <img style="width: 2em; height: 2em; margin: 1em; vertical-align:middle;" src="','" alt="','"> \n\n                <span style="font-size: 1.2rem;">',"</span> \n        </a>\n      </div> "])),t.homepage,t.icon,t.name,t.name):(0,d.html)(l||(l=r([""],[""]))),e.length>1?g(e.slice(1)):(0,d.html)(c||(c=r([""],[""]))));var t}t.SocialCard=function(e,t){var n=t.accounts,s=(0,f.styleMap)(i(i({},(0,p.heading)()),{color:e.highlightColor}));return n.length?(0,d.html)(o||(o=r(['\n  <div>\n    <div data-testid="social-media" style="','">\n      <div style=',">\n        <h3 style=",">Follow me on</h3>\n\n        <div style=",">","</div>\n      </div>\n    </div>\n  </div>\n  "],['\n  <div>\n    <div data-testid="social-media" style="','">\n      <div style=',">\n        <h3 style=",">Follow me on</h3>\n\n        <div style=",">","</div>\n      </div>\n    </div>\n  </div>\n  "])),m.card,m.info+"margin: auto;",s,m.info,g(n)):(0,d.html)(a||(a=r([""],[""])))}},76294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadProfileForm=s,t.presentSocial=function(e,t){function n(e){var n=t.any(e,i.ns.foaf("name"))||t.any(e,i.ns.rdfs("label"));if(n)return n.value;for(var r=0,o=t.each(e,i.ns.rdf("type"));r<o.length;r++){var a=o[r],s=t.any(a,i.ns.rdfs("label"));return s?s.value:i.utils.label(a)}return""}function r(e){var n=t.any(e,i.ns.foaf("icon"));if(n)return n.value;var r=t.each(e,i.ns.rdf("type"));if(r.length>0){console.log("@@ classes[0].termType 2 ",r[0].termType);for(var o=0,s=r;o<s.length;o++){var l=s[o],c=t.any(l,i.ns.foaf("icon"));if(null!==c)return c.value}}return a}function o(e){var n=t.any(e,i.ns.foaf("homepage"));if(n)return n.value;for(var r=t.anyJS(e,i.ns.foaf("accountName"),null,e.doc())||"No_account_Name",o=0,a=t.each(e,i.ns.rdf("type"));o<a.length;o++){var s=a[o],l=t.any(s,i.ns.foaf("userProfilePrefix"));if(l)return l.value+r.trim()}return"no userProfilePrefix?"}s(t);var l=t.anyJS(e,i.ns.foaf("account"));if(!l)return{accounts:[]};console.log("Social: accountThings",l);var c=l.map((function(e){return function(e){return{name:n(e),icon:r(e),homepage:o(e)}}(e)}));return console.log("Social: account objects",c),{accounts:c}};var r=n(67364),i=n(92361),o=n(71935),a=i.icons.iconBase+"noun_10636_grey.svg";function s(e){var t=e.sym("https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this").doc();e.holds(void 0,void 0,void 0,t)||(0,r.parse)(o.profileForm,e,t.uri,"text/turtle",(function(){return null}))}},50135:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.StuffCard=void 0;var o,a,s,l,c=n(36752),u=(n(764),n(92361)),d=n(94572),p=n(12378),f=n(94572),h=document,m={image:(0,p.styleMap)((0,d.fullWidth)()),intro:(0,p.styleMap)(i(i({},(0,d.textGray)()),(0,d.textCenter)())),card:(0,p.styleMap)((0,f.card)()),info:(0,p.styleMap)(i(i({},(0,d.paddingSmall)()),(0,d.textLeft)()))};function g(e){return 0===e.length?(0,c.html)(a||(a=r([""],[""]))):(0,c.html)(l||(l=r(["","",""],["","",""])),function(e,t){return function(e,t){return u.widgets.personTR(t,null,e.instance,{})}(e,t)}(e[0],h),e.length>1?g(e.slice(1)):(0,c.html)(s||(s=r([""],[""]))))}t.StuffCard=function(e,t,n,a){var s=a.stuff,l=(0,p.styleMap)(i(i({},(0,d.heading)()),{color:e.highlightColor}));return(0,c.html)(o||(o=r(['\n  <div>\n    <div data-testid="stuff" style="','">\n      <div style=',">\n        <h3 style=",">Stuff</h3>\n\n        <div style=",'><table data-testid="stuffTable">',"</table></div>\n        <hr />\n\n      </div>\n    </div>\n  </div>\n"],['\n  <div>\n    <div data-testid="stuff" style="','">\n      <div style=',">\n        <h3 style=",">Stuff</h3>\n\n        <div style=",'><table data-testid="stuffTable">',"</table></div>\n        <hr />\n\n      </div>\n    </div>\n  </div>\n"])),m.card,m.info,l,m.info,g(s))}},2865:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.iconForClassMap=void 0,t.getIconForClass=h,t.presentStuff=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,c(null,e)];case 1:return[2,{stuff:t.sent().map((function(e){var t=h(e.type||a.ns.rdf("Resource"));return{href:e.instance.uri,name:a.utils.label(e.instance),icon:t,instance:e.instance}}))}]}}))}))};var o=n(67364),a=n(92361),s=n(23451),l=a.widgets.iconForClass,c=s.solidLogicSingleton.typeIndex.getScopedAppInstances;for(var u in t.iconForClassMap={},l){var d=u.split(":")[0],p=u.split(":")[1],f=a.ns[d](p);t.iconForClassMap[f.uri]=o.uri.join(l[u],a.icons.iconBase)}function h(e){return t.iconForClassMap[e.uri]||a.icons.iconBase+"noun_10636.svg"}},64695:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createAddMeToYourFriendsButton=t.addMeToYourFriendsDiv=void 0,t.saveNewFriend=y,t.checkIfAnyUserLoggedIn=b,t.checkIfFriendExists=w;var s=n(36752),l=n(12378),c=n(23451),u=n(92361),d=n(50799),p=n(94572),f=n(21363),h=document.createElement("div"),m={button:(0,l.styleMap)(i(i({},(0,p.textCenter)()),(0,p.padding)()))};t.addMeToYourFriendsDiv=function(e,t){h=t.dom.createElement("div");var n=v(e,t);return h.appendChild(n),(0,s.html)(g||(g=r([' <div style="','">',"</div> "],[' <div style="','">',"</div> "])),m.button,h)};var g,v=function(e,t){var n=u.widgets.button(t.dom,void 0,f.logInAddMeToYourFriendsButtonText,(function(n){n.preventDefault(),y(e,t).then((function(){(0,d.clearPreviousMessage)(h),(0,d.mention)(h,f.friendWasAddedSuccesMessage),r()})).catch((function(e){(0,d.clearPreviousMessage)(h),(0,d.complain)(h,t,e)}))}),{needsBorder:!0});function r(){var r=c.authn.currentUser(),i=t.session.store;b(r)?w(i,r,e).then((function(e){e?(n.innerHTML=f.friendExistsAlreadyButtonText.toUpperCase(),n.setAttribute("class","textButton-0-1-3")):(n.innerHTML=f.addMeToYourFriendsButtonText.toUpperCase(),n.setAttribute("class","textButton-0-1-2"))})):(n.innerHTML=f.logInAddMeToYourFriendsButtonText.toUpperCase(),n.setAttribute("class","textButton-0-1-3"))}return n.refresh=r(),n};function y(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,s,l;return a(this,(function(a){switch(a.label){case 0:return n=c.authn.currentUser(),r=t.session.store,b(n)?[4,w(r,n,e)]:[3,9];case 1:return a.sent()?[3,7]:[4,r.fetcher.load(n)];case 2:a.sent(),i=r.updater,o=[u.rdf.st(n,u.ns.foaf("knows"),e,n.doc())],a.label=3;case 3:return a.trys.push([3,5,,6]),[4,i.update([],o)];case 4:return a.sent(),[3,6];case 5:throw s=a.sent(),(l=s).toString().includes("Unauthenticated")&&(l=f.userNotLoggedInErrorMessage),new Error(l);case 6:return[3,8];case 7:throw new Error(f.friendExistsMessage);case 8:return[3,10];case 9:throw new Error(f.userNotLoggedInErrorMessage);case 10:return[2]}}))}))}function b(e){return!!e}function w(e,t,n){return o(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,e.fetcher.load(t)];case 1:return r.sent(),0===e.whether(t,u.ns.foaf("knows"),n,t.doc())?[2,!1]:[2,!0]}}))}))}t.createAddMeToYourFriendsButton=v},50799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.complain=function(e,t,n){e.appendChild(r.widgets.errorMessageBlock(t.dom,n))},t.mention=function(e,t){var n=document.createElement("div");n.setAttribute("style","margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; background-color: #efe; color:black;"),n.innerHTML=t,e.appendChild(n)},t.clearPreviousMessage=function(e){for(;e.childNodes.length>1;)e.removeChild(e.lastChild)};var r=n(92361)},94572:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.label=t.headingLight=t.heading=t.textGray=t.textDarkGray=t.fontSemibold=t.fontThin=t.textXl=t.textRight=t.textLeft=t.textCenter=t.marginVerticalSmall=t.paddingSmall=t.padding=t.fullWidth=t.card=t.responsiveGrid=void 0,t.responsiveGrid=function(){return{"--auto-grid-min-size":"30rem",display:"grid","grid-template-columns":"repeat(auto-fill, minmax(var(--auto-grid-min-size), 1fr))","grid-gap":"1rem"}},t.card=function(){return{backgroundColor:"white",borderRadius:"4px",boxShadow:"0 1px 5px rgba(0,0,0,0.2)",padding:"0"}},t.fullWidth=function(){return{width:"100%","max-width":"100vw"}},t.padding=function(){return{padding:"1rem"}},t.paddingSmall=function(){return{padding:"0.25rem"}},t.marginVerticalSmall=function(){return{marginTop:"0.25rem",marginBottom:"0.25rem"}},t.textCenter=function(){return{textAlign:"center"}},t.textLeft=function(){return{textAlign:"left"}},t.textRight=function(){return{textAlign:"right"}},t.textXl=function(){return{fontSize:"1.25rem",lineHeight:"1.75rem"}},t.fontThin=function(){return{fontWeight:"100"}},t.fontSemibold=function(){return{fontWeight:"600"}},t.textDarkGray=function(){return{color:"rgb(55, 65, 81,)"}},t.textGray=function(){return{color:"rgb(107, 114, 128)"}},t.heading=function(){return n(n(n(n(n({},(0,t.textCenter)()),(0,t.textXl)()),(0,t.fontSemibold)()),(0,t.textDarkGray)()),{margin:"0"})},t.headingLight=function(){return n(n(n(n({},(0,t.textGray)()),(0,t.fontThin)()),(0,t.textXl)()),{margin:"0"})},t.label=function(){return n(n({},(0,t.textGray)()),(0,t.fontSemibold)())}},2687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67364),i=n(92361),o=n(24596),a=n(71935),s=i.style.highlightColor||"#7C4DFF",l={global:!0,icon:i.icons.iconBase+"noun_492246.svg",name:"editProfile",label:function(){return null},render:function(e,t){console.log("@@@ render edit profile pane:  subject, context",e,t);var n=t.dom,l=t.session.store;function c(e,t){e||d.appendChild(i.widgets.errorMessageBlock(n,t,"#fee"))}var u,d=n.createElement("div");d.setAttribute("data-testid","profile-editor"),d.setAttribute("style","border: 0.3em solid ".concat(s,"; border-radius: 0.5em; padding: 0.7em; margin-top:0.7em;"));var p=d.appendChild(n.createElement("table")),f=p.appendChild(n.createElement("tr")),h=p.appendChild(n.createElement("tr")).appendChild(n.createElement("div"));function m(e){var t=f.appendChild(n.createElement("p"));return t.setAttribute("style","padding: 1em;"),t.textContent=e,t}function g(e){var t=f.appendChild(n.createElement("h3"));return t.setAttribute("style","color:"+s+";"),t.textContent=e,t}h.setAttribute("style","padding: 0.7em;");var v={dom:n,div:f,statusArea:h,me:null};return i.login.ensureLoadedProfile(v).then((function(e){var s=e.me;g("Edit your public profile");var d=s.doc();if(!l.updater)throw new Error("Store has no updater");if(l.any(s,i.ns.solid("editableProfile")))u=l.any(s,i.ns.solid("editableProfile"));else{if(!l.updater.editable(d.uri,l))return void h.appendChild(i.widgets.errorMessageBlock(n,"⚠️ Your profile ".concat(d," is not editable, so we cannot do much here."),"straw"));u=d}m("Everything you put here will be public.\n        There will be other places to record private things."),g("Your contact information"),f.appendChild((0,o.paneDiv)(t,s,"contact")),g("People you know who have WebIDs"),m("This is your public social network.\n        Only put people here to whom you are happy to be publicly connected.\n        (You can always keep private track of friends and family in your contacts.)"),u&&m("Drag people onto the target below to add people."),i.widgets.attachmentList(n,s,f,{doc:d,modify:!!u,predicate:i.ns.foaf("knows"),noun:"friend"}),g("Communities you participate in"),m("These are organizations and projects (etc) whose stuff you share"),u&&m("Drag organizations onto the target below to add organizations."),i.widgets.attachmentList(n,s,f,{doc:d,modify:!!u,predicate:i.ns.solid("community"),noun:"community"}),function(e,t){var o=(0,r.sym)("https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this"),s=o.doc();l.holds(void 0,void 0,void 0,s)||(0,r.parse)(a.profileForm,l,s.uri,"text/turtle",(function(){return null})),e.setAttribute("data-testid","profile-editor"),i.widgets.appendForm(n,e,{},t,o,u,c)}(f,s),g("Thank you for filling your profile.")})).catch((function(e){h.appendChild(i.widgets.errorMessageBlock(n,e,"#fee"))})),d}};t.default=l},24596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneDiv=function(e,t,n){var r=e.session.paneRegistry.byName(n);if(!r){var i=e.dom.createElement("div");return i.innerText="Unable to load view: ".concat(n),i}var o=r.render(t,e);return console.log("@@ viewContainer: ",o),o.setAttribute("style","border: 0.3em solid #444; border-radius: 0.5em"),o}},71935:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profileForm=void 0,t.profileForm='\n@prefix os: <http://www.w3.org/2000/10/swap/os#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n\n@prefix org: <http://www.w3.org/ns/org#>.\n@prefix esco: <http://data.europa.eu/esco/model#>.\n@prefix wd: <http://www.wikidata.org/entity/>.\n@prefix wdt: <http://www.wikidata.org/prop/direct/>.\n\n@prefix : <https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#>.\n@prefix soc: <https://solidos.github.io/profile-pane/src/ontology/socialMedia.ttl#>.\n\n# was: https://solidos.github.io/solid-panes/dashboard/profileStyle.ttl#this\n# moved to:  https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this\n\n\n\n\n# About forms: https://solidos.github.io/solid-ui/Documentation/forms-intro.html\n# About personal public data:  https://www.w3.org/DesignIssues/PersonalPublic.html\n#\n\n:this\n    <http://purl.org/dc/elements/1.1/title> "Profile form" ;\n    a ui:Form ;\n    # ui:part :backgroundColor, :highlightColor;\n    ui:parts (\n      :styleGroup\n      :nicknameField\n      :pronounsForm\n      :LanguagesPrompt :LanguagesForm\n      :SocialsPrompt :SocialsForm\n      :CVGroup\n      :SkillsPrompt :SkillsForm\n      ).\n\n:styleGroup a ui:Group; ui:weight 0; ui:parts ( :styleHeading :backgroundColor :highlightColor ).\n    :styleHeading a ui:Heading; ui:contents "The style of your public profile.".\n    :backgroundColor a ui:ColorField; ui:property solid:profileBackgroundColor;\n      ui:label "Background color"; ui:default "#ffffff".\n    :highlightColor a ui:ColorField; ui:property solid:profileHighlightColor;\n      ui:label "Highlight color"; ui:default "#000000".\n\n# Nickname\n\n:nicknameField a ui:SingleLineTextField; ui:size 12; ui:property foaf:nick;\n      ui:label "Short name for chats, etc."@en, "nom court"@fr.\n\n # Pronouns\n\n :pronounsForm a ui:Group; ui:weight 0; ui:parts ( :pronounsPrompt :subjectPronounForm :objectPronounForm :relativePronounForm) .\n\n    :pronounsPrompt a ui:Comment; ui:contents  "What are your pronouns?" .\n\n    :subjectPronounForm a ui:SingleLineTextField; ui:property solid:preferredSubjectPronoun;\n        ui:size 10; ui:label "he/she/they..." .\n    :objectPronounForm a ui:SingleLineTextField; ui:property solid:preferredObjectPronoun;\n        ui:size 10; ui:label "him/her/them..." .\n    :relativePronounForm a ui:SingleLineTextField; ui:property solid:preferredRelativePronoun;\n        ui:size 10; ui:label "his/hers/theirs..." .\n\n  # Curriculum Vitae: membership of organizations\n\n  :CVHeading a ui:Heading; ui:contents "Public Curriculum Vitae".\n  :CVPrompt a ui:Comment; ui:contents  "What organizations have you been involved with?" .\n\n    :CVGroup a ui:Group; ui:weight 1; ui:parts ( :CVHeading :CVPrompt :involvementWithOrganizationsForm ).\n\n\n  solid:Role a rdfs:Class; owl:oneOf ( solid:CurrentRole solid:FormerRole solid:FutureRole ). # Future Role too?\n\n  org:member owl:inverse [ ui:label "involvement with company, org etc" ]. # timelimited involvement\n\n  :involvementWithOrganizationsForm a ui:Multiple;\n      ui:label "Involvement with Organization";\n      ui:property org:member; ui:reverse true; # link back from role to member\n      ui:ordered false; # Allow user to order CV secions rather than force date order? No.\n      ui:part :RoleMembershipForm.\n\n# This is a big important form for one of a series of roles in the list.\n\n  :RoleMembershipForm a ui:Group; ui:weight 3; ui:parts ( :MembershipFormHeading :roleNameField\n        :escoOccupationField :orgField :RoleClassifier :RoleDatesForm :RoleDescriptionForm).\n\n     :MembershipFormHeading a ui:Heading; ui:contents "Details of this role"@en, "Détailes de ce rôle"@fr .\n\n     :orgField a ui:Choice; ui:label "Organization"@en, "Organization"@fr;\n          ui:canMintNew true; ui:use :OrganizationCreationForm ;\n          ui:property org:organization;\n          ui:from vcard:Organization .\n     :roleNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 60 .\n\n    :escoOccupationField a ui:AutocompleteField;\n          ui:label "occupation"; ui:size 60;\n          ui:property org:role;\n          ui:dataSource :ESCO_Occupation_DataSource;\n           ui:targetClass schema:Occupation .\n\n         :ESCO_Occupation_DataSource a ui:DataSource;\n            schema:name "ESCO";\n            ui:targetClass schema:Occupation ;\n            schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n            ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)".\n\n     :instituteIdentityField a ui:AutocompleteField; ui:label "in wikidata";\n          ui:size 60;\n          ui:property solid:publicId; ui:dataSource :WikidataOnOrganizations.\n\n     :WikidataOnOrganizations a ui:DataSource ;\n       schema:name "Wikidata";\n       ui:endpoint "https://query.wikidata.org/sparql" ;\n       ui:targetClass  <http://www.wikidata.org/entity/Q43229>; # Use if nothing else\n       ui:searchByNameQuery """SELECT ?subject ?name\n       WHERE {\n         ?klass wdt:P279* $(targetClass) .\n         ?subject wdt:P31 ?klass .\n         ?subject rdfs:label ?name.\n         FILTER regex(?name, "$(name)", "i")\n       } LIMIT $(limit) """ .\n\n      :WikidataOnOrganizations ui:classMap\n       [ ui:internalClass schema:Corporation; ui:externalClass <http://www.wikidata.org/entity/Q6881511>], #Enterprise is for-profit\n       [ ui:internalClass schema:EducationalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q178706>], #insitution\n       [ ui:internalClass schema:ResearchOrganization; ui:externalClass <http://www.wikidata.org/entity/Q31855>], # reearch insitutie\n       [ ui:internalClass schema:GovernmentOrganization; ui:externalClass <http://www.wikidata.org/entity/Q327333>], #government agency\n       [ ui:internalClass schema:MedicalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4287745>],\n       [ ui:internalClass schema:MusicGroup; ui:externalClass <http://www.wikidata.org/entity/Q32178211>], #music organization\n       [ ui:internalClass schema:NGO; ui:externalClass <http://www.wikidata.org/entity/Q163740>], #nonprofit organization @@\n       [ ui:internalClass schema:Occupation; ui:externalClass <http://www.wikidata.org/entity/Q28640>], # superclass: Profession\n       [ ui:internalClass schema:Organization; ui:externalClass <http://www.wikidata.org/entity/Q43229>], # Superclass; Organization\n       [ ui:internalClass schema:Project; ui:externalClass <http://www.wikidata.org/entity/Q170584>],\n       [ ui:internalClass schema:SportsOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4438121>] .\n\n\n# eposodes in one\'s career - Roles\n\nsolid:Role owl:disjointUnionOf ( solid:PastRole solid:CurrentRole solid:FutureRole ) .\nsolid:PastRole a rdfs:Class; rdfs:label "former role"@en, "ancien rôle"@fr, "vergangene Rolle"@de, "rol anterior"@es .\nsolid:CurrentRole a rdfs:Class; rdfs:label "current role"@en, "rôle actuel"@fr, "momentane Rolle"@de , "rol actual"@es .\nsolid:FutureRole a rdfs:Class; rdfs:label "future role"@en, "rôle à venir"@fr, "zukünftige Rolle"@de, "rol futuro"@es .\n\n:RoleDatesGroup a ui:Group; ui:weight 0; ui:parts ( :RoleClassifier :RoleDatesForm ) .\n  :RoleClassifier a ui:Classifier; ui:label "What sort of role?"@en;\n      ui:category solid:Role .\n\n  :RoleDatesForm a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for solid:PastRole; ui:use :TwoDateForm ],\n     [ ui:for solid:CurrentRole; ui:use :StartDateForm ],\n     [ ui:for solid:FutureRole; ui:use :StartDateForm ].\n\n      :StartDateForm a ui:DateField; ui:label "start"@en,"début"@fr;\n          ui:property schema:startDate .\n      :TwoDateForm a ui:Group; ui:weight 0; ui:parts ( :StartDateForm :EndDateForm ) .\n      :EndDateForm a ui:DateField; ui:label "end"@en,"fin"@fr;\n          ui:property schema:endDate .\n\n:RoleDescriptionForm a ui:MultiLineTextField; ui:property schema:description;\n  ui:label "Describe your role" .\n\n# Organizations\n\n vcard:Organization ui:creationForm :OrganizationCreationForm  .\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corporation\n# Consortium - a Corporation or a NGO\n schema:Corporation\n schema:EducationalOrganization\n schema:ResearchOrganization  # Proposed. https://github.com/schemaorg/schemaorg/issues/2877\n# FundingScheme - eh?\n schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n# MedicalOrganization - a Corporation or a NGO\n schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\nschema:PerformingGroup # a band\nschema:Project # like Solid\nschema:SportsOrganization # a Team\nsolid:OtherOrganization\n ) .\n\n# This until the schema.org ontology adopts it\nschema:ResearchOrganization a rdfs:Class; rdfs:label "Research Organization"@en, "Organization de Recherche"@fr ,\n   "organización de investigación"@es, "منظمة البحث"@ar, "अनुसंधान संगठन"@hi, "Forschungsorganisation"@de, "shirika la utafiti"@sw .\n\n  :OrganizationCreationForm a ui:Form; schema:name "Form for editing an organization using public data" ;\n    ui:parts ( :OrgClassifier :OrgSwitch   :OrganizationNameField :homePageURIField  ) .\n\n\n :OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n    ui:category solid:InterestingOrganization .\n\n  :OrganizationNameField\n      a ui:SingleLineTextField ;\n      ui:label "Organization Name";\n      ui:maxLength "200" ;\n      ui:property schema:name ;\n      ui:size    80 .\n\n   :homePageURIField a ui:NamedNodeURIField; ui:size 80;\n      ui:label "Home page URI"@en;\n      ui:property  schema:uri . # @@ ??\n\n    :initituteTypeField a ui:Classifier;\n    ui:label "What sort of organization";\n    ui:category solid:InterestingOrganization .\n\n#  Depending on the type of org, chose a different form\n\n :OrgSwitch a ui:Options; ui:dependingOn rdf:type;\n   ui:case\n   [ ui:for schema:Corporation; ui:use :CorporationForm ],\n   [ ui:for schema:GovernmentOrganization; ui:use :GovernmentOrganizationForm ],\n   [ ui:for schema:PerformingGroup; ui:use :PerformingGroupForm ],\n   [ ui:for schema:Project; ui:use :ProjectForm ],\n   [ ui:for schema:NGO; ui:use :NGOForm ],\n   [ ui:for schema:EducationalOrganization; ui:use :EducationalOrganizationForm ],\n   [ ui:for schema:ResearchOrganization; ui:use :ResearchOrganizationForm ],\n   [ ui:for :SportsOrganization; ui:use :SportsOrganizationForm ],\n   [ ui:for solid:OtherOrganization; ui:use :OtherOrganizationForm ].\n\n\n  :CorporationForm a ui:Group; ui:weight 0; ui:parts ( :CorporationPrompt :CorporationAutocomplete ) .\n\n      :CorporationPrompt a ui:Comment; ui:contents "Which corporation?".\n\n      :CorporationAutocomplete a ui:AutocompleteField;\n      a ui:AutocompleteField; ui:label "Corporation in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q6881511>; # Enterprise\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n      :WikidataInstancesByName a ui:DataSource ;\n        schema:name "Wikidata instances by name";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:searchByNameQuery """SELECT ?subject ?name\n        WHERE {\n          ?klass wdt:P279* $(targetClass) .\n          ?subject wdt:P31 ?klass .\n          ?subject rdfs:label ?name.\n          FILTER regex(?name, "$(name)", "i")\n        } LIMIT $(limit) """ ;\n\n        # Note this form of the query is very experimental\n        ui:searchByName [   ui:construct { ?subject schema:name ?name } ;\n                            ui:where { ?klass wdt:P279 ?targetClass .\n                                       ?subject wdt:P31 ?klass; rdfs:label ?name .\n                                     };\n                        ].\n\n  :GovernmentOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :GovernmentOrganizationPrompt :GovernmentOrganizationAutocomplete ) .\n\n      :GovernmentOrganizationPrompt a ui:Comment; ui:contents "Which GovernmentOrganization?".\n\n      :GovernmentOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "GovernmentOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q327333>; # GovernmentOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n    :EducationalOrganizationForm a ui:Group; ui:weight 1; ui:parts ( :EducationalOrganizationPrompt :EducationalOrganizationAutocomplete ) .\n\n        :EducationalOrganizationPrompt a ui:Comment; ui:contents "Which Educational Organization?".\n\n        :EducationalOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Educational Organization in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q2385804>; # EducationalOrganization\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n    :ResearchOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :ResearchOrganizationPrompt :ResearchOrganizationAutocomplete ) .\n\n        :ResearchOrganizationPrompt a ui:Comment; ui:contents "Which Research Organization?".\n\n        :ResearchOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Research Insitute in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q31855>; # research institute\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :NGOForm a ui:Group; ui:weight 0; ui:parts ( :NGOPrompt :NGOAutocomplete ) .\n\n      :NGOPrompt a ui:Comment; ui:contents "Which NGO?".\n\n      :NGOAutocomplete\n      a ui:AutocompleteField; ui:label "NGO in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q163740>; # Non-profit org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :PerformingGroupForm a ui:Group; ui:weight 0; ui:parts ( :PerformingGroupPrompt :PerformingGroupAutocomplete ) .\n\n      :PerformingGroupPrompt a ui:Comment; ui:contents "Which PerformingGroup?".\n\n      :PerformingGroupAutocomplete\n      a ui:AutocompleteField; ui:label "PerformingGroup in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q32178211>; # Music Org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :ProjectForm a ui:Group; ui:weight 0; ui:parts ( :ProjectPrompt :ProjectAutocomplete ) . #  :ProjectAutocomplete - no: supress, as not in WD\n\n      :ProjectPrompt a ui:Comment; ui:contents "Which Project?".\n\n      :ProjectAutocomplete\n      a ui:AutocompleteField; ui:label "Project in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q170584>; # Project\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :SportsOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :SportsOrganizationPrompt :SportsOrganizationAutocomplete ) .\n\n      :SportsOrganizationPrompt a ui:Comment; ui:contents "Which Sports Organization?".\n\n      :SportsOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "SportsOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q4438121>; # SportsOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n   :OtherOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :OrganizationNameField :homePageURIField ) .\n\n  #################### Skills\n\n  :SkillsPrompt a ui:Comment; ui:contents  "Skills?" .\n\n  :SkillsForm a ui:Multiple;\n      ui:label "Skills";\n      ui:property schema:skills;\n      ui:ordered false; # Allow reader to order skills\n      ui:part :SkillForm.\n\n  :SkillForm a ui:Group; ui:weight 1; ui:parts ( :escoSkillField ).\n\n        # :skillNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 30 .\n\n        :escoSkillField a ui:AutocompleteField;\n              ui:label "skill"; ui:size 30;\n              ui:property solid:publicId;\n              ui:dataSource :ESCO_Skill_DataSource;\n               ui:targetClass schema:Skill .\n\n        :ESCO_Skill_DataSource a ui:DataSource;\n           schema:name "ESCO Skill";\n           ui:targetClass esco:Skill ;\n           schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n           ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&limit=$(limit)&type=skill&text=$(name)".\n\n# Language\n\n:LanguagesPrompt a ui:Comment; ui:contents  "Languages?" .\n\n:LanguagesForm a ui:Multiple;\n    ui:label "Languages";\n    ui:property schema:knowsLanguage; # @@@\n    ui:ordered true; # Allow user to order languages most important first.\n    ui:part :LanguageForm.\n\n:LanguageForm a ui:Group; ui:weight 1; ui:parts ( :WikidataLanguageField ).\n\n    :WikidataLanguageField a ui:AutocompleteField;\n          ui:label "Language"; ui:size 30;\n          ui:property solid:publicId; # @@\n          ui:dataSource :WikidataLanguageDataSource;\n           ui:targetClass schema:Language .\n\n    :WikidataLanguageDataSource\n        schema:name "Wikidata languages";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:objectURIBase <https://www.w3.org/ns/iana/language-code/>;\n        # Add this to any literal string returned as ?subject\n\n         ui:searchByNameQuery """SELECT ?item ?subject ?name\nWHERE\n{ ?item wdt:P305 ?subject .\n  OPTIONAL {?item rdfs:label ?name}\n  OPTIONAL {?item wdt:P1705 ?name}\n  FILTER regex(?name, "$(name)", "i")\n  FILTER regex(?subject, "^..$", "i")\n}""" .\n # Note we restrict code to two-letter codes with the second regex, so as to limit the deluge of languages\n # Hope there are not any important ones which have three-letter codes.\n # Omitted: SERVICE wikibase:label { bd:serviceParam wikibase:language "$(languages)". }\n\n########### Social Media - other accounts\n#\n# Twitter, Linked In, Orkid, Mastodon, Matrix, Bluesky, Instagram, Facebook, Github,\n# Snapchat, TikTok, etc\n\n:SocialsPrompt a ui:Heading; ui:contents  "Social Media etc?" .\n:SocialsPrompt a ui:Comment; ui:contents  "Link to accounts in social media sites, etc" .\n\n:SocialsForm a ui:Multiple;\n    ui:label "online account";\n    ui:property foaf:account;\n    ui:ordered true; # Allow user to order occounts most important first.\n    ui:part :AccountsForm.\n\n:AccountsForm a ui:Group; ui:weight 1; ui:parts ( :AccountField :AccountIdField ).\n\n:AccountField a ui:Classifier; ui:label "What sort of account?"@en;\n      ui:multiple false ; \n      ui:category foaf:Account  .\n\n:AccountIdField a ui:Options . \n\n  :AccountIdField a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for soc:BlueSkyAccount; ui:use :BlueSkyIdField ],\n     [ ui:for soc:FacebookAccount; ui:use :FacebookIdField ],\n     [ ui:for soc:GithubAccount; ui:use :GithubIdField ],\n     [ ui:for soc:InstagramAccount; ui:use :InstagramIdField ],\n     [ ui:for soc:LinkedInAccount; ui:use :LinkedInIdField ],\n     [ ui:for soc:MastodonAccount; ui:use :MastodonIdField ],\n     [ ui:for soc:MatrixAccount; ui:use :MatrixIdField ],\n     [ ui:for soc:MediumAccount; ui:use :MediumIdField ],\n     [ ui:for soc:NostrAccount; ui:use :NostrIdField ],\n     [ ui:for soc:OrcidAccount; ui:use :OrcidIdField ],\n     [ ui:for soc:PinterestAccount; ui:use :PinterestIdField ],\n     [ ui:for soc:RedditAccount; ui:use :RedditIdField ],\n     [ ui:for soc:StravaAccount; ui:use :StravaIdField ],\n     [ ui:for soc:SnapchatAccount; ui:use :SnapchatIdField ],\n     [ ui:for soc:TiktokAccount; ui:use :TiktokIdField ],\n     [ ui:for soc:TumblrAccount; ui:use :TumblrIdField ],\n     [ ui:for soc:TwitterAccount; ui:use :TwitterIdField ],\n     [ ui:for soc:OtherAccount; ui:use :OtherIdForm  ] .\n\n  :BlueSkyIdField\n      a ui:SingleLineTextField ;\n      ui:label "Bluesky Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-](.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :FacebookIdField\n      a ui:SingleLineTextField ;\n      ui:label "Facebook Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :GithubIdField\n      a ui:SingleLineTextField ;\n      ui:label "Github Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :InstagramIdField\n      a ui:SingleLineTextField ;\n      ui:label "Instagram Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :LinkedInIdField\n      a ui:SingleLineTextField ;\n      ui:label "Linked In Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MastodonIdField\n      a ui:SingleLineTextField ;\n      ui:label "Mastodon (Activity Pub) Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MatrixIdField\n      a ui:SingleLineTextField ;\n      ui:label "Matrix Username";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MediumIdField\n      a ui:SingleLineTextField ;\n      ui:label "Medium Username";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :NostrIdField\n      a ui:SingleLineTextField ;\n      ui:label "Nostr public key";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    70 .\n\n  :OrcidIdField\n      a ui:SingleLineTextField ;\n      ui:label "ORCiD id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :PinterestIdField\n      a ui:SingleLineTextField ;\n      ui:label "Pinterest id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :RedditIdField\n      a ui:SingleLineTextField ;\n      ui:label "Reddit Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :StravaIdField\n      a ui:SingleLineTextField ;\n      ui:label "Strava Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :SnapchatIdField\n      a ui:SingleLineTextField ;\n      ui:label "Snapchat Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TiktokIdField\n      a ui:SingleLineTextField ;\n      ui:label "Tiktok Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TumblrIdField\n      a ui:SingleLineTextField ;\n      ui:label "Tumblr user name";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TwitterIdField\n      a ui:SingleLineTextField ;\n      ui:label "Twitter Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n# an unknown SN account needs more info\n\n  :OtherIdForm a ui:Group; ui:weight 0; ui:parts ( :OtherIdField :OtherIconField :OtherLabelield ).\n\n  :OtherIdField\n      a ui:NamedNodeURIField ;\n      ui:label "URL of account to link to";\n      ui:maxLength "200" ;\n      ui:property foaf:homepage ; \n      ui:size    60 .\n\n  :OtherLabelield\n      a ui:SingleLineTextField ;\n      ui:label "Label";\n      ui:maxLength "200" ;\n      ui:property rdfs:label ; \n      ui:size    40 .\n\n  :OtherIconField\n      a ui:NamedNodeURIField ;\n      ui:label "URL of icon to display";\n      ui:maxLength "200" ;\n      ui:property foaf:icon ;\n      ui:size    60 .\n\n\n\n\n\n# ENDS\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n\n@prefix org: <http://www.w3.org/ns/org#>.\n\n@prefix : <https://solidos.github.io/profile-pane/src/ontology/socialMedia.ttl#>.\n@prefix soc: <https://solidos.github.io/profile-pane/src/ontology/socialMedia.ttl#>.\n\n# was: https://solidos.github.io/solid-panes/dashboard/profileStyle.ttl#  <-- change old data\n\n\n\n# was: https://solidos.github.io/solid-panes/dashboard/profileStyle.ttl#this\n# moved to:  https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this\n#  and        https://solidos.github.io/profile-pane/src/ontology/socialMedia.ttl\n\n\n##### Ontology of Online Accounts\n\nfoaf:Account a rdfs:Class;\n    rdfs:label "Online Account Provider";\n    owl:disjointUnionOf ( :BlueSkyAccount :FacebookAccount :GithubAccount :InstagramAccount\n    :LinkedInAccount :MastodonAccount :MatrixAccount :MediumAccount :NostrAccount :OrcidAccount :PinterestAccount\n    :RedditAccount :SnapchatAccount :StravaAccount :TiktokAccount  :TumblrAccount  :TwitterAccount :OtherAccount) .\n\n:BlueSkyAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Bluesky";\n    foaf:userProfilePrefix "https://bsky.app/profile/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/bluesky-1.svg>;\n    foaf:homepage <https://bsky.app/> .\n\n:FacebookAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Facebook";\n    foaf:userProfilePrefix "https://www.facebook.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/facebook-2020-2-1.svg>;\n    foaf:homepage <https://www.facebook.com/> .\n\n:GithubAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Github";\n    foaf:userProfilePrefix "https://www.github.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/github-icon.svg>;\n    foaf:homepage <https://github.com/> .\n\n:InstagramAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Instagram";\n    foaf:userProfilePrefix "https://www.instagram.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/instagram-2016-5.svg>;\n    foaf:homepage <https://www.instagram.com/> .\n\n:LinkedInAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Linked In";\n    foaf:userProfilePrefix "https://www.linkedin.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/linkedin-icon.svg>;\n    foaf:homepage <https://linkedin.com/> .\n\n:MastodonAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Mastodon" ;\n    foaf:userProfilePrefix "https://mastodon.social/";\n\n #   foaf:userNamePattern "(@[a-ZA-Z0-9]*)@[a-ZA-Z0-9.]*)";\n #   foaf:userNameTransform "https://$2/$1";\n\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/mastodon-2.svg>;\n    foaf:homepage <https://joinmastodon.org/> .\n\n:MatrixAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Matrix" ;\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/matrix-logo-black.svg> ;\n    foaf:userProfilePrefix "https://matrix.to/#/" ;\n    foaf:homepage <https://matrix.org/> .\n\n:MediumAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Medium";\n    foaf:userProfilePrefix "https://medium.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/medium-logo-wordmark-black.svg>;\n    foaf:homepage <https://medium.com/> .\n\n:NostrAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Nostr";\n    foaf:userProfilePrefix "https://primal.net/p/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/nostr-icon-purple-on-white.svg>;\n    foaf:homepage <https://nostr.net/> .\n\n:OrcidAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "ORCiD";\n    foaf:userProfilePrefix "https://orcid.org/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/ORCID-1.svg>;\n    foaf:homepage <https://orcid.org/> .\n\n:PinterestAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Pinterest";\n    foaf:userProfilePrefix "https://pin.it/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/pinterest-2-1.svg>;\n    foaf:homepage <https://pinterest.com/> .\n\n:RedditAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Reddit";\n    foaf:userProfilePrefix "https://www.reddit.com/user/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/reddit-4.svg>;\n    foaf:homepage <https://reddit.com/> .\n\n:SnapchatAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Snapchat";\n    foaf:userProfilePrefix "https://www.snapchat.com/add/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/snapchat-1.svg>;\n    foaf:homepage <https://www.snapchat.com/> .\n\n:StravaAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Strava";\n    foaf:userProfilePrefix "https://www.strava.com/athletes/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/strava-2.svg>;\n    foaf:homepage <https://strava.com/> .\n\n:TiktokAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "TikTok";\n    foaf:userProfilePrefix "https://www.tiktok.com/@";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/tiktok-icon-2.svg>;\n    foaf:homepage <https://www.tiktok.com/> .\n\n:TumblrAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Tumblr";\n    foaf:userProfilePrefix "https://www.tumblr.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/tumblr-icon.svg>;\n    foaf:homepage <https://www.tumblr.com/> .\n\n\n:TwitterAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "X (formerly Twitter)";\n    foaf:userProfilePrefix "https://x.com/";\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/social/x-2.svg>;\n    foaf:homepage <https://x.com/> .\n\n\n:OtherAccount rdfs:subClassOf foaf:Account ;\n    rdfs:label "Other" ;\n    foaf:icon <https://solidos.github.io/solid-ui/src/icons/noun_1689339.svg> .\n\n# ends\n\n'},62643:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(36752),a=n(93447),s=n(2687),l=n(92361),c=n(87583),u={global:!1,icon:l.icons.iconBase+"noun_15059.svg",name:"profile",label:function(e,t){var n=t.session.store.findTypeURIs(e);return n[l.ns.vcard("Individual").uri]||n[l.ns.foaf("Person").uri]||n[l.ns.schema("Person").uri]?"Profile":null},editor:s.default,render:function(e,t){var n=t.dom.createElement("div");return function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return(n=e.each(t,l.ns.rdfs("seeAlso"),null,t.doc())).length>0?[4,e.fetcher.load(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}(t.session.store,e).then((function(){return r(void 0,void 0,void 0,(function(){var r,s,l,u,d,p,f;return i(this,(function(i){switch(i.label){case 0:return r=o.render,[4,(0,a.ProfileView)(e,t)];case 1:if(r.apply(void 0,[i.sent(),n]),!(s=Array.from(n.getElementsByClassName("QRCode"))).length)return[2,console.error("QRCode Ele missing")];for(l=function(e){var t=e.getAttribute("data-value");if(!t)return{value:console.error("QRCode data-value missing")};var n={type:"svg",color:{dark:e.getAttribute("highlightColor")||"#000000",light:e.getAttribute("backgroundColor")||"#ffffff"}};c.toString(t,n,(function(t,n){t?console.error("QRcode error!",t):(e.innerHTML=n,e.style.width="80%",e.style.height="80%",e.style.margin="10%")}))},u=0,d=s;u<d.length;u++)if(p=d[u],"object"==typeof(f=l(p)))return[2,f.value];return[2]}}))}))})),n}};t.default=u},14887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presentProfile=void 0,t.pronounsAsText=a;var r=n(92361),i=n(23451),o=n(46077);function a(e){var t=i.store.anyJS(e,r.ns.solid("preferredSubjectPronoun"))||"";if(t){var n=i.store.anyJS(e,r.ns.solid("preferredObjectPronoun"));if(n){t+="/"+n;var o=i.store.anyJS(e,r.ns.solid("preferredRelativePronoun"));o&&(t+="/"+o)}t=" ("+t+") "}return t||""}function s(e,t){return e&&t?"".concat(t,", ").concat(e):e||t||null}function l(e,t){return e&&t?"".concat(e," at ").concat(t):t||e||null}function c(e,t){return e&&(0,o.validateHTMLColorHex)(e)?e:t}t.presentProfile=function(e,t){var n=r.utils.label(e),i=r.widgets.findImage(e),o=t.anyValue(e,r.ns.vcard("role")),u=t.anyValue(e,r.ns.vcard("organization-name")),d=t.any(e,r.ns.vcard("hasAddress")),p=null!=d?t.anyValue(d,r.ns.vcard("country-name")):null,f=null!=d?t.anyValue(d,r.ns.vcard("locality")):null,h=function(e,t){var n=t.anyValue(e,r.ns.solid("profileBackgroundColor"),null,e.doc()),i=t.anyValue(e,r.ns.solid("profileHighlightColor"),null,e.doc());return{backgroundColor:c(n,"#eee"),highlightColor:c(i,"#090")}}(e,t),m=h.backgroundColor,g=h.highlightColor,v=a(e);return{name:n,imageSrc:i,introduction:l(o,u),location:s(p,f),backgroundColor:m,pronouns:v,highlightColor:g}}},21363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chatWithMeButtonText=t.friendExistsAlreadyButtonText=t.logInAddMeToYourFriendsButtonText=t.addMeToYourFriendsButtonText=t.loadingMessage=t.friendExistsMessage=t.friendWasAddedSuccesMessage=t.internalErrorMessage=t.userNotLoggedInErrorMessage=void 0,t.userNotLoggedInErrorMessage="Current user not found! Not logged in?",t.internalErrorMessage="An internal error occured!",t.friendWasAddedSuccesMessage="Friend was added!",t.friendExistsMessage="Friend already exists",t.loadingMessage="Loading...",t.addMeToYourFriendsButtonText="Add me to your friend list",t.logInAddMeToYourFriendsButtonText="Login to add me to your friend list",t.friendExistsAlreadyButtonText="Already part of friend list",t.chatWithMeButtonText="Chat with me"},87583:(e,t,n)=>{const r=n(91333),i=n(90157),o=n(47899),a=n(56756);function s(e,t,n,o,a){const s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=o=void 0):2!==l||t.getContext||(o=n,n=t,t=void 0),new Promise((function(r,a){try{const a=i.create(n,o);r(e(a,t,o))}catch(e){a(e)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(a=n,n=t,t=o=void 0):3===l&&(t.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{const r=i.create(n,o);a(null,e(r,t,o))}catch(e){a(e)}}t.create=i.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return a.render(e,n)}))},91333:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6421:(e,t,n)=>{const r=n(56886).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([r[e],r[t]]);return n}},11433:(e,t,n)=>{const r=n(30208),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},99899:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},8820:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},25822:(e,t,n)=>{const r=n(30208);function i(e){this.mode=r.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},97518:(e,t,n)=>{const r=n(49953),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}}},49953:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},7756:(e,t,n)=>{const r=n(56886).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},84565:(e,t,n)=>{const r=n(56886),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},2731:(e,t)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},24861:(e,t,n)=>{const r=n(30208),i=n(56886);function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},81332:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let n=0,r=0,i=0,o=null,a=null;for(let s=0;s<t;s++){r=i=0,o=a=null;for(let l=0;l<t;l++){let t=e.get(s,l);t===o?r++:(r>=5&&(n+=r-5+3),o=t,r=1),t=e.get(l,s),t===a?i++:(i>=5&&(n+=i-5+3),a=t,i=1)}r>=5&&(n+=r-5+3),i>=5&&(n+=i-5+3)}return n},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==t&&0!==t||n++}return 3*n},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,i=0;for(let o=0;o<t;o++){r=i=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(o,a),a>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(a,o),a>=10&&(1488===i||93===i)&&n++}return 40*n},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(e,t){const r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,n(e,o,i))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,o=1/0;for(let a=0;a<r;a++){n(a),t.applyMask(a,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),r<o&&(o=r,i=a)}return i}},30208:(e,t,n)=>{const r=n(21878),i=n(67044);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},24357:(e,t,n)=>{const r=n(30208);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},64713:(e,t,n)=>{const r=n(2731);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)n[i+o]^=r.mul(e[i],t[o]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let i=0;i<t.length;i++)n[i]^=r.mul(t[i],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},90157:(e,t,n)=>{const r=n(56886),i=n(49953),o=n(99899),a=n(8820),s=n(6421),l=n(7756),c=n(81332),u=n(97518),d=n(74764),p=n(31427),f=n(84565),h=n(30208),m=n(29801);function g(e,t,n){const r=e.size,i=f.getEncodedBits(t,n);let o,a;for(o=0;o<15;o++)a=1==(i>>o&1),o<6?e.set(o,8,a,!0):o<8?e.set(o+1,8,a,!0):e.set(r-15+o,8,a,!0),o<8?e.set(8,r-o-1,a,!0):o<9?e.set(8,15-o-1+1,a,!0):e.set(8,15-o-1,a,!0);e.set(r-8,8,1,!0)}function v(e,t,n,i){let f;if(Array.isArray(e))f=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=m.rawSplit(e);r=p.getBestVersionForData(t,n)}f=m.fromString(e,r||40)}}const v=p.getBestVersionForData(f,n);if(!v)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<v)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+v+".\n")}else t=v;const y=function(e,t,n){const i=new o;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),h.getCharCountIndicator(t.mode,e)),t.write(i)}));const a=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const s=(a-i.getLengthInBits())/8;for(let e=0;e<s;e++)i.put(e%2?17:236,8);return function(e,t,n){const i=r.getSymbolTotalCodewords(t),o=i-u.getTotalCodewordsCount(t,n),a=u.getBlocksCount(t,n),s=a-i%a,l=Math.floor(i/a),c=Math.floor(o/a),p=c+1,f=l-c,h=new d(f);let m=0;const g=new Array(a),v=new Array(a);let y=0;const b=new Uint8Array(e.buffer);for(let e=0;e<a;e++){const t=e<s?c:p;g[e]=b.slice(m,m+t),v[e]=h.encode(g[e]),m+=t,y=Math.max(y,t)}const w=new Uint8Array(i);let x,E,_=0;for(x=0;x<y;x++)for(E=0;E<a;E++)x<g[E].length&&(w[_++]=g[E][x]);for(x=0;x<f;x++)for(E=0;E<a;E++)w[_++]=v[E][x];return w}(i,e,t)}(t,n,f),b=r.getSymbolSize(t),w=new a(b);return function(e,t){const n=e.size,r=l.getPositions(t);for(let t=0;t<r.length;t++){const i=r[t][0],o=r[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1||n<=i+t))for(let r=-1;r<=7;r++)o+r<=-1||n<=o+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(i+t,o+r,!0,!0):e.set(i+t,o+r,!1,!0))}}(w,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(w),function(e,t){const n=s.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],i=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,i+n,!0,!0):e.set(r+t,i+n,!1,!0)}}(w,t),g(w,n,0),t>=7&&function(e,t){const n=e.size,r=p.getEncodedBits(t);let i,o,a;for(let t=0;t<18;t++)i=Math.floor(t/3),o=t%3+n-8-3,a=1==(r>>t&1),e.set(i,o,a,!0),e.set(o,i,a,!0)}(w,t),function(e,t){const n=e.size;let r=-1,i=n-1,o=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,s-n)){let r=!1;a<t.length&&(r=1==(t[a]>>>o&1)),e.set(i,s-n,r),o--,-1===o&&(a++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(w,y),isNaN(i)&&(i=c.getBestMask(w,g.bind(null,w,n))),c.applyMask(i,w),g(w,n,i),{modules:w,version:t,errorCorrectionLevel:n,maskPattern:i,segments:f}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,o,a=i.M;return void 0!==t&&(a=i.from(t.errorCorrectionLevel,i.M),n=p.from(t.version),o=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),v(e,n,a,o)}},74764:(e,t,n)=>{const r=n(64713);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},67044:(e,t)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+r+"$"),a=new RegExp("^"+n+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},29801:(e,t,n)=>{const r=n(30208),i=n(24357),o=n(11433),a=n(25822),s=n(24861),l=n(67044),c=n(56886),u=n(76320);function d(e){return unescape(encodeURIComponent(e)).length}function p(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function f(e){const t=p(l.NUMERIC,r.NUMERIC,e),n=p(l.ALPHANUMERIC,r.ALPHANUMERIC,e);let i,o;return c.isKanjiModeEnabled()?(i=p(l.BYTE,r.BYTE,e),o=p(l.KANJI,r.KANJI,e)):(i=p(l.BYTE_KANJI,r.BYTE,e),o=[]),t.concat(n,i,o).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return o.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return a.getBitsLength(e)}}function m(e,t){let n;const l=r.getBestModeForData(e);if(n=r.from(t,l),n!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new o(e);case r.KANJI:return new s(e);case r.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e}),[])},t.fromString=function(e,n){const i=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return t}(f(e,c.isKanjiModeEnabled())),o=function(e,t){const n={},i={start:{}};let o=["start"];for(let a=0;a<e.length;a++){const s=e[a],l=[];for(let e=0;e<s.length;e++){const c=s[e],u=""+a+e;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let e=0;e<o.length;e++){const a=o[e];n[a]&&n[a].node.mode===c.mode?(i[a][u]=h(n[a].lastCount+c.length,c.mode)-h(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),i[a][u]=h(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}o=l}for(let e=0;e<o.length;e++)i[o[e]].end=0;return{map:i,table:n}}(i,n),a=u.find_path(o.map,"start","end"),s=[];for(let e=1;e<a.length-1;e++)s.push(o.table[a[e]].node);return t.fromArray(s.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[]))},t.rawSplit=function(e){return t.fromArray(f(e,c.isKanjiModeEnabled()))}},56886:(e,t)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},21878:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},31427:(e,t,n)=>{const r=n(56886),i=n(97518),o=n(49953),a=n(30208),s=n(21878),l=r.getBCHDigit(7973);function c(e,t){return a.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach((function(e){const r=c(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);const o=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===a.MIXED)return o;const l=o-c(n,e);switch(n){case a.NUMERIC:return Math.floor(l/10*3);case a.ALPHANUMERIC:return Math.floor(l/11*2);case a.KANJI:return Math.floor(l/13);case a.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let r;const i=o.from(n,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,a.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},47899:(e,t,n)=>{const r=n(92726);t.render=function(e,t,n){let i=n,o=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const a=r.getImageWidth(e.modules.size,i),s=o.getContext("2d"),l=s.createImageData(a,a);return r.qrToImageData(l.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,o,a),s.putImageData(l,0,0),o},t.renderToDataURL=function(e,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const o=t.render(e,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}},56756:(e,t,n)=>{const r=n(92726);function i(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){const a=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*a.margin,u=a.color.light.a?"<path "+i(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+i(a.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,a=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||a||(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(r+=a?o("M",c+n,.5+u+n):o("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(r+=o("h",s),s=0)):i++}return r}(l,s,a.margin)+'"/>',p='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+p+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,f),f}},92726:(e,t)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,o=n.modules.data,a=t.getScale(i,r),s=Math.floor((i+2*r.margin)*a),l=r.margin*a,c=[r.color.light,r.color.dark];for(let t=0;t<s;t++)for(let n=0;n<s;n++){let u=4*(t*s+n),d=r.color.light;t>=l&&n>=l&&t<s-l&&n<s-l&&(d=c[o[Math.floor((t-l)/a)*i+Math.floor((n-l)/a)]?1:0]),e[u++]=d.r,e[u++]=d.g,e[u++]=d.b,e[u]=d.a}}},74765:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},55373:(e,t,n)=>{"use strict";var r=n(98636),i=n(62642),o=n(74765);e.exports={formats:o,parse:i,stringify:r}},62642:(e,t,n)=>{"use strict";var r=n(37720),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t,n){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c=function(e,t,n,o){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(a),u=c?a.slice(0,c.index):a,d=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var p=0;n.depth>0&&null!==(c=s.exec(a))&&p<n.depth;){if(p+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}if(c){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+a.slice(c.index)+"]")}return function(e,t,n,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var s=i?t:l(t,n,o),c=e.length-1;c>=0;--c){var u,d=e[c];if("[]"===d&&n.parseArrays)u=n.allowEmptyArrays&&(""===s||n.strictNullHandling&&null===s)?[]:r.combine([],s);else{u=n.plainObjects?{__proto__:null}:{};var p="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,f=n.decodeDotInKeys?p.replace(/%2E/g,"."):p,h=parseInt(f,10);n.parseArrays||""!==f?!isNaN(h)&&d!==f&&String(h)===f&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(u=[])[h]=s:"__proto__"!==f&&(u[f]=s):u={0:s}}s=u}return s}(d,t,n,o)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,n=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null==e)return n.plainObjects?{__proto__:null}:{};for(var u="string"==typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,t.throwOnLimitExceeded?u+1:u);if(t.throwOnLimitExceeded&&d.length>u)throw new RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var p,f=-1,h=t.charset;if(t.charsetSentinel)for(p=0;p<d.length;++p)0===d[p].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[p]?h="utf-8":"utf8=%26%2310003%3B"===d[p]&&(h="iso-8859-1"),f=p,p=d.length);for(p=0;p<d.length;++p)if(p!==f){var m,g,v=d[p],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,a.decoder,h,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),a.decoder,h,"key"),g=r.maybeMap(l(v.slice(b+1),t,o(n[m])?n[m].length:0),(function(e){return t.decoder(e,a.decoder,h,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===h&&(g=s(String(g))),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g);var w=i.call(n,m);w&&"combine"===t.duplicates?n[m]=r.combine(n[m],g):w&&"last"!==t.duplicates||(n[m]=g)}return n}(e,n):e,d=n.plainObjects?{__proto__:null}:{},p=Object.keys(u),f=0;f<p.length;++f){var h=p[f],m=c(h,u[h],n,"string"==typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},98636:(e,t,n)=>{"use strict";var r=n(920),i=n(37720),o=n(74765),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h={},m=function e(t,n,o,a,s,c,d,p,m,g,v,y,b,w,x,E,_,k){for(var S,C=t,A=k,T=0,P=!1;void 0!==(A=A.get(h))&&!P;){var O=A.get(t);if(T+=1,void 0!==O){if(O===T)throw new RangeError("Cyclic object value");P=!0}void 0===A.get(h)&&(T=0)}if("function"==typeof g?C=g(n,C):C instanceof Date?C=b(C):"comma"===o&&l(C)&&(C=i.maybeMap(C,(function(e){return e instanceof Date?b(e):e}))),null===C){if(c)return m&&!E?m(n,f.encoder,_,"key",w):n;C=""}if("string"==typeof(S=C)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||i.isBuffer(C))return m?[x(E?n:m(n,f.encoder,_,"key",w))+"="+x(m(C,f.encoder,_,"value",w))]:[x(n)+"="+x(String(C))];var I,N=[];if(void 0===C)return N;if("comma"===o&&l(C))E&&m&&(C=i.maybeMap(C,m)),I=[{value:C.length>0?C.join(",")||null:void 0}];else if(l(g))I=g;else{var F=Object.keys(C);I=v?F.sort(v):F}var L=p?String(n).replace(/\./g,"%2E"):String(n),R=a&&l(C)&&1===C.length?L+"[]":L;if(s&&l(C)&&0===C.length)return R+"[]";for(var j=0;j<I.length;++j){var M=I[j],D="object"==typeof M&&M&&void 0!==M.value?M.value:C[M];if(!d||null!==D){var U=y&&p?String(M).replace(/\./g,"%2E"):String(M),B=l(C)?"function"==typeof o?o(R,U):R:R+(y?"."+U:"["+U+"]");k.set(t,T);var H=r();H.set(h,k),u(N,e(D,B,o,a,s,c,d,p,"comma"===o&&E&&l(C)?null:m,g,v,y,b,w,x,E,_,H))}}return N};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],c=f.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var d=[];if("object"!=typeof i||null===i)return"";var p=s[c.arrayFormat],h="comma"===p&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var g=r(),v=0;v<n.length;++v){var y=n[v],b=i[y];c.skipNulls&&null===b||u(d,m(b,y,p,h,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var w=d.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),w.length>0?x+w:""}},37720:(e,t,n)=>{"use strict";var r=n(74765),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},l=1024;e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;u+=l){for(var d=s.length>=l?s.slice(u,u+l):s,p=[],f=0;f<d.length;++f){var h=d.charCodeAt(f);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===r.RFC1738&&(40===h||41===h)?p[p.length]=d.charAt(f):h<128?p[p.length]=a[h]:h<2048?p[p.length]=a[192|h>>6]+a[128|63&h]:h<55296||h>=57344?p[p.length]=a[224|h>>12]+a[128|h>>6&63]+a[128|63&h]:(f+=1,h=65536+((1023&h)<<10|1023&d.charCodeAt(f)),p[p.length]=a[240|h>>18]+a[128|h>>12&63]+a[128|h>>6&63]+a[128|63&h])}c+=p.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n&&"function"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},79596:(e,t,n)=>{let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},68921:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(64467),i=n(51059),o=n(8936),a=n(39403);class s extends o.A{static getId(e){if(e){if("string"!=typeof e)throw new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){let t=e.split("#");return t[t.length-1]}return e}return"n"+s.nextId++}constructor(e){super(s.getId(e)),(0,r.A)(this,"termType",a.$Q),(0,r.A)(this,"classOrder",i.A.BlankNode),(0,r.A)(this,"isBlank",1),(0,r.A)(this,"isVar",1)}get id(){return this.value}set id(e){this.value=e}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}copy(e){var t=new s;return e.copyTo(this,t),t}toCanonical(){return s.NTAnonymousNodePrefix+this.value}toString(){return s.NTAnonymousNodePrefix+this.id}}(0,r.A)(s,"nextId",0),(0,r.A)(s,"NTAnonymousNodePrefix","_:")},51059:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},43476:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,Y:()=>u});var r=n(64467),i=n(68921),o=n(51059),a=n(88616),s=n(8936),l=n(39403),c=n(92915);function u(e){return null==e||(0,c.D0)(e)?e:Array.isArray(e)?new d(e):a.A.fromValue(e)}class d extends s.A{constructor(e){super((i.A.nextId++).toString()),(0,r.A)(this,"termType",l.r0),(0,r.A)(this,"classOrder",o.A.Collection),(0,r.A)(this,"closed",!1),(0,r.A)(this,"compareTerm",i.A.prototype.compareTerm),(0,r.A)(this,"elements",[]),(0,r.A)(this,"isVar",0),e&&e.length>0&&e.forEach((e=>{this.elements.push(u(e))}))}get id(){return this.value}set id(e){this.value=e}append(e){return this.elements.push(e)}close(){return this.closed=!0,this.closed}shift(){return this.elements.shift()}substitute(e){const t=this.elements.map((t=>t.substitute(e)));return new d(t)}toNT(){return d.toNT(this)}static toNT(e){return i.A.NTAnonymousNodePrefix+e.id}toString(){return"("+this.elements.join(" ")+")"}unshift(e){return this.elements.unshift(e)}}(0,r.A)(d,"termType",l.r0)},3078:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,U:()=>l});var r=n(64467),i=n(8936),o=n(39403),a=n(14275);class s extends i.A{constructor(){super(""),(0,r.A)(this,"value",""),(0,r.A)(this,"termType",o.ic),(0,r.A)(this,"uri",a.U)}toCanonical(){return this.value}toString(){return"DefaultGraph"}}function l(e){return!!e&&e.termType===o.ic}},437:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(68921),i=n(88616),o=n(75108),a=n(89755),s=n(46320),l=n(39403),c=n(3078),u=n(47037),d=n(92915);const p=new c.A,f={supports:{[u.X.collections]:!1,[u.X.defaultGraphType]:!1,[u.X.equalsMethod]:!0,[u.X.identity]:!1,[u.X.id]:!0,[u.X.reversibleId]:!1,[u.X.variableType]:!0},blankNode:e=>new r.A(e),defaultGraph:()=>p,equals(e,t){return e===t||!e||!t||((0,d.aF)(e)||(0,d.aF)(t)?!(!(0,d.aF)(e)||!(0,d.aF)(t))&&this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph):!(!(0,d.D0)(e)||!(0,d.D0)(t))&&this.id(e)===this.id(t))},id(e){if(!e)return"undefined";if((0,d.aF)(e))return this.quadToNQ(e);switch(e.termType){case l.ic:return"defaultGraph";case l.P2:return s.A.toString(e);default:const t=this.termToNQ(e);if(t)return t;throw new Error(`Can't id term with type '${e.termType}'`)}},isQuad:e=>e instanceof a.A,literal(e,t){if("string"!=typeof e&&!t)return i.A.fromValue(e);const n="string"==typeof e?e:""+e;return"string"==typeof t?-1===t.indexOf(":")?new i.A(n,t):new i.A(n,null,this.namedNode(t)):new i.A(n,null,t)},namedNode:e=>new o.A(e),quad:(e,t,n,r)=>new a.A(e,t,n,r||p),triple(e,t,n,r){return this.quad(e,t,n,r)},quadToNQ(e){return`${this.termToNQ(e.subject)} ${this.termToNQ(e.predicate)} ${this.termToNQ(e.object)} ${this.termToNQ(e.graph)} .`},termToNQ(e){switch(e.termType){case l.$Q:return"_:"+e.value;case l.ic:return"";case l.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case l.QW:return i.A.toNT(e);case l.bD:case l.Kk:return"<"+e.value+">";case l.r0:return"("+e.elements.map((e=>this.termToNQ(e))).join(" ")+")";default:throw new Error(`Can't serialize nonstandard term type (was '${e.termType}')`)}},toNQ(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:e=>new s.A(e)}},39814:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(43476),i=n(437),o=n(39403),a=n(47037),s=n(92915),l=n(46320);const c={...i.A,supports:{[a.X.collections]:!0,[a.X.defaultGraphType]:!1,[a.X.equalsMethod]:!0,[a.X.identity]:!1,[a.X.id]:!0,[a.X.reversibleId]:!1,[a.X.variableType]:!0},collection:e=>new r.A(e),id(e){return(0,s.P3)(e)?`( ${e.elements.map((e=>this.id(e))).join(", ")} )`:(0,s.DZ)(e)?l.A.toString(e):i.A.id(e)},termToNQ:e=>e.termType===o.r0?r.A.toNT(e):i.A.termToNQ(e)}},47037:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});let r=function(e){return e.collections="COLLECTIONS",e.defaultGraphType="DEFAULT_GRAPH_TYPE",e.equalsMethod="EQUALS_METHOD",e.id="ID",e.identity="IDENTITY",e.reversibleId="REVERSIBLE_ID",e.variableType="VARIABLE_TYPE",e}({})},57293:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(64467),i=n(42855),o=n(4940),a=n(32299),s=n(75108),l=n(33581),c=n(45796),u=n(25936),d=n(75946),p=n(5108),f=n(92915),h=n(54011),m=n(60480),g=n(74945),v=n.n(g),y=n(39403),b=n(2931),w=n(83093);const x={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},E={rdf:y.JG,owl:y.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},_=e=>({link:(0,l.A)("http://www.w3.org/2007/ont/link#",e),http:(0,l.A)("http://www.w3.org/2007/ont/http#",e),httph:(0,l.A)("http://www.w3.org/2007/ont/httph#",e),rdf:(0,l.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:(0,l.A)("http://www.w3.org/2000/01/rdf-schema#",e),dc:(0,l.A)("http://purl.org/dc/elements/1.1/",e),ldp:(0,l.A)("http://www.w3.org/ns/ldp#",e)}),k=_();class S{constructor(e,t){(0,r.A)(this,"response",void 0),(0,r.A)(this,"dom",void 0),this.response=e,this.dom=t}}(0,r.A)(S,"pattern",void 0);class C extends S{static toString(){return"RDFXMLHandler"}static register(e){e.mediatypes[y.JG]={q:.9}}parse(e,t,n){let r=e.store;if(this.dom||(this.dom=h.parseXML(t)),"parsererror"===this.dom.documentElement.nodeName)return e.failFetch(n,"Badly formed XML in "+n.resource.value,"parse_error");let i=new d.A(r);try{i.parse(this.dom,n.original.value,n.original)}catch(t){return e.failFetch(n,"Syntax error parsing RDF/XML! "+t,"parse_error")}return n.noMeta||r.add(n.original,k.rdf("type"),k.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}C.pattern=new RegExp("application/rdf\\+xml");class A extends S{static toString(){return"XHTMLHandler"}static register(e){e.mediatypes[y.H]={}}parse(e,t,n){let r,i;this.dom||(this.dom=h.parseXML(t));let o=e.store,a=this.dom.getElementsByTagName("title");a.length>0&&o.add(n.resource,k.dc("title"),o.rdfFactory.literal(a[0].textContent),n.resource);let s=this.dom.getElementsByTagName("link");for(let t=s.length-1;t>=0;t--)r=s[t].getAttribute("rel"),i=!1,r||(r=s[t].getAttribute("rev"),i=!0),r&&e.linkData(n.original,r,s[t].getAttribute("href"),n.resource,i);let l=this.dom.getElementsByTagName("script");for(let e=0;e<l.length;e++){let t=l[e].getAttribute("type");x[t]&&((0,c.A)(l[e].textContent,o,n.original.value,t),(0,c.A)(l[e].textContent,o,n.original.value,t))}if(n.noMeta||o.add(n.resource,k.rdf("type"),k.link("WebPage"),e.appNode),!n.noRDFa&&u.B)try{(0,u.B)(this.dom,o,n.original.value)}catch(t){let r="Error trying to parse "+n.resource+" as RDFa:\n"+t+":\n"+t.stack;return e.failFetch(n,r,"parse_error")}return e.doneFetch(n,this.response)}}A.pattern=new RegExp("application/xhtml");class T extends S{static toString(){return"XMLHandler"}static register(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}static isElement(e){return e.nodeType===Node.ELEMENT_NODE}parse(e,t,n){let r=h.parseXML(t);for(let i=0;i<r.childNodes.length;i++){const o=r.childNodes[i];if(T.isElement(o)){let i=o.namespaceURI;if(i&&i===i.rdf)return e.addStatus(n.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new C(this.response,r).parse(e,t,n);break}}if(r.doctype&&"html"===r.doctype.name&&r.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&r.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new A(this.response,r).parse(e,t,n);let i=r.getElementsByTagName("html")[0];if(i){let o=i.getAttribute("xmlns");if(o&&o.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return e.addStatus(n.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new A(this.response,r).parse(e,t,n)}return e.failFetch(n,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80),901)}}T.pattern=new RegExp("(text|application)/(.*)xml");class P extends S{static toString(){return"HTMLHandler"}static register(e){e.mediatypes["text/html"]={q:.9}}parse(e,t,n){let r=e.store;if(L(t))return e.addStatus(n.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new A(this.response).parse(e,t,n);if(function(e){const t=e.indexOf("<!DOCTYPE html"),n=e.indexOf(">");return!(-1===t||-1===n||t>n)&&-1!==e.substr(t,n-t).indexOf("XHTML")}(t))return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new A(this.response).parse(e,t,n);if(function(e){return!!e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}(t))return e.addStatus(n.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new A(this.response).parse(e,t,n);let i=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return i&&r.add(n.resource,k.dc("title"),r.rdfFactory.literal(i[1]),n.resource),r.add(n.resource,k.rdf("type"),k.link("WebPage"),e.appNode),e.addStatus(n.req,"non-XML HTML document, not parsed for data."),e.doneFetch(n,this.response)}}P.pattern=new RegExp("text/html");class O extends S{static toString(){return"JsonLdHandler"}static register(e){e.mediatypes["application/ld+json"]={q:.9}}parse(e,t,n,r){const i=e.store;return new Promise(((o,a)=>{try{(0,w.A)(t,i,n.original.value,(()=>{o(e.doneFetch(n,r))}))}catch(t){const i="Error trying to parse "+n.resource+" as JSON-LD:\n"+t;o(e.failFetch(n,i,"parse_error",r))}}))}}O.pattern=/application\/ld\+json/;class I extends S{static toString(){return"TextHandler"}static register(e){e.mediatypes["text/plain"]={q:.5}}parse(e,t,n){return L(t)?(e.addStatus(n.req,"Warning: "+n.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new T(this.response).parse(e,t,n)):t.slice(0,500).match(/xmlns:/)?(e.addStatus(n.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new T(this.response).parse(e,t,n)):(e.addStatus(n.req,"Plain text document, no known RDF semantics."),e.doneFetch(n,this.response))}}I.pattern=new RegExp("text/plain");class N extends S{static toString(){return"N3Handler"}static register(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}parse(e,t,n,r){let i=e.store,o=(0,a.A)(i,i,n.original.value,n.original.value,null,null,"",null);try{o.loadBuf(t)}catch(t){let i="Error trying to parse "+n.resource+" as Notation3:\n"+t;return e.failFetch(n,i,"parse_error",r)}return e.addStatus(n.req,"N3 parsed: "+o.statementCount+" triples in "+o.lines+" lines."),e.store.add(n.original,k.rdf("type"),k.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}N.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");const F={RDFXMLHandler:C,XHTMLHandler:A,XMLHandler:T,HTMLHandler:P,TextHandler:I,N3Handler:N,JsonLdHandler:O};function L(e){return!!e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}class R{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,r.A)(this,"store",void 0),(0,r.A)(this,"timeout",void 0),(0,r.A)(this,"_fetch",void 0),(0,r.A)(this,"mediatypes",void 0),(0,r.A)(this,"appNode",void 0),(0,r.A)(this,"requested",void 0),(0,r.A)(this,"timeouts",void 0),(0,r.A)(this,"redirectedTo",void 0),(0,r.A)(this,"fetchQueue",void 0),(0,r.A)(this,"fetchCallbacks",void 0),(0,r.A)(this,"nonexistent",void 0),(0,r.A)(this,"lookedUp",void 0),(0,r.A)(this,"handlers",void 0),(0,r.A)(this,"ns",void 0),(0,r.A)(this,"fireCallbacks",void 0),this.store=e||new i.A,this.ns=_(this.store.rdfFactory),this.timeout=t.timeout||3e4,this._fetch=t.fetch||void 0!==n.g&&(n.g.solidFetcher||n.g.solidFetch)||"undefined"!=typeof window&&(window.solidFetcher||window.solidFetch)||v(),!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},h.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(t.handlers||F).map((e=>this.addHandler(F[e])))}static crossSiteProxy(e){return R.crossSiteProxyTemplate?R.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):void 0}static offlineOverride(e){let t=e;var n;return"undefined"!=typeof window&&window.panes&&(n=window.panes.UI)&&n.preferences&&n.preferences.get("offlineModeUsingLocalhost")&&"http://"===t.slice(0,7)&&"localhost/"!==t.slice(7,17)&&(t="http://localhost/"+t.slice(7),o.A.warn("Localhost kludge for offline use: actually getting <"+t+">")),t}static proxyIfNecessary(e){var t;if("undefined"!=typeof window&&window.panes&&(t=window.panes.UI)&&t.isExtension)return e;if("undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){let t=e.split("/").slice(2);const n=(e,t)=>{let r=t[e.shift()];return r?"string"==typeof r?r+e.join("/"):e?n(e,r):null:null},r=n(t,$SolidTestEnvironment.localSiteMap);if(r)return r}return R.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?R.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}static unsupportedProtocol(e){let t=p.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}static setCredentials(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Object.assign({},t),e instanceof Array)return Promise.all(e.map((e=>this.load(e,Object.assign({},t)))));const n=e;let r=(0,b.E)(n);r=r.split("#")[0],t=this.initFetchOptions(r,t);const i=this.appNode,o=this.store,a=o.statementsMatching(void 0,this.ns.link("requestedURI"),o.sym(r),i).map((e=>e.subject));for(const e of a){const n=o.any(e,this.ns.link("response"),null,i);if(null!=n){const e=o.statementsMatching(n,this.ns.link("outOfDate"),!0,i);o.remove(e),t.force=!0,t.clearPreviousData=!0}}const s=this.initFetchOptions(r,t);return this.pendingFetchPromise(r,s.baseURI,s)}async pendingFetchPromise(e,t,n){let r;return!n.force&&await this.fetchQueue[t]?r=this.fetchQueue[t]:(r=Promise.race([this.setRequestTimeout(e,n),this.fetchUri(e,n)]),this.fetchQueue[t]=r,this.cleanupFetchRequest(t,void 0,this.timeout)),r.then((t=>(e in this.timeouts&&(this.timeouts[e].forEach(clearTimeout),delete this.timeouts[e]),t)))}cleanupFetchRequest(e,t,n){void 0!==t&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout((()=>{this.isPending(e)||delete this.fetchQueue[e]}),n))}initFetchOptions(e,t){let n=this.store;!t.method||"GET"===t.method.toUpperCase()||(t.force=!0),t.resource=n.rdfFactory.namedNode(e),t.baseURI=t.baseURI||e,t.original=n.rdfFactory.namedNode(t.baseURI),t.req=n.bnode(),t.headers=t.headers||new g.Headers,t.contentType&&(t.headers["content-type"]=t.contentType),t.force&&(t.cache="no-cache");let r=this.acceptString();t.headers.accept=r;let i=R.offlineOverride(e);t.requestedURI=i,R.setCredentials(i,t);let o=R.proxyIfNecessary(i);return i!==o&&(t.proxyUsed=!0),t.actualProxyURI=o,t}fetchUri(e,t){if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(R.unsupportedProtocol(e))return this.failFetch(t,"fetcher: Unsupported protocol","unsupported_protocol");let n=this.getState(e);if(t.force)delete this.nonexistent[e];else{if("fetched"===n)return Promise.resolve(this.doneFetch(t,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===n&&404===this.requested[e]){let n="Previously failed: "+this.requested[e],r={url:e,status:this.requested[e],statusText:n,responseText:n,headers:new g.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(t,n,this.requested[e],r)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,t.noMeta||this.saveRequestMetadata(e,t);let{actualProxyURI:r}=t;return this._fetch(r,t).then((n=>this.handleResponse(n,e,t)),(n=>{let i={url:r,status:999,statusText:(n.name||"network failure")+": "+(n.errno||n.code||n.type),responseText:n.message,headers:new g.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.handleError(i,e,t)}))}nowOrWhenFetched(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=(0,b.E)(e);"function"==typeof t?n=t:void 0===t||((0,f.Y2)(t)?r.referringTerm=t:r=t),this.load(i,r).then((e=>{if(n)if(e)if(e.ok)n(!0,"OK",e);else{let t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),n(!1,t,e)}else n(!1,"@@ nowOrWhenFetched:  no response object!")}),(function(e){var t=e.message||e.statusText;t="Failed to load  <"+i+"> "+t,e.response&&e.response.status&&(t+=" status: "+e.response.status),n(!1,t,e.response)}))}addStatus(e,t){let n=new Date;t="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+t;let r=this.store;const i=r.the(e,this.ns.link("status"));(0,f.P3)(i)?i.append(r.rdfFactory.literal(t)):o.A.warn("web.js: No list to add to: "+i+","+t)}failFetch(e,t,n,r){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));let i=(e.method||"GET").toUpperCase();("GET"===i||"HEAD"===i)&&(e.resource.equals(e.original),this.requested[p.docpart(e.original.value)]=n,this.fireCallbacks("fail",[e.original.value,t]));var o=new Error("Fetcher: "+t);return o.status=n,o.statusText=t,o.response=r,Promise.reject(o)}linkData(e,t,n,r,i){if(!n)return;let o,a=this.store,s=a.rdfFactory.namedNode(p.join(n,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(s.value===e.value)return;o=this.ns.rdfs("seeAlso")}else o="type"===t?a.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):a.rdfFactory.namedNode(p.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));i?a.add(s,o,e,r):a.add(e,o,s,r)}parseLinkHeader(e,t,n){if(!e)return;const r=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,i=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=i)for(let e=0;e<i.length;e++){let o=i[e].split(">"),a=o[0].substring(1),s=o[1].match(r);if(null==s)return;for(let e=0;e<s.length;e++){let r=s[e].split("=")[1].replace(/["']/g,"");this.linkData(t,r,a,n)}}}doneFetch(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}nowKnownAs(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}putBack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,b.E)(e);let r=new s.A(n).doc();return t.contentType=t["content-type"]||t["Content-Type"]||t.contentType||y.sT,"application/ld+json"===t.contentType?new Promise(((n,i)=>{(0,m.A)(r,this.store,r.uri,t.contentType,((r,o)=>{r?i(r):(t.data=o,this.webOperation("PUT",e,t).then((e=>n(e))).catch((e=>i(e))))}))})):(t.data=(0,m.A)(r,this.store,r.value,t.contentType),this.webOperation("PUT",n,t))}webCopy(e,t,n){return this.webOperation("GET",e).then((e=>this.webOperation("PUT",t,{data:e.responseText,contentType:n})))}delete(e,t){return this.webOperation("DELETE",e,t).then((t=>(this.requested[e]=404,this.nonexistent[e]=!0,this.unload(this.store.rdfFactory.namedNode(e)),t)))}async createIfNotExists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.sT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=this;try{var i=await r.load(e)}catch(o){if(404===o.response.status){try{i=await r.webOperation("PUT",e.value,{data:n,contentType:t})}catch(e){throw e}return delete r.requested[e.value],i}throw o}return i}createContainer(e,t,n){let r={"content-type":y.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(r.slug=t);let i={headers:r};return n&&(i.body=n),this.webOperation("POST",e,i)}invalidateCache(e){const t=(0,b.E)(e),n=this;if(n.fetchQueue&&n.fetchQueue[t]&&(n.fetchQueue[t].PromiseStatus,delete n.fetchQueue[t]),n.requested[t]&&"done"!==n.requested[t]&&"failed"!==n.requested[t]&&404!==n.requested[t]){let e=`Rdflib: fetcher: Destructive operation on <${n.requested[t]}> file being fetched! `+t;console.error(e)}else delete n.requested[t],delete n.nonexistent[t]}webOperation(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,b.E)(t);n.method=e,n.body=n.data||n.body,n.force=!0;const i=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),R.setCredentials(r,n),new Promise((function(t,o){i._fetch(r,n).then((n=>{if(n.ok)"PUT"!==e&&"PATCH"!==e&&"POST"!==e&&"DELETE"!==e||i.invalidateCache(r),n.text?n.text().then((e=>{n.responseText=e,t(n)})):t(n);else{let t="Web error: "+n.status;n.statusText&&(t+=" ("+n.statusText+")"),t+=" on "+e+" of <"+r+">",n.responseText&&(t+=": "+n.responseText);let i=new Error(t);i.response=n,o(i)}}),(t=>{o(new Error("Fetch error for "+e+" of <"+r+">:"+t))}))}))}lookUpThing(e,t){let n=this.store.uris(e);return n=n.map((e=>p.docpart(e))),n.forEach((e=>{this.lookedUp[e]=!0})),this.load(n,{referringTerm:t})}getHeader(e,t){const n=this.store,r=e.value,i=n.each(void 0,this.ns.link("requestedURI"),n.rdfFactory.literal(r));for(let e=0;e<i.length;e++){let r=i[e];if(void 0!==r){let e=n.any(r,this.ns.link("response"));if(void 0!==e&&n.anyValue(e,this.ns.http("status"))&&n.anyValue(e,this.ns.http("status")).startsWith("2")){let r=n.each(e,this.ns.httph(t.toLowerCase()));return r.length?r.map((e=>e.value)):[]}}}}saveRequestMetadata(e,t){let n=t.req,r=this.store,i=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),(0,f.Y2)(i)&&r.add(r.rdfFactory.namedNode(e),this.ns.link("requestedBy"),i,this.appNode),t.original&&t.original.value!==e&&r.add(n,this.ns.link("orginalURI"),r.rdfFactory.literal(t.original.value),this.appNode);const o=new Date,a="["+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"] ";r.add(n,this.ns.rdfs("label"),r.rdfFactory.literal(a+" Request for "+e),this.appNode),r.add(n,this.ns.link("requestedURI"),r.rdfFactory.literal(e),this.appNode),r.add(n,this.ns.link("status"),r.collection(),this.appNode)}saveResponseMetadata(e,t){const n=this.store;let r=n.bnode();return n.add(t.req,this.ns.link("response"),r,this.appNode),n.add(r,this.ns.http("status"),n.rdfFactory.literal(e.status),this.appNode),n.add(r,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach(((e,i)=>{n.add(r,this.ns.httph(i),this.store.rdfFactory.literal(e),this.appNode),"content-type"===i&&n.add(t.resource,this.ns.rdf("type"),n.rdfFactory.namedNode(h.mediaTypeClass(e).value),this.appNode)})),r}objectRefresh(e){let t=this.store.uris(e);if(void 0!==t)for(let e=0;e<t.length;e++)this.refresh(this.store.rdfFactory.namedNode(p.docpart(t[e])))}refresh(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}refreshIfExpired(e,t){let n=this.getHeader(e,"Expires");!n||new Date(n[0]).getTime()<=(new Date).getTime()?this.refresh(e,t):t(!0,"Not expired",{})}retract(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[p.docpart(e.value)],this.fireCallbacks("retract",arguments)}getState(e){return void 0===this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}isPending(e){return!0===this.requested[e]}unload(e){this.store.removeDocument(e),delete this.requested[e.value]}addHandler(e){this.handlers.push(e),e.register(this)}retryNoCredentials(e,t){t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];let n=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,n)}isCrossSite(e){if("undefined"==typeof document||!document.location)return!1;const t=p.hostpart,n=""+document.location;return(t(n)&&t(e)&&t(n))!==t(e)}handleError(e,t,n){if(this.isCrossSite(t)){if(n.credentials&&"include"===n.credentials&&!n.retriedWithNoCredentials)return this.retryNoCredentials(t,n);let e=R.crossSiteProxy(t);if(e&&!n.proxyUsed)return this.redirectToProxy(e,n)}var r;return e instanceof Error?r="Fetch error: "+e.message:(r=e.statusText,e.responseText&&(r+=` ${e.responseText}`)),this.failFetch(n,r,e.status||998,e)}addType(e,t,n,r){let i=t;if(r){var o=n.any(i,this.ns.link("requestedURI"));o&&o.value!==r&&n.add(n.rdfFactory.namedNode(r),this.ns.rdf("type"),e,this.appNode)}for(;;){const t=n.any(i,this.ns.link("requestedURI"));if(t&&t.value&&n.add(n.rdfFactory.namedNode(t.value),this.ns.rdf("type"),e,this.appNode),i=n.any(void 0,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),i),!i)break;var a=n.any(i,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!a)break;var s=n.any(a,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!s)break;if("301"!==s&&"302"!==s)break}}handleResponse(e,t,n){const r=this.store,i=e.headers,o=n.req,a=this.saveResponseMetadata(e,n),s=this.normalizedContentType(n,i)||"";let l=i.get("content-location");if(0===e.status)return this.handleError(e,t,n);if(e.status>=400)return 404===e.status&&(this.nonexistent[n.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,a).then((()=>{let t=n.resource+" "+e.statusText;return this.failFetch(n,t,e.status,e)}));var c=null,u=null;if(l&&(u=p.join(l,t))!==t&&(c=u),200===e.status){if(this.addType(this.ns.link("Document"),o,r,t),c&&this.addType(this.ns.link("Document"),o,r,c),n.clearPreviousData){const e=r.statementsMatching(void 0,void 0,void 0,n.resource).slice();for(let t=0;t<e.length;t++)r.removeStatement(e[t])}let e=s.includes("image/")||s.includes("application/pdf");s&&e&&(this.addType(r.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,r,t),c&&this.addType(r.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,r,c))}if(l){if(!n.force&&c&&"done"===this.requested[u])return this.doneFetch(n,e);this.requested[u]=!0}this.parseLinkHeader(i.get("link"),n.original,o);let d=this.handlerForContentType(s,e);return d?e.text().then((t=>(e.responseText=t,d.parse(this,t,n,e)))):(this.addStatus(o,"Fetch over. No data handled."),this.doneFetch(n,e))}saveErrorResponse(e,t){let n=this.store;return e.text().then((e=>{e.length>10&&n.add(t,this.ns.http("content"),n.rdfFactory.literal(e),t)}))}handlerForContentType(e,t){if(!e)return null;let n=this.handlers.find((t=>e.match(t.pattern)));return n?new n(t):null}guessContentType(e){return E[e.split(".").pop()]}normalizedContentType(e,t){if(e.forceContentType)return e.forceContentType;let n=t.get("content-type");if(!n||n.includes("application/octet-stream")){let t=this.guessContentType(e.resource.value);if(t)return t}let r=p.protocol(e.resource.value);return!n&&["file","chrome"].includes(r)?"text/xml":n}redirectToProxy(e,t){this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;const n=this.store,r=t.req;t.noMeta||(n.add(r,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),r),this.addStatus(r,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;let i=Object.assign({},t);return i.baseURI=t.resource.value,this.fetchUri(e,i).then((e=>(i.noMeta||n.add(r,this.ns.link("redirectedRequest"),i.req,this.appNode),e)))}setRequestTimeout(e,t){return new Promise((n=>{this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout((()=>{!this.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||n(this.failFetch(t,`Request to ${e} timed out`,"timeout"))}),this.timeout))}))}addFetchCallback(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}acceptString(){let e="";for(let t in this.mediatypes){""!==e&&(e+=", "),e+=t;for(let n in this.mediatypes[t])e+=";"+n+"="+this.mediatypes[t][n]}return e}}(0,r.A)(R,"HANDLERS",void 0),(0,r.A)(R,"CONTENT_TYPE_BY_EXT",void 0),(0,r.A)(R,"crossSiteProxyTemplate",void 0),R.HANDLERS=F,R.CONTENT_TYPE_BY_EXT=E},15532:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(64467),i=n(51059),o=n(43476),a=n(437),s=n(4940),l=n(33581),c=n(8936),u=n(60480),d=n(39403),p=n(92915),f=n(46320),h=n(77335),m=n(75108);class g extends c.A{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};super(""),e=this,this.statements=t,this.constraints=n,this.initBindings=o,this.optional=s,(0,r.A)(this,"termType",d.bD),(0,r.A)(this,"classOrder",i.A.Graph),(0,r.A)(this,"fetcher",void 0),(0,r.A)(this,"isVar",0),(0,r.A)(this,"ns",l.A),(0,r.A)(this,"rdfFactory",void 0),this.rdfFactory=c&&c.rdfFactory||a.A;for(const t of h.Eu)this[t]=function(){return e.rdfFactory[t](...arguments)}}add(e,t,n,r){return 1===arguments.length&&e.forEach((e=>this.add(e.subject,e.predicate,e.object,e.graph))),this.statements.push(this.rdfFactory.quad(e,t,n,r))}addStatement(e){return this.add(e)}bnode(e){return this.rdfFactory.blankNode(e)}addAll(e){e.forEach((e=>{this.add(e.subject,e.predicate,e.object,e.graph)}))}any(e,t,n,r){const i=this.anyStatementMatching(e,t,n,r);return null==i?null:null==e?i.subject:null==t?i.predicate:null==n?i.object:null}anyValue(e,t,n,r){const i=this.any(e,t,n,r);return i?i.value:void 0}anyJS(e,t,n,r){const i=this.any(e,t,n,r);return i?c.A.toJS(i):void 0}anyStatementMatching(e,t,n,r){let i=this.statementsMatching(e,t,n,r,!0);if(i&&0!==i.length)return i[0]}id(e){return this.rdfFactory.id(e)}statementsMatching(e,t,n,r,i){const o=this.statements.filter((i=>(!e||e.equals(i.subject))&&(!t||t.equals(i.predicate))&&(!n||n.equals(i.object))&&(!r||r.equals(i.graph))));return i?0===o.length?[]:[o[0]]:o}bottomTypeURIs(e){let t,n,r,i,o,a,s,l;t=[];for(let c in e)if(e.hasOwnProperty(c)){for(l=e[c],s=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(c)),n=!0,i=0,o=s.length;i<o;i++)if(r=s[i],a=r.uri,a in e){n=!1;break}n&&(t[c]=l)}return t}collection(){return new o.A}each(e,t,n,r){const i=[];let o=this.statementsMatching(e,t,n,r,!1);if(null==e)for(let e=0,t=o.length;e<t;e++)i.push(o[e].subject);else if(null==t)for(let e=0,t=o.length;e<t;e++)i.push(o[e].predicate);else if(null==n)for(let e=0,t=o.length;e<t;e++)i.push(o[e].object);else if(null==r)for(let e=0,t=o.length;e<t;e++)i.push(new m.A(o[e].graph.value));return i}equals(e){return!!e&&this.hashString()===e.hashString()}findMembersNT(e){let t,n,r,i,o,a,s,l,c,u,d,p,f,h;p={},p[e.toNT()]=!0,i={},a=this.transitiveClosure(p,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(let e in a)if(a.hasOwnProperty(e)){s=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(e));for(let e=0,t=s.length;e<t;e++)f=s[e],i[f.subject.toNT()]=f;l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(e));for(let e=0,n=l.length;e<n;e++)for(o=l[e],c=this.statementsMatching(void 0,o),r=0,t=c.length;r<t;r++)f=c[r],i[f.subject.toNT()]=f;u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(e));for(let e=0,t=u.length;e<t;e++)for(o=u[e],d=this.statementsMatching(void 0,o),h=0,n=d.length;h<n;h++)f=d[h],i[f.object.toNT()]=f}return i}findMemberURIs(e){return this.NTtoURI(this.findMembersNT(e))}findSubClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}findSuperClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypesNT(e){let t,n,r,i,o,a,s,l,c;r="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c=[],i=this.statementsMatching(e,void 0,void 0);for(let e=0,t=i.length;e<t;e++)if(l=i[e],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===l.predicate.uri)c[l.object.toNT()]=l;else{o=this.each(l.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(let e=0,t=o.length;e<t;e++)n=o[e],c[n.toNT()]=l}a=this.statementsMatching(void 0,void 0,e);for(let e=0,n=a.length;e<n;e++){l=a[e],s=this.each(l.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(let e=0,n=s.length;e<n;e++)t=s[e],c[t.toNT()]=l}return this.transitiveClosure(c,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypeURIs(e){return this.NTtoURI(this.findTypesNT(e))}connectedStatements(e,t,n){n=n||[];let r=[e],i={},o={},a=[],s=this,l=function(e){let l=function(e){"BlankNode"!==e.termType||i[e.value]||(i[e.value]=!0,r.push(e))},c=s.statementsMatching(null,null,e,t).concat(s.statementsMatching(e,null,null,t));c=c.filter((function(e){if(n[e.predicate.value])return!1;let t=e.toNT();return!o[t]&&(o[t]=!0,!0)})),c.forEach((function(e){l(e.subject),l(e.object)})),a=a.concat(c)};for(;r.length;)l(r.shift());return a}formula(e){return new g}fromNT(e){let t,n,r;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(r=void 0,t=void 0,n=e.lastIndexOf('"'),n<e.length-1)if("@"===e[n+1])r=e.slice(n+2);else{if("^^"!==e.slice(n+1,n+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(n+3))}return e=(e=(e=(e=e.slice(1,n)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,r||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new f.A(e.slice(1))}throw new Error("Can't convert from NT: "+e)}holds(e,t,n,r){let i;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(i=0;i<e.length;i++)if(!this.holds(e[i]))return!1;return!0}if((0,p.SH)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}return null!=this.anyStatementMatching(e,t,n,r)}holdsStatement(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}list(e,t){if(t.rdfFactory.supports.COLLECTIONS){const n=t.rdfFactory.collection();return e.forEach((function(e){n.append(e)})),n}{const n=t.rdfFactory.blankNode(),r=(0,h.XV)(t.rdfFactory,n,e);return t.addAll(r),n}}NTtoURI(e){let t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],"<"===t[0]&&(r[t.slice(1,-1)]=n));return r}serialize(e,t,n,r){return(0,u.A)(n,this,e,t,void 0,r)}substitute(e){let t=this.statements.map((function(t){return t.substitute(e)}));const n=new g;return n.addAll(t),n}sym(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}the(e,t,n,r){let i=this.any(e,t,n,r);return null==i&&s.A.error("No value found for the() {"+e+" "+t+" "+n+"}."),i}transitiveClosure(e,t,n){let r,i,o,a,s,l,c={};Object.assign(c,e);let u={};for(;;){if(l=function(){for(let e in c)if(c.hasOwnProperty(e))return e}(),null==l)return u;for(s=n?this.each(void 0,t,this.fromNT(l)):this.each(this.fromNT(l),t),i=0,o=s.length;i<o;i++)r=s[i],a=r.toNT(),a in u||a in c||(c[a]=c[l]);u[l]=c[l],delete c[l]}}topTypeURIs(e){let t,n,r,i,o,a,s,l;for(r in s=[],e)if(e.hasOwnProperty(r)){for(l=e[r],o=0,a=this.each(this.rdfFactory.namedNode(r),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,i=a.length;t<i;t++)if(n=a[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==n.uri){o++;break}o||(s[r]=l)}return s["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete s["http://www.w3.org/2000/01/rdf-schema#Resource"],s["http://www.w3.org/2002/07/owl#Thing"]&&delete s["http://www.w3.org/2002/07/owl#Thing"],s}toString(){return"{"+this.statements.join("\n")+"}"}variable(e){return new f.A(e)}whether(e,t,n,r){return this.statementsMatching(e,t,n,r,!1).length}}},67364:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BlankNode:()=>i.A,Collection:()=>o.A,ConnectedStore:()=>ne,DataFactory:()=>j,Empty:()=>l,Fetcher:()=>c.A,Formula:()=>u.A,IndexedFormula:()=>d.A,Literal:()=>f.A,LiveStore:()=>re,N3Parser:()=>m.A,NamedNode:()=>g.A,Namespace:()=>v.A,NextId:()=>te,Node:()=>y.A,Query:()=>w.X,RDFParser:()=>_.A,RDFaProcessor:()=>E.A,SPARQLToQuery:()=>C,Serializer:()=>S.A,Statement:()=>T.A,Store:()=>d.A,UpdateManager:()=>F,UpdatesSocket:()=>M,UpdatesVia:()=>D,Util:()=>I,Variable:()=>U.A,blankNode:()=>K,defaultGraph:()=>G,fetcher:()=>H,fromNT:()=>Z,graph:()=>q,isBlankNode:()=>O.jt,isCollection:()=>O.P3,isGraph:()=>O.RN,isLiteral:()=>O.c$,isNamedNode:()=>O.Y2,isPredicate:()=>O.YC,isQuad:()=>O.aF,isRDFObject:()=>O.GE,isRDFlibObject:()=>O.DJ,isRDFlibPredicate:()=>O.fY,isRDFlibSubject:()=>O.CZ,isStatement:()=>O.SH,isStore:()=>O.ok,isSubject:()=>O.hr,isTerm:()=>O.D0,isVariable:()=>O.DZ,jsonParser:()=>p,lit:()=>W,literal:()=>J,log:()=>h.A,namedNode:()=>V,parse:()=>b.A,quad:()=>Q,queryToSPARQL:()=>x,serialize:()=>k.A,sparqlUpdateParser:()=>A.A,st:()=>z,sym:()=>V,term:()=>ee,termValue:()=>N.E,triple:()=>Y,uri:()=>P,variable:()=>$});var r=n(64467),i=n(68921),o=n(43476),a=n(8936),s=n(39403);class l extends a.A{constructor(){super(""),(0,r.A)(this,"termType",s.S)}toString(){return"()"}}var c=n(57293),u=n(15532),d=n(42855);const p={parseJSON:function(e,t,n){var r,i,o,a={},s=n.sym(t);for(var l in e){0===l.indexOf("_:")?a[l]?r=a[l]:(r=n.bnode(l),a[l]=r):r=n.sym(l);var c=e[l];for(var u in c){var d=c[u];for(var p in i=n.sym(u),d){var f=d[p];if("uri"===f.type)o=n.sym(f.value),n.add(r,i,o,s);else if("BlankNode"===f.type)a[f.value]?o=a[f.value]:(o=n.bnode(f.value),a[f.value]=o),n.add(r,i,o,s);else{if("Literal"!==f.type)throw new Error("error: unexpected termtype: "+p.type);o=f.datatype?n.literal(f.value,void 0,n.sym(f.datatype)):f.lang?n.literal(f.value,f.lang):n.literal(f.value),n.add(r,i,o,s)}}}}}};var f=n(88616),h=n(4940),m=n(32299),g=n(75108),v=n(33581),y=n(39916),b=n(45796),w=n(76046);function x(e){var t=0;function n(e){var t="",n=e.statements;for(var r in n)h.A.debug("Found statement: "+n),t+=a()+n[r]+"\n";return t}function r(e){var t="";for(var n in e.constraints){var r=e.constraints[n];t+=a()+"FILTER ( "+r.describe(n)+" ) \n"}return t}function i(e){for(var o="",s=0;s<e.optional.length;s++)h.A.debug("Found optional query"),o+=a()+"OPTIONAL { \n",t++,o+=n(e.optional[s]),o+=r(e.optional[s]),o+=i(e.optional[s]),t--,o+=a()+"}\n";return o}function o(e){var o=a()+"WHERE \n{ \n";return t++,o+=n(e),o+=r(e),o+=i(e),t--,o+"}"}function a(){for(var e="",n=0;n<t;n++)e+="    ";return e}return function(e){return function(e){for(var t=a()+"SELECT ",n=0;n<e.vars.length;n++)t+=e.vars[n]+" ";return t+"\n"}(e)+o(e.pat)}(e)}var E=n(25936),_=n(75946),k=n(60480),S=n(10951);function C(e,t,n){var r=[];function i(e){if(r[e])return r[e];var t=n.variable(e);return r[e]=t,t}function o(e){return"string"==typeof e&&e.match(/[^ \n\t]/)}function a(e){return"string"==typeof e&&e.match(/^[\?\$]/)}function s(e){return"string"==typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function l(e){return"string"==typeof e&&e.match(/^<[^>]*>$/)}function c(e){return"string"==typeof e&&(e.match(/^_:/)||e.match(/^$/))}function u(e){return"string"==typeof e&&e.match(/:$/)}function d(e){return"string"==typeof e&&e.match(/^:|^[^_][^:]*:/)}function p(e){return e.split(":")[0]}function f(e){return e.split(":")[1]}function m(e){return l(e)?e.slice(1,e.length-1):e}function g(e){var t=-1===e.indexOf("'")?null:e.indexOf("'"),r=-1===e.indexOf('"')?null:e.indexOf('"');if(!t&&!r){var i=new Array(1);return i[0]=e,i}var o,a,s=new Array(2);if(!t||r&&r<t)o='"',a=r;else{if(r&&!(t&&t<r))return h.A.error("SQARQL QUERY OOPS!"),s;o="'",a=t}s[0]=e.slice(0,a);var l,c=e.slice(a+1).indexOf(o);return-1===c?(h.A.error("SPARQL parsing error: no matching parentheses in literal "+e),e):(e.slice(c+a+2).match(/^\^\^/)?(l=e.slice(c+a+2).indexOf(" "),s[1]=n.literal(e.slice(a+1,a+1+c),n.sym(m(e.slice(a+4+c,a+2+c+l)))),s=s.concat(g(e.slice(c+a+3+l)))):e.slice(c+a+2).match(/^@/)?(l=e.slice(c+a+2).indexOf(" "),s[1]=n.literal(e.slice(a+1,a+1+c),e.slice(a+3+c,a+2+c+l),null),s=s.concat(g(e.slice(c+a+2+l)))):(s[1]=n.literal(e.slice(a+1,a+1+c)),h.A.info("Literal found: "+s[1]),s=s.concat(g(e.slice(c+a+2)))),s)}function v(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),h.A.info("New str into spaceDelimit: \n"+e);var t=[],n=e.split(" ");for(var r in n)o(n[r])&&(t=t.concat(n[r]));return t}function y(e,t){for(var n=0;n<t.length;n++)if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase())return n;return null}function b(e,t){for(var n=[],r=0;r<t.length;r++)"string"==typeof t[r]&&t[r].toLowerCase()===e.toLowerCase()&&n.push(r);return n}function x(e,t,n){h.A.info("Looking for a close bracket of type "+n+" in "+e);for(var r=0,i=0;i<e.length;i++)if(e[i]===t&&r++,e[i]===n&&r--,r<0)return i;return h.A.error("Statement had no close parenthesis in SPARQL query"),0}function E(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.equals(t)},this}function _(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var n=new RegExp(e);return!!t.value&&n.test(t.value)}}function k(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"==typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(h.A.debug("Constraint added: "+e),t.constraints[e[4]]=new _(e[2].value)):"="===e[1]||">"===e[1]||"<"===e[1]?(h.A.debug("Constraint added: "+e),t.constraints[e[0]]=new E(e[2])):h.A.warn("I don't know how to handle the constraint: "+e)}function S(e,t){h.A.debug("Optional query: "+e+" not yet implemented.");var r=n.formula();C(e,r),t.optional.push(r)}function C(e,t){var r,o,u=function(e){for(var t=[],r=0;r<e.length;r++)"string"==typeof e[r]?(e[r]=s(e[r]),a(e[r])?t[r]=i(e[r].slice(1)):c(e[r])?(h.A.info(e[r]+" was identified as a bnode."),t[r]=n.bnode()):l(e[r])?(h.A.info(e[r]+" was identified as a symbol."),t[r]=n.sym(m(e[r]))):d(e[r])?(h.A.info(e[r]+" was identified as a prefixed symbol"),P[p(e[r])]?t[r]=n.sym(e[r]=P[p(e[r])]+f(e[r])):(h.A.error("SPARQL error: "+e[r]+" with prefix "+p(e[r])+" does not have a correct prefix entry."),t[r]=e[r])):t[r]=e[r]):t[r]=e[r];return t}(e);for(h.A.debug("WHERE: "+u);y("OPTIONAL",u);)o=y("OPTIONAL",u),h.A.debug("OPT: "+o+" "+u[o]+" in "+u),"{"!==u[o+1]&&h.A.warn("Bad optional opening bracket in word "+o),-1===(r=x(u.slice(o+2),"{","}"))?h.A.error("No matching bracket in word "+o):(S(u.slice(o+2,o+2+r),t),o=y("OPTIONAL",u),r=x(u.slice(o+2),"{","}"),u.splice(o,r+3));for(h.A.debug("WHERE after optionals: "+u);y("FILTER",u);){var g=y("FILTER",u);"("!==u[g+1]&&h.A.warn("Bad filter opening bracket in word "+g),-1===(r=x(u.slice(g+2),"(",")"))?h.A.error("No matching bracket in word "+g):(k(u.slice(g+2,g+2+r),t),g=y("FILTER",u),r=x(u.slice(g+2),"(",")"),u.splice(g,r+3))}h.A.debug("WHERE after filters and optionals: "+u),function(e,t){var n=new Array(1);n[0]=-1;for(var r=n.concat(b(".",e)),i=[],o=0;o<r.length-1;o++)i[o]=e.slice(r[o]+1,r[o+1]);for(o in i){h.A.info("s+p+o "+o+" = "+i[o]);var a=i[o][0];i[o].splice(0,1);var s=n.concat(b(";",i[o]));s.push(i[o].length);for(var l=[],c=0;c<s.length-1;c++)l[c]=i[o].slice(s[c]+1,s[c+1]);for(o in l){h.A.info("p+o "+o+" = "+i[o]);var u=l[o][0];l[o].splice(0,1);var d=n.concat(b(",",l[o]));d.push(l[o].length);var p=[];for(c=0;c<d.length-1;c++)p[c]=l[o].slice(d[c]+1,d[c+1]);for(o in p){var f=p[o][0];h.A.info("Subj="+a+" Pred="+u+" Obj="+f),t.add(a,u,f)}}}}(u,t)}h.A.info("SPARQL input: \n"+e);var A=new w.X,T=function(e){var t=g(e),n=[];for(var r in t)n="string"==typeof t[r]?n.concat(v(t[r])):n.concat(t[r]);return n=function(e){for(var t=e,n=0;n<t.length;n++)if("a"===t[n]&&(t[n]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[n]&&"of"===t[n+2]){t.splice(n,1),t.splice(n+1,1);var r=t[n-1];t[n-1]=t[n+1],t[n+1]=r}return t}(n),h.A.info("SPARQL Tokens: "+n),n}(e),P=function(e){var t=b("PREFIX",e),n=[];for(var r in t){var i=e[t[r]+1],o=e[t[r]+2];if(u(i))if(l(o)){h.A.info("Prefix found: "+i+" -> "+o);var a=p(i),s=m(o);n[a]=s}else h.A.error("Invalid SPARQL symbol: "+o);else h.A.error("Invalid SPARQL prefix: "+i)}return n}(T);P.rdf||(P.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),P.rdfs||(P.rdfs="http://www.w3.org/2000/01/rdf-schema#");var O=y("SELECT",T),I=y("WHERE",T);if(O<0||I<0||O>I)return h.A.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(function(e,t){for(var n in h.A.info("SPARQL vars: "+e),e)if(a(e[n])){h.A.info("Added "+e[n]+" to query variables from SPARQL");var r=i(e[n].slice(1));t.vars.push(r),r.label=e[n].slice(1)}else h.A.warn("Incorrect SPARQL variable in SELECT: "+e[n])}(T.slice(O+1,I),A),C(T.slice(I+2,T.length-1),A.pat),t)return A;for(var N in A.pat.statements){var F=A.pat.statements[N];"NamedNode"===F.subject.termType&&n.fetcher&&n.fetcher.lookUpThing(F.subject,"sparql:"+F.subject),"NamedNode"===F.object.termType&&n.fetcher&&n.fetcher.lookUpThing(F.object,"sparql:"+F.object)}return A}var A=n(55894),T=n(89755),P=n(5108),O=n(92915),I=n(54011),N=n(2931);class F{constructor(e){if((0,r.A)(this,"store",void 0),(0,r.A)(this,"ifps",void 0),(0,r.A)(this,"fps",void 0),(0,r.A)(this,"patchControl",void 0),(0,r.A)(this,"ns",void 0),(e=e||new d.A).updater)throw new Error("You can't have two UpdateManagers for the same store");e.fetcher||(e.fetcher=new c.A(e)),this.store=e,e.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=(0,v.A)("http://www.w3.org/2007/ont/link#"),this.ns.http=(0,v.A)("http://www.w3.org/2007/ont/http#"),this.ns.httph=(0,v.A)("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=(0,v.A)("http://www.w3.org/ns/ldp#"),this.ns.rdf=(0,v.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=(0,v.A)("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=(0,v.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=(0,v.A)("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}patchControlFor(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}isHttpUri(e){return"http"===e.slice(0,4)}flagAuthorizationMetadata(e){e||(e=this.store);const t=e.fetcher?.appNode,n=e.statementsMatching(void 0,this.ns.link("requestedURI"),void 0,t).map((e=>e.subject));for(const r of n){const n=e.any(r,this.ns.link("response"),null,t);null!=n&&e.add(n,this.ns.link("outOfDate"),!0,t)}}async checkEditable(e,t){if(!e)return!1;t||(t=this.store);const n=this.editable(e,t);return void 0!==n?n:(await(t.fetcher?.load(e)),this.editable(e,t))}editable(e,t){if(!e)return!1;if(t||(t=this.store),e=(0,N.E)(e),!this.isHttpUri(e)&&t.holds(t.rdfFactory.namedNode(e),t.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),t.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";var n,r=!1;const i=t.fetcher?.appNode;for(var o,a=t.each(void 0,this.ns.link("requestedURI"),(0,P.docpart)(e),i),s=0;s<a.length;s++)if(void 0!==(n=a[s])){const a=t.any(n,this.ns.link("response"),null,i);if(void 0!==a){if(t.anyJS(a,this.ns.link("outOfDate"),null,i))continue;var l=t.anyValue(a,this.ns.httph("wac-allow"));if(l)for(var c of l.split(",")){var u=c.split("=");if(u[0].includes("user")&&!u[1].includes("write")&&!u[1].includes("append"))return!1}var d=t.each(a,this.ns.httph("accept-patch"));if(d.length)for(let e=0;e<d.length;e++){if((o=d[e].value.trim()).indexOf("application/sparql-update")>=0)return"SPARQL";if(o.indexOf("application/sparql-update-single-match")>=0)return"SPARQL";if(o.indexOf("text/n3")>=0)return"N3PATCH"}var p=t.each(a,this.ns.httph("ms-author-via"));if(p.length)for(let e=0;e<p.length;e++){if((o=p[e].value.trim()).indexOf("SPARQL")>=0)return"SPARQL";if(o.indexOf("DAV")>=0)return"DAV"}if(!this.isHttpUri(e))return!!l&&"LOCALFILE";var f=t.each(a,this.ns.http("status"));if(f.length)for(let e=0;e<f.length;e++)200!==f[e]&&404!==f[e]||(r=!0)}}if(0===a.length);else if(r)return!1}anonymize(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}anonymizeNT(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}nTriples(e){return`${e.subject.toNT()} ${e.predicate.toNT()} ${e.object.toNT()} .`}statementBnodes(e){return[e.subject,e.predicate,e.object].filter((function(e){return(0,O.jt)(e)}))}statementArrayBnodes(e){var t=[];for(let n=0;n<e.length;n++)t=t.concat(this.statementBnodes(e[n]));t.sort();var n=[];for(let e=0;e<t.length;e++)0!==e&&t[e].equals(t[e-1])||n.push(t[e]);return n}cacheIfps(){this.ifps={};var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty"));for(let t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(let t=0;t<e.length;t++)this.fps[e[t].value]=!0}bnodeContext2(e,t,n){var r,i,o=this.store.statementsMatching(void 0,void 0,e,t);for(let e=0;e<o.length;e++)if(this.fps[o[e].predicate.value]){if(!(r=o[e].subject).isBlank)return[o[e]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([o[e]])}o=this.store.statementsMatching(e,void 0,void 0,t);for(let e=0;e<o.length;e++)if(this.ifps[o[e].predicate.value]){if(!(r=o[e].object).isBlank)return[o[e]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([o[e]])}return null}bnodeContext1(e,t){for(var n=0;n<3;n++){var r=this.bnodeContext2(e,t,n);if(null!==r)return r}return this.store.connectedStatements(e,t)}mentioned(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}bnodeContext(e,t){var n=[];if(e.length){this.cacheIfps();for(let i=0;i<e.length;i++){var r=e[i];this.mentioned(r)&&(n=n.concat(this.bnodeContext1(r,t)))}}return n}statementContext(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}contextWhere(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map((function(e){return t.anonymizeNT(e)})).join("\n")+" }\n":""}fire(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Promise.resolve().then((()=>{if(!e)throw new Error("No URI given for remote editing operation: "+t);return r.noMeta=!0,r.contentType=r.contentType||"application/sparql-update",r.body=t,this.store.fetcher.webOperation("PATCH",e,r)})).then((r=>{if(!r.ok){let n="UpdateManager: update failed for <"+e+"> status="+r.status+", "+r.statusText+"\n   for query: "+t;throw new Error(n)}n(e,r.ok,r.responseText,r)})).catch((t=>{n(e,!1,t.message,t)}))}update_statement(e){if(!e||e.graph){var t=this,n=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(n),set_object:function(e,n){var r=this.where;r+="DELETE DATA { "+this.statementNT+" } ;\n",r+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,r,n)}}}}insert_statement(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){var i="";for(let t=0;t<e.length;t++)i+=e[t]+"\n";r+="INSERT DATA { "+i+" }\n"}else r+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.graph.value,r,t)}delete_statement(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){var i="";for(let t=0;t<e.length;t++)i+=e[t]+"\n";r+="DELETE DATA { "+i+" }\n"}else r+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.graph.value,r,t)}requestDownstreamAction(e,t){var n=this.patchControlFor(e);if(n.pendingUpstream)if(n.downstreamAction){if(""+n.downstreamAction!=""+t)throw new Error("Can't wait for > 1 different downstream actions")}else n.downstreamAction=t;else t(e)}clearUpstreamCount(e){this.patchControlFor(e).upstreamCount=0}getUpdatesVia(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}addDownstreamChangeListener(e,t){var n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,(e=>{this.reloadAndSync(e)}))}reloadAndSync(e){var t=this.patchControlFor(e),n=this;if(t.reloading)t.outOfDate=!0;else{t.reloading=!0;var r=1e3,i=function(){n.reload(n.store,e,(function(e,n,o){if(e){if(t.downstreamChangeListeners)for(let e=0;e<t.downstreamChangeListeners.length;e++)t.downstreamChangeListeners[e]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,i())}else t.reloading=!1,o&&0===o.status&&(t.reloading=!0,setTimeout(i,r*=2))}))};i()}}setRefreshHandler(e,t){let n=this.getUpdatesVia(e);var r=t,i=this,o=this,a=1500,s=0;if(!n)return!1;n=(0,P.join)(n,e.value);const l=n.replace(/^http:/,"ws:").replace(/^https:/,"wss:");var c=function(){var t;if("undefined"!=typeof WebSocket)t=new WebSocket(l);else{if("undefined"==typeof window||!window.WebSocket)return;t=window.WebSocket(l)}t.onopen=function(){a=1500,this.send("sub "+e.value),s&&o.requestDownstreamAction(e,r)};var n=i.patchControlFor(e);n.upstreamCount=0,t.onerror=function(e){},t.onclose=function(e){a*=2,s+=1,setTimeout((function(){c()}),a)},t.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in n&&(n.upstreamCount-=1,n.upstreamCount>=0))return;n.upstreamCount=0,i.requestDownstreamAction(e,r)}}};return c(),!0}updateMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=e.concat(t).map((e=>e.why)),r=this,i=[];n.forEach((e=>{i.find((t=>t.equals(e)))||i.push(e)}));const o=i.map((n=>r.update(e.filter((e=>e.why.equals(n))),t.filter((e=>e.why.equals(n))))));return o.length,Promise.all(o)}constructSparqlUpdateQuery(e,t,n){var r=this.contextWhere(n),i="";if(r.length){if(e.length){i+="DELETE { ";for(let t=0;t<e.length;t++)i+=this.anonymizeNT(e[t])+"\n";i+=" }\n"}if(t.length){i+="INSERT { ";for(let e=0;e<t.length;e++)i+=this.anonymizeNT(t[e])+"\n";i+=" }\n"}i+=r}else{if(e.length){i+="DELETE DATA { ";for(let t=0;t<e.length;t++)i+=this.anonymizeNT(e[t])+"\n";i+=" } \n"}if(t.length){e.length&&(i+=" ; "),i+="INSERT DATA { ";for(let e=0;e<t.length;e++)i+=this.nTriples(t[e])+"\n";i+=" }\n"}}return i}constructN3PatchQuery(e,t,n){var r="\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ex: <http://www.example.org/terms#>.\n\n_:patch\n";return n&&n.length>0&&(r+=`\n      solid:where {\n        ${n.map((e=>this.anonymizeNT(e))).join("\n        ")}\n      };`),e.length>0&&(r+=`\n      solid:deletes {\n        ${e.map((e=>this.anonymizeNT(e))).join("\n        ")}\n      };`),t.length>0&&(r+=`\n      solid:inserts {\n        ${t.map((e=>this.anonymizeNT(e))).join("\n        ")}\n      };`),r+"   a solid:InsertDeletePatch .\n"}update(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!n){var o=this;return new Promise((function(n,a){o.update(e,t,(function(e,t,r){t?n():a(new Error(r))}),r,i)}))}try{var a=this.store,s=e?(0,O.ok)(e)?e.statements:e instanceof Array?e:[e]:[],l=t?(0,O.ok)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(s instanceof Array))throw new Error("Type Error "+typeof s+": "+s);if(!(l instanceof Array))throw new Error("Type Error "+typeof l+": "+l);if(0===s.length&&0===l.length)return n(null,!0);var c=s.length?s[0].graph:l[0].graph;if(!c){let e="Error patching: statement does not specify which document to patch:"+s[0]+", "+l[0];throw new Error(e)}if("NamedNode"!==c.termType){let e="Error patching: document not a NamedNode:"+s[0]+", "+l[0];throw new Error(e)}var u=this.patchControlFor(c),d=Date.now(),p=["subject","predicate","object","why"],f={delete:s,insert:l};["insert","delete"].map((function(e){f[e].map((function(e){if(!c.equals(e.graph))throw new Error("update: destination "+c+" inconsistent with delete quad "+e.graph);p.map((function(t){if(void 0===e[t])throw new Error("update: undefined "+t+" of statement.")}))}))}));var h=this.editable(c.value,a);if(!1===h)throw new Error("Update: Can't make changes in uneditable "+c);if(void 0===h){if(r)throw new Error("Update: Loaded "+c+"but still can't figure out what editing protocol it supports.");return void this.store.fetcher.load(c).then((r=>{this.update(e,t,n,!0,i)}),(r=>{if(404!==r.response.status)throw new Error(`Update: Can't get updatability status ${c} before patching: ${r}`);this.update(e,t,n,!0,i)}))}if(h.indexOf("SPARQL")>=0||h.indexOf("N3PATCH")>=0){var m=h.indexOf("SPARQL")>=0,g=[];s.length&&(g=this.statementArrayBnodes(s)),l.length&&(g=g.concat(this.statementArrayBnodes(l)));var v=this.bnodeContext(g,c),y=m?this.constructSparqlUpdateQuery(s,l,v):this.constructN3PatchQuery(s,l,v);i.contentType=m?"application/sparql-update":"text/n3",u.pendingUpstream=u.pendingUpstream?u.pendingUpstream+1:1,"upstreamCount"in u&&(u.upstreamCount+=1),this.fire(c.value,y,((e,t,r,i)=>{if(i.elapsedTimeMs=Date.now()-d,t){try{a.remove(s)}catch(e){t=!1,r="Remote Ok BUT error deleting "+s.length+" from store!!! "+e}for(let e=0;e<l.length;e++)a.add(l[e].subject,l[e].predicate,l[e].object,c)}if(n(e,t,r,i),u.pendingUpstream-=1,0===u.pendingUpstream&&u.downstreamAction){var o=u.downstreamAction;delete u.downstreamAction,o(c)}}),i)}else if(h.indexOf("DAV")>=0)this.updateDav(c,s,l,n,i);else{if(!(h.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+h+"' for "+c);try{this.updateLocalFile(c,s,l,n,i)}catch(e){n(c.value,!1,"Exception trying to write back file <"+c.value+">\n")}}}catch(e){n(void 0,!1,"Exception in update: "+e+"\n"+I.stackString(e))}}updateDav(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=this.store;var a=o.any(e,this.ns.link("request"));if(!a)throw new Error("No record of our HTTP GET request for document: "+e);var s=o.any(a,this.ns.link("response"));if(!s)return null;var l=o.the(s,this.ns.httph("content-type")).value;let c=o.statementsMatching(void 0,void 0,void 0,e).slice();for(let e=0;e<t.length;e++)I.RDFArrayRemove(c,t[e]);for(let e=0;e<n.length;e++)c.push(n[e]);const u=this.serialize(e.value,c,l);var d,p=o.the(s,this.ns.httph("content-location"));return p&&(d=(0,P.join)(p.value,d)),i.contentType=l,i.noMeta=!0,i.body=u,o.fetcher.webOperation("PUT",d,i).then((i=>{if(!i.ok)throw new Error(i.error);for(let e=0;e<t.length;e++)o.remove(t[e]);for(let t=0;t<n.length;t++)o.add(n[t].subject,n[t].predicate,n[t].object,e);r(e.value,i.ok,i.responseText,i)})).catch((t=>{r(e.value,!1,t.message,t)}))}updateLocalFile(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=this.store;let a=o.statementsMatching(void 0,void 0,void 0,e).slice();for(let e=0;e<t.length;e++)I.RDFArrayRemove(a,t[e]);for(let e=0;e<n.length;e++)a.push(n[e]);var s=e.value.lastIndexOf(".");if(s<1)throw new Error("Rewriting file: No filename extension: "+e.value);var l=e.value.slice(s+1);let u=c.A.CONTENT_TYPE_BY_EXT[l];if(!u)throw new Error("File extension ."+l+" not supported for data write");i.body=this.serialize(e.value,a,u),i.contentType=u,o.fetcher.webOperation("PUT",e.value,i).then((i=>{if(!i.ok)return r(e.value,!1,i.error);for(let e=0;e<t.length;e++)o.remove(t[e]);for(let t=0;t<n.length;t++)o.add(n[t].subject,n[t].predicate,n[t].object,e);r(e.value,!0,"")}))}serialize(e,t,n){const r=this.store;let i;if("string"==typeof t)return t;var o=(0,S.A)(r);switch(o.suggestNamespaces(r.namespaces),o.setBase(e),n){case"text/xml":case"application/rdf+xml":i=o.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":i=o.statementsToN3(t);break;default:throw new Error("Content-type "+n+" not supported for data serialization")}return i}put(e,t,n,r){const i=this.store;let o;return Promise.resolve().then((()=>(o=this.serialize(e.value,t,n),i.fetcher.webOperation("PUT",e.value,{contentType:n,body:o})))).then((n=>{if(!n.ok)return r(e.value,n.ok,n.error,n);delete i.fetcher.nonexistent[e.value],delete i.fetcher.requested[e.value],"string"!=typeof t&&t.map((e=>{i.addStatement(e)})),r(e.value,n.ok,"",n)})).catch((t=>{r(e.value,!1,t.message)}))}reload(e,t,n){var r=Date.now();e.fetcher.nowOrWhenFetched(t.value,{force:!0,noMeta:!0,clearPreviousData:!0},(function(e,i,o){if(e)if(o.onErrorWasCalled||200!==o.status)n(!1,"Non-HTTP error reloading data: "+i,o);else{var a=Date.now()-r;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=a,t.reloadTimeCount+=1,n(!0)}else n(!1,"Error reloading data: "+i,o)}))}}var L=n(39814);const R={...L.A,fetcher:(e,t)=>new c.A(e,t),graph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new d.A(e,t||{rdfFactory:L.A})},lit(e,t,n){return this.literal(""+e,t||n)},st(e,t,n,r){return this.quad(e,t,n,r)}},j=R;class M{constructor(e,t){this.parent=e,this.via=t,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(t),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(e){this.onError(e)}}_decode(e){var t,n,r,i,o,a,s;for(n in i={},o=function(){var n,r,i,o;for(o=[],n=0,r=(i=e.split("&")).length;n<r;n++)t=i[n],o.push(t.split("="));return o}())t=o[n],s=(a=[decodeURIComponent(t[0]),decodeURIComponent(t[1])])[1],null==i[r=a[0]]&&(i[r]=[]),i[r].push(s);return i}_send(e,t,n){var r,i;return i=[e,t,n].join(" "),"function"==typeof(r=this.socket).send?r.send(i):void 0}_subscribe(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}onClose(e){var t;for(t in this.connected=!1,this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}onError(e){throw new Error("onError"+e)}onMessage(e){var t,n;return"ping"===(n=e.data.split(" "))[0]?"function"==typeof(t=this.socket).send?t.send("pong "+n.slice(1).join(" ")):void 0:"pub"===n[0]?this.parent.onUpdate(n[1],this._decode(n[2])):void 0}onOpen(e){var t,n;for(n in this.connected=!0,t=[],this.pending)delete this.pending[n],t.push(this._subscribe(n));return t}subscribe(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}class D{constructor(e){this.fetcher=e,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}onHeaders(e){var t,n,r;return null==e.headers||"undefined"==typeof WebSocket||null===WebSocket||(t=e.headers.etag,r=e.headers["updates-via"],n=e.uri,t&&r&&(this.graph[n]={etag:t,via:r},this.register(r,n))),!0}onUpdate(e,t){return this.fetcher.refresh(j.namedNode(e))}register(e,t){return null==this.via[e]&&(this.via[e]=new M(this,e)),this.via[e].subscribe(t)}}var U=n(46320);const B={};for(const e in j)"function"==typeof j[e]&&(B[e]=j[e].bind(j));const{fetcher:H,graph:q,lit:W,st:z,namedNode:V,variable:$,blankNode:K,defaultGraph:G,literal:J,quad:Q,triple:Y}=B,X=new u.A,Z=e=>X.fromNT(e),ee=y.A.fromValue,te=i.A.nextId;class ne extends d.A{constructor(e){super(e),(0,r.A)(this,"fetcher",void 0),this.fetcher=new c.A(this,{})}}class re extends ne{constructor(e){super(e),(0,r.A)(this,"updater",void 0),this.updater=new F(this)}}},83093:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(77335);function i(e,t){return"string"==typeof t?e.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===e.rdfFactory.supports.COLLECTIONS?function(e,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return e.rdfFactory.collection(t.map((t=>i(e,t))))}(e,t["@list"]):function(e,t){const n=t["@id"]?a(e,t):e.rdfFactory.blankNode(),o=t["@list"].map((t=>i(e,t))),s=(0,r.XV)(e.rdfFactory,n,o);return e.addAll(s),n}(e,t):Object.prototype.hasOwnProperty.call(t,"@id")?a(e,t):Object.prototype.hasOwnProperty.call(t,"@language")?e.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?e.rdfFactory.literal(t["@value"],e.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?e.rdfFactory.literal(t["@value"]):e.rdfFactory.literal(t)}function o(e,t,r,i){const o=r&&Object.prototype.hasOwnProperty.call(r,"termType")?r.value:r;return Promise.all([n.e(841),n.e(789)]).then(n.t.bind(n,34841,23)).then((t=>t.flatten(JSON.parse(e),null,{base:o}))).then((e=>e.reduce(((e,n)=>t=s(t,r,n)),t))).then(i).catch(i)}function a(e,t){return t["@id"].startsWith("_:")?e.rdfFactory.blankNode(t["@id"].substring(2)):e.rdfFactory.namedNode(t["@id"])}function s(e,t,n){const r=n["@id"]?a(e,n):e.rdfFactory.blankNode();for(const i of Object.keys(n)){if("@id"===i)continue;if("@graph"==i){const t=r,o=n[i];for(let n=0;n<o.length;n++)e=s(e,t,o[n])}const o=n[i];if(Array.isArray(o))for(let n=0;n<o.length;n++)e.addStatement(l(e,r,i,o[n],t));else e.addStatement(l(e,r,i,o,t))}return e}function l(e,t,n,r,o){let a,s;return"@type"===n?(a=e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),s=e.rdfFactory.namedNode(r)):(a=e.rdfFactory.namedNode(n),s=i(e,r)),e.rdfFactory.quad(t,a,s,e.rdfFactory.namedNode(o))}},88616:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(64467),i=n(51059),o=n(75108),a=n(8936),s=n(39403),l=n(92915);const c={boolean:new o.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new o.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new o.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new o.A("http://www.w3.org/2001/XMLSchema#double"),integer:new o.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new o.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new o.A("http://www.w3.org/2001/XMLSchema#string")};class u extends a.A{constructor(e,t,n){super(e),(0,r.A)(this,"termType",s.QW),(0,r.A)(this,"classOrder",i.A.Literal),(0,r.A)(this,"datatype",c.string),(0,r.A)(this,"isVar",0),(0,r.A)(this,"language",""),t?(this.language=t,this.datatype=c.langString):this.datatype=n?o.A.fromValue(n):c.string}copy(){return new u(this.value,this.lang,this.datatype)}equals(e){return!!e&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype))}get lang(){return this.language}set lang(e){this.language=e||""}toNT(){return u.toNT(this)}static toNT(e){if("number"==typeof e.value)return""+e.value;if("string"!=typeof e.value)throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t='"'+(t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',e.language?t+="@"+e.language:e.datatype.equals(c.string)||(t+="^^"+e.datatype.toCanonical()),t}toString(){return""+this.value}static fromBoolean(e){return new u(e?"1":"0",null,c.boolean)}static fromDate(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");let t=function(e){return(""+(100+e)).slice(1,3)},n=e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new u(n,null,c.dateTime)}static fromNumber(e){if("number"!=typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");let t;const n=e.toString();return t=n.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?c.integer:c.decimal:c.double,new u(n,null,t)}static fromValue(e){if((0,l.c$)(e))return e;switch(typeof e){case"object":if(e instanceof Date)return u.fromDate(e);case"boolean":return u.fromBoolean(e);case"number":return u.fromNumber(e);case"string":return new u(e)}throw new Error("Can't make literal from "+e+" of type "+typeof e)}}},4940:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={debug(e){},warn(e){},info(e){},error(e){},success(e){},msg(e){}}},32299:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var r=n(5108),i=n(77335),o=n(43476),a=n(89755);const s=(0,n(33581).A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function l(e,t){function n(r,i,l){const c=e.statementsMatching(r,s("rest"),null,t);if(1!==c.length)throw new Error(`Bad list structure: no rest at ${r}`);const u=e.statementsMatching(r,s("first"),null,t);if(1!==u.length)throw new Error(`Bad list structure: rest but ${u.length} firsts at ${r}`);const d=[u[0].object].concat(i),p=l.concat(c).concat(u),f=e.statementsMatching(null,s("rest"),r,t);if(0===f.length){const n=new o.A(d);return e.remove(p),void function(e,t,n,r){for(const i of e.statementsMatching(n,null,null,r)){const n=new a.A(t,i.predicate,i.object,r);e.remove(i),e.add(n)}for(const i of e.statementsMatching(null,n,null,r))e.remove(i),e.add(new a.A(i.subject,t,i.object,r));for(const i of e.statementsMatching(null,null,n,r))e.remove(i),e.add(new a.A(i.subject,i.predicate,t,r))}(e,n,r,t)}if(1!==f.length)throw new Error(`Bad list structure: ${f.length} pres at ${r}`);const h=f[0].subject;if("BlankNode"!==h.termType)throw new Error(`Bad list element node ${h} type: ${h.termType} `);n(h,d,p)}!function(e,t){const n=s("nil");for(const r of e.statementsMatching(n,null,null,t)){e.remove(r);const n=new o.A;e.add(new a.A(n,r.predicate,r.object,t))}for(const r of e.statementsMatching(null,null,n,t))if(!r.predicate.sameTerm(s("rest"))){e.remove(r);const n=new o.A;e.add(new a.A(r.subject,r.predicate,n,t))}}(e,t),e.statementsMatching(null,s("rest"),s("nil"),t).forEach((e=>{if("BlankNode"!==e.subject.termType)throw new Error(`Bad list element node ${e.subject} type: ${e.subject.termType} `);n(e.subject,[],[])}))}var c="http://www.w3.org/2000/10/swap/log#",u=function(e){return e},d=function(e){return e},p=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},f=function(e){return e.length},h=function(e,t,n){if(void 0===e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+typeof e;return void 0===n||null==n?e.slice(t):e.slice(t,n)},m=Error("dummy error stop iteration"),g=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw m;return this.li[this.last++]},this},v=function(e,t){return e.indexOf(t)},y=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var b=function(e,t){return r.join(t,e)},w="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",x="http://www.w3.org/2002/07/owl#sameAs",E="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",_=E+":",k=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?([eE][-+]?[0-9]+)?","g"),S=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),C=new RegExp('[\\\\\\r\\n\\"]',"g"),A=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");const T=function(e,t,n,r,i,o,a,s){return new P(e,t,n,r,i,o,a,s)};class P{constructor(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=""),void 0===r&&(r=null),void 0===i&&(i=""),void 0===o&&(o=null),void 0===a&&(a=""),void 0===s&&(s=null),this._bindings=new p([]),this._flags=a,""!=n&&(y(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,i&&e.setGenPrefix(i),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new d(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new p([]),this._variables=new p([]),this._parentVariables=new p([]),this._reason=s,this._reason2=null,this._baseURI=r||n||null,y(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}here(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}formula(){return this._formula}loadStream(e){return this.loadBuf(e.read())}loadBuf(e){return this.startDoc(),this.feed(e),this.endDoc()}feed(e){for(var t=e.decode("utf-8"),n=0;n>=0;){var r=this.skipSpace(t,n);if(r<0)return;if((n=this.directiveOrStatement(t,r))<0)throw O(this._thisDoc,this.lines,t,r,"expected directive or statement")}}directiveOrStatement(e,t){var n,r=this.skipSpace(e,t);return r<0?r:(n=this.directive(e,r))>=0||(n=this.statement(e,r))>=0?this.checkDot(e,n):n}tok(e,t,n){if("@"==t.slice(n,n+1))n+=1;else if((0,i.Do)(this.keywords,e)<0)return-1;var r=n+f(e);return t.slice(n,r)==e&&E.indexOf(t.charAt(r))>=0?r:-1}directive(e,t){if((a=this.skipSpace(e,t))<0)return a;var n=new d([]);if((a=this.tok("bind",e,t))>0)throw O(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");if((a=this.tok("keywords",e,t))>0){if((t=this.commaSeparatedList(e,a,n,!1))<0)throw O(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(h(n,null,null)),t}if((a=this.tok("forAll",e,t))>0){if((t=this.commaSeparatedList(e,a,n,!0))<0)throw O(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var r=new g(n);try{for(;;){var o=r.next();((0,i.Do)(this._variables,o)<0||(0,i.Do)(this._parentVariables,o)>=0)&&(this._variables[o]=this._context.newUniversal(o))}}catch(e){if(e!=m)throw e}return t}if((a=this.tok("forSome",e,t))>0){if((t=this.commaSeparatedList(e,a,n,this.uri_ref2))<0)throw O(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");r=new g(n);try{for(;;)o=r.next(),this._context.declareExistential(o)}catch(e){if(e!=m)throw e}return t}if((a=this.tok("prefix",e,t))>=0){var a,s=new d([]);if((t=this.qname(e,a,s))<0)throw O(this._thisDoc,this.lines,e,a,"expected qname after @prefix");if((a=this.uri_ref2(e,t,s))<0)throw O(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var l=s[1].uri;return this._baseURI?l=b(this._baseURI,l):y(l.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS"),y(l.indexOf(":")>=0),this._bindings[s[0][0]]=l,this.bind(s[0][0],function(e){return encodeURI(e)}(l)),a}if((a=this.tok("base",e,t))>=0){if(s=new d([]),(t=this.uri_ref2(e,a,s))<0)throw O(this._thisDoc,this.lines,e,a,"expected <uri> after @base ");if(l=s[0].uri,!this._baseURI)throw O(this._thisDoc,this.lines,e,a,"With no previous base URI, cannot use relative URI in @base  <"+l+">");return l=b(this._baseURI,l),y(l.indexOf(":")>=0),this._baseURI=l,t}return-1}bind(e,t){""==e||this._store.setPrefixForURI(e,t)}setKeywords(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}startDoc(){}endDoc(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&l(this._store,this.source),this._formula}makeStatement(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===w||e[3].uri&&e[3].uri===w)&&(this.hasNil=!0),this.statementCount+=1}statement(e,t){var n=new d([]);if((t=this.object(e,t,n))<0)return t;var r=this.property_list(e,t,n[0]);if(r<0)throw O(this._thisDoc,this.lines,e,t,"expected propertylist");return r}subject(e,t,n){return this.item(e,t,n)}verb(e,t,n){if((i=this.skipSpace(e,t))<0)return i;var r=new d([]);if((i=this.tok("has",e,t))>=0){if((t=this.prop(e,i,r))<0)throw O(this._thisDoc,this.lines,e,i,"expected property after 'has'");return n.push(new u(["->",r[0]])),t}if((i=this.tok("is",e,t))>=0){if((t=this.prop(e,i,r))<0)throw O(this._thisDoc,this.lines,e,i,"expected <property> after 'is'");if((i=this.skipSpace(e,t))<0)throw O(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var i;if(t=i,(i=this.tok("of",e,t))<0)throw O(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return n.push(new u(["<-",r[0]])),i}if((i=this.tok("a",e,t))>=0)return n.push(new u(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),i;if("<="==e.slice(t,t+2))return n.push(new u(["<-",this._store.sym(c+"implies")])),t+2;if("="==e.slice(t,t+1))return">"==e.slice(t+1,t+2)?(n.push(new u(["->",this._store.sym(c+"implies")])),t+2):(n.push(new u(["->",this._store.sym(x)])),t+1);if(":="==e.slice(t,t+2))return n.push(new u(["->",c+"becomes"])),t+2;if((i=this.prop(e,t,r))>=0)return n.push(new u(["->",r[0]])),i;if(">-"==e.slice(t,t+2)||"<-"==e.slice(t,t+2))throw O(this._thisDoc,this.lines,e,i,">- ... -> syntax is obsolete.");return-1}prop(e,t,n){return this.item(e,t,n)}item(e,t,n){return this.path(e,t,n)}blankNode(e){return this._context.bnode(e,this._reason2)}path(e,t,n){if((o=this.nodeOrLiteral(e,t,n))<0)return o;for(;"!^.".indexOf(e.slice(o,o+1))>=0;){var r=e.slice(o,o+1);if("."==r){var i=e.slice(o+1,o+2);if(!i||_.indexOf(i)>=0&&":?<[{(".indexOf(i)<0)break}var o,a=n.pop(),s=this.blankNode(this.here(o));if((o=this.node(e,o+1,n))<0)throw O(this._thisDoc,this.lines,e,o,"EOF found in middle of path syntax");var l=n.pop();"^"==r?this.makeStatement(new u([this._context,l,s,a])):this.makeStatement(new u([this._context,l,a,s])),n.push(s)}return o}anonymousNode(e){if(t=this._anonymousNodes[e])return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t}node(e,t,n,r){void 0===r&&(r=null);var i=r;if((h=this.skipSpace(e,t))<0)return h;t=h;var o=e.slice(t,t+1);if("["==o){var a=this.here(t);if((h=this.skipSpace(e,t+1))<0)throw O(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(h,h+1)){t=h+1;var s=new d([]);if(!((h=this.objectList(e,t,s))>=0))throw O(this._thisDoc,this.lines,e,t,"objectList expected after [= ");if(i=s[0],f(s)>1){var l=new g(s);try{for(;;){var c=l.next();this.makeStatement(new u([this._context,this._store.sym(x),i,c]))}}catch(e){if(e!=m)throw e}}if((h=this.skipSpace(e,h))<0)throw O(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(h,h+1))var h=h+1}if(null==i&&(i=this.blankNode(a)),(t=this.property_list(e,h,i))<0)throw O(this._thisDoc,this.lines,e,h,"property_list expected");if((h=this.skipSpace(e,t))<0)throw O(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(h,h+1))throw O(this._thisDoc,this.lines,e,h,"']' expected");return n.push(i),h+1}if("{"==o){if("$"==e.slice(t+1,t+2)){h=(t+=1)+1;for(var v=new d([]),y=!0;;){if((t=this.skipSpace(e,h))<0)throw O(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){h=t+2;break}if(y)y=!1;else{if(","!=e.slice(t,t+1))throw O(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var b=new d([]);if((h=this.item(e,t,b))<0)throw O(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");v.push(b[0])}return n.push(this._store.newSet(v,this._context)),h}h=t+1;var w=this._parentContext;this._parentContext=this._context;var E=this._anonymousNodes,_=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new p([]),this._variables=this._variables.slice();var k=this._reason2;for(this._reason2=null,null==i&&(i=this._store.formula()),this._context=i;;){if((t=this.skipSpace(e,h))<0)throw O(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){h=t+1;break}if((h=this.directiveOrStatement(e,t))<0)throw O(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=E,this._variables=this._parentVariables,this._parentVariables=_,this._context=this._parentContext,this._reason2=k,this._parentContext=w,n.push(i.close()),h}if("("==o){var S=this._store.list;for("$"==e.slice(t+1,t+2)&&(S=this._store.newSet,t+=1),h=t+1,v=new d([]);;){if((t=this.skipSpace(e,h))<0)throw O(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){h=t+1;break}if(b=new d([]),(h=this.item(e,t,b))<0)throw O(this._thisDoc,this.lines,e,t,"expected item in list or ')'");v.push(b[0])}return n.push(S(v,this._context)),h}if((h=this.tok("this",e,t))>=0)throw O(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");return(h=this.tok("true",e,t))>=0?(n.push(!0),h):(h=this.tok("false",e,t))>=0?(n.push(!1),h):null==i&&(h=this.uri_ref2(e,t,n))>=0?h:-1}property_list(e,t,n){for(;;){if((p=this.skipSpace(e,t))<0)throw O(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=e.slice(p,p+2)){t=p;var r=new d([]);if((p=this.verb(e,t,r))<=0)return t;var i=new d([]);if((t=this.objectList(e,p,i))<0)throw O(this._thisDoc,this.lines,e,p,"objectList expected");var o=new g(i);try{for(;;){var a=o.next(),s=r[0],l=s[0],c=s[1];"->"==l?this.makeStatement(new u([this._context,c,n,a])):this.makeStatement(new u([this._context,c,a,n]))}}catch(e){if(e!=m)throw e}if((p=this.skipSpace(e,t))<0)throw O(this._thisDoc,this.lines,e,p,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;t+=1}else{t=p+2;var p,f=new d([]);if((p=this.node(e,t,f,n))<0)throw O(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");t=p}}}commaSeparatedList(e,t,n,r){if((i=this.skipSpace(e,t))<0)throw O(this._thisDoc,this.lines,e,i,"EOF found expecting comma sep list");if("."==e.charAt(i))return t;if(r)var i=this.uri_ref2(e,i,n);else i=this.bareWord(e,i,n);if(i<0)return-1;for(;;){if((t=this.skipSpace(e,i))<0)return t;var o=e.slice(t,t+1);if(","!=o)return"."!=o?-1:t;if((i=r?this.uri_ref2(e,t+1,n):this.bareWord(e,t+1,n))<0)throw O(this._thisDoc,this.lines,e,i,"bad list content")}}objectList(e,t,n){if((t=this.object(e,t,n))<0)return-1;for(;;){var r=this.skipSpace(e,t);if(r<0)throw O(this._thisDoc,this.lines,e,r,"EOF found after object");if(","!=e.slice(r,r+1))return r;if((t=this.object(e,r+1,n))<0)return t}}checkDot(e,t){var n=this.skipSpace(e,t);if(n<0)return n;if("."==e.slice(n,n+1))return n+1;if("}"==e.slice(n,n+1))return n;if("]"==e.slice(n,n+1))return n;throw O(this._thisDoc,this.lines,e,n,"expected '.' or '}' or ']' at end of statement")}uri_ref2(e,t,n){var r=new d([]);if((g=this.qname(e,t,r))>=0){var o=r[0],a=o[0],s=o[1];if(null==a){y(0,"not used?");var l=this._baseURI+"#"}else if(!(l=this._bindings[a])){if("_"==a)return n.push(this.anonymousNode(s)),g;throw O(this._thisDoc,this.lines,e,t,"Prefix "+a+" not bound.")}var c=this._store.sym(l+s);return(0,i.Do)(this._variables,c)>=0?n.push(this._variables[c]):n.push(c),g}if((t=this.skipSpace(e,t))<0)return-1;if("?"==e.charAt(t)){var u=new d([]);return(g=this.variable(e,t,u))>0?(n.push(u[0]),g):-1}if("<"==e.charAt(t)){for(var p=t+=1;t<f(e);){if(">"==e.charAt(t)){var m=e.slice(p,t);return this._baseURI?m=b(this._baseURI,m):y(m.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs"),"#"==e.slice(t-1,t)&&"#"!=h(m,-1,null)&&(m+="#"),c=this._store.sym(m),(0,i.Do)(this._variables,c)>=0?n.push(this._variables[c]):n.push(c),t+1}t+=1}throw O(this._thisDoc,this.lines,e,g,"unterminated URI reference")}if(this.keywordsSet){var g;if(u=new d([]),(g=this.bareWord(e,t,u))<0)return-1;if((0,i.Do)(this.keywords,u[0])>=0)throw O(this._thisDoc,this.lines,e,t,'Keyword "'+u[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+u[0])),g}return-1}skipSpace(e,t){for(var n=t||0;n<e.length;n++){var r=e.charAt(n);if(" \n\r\t\f\v            ​\u2028\u2029　".indexOf(r)<0){if("#"!==e.charAt(n))return n;for(;;n++){if(n===e.length)return-1;if("\n"===e.charAt(n)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(n)&&(this.lines=this.lines+1)}return-1}variable(e,t,n){if((r=this.skipSpace(e,t))<0)return-1;if("?"!=e.slice(r,r+1))return-1;var r;if(t=r+=1,"0123456789-".indexOf(e.charAt(r))>=0)throw O(this._thisDoc,this.lines,e,r,"Varible name can't start with '"+e.charAt(r)+"s'");for(;t<f(e)&&_.indexOf(e.charAt(t))<0;)t+=1;if(null==this._parentContext)throw O(this._thisDoc,this.lines,e,r,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(r-1,t));return n.push(this._store.variable(e.slice(r,t))),t}bareWord(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;var i=e.charAt(r);if("0123456789-".indexOf(i)>=0)return-1;if(_.indexOf(i)>=0)return-1;for(t=r;t<f(e)&&_.indexOf(e.charAt(t))<0;)t+=1;return n.push(e.slice(r,t)),t}qname(e,t,n){if((t=this.skipSpace(e,t))<0)return-1;var r=e.charAt(t);if("0123456789-+".indexOf(r)>=0)return-1;if(_.indexOf(r)<0){var o=r;for(t+=1;t<f(e)&&(r=e.charAt(t),_.indexOf(r)<0);)o+=r,t+=1}else o="";if(t<f(e)&&":"==e.charAt(t)){var a=o;for(t+=1,o="";t<f(e)&&(r=e.charAt(t),_.indexOf(r)<0);)o+=r,t+=1;return n.push(new u([a,o])),t}return o&&this.keywordsSet&&(0,i.Do)(this.keywords,o)<0?(n.push(new u(["",o])),t):-1}object(e,t,n){if((o=this.subject(e,t,n))>=0)return o;{if((o=this.skipSpace(e,t))<0)return-1;t=o;var r=null;let s=e.charAt(t);if('"'==s||"'"==s){r=e.slice(t,t+3==s+s)?s+s+s:s,t+=f(r);var i=this.strconst(e,t,r),o=i[0],a=i[1];return n.push(this._store.literal(a)),o}return-1}}nodeOrLiteral(e,t,n){if((l=this.node(e,t,n))>=0)return l;if((l=this.skipSpace(e,t))<0)return-1;t=l;var r=e.charAt(t);if("-+0987654321".indexOf(r)>=0){if(S.lastIndex=0,null!=(p=S.exec(e.slice(t))))l=t+(i=p[0]).length,i.indexOf("T")>=0?n.push(this._store.literal(i,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):n.push(this._store.literal(i,this._store.sym("http://www.w3.org/2001/XMLSchema#date")));else{var i;if(k.lastIndex=0,null==(p=k.exec(e.slice(t))))throw O(this._thisDoc,this.lines,e,t,"Bad number or date syntax");l=t+k.lastIndex,(i=e.slice(t,l)).indexOf("e")>=0?n.push(this._store.literal(parseFloat(i),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(t,l).indexOf(".")>=0?n.push(this._store.literal(parseFloat(i),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):n.push(this._store.literal(parseInt(i),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return l}if('"'==e.charAt(t)){if('"""'==e.slice(t,t+3))var o='"""';else o='"';t+=f(o);var a=null,s=this.strconst(e,t,o),l=s[0],c=s[1],u=null;if("@"==e.slice(l,l+1)){var p;if(A.lastIndex=0,null==(p=A.exec(e.slice(l+1))))throw O(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");t=A.lastIndex+l+1,u=e.slice(l+1,t),l=t}if("^^"==e.slice(l,l+2)){var h=new d([]);l=this.uri_ref2(e,l+2,h),a=h[0]}return n.push(this._store.literal(c,u||a)),l}return-1}strconst(e,t,n){for(var r=t,i="",o=this.lines;r<f(e);){if(t=r+f(n),e.slice(r,t)==n)return new u([t,i]);if('"'!=e.charAt(r)){if(C.lastIndex=0,!C.exec(e.slice(r)))throw O(this._thisDoc,o,e,r,"Closing quote missing in string at ^ in "+e.slice(r-20,r)+"^"+e.slice(r,r+20));if(t=r+C.lastIndex-1,i+=e.slice(r,t),'"'!=(l=e.charAt(t)))if("\r"!=l){if("\n"==l){if('"'==n)throw O(this._thisDoc,o,e,t,"newline found in string literal");this.lines=this.lines+1,i+=l,r=t+1,this.previousLine=this.startOfLine,this.startOfLine=r}else if("\\"==l){if(r=t+1,!(l=e.slice(r,r+1)))throw O(this._thisDoc,o,e,t,"unterminated string literal (2)");var a=v('abfrtvn\\"',l);if(a>=0)i+='a\b\f\r\t\v\n\\"'.charAt(a),r+=1;else if("u"==l)r=(s=this.uEscape(e,r+1,o))[0],i+=l=s[1];else{if("U"!=l)throw O(this._thisDoc,this.lines,e,t,"bad escape");var s,l;r=(s=this.UEscape(e,r+1,o))[0],i+=l=s[1]}}}else r=t+1;else r=t}else i=i+'"',r=r+1}throw O(this._thisDoc,this.lines,e,t,"unterminated string literal")}uEscape(e,t,n){for(var r=t,i=0,o=0;i<4;){var a=e.slice(r,r+1).toLowerCase();if(r+=1,""==a)throw O(this._thisDoc,n,e,t,"unterminated string literal(3)");var s=v("0123456789abcdef",a);if(s<0)throw O(this._thisDoc,n,e,t,"bad string literal hex escape");o=16*o+s,i+=1}var l=String.fromCharCode(o);return new u([r,l])}UEscape(e,t,n){for(var r=t,i=0,o="\\U";i<8;){var a=e.slice(r,r+1).toLowerCase();if(r+=1,""==a)throw O(this._thisDoc,n,e,t,"unterminated string literal(3)");if(v("0123456789abcdef",a)<0)throw O(this._thisDoc,n,e,t,"bad string literal hex escape");o+=a,i+=1}var s,l=(s="0x"+h(o,2,10)-0,String.fromCharCode(s));return new u([r,l])}}function O(e,t,n,r,i){let o=t+1,a="Line "+o+" of <"+e+">: Bad syntax: "+i+'\nat: "'+n.slice(r,r+30)+'"',s=new SyntaxError(a,e,o);return s.lineNo=o,s.characterInFile=r,s.syntaxProblem=i,s}},75108:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(64467),i=n(51059),o=n(8936),a=n(39403),s=n(2931),l=n(92915);class c extends o.A{constructor(e){if(super((0,s.E)(e)),(0,r.A)(this,"termType",a.Kk),(0,r.A)(this,"classOrder",i.A.NamedNode),!this.value)throw new Error("Missing IRI for NamedNode");if(!this.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(this.value.includes(" "))throw new Error('Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.')}dir(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new c(e.slice(0,t+1))}site(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",t+2);return new c(n<0?e.slice(0)+"/":e.slice(0,n+1))}doc(){return this.value.indexOf("#")<0?this:new c(this.value.split("#")[0])}toString(){return"<"+this.value+">"}id(){return this.value.split("#")[1]}get uri(){return this.value}set uri(e){this.value=e}static fromValue(e){return null==e||(0,l.D0)(e)?e:new c(e)}}},33581:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(75108);function i(e,t){const n=t||{namedNode:e=>new r.A(e)};return function(t){return n.namedNode(e+(t||""))}}},8936:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(64467);class i{constructor(e){(0,r.A)(this,"termType",void 0),(0,r.A)(this,"classOrder",void 0),(0,r.A)(this,"value",void 0),this.value=e}substitute(e){return this}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return!!e&&this.termType===e.termType&&this.value===e.value}hashString(){return this.toCanonical()}sameTerm(e){return this.equals(e)}toCanonical(){return this.toNT()}toNT(){return this.toString()}toNQ(){return this.toNT()}toString(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}(0,r.A)(i,"fromValue",void 0),(0,r.A)(i,"toJS",void 0)},39916:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(43476),i=n(8936),o=n(33581),a=n(92915);i.A.fromValue=r.Y;const s=i.A,l={xsd:(0,o.A)("http://www.w3.org/2001/XMLSchema#")};i.A.toJS=function(e){return(0,a.P3)(e)?e.elements.map(i.A.toJS):(0,a.c$)(e)?e.datatype.equals(l.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(l.xsd("dateTime"))||e.datatype.equals(l.xsd("date"))?new Date(e.value):e.datatype.equals(l.xsd("integer"))||e.datatype.equals(l.xsd("float"))||e.datatype.equals(l.xsd("decimal"))?Number(e.value):e.value:e}},45796:(e,t,n)=>{"use strict";n.d(t,{A:()=>H});var r=n(39814),i=n(83093),o=n(79596),a=n.n(o);const s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l="http://www.w3.org/2001/XMLSchema#",c="http://www.w3.org/2000/10/swap/",u={xsd:{decimal:`${l}decimal`,boolean:`${l}boolean`,double:`${l}double`,integer:`${l}integer`,string:`${l}string`},rdf:{type:`${s}type`,nil:`${s}nil`,first:`${s}first`,rest:`${s}rest`,langString:`${s}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${c}reify#forSome`,forAll:`${c}reify#forAll`},log:{implies:`${c}log#implies`}};var d=n(55271).hp;const{xsd:p}=u,f=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,h={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},m=/[\x00-\x20<>\\"\{\}\|\^\`]/,g={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},v=/$0^/;class y{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in g)&&this[e]instanceof RegExp&&(this[e]=v)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input,r=n.length;for(;;){let e,a;for(;e=this._newline.exec(n);)this._comments&&(a=this._comment.exec(e[0]))&&i("comment",a[1],"",this._line,e[0].length),n=n.substr(e[0].length,n.length),r=n.length,this._line++;if(!e&&(e=this._whitespace.exec(n))&&(n=n.substr(e[0].length,n.length)),this._endOfFile.test(n))return t&&(this._comments&&(a=this._comment.exec(n))&&i("comment",a[1],"",this._line,n.length),n=null,i("eof","","",this._line,0)),this._input=n;const s=this._line,l=n[0];let c="",u="",d="",f=null,h=0,g=!1;switch(l){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(h=1,c="^");break}if(this._previousMarker="^^",n=n.substr(2),"<"!==n[0]){g=!0;break}case"<":if(f=this._unescapedIri.exec(n))c="IRI",u=f[1];else if(f=this._iri.exec(n)){if(u=this._unescape(f[1]),null===u||m.test(u))return o(this);c="IRI"}else n.length>1&&"<"===n[1]?(c="<<",h=2):this._n3Mode&&n.length>1&&"="===n[1]&&(c="inverse",h=2,u=">");break;case">":n.length>1&&">"===n[1]&&(c=">>",h=2);break;case"_":((f=this._blank.exec(n))||t&&(f=this._blank.exec(`${n} `)))&&(c="blank",d="_",u=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(n))u=f[1];else if(({value:u,matchLength:h}=this._parseLiteral(n)),null===u)return o(this);null===f&&0===h||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(n))u=f[1];else if(({value:u,matchLength:h}=this._parseLiteral(n)),null===u)return o(this);null===f&&0===h||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(n))&&(c="var",u=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(n))?(c="langcode",u=f[1]):(f=this._keyword.exec(n))&&(c=f[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",h=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(n)||t&&(f=this._number.exec(`${n} `)))&&(c="literal",u=f[0],d="string"==typeof f[1]?p.double:"string"==typeof f[2]?p.decimal:p.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(n))?c=f[0].toUpperCase():g=!0;break;case"f":case"t":(f=this._boolean.exec(n))?(c="literal",u=f[0],d=p.boolean):g=!0;break;case"a":(f=this._shortPredicates.exec(n))?(c="abbreviation",u="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(h=1,u="="):(h=2,u=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(h=1,c=l);break;case"{":!this._lineMode&&n.length>=2&&("|"===n[1]?(c="{|",h=2):(c=l,h=1));break;case"|":n.length>=2&&"}"===n[1]&&(c="|}",h=2);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(n))?((f=this._prefixed.exec(n))||t&&(f=this._prefixed.exec(`${n} `)))&&(c="prefixed",d=f[1]||"",u=this._unescape(f[2])):(c="prefix",u=f[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const v=h||f[0].length,y=i(c,u,d,s,v);this.previousToken=y,this._previousMarker=c,n=n.substr(v,n.length)}function i(t,i,o,a,s){const l=n?r-n.length:r,c={type:t,value:i,prefix:o,line:a,start:l,end:l+s};return e(null,c),c}function o(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(f,((e,n,r,i)=>{if("string"==typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"==typeof r){let e=Number.parseInt(r,16);return e<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in h?h[i]:(t=!0,"")}));return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let t=0;for(;"\\"===e[r-t-1];)t++;if(t%2==0){const t=e.substring(n,r),i=t.split(/\r\n|\r|\n/).length-1,o=r+n;if(1===n&&0!==i||3===n&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:o}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const e=[];let t;if(this._tokenizeToEnd(((n,r)=>n?t=n:e.push(r)),!0),t)throw t;return e}a()((()=>this._tokenizeToEnd(t,!0)))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=d.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:(void 0===this._input?this._input=this._readStartingBom("string"==typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(t,!1)))})),e.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)})),e.on("error",t)}}const{rdf:b,xsd:w}=u;let x,E=0;const _={namedNode:function(e){return new S(e)},blankNode:function(e){return new A(e||"n3-"+E++)},variable:function(e){return new T(e)},literal:function(e,t){if("string"==typeof t)return new C(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return""===n&&("boolean"==typeof e?n=w.boolean:"number"==typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?w.integer:w.double:(n=w.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===n||n===w.string?new C(`"${e}"`):new C(`"${e}"^^${n}`)},defaultGraph:function(){return x},quad:O,triple:O};class k{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof k?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class S extends k{get termType(){return"NamedNode"}}class C extends k{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new S(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return"^"===n?e.substr(t+2):"@"!==n?w.string:b.langString}equals(e){return e instanceof C?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class A extends k{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class T extends k{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}x=new class extends k{constructor(){return super(""),x||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class P extends k{constructor(e,t,n,r){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=r||x}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function O(e,t,n,r){return new P(e,t,n,r)}let I=0;class N{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&L(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),r=/trig/.test(t),i=/triple/.test(t),o=/quad/.test(t),a=this._n3Mode=/n3/.test(t),s=i||o;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||r||i||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),s&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new y({lineMode:s,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){I=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,n,r,i){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:r,object:i,graph:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);n=this._namedNode(t);break;case"type":case"prefixed":const r=this._prefixes[e.prefix];if(void 0===r)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(r+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,r=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blankNode()),null===i?null===a.predicate?a.subject=n:a.object=n:this._emit(i,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(void 0===n)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const r=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,a=this._object;this._subject=this._quad(r,o,a,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const e=this._predicate,t=this._object;i?this._emit(t,e,r,n):this._emit(r,e,t,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){const t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const r=this._blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let n,r;if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=F}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",r=-1,i=-1,o=0,a="/";for(;r<t;){switch(a){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<t&&"/"!==e[i];)r=i;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(a=e[1+ ++r],a){case"/":n+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return n+e.substring(o,r)+e.substr(r+1);case".":if(a=e[1+ ++r],void 0===a||"/"===a||"?"===a||"#"===a){if(n+=e.substring(o,r-2),(o=n.lastIndexOf("/"))>=i&&(n=n.substr(0,o)),"/"!==a)return`${n}/${e.substr(r+1)}`;o=r+1}}}a=e[++r]}return n+e.substring(o)}parse(e,t,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${I++}_`,this._prefixCallback=n||F,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const t=[];let n;if(this._callback=(e,r)=>{e?n=e:r&&t.push(r)},this._lexer.tokenize(e).every((e=>this._readCallback=this._readCallback(e))),n)throw n;return t}this._callback=t,this._lexer.tokenize(e,((e,t)=>{null!==e?(this._callback(e),this._callback=F):this._readCallback&&(this._readCallback=this._readCallback(t))}))}}function F(){}function L(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(u.rdf.first),e.RDF_REST=n(u.rdf.rest),e.RDF_NIL=n(u.rdf.nil),e.N3_FORALL=n(u.r.forAll),e.N3_FORSOME=n(u.r.forSome),e.ABBREVIATIONS={a:n(u.rdf.type),"=":n(u.owl.sameAs),">":n(u.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}L(N.prototype,_);var R=n(32299),j=n(25936),M=n(75946),D=n(55894),U=n(54011),B=n(39403);function H(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",a=arguments.length>4?arguments[4]:void 0;o=o||B.sT,o=o.split(";")[0];try{if(o===B.ny||o===B.sT)(0,R.A)(t,t,n,n,null,null,"",null).loadBuf(e),l();else if(o===B.JG)new M.A(t).parse(U.parseXML(e),n,t.sym(n)),l();else if(o===B.H)(0,j.B)(U.parseXML(e,{contentType:B.H}),t,n),l();else if(o===B.lc)(0,j.B)(U.parseXML(e,{contentType:B.lc}),t,n),l();else if(o===B.K9||o===B.Fn)(0,D.A)(e,t,n),l();else if(o===B.i2)(0,i.A)(e,t,n,l);else{if(o!==B._0&&o!==B.BR)throw void 0===o?new Error("contentType is undefined"):new Error("Don't know how to parse "+o+" yet");var s=new N({factory:r.A});!function(e,n){try{s.parse(n,c)}catch(e){a(e,t)}}(null,e)}}catch(e){!function(e){if(o!==B.i2||o!==B._0||o!==B.BR){if(!a){let t=new Error(e+" while trying to parse <"+n+"> as "+o);throw t.cause=e,t}a(e,t)}}(e)}function l(){a&&a(null,t)}function c(e,n){n?t.add(n.subject,n.predicate,n.object,n.graph):a(e,t)}H.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}},55894:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(32299),i=n(33581);function o(e,t,n){var o,a,s,l=["INSERT","DELETE","WHERE"],c=(0,i.A)("http://www.w3.org/ns/pim/patch#"),u=(0,r.A)(t,t,n,n,null,null,"",null),d={},p=function(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+n.slice(r,r+30)+'"'};o=0;var f=t.sym(n+"#query");for(d.query=f;;){if((a=u.skipSpace(e,o))<0)return d;if(";"===e[a]){if((o=u.skipSpace(e,a+1))<0)return d;a=o}var h=!1;for(s=0;s<l.length;s++){var m=l[s];if(e.slice(a,a+m.length)===m){if((o=u.skipSpace(e,a+m.length))<0)throw p(u._thisDoc,u.lines,e,a+m.length,"found EOF, needed {...} after "+m);if(("INSERT"===m||"DELETE"===m)&&"DATA"===e.slice(o,o+4)){if((a=u.skipSpace(e,o+4))<0)throw p(u._thisDoc,u.lines,e,o+4,"needed {...} after INSERT DATA "+m);o=a}var g=[];if((a=u.node(e,o,g))<0)throw p(u._thisDoc,u.lines,e,o,"bad syntax or EOF in {...} after "+m);d[m.toLowerCase()]=g[0],t.add(f,c(m.toLowerCase()),g[0]),h=!0,o=a}}if(!h&&"@prefix"===e.slice(a,a+7)){if((o=u.directive(e,a))<0)throw p(u._thisDoc,u.lines,e,o,"bad syntax or EOF after @prefix ");o=u.checkDot(e,o),h=!0}if(!h)throw p(u._thisDoc,u.lines,e,a,"Unknown syntax at start of statememt: '"+e.slice(a).slice(0,20)+"'")}}},76046:(e,t,n)=>{"use strict";n.d(t,{X:()=>s,_:()=>l});var r=n(42855),i=n(14275),o=n(4940),a=n(5108);class s{constructor(e,t){this.pat=new r.A,this.vars=[],this.name=e,this.id=t}}function l(e,t,n,r){function s(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="    "+t+" -> "+e[t]);return n}function l(e){var t,n="Bindings: ",r=e.length;for(t=0;t<r;t++)n+=s(e[t][0])+";\n\t";return n}function c(e,t,n,r){var o;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var a=function(e,t,n,r){var o=n[e];if(void 0===o){if(e.isVar){var a=[];return a[e]=t,[[a,null]]}o=e}if(!o.complexType)return r.redirections[o]&&(o=r.redirections[o]),r.redirections[t]&&(t=r.redirections[t]),o.equals(t)||o.uri&&o.uri===i.U?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?c(e,t,n):[];throw new Error("query.js: oops - code not written yet")}(e[0],t[0],n,r);if(0===a.length)return a;var s,l,u,d,p,f,h,m=[],g=a.length;for(s=0;s<g;s++){for(p in h=[],l=a[s][0])l.hasOwnProperty(p)&&(h[p]=l[p]);for(p in n)n.hasOwnProperty(p)&&(h[p]=n[p]);for(d=(o=c(e.slice(1),t.slice(1),h,r)).length,u=0;u<d;u++){for(p in f=o[u][0],l)l.hasOwnProperty(p)&&(f[p]=l[p]);m.push([f,null])}}return m}function u(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function d(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function p(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}d.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;o.A.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},d.prototype.doCallBacks=function(e,t){var n;if(e<0)return this.originalCallback(t);for(n=0;n<this.branches[e].results.length;n++)this.doCallBacks(e-1,u(t,this.branches[e].results[n]))},p.prototype.reportMatch=function(e){this.callback(e),this.success=!0},p.prototype.reportDone=function(){this.done=!0,o.A.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var f=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function h(e,t,n){var r,o,a,s,l,c;for(t.nvars=0,t.index=null,r=[t.subject,t.predicate,t.object,t.why],s=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex],a=0;a<4;a++){let u=r[a];if(u.uri&&u.uri===i.U);else if(u.isVar&&void 0===n[u])t.nvars++;else{if(void 0,u=void 0===(c=n[l=r[a]])?l:c,e.redirections[e.id(u)]&&(u=e.redirections[e.id(u)]),!(o=s[a][e.id(u)]))return t.index=[],!1;(null===t.index||t.index.length>o.length)&&(t.index=o)}}return null===t.index&&(t.index=e.statements),!0}function m(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}f.prototype.reportMatch=function(e){this.results.push(e)},f.prototype.reportDone=function(){o.A.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),o.A.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var g=function(e,n,r,i,l,c,u){o.A.debug("Match begins, Branch count now: "+u.count+" for "+u.pattern_debug);var p,h,m=n.statements;if(0===m.length){if(o.A.debug("FOUND MATCH WITH BINDINGS:"+s(r)),0===n.optional.length)u.reportMatch(r);else{o.A.debug("OPTIONAL: "+n.optional);var v,b=new d(t,r),w=[];for(v=0;v<n.optional.length;v++)w[v]=new f(b),w[v].pattern_debug=n.optional[v];for(v=0;v<n.optional.length;v++)w[v].count=w[v].count+1,g(e,n.optional[v],r,"",l,t,w[v])}return u.count--,void o.A.debug("Match ends -- success , Branch count now: "+u.count+" for "+u.pattern_debug)}var x=m.length;if(l){var E=function(t,o){var a=t.uri.split("#")[0];l.nowOrWhenFetched(a,void 0,(function(o,a,s){o||console.log("Error following link to <"+t.uri+"> in query: "+a),g(e,n,r,i,l,c,u)}))};for(h=0;h<x;h++){if(p=m[h],void 0!==r[p.subject]&&r[p.subject].uri&&l&&"unrequested"===l.getState((0,a.docpart)(r[p.subject].uri)))return void E(r[p.subject]);if(void 0!==r[p.object]&&r[p.object].uri&&l&&"unrequested"===l.getState((0,a.docpart)(r[p.object].uri)))return void E(r[p.object])}}y(e,n,r,i,l,c,u)},v=function(e,t){var n,r,i=!0;for(n in e)e.hasOwnProperty(n)&&t[n]&&(r=t[n].test)&&!r(e[n])&&(i=!1);return i},y=function(e,t,n,r,i,a,u){var d,p,f,y,b,w,x,E=t.statements,_=E.length;for(d=0;d<_;d++)h(e,x=E[d],n);E.sort(m),x=E[0];var k,S=e.formula();S.optional=t.optional,S.constraints=t.constraints,S.statements=E.slice(1),o.A.debug(r+"match2 searching "+x.index.length+" for "+x+"; bindings so far="+s(n));var C,A,T=x.index.length,P=0;for(k=0;k<T;k++)for(A=x.index[k],C=c([x.subject,x.predicate,x.object,x.why],[A.subject,A.predicate,A.object,A.why],n,e),o.A.info(r+" From first: "+C.length+": "+l(C)),f=C.length,p=0;p<f;p++)if(b=[],w=C[p][0],v(w,t.constraints)){for(y in w)w.hasOwnProperty(y)&&(b[y]=w[y]);for(y in n)n.hasOwnProperty(y)&&(b[y]=n[y]);u.count++,P++,g(e,S,b,r+"  ",i,a,u)}else o.A.debug("Branch count CS: "+u.count);u.count--,0===P&&o.A.debug("Match2 fails completely on "+x),o.A.debug("Match2 ends, Branch count: "+u.count+" for "+u.pattern_debug),0===u.count&&(o.A.debug("Branch finished."),u.reportDone())},b=this;o.A.debug("Query on "+this.statements.length);var w=new p(t,r);w.count++,e.sync?g(b,e.pat,e.pat.initBindings,"",n,t,w):setTimeout((function(){g(b,e.pat,e.pat.initBindings,"",n,t,w)}),0)}},25936:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,B:()=>d});var r=n(68921),i=n(88616),o=n(75108),a=n(5108),s=n(54011),l=n(437);if(void 0===c)var c={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};class u{constructor(e,t){this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}addTriple(e,t,n,r){var i,o,a,s;i=void 0===t?l.A.namedNode(this.options.base):this.toRDFNodeObject(t),a=this.toRDFNodeObject(n),o=this.toRDFNodeObject(r),s=l.A.namedNode(this.options.base),this.kb.add(i,a,o,s)}ancestorPath(e){for(var t="";e&&e.nodeType!==c.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}copyMappings(e){var t={};for(var n in e)t[n]=e[n];return t}copyProperties(){}deriveDateTimeType(e){for(var t=0;t<u.dateTimeTypes.length;t++){var n=u.dateTimeTypes[t].pattern.exec(e);if(n&&n[0].length===e.length)return u.dateTimeTypes[t].type}return null}init(){}newBlankNode(){return this.blankCounter++,"_:"+this.blankCounter}newSubjectOrigin(e,t){}parseCURIE(e,t,n){var r,i=e.indexOf(":");if(i>=0){var o=e.substring(0,i);if(""===o)return(r=t[""])?r+e.substring(i+1):null;if("_"===o)return"_:"+e.substring(i+1);if(u.NCNAME.test(o)&&(r=t[o]))return r+e.substring(i+1)}return null}parseCURIEOrURI(e,t,n){return this.parseCURIE(e,t,n)||this.resolveAndNormalize(n,e)}parsePredicate(e,t,n,r,i,o){if(""===e)return null;var a=this.parseTermOrCURIEOrAbsURI(e,t,o?null:n,r,i);return a&&0===a.indexOf("_:")?null:a}parsePrefixMappings(e,t){for(var n=this.tokenize(e),r=null,i=0;i<n.length;i++)":"===n[i][n[i].length-1]?r=n[i].substring(0,n[i].length-1):r&&(t[r]=this.options.base?a.join(n[i],this.options.base):n[i],r=null)}static parseRDFaDOM(e,t,n){var r=new u(t,{base:n});e.baseURI||(e.baseURI=n),r.process(e,{baseURI:n})}parseSafeCURIEOrCURIEOrURI(e,t,n){return"["===(e=this.trim(e)).charAt(0)&&"]"===e.charAt(e.length-1)?0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,n):this.parseCURIEOrURI(e,t,n)}parseTermOrCURIEOrAbsURI(e,t,n,r,i){e=this.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var a=n[e];if(a)return a;if(a=n[e.toLowerCase()])return a}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}parseTermOrCURIEOrURI(e,t,n,r,i){e=this.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;var a=n[e];return a||((a=n[e.toLowerCase()])?a:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}parseURI(e){return e}process(e,t){var n;t=t||{},e.nodeType===c.DOCUMENT_NODE?(e.baseURI&&!t.baseURI&&(t.baseURI=e.baseURI),n=e.baseURI,(e=e.documentElement).baseURI||(e.baseURI=n),this.setContext(e)):e.parentNode.nodeType===c.DOCUMENT_NODE&&this.setContext(e);var r=[],i=function(e){if(!e&&t&&t.baseURI)return t.baseURI;var n=e.indexOf("#");return n>=0&&(e=e.substring(0,n)),t&&t.baseURIMap&&(e=t.baseURIMap(e)),e};for(r.push({current:e,context:this.push(null,i(e.baseURI))});r.length>0;){var o=r.shift();if(o.parent){if(o.context.parent&&o.context.parent.listMapping===o.listMapping)continue;for(let e in o.listMapping){var s=o.listMapping[e];if(0!==s.length){var l=[];for(let e=0;e<s.length;e++)l.push(this.newBlankNode());for(let e=0;e<l.length;e++)this.addTriple(o.parent,l[e],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",s[e]),this.addTriple(o.parent,l[e],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:u.objectURI,value:e+1<l.length?l[e+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(o.parent,o.subject,e,{type:u.objectURI,value:l[0]})}else this.addTriple(o.parent,o.subject,e,{type:u.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var d=o.current,p=o.context,f=!1,h=null,m=null,g=null,v=p.prefixes,y=!1,b=[],w=p.listMapping,x=!p.parent,E=p.language,_=p.vocabulary;n=this.parseURI(i(d.baseURI)),d.item=null;var k=d.getAttributeNode("vocab");if(k){let e=this.trim(k.value);if(e.length>0){_=e;var S=n.spec;this.addTriple(d,S,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:u.objectURI,value:_})}else _=this.vocabulary}for(var C=0;C<d.attributes.length;C++){var A=d.attributes[C];if("x"===A.nodeName.charAt(0)&&0===A.nodeName.indexOf("xmlns:")){y||(v=this.copyMappings(v),y=!0);var T=A.nodeName.substring(6),P=u.trim(A.value);v[T]=this.options.base?a.join(P,this.options.base):P}}var O=d.getAttributeNode("prefix");O&&(y||(v=this.copyMappings(v),y=!0),this.parsePrefixMappings(O.value,v));var I=null;for(let e=0;!I&&e<this.langAttributes.length;e++)I=d.getAttributeNodeNS(this.langAttributes[e].namespaceURI,this.langAttributes[e].localName);if(I){let e=u.trim(I.value);E=e.length>0?e:null}var N,F,L=d.getAttributeNode("rel"),R=d.getAttributeNode("rev"),j=d.getAttributeNode("typeof"),M=d.getAttributeNode("property"),D=d.getAttributeNode("datatype"),U=this.inHTMLMode?d.getAttributeNode("datetime"):null,B=d.getAttributeNode("content"),H=d.getAttributeNode("about"),q=d.getAttributeNode("src"),W=d.getAttributeNode("resource"),z=d.getAttributeNode("href"),V=d.getAttributeNode("inlist"),$=[];if(L){F=this.tokenize(L.value);for(let e=0;e<F.length;e++)(N=this.parsePredicate(F[e],_,p.terms,v,n,this.inHTMLMode&&null!==M))&&$.push(N)}var K=[];if(R){F=this.tokenize(R.value);for(let e=0;e<F.length;e++)(N=this.parsePredicate(F[e],_,p.terms,v,n,this.inHTMLMode&&M))&&K.push(N)}if(this.inHTMLMode&&(L||R)&&M&&(0===$.length&&(L=null),0===K.length&&(R=null)),L||R?(H&&(h=this.parseSafeCURIEOrCURIEOrURI(H.value,v,n)),j&&(g=h),h||(d.parentNode.nodeType===c.DOCUMENT_NODE?h=i(d.baseURI):p.parentObject&&(h=i(d.parentNode.baseURI)===p.parentObject?i(d.baseURI):p.parentObject)),W&&(m=this.parseSafeCURIEOrCURIEOrURI(W.value,v,n)),m||(z?m=this.resolveAndNormalize(n,encodeURI(z.value)):q?m=this.resolveAndNormalize(n,encodeURI(q.value)):!j||H||this.inXHTMLMode&&("head"===d.localName||"body"===d.localName)||(m=this.newBlankNode())),!j||H||!this.inXHTMLMode||"head"!==d.localName&&"body"!==d.localName?j&&!H&&(g=m):g=h):!M||B||D?(H&&(h=this.parseSafeCURIEOrCURIEOrURI(H.value,v,n)),!h&&W&&(h=this.parseSafeCURIEOrCURIEOrURI(W.value,v,n)),!h&&z&&(h=this.resolveAndNormalize(n,encodeURI(z.value))),!h&&q&&(h=this.resolveAndNormalize(n,encodeURI(q.value))),h||(d.parentNode.nodeType===c.DOCUMENT_NODE?h=i(d.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==d.localName&&"body"!==d.localName?j?h=this.newBlankNode():p.parentObject&&(h=i(d.parentNode.baseURI)===p.parentObject?i(d.baseURI):p.parentObject,M||(f=!0)):h=i(d.parentNode.baseURI)===p.parentObject?i(d.baseURI):p.parentObject),j&&(g=h)):(H&&(h=this.parseSafeCURIEOrCURIEOrURI(H.value,v,n),j&&(g=h)),h||d.parentNode.nodeType!==c.DOCUMENT_NODE?!h&&p.parentObject&&(h=i(d.parentNode.baseURI)===p.parentObject?i(d.baseURI):p.parentObject):(h=i(d.baseURI),j&&(g=h)),j&&!g&&(W&&(g=this.parseSafeCURIEOrCURIEOrURI(W.value,v,n)),!g&&z&&(g=this.resolveAndNormalize(n,encodeURI(z.value))),!g&&q&&(g=this.resolveAndNormalize(n,encodeURI(q.value))),g||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==d.localName&&"body"!==d.localName||(g=h),g||(g=this.newBlankNode()),m=g)),h&&(H||W||g)){var G=h;j&&!H&&!W&&m&&(G=m),this.newSubjectOrigin(d,G)}if(g){F=this.tokenize(j.value);for(let e=0;e<F.length;e++){var J=this.parseTermOrCURIEOrAbsURI(F[e],_,p.terms,v,n);J&&this.addTriple(d,g,u.typeURI,{type:u.objectURI,value:J})}}if(h&&h!==p.parentObject&&(w={},x=!0),m){if(L&&V)for(let e=0;e<$.length;e++){let t=w[$[e]];t||(t=[],w[$[e]]=t),t.push({type:u.objectURI,value:m})}else if(L)for(let e=0;e<$.length;e++)this.addTriple(d,h,$[e],{type:u.objectURI,value:m});if(R)for(let e=0;e<K.length;e++)this.addTriple(d,m,K[e],{type:u.objectURI,value:h})}else{if(h&&!m&&(L||R)&&(m=this.newBlankNode()),L&&V)for(let e=0;e<$.length;e++){let t=w[$[e]];t||(t=[],w[N]=t),b.push({predicate:$[e],list:t})}else if(L)for(let e=0;e<$.length;e++)b.push({predicate:$[e],forward:!0});if(R)for(let e=0;e<K.length;e++)b.push({predicate:K[e],forward:!1})}if(M){var Q=null,Y=null;D?(Q=""===D.value?u.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(D.value,_,p.terms,v,n),Y=U&&!B?U.value:Q===u.XMLLiteralURI||Q===u.HTMLLiteralURI?null:B?B.value:d.textContent):B?(Q=u.PlainLiteralURI,Y=B.value):U?(Y=U.value,(Q=u.deriveDateTimeType(Y))||(Q=u.PlainLiteralURI)):L||R||(W&&(Y=this.parseSafeCURIEOrCURIEOrURI(W.value,v,n)),!Y&&z?Y=this.resolveAndNormalize(n,encodeURI(z.value)):!Y&&q&&(Y=this.resolveAndNormalize(n,encodeURI(q.value))),Y&&(Q=u.objectURI)),Q||(j&&!H?(Q=u.objectURI,Y=g):(Y=d.textContent,this.inHTMLMode&&"time"===d.localName&&(Q=u.deriveDateTimeType(Y)),Q||(Q=u.PlainLiteralURI))),F=this.tokenize(M.value);for(let e=0;e<F.length;e++){let t=this.parsePredicate(F[e],_,p.terms,v,n);if(t)if(V){let e=w[t];e||(e=[],w[t]=e),e.push(Q===u.XMLLiteralURI||Q===u.HTMLLiteralURI?{type:Q,value:d.childNodes}:{type:Q||u.PlainLiteralURI,value:Y,language:E})}else Q===u.XMLLiteralURI||Q===u.HTMLLiteralURI?this.addTriple(d,h,t,{type:Q,value:d.childNodes}):this.addTriple(d,h,t,{type:Q||u.PlainLiteralURI,value:Y,language:E})}}if(h&&!f)for(let e=0;e<p.incomplete.length;e++)p.incomplete[e].list?p.incomplete[e].list.push({type:u.objectURI,value:h}):p.incomplete[e].forward?this.addTriple(d,p.subject,p.incomplete[e].predicate,{type:u.objectURI,value:h}):this.addTriple(d,h,p.incomplete[e].predicate,{type:u.objectURI,value:p.subject});var X=null,Z=h;f?((X=this.push(p,p.subject)).parentObject=i(d.parentNode.baseURI)===p.parentObject?i(d.baseURI):p.parentObject,X.incomplete=p.incomplete,X.language=E,X.prefixes=v,X.vocabulary=_):((X=this.push(p,h)).parentObject=m||h||p.subject,X.prefixes=v,X.incomplete=b,m&&(Z=m,w={},x=!0),X.listMapping=w,X.language=E,X.vocabulary=_),x&&r.unshift({parent:d,context:p,subject:Z,listMapping:w});for(var ee=d.lastChild;ee;ee=ee.previousSibling)ee.nodeType===c.ELEMENT_NODE&&r.unshift({current:ee,context:X})}}this.inHTMLMode&&this.copyProperties();for(let t=0;t<this.finishedHandlers.length;t++)this.finishedHandlers[t](e)}push(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}resolveAndNormalize(e,t){return a.join(t,e)}setContext(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}setHTMLContext(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}setInitialContext(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}setXHTMLContext(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}setXMLContext(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}tokenize(e){return this.trim(e).split(/\s+/)}static tokenize(e){return this.trim(e).split(/\s+/)}toRDFNodeObject(e){if(void 0!==e){if("string"==typeof e)return"_:"===e.substring(0,2)?(void 0===this.blankNodes[e.substring(2)]&&(this.blankNodes[e.substring(2)]=new r.A(e.substring(2))),this.blankNodes[e.substring(2)]):l.A.namedNode(e);switch(e.type){case u.objectURI:return"_:"===e.value.substring(0,2)?(void 0===this.blankNodes[e.value.substring(2)]&&(this.blankNodes[e.value.substring(2)]=new r.A(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):l.A.namedNode(e.value);case u.PlainLiteralURI:return new i.A(e.value,e.language||"");case u.XMLLiteralURI:case u.HTMLLiteralURI:var t="";return Object.keys(e.value).forEach((n=>{t+=s.domToString(e.value[n],this.htmlOptions)})),new i.A(t,"",new o.A(e.type));default:return new i.A(e.value,"",new o.A(e.type))}}}trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}static trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}u.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",u.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",u.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",u.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",u.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",u.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",u.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",u.NCNAME=new RegExp("^"+u.nameStartChar+u.nameChar+"*$"),u.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];const d=u.parseRDFaDOM},75946:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(64467),i=n(5108);class o{constructor(e){this.store=e,this.bnodes={},this.why=null,this.reify=!1}frameFactory(e,t,n){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=i.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(i.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(o.ns.RDF+"type"),this.store.sym(o.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(o.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(o.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(o.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===o.ns.RDF+"li"&&(e=o.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype&&this.parent.datatype!==o.ns.RDF+"langString"?this.node=this.store.literal(e,this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}getAttributeNodeNS(e,t,n){var r=null;if(e.getAttributeNodeNS)r=e.getAttributeNodeNS(t,n);else for(var i,o=e.attributes,a=0;a<o.length;++a)if((i=o[a]).namespaceURI===t&&(i.prefix?i.prefix+":"+n:n)===i.nodeName){r=i;break}return r}parse(e,t,n){var r,i=e.childNodes;if(this.cleanParser(),e.nodeType===o.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType===o.nodeType.ELEMENT){r=i[a];break}}else{if(e.nodeType!==o.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+t+". Halting. ");r=e}this.why=n;var s=this.frameFactory(this);return this.base=t,s.base=t,s.lang=null,this.parseDOM(this.buildFrame(s,r)),!0}parseDOM(e){for(var t,n=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),r=!0;e.parent;){var a=e.element,s=a.attributes;if(a.nodeType===o.nodeType.TEXT||a.nodeType===o.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(o.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(a.nodeValue);else if(n(a)!==o.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(n(a)),this.reify&&(t=this.getAttributeNodeNS(a,o.ns.RDF,"ID"))&&(e.rdfid=t.nodeValue,a.removeAttributeNode(t));var l=this.getAttributeNodeNS(a,o.ns.RDF,"parseType"),c=this.getAttributeNodeNS(a,o.ns.RDF,"datatype");if(c&&(e.datatype=c.nodeValue,a.removeAttributeNode(c)),l){var u=l.nodeValue;"Literal"===u?(e.datatype=o.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(a.innerHTML||a.childNodes),r=!1):"Resource"===u?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===u&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),a.removeAttributeNode(l)}if(0!==s.length){var d=this.getAttributeNodeNS(a,o.ns.RDF,"resource"),p=this.getAttributeNodeNS(a,o.ns.RDF,"nodeID");e=this.buildFrame(e),d?(e.addNode(d.nodeValue),a.removeAttributeNode(d)):p?(e.addBNode(p.nodeValue),a.removeAttributeNode(p)):e.addBNode();for(var f=s.length-1;f>=0;f--){var h=this.buildFrame(e);h.addArc(n(s[f])),n(s[f])===o.ns.RDF+"type"?this.buildFrame(h).addNode(s[f].nodeValue):this.buildFrame(h).addLiteral(s[f].nodeValue)}}else 0===a.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var m=this.getAttributeNodeNS(a,o.ns.RDF,"about");if(t=this.getAttributeNodeNS(a,o.ns.RDF,"ID"),m&&t)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!m&&t)e.addNode("#"+t.nodeValue),a.removeAttributeNode(t);else if(null==m&&null==t){var g=this.getAttributeNodeNS(a,o.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),a.removeAttributeNode(g)):e.addBNode()}else e.addNode(m.nodeValue),a.removeAttributeNode(m);var v=this.getAttributeNodeNS(a,o.ns.RDF,"type");o.ns.RDF+"Description"!==n(a)&&(v={nodeValue:n(a)}),null!=v&&(this.store.add(e.node,this.store.sym(o.ns.RDF+"type"),this.store.sym(i.join(v.nodeValue,e.base)),this.why),v.nodeName&&a.removeAttributeNode(v));for(var y=s.length-1;y>=0;y--)this.store.add(e.node,this.store.sym(n(s[y])),this.store.literal(s[y].nodeValue,e.lang),this.why)}for(a=e.element;e.parent;){for(var b=e;null==a;)a=(e=e.parent).element;var w=a.childNodes&&a.childNodes[e.lastChild];if(w&&r){if((w.nodeType===o.nodeType.ELEMENT||w.nodeType===o.nodeType.TEXT||w.nodeType===o.nodeType.CDATA_SECTION)&&(w.nodeType!==o.nodeType.TEXT&&w.nodeType!==o.nodeType.CDATA_SECTION||1===a.childNodes.length)){e.lastChild++,e=this.buildFrame(b,a.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;a=e.element,r=!0}}}}cleanParser(){this.bnodes={},this.why=null}buildFrame(e,t){var n=this.frameFactory(this,e,t);if(e&&(n.base=e.base,n.lang=e.lang),!t||t.nodeType===o.nodeType.TEXT||t.nodeType===o.nodeType.CDATA_SECTION)return n;var r=t.attributes,a=t.getAttributeNode("xml:base");null!=a&&(n.base=a.nodeValue,t.removeAttribute("xml:base"));var s=t.getAttributeNode("xml:lang");null!=s&&(n.lang=s.nodeValue,t.removeAttribute("xml:lang"));for(var l=r.length-1;l>=0;l--)if("xml"===r[l].nodeName.substr(0,3)){if("xmlns:"===r[l].name.slice(0,6)){var c=r[l].nodeValue;this.base&&(c=i.join(c,this.base)),this.store.setPrefixForURI(r[l].name.slice(6),c)}t.removeAttributeNode(r[l])}return n}}(0,r.A)(o,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,r.A)(o,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12})},60480:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(10951),i=n(39403);function o(e,t,n,o,a,s){n=n||e?.value;const l=s||{};o=o||i.sT;try{var c=(0,r.A)(t);l.flags&&c.setFlags(l.flags);var u=t.statementsMatching(void 0,void 0,void 0,e);switch("namespaces"in t&&c.suggestNamespaces(t.namespaces),l.namespaces&&c.setNamespaces(l.namespaces),c.setBase(n),o){case i.JG:return d(null,c.statementsToXML(u));case i.ny:case i.MG:return d(null,c.statementsToN3(u));case i.sT:case i.hu:return c.setFlags("si"),d(null,c.statementsToN3(u));case i.bM:return c.setFlags("deinprstux"),d(null,c.statementsToNTriples(u));case i.i2:return c.setFlags("si dr"),d(null,c.statementsToJsonld(u));case i._0:case i.BR:return c.setFlags("deinprstux q"),d(null,c.statementsToNTriples(u));default:throw new Error("Serialize: Content-type "+o+" not supported for data write.")}}catch(e){if(a)return a(e,void 0);throw e}function d(e,t){return a?void a(e,t):t}}},10951:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(64467),i=n(5108),o=n(54011),a=n(437);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.A;return{boolean:e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:e.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:e.namedNode("http://www.w3.org/2001/XMLSchema#string")}}s(a.A);var l=n(15386),c=n.n(l),u=n(35306);function d(e){return new p(e)}class p{constructor(e){(0,r.A)(this,"_notQNameChars","\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~"),(0,r.A)(this,"_notNameChars",this._notQNameChars+":"),(0,r.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,r.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,r.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];const t=Object.keys(c()());for(const e in t){const n=c()()[t[e]](""),r=t[e];this.prefixes[n]=r,this.namespaces[r]=n}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||a.A,this.xsd=s(this.rdfFactory)}setBase(e){return this.base=e,this}setFlags(e){return this.flags=e||"",this}toStr(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t}fromStr(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)}setNamespaces(e){for(var t in e)this.setPrefix(t,e[t]);return this}setPrefix(e,t){if("default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t){for(let t in this.prefixes)this.prefixes[t]==e&&delete this.prefixes[t];this.prefixes[t]=e,this.namespaces[e]=t}}suggestPrefix(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))}suggestNamespaces(e){for(var t in e)this.suggestPrefix(t,e[t]);return this}checkIntegrity(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")}makeUpPrefix(e){var t=e,n=function(t){return!!this.validPrefix.test(t)&&"ns"!==t&&!(t in this.namespaces)&&(this.prefixes[e]=t,this.namespaces[t]=e,t)}.bind(this);"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var r=t.lastIndexOf("/");r>=0&&(t=t.slice(r+1));for(var i=0;i<t.length&&this.prefixchars.indexOf(t[i]);)i++;if((t=t.slice(0,i)).length<6&&n(t))return t;if(n(t.slice(0,3)))return t.slice(0,3);if(n(t.slice(0,2)))return t.slice(0,2);if(n(t.slice(0,4)))return t.slice(0,4);if(n(t.slice(0,1)))return t.slice(0,1);if(n(t.slice(0,5)))return t.slice(0,5);this.validPrefix.test(t)||(t="n");for(var o=0;;o++)if(n(t.slice(0,3)+o))return t.slice(0,3)+o}rootSubjects(e){for(var t={},n={},r={},i=0;i<e.length;i++){var o=e[i],a=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(o.subject)};[o.subject,o.predicate,o.object].map((function(e){"BlankNode"===e.termType?r[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach((function(e){a(e)}))})),a(e[i].object);var s=n[this.toStr(o.subject)];s||(s=[]),s.push(o),n[this.toStr(o.subject)]=s}var l=[];for(var c in n)if(n.hasOwnProperty(c)){var u=this.fromStr(c);"BlankNode"===u.termType&&t[u]&&1===t[u].length||l.push(u)}this.incoming=t;for(var d={},p=0;p<l.length;p++)d[l[p].toNT()]=!0;return{roots:l,subjects:n,rootsHash:d,incoming:t}}toN3(e){return this.statementsToN3(e.statements)}explicitURI(e){var t;return this.flags.indexOf("r")<0&&this.base?e=i.refTo(this.base,e):this.flags.indexOf("u")>=0?e=function(e){for(var t,n="",r=0;r<e.length;r++)n+=(t=e.charCodeAt(r))>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[r];return n}(e):(t=decodeURI(e),e=encodeURI(t)),"<"+e+">"}statementsToNTriples(e){var t=e.slice();t.sort();for(var n="",r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=this,o=this.store,a=this.rdfFactory,s=function(e){if("Collection"!==e.termType)return i.atomicTermToN3(e);for(var t=e.elements,l=o.sym(r+"nill"),c=t.length-1;c>=0;c--){var u=a.blankNode();n+=s(u)+" "+s(o.sym(r+"first"))+" "+s(t[c])+".\n",n+=s(u)+" "+s(o.sym(r+"rest"))+" "+s(l)+".\n",l=u}return i.atomicTermToN3(l)},l=0;l<t.length;l++){var c=t[l],u="";u+=s(c.subject)+" ",u+=s(c.predicate)+" ",u+=s(c.object)+" ",this.flags.indexOf("q")>=0&&(u+=s(c.why)+" "),n+=u+=".\n"}return n}statementsToN3(e){var t=this.store,n={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};e.sort((function(e,r){return o.heavyCompareSPO(e,r,t,n)})),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var r={};this.flags.indexOf("s")<0&&(r["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(r["http://www.w3.org/2000/10/swap/log#implies"]="=>");var i=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},a=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n],i="string"==typeof r?r:a(r);if(0!==n){var o=t.slice(-1)||" ";","===i||";"===i||("."!==i||"0123456789.:".includes(o))&&(t+=" ")}t+=i}return t},s=function(e,t){var n="",r=1e5;void 0===t&&(t=-1);for(var o=0;o<e.length;o++){var l=e[o];if("string"!=typeof l){var c=s(l,t+1);if(c.length<10*(80-4*t)&&c.indexOf('"""')<0){var u=a(l);u.length<80-4*t&&(l=u,c="")}c&&(r=1e4),n+=c}if("string"==typeof l){if(1===l.length&&"\n"===n.slice(-1)&&",.;".indexOf(l)>=0){n=n.slice(0,-1),"."==l&&"0123456789.:".includes(n.charAt(n.length-1))&&(n+=" ",r+=1),n+=l+"\n",r+=1;continue}if(r<4*t+4||r+l.length+1<80&&";.".indexOf(n[n.length-2])<0)n=n.slice(0,-1)+" "+l+"\n",r+=l.length+1;else{let e=i(4*t)+l;n+=e+"\n",r=e.length,t<0&&(n+="\n",r=1e5)}}}return n},l=function(e){for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var o=n[i];r.push(c(o,t))}return r}.bind(this);function c(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[f(e,t)].concat([u(e,t)]).concat(["."]):d(e,t,!0).concat(["."])}var u=function(e,t){var n=[],i=null,o=t.subjects[this.toStr(e)]||[];if(void 0===o)throw new Error("Cant find statements for "+e);for(var a=[],s=0;s<o.length;s++){var l=o[s];l.predicate.uri===i?a.push(","):(i&&(n=n.concat([a]).concat([";"]),a=[]),n.push(r[l.predicate.uri]?r[l.predicate.uri]:f(l.predicate,t))),i=l.predicate.uri,a.push(d(l.object,t))}return n.concat([a])}.bind(this),d=function(e,t,n){return"BlankNode"!==e.termType||!n&&void 0!==t.rootsHash[e.toNT()]?f(e,t):t.subjects[this.toStr(e)]?["[",u(e,t),"]"]:"[]"}.bind(this);p.prototype.termToN3=f;var f=function(e,t){var n,r;switch(e.termType){case"Graph":return(r=(r=["{"]).concat(l(e.statements))).concat(["}"]);case"Collection":for(r=["("],n=0;n<e.elements.length;n++)r.push([d(e.elements[n],t)]);return r.push(")"),r;default:return this.atomicTermToN3(e)}}.bind(this),h=function(){var e="";for(var t in this.flags.indexOf("d")<0&&this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}.bind(this),m=l(e);return h()+s(m)}atomicTermToN3(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var n=e.value;if("string"!=typeof n)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return n;case"http://www.w3.org/2001/XMLSchema#decimal":return n.indexOf(".")<0&&(n+=".0"),n;case"http://www.w3.org/2001/XMLSchema#double":{const e=n.toLowerCase().indexOf("e")>0;return n.indexOf(".")<0&&!e&&(n+=".0"),e||(n+="e0"),n}case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var r=this.stringToN3(e.value,this.flags);return e.language?r+="@"+e.language:e.datatype.equals(this.xsd.string)||(r+="^^"+this.atomicTermToN3(e.datatype,t)),r;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}stringToN3(e,t){t||(t="e");var n,r,i,o,a,s="";for(e.length>20&&'"'!==e.slice(-1)&&t.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(o='"""',a=this.forbidden3):(o='"',a=this.forbidden1),n=0;n<e.length&&(a.lastIndex=0,null!=a.exec(e.slice(n)));){r=n+a.lastIndex-1,s+=e.slice(n,r);var l=e[r];'"'===l&&'"""'===o&&'"""'!==e.slice(r,r+3)?s+=l:(i='\b\f\r\t\v\n\\"'.indexOf(l))>=0?s+="\\"+'bfrtvn\\"'[i]:t.indexOf("e")>=0?s+="\\u"+("000"+l.charCodeAt(0).toString(16).toLowerCase()).slice(-4):s+=l,n=r+1}return o+s+e.slice(n)+o}symbolToN3(e){var t=e.uri,n=t.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=t.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(0===t.indexOf("http")||0===t.indexOf("ws")||0===t.indexOf("file"))){for(var r=!0,i=n+1;i<t.length;i++)if(this._notNameChars.indexOf(t[i])>=0){r=!1;break}if(r){var o=t.slice(n+1),a=t.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===a&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(o)<0?o:":"+o;var s=this.prefixes[a];if(s||(s=this.makeUpPrefix(a)),s)return this.namespacesUsed[a]=!0,s+":"+o}}return this.explicitURI(t)}writeStore(e){var t=this.store,n=t.fetcher,r=n&&n.appNode,i=this.store.index[3];for(var o in i){var a=t.fromNT(o);r&&a.equals(r)||e("\n"+this.atomicTermToN3(a)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,a))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map((function(n){e("\n<"+n.object.value+"> log:metadata {\n");var r=t.statementsMatching(void 0,void 0,void 0,n.subject);e(this.statementsToN3(this.statementsToN3(r))),e("}.\n")}));var s=[];r&&s.push(r);var l=[];s.map((function(e){l=l.concat(t.statementsMatching(void 0,void 0,void 0,e))})),e(this.statementsToN3(l))}statementsToXML(e){var t=[];t["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",r=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},o=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+="string"==typeof r?r:o(r)}return t},a=function(e,t){var n,i="",s=1e5;t||(t=0);for(var l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var u=a(c,t+1);u.length<10*(80-4*t)&&u.indexOf('"""')<0&&(n=o(c)).length<80-4*t&&(c="   "+n,u=""),u&&(s=1e4),i+=u}"string"==typeof c&&(s<4*t+4?(i=i.slice(0,-1)+" "+c+"\n",s+=c.length+1):(i+=(n=r(4*t)+c)+"\n",s=n.length))}return i},s=function(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var o=n[i];r.push(u(o,t))}return r}.bind(this);function l(e){return void 0===e?"@@@undefined@@@@":e.replace(/[&<"]/g,(function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}))}var c=function(e){return l(this.base?i.refTo(this.base,e.uri):e.uri)}.bind(this),u=function(e,t){var r,i,o,a,s=[],h=t.subjects[this.toStr(e)];if(void 0===h)return p(e,t);h.sort((function(e,t){var r=e.predicate.uri,i=t.predicate.uri;if(r.substring(0,44)===n||i.substring(0,44)===n)return r.localeCompare(i);var o=r.substring(44),a=i.substring(44),s=parseInt(o,10),l=parseInt(a,10);return isNaN(s)||isNaN(l)||s!==o||l!==a?r.localeCompare(i):s-l}));for(var m=0;m<h.length;m++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(o=h[m]).predicate.uri||r||"NamedNode"!==o.object.termType){if((a=o.predicate).uri.substr(0,44)===n){var g=a.uri.substr(44);g===parseInt(g,10).toString()&&(a=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(i=f(a),o.object.termType){case"BlankNode":s=1===t.incoming[o.object].length?s.concat(["<"+i+' rdf:parseType="Resource">',u(o.object,t),"</"+i+">"]):s.concat(["<"+i+' rdf:nodeID="'+o.object.toNT().slice(2)+'"/>']);break;case"NamedNode":s=s.concat(["<"+i+' rdf:resource="'+c(o.object)+'"/>']);break;case"Literal":s=s.concat(["<"+i+(o.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+l(o.object.datatype.uri)+'"')+(o.object.language?' xml:lang="'+o.object.language+'"':"")+">"+l(o.object.value)+"</"+i+">"]);break;case"Collection":s=s.concat(["<"+i+' rdf:parseType="Collection">',d(o.object,t),"</"+i+">"]);break;default:throw new Error("Can't serialize object of type "+o.object.termType+" into XML")}}else r=o.object;var v=r?f(r):"rdf:Description",y="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(y=' rdf:nodeID="'+e.toNT().slice(2)+'"'):y=' rdf:about="'+c(e)+'"',["<"+v+y+">"].concat([s]).concat(["</"+v+">"])}.bind(this);function d(e,t){for(var n=[],r=0;r<e.elements.length;r++)n.push(u(e.elements[r],t));return n}var p=function(e,t){var n=[],r=t.subjects[this.toStr(e)];if(!r)return n;r.sort();for(var i=0;i<r.length;i++){var o=r[i];switch(o.object.termType){case"BlankNode":n=t.rootsHash[o.object.toNT()]?n.concat(["<"+f(o.predicate)+' rdf:nodeID="'+o.object.toNT().slice(2)+'">',"</"+f(o.predicate)+">"]):n.concat(["<"+f(o.predicate)+' rdf:parseType="Resource">',p(o.object,t),"</"+f(o.predicate)+">"]);break;case"NamedNode":n=n.concat(["<"+f(o.predicate)+' rdf:resource="'+c(o.object)+'"/>']);break;case"Literal":n=n.concat(["<"+f(o.predicate)+(o.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+l(o.object.datatype.value)+'"')+(o.object.language?' xml:lang="'+o.object.language+'"':"")+">"+l(o.object.value)+"</"+f(o.predicate)+">"]);break;case"Collection":n=n.concat(["<"+f(o.predicate)+' rdf:parseType="Collection">',d(o.object,t),"</"+f(o.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+o.object.termType+" into XML")}}return n}.bind(this),f=function(e){var n=e.uri,r=n.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=n.lastIndexOf("/")),r<0)throw new Error("Cannot make qname out of <"+n+">");for(var i=r+1;i<n.length;i++)if(this._notNameChars.indexOf(n[i])>=0)throw new Error('Invalid character "'+n[i]+'" cannot be in XML qname for URI: '+n);var o=n.slice(r+1),a=n.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===a&&this.flags.indexOf("d")<0)return o;var s=this.prefixes[a];return s||(s=this.makeUpPrefix(a)),t[a]=!0,s+":"+o}.bind(this),h=s(e),m="<rdf:RDF";for(var g in this.defaultNamespace&&(m+=' xmlns="'+l(this.defaultNamespace)+'"'),t)if(t.hasOwnProperty(g)){var v=this.base&&this.flags.includes("z")?i.refTo(this.base,g):g;m+="\n xmlns:"+this.prefixes[g]+'="'+l(v)+'"'}return a([m+=">",h,"</rdf:RDF>"],-1)}statementsToJsonld(e){const t=this.statementsToN3(e),n=u.parse(t);return JSON.stringify(n,null,2)}}},89755:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(64467),i=n(8936),o=n(39403),a=n(3078);const s=new a.A;class l{constructor(e,t,n,o){(0,r.A)(this,"subject",void 0),(0,r.A)(this,"predicate",void 0),(0,r.A)(this,"object",void 0),(0,r.A)(this,"graph",void 0),this.subject=i.A.fromValue(e),this.predicate=i.A.fromValue(t),this.object=i.A.fromValue(n),this.graph=null==o?s:i.A.fromValue(o)}get why(){return this.graph}set why(e){this.graph=e}equals(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}substitute(e){return new l(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),(0,a.U)(this.graph)?this.graph:this.graph.substitute(e))}toCanonical(){let e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==o.ic&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}toNT(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}toNQ(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),(0,a.U)(this.graph)?"":this.graph.toNT()].join(" ")+" ."}toString(){return this.toNT()}}},42855:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(64467),i=n(51059),o=n(14275),a=n(15532),s=n(77335),l=n(54011),c=n(92915),u=n(39916),d=n(46320),p=n(76046),f=n(39403),h=n(75108),m=n(67364),g=n(60480),v=n(68921),y=n(3078),b=n(88616);const w="http://www.w3.org/2002/07/owl#";function x(e,t,n,r){var i=e.any(t,n,void 0);return!!i&&(e.equate(i,r),!0)}function E(e,t,n,r){var i=e.any(void 0,n,r);return!!i&&(e.equate(i,t),!0)}function _(e,t,n,r,i){e.typeCallback&&e.typeCallback(e,r,i);var o=e.classActions[e.id(r)],a=!1;if(o)for(var s=0;s<o.length;s++)a=a||o[s](e,t,n,r,i);return a}class k extends a.A{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(void 0,void 0,void 0,void 0,t),(0,r.A)(this,"updater",void 0),(0,r.A)(this,"namespaces",void 0),(0,r.A)(this,"classActions",void 0),(0,r.A)(this,"propertyActions",void 0),(0,r.A)(this,"redirections",void 0),(0,r.A)(this,"aliases",void 0),(0,r.A)(this,"HTTPRedirects",void 0),(0,r.A)(this,"subjectIndex",void 0),(0,r.A)(this,"predicateIndex",void 0),(0,r.A)(this,"objectIndex",void 0),(0,r.A)(this,"whyIndex",void 0),(0,r.A)(this,"index",void 0),(0,r.A)(this,"features",void 0),(0,r.A)(this,"_universalVariables",void 0),(0,r.A)(this,"_existentialVariables",void 0),(0,r.A)(this,"rdfArrayRemove",void 0),(0,r.A)(this,"dataCallbacks",void 0),this.propertyActions={},this.classActions={},this.redirections=[],this.aliases=[],this.HTTPRedirects=[],this.subjectIndex=[],this.predicateIndex=[],this.objectIndex=[],this.whyIndex=[],this.index=[this.subjectIndex,this.predicateIndex,this.objectIndex,this.whyIndex],this.namespaces={},this.features=e||[],this.rdfArrayRemove=t.rdfArrayRemove||l.RDFArrayRemove,t.dataCallback&&(this.dataCallbacks=[t.dataCallback]),this.initPropertyActions(this.features)}static get defaultGraphURI(){return o.U}substitute(e){var t=this.statements.map((function(t){return t.substitute(e)})),n=new k;return n.add(t),n}addDataCallback(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}applyPatch(e,t,n){var r,i=this,o=null;function a(a){if(e.delete){r=e.delete,o&&(r=r.substitute(o)),r=r.statements;var s=[],l=r.map((function(e){var n=i.statementsMatching(e.subject,e.predicate,e.object,t);return 0===n.length?(s.push(e),null):n[0]}));if(s.length)return n("Could not find to delete: "+s.join("\n or "));l.map((function(e){i.remove(e)}))}e.insert&&(r=e.insert,o&&(r=r.substitute(o)),(r=r.statements).map((function(e){e.graph=t,i.add(e.subject,e.predicate,e.object,e.graph)}))),a()}if(e.where){var s=new p.X("patch");s.pat=e.where,s.pat.statements.map((function(e){e.graph=(0,m.namedNode)(t.value)})),s.sync=!0;var l=[];i.query(s,(function(e){l.push(e)}),i.fetcher,(function(){return 0===l.length?n("No match found to be patched:"+e.where):l.length>1?n("Patch ambiguous. No patch done."):(o=l[0],void a(n))}))}else a(n)}declareExistential(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}initPropertyActions(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[_],(0,s.Do)(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${w}sameAs`))]=[function(e,t,n,r,i){return e.equate(t,r),!0}]),(0,s.Do)(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${w}InverseFunctionalProperty`))]=[function(e,t,n,r,i){return e.newPropertyAction(t,E)}]),(0,s.Do)(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${w}FunctionalProperty`))]=[function(e,t,n,r,i){return e.newPropertyAction(t,x)}])}addStatement(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}add(e,t,n,r){var i,o,a;if(1===arguments.length){if(e instanceof Array)for(i=0;i<e.length;i++)this.add(e[i]);else(0,c.aF)(e)?this.add(e.subject,e.predicate,e.object,e.graph):(0,c.ok)(e)&&this.add(e.statements);return this}r||(r=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=u.A.fromValue(t);const s=u.A.fromValue(n);if(r=u.A.fromValue(r),!(0,c.CZ)(e))throw new Error("Subject is not a subject type");if(!(0,c.fY)(t))throw new Error(`Predicate ${t} is not a predicate type`);if(!(0,c.DJ)(s))throw new Error(`Object ${s} is not an object type`);if(!(0,c.RN)(r))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,r);var l=this.id(this.canon(t)),d=!1;if(o=this.propertyActions[l])for(i=0;i<o.length;i++)d=d||o[i](this,e,t,s,r);if(this.holds(e,t,s,r))return null;var p=[this.id(this.canon(e)),l,this.id(this.canon(s)),this.id(this.canon(r))];for(a=this.rdfFactory.quad(e,t,s,r),i=0;i<4;i++){var f=this.index[i],h=p[i];f[h]||(f[h]=[]),f[h].push(a)}if(this.statements.push(a),this.dataCallbacks)for(const e of this.dataCallbacks)e(a);return a}canon(e){if(!e)return e;const t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case f.$Q:return new v.A(e.value);case f.r0:return e;case f.ic:return new y.A;case f.S:case f.bD:return e;case f.QW:return new b.A(e.value,e.language,e.datatype);case f.Kk:return new h.A(e.value);case f.P2:return new d.A(e.value);default:throw new Error(`Term Type not recognized for canonization: ${e.termType}`)}}check(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var n in t)t.hasOwnProperty(n)&&this.checkStatementList(t[n],e)}}checkStatementList(e,t){void 0===t&&(t=0);for(var n,r=" found in "+["subject","predicate","object","why"][t]+" index.",i=0;i<e.length;i++){for(var o=[(n=e[i]).subject,n.predicate,n.object,n.graph],a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.equals(t.subject)&&e[n].predicate.equals(t.predicate)&&e[n].object.equals(t.object)&&e[n].why.equals(t.graph))return!0},s=0;s<4;s++){var l=this.canon(o[s]),c=this.id(l);this.index[s][c]&&a(this.index[s][c],n)}if(!a(this.statements,n))throw new Error("Statement list does not statement "+n+"@"+n.graph+r)}}close(){return this}compareTerms(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):i.A[e.termType]<i.A[t.termType]?-1:i.A[e.termType]>i.A[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}copyTo(e,t,n){n||(n=[]);var r=this.statementsMatching(e);-1!==(0,s.Do)(n,"two-direction")&&r.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<r.length;i++){var o=r[i];switch(o.object.termType){case"NamedNode":this.add(t,o.predicate,o.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,o.predicate,o.object.copy(this))}-1!==(0,s.Do)(n,"delete")&&this.remove(o)}}equate(e,t){const n=this.canon(e),r=this.canon(t);var i=this.compareTerms(n,r);return!i||(i<0?this.replaceWith(r,n):this.replaceWith(n,r))}formula(e){return new k(e)}get length(){return this.statements.length}match(e,t,n,r){return this.statementsMatching(u.A.fromValue(e),u.A.fromValue(t),u.A.fromValue(n),u.A.fromValue(r))}mentionsURI(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}newExistential(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}newPropertyAction(e,t){var n=this.id(e);this.propertyActions[n]||(this.propertyActions[n]=[]),this.propertyActions[n].push(t);for(var r=this.statementsMatching(void 0,e,void 0),i=!1,o=0;o<r.length;o++)i=i||t(this,r[o].subject,e,r[o].object);return i}newUniversal(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}variable(e){return new d.A(e)}nextSymbol(e){for(var t=0;;t++){var n=e.value+"#n"+t;if(!this.mentionsURI(n))return this.sym(n)}}query(e,t,n,r){return p._.call(this,e,t,n,r)}querySync(e){var t=[],n=!1;if(e.sync=!0,p._.call(this,e,(function(e){t.push(e)}),null,(function(){n=!0})),!n)throw new Error("Sync query should have called done function");return t}remove(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if((0,c.ok)(e))return this.remove(e.statements);var n=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!n.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(n[0]),this}removeDocument(e){this.removeMetadata(e);for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),n=0;n<t.length;n++)this.removeStatement(t[n]);return this.removeMatches(e,null,null),this}removeMetadata(e){const t=this.sym("chrome://TheCurrentSession"),n="http://www.w3.org/2007/ont/link#",r=this.statementsMatching(void 0,this.sym(`${n}requestedURI`),this.rdfFactory.literal(e.value),t).map((e=>e.subject));for(var i=0;i<r.length;i++){const e=r[i];if(null!=e){let r;const i=this.any(e,this.sym(`${n}status`),null,t);if(null!=i){r=this.statementsMatching(i,this.sym(`${n}status`),null,t).slice();for(var o=0;o<r.length;o++)this.removeStatement(r[o])}const a=this.any(e,this.sym(`${n}response`),null,t);if(null!=a)for(r=this.statementsMatching(a,null,null,t).slice(),o=0;o<r.length;o++)this.removeStatement(r[o]);for(r=this.statementsMatching(e,null,null,t).slice(),o=0;o<r.length;o++)this.removeStatement(r[o])}}return this.removeMatches(this.sym(e.value),null,null,t),this}removeMany(e,t,n,r,i){for(var o=this.statementsMatching(e,t,n,r,!1),a=[],s=0;s<o.length;s++)a.push(o[s]);for(i&&(a=a.slice(0,i)),s=0;s<a.length;s++)this.remove(a[s])}removeMatches(e,t,n,r){return this.removeMany(e,t,n,r),this}removeStatement(e){for(var t=[e.subject,e.predicate,e.object,e.graph],n=0;n<4;n++){var r=this.canon(t[n]),i=this.id(r);this.index[n][i]&&this.rdfArrayRemove(this.index[n][i],e)}return this.rdfArrayRemove(this.statements,e),this}removeStatements(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}replaceWith(e,t){for(var n=this.id(e),r=this.id(t),i=function(e){var t=e[n];if(t){var i=e[r];e[r]=i?t.concat(i):t,delete e[n]}},o=0;o<4;o++)i(this.index[o]);if(this.redirections[n]=t,e.value){if(this.aliases[r]||(this.aliases[r]=[]),this.aliases[r].push(e),this.aliases[n])for(o=0;o<this.aliases[n].length;o++)this.redirections[this.id(this.aliases[n][o])]=t,this.aliases[r].push(this.aliases[n][o]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0}allAliases(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}sameThings(e,t){if(e.equals(t))return!0;var n=this.canon(e);if(!n)return!1;var r=this.canon(t);return!!r&&n.value===r.value}setPrefixForURI(e,t){if(("tab"!==e||!this.namespaces.tab)&&"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)){for(let e in this.namespaces)this.namespaces[e]==t&&delete this.namespaces[e];this.namespaces[e]=t}}statementsMatching(e,t,n,r,i){var o,a,s=[e,t,n,r],l=[],c=[],d=[],p=[];for(o=0;o<4;o++)l[o]=this.canon(u.A.fromValue(s[o])),l[o]?(p.push(o),c[o]=this.id(l[o])):d.push(o);if(0===p.length)return this.statements;if(1===p.length)return o=p[0],(a=this.index[o][c[o]])&&i&&a.length>1&&(a=a.slice(0,1)),a||[];var f,h,m=1e10;for(h=0;h<p.length;h++){if(o=p[h],!(a=this.index[o][c[o]]))return[];a.length<m&&(m=a.length,f=h)}for(var g=p[f],v=this.index[g][c[g]],y=p.slice(0,f).concat(p.slice(f+1)),b=[],w=["subject","predicate","object","why"],x=0;x<v.length;x++){var E=v[x];for(h=0;h<y.length;h++)if(o=y[h],!this.canon(E[w[o]]).equals(l[o])){E=null;break}if(null!=E&&(b.push(E),i))break}return b}uris(e){var t=this.canon(e),n=this.aliases[this.id(t)];if(!t.value)return[];var r=[t.value];if(n)for(var i=0;i<n.length;i++)r.push(n[i].uri);return r}serialize(e,t,n,r){return r={...r||{},namespaces:r?.namespaces?{...this.namespaces,...r.namespaces}:{...this.namespaces}},(0,g.A)(n,this,e,t,void 0,r)}}(0,r.A)(k,"handleRDFType",void 0),k.handleRDFType=_},39403:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>i,BR:()=>m,Fn:()=>w,H:()=>_,JG:()=>y,K9:()=>b,Kk:()=>r,MG:()=>h,P2:()=>a,QW:()=>o,S:()=>c,_0:()=>g,bD:()=>u,bM:()=>v,hu:()=>E,i2:()=>p,ic:()=>s,lc:()=>d,ny:()=>f,r0:()=>l,sT:()=>x});const r="NamedNode",i="BlankNode",o="Literal",a="Variable",s="DefaultGraph",l="Collection",c="Empty",u="Graph",d="text/html",p="application/ld+json",f="text/n3",h="application/n3",m="application/nquads",g="application/n-quads",v="application/n-triples",y="application/rdf+xml",b="application/sparql-update",w="application/sparql-update-single-match",x="text/turtle",E="application/x-turtle",_="application/xhtml+xml"},5108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{docpart:()=>o,document:()=>a,hostpart:()=>s,join:()=>l,protocol:()=>c,refTo:()=>u});var r=n(75108),i=i||console.log;function o(e){var t;return(t=e.indexOf("#"))<0?e:e.slice(0,t)}function a(e){return new r.A(o(e))}function s(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function l(e,t){var n,r,o,a,s,l=t.indexOf("#");if(l>0&&(t=t.slice(0,l)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(n<0)return i("Invalid base: "+t+" in join with given: "+e),e;if(r=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return r+e;if(t.indexOf("//",n)===n+1){if((o=t.indexOf("/",n+3))<0)return t.length-n-3>0?t+"/"+e:r+e}else if((o=t.indexOf("/",n+1))<0)return t.length-n-1>0?t+"/"+e:r+e;if(0===e.indexOf("/"))return t.slice(0,o)+e;if((a=(s=t.slice(o)).lastIndexOf("/"))<0)return r+e;for(a>=0&&a<s.length-1&&(s=s.slice(0,+a+1||9e9)),s+=e;s.match(/[^\/]*\/\.\.\//);)s=s.replace(/[^\/]*\/\.\.\//,"");return s=(s=s.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,o)+s}function c(e){const t=e.indexOf(":");return t<0?null:e.slice(0,t)}function u(e,t){var n,r,i,o,a,s,l,c,u,d,p,f,h=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=l=0,o=t.length;l<o&&t[n]===e[n];n=++l);if(e.slice(0,n).match(h)&&((r=t.indexOf("//"))<0&&(r=-2),i=t.indexOf("/",r+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[n]&&e.length===n)return t.slice(n);for(;n>0&&"/"!==t[n-1];)n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(s=0,c=0,a=(d=e.slice(n)).length;c<a;c++)"/"===d[c]&&s++;if(0===s&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===s&&n===t.length)return"./";if(f="",s>0)for(u=1,p=s;p>=1?u<=p:u>=p;p>=1?++u:--u)f+="../";return f+t.slice(n)}},54011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DOMParserFactory:()=>d,RDFArrayRemove:()=>b,callbackify:()=>u,domToString:()=>p,dtstamp:()=>h,dumpNode:()=>f,heavyCompare:()=>m,heavyCompareSPO:()=>g,linkRelationProperty:()=>c,log:()=>r.A,mediaTypeClass:()=>l,output:()=>v,parseXML:()=>y,stackString:()=>x,string:()=>s,string_startswith:()=>w,uri:()=>i});var r=n(4940),i=n(5108),o=n(75108),a=n(28978);e=n.hmd(e);const s={template:function(e,t){for(var n=e.split("%s"),r="",i=0;i<t.length;i++)t[i]+="",r+=n[i]+t[i];return r+n.slice(t.length).join()}};function l(e){return e=e.split(";")[0].trim(),new o.A("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function c(e){return new o.A("http://www.w3.org/ns/iana/link-relations/relation#"+e.trim())}function u(e,t){e.callbacks={};for(var n=t.length-1;n>=0;n--)e.callbacks[t[n]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,n){e.callbacks[t].push(n)},e.removeCallback=function(t,n){for(var r=0;r<e.callbacks[t].length;r++)if(e.callbacks[t][r].name===n)return e.callbacks[t].splice(r,1),!0;return!1},e.insertCallback=function(t,n){e.callbacks[t].unshift(n)},e.fireCallbacks=function(t,n){var r,i=[],o=[],a=e.callbacks[t].length;let s;for(r=a-1;r>=0;r--)s=e.callbacks[t][r],s&&s.apply(e,n)&&i.push(s);for(r=i.length-1;r>=0;r--)o.push(i[r]);for(r=a;r<e.callbacks[t].length;r++)o.push(e.callbacks[t][r]);e.callbacks[t]=o}}function d(){return window.DOMParser?new a.DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function p(e,t){var n=[];(t=t||{})&&t.selfClosing&&t.selfClosing.split(" ").forEach((function(e){n[e]=!0}));var r=[];return t&&t.skipAttributes&&t.skipAttributes.split(" ").forEach((function(e){r[e]=!0})),f(e,t,n,r)}function f(e,t,n,r){var i,o="",a=[!1];if(void 0===e.nodeType)return o;if(1===e.nodeType){if(e.hasAttribute("class")&&t&&t.classWithChildText&&e.matches(t.classWithChildText.class))o+=e.querySelector(t.classWithChildText.element).textContent;else if(!(t&&t.skipNodeWithClass&&e.matches("."+t.skipNodeWithClass))){var s=e.nodeName.toLowerCase();o+="<"+s;var l=[];for(i=e.attributes.length-1;i>=0;i--){var c=e.attributes[i];if(!(r&&r.length>0&&r[c.name]||/^\d+$/.test(c.name))){if("class"===c.name&&t&&t.replaceClassItemWith&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var u=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(u,t.replaceClassItemWith.target).trim()}"class"===c.name&&t&&t.skipClassWithValue&&t.skipClassWithValue===c.value||l.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(l.length>0&&(t&&t.sortAttributes&&l.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),o+=" "+l.join(" ")),n&&n.ename)o+=" />";else{for(o+=">",o+="html"===s?"\n  ":"",a.push("style"===s||"script"===s),i=0;i<e.childNodes.length;i++)o+=f(e.childNodes[i]);a.pop(),o+="body"===s?"</"+s+">\n":"</"+s+">"}}}else if(8===e.nodeType)o+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var d=e.nodeValue.replace(/\n+$/,"");o+=a[a.length-1]?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return o}function h(){var e=new Date,t=e.getYear()+1900,n=e.getMonth()+1,r=e.getDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getSeconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),o<10&&(o="0"+o),a<10&&(a="0"+a),t+"-"+n+"-"+r+"T"+i+":"+o+":"+a+"Z"}function m(e,t,n,r){var i=function(e){return"BlankNode"===e.termType?null:e},o=function(e){var t=n.statementsMatching(e).map((function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)})).concat(n.statementsMatching(void 0,void 0,e).map((function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)})));return t.sort(),t.join("\n")};const a=Object.prototype.hasOwnProperty.call(n,"compareTerms")?n.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===a?0:o(e)>o(t)?1:o(e)<o(t)?-1:a:r&&e.uri&&t.uri?(r[e.uri]||e.uri).localeCompare(r[t.uri]||t.uri):a}function g(e,t,n,r){return m(e.subject,t.subject,n,r)||m(e.predicate,t.predicate,n,r)||m(e.object,t.object,n,r)}function v(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function y(t,n){return n=n||{},e&&e.exports?(new a.DOMParser).parseFromString(t,n.contentType||"application/xhtml+xml"):("undefined"!=typeof window&&window.DOMParser?new window.DOMParser:new a.DOMParser).parseFromString(t,"application/xml")}function b(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.equals(t.subject)&&e[n].predicate.equals(t.predicate)&&e[n].object.equals(t.object)&&e[n].why.equals(t.why))return void e.splice(n,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function w(e,t){return e.slice(0,t.length)===t}function x(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var n=e.stack.toString().split("\n"),r=[],i=0;i<n.length;i++){var o=n[i];if(o.indexOf("ecmaunit.js")>-1)break;"("==o.charAt(0)&&(o="function"+o);var a=o.split("@");r.push(a)}for(i=0;i<r.length;i++)t+="  "+r[i][1]+"\n    "+r[i][0];return t}},77335:(e,t,n)=>{"use strict";n.d(t,{Do:()=>a,Eu:()=>r,XV:()=>o});const r=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],i={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function o(e,t,n){const r=[];return n.reduce(((t,n,o,a)=>{let s;return r.push(e.quad(t,e.namedNode(i.first),a[o])),o<a.length-1?(s=e.blankNode(),r.push(e.quad(t,e.namedNode(i.rest),s))):r.push(e.quad(t,e.namedNode(i.rest),e.namedNode(i.nil))),s}),t),r}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var r=e.length;for(n<0&&(n=r+n);n<r;n++)if(e[n]===t)return n;return-1}},14275:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(75108);const i="chrome:theSession";new r.A(i)},2931:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?e:e.value}n.d(t,{E:()=>r})},92915:(e,t,n)=>{"use strict";n.d(t,{CZ:()=>l,D0:()=>d,DJ:()=>s,DZ:()=>u,GE:()=>y,P3:()=>a,RN:()=>b,SH:()=>i,Y2:()=>h,YC:()=>v,aF:()=>f,c$:()=>p,fY:()=>c,hr:()=>g,jt:()=>m,ok:()=>o});var r=n(39403);function i(e){return"object"==typeof e&&null!==e&&"subject"in e}function o(e){return"object"==typeof e&&null!==e&&"statements"in e}function a(e){return d(e)&&e.termType===r.r0}function s(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.r0||e.termType===r.QW||e.termType===r.bD)}function l(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.r0||e.termType===r.QW||e.termType===r.bD)}function c(e){return d(e)&&(e.termType===r.Kk||e.termType===r.$Q||e.termType===r.P2)}function u(e){return d(e)&&e.termType===r.P2}function d(e){return"object"==typeof e&&null!==e&&"termType"in e}function p(e){return e.termType===r.QW}function f(e){return"object"==typeof e&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function h(e){return d(e)&&"NamedNode"===e.termType}function m(e){return d(e)&&"termType"in e&&"BlankNode"===e.termType}function g(e){return d(e)&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q)}function v(e){return d(e)&&(e.termType===r.Kk||e.termType===r.P2)}function y(e){return d(e)&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.QW)}function b(e){return d(e)&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.ic)}},46320:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(64467),i=n(51059),o=n(8936),a=n(39403),s=n(5108);class l extends o.A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(e),(0,r.A)(this,"termType",a.P2),(0,r.A)(this,"base","varid:"),(0,r.A)(this,"classOrder",i.A.Variable),(0,r.A)(this,"isVar",1),(0,r.A)(this,"uri",void 0),this.base="varid:",this.uri=s.join(e,this.base)}equals(e){return!!e&&this.termType===e.termType&&this.value===e.value}hashString(){return this.toString()}substitute(e){var t;return null!=(t=e[this.toNT()])?t:this}toString(){return l.toString(this)}static toString(e){return e.uri.slice(0,e.base.length)===e.base?`?${e.uri.slice(e.base.length)}`:`?${e.uri}`}}},63172:(e,t)=>{},22551:(e,t,n)=>{"use strict";var r=n(96540),i=n(45228),o=n(69982);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,_=60106,k=60107,S=60108,C=60114,A=60109,T=60110,P=60112,O=60113,I=60120,N=60115,F=60116,L=60121,R=60128,j=60129,M=60130,D=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),_=U("react.portal"),k=U("react.fragment"),S=U("react.strict_mode"),C=U("react.profiler"),A=U("react.provider"),T=U("react.context"),P=U("react.forward_ref"),O=U("react.suspense"),I=U("react.suspense_list"),N=U("react.memo"),F=U("react.lazy"),L=U("react.block"),U("react.scope"),R=U("react.opaque.id"),j=U("react.debug_trace_mode"),M=U("react.offscreen"),D=U("react.legacy_hidden")}var B,H="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=H&&e[H]||e["@@iterator"])?e:null}function W(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function $(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 22:return V(e.type._render,!1);case 1:return V(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case C:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return K(e.type);case L:return K(e._render);case F:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me,ge=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Te=null;function Pe(e){if(e=ni(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Ce(e.stateNode,e.type,t))}}function Oe(e){Ae?Te?Te.push(e):Te=[e]:Ae=e}function Ie(){if(Ae){var e=Ae,t=Te;if(Te=Ae=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ne(e,t){return e(t)}function Fe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Re=Ne,je=!1,Me=!1;function De(){null===Ae&&null===Te||(Le(),Ie())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){Be=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(me){Be=!1}function qe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var We=!1,ze=null,Ve=!1,$e=null,Ke={onError:function(e){We=!0,ze=e}};function Ge(e,t,n,r,i,o,a,s,l){We=!1,ze=null,qe.apply(Ke,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ye(e){if(Je(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,lt=null,ct=new Map,ut=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==lt&&vt(lt)&&(lt=null),ct.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},kt={},St={};function Ct(e){if(kt[e])return kt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return kt[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var At=Ct("animationend"),Tt=Ct("animationiteration"),Pt=Ct("animationstart"),Ot=Ct("transitionend"),It=new Map,Nt=new Map,Ft=["abort","abort",At,"animationEnd",Tt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),It.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Rt=8;function jt(e){if(0!=(1&e))return Rt=15,1;if(0!=(2&e))return Rt=14,2;if(0!=(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!=(32&e)?(Rt=11,32):0!=(t=192&e)?(Rt=10,t):0!=(256&e)?(Rt=9,256):0!=(t=3584&e)?(Rt=8,t):0!=(4096&e)?(Rt=7,4096):0!=(t=4186112&e)?(Rt=6,t):0!=(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!=(134217728&e)?(Rt=3,134217728):0!=(t=805306368&e)?(Rt=2,t):0!=(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=jt(l),i=Rt):0!=(s&=o)&&(r=jt(s),i=Rt)}else 0!=(o=n&~a)?(r=jt(o),i=Rt):0!==s&&(r=jt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(jt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Dt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&0===(e=Bt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Vt|0)|0},zt=Math.log,Vt=Math.LN2,$t=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function Jt(e,t,n,r){je||Le();var i=Yt,o=je;je=!0;try{Fe(i,e,t,n,r)}finally{(je=o)||De()}}function Qt(e,t,n,r){Kt($t,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&ht(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ht(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=sn(dn),fn=i({},dn,{view:0,detail:0}),hn=sn(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},fn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return Cn}var Tn=i({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=sn(Tn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Nn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Fn),Rn=[9,13,27,32],jn=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var Dn=d&&"TextEvent"in window&&!Mn,Un=d&&(!jn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),Hn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Kn(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Qn(e){Tr(e,0)}function Yn(e){if(Y(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Jn=Gn=null)}function ir(e){if("value"===e.propertyName&&Yn(Jn)){var t=[];if(Kn(t,Jn,e,Se(e)),e=Qn,je)e(t);else{je=!0;try{Ne(e,t)}finally{je=!1,De()}}}}function or(e,t,n){"focusin"===e?(rr(),Jn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Jn)}function sr(e,t){if("click"===e)return Yn(t)}function lr(e,t){if("input"===e||"change"===e)return Yn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ft,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<_r.length;kr++)Nt.set(_r[kr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ge.apply(this,arguments),We){if(!We)throw Error(a(198));var u=ze;We=!1,ze=null,Ve||(Ve=!0,$e=u)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,c),o=l}}}if(Ve)throw e=$e,Ve=!1,$e=null,e}function Pr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Cr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Fr(o,e,i,t),a.add(s))}function Fr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e();Me=!0;try{return Re(e,t,n)}finally{Me=!1,De()}}((function(){var r=o,i=Se(n),a=[];e:{var s=It.get(e);if(void 0!==s){var l=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case At:case Tt:case Pt:l=bn;break;case Ot:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!=(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=Ue(h,p))&&u.push(Rr(h,m,f))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(d=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:ri(l),f=null==c?s:ri(c),(s=new u(m,h+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,ti(i)===r&&((u=new u(p,h+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=Mr(f))h++;for(f=0,m=p;m;m=Mr(m))f++;for(;0<h-f;)u=Mr(u),h--;for(;0<f-h;)p=Mr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Mr(u),p=Mr(p)}u=null}else u=null;null!==l&&Dr(a,s,l,u,!1),null!==c&&null!==d&&Dr(a,d,c,u,!0)}if("select"===(l=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if($n(s))if(Zn)g=lr;else{g=ar;var v=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ri(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(v=jr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=Wn(n)))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!jn&&qn(e,t)?(e=nn(),tn=en=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Tr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ue(n,o))&&a.unshift(Rr(n,l,s)):i||null!=(l=Ue(n,o))&&a.push(Rr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Br=null,Hr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function $r(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0,Qr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Qr,Xr="__reactProps$"+Qr,Zr="__reactContainer$"+Qr,ei="__reactEvents$"+Qr;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Yr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function li(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var di={},pi=li(di),fi=li(!1),hi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function vi(){ci(fi),ci(pi)}function yi(e,t,n){if(pi.current!==di)throw Error(a(168));ui(pi,t),ui(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,hi=pi.current,ui(pi,e),ui(fi,fi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ci(fi),ci(pi),ui(pi,e)):ci(fi),ui(fi,n)}var Ei=null,_i=null,ki=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Pi=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Fi=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,ji={},Mi=void 0!==Ti?Ti:function(){},Di=null,Ui=null,Bi=!1,Hi=Pi(),qi=1e4>Hi?Pi:function(){return Pi()-Hi};function Wi(){switch(Oi()){case Ii:return 99;case Ni:return 98;case Fi:return 97;case Li:return 96;case Ri:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ii;case 98:return Ni;case 97:return Fi;case 96:return Li;case 95:return Ri;default:throw Error(a(332))}}function Vi(e,t){return e=zi(e),ki(e,t)}function $i(e,t,n){return e=zi(e),Si(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Gi()}function Gi(){if(!Bi&&null!==Di){Bi=!0;var e=0;try{var t=Di;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),Si(Ii,Ki),t}finally{Bi=!1}}}var Ji=x.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=li(null),Xi=null,Zi=null,eo=null;function to(){eo=Zi=Xi=null}function no(e){var t=Yi.current;ci(Yi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ja=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(a(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(p=o.baseState,s=0,d=u=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){p=h.call(f,p,l);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=m.payload)?h.call(f,p,l):h))break e;p=i({},p,l);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Us|=s,e.lanes=s,e.memoizedState=p}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=dl(e),o=co(r,i);o.payload=t,null!=n&&(o.callback=n),uo(e,o),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=dl(e),o=co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=dl(e),i=co(n,r);i.tag=2,null!=t&&(i.callback=t),uo(e,i),pl(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?hi:pi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?hi:pi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=$l(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case _:return(t=Jl(t,e.mode,n)).return=e,t}if(Eo(t)||q(t))return(t=$l(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===k?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null}if(Eo(n)||q(n))return null!==i?null:d(e,t,n,r,null);ko(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===k?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||q(r))return d(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=q(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,c))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=_o(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=$l(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Vl(o.type,o.key,o.props,null,e.mode,l)).ref=_o(e,r,o),l.return=e,e=l)}return s(e);case _:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gl(o,e.mode,l)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,l);if(q(o))return g(e,r,o,l);if(u&&ko(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Co=So(!0),Ao=So(!1),To={},Po=li(To),Oo=li(To),Io=li(To);function No(e){if(e===To)throw Error(a(174));return e}function Fo(e,t){switch(ui(Io,t),ui(Oo,e),ui(Po,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Po),ui(Po,t)}function Lo(){ci(Po),ci(Oo),ci(Io)}function Ro(e){No(Io.current);var t=No(Po.current),n=fe(t,e.type);t!==n&&(ui(Oo,e),ui(Po,n))}function jo(e){Oo.current===e&&(ci(Po),ci(Oo))}var Mo=li(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Bo=null,Ho=!1;function qo(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zo(e){if(Ho){var t=Bo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Kr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(Uo=e);qo(Uo,n)}Uo=e,Bo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,Uo=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function $o(e){if(e!==Uo)return!1;if(!Ho)return Vo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Bo;t;)qo(e,t),t=Kr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Uo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Bo=Uo=null,Ho=!1}var Go=[];function Jo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Qo=x.ReactCurrentDispatcher,Yo=x.ReactCurrentBatchConfig,Xo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Na:Fa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Qo.current=La,e=n(r,i)}while(ra)}if(Qo.current=Ia,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function la(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.lane;if((Xo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,Zo.lanes|=u,Us|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,cr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(ja=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function fa(e,t,n,r){var i=Is;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Qo.current,c=l.useState((function(){return pa(i,t,n)})),u=c[1],d=c[0];c=ta;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var g=Zo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(d,e)||(u(e),e=dl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Wt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=dl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(h,n)&&cr(m,t)&&cr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:d}).dispatch=u=Oa.bind(null,Zo,e),c.queue=e,c.baseQueue=null,d=pa(i,t,n),c.memoizedState=c.baseState=d),d}function ha(e,t,n){return fa(la(),e,t,n)}function ma(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Oa.bind(null,Zo,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},sa().memoizedState=e}function ya(){return la().memoizedState}function ba(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ga(t,n,o,r)}Zo.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function xa(e,t){return ba(516,4,e,t)}function Ea(e,t){return wa(516,4,e,t)}function _a(e,t){return wa(4,2,e,t)}function ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!=n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)}function Ca(){}function Aa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pa(e,t){var n=Wi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=n}}))}function Oa(e,t,n){var r=ul(),i=dl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(e){}pl(e,i,r)}}var Ia={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Na={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:xa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Zo,e),[r.memoizedState,e]},useRef:va,useState:ma,useDebugValue:Ca,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return xa((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return va(e=Pa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,ga(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Fa={readContext:oo,useCallback:Aa,useContext:oo,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:_a,useMemo:Ta,useReducer:ua,useRef:ya,useState:function(){return ua(ca)},useDebugValue:Ca,useDeferredValue:function(e){var t=ua(ca),n=t[0],r=t[1];return Ea((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ua(ca)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(ca)[0]},unstable_isNewReconciler:!1},La={readContext:oo,useCallback:Aa,useContext:oo,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:_a,useMemo:Ta,useReducer:da,useRef:ya,useState:function(){return da(ca)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(ca),n=t[0],r=t[1];return Ea((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},Ra=x.ReactCurrentOwner,ja=!1;function Ma(e,t,n,r){t.child=null===e?Ao(t,null,n,r):Co(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Ma(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?rs(e,t,o):(t.flags|=1,(e=zl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0==(o&i))return t.lanes=e.lanes,rs(e,t,o);0!=(16384&e.flags)&&(ja=!0)}return Wa(e,t,n,r,o)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},wl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(0,e),null;t.memoizedState={baseLanes:0},wl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wl(0,r);return Ma(e,t,i,n),t.child}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,i){var o=gi(n)?hi:pi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function za(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?oo(c):mi(t,c=gi(n)?hi:pi.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&wo(t,a,r,c),ao=!1;var p=t.memoizedState;a.state=p,fo(t,r,a,i),l=t.memoizedState,s!==r||p!==l||fi.current||ao?("function"==typeof u&&(go(t,n,u,r),l=t.memoizedState),(s=ao||yo(t,n,s,r,p,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),a.props=c,d=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mi(t,l=gi(n)?hi:pi.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&wo(t,a,r,l),ao=!1,p=t.memoizedState,a.state=p,fo(t,r,a,i);var h=t.memoizedState;s!==d||p!==h||fi.current||ao?("function"==typeof f&&(go(t,n,f,r),h=t.memoizedState),(c=ao||yo(t,n,c,r,p,h,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){qa(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&xi(t,n,!1),rs(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function $a(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Fo(e,t.containerInfo)}var Ka,Ga,Ja,Qa,Ya={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=Mo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Mo,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"==typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=Kl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zl(a,s),null!==e?r=zl(e,r):(r=$l(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Kl(t,i,0,null),n=$l(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ts(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(e,t,r.children,n),0!=(2&(r=Mo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,n);else if(19===e.tag)es(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Mo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ts(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Do(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ts(t,!0,n,null,o,t.lastEffect);break;case"together":ts(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function os(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Lo(),ci(fi),ci(pi),Jo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($o(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ga(t),null;case 5:jo(t);var o=No(Io.current);if(n=t.type,null!==e&&null!=t.stateNode)Ja(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Po.current),$o(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[Xr]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Pr(Sr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":le(r,s),Pr("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Pr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=pe(n)),e===de.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[Xr]=r,Ka(e,t,!1,!1),t.stateNode=e,c=ke(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),o=r;break;case"iframe":case"object":case"embed":Pr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Pr(Sr[o],e);o=r;break;case"source":Pr("error",e),o=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),o=r;break;case"details":Pr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Pr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Pr("invalid",e);break;default:o=r}_e(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Pr("scroll",e):null!=d&&w(e,s,d,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(Io.current),No(Po.current),$o(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ci(Mo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&$o(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Is||0==(134217727&Us)&&0==(134217727&Bs)||gl(Is,Fs))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),Ga(t),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Mo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)is(r,!1);else{if(0!==js||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Do(e))){for(t.flags|=64,is(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Mo,1&Mo.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>zs&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Do(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ho)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Mo.current,ui(Mo,s?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function as(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),ci(fi),ci(pi),Jo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return jo(e),null;case 13:return ci(Mo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Mo),null;case 4:return Lo(),null;case 10:return no(e),null;case 23:case 24:return xl(),null;default:return null}}function ss(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(){},Ja=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Po.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(d in _e(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Pr("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===R?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"==typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Dl(e,t)}else t.current=null}function hs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&$r(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Rl(n,e),Ll(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(_i&&"function"==typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Rl(t,n);else{r=t;try{i()}catch(e){Dl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Dl(t,e)}break;case 5:fs(t);break;case 4:_s(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(vs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ve(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var As=Math.ceil,Ts=x.ReactCurrentDispatcher,Ps=x.ReactCurrentOwner,Os=0,Is=null,Ns=null,Fs=0,Ls=0,Rs=li(0),js=0,Ms=null,Ds=0,Us=0,Bs=0,Hs=0,qs=null,Ws=0,zs=1/0;function Vs(){zs=qi()+500}var $s,Ks=null,Gs=!1,Js=null,Qs=null,Ys=!1,Xs=null,Zs=90,el=[],tl=[],nl=null,rl=0,il=null,ol=-1,al=0,sl=0,ll=null,cl=!1;function ul(){return 0!=(48&Os)?qi():-1!==ol?ol:ol=qi()}function dl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Wi()?1:2;if(0===al&&(al=Ds),0!==Ji.transition){0!==sl&&(sl=null!==qs?qs.pendingLanes:0),e=al;var t=4186112&~sl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Wi(),e=Ut(0!=(4&Os)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al)}function pl(e,t,n){if(50<rl)throw rl=0,il=null,Error(a(185));if(null===(e=fl(e,t)))return null;qt(e,t,n),e===Is&&(Bs|=t,4===js&&gl(e,Fs));var r=Wi();1===t?0!=(8&Os)&&0==(48&Os)?vl(e):(hl(e,n),0===Os&&(Vs(),Ki())):(0==(4&Os)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),hl(e,n)),qs=e}function fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Wt(s),c=1<<l,u=o[l];if(-1===u){if(0==(c&r)||0!=(c&i)){u=t,jt(c);var d=Rt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===Is?Fs:0),t=Rt,0===r)null!==n&&(n!==ji&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ci(n)}15===t?(n=vl.bind(null,e),null===Di?(Di=[n],Ui=Si(Ii,Gi)):Di.push(n),n=ji):14===t?n=$i(99,vl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=$i(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,sl=al=0,0!=(48&Os))throw Error(a(327));var t=e.callbackNode;if(Fl()&&e.callbackNode!==t)return null;var n=Mt(e,e===Is?Fs:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=kl();for(Is===e&&Fs===r||(Vs(),El(e,r));;)try{Al();break}catch(t){_l(e,t)}if(to(),Ts.current=o,Os=i,null!==Ns?r=0:(Is=null,Fs=0,r=js),0!=(Ds&Bs))El(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(n=Dt(e))&&(r=Sl(e,n))),1===r)throw t=Ms,El(e,0),gl(e,n),hl(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ol(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Ol.bind(null,e),r);break}Ol(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=zr(Ol.bind(null,e),n);break}Ol(e);break;default:throw Error(a(329))}}return hl(e,qi()),e.callbackNode===t?ml.bind(null,e):null}function gl(e,t){for(t&=~Hs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!=(48&Os))throw Error(a(327));if(Fl(),e===Is&&0!=(e.expiredLanes&Fs)){var t=Fs,n=Sl(e,t);0!=(Ds&Bs)&&(n=Sl(e,t=Mt(e,t)))}else n=Sl(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(t=Dt(e))&&(n=Sl(e,t))),1===n)throw n=Ms,El(e,0),gl(e,t),hl(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),hl(e,qi()),null}function yl(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Vs(),Ki())}}function bl(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Vs(),Ki())}}function wl(e,t){ui(Rs,Ls),Ls|=t,Ds|=t}function xl(){Ls=Rs.current,ci(Rs)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Lo(),ci(fi),ci(pi),Jo();break;case 5:jo(r);break;case 4:Lo();break;case 13:case 19:ci(Mo);break;case 10:no(r);break;case 23:case 24:xl()}n=n.return}Is=e,Ns=zl(e.current,null),Fs=Ls=Ds=t,js=0,Ms=null,Hs=Bs=Us=0}function _l(e,t){for(;;){var n=Ns;try{if(to(),Qo.current=Ia,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=Zo=null,ra=!1,Ps.current=null,null===n||null===n.return){js=1,Ms=t,Ns=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Fs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Mo.current),p=a;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=p.updateQueue;if(null===g){var v=new Set;v.add(c),p.updateQueue=v}else g.add(c);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,uo(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new cs,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var w=Ul.bind(null,o,c,s);c.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),l=ss(l,s),p=a;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,po(p,us(0,o,t));break e;case 1:o=l;var x=p.type,E=p.stateNode;if(0==(64&p.flags)&&("function"==typeof x.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Qs||!Qs.has(E)))){p.flags|=4096,t&=-t,p.lanes|=t,po(p,ds(p,o,t));break e}}p=p.return}while(null!==p)}Pl(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function kl(){var e=Ts.current;return Ts.current=Ia,null===e?Ia:e}function Sl(e,t){var n=Os;Os|=16;var r=kl();for(Is===e&&Fs===t||El(e,t);;)try{Cl();break}catch(t){_l(e,t)}if(to(),Os=n,Ts.current=r,null!==Ns)throw Error(a(261));return Is=null,Fs=0,js}function Cl(){for(;null!==Ns;)Tl(Ns)}function Al(){for(;null!==Ns&&!Ai();)Tl(Ns)}function Tl(e){var t=$s(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Pl(e):Ns=t,Ps.current=null}function Pl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=os(n,t,Ls)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ls)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===js&&(js=5)}function Ol(e){var t=Wi();return Vi(99,Il.bind(null,e,t)),null}function Il(e,t){do{Fl()}while(null!==Xs);if(0!=(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Wt(o),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==nl&&0==(24&r)&&nl.has(e)&&nl.delete(e),e===Is&&(Ns=Is=null,Fs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,Br=Gt,gr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,h=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(p=d+o),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===l&&++h===o&&(p=d),v===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Hr={focusedElem:s,selectionRange:l},Gt=!1,ll=null,cl=!1,Ks=r;do{try{Nl()}catch(e){if(null===Ks)throw Error(a(330));Dl(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);ll=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ve(Ks.stateNode,""),128&b){var w=Ks.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ws(Ks),Ks.flags&=-3;break;case 6:ws(Ks),Ks.flags&=-3,ks(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,ks(Ks.alternate,Ks);break;case 4:ks(Ks.alternate,Ks);break;case 8:_s(s,l=Ks);var E=l.alternate;ys(l),null!==E&&ys(E)}Ks=Ks.nextEffect}}catch(e){if(null===Ks)throw Error(a(330));Dl(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);if(x=Hr,w=mr(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,E=Math.min(s.start,l),s=void 0===s.end?E:Math.min(s.end,l),!x.extend&&E>s&&(l=s,s=E,E=l),l=fr(b,E),o=fr(b,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),E>s?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Gt=!!Br,Hr=Br=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var _=Ks.flags;if(36&_&&ms(b,Ks.alternate,Ks),128&_){w=void 0;var k=Ks.ref;if(null!==k){var S=Ks.stateNode;Ks.tag,w=S,"function"==typeof k?k(w):k.current=w}}Ks=Ks.nextEffect}}catch(e){if(null===Ks)throw Error(a(330));Dl(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Mi(),Os=i}else e.current=n;if(Ys)Ys=!1,Xs=e,Zs=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===il?rl++:(rl=0,il=e):rl=0,n=n.stateNode,_i&&"function"==typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64==(64&n.current.flags))}catch(e){}if(hl(e,qi()),Gs)throw Gs=!1,e=Js,Js=null,e;return 0!=(8&Os)||Ki(),null}function Nl(){for(;null!==Ks;){var e=Ks.alternate;cl||null===ll||(0!=(8&Ks.flags)?Ze(Ks,ll)&&(cl=!0):13===Ks.tag&&Cs(e,Ks)&&Ze(Ks,ll)&&(cl=!0));var t=Ks.flags;0!=(256&t)&&hs(e,Ks),0==(512&t)||Ys||(Ys=!0,$i(97,(function(){return Fl(),null}))),Ks=Ks.nextEffect}}function Fl(){if(90!==Zs){var e=97<Zs?97:Zs;return Zs=90,Vi(e,jl)}return!1}function Ll(e,t){el.push(t,e),Ys||(Ys=!0,$i(97,(function(){return Fl(),null})))}function Rl(e,t){tl.push(t,e),Ys||(Ys=!0,$i(97,(function(){return Fl(),null})))}function jl(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!=(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Dl(o,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Dl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,Ki(),!0}function Ml(e,t,n){uo(e,t=us(0,t=ss(n,t),1)),t=ul(),null!==(e=fl(e,1))&&(qt(e,1,t),hl(e,t))}function Dl(e,t){if(3===e.tag)Ml(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ml(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=ds(n,e=ss(t,e),1);if(uo(n,i),i=ul(),null!==(n=fl(n,1)))qt(n,1,i),hl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Fs&n)===n&&(4===js||3===js&&(62914560&Fs)===Fs&&500>qi()-Ws?El(e,0):Hs|=n),hl(e,t)}function Bl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Wi()?1:2:(0===al&&(al=Ds),0===(t=Bt(62914560&~al))&&(t=4194304))),n=ul(),null!==(e=fl(e,t))&&(qt(e,t,n),hl(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new Hl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Wl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return $l(n.children,i,o,t);case j:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(e=ql(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case O:return(e=ql(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case I:return(e=ql(19,n,t,i)).elementType=I,e.lanes=o,e;case M:return Kl(n,i,o,t);case D:return(e=ql(24,n,t,i)).elementType=D,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case T:s=9;break e;case P:s=11;break e;case N:s=14;break e;case F:s=16,r=null;break e;case L:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ql(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $l(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Kl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=M,e.lanes=n,e}function Gl(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Jl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Yl(e,t,n,r){var i=t.current,o=ul(),s=dl(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),pl(i,s,o),s}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xl(a);s.call(e)}}Yl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Xl(a);l.call(e)}}bl((function(){Yl(t,a,e,i)}))}return Xl(a)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)ja=!0;else{if(0==(n&r)){switch(ja=!1,t.tag){case 3:$a(t),Ko();break;case 5:Ro(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Xa(e,t,n):(ui(Mo,1&Mo.current),null!==(t=rs(e,t,n))?t.sibling:null);ui(Mo,1&Mo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ns(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Mo,Mo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return rs(e,t,n)}ja=0!=(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,pi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,xo(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Ma(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Wl(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===N)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Wa(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=Da(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if($a(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=rs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Kr(t.stateNode.containerInfo.firstChild),Uo=t,o=Ho=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Ao(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ma(e,t,r,n),Ko();t=t.child}return t;case 5:return Ro(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),qa(e,t),Ma(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Xa(e,t,n);case 4:return Fo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ui(Yi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=cr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){t=rs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=co(-1,n&-n)).tag=2,uo(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ro(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ua(e,t,i,o=Qi(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),xo(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return ns(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},tc.prototype.render=function(e){Yl(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Yl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pl(e,4,ul()),ec(e,4))},tt=function(e){13===e.tag&&(pl(e,67108864,ul()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=dl(e);pl(e,n,t),ec(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=yl,Fe=function(e,t,n,r,i){var o=Os;Os|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Vs(),Ki())}},Le=function(){0==(49&Os)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hl(e,qi())}))}Ki()}(),Fl())},Re=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Vs(),Ki())}};var oc={Events:[ni,ri,ii,Oe,Ie,Fl,{current:!1}]},ac={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ei=lc.inject(sc),_i=lc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!=(48&n))return e(t);Os|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Os=n,Ki()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(bl((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},40961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(22551)},22799:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||x(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},44363:(e,t,n)=>{"use strict";e.exports=n(22799)},46169:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}function i(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.r(t),n.d(t,{JssContext:()=>Rn,JssProvider:()=>Qn,SheetsRegistry:()=>ve,ThemeProvider:()=>y,createGenerateId:()=>Ee,createJsx:()=>Zn,createTheming:()=>h,createUseStyles:()=>$n,default:()=>tr,jss:()=>Un,jsx:()=>er,styled:()=>Xn,useTheme:()=>b,withStyles:()=>Gn,withTheme:()=>v});var o=n(96540),a=n(4146),s=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t=function(t){var n,r;function i(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return l(u(u(n=t.call.apply(t,[this].concat(i))||this)),"cachedTheme",void 0),l(u(u(n)),"lastOuterTheme",void 0),l(u(u(n)),"lastTheme",void 0),l(u(u(n)),"renderProvider",(function(t){var r=n.props.children;return o.createElement(e.Provider,{value:n.getTheme(t)},r)})),n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=i.prototype;return a.getTheme=function(e){if(this.props.theme!==this.lastTheme||e!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=e,this.lastTheme=this.props.theme,"function"==typeof this.lastTheme){var t=this.props.theme;this.cachedTheme=t(e)}else{var n=this.props.theme;this.cachedTheme=e?c({},e,n):n}return this.cachedTheme},a.render=function(){return this.props.children?o.createElement(e.Consumer,null,this.renderProvider):null},i}(o.Component);return t}function p(e){return function(t){var n=o.forwardRef((function(n,r){return o.createElement(e.Consumer,null,(function(e){return o.createElement(t,c({theme:e,ref:r},n))}))}));return s()(n,t),n}}function f(e){return function(){return o.useContext(e)}}function h(e){return{context:e,withTheme:p(e),useTheme:f(e),ThemeProvider:d(e)}}n(63172);var m=(0,o.createContext)(),g=h(m),v=g.withTheme,y=g.ThemeProvider,b=g.useTheme,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const x="object"===("undefined"==typeof window?"undefined":w(window))&&"object"===("undefined"==typeof document?"undefined":w(document))&&9===document.nodeType;var E=n(59526);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,E.A)(r.key),r)}}function k(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T={}.constructor;function P(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(P);if(e.constructor!==T)return e;var t={};for(var n in e)t[n]=P(e[n]);return t}function O(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=P(t);return r.plugins.onCreateRule(e,i,n)||(e[0],null)}var I=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},N=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=I(e[n]," ");else t=I(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function F(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function L(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function R(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=F(n),l=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var u=0;u<a.length;u++){var d=a[u];for(var p in d){var f=d[p];null!=f&&(r&&(r+=l),r+=L(p+":"+c+N(f)+";",o))}}else for(var h in a){var m=a[h];null!=m&&(r&&(r+=l),r+=L(h+":"+c+N(m)+";",o))}for(var g in t){var v=t[g];null!=v&&"fallbacks"!==g&&(r&&(r+=l),r+=L(g+":"+c+N(v)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),L(""+e+c+"{"+r,--o)+L("}",o)):r}var j=/([[\].#*$><+~=|^:(),"'`\s])/g,M="undefined"!=typeof CSS&&CSS.escape,D=function(e){return M?M(e):e.replace(j,"\\$1")},U=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),B=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(A(A(i)),s),i.selectorText="."+D(i.id)),i}C(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=N(n))}return e},n.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?r({},e,{allowEmpty:!0}):e;return R(this.selectorText,this.style,n)},k(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;n&&t&&(t.setSelector(n,e)||t.replaceRule(n,this))}},get:function(){return this.selectorText}}]),t}(U),H={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new B(e,t,n)}},q={indent:1,children:!0},W=/@([\w-]+)/,z=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(W);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new he(r({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=q);var t=F(e).linebreak;if(null==e.indent&&(e.indent=q.indent),null==e.children&&(e.children=q.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),V=/@container|@media|@supports\s+/,$={onCreateRule:function(e,t,n){return V.test(e)?new z(e,t,n):null}},K={indent:1,children:!0},G=/@keyframes\s+([\w-]+)/,J=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(G);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:D(s(this,a)),this.rules=new he(r({},n,{parent:this})),t)this.rules.add(l,t[l],r({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=K);var t=F(e).linebreak;if(null==e.indent&&(e.indent=K.indent),null==e.children&&(e.children=K.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Q=/@keyframes\s+/,Y=/\$([\w-]+)/g,X=function(e,t){return"string"==typeof e?e.replace(Y,(function(e,n){return n in t?t[n]:e})):e},Z=function(e,t,n){var r=e[t],i=X(r,n);i!==r&&(e[t]=i)},ee={onCreateRule:function(e,t,n){return"string"==typeof e&&Q.test(e)?new J(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Z(e,"animation-name",n.keyframes),"animation"in e&&Z(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return X(e,r.keyframes);default:return e}}},te=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?r({},e,{allowEmpty:!0}):e;return R(this.key,this.style,n)},t}(U),ne={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new te(e,t,n):null}},re=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=F(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=R(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return R(this.at,this.style,e)},e}(),ie=/@font-face/,oe={onCreateRule:function(e,t,n){return ie.test(e)?new re(e,t,n):null}},ae=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return R(this.key,this.style,e)},e}(),se={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new ae(e,t,n):null}},le=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ce={"@charset":!0,"@import":!0,"@namespace":!0},ue={onCreateRule:function(e,t,n){return e in ce?new le(e,t,n):null}},de=[H,$,ee,ne,oe,se,ue],pe={process:!0},fe={force:!0,process:!0},he=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,l=i.Renderer,c=i.generateId,u=i.scoped,d=r({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(d.selector="."+D(this.classes[p]));var f=O(p,t,d);if(!f)return null;this.register(f);var h=void 0===d.index?this.index.length:d.index;return this.index.splice(h,0,f),f},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=r({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof B?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof J&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof B?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof J&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=pe);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[l];c!==s[l]&&t.prop(l,c,fe)}for(var u in s){var d=t.style[u],p=s[u];null==d&&d!==p&&t.prop(u,null,fe)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=F(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),me=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=r({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new he(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ge=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ve=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=i(t,["attached"]),o=F(r).linebreak,a="",s=0;s<this.registry.length;s++){var l=this.registry[s];null!=n&&l.attached!==n||(a&&(a+=o),a+=l.toString(r))}return a},k(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ye=new ve,be="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),we="2f1acc6c3a606b082e5eef5e54414ffb";null==be[we]&&(be[we]=0);var xe=be[we]++,Ee=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+xe+i+t:o+n.key+"-"+xe+(i?"-"+i:"")+"-"+t}},_e=function(e){var t;return function(){return t||(t=e()),t}},ke=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},Se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=N(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(e){return!1}return!0},Ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},Ae=function(e,t){return e.selectorText=t,e.selectorText===t},Te=_e((function(){return document.querySelector("head")}));var Pe=_e((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Oe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},Ie=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ne=function(){function e(e){this.getPropertyValue=ke,this.setProperty=Se,this.removeProperty=Ce,this.setSelector=Ae,this.hasInsertedRules=!1,this.cssRules=[],e&&ye.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=Pe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=function(e){var t=ye.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=Te(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else Te().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=Ie(n,t);if(!1===(i=Oe(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=Ie(n,t),l=Oe(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof me&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Fe=0,Le=function(){function e(e){this.id=Fe++,this.version="10.10.0",this.plugins=new ge,this.options={id:{minify:!1},createGenerateId:Ee,Renderer:x?Ne:null,plugins:[]},this.generateId=Ee({minify:!1});for(var t=0;t<de.length;t++)this.plugins.use(de[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=r({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===ye.index?0:ye.index+1);var i=new me(e,r({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ye.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=r({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=O(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Re=function(e){return new Le(e)},je=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet},t.unmanage=function(e){var t=this.sheets.get(e);t&&t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach())},k(e,[{key:"size",get:function(){return this.length}}]),e}(),Me="object"==typeof CSS&&null!=CSS&&"number"in CSS;function De(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=De(r);o&&(t||(t={}),t[n]=o)}}return t}Re();var Ue=Date.now(),Be="fnValues"+Ue,He="fnStyle"+ ++Ue;var qe=n(9423),We=function(e){return e&&e[qe.A]&&e===e[qe.A]()};var ze=/;\n/,Ve=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(ze),r=0;r<n.length;r++){var i=(n[r]||"").trim();if(i){var o=i.indexOf(":");if(-1!==o){var a=i.substr(0,o).trim(),s=i.substr(o+1).trim();t[a]=s}}}return t}(e.style))};var $e="@global",Ke=function(){function e(e,t,n){for(var i in this.type="global",this.at=$e,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new he(r({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ge=function(){function e(e,t,n){this.type="global",this.at=$e,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(8);this.rule=n.jss.createRule(i,t,r({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Je=/\s*,\s*/g;function Qe(e,t){for(var n=e.split(Je),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ye=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},Xe="extendCurrValue"+Date.now();function Ze(e,t,n,i){return void 0===i&&(i={}),function(e,t,n,i){if("string"!=typeof e.extend)if(Array.isArray(e.extend))for(var o=0;o<e.extend.length;o++){var a=e.extend[o];Ze("string"==typeof a?r({},e,{extend:a}):e.extend[o],t,n,i)}else for(var s in e.extend)"extend"!==s?Ye(e.extend[s])?(s in i||(i[s]={}),Ze(e.extend[s],t,n,i[s])):i[s]=e.extend[s]:Ze(e.extend.extend,t,n,i);else{if(!n)return;var l=n.getRule(e.extend);if(!l)return;if(l===t)return;var c=l.options.parent;c&&Ze(c.rules.raw[e.extend],t,n,i)}}(e,t,n,i),function(e,t,n,r){for(var i in e)"extend"!==i&&(Ye(r[i])&&Ye(e[i])?Ze(e[i],t,n,r[i]):Ye(e[i])?r[i]=Ze(e[i],t,n):r[i]=e[i])}(e,t,n,i),i}const et=function(){return{onProcessStyle:function(e,t,n){return"extend"in e?Ze(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var r in n[Xe])n.prop(r,null);return n[Xe]=null,null}if("object"==typeof e){for(var i in e)n.prop(i,e[i]);n[Xe]=e}return null}}};var tt=/\s*,\s*/g,nt=/&/g,rt=/\$([\w-]+)/g;const it=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(tt),r=e.split(tt),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(nt,a):a+" "+l}return i}function n(e,t,n){if(n)return r({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=r({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,l,c=o,u=c.options.parent;for(var d in i){var p=-1!==d.indexOf("&"),f="@"===d[0];if(p||f){if(s=n(c,u,s),p){var h=t(d,c.selector);l||(l=e(u,a)),h=h.replace(rt,l);var m=c.key+"-"+d;"replaceRule"in u?u.replaceRule(m,i[d],r({},s,{selector:h})):u.addRule(m,i[d],r({},s,{selector:h}))}else f&&u.addRule(d,{},s).addRule(c.key,i[d],{selector:c.selector});delete i[d]}}return i}}};function ot(e,t){if(!t)return!0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(!ot(e,t[n]))return!1;return!0}if(t.indexOf(" ")>-1)return ot(e,t.split(" "));var r=e.options.parent;if("$"===t[0]){var i=r.getRule(t.substr(1));return!!i&&i!==e&&(r.classes[e.key]+=" "+r.classes[i.key],!0)}return r.classes[e.key]+=" "+t,!0}const at=function(){return{onProcessStyle:function(e,t){return"composes"in e?(ot(t,e.composes),delete e.composes,e):e}}};var st=/[A-Z]/g,lt=/^ms-/,ct={};function ut(e){return"-"+e.toLowerCase()}const dt=function(e){if(ct.hasOwnProperty(e))return ct[e];var t=e.replace(st,ut);return ct[e]=lt.test(t)?"-"+t:t};function pt(e){var t={};for(var n in e)t[0===n.indexOf("--")?n:dt(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(pt):t.fallbacks=pt(e.fallbacks)),t}var ft=Me&&CSS?CSS.px:"px",ht=Me&&CSS?CSS.ms:"ms",mt=Me&&CSS?CSS.percent:"%";function gt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var vt=gt({"animation-delay":ht,"animation-duration":ht,"background-position":ft,"background-position-x":ft,"background-position-y":ft,"background-size":ft,border:ft,"border-bottom":ft,"border-bottom-left-radius":ft,"border-bottom-right-radius":ft,"border-bottom-width":ft,"border-left":ft,"border-left-width":ft,"border-radius":ft,"border-right":ft,"border-right-width":ft,"border-top":ft,"border-top-left-radius":ft,"border-top-right-radius":ft,"border-top-width":ft,"border-width":ft,"border-block":ft,"border-block-end":ft,"border-block-end-width":ft,"border-block-start":ft,"border-block-start-width":ft,"border-block-width":ft,"border-inline":ft,"border-inline-end":ft,"border-inline-end-width":ft,"border-inline-start":ft,"border-inline-start-width":ft,"border-inline-width":ft,"border-start-start-radius":ft,"border-start-end-radius":ft,"border-end-start-radius":ft,"border-end-end-radius":ft,margin:ft,"margin-bottom":ft,"margin-left":ft,"margin-right":ft,"margin-top":ft,"margin-block":ft,"margin-block-end":ft,"margin-block-start":ft,"margin-inline":ft,"margin-inline-end":ft,"margin-inline-start":ft,padding:ft,"padding-bottom":ft,"padding-left":ft,"padding-right":ft,"padding-top":ft,"padding-block":ft,"padding-block-end":ft,"padding-block-start":ft,"padding-inline":ft,"padding-inline-end":ft,"padding-inline-start":ft,"mask-position-x":ft,"mask-position-y":ft,"mask-size":ft,height:ft,width:ft,"min-height":ft,"max-height":ft,"min-width":ft,"max-width":ft,bottom:ft,left:ft,top:ft,right:ft,inset:ft,"inset-block":ft,"inset-block-end":ft,"inset-block-start":ft,"inset-inline":ft,"inset-inline-end":ft,"inset-inline-start":ft,"box-shadow":ft,"text-shadow":ft,"column-gap":ft,"column-rule":ft,"column-rule-width":ft,"column-width":ft,"font-size":ft,"font-size-delta":ft,"letter-spacing":ft,"text-decoration-thickness":ft,"text-indent":ft,"text-stroke":ft,"text-stroke-width":ft,"word-spacing":ft,motion:ft,"motion-offset":ft,outline:ft,"outline-offset":ft,"outline-width":ft,perspective:ft,"perspective-origin-x":mt,"perspective-origin-y":mt,"transform-origin":mt,"transform-origin-x":mt,"transform-origin-y":mt,"transform-origin-z":mt,"transition-delay":ht,"transition-duration":ht,"vertical-align":ft,"flex-basis":ft,"shape-margin":ft,size:ft,gap:ft,grid:ft,"grid-gap":ft,"row-gap":ft,"grid-row-gap":ft,"grid-column-gap":ft,"grid-template-rows":ft,"grid-template-columns":ft,"grid-auto-rows":ft,"grid-auto-columns":ft,"box-shadow-x":ft,"box-shadow-y":ft,"box-shadow-blur":ft,"box-shadow-spread":ft,"font-line-height":ft,"text-shadow-x":ft,"text-shadow-y":ft,"text-shadow-blur":ft});function yt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=yt(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=yt(i,t[i],n);else for(var o in t)t[o]=yt(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var a=n[e]||vt[e];return!a||0===t&&a===ft?t.toString():"function"==typeof a?a(t).toString():""+t+a}return t}const bt=function(e){void 0===e&&(e={});var t=gt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=yt(r,e[r],t);return e},onChangeValue:function(e,n){return yt(n,e,t)}}};var wt={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},xt={position:!0,size:!0},Et={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},_t={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function kt(e,t,n,r){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?kt(e[0],t,n,r):"object"==typeof e[0]?function(e,t,n){return e.map((function(e){return St(e,t,n,!1,!0)}))}(e,t,r):[e]}function St(e,t,n,r,i){if(!Et[t]&&!_t[t])return[];var o=[];if(_t[t]&&(e=function(e,t,n,r){for(var i in n){var o=n[i];if(void 0!==e[i]&&(r||!t.prop(o))){var a,s=Ct((a={},a[o]=e[i],a),t)[o];r?t.style.fallbacks[o]=s:t.style[o]=s}delete e[i]}return e}(e,n,_t[t],r)),Object.keys(e).length)for(var a in Et[t])e[a]?Array.isArray(e[a])?o.push(null===xt[a]?e[a]:e[a].join(" ")):o.push(e[a]):null!=Et[t][a]&&o.push(Et[t][a]);return!o.length||i?o:[o]}function Ct(e,t,n){for(var r in e){var i=e[r];if(Array.isArray(i)){if(!Array.isArray(i[0])){if("fallbacks"===r){for(var o=0;o<e.fallbacks.length;o++)e.fallbacks[o]=Ct(e.fallbacks[o],t,!0);continue}e[r]=kt(i,r,wt,t),e[r].length||delete e[r]}}else if("object"==typeof i){if("fallbacks"===r){e.fallbacks=Ct(e.fallbacks,t,!0);continue}e[r]=St(i,r,t,n),e[r].length||delete e[r]}else""===e[r]&&delete e[r]}return e}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tt="",Pt="",Ot="",It="",Nt=x&&"ontouchstart"in document.documentElement;if(x){var Ft={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Lt=document.createElement("p").style;for(var Rt in Ft)if(Rt+"Transform"in Lt){Tt=Rt,Pt=Ft[Rt];break}"Webkit"===Tt&&"msHyphens"in Lt&&(Tt="ms",Pt=Ft.ms,It="edge"),"Webkit"===Tt&&"-apple-trailing-word"in Lt&&(Ot="apple")}var jt=Tt,Mt=Pt,Dt=Ot,Ut=It,Bt=Nt,Ht={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===jt?"-webkit-"+e:Mt+e)}},qt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===jt?Mt+"print-"+e:e)}},Wt=/[-\s]+(.)?/g;function zt(e,t){return t?t.toUpperCase():""}function Vt(e){return e.replace(Wt,zt)}function $t(e){return Vt("-"+e)}var Kt,Gt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===jt){var n="mask-image";if(Vt(n)in t)return e;if(jt+$t(n)in t)return Mt+e}return e}},Jt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Dt||Bt?e:Mt+e)}},Qt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Mt+e)}},Yt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Mt+e)}},Xt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===jt||"ms"===jt&&"edge"!==Ut?Mt+e:e)}},Zt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===jt||"ms"===jt||"apple"===Dt?Mt+e:e)}},en={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===jt?"WebkitColumn"+$t(e)in t&&Mt+"column-"+e:"Moz"===jt&&"page"+$t(e)in t&&"page-"+e)}},tn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===jt)return e;var n=e.replace("-inline","");return jt+$t(n)in t&&Mt+n}},nn={supportedProperty:function(e,t){return Vt(e)in t&&e}},rn={supportedProperty:function(e,t){var n=$t(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:jt+n in t?Mt+e:"Webkit"!==jt&&"Webkit"+n in t&&"-webkit-"+e}},on={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===jt?""+Mt+e:e)}},an={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===jt?Mt+"scroll-chaining":e)}},sn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},ln={supportedProperty:function(e,t){var n=sn[e];return!!n&&jt+$t(n)in t&&Mt+n}},cn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},un=Object.keys(cn),dn=function(e){return Mt+e},pn={supportedProperty:function(e,t,n){var r=n.multiple;if(un.indexOf(e)>-1){var i=cn[e];if(!Array.isArray(i))return jt+$t(i)in t&&Mt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(jt+$t(i[0])in t))return!1;return i.map(dn)}return!1}},fn=[Ht,qt,Gt,Jt,Qt,Yt,Xt,Zt,en,tn,nn,rn,on,an,ln,pn],hn=fn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),mn=fn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,function(e){if(Array.isArray(e))return At(e)}(n=t.noPrefill)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e;var n}),[]),gn={};if(x){Kt=document.createElement("p");var vn=window.getComputedStyle(document.documentElement,"");for(var yn in vn)isNaN(yn)||(gn[vn[yn]]=vn[yn]);mn.forEach((function(e){return delete gn[e]}))}function bn(e,t){if(void 0===t&&(t={}),!Kt)return e;if(null!=gn[e])return gn[e];"transition"!==e&&"transform"!==e||(t[e]=e in Kt.style);for(var n=0;n<hn.length&&(gn[e]=hn[n](e,Kt.style,t),!gn[e]);n++);try{Kt.style[e]=""}catch(e){return!1}return gn[e]}var wn,xn={},En={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},_n=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function kn(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?bn(t):", "+bn(n))||t||n}function Sn(e,t){var n=t;if(!wn||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=xn[r])return xn[r];try{wn.style[e]=n}catch(e){return xn[r]=!1,!1}if(En[e])n=n.replace(_n,kn);else if(""===wn.style[e]&&("-ms-flex"===(n=Mt+n)&&(wn.style[e]="-ms-flexbox"),wn.style[e]=n,""===wn.style[e]))return xn[r]=!1,!1;return wn.style[e]="",xn[r]=n,xn[r]}x&&(wn=document.createElement("p"));const Cn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=bn(n);o&&o!==n&&(i=!0);var a=!1,s=Sn(o,N(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===jt?e:"@"+Mt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Sn(t,N(e))||e}}},An=function(e){return void 0===e&&(e={}),{plugins:[{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=O(e,{},n);return r[He]=t,r},onProcessStyle:function(e,t){if(Be in t||He in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[Be]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[He];o&&(i.style=o(e)||{});var a=i[Be];if(a)for(var s in a)i.prop(s,a[s](e),r)}},(n=e.observable,{onCreateRule:function(e,t,r){if(!We(t))return null;var i=t,o=O(e,{},r);return i.subscribe((function(e){for(var t in e)o.prop(t,e[t],n)})),o},onProcessRule:function(e){if(!e||"style"===e.type){var t=e,r=t.style,i=function(e){var i=r[e];if(!We(i))return"continue";delete r[e],i.subscribe({next:function(r){t.prop(e,r,n)}})};for(var o in r)i(o)}}}),{onProcessRule:Ve},{onCreateRule:function(e,t,n){if(!e)return null;if(e===$e)return new Ke(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,8))return new Ge(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,o=i?i[$e]:null;if(o){for(var a in o)t.addRule(a,o[a],r({},n,{selector:Qe(a,e.selector)}));delete i[$e]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,7)===$e){var a=Qe(o.substr(7),e.selector);t.addRule(a,i[o],r({},n,{selector:a})),delete i[o]}}(e,t))}},et(),it(),at(),{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=pt(e[t]);return e}return pt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=dt(t);return t===r?e:(n.prop(r,e),null)}},bt(e.defaultUnit),{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=Ct(e[n],t);return e}return Ct(e,t)}},Cn(),(t=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length},{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r={},i=Object.keys(e).sort(t),o=0;o<i.length;o++)r[i[o]]=e[i[o]];return r}})]};var t,n};var Tn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const Pn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return Tn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var On=Re(An()),In=function(e){void 0===e&&(e=On);var t,n=new Map,r=0,i=function(){return(!t||t.rules.index.length>1e4)&&(t=e.createStyleSheet().attach()),t};function o(){var e=arguments,t=JSON.stringify(e),o=n.get(t);if(o)return o.className;var a=[];for(var s in e){var l=e[s];if(Array.isArray(l))for(var c=0;c<l.length;c++)a.push(l[c]);else a.push(l)}for(var u={},d=[],p=0;p<a.length;p++){var f=a[p];if(f){var h=f;if("string"==typeof f){var m=n.get(f);m&&(m.labels.length&&d.push.apply(d,m.labels),h=m.style)}h.label&&-1===d.indexOf(h.label)&&d.push(h.label),Object.assign(u,h)}}delete u.label;var g=(0===d.length?"css":d.join("-"))+"-"+r++;i().addRule(g,u);var v=i().classes[g],y={style:u,labels:d,className:v};return n.set(t,y),n.set(v,y),v}return o.getSheet=i,o}();const Nn=In;var Fn=Number.MIN_SAFE_INTEGER||-1e9,Ln=function(){return Fn++},Rn=(0,o.createContext)({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!x}),jn=new Map,Mn=function(e,t){var n=e.managers;if(n)return n[t]||(n[t]=new je),n[t];var r=jn.get(t);return r||(r=new je,jn.set(t,r)),r},Dn=function(e){var t=e.sheet,n=e.context,r=e.index,i=e.theme;t&&(Mn(n,r).manage(i),n.registry&&n.registry.add(t))},Un=Re(An()),Bn=new WeakMap,Hn=function(e){return Bn.get(e)},qn=function(e){if(!e.context.disableStylesGeneration){var t=Mn(e.context,e.index),n=t.get(e.theme);if(n)return n;var i=e.context.jss||Un,o=function(e){var t=e.styles;return"function"!=typeof t?t:t(e.theme)}(e),a=De(o),s=i.createStyleSheet(o,function(e,t){var n;e.context.id&&null!=e.context.id.minify&&(n=e.context.id.minify);var i=e.context.classNamePrefix||"";e.name&&!n&&(i+=e.name.replace(/\s/g,"-")+"-");var o="";return e.name&&(o=e.name+", "),o+="function"==typeof e.styles?"Themed":"Unthemed",r({},e.sheetOptions,{index:e.index,meta:o,classNamePrefix:i,link:t,generateId:e.sheetOptions&&e.sheetOptions.generateId?e.sheetOptions.generateId:e.context.generateId})}(e,null!==a));return function(e,t){Bn.set(e,t)}(s,{dynamicStyles:a,styles:o}),t.add(e.theme,s),s}},Wn=function(e,t){var n=Hn(e);if(n){var r={};for(var i in n.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,n.dynamicStyles[i]),s=o;s<e.rules.index.length;s++){var l=e.rules.index[s];e.updateOne(l,t),r[a===l?i:l.key]=l}return r}};function zn(e){return e?o.useEffect:o.useInsertionEffect||o.useLayoutEffect}var Vn={},$n=function(e,t){void 0===t&&(t={});var n=t,r=n.index,a=void 0===r?Ln():r,s=n.theming,l=n.name,c=i(n,["index","theming","name"]),u=s&&s.context||m,d={};return function(t){var n=(0,o.useRef)(!0),r=(0,o.useContext)(Rn),i=function(t){return"function"==typeof e&&(t||(0,o.useContext)(u))||Vn}(t&&t.theme),s=(0,o.useMemo)((function(){var n=qn({context:r,styles:e,name:l,theme:i,index:a,sheetOptions:c});return n&&r.isSSR&&Dn({index:a,context:r,sheet:n,theme:i}),[n,n?Wn(n,t):null]}),[r,i]),p=s[0],f=s[1];zn(r.isSSR)((function(){p&&f&&!n.current&&function(e,t,n){for(var r in n)t.updateOne(n[r],e)}(t,p,f)}),[t]),zn(r.isSSR)((function(){return p&&Dn({index:a,context:r,sheet:p,theme:i}),function(){p&&(function(e){e.sheet&&Mn(e.context,e.index).unmanage(e.theme)}({index:a,context:r,sheet:p,theme:i}),f&&function(e,t){for(var n in t)e.deleteRule(t[n])}(p,f))}}),[p]);var h=(0,o.useMemo)((function(){return p&&f?function(e,t){if(!t)return e.classes;var n=Hn(e);if(!n)return e.classes;var r={};for(var i in n.styles)r[i]=e.classes[i],i in t&&(r[i]+=" "+e.classes[t[i].key]);return r}(p,f):d}),[p,f]);return(0,o.useDebugValue)(h),(0,o.useDebugValue)(i===Vn?"No theme":i),(0,o.useEffect)((function(){n.current=!1})),h}},Kn=function(e){return e.children||null},Gn=function(e,t){void 0===t&&(t={});var n=t,a=n.index,l=void 0===a?Ln():a,c=n.theming,u=n.injectTheme,d=i(n,["index","theming","injectTheme"]),p=c?c.context:m;return function(t){void 0===t&&(t=Kn);var n,i,a,f,h=(n=t).displayName||n.name||"Component",m=(i=function(e,t){return t?function(e,t){var n=r({},e);for(var i in t)n[i]=i in n?n[i]+" "+t[i]:t[i];return n}(e,t):e},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Array.isArray(a)&&t.length===a.length){for(var r=!0,o=0;o<t.length;o++)t[o]!==a[o]&&(r=!1);if(r)return f}return a=t,f=i.apply(void 0,t)}),g=Object.assign(d,{theming:c,index:l,name:h}),v=$n(e,g),y=(0,o.forwardRef)((function(e,n){var i=(0,o.useContext)(p),a=r({},e);u&&null==a.theme&&(a.theme=i);var s=v(a),l=m(s,e.classes);return(0,o.createElement)(t,r({},a,{classes:l,ref:n}))}));return y.displayName="WithStyles("+h+")",y.defaultProps=r({},t.defaultProps),y.InnerComponent=t,s()(y,t)}},Jn={};function Qn(e){var t=(0,o.useRef)({}),n=(0,o.useRef)(),i=(0,o.useRef)(null);return(0,o.createElement)(Rn.Consumer,null,(function(a){var s=e.children,l=function(n,o){void 0===o&&(o=Jn);var a=e.registry,s=e.classNamePrefix,l=e.jss,c=e.generateId,u=e.disableStylesGeneration,d=e.media,p=e.id,f=e.isSSR,h=r({},n);return a&&(h.registry=a,a!==i.current&&(t.current={},i.current=a)),h.managers=t.current,void 0!==p&&(h.id=p),void 0!==c?h.generateId=c:h.generateId&&o&&h.id===o.id||(h.generateId=Ee(h.id)),s&&(h.classNamePrefix=(h.classNamePrefix||"")+s),void 0!==d&&(h.media=d),l&&(h.jss=l),void 0!==u&&(h.disableStylesGeneration=u),void 0!==f&&(h.isSSR=f),o&&function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}(o,h)?o:h}(a,n.current);return n.current=l,(0,o.createElement)(Rn.Provider,{value:l},s)}))}var Yn=Symbol("react-jss-styled"),Xn=function(e,t){void 0===t&&(t={});var n=t.theming,r="string"==typeof e,a=n?n.context:m,s=function(e,t){var n=t.shouldForwardProp,r=e[Yn],i=n||r;return n&&r&&(i=function(e){return r(e)&&n(e)}),i}(e,t),l=t,c=(l.shouldForwardProp,i(l,["shouldForwardProp"]));return function(){var t=function(e){var t,n=[],r=[];for(var i in e){var o=e[i];if(o)if("function"==typeof o)n.push(o);else{t||(t={}),Object.assign(t,o);var a=t.label;a&&-1===r.indexOf(a)&&r.push(a)}}var s={},l=0===r.length?"sc":r.join("-");return t&&("label"in t&&delete t.label,s[l]=t),1===n.length&&(s.scd=n[0]),n.length>1&&(s.scd=function(e){for(var t={},r=0;r<n.length;r++){var i=n[r](e);i&&Object.assign(t,i)}return t}),{styles:s,label:l}}(arguments),n=t.styles,i=t.label,l=$n(n,c);return function(t){var n=t.as,c=t.className,u=(0,o.useContext)(a),d=Object.assign({theme:u},t),p=l(d),f=function(e,t,n){var r={};for(var i in e)t?!0===t(i)&&(r[i]=e[i]):n?Pn(i)&&(r[i]=e[i]):r[i]=e[i];return r}(t,s,r),h=((p[i]||p.sc||"")+" "+(p.scd||"")).trim();return f.className=c?c+" "+h:h,!r&&s&&(e[Yn]=s),r&&n?(0,o.createElement)(n,f):(0,o.createElement)(e,f)}}},Zn=function(e){return void 0===e&&(e=Nn),function(t,n){var r=arguments;if(n&&n.css){var i=e(n.css),a=Object.assign({},n);a.className=n.className?n.className+" "+i:i,delete a.css,r[1]=a}return o.createElement.apply(void 0,r)}},er=Zn();const tr=Gn},15287:(e,t,n)=>{"use strict";var r=n(45228),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+C(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+C(s=e[c],c);l+=A(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,n,u=r+C(s,c++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function I(){var e=O.current;if(null===e)throw Error(f(321));return e}var N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},96540:(e,t,n)=>{"use strict";e.exports=n(15287)},7463:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(e){throw x.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,x.postMessage(null))},r=function(e,n){v=p((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],T=1,P=null,O=3,I=!1,N=!1,F=!1;function L(e){for(var t=_(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,E(C,t)}t=_(A)}}function R(e){if(F=!1,L(e),!N)if(null!==_(C))N=!0,n(j);else{var t=_(A);null!==t&&r(R,t.startTime-e)}}function j(e,n){N=!1,F&&(F=!1,i()),I=!0;var o=O;try{for(L(n),P=_(C);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"==typeof a){P.callback=null,O=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?P.callback=s:P===_(C)&&k(C),L(n)}else k(C);P=_(C)}if(null!==P)var l=!0;else{var c=_(A);null!==c&&r(R,c.startTime-n),l=!1}return l}finally{P=null,O=o,I=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||I||(N=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return _(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,E(A,e),null===_(C)&&e===_(A)&&(F?i():F=!0,r(R,a-s))):(e.sortIndex=l,E(C,e),N||I||(N=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},69982:(e,t,n)=>{"use strict";e.exports=n(7463)},14803:(e,t,n)=>{"use strict";var r=n(58859),i=n(69675),o=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=function(e,t){if(e)return o(e,t,!0)}(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return function(e,t){if(e){var n=o(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!o(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var r=o(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},80507:(e,t,n)=>{"use strict";var r=n(70453),i=n(36556),o=n(58859),a=n(69675),s=r("%Map%",!0),l=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),u=i("Map.prototype.has",!0),d=i("Map.prototype.delete",!0),p=i("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var n=d(e,t);return 0===p(e)&&(e=void 0),n}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,n){e||(e=new s),c(e,t,n)}};return t}},72271:(e,t,n)=>{"use strict";var r=n(70453),i=n(36556),o=n(58859),a=n(80507),s=n(69675),l=r("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),p=i("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(n){if(l&&n&&("object"==typeof n||"function"==typeof n)){if(e)return p(e,n)}else if(a&&t)return t.delete(n);return!1},get:function(n){return l&&n&&("object"==typeof n||"function"==typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return l&&n&&("object"==typeof n||"function"==typeof n)&&e?d(e,n):!!t&&t.has(n)},set:function(n,r){l&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new l),u(e,n,r)):a&&(t||(t=a()),t.set(n,r))}};return n}:a},920:(e,t,n)=>{"use strict";var r=n(69675),i=n(58859),o=n(14803),a=n(80507),s=n(72271)||a||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=s()),e.set(t,n)}};return t}},31888:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ACL_LINK=void 0,t.createAclLogic=function(e){var n=a.ns;function s(e,t,r,i){void 0===i&&(i={});var a=i.public||[],s=(0,o.graph)(),l=(0,o.Namespace)("http://www.w3.org/ns/auth/acl#"),c=s.sym("".concat(r,"#a1")),u=s.sym(r),d=s.sym(e);if(s.add(c,n.rdf("type"),l("Authorization"),u),s.add(c,l("accessTo"),d,u),i.defaultForNew&&s.add(c,l("default"),d,u),s.add(c,l("agent"),t,u),s.add(c,l("mode"),l("Read"),u),s.add(c,l("mode"),l("Write"),u),s.add(c,l("mode"),l("Control"),u),a.length){c=s.sym("".concat(r,"#a2")),s.add(c,n.rdf("type"),l("Authorization"),u),s.add(c,l("accessTo"),d,u),s.add(c,l("agentClass"),n.foaf("Agent"),u);for(var p=0;p<a.length;p++)s.add(c,l("mode"),l(a[p]),u)}return(0,o.serialize)(u,s,r)}return{findAclDocUrl:function(n){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,e.fetcher.load(n)];case 1:if(i.sent(),!(r=e.any(n,t.ACL_LINK)))throw new Error("No ACL link discovered for ".concat(n));return[2,r.value]}}))}))},setACLUserPublic:function(n,r,i){var o=e.any(e.sym(n),t.ACL_LINK);return Promise.resolve().then((function(){return o||function(n){var r=e.fetcher;if(!r)throw new Error("Cannot fetch ACL rel, store has no fetcher");return r.load(n).then((function(r){if(!r.ok)throw new Error("fetchACLRel: While loading:"+r.error);var i=e.any(e.sym(n),t.ACL_LINK);if(!i)throw new Error("fetchACLRel: No Link rel=ACL header for "+n);return i}))}(n).catch((function(e){throw new Error("Error fetching rel=ACL header for ".concat(n,": ").concat(e))}))})).then((function(t){var o=s(n,r,t.uri,i);if(!e.fetcher)throw new Error("Cannot PUT this, store has no fetcher");return e.fetcher.webOperation("PUT",t.uri,{data:o,contentType:"text/turtle"}).then((function(e){if(!e.ok)throw new Error("Error writing ACL text: "+e.error);return t}))}))},genACLText:s}};var o=n(67364),a=n(20733);t.ACL_LINK=(0,o.sym)("http://www.iana.org/assignments/link-relations/acl")},84208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authSession=void 0;var r=n(32452);t.authSession=new r.Session({clientAuthentication:(0,r.getClientAuthenticationWithDependencies)({})},"mySession")},51085:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolidAuthnLogic=void 0;var c=n(67364),u=n(49288),d=a(n(68339)),p=function(){function e(e){this.session=e}return Object.defineProperty(e.prototype,"authSession",{get:function(){return this.session},enumerable:!1,configurable:!0}),e.prototype.currentUser=function(){var e=(0,u.appContext)();return e.viewingNoAuthPage?(0,c.sym)(e.webId):this&&this.session&&this.session.info&&this.session.info.webId&&this.session.info.isLoggedIn?(0,c.sym)(this.session.info.webId):(0,u.offlineTestID)()},e.prototype.checkUser=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,o,a;return l(this,(function(s){switch(s.label){case 0:return(t=new URL(window.location.href).hash)&&window.localStorage.setItem("preLoginRedirectHash",t),this.session.onSessionRestore((function(e){document.location.toString()!==e&&history.replaceState(null,"",e)})),(n=new URL(window.location.href)).hash="",[4,this.session.handleIncomingRedirect({restorePreviousSession:!0,url:n.href})];case 1:return s.sent(),(r=window.localStorage.getItem("preLoginRedirectHash"))&&((i=new URL(window.location.href)).hash!==r&&(history.pushState?history.pushState(null,document.title,r):location.hash=r,i.hash=r),window.localStorage.setItem("preLoginRedirectHash","")),(o=(0,u.offlineTestID)())||((a=this.webIdFromSession(this.session.info))&&(o=this.saveUser(a)),o&&d.log("(Logged in as ".concat(o," by authentication)"))),[2,Promise.resolve(e?e(o):o)]}}))}))},e.prototype.saveUser=function(e,t){var n;if(e){n="string"==typeof e?e:e.uri;var r=(0,c.namedNode)(n);return t&&(t.me=r),r}return null},e.prototype.webIdFromSession=function(e){return(null==e?void 0:e.webId)&&e.isLoggedIn?e.webId:null},e}();t.SolidAuthnLogic=p},49288:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.appContext=void 0,t.offlineTestID=function(){var e=window.$SolidTestEnvironment;if(void 0!==e&&e.username)return l.log("Assuming the user is "+e.username),(0,s.sym)(e.username);if("undefined"!=typeof document&&document.location&&"http://localhost"===(""+document.location).slice(0,16)){var t=document.getElementById("appTarget");if(!t)return null;var n=t.getAttribute("testID");return n?(l.log("Assuming user is "+n),(0,s.sym)(n)):null}return null};var s=n(67364),l=a(n(68339));t.appContext=function(){var e=window.SolidAppContext;if(e||(e={}),e.viewingNoAuthPage=!1,e.noAuth&&window.document&&window.document.location.href.startsWith(e.noAuth)){e.viewingNoAuthPage=!0;var t=new URLSearchParams(window.document.location.search);if(t){var n=e.viewedPage=t.get("uri")||null;if(n&&!(n=decodeURI(n)).startsWith(e.noAuth)){var r=n.split(/\//);e.idp=r[0]+"//"+r[2],e.viewingNoAuthPage=!1}}}return e}},29154:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChatLogic=function(e,t){var n=s.ns;function u(t,n,r){return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:return[4,e.fetcher.load(t)];case 1:if(o.sent(),!(i=e.any(t,new a.NamedNode("http://www.iana.org/assignments/link-relations/acl"))))throw new Error("Chat ACL doc not found!");return s="\n            @prefix acl: <http://www.w3.org/ns/auth/acl#>.\n            <#owner>\n            a acl:Authorization;\n            acl:agent <".concat(n.value,">;\n            acl:accessTo <.>;\n            acl:default <.>;\n            acl:mode\n                acl:Read, acl:Write, acl:Control.\n            <#invitee>\n            a acl:Authorization;\n            acl:agent <").concat(r.value,">;\n            acl:accessTo <.>;\n            acl:default <.>;\n            acl:mode\n                acl:Read, acl:Append.\n            "),[4,e.fetcher.webOperation("PUT",i.value,{data:s,contentType:"text/turtle"})];case 2:return o.sent(),[2]}}))}))}function d(t,r){return i(this,void 0,void 0,(function(){var i,s,c;return o(this,(function(o){switch(o.label){case 0:if(!(i=e.any(r,n.solid("privateTypeIndex"))))throw new Error("Private type index not found!");return[4,e.fetcher.load(i)];case 1:return o.sent(),s=(0,l.newThing)(i),c=[(0,a.st)(s,n.rdf("type"),n.solid("TypeRegistration"),i.doc()),(0,a.st)(s,n.solid("forClass"),n.meeting("LongChat"),i.doc()),(0,a.st)(s,n.solid("instance"),t,i.doc())],[4,new Promise((function(t,n){e.updater.update([],c,(function(e,r,i){r?t(null):n(new Error(i))}))}))];case 2:return o.sent(),[2]}}))}))}function p(n){return i(this,void 0,void 0,(function(){var r,i,s,c;return o(this,(function(o){switch(o.label){case 0:return[4,t.loadMe()];case 1:return r=o.sent(),[4,t.getPodRoot(r)];case 2:i=o.sent(),s=(0,l.determineChatContainer)(n,i),c=!0,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,e.fetcher.load(new a.NamedNode(s.value+"index.ttl#this"))];case 4:return o.sent(),[3,6];case 5:return o.sent(),c=!1,[3,6];case 6:return[2,{me:r,chatContainer:s,exists:c}]}}))}))}function f(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,h({me:t,newBase:e.value})];case 1:return[2,n.sent().newInstance]}}))}))}function h(t){var i=e,o=i.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);var s=t.newInstance=t.newInstance||i.sym(t.newBase+c),l=s.doc();return i.add(s,n.rdf("type"),n.meeting("LongChat"),l),i.add(s,n.dc("title"),"Chat channel",l),i.add(s,n.dc("created"),(0,a.term)(new Date(Date.now())),l),t.me&&i.add(s,n.dc("author"),t.me,l),new Promise((function(e,n){null==o||o.put(l,i.statementsMatching(void 0,void 0,void 0,l),"text/turtle",(function(i,o,a){o?e(r(r({},t),{newInstance:s})):n(new Error("FAILED to save new chat channel at: "+i+" : "+a))}))}))}function m(t,r){return i(this,void 0,void 0,(function(){var i,a,s,l;return o(this,(function(o){switch(o.label){case 0:return[4,e.fetcher.load(t.doc())];case 1:if(o.sent(),!(i=e.any(t,n.ldp("inbox"),void 0,t.doc())))throw new Error("Invitee inbox not found! ".concat(t.value));return a="\n        <> a <http://www.w3.org/ns/pim/meeting#LongChatInvite> ;\n        ".concat(n.rdf("seeAlso")," <").concat(r.value,"> .\n        "),[4,null===(l=e.fetcher)||void 0===l?void 0:l.webOperation("POST",i.value,{data:a,contentType:"text/turtle"})];case 2:if(!(null==(s=o.sent())?void 0:s.headers.get("location")))throw new Error("Invite sending returned a ".concat(null==s?void 0:s.status));return[2]}}))}))}return{setAcl:u,addToPrivateTypeIndex:d,findChat:p,createChatThing:f,getChat:function(e){return i(this,arguments,void 0,(function(e,t){var n,r,i,s;return void 0===t&&(t=!0),o(this,(function(o){switch(o.label){case 0:return[4,p(e)];case 1:return n=o.sent(),r=n.me,i=n.chatContainer,n.exists?[2,new a.NamedNode(i.value+c)]:t?[4,f(i,r)]:[3,6];case 2:return s=o.sent(),[4,m(e,s)];case 3:return o.sent(),[4,u(i,r,e)];case 4:return o.sent(),[4,d(s,r)];case 5:return o.sent(),[2,s];case 6:return[2,null]}}))}))},sendInvite:m,mintNew:h}};var a=n(67364),s=n(20733),l=n(79013),c="index.ttl#this"},58476:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createInboxLogic=function(e,t,n,a,s){return{createInboxFor:function(e,o){return r(this,void 0,void 0,(function(){var r,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,t.loadMe()];case 1:return r=i.sent(),[4,t.getPodRoot(r)];case 2:return s=i.sent(),l="".concat(s.value,"p2p-inboxes/").concat(encodeURIComponent(o),"/"),[4,a.createContainer(l)];case 3:return i.sent(),[4,n.setSinglePeerAccess({ownerWebId:r.value,peerWebId:e,accessToModes:"acl:Append",target:l})];case 4:return i.sent(),[2,l]}}))}))},getNewMessages:function(e){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return e?[3,2]:[4,t.loadMe()];case 1:e=r.sent(),r.label=2;case 2:return[4,t.getMainInbox(e)];case 3:return n=r.sent(),[4,a.getContainerMembers(n)];case 4:return[2,r.sent().filter((function(e){return!a.isContainer(e)}))]}}))}))},markAsRead:function(t,n){return r(this,void 0,void 0,(function(){var r,a,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,e.fetcher._fetch(t)];case 1:if(200!==(r=i.sent()).status)throw new Error("Not OK! ".concat(t));return a=(0,o.getArchiveUrl)(t,n),l={method:"PUT"},[4,r.text()];case 2:return l.body=i.sent(),l.headers=[["Content-Type",r.headers.get("Content-Type")||"application/octet-stream"]],s=l,[4,e.fetcher._fetch(a,s)];case 3:return"2"!==i.sent().status.toString()[0]?[3,5]:[4,e.fetcher._fetch(t,{method:"DELETE"})];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}}};var o=n(79013)},23451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authSession=t.authn=t.store=t.solidLogicSingleton=t.WebOperationError=t.NotEditableError=t.FetchError=t.NotFoundError=t.SameOriginForbiddenError=t.CrossOriginForbiddenError=t.UnauthorizedError=t.getSuggestedIssuers=t.appContext=t.offlineTestID=t.ACL_LINK=void 0;var r=n(46);Object.defineProperty(t,"solidLogicSingleton",{enumerable:!0,get:function(){return r.solidLogicSingleton}});var i=r.solidLogicSingleton.authn;t.authn=i;var o=r.solidLogicSingleton.authn.authSession;t.authSession=o;var a=r.solidLogicSingleton.store;t.store=a;var s=n(31888);Object.defineProperty(t,"ACL_LINK",{enumerable:!0,get:function(){return s.ACL_LINK}});var l=n(49288);Object.defineProperty(t,"offlineTestID",{enumerable:!0,get:function(){return l.offlineTestID}}),Object.defineProperty(t,"appContext",{enumerable:!0,get:function(){return l.appContext}});var c=n(27016);Object.defineProperty(t,"getSuggestedIssuers",{enumerable:!0,get:function(){return c.getSuggestedIssuers}});var u=n(1033);Object.defineProperty(t,"UnauthorizedError",{enumerable:!0,get:function(){return u.UnauthorizedError}}),Object.defineProperty(t,"CrossOriginForbiddenError",{enumerable:!0,get:function(){return u.CrossOriginForbiddenError}}),Object.defineProperty(t,"SameOriginForbiddenError",{enumerable:!0,get:function(){return u.SameOriginForbiddenError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return u.NotFoundError}}),Object.defineProperty(t,"FetchError",{enumerable:!0,get:function(){return u.FetchError}}),Object.defineProperty(t,"NotEditableError",{enumerable:!0,get:function(){return u.NotEditableError}}),Object.defineProperty(t,"WebOperationError",{enumerable:!0,get:function(){return u.WebOperationError}})},27016:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSuggestedIssuers=function(){var e=n([],r,!0),t=new URL(location.href),i=t.host,o=t.origin,a=e.map((function(e){var t=e.uri;return new URL(t).host}));return a.includes(i)||a.some((function(e){return n=e,(r=(t=i).length-n.length-1)>0&&"."===t[r]&&t.endsWith(n);var t,n,r}))||e.unshift({name:i,uri:o}),e};var r=[{name:"Solid Community",uri:"https://solidcommunity.net"},{name:"Solid Web",uri:"https://solidweb.org"},{name:"Inrupt.net",uri:"https://inrupt.net"},{name:"pod.Inrupt.com",uri:"https://login.inrupt.com"}]},1033:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.WebOperationError=t.NotEditableError=t.NotFoundError=t.SameOriginForbiddenError=t.CrossOriginForbiddenError=t.UnauthorizedError=void 0;var i=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r.name=n.name,r}return r(t,e),t}(Error),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.UnauthorizedError=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.CrossOriginForbiddenError=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.SameOriginForbiddenError=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.NotFoundError=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.NotEditableError=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.WebOperationError=u;var d=function(e){function t(t,n){var r=e.call(this,n)||this;return r.status=t,r}return r(t,e),t}(i);t.FetchError=d},77939:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.createSolidLogic=function(e,t){g.log("SolidLogic: Unique instance created.  There should only be one of these.");var n=s.graph();s.fetcher(n,{fetch:e.fetch}),n.updater=new s.UpdateManager(n),n.features=[];var r=new c.SolidAuthnLogic(t),i=(0,l.createAclLogic)(n),o=(0,h.createContainerLogic)(n),a=(0,m.createUtilityLogic)(n,i,o),v=(0,p.createProfileLogic)(n,r,a),y=(0,u.createChatLogic)(n,v),b=(0,d.createInboxLogic)(n,v,a,o,i),w=(0,f.createTypeIndexLogic)(n,r,v,a);return g.log("SolidAuthnLogic initialized"),{store:n,authn:r,acl:i,inbox:b,chat:y,profile:v,typeIndex:w,load:function(e){return n.fetcher.load(e)},updatePromise:function(e,t){return void 0===t&&(t=[]),new Promise((function(r,i){n.updater.update(e,t,(function(e,t,n){t?r():i(new Error(n))}))}))},clearStore:function(){n.statements.slice().forEach(n.remove.bind(n))}}};var s=a(n(67364)),l=n(31888),c=n(51085),u=n(29154),d=n(58476),p=n(19676),f=n(55648),h=n(57861),m=n(24932),g=a(n(68339))},46:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.solidLogicSingleton=void 0;var c=a(n(68339)),u=n(84208),d=(0,n(77939).createSolidLogic)({fetch:function(e,t){return s(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){return n=t&&t.credentials&&"omit"==t.credentials,u.authSession.info.webId&&!n?[2,u.authSession.fetch(e,t)]:[2,window.fetch(e,t)]}))}))}},u.authSession);t.solidLogicSingleton=d,c.log("Unique quadstore initialized.")},19676:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createProfileLogic=function(e,t,n){var r=d.ns;function i(t){return s(this,void 0,void 0,(function(){var i,a,s,d,f,h;return l(this,(function(l){switch(l.label){case 0:return[4,o(t)];case 1:l.sent(),i=(0,p.suggestPreferencesFile)(t),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,n.followOrCreateLink(t,r.space("preferencesFile"),i,t.doc())];case 3:return a=l.sent(),[3,5];case 4:if(s=l.sent(),d="User ".concat(t," has no pointer in profile to preferences file."),u.warn(d),s instanceof c.NotEditableError)throw s;if(s instanceof c.WebOperationError)throw s;if(s instanceof c.UnauthorizedError)throw s;if(s instanceof c.CrossOriginForbiddenError)throw s;if(s instanceof c.SameOriginForbiddenError)throw s;if(s instanceof c.FetchError)throw s;throw s;case 5:return l.trys.push([5,7,,8]),[4,e.fetcher.load(a)];case 6:return l.sent(),[3,8];case 7:if(f=l.sent(),h="Unable to load preference of user ".concat(t,": ").concat(f),u.warn(h),401===f.response.status)throw new c.UnauthorizedError;if(403===f.response.status){if((0,p.differentOrigin)(a))throw new c.CrossOriginForbiddenError;throw new c.SameOriginForbiddenError}throw new Error(h);case 8:return[2,a]}}))}))}function o(t){return s(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:if(!t)throw new Error("loadProfile: no user given.");r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.fetcher.load(t.doc())];case 2:return r.sent(),[3,4];case 3:throw n=r.sent(),new Error("Unable to load profile of user ".concat(t,": ").concat(n));case 4:return[2,t.doc()]}}))}))}function a(t){return e.any(t,r.space("storage"),void 0,t.doc())}return{loadMe:function(){return s(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:if(null===(n=t.currentUser()))throw new Error("Current user not found! Not logged in?");return[4,e.fetcher.load(n.doc())];case 1:return r.sent(),[2,n]}}))}))},getPodRoot:function(e){var t=a(e);if(!t)throw new Error("User pod root not found!");return t},getMainInbox:function(t){return s(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return[4,e.fetcher.load(t)];case 1:if(i.sent(),!(n=e.any(t,r.ldp("inbox"),void 0,t.doc())))throw new Error("User main inbox not found!");return[2,n]}}))}))},findStorage:a,loadPreferences:i,loadProfile:o,silencedLoadPreferences:function(e){return s(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i(e)];case 1:return[2,t.sent()];case 2:return t.sent(),[2,void 0];case 3:return[2]}}))}))}}};var c=n(1033),u=a(n(68339)),d=n(20733),p=n(79013)},55648:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTypeIndexLogic=function(e,t,n,r){var i=d.ns;function o(t){return s(this,void 0,void 0,(function(){var o,a,s,c,d,p,f,h,v,y,b,w,x;return l(this,(function(l){switch(l.label){case 0:if(!t)throw new Error("loadTypeIndexesFor: No user given");return[4,n.loadProfile(t)];case 1:o=l.sent(),a=m(t),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,r.followOrCreateLink(t,i.solid("publicTypeIndex"),a,o)];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),y="User ".concat(t," has no pointer in profile to publicTypeIndex file."),u.warn(y),[3,5];case 5:c=s?[{label:"public",index:s,agent:t}]:[],l.label=6;case 6:return l.trys.push([6,8,,9]),[4,n.silencedLoadPreferences(t)];case 7:return d=l.sent(),[3,9];case 8:return l.sent(),d=null,[3,9];case 9:if(!d)return[3,15];f=g(d),h=void 0,l.label=10;case 10:return l.trys.push([10,13,,14]),(v=e.any(t,i.solid("privateTypeIndex"),void 0,o))?[3,12]:[4,r.followOrCreateLink(t,i.solid("privateTypeIndex"),f,d)];case 11:v=l.sent(),l.label=12;case 12:return h=v,[3,14];case 13:return l.sent(),y="User ".concat(t," has no pointer in preference file to privateTypeIndex file."),u.warn(y),[3,14];case 14:return p=h?[{label:"private",index:h,agent:t}]:[],[3,16];case 15:p=[],l.label=16;case 16:if(0===(b=c.concat(p)).length)return[2,b];w=b.map((function(e){return e.index})),l.label=17;case 17:return l.trys.push([17,19,,20]),[4,e.fetcher.load(w)];case 18:return l.sent(),[3,20];case 19:return x=l.sent(),u.warn("Problems loading type index: ",x),[3,20];case 20:return[2,b]}}))}))}function a(t){return s(this,void 0,void 0,(function(){var r,a,s,c,d,p,f,h,m;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,n.silencedLoadPreferences(t)];case 1:return r=l.sent(),[3,3];case 2:return l.sent(),a="User ".concat(t," has no pointer in profile to preferences file."),u.warn(a),[3,3];case 3:if(!r)return[3,8];s=e.each(t,i.solid("community"),void 0,r).concat(e.each(t,i.solid("community"),void 0,t.doc())),c=[],d=0,p=s,l.label=4;case 4:return d<p.length?(f=p[d],m=(h=c).concat,[4,o(f)]):[3,7];case 5:c=m.apply(h,[l.sent()]),l.label=6;case 6:return d++,[3,4];case 7:return[2,c];case 8:return[2,[]]}}))}))}function f(e){return s(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,o(e)];case 1:return n=(t=r.sent()).concat,[4,a(e)];case 2:return[2,n.apply(t,[r.sent().flat()])]}}))}))}function h(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,a;return l(this,(function(s){switch(s.label){case 0:return[4,f(t)];case 1:n=s.sent(),r=[],i=0,o=n,s.label=2;case 2:return i<o.length?[4,v(o[i],e)]:[3,5];case 3:a=s.sent(),r=r.concat(a),s.label=4;case 4:return i++,[3,2];case 5:return[2,r]}}))}))}function m(e){var t;return(0,c.sym)((null===(t=e.doc().dir())||void 0===t?void 0:t.uri)+"publicTypeIndex.ttl")}function g(e){var t;return(0,c.sym)((null===(t=e.doc().dir())||void 0===t?void 0:t.uri)+"privateTypeIndex.ttl")}function v(t,n){return s(this,void 0,void 0,(function(){var r,o,a,s,u,d,p,f,h,m,g,v,y,b;return l(this,(function(l){switch(l.label){case 0:r=t.index,o=[],a=e.statementsMatching(null,i.solid("instance"),null,r).concat(e.statementsMatching(null,i.solid("instanceContainer"),null,r)).map((function(e){return e.subject})),s=0,u=a,l.label=1;case 1:if(!(s<u.length))return[3,6];if(d=u[s],p=e.any(d,i.solid("forClass"),null,r),n&&!p.sameTerm(n))return[3,5];for(f=e.each(d,i.solid("instance"),null,r),h=0,m=f;h<m.length;h++)b=m[h],o.push({instance:b,type:p,scope:t});g=e.each(d,i.solid("instanceContainer"),null,r),v=0,y=g,l.label=2;case 2:return v<y.length?(b=y[v],[4,e.fetcher.load(b)]):[3,5];case 3:l.sent(),o.push({instance:(0,c.sym)(b.value),type:p,scope:t}),l.label=4;case 4:return v++,[3,2];case 5:return s++,[3,1];case 6:return[2,o]}}))}))}return{registerInTypeIndex:function(t,n,r){return s(this,void 0,void 0,(function(){var o,a,s,u;return l(this,(function(l){switch(l.label){case 0:o=(0,p.newThing)(n),a=[(0,c.st)(o,i.rdf("type"),i.solid("TypeRegistration"),n),(0,c.st)(o,i.solid("forClass"),r,n),(0,c.st)(o,i.solid("instance"),t,n)],l.label=1;case 1:return l.trys.push([1,3,,4]),[4,e.updater.update([],a)];case 2:return l.sent(),[3,4];case 3:return s=l.sent(),u="Unable to register ".concat(t," in index ").concat(n,": ").concat(s),console.warn(u),[2,null];case 4:return[2,o]}}))}))},getRegistrations:function(t,n){return e.each(void 0,i.solid("instance"),t).filter((function(t){return e.holds(t,i.solid("forClass"),n)}))},loadTypeIndexesFor:o,loadCommunityTypeIndexes:a,loadAllTypeIndexes:f,getScopedAppInstances:h,getAppInstances:function(e){return s(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:if(!(n=t.currentUser()))throw new Error("getAppInstances: Must be logged in to find apps.");return[4,h(e,n)];case 1:return[2,r.sent().map((function(e){return e.instance}))]}}))}))},suggestPublicTypeIndex:m,suggestPrivateTypeIndex:g,deleteTypeIndexRegistration:function(t){return s(this,void 0,void 0,(function(){var n,r;return l(this,(function(o){switch(o.label){case 0:if(!(n=e.the(null,i.solid("instance"),t.instance,t.scope.index)))throw new Error("deleteTypeIndexRegistration: No registration found for ".concat(t.instance));return r=e.statementsMatching(n,null,null,t.scope.index),[4,e.updater.update(r,[])];case 1:return o.sent(),[2]}}))}))},getScopedAppsFromIndex:v}};var c=n(67364),u=a(n(68339)),d=n(20733),p=n(79013)},57861:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createContainerLogic=function(e){function t(t){return e.statementsMatching(t,(0,o.sym)("http://www.w3.org/ns/ldp#contains"),void 0).map((function(e){return e.object}))}function n(e){var t=e.value;return"/"===t.charAt(t.length-1)}return{isContainer:n,createContainer:function(t){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:if(!n((0,o.sym)(t)))throw new Error("Not a container URL ".concat(t));return[4,e.fetcher._fetch(t,{method:"PUT",headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"'},body:" "})];case 1:if("2"!==(r=i.sent()).status.toString()[0])throw new Error("Not OK: got ".concat(r.status," response while creating container at ").concat(t));return[2]}}))}))},getContainerElements:t,getContainerMembers:function(n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,e.fetcher.load(n)];case 1:return r.sent(),[2,t(n)]}}))}))}}};var o=n(67364)},68339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},t.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,e)},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,e)},t.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.trace.apply(console,e)}},20733:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ns=void 0;var l=s(n(15386)),c=a(n(67364));t.ns=(0,l.default)(c)},24932:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return o(t,e),t}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createUtilityLogic=function(e,t,n){function r(t){return s(this,void 0,void 0,(function(){var n,r,i,o;return l(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,10]),[4,e.fetcher.load(t)];case 1:return n=a.sent(),[3,10];case 2:if(404!==(r=a.sent()).response.status)return[3,8];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,e.fetcher.webOperation("PUT",t,{data:"",contentType:"text/turtle"})];case 4:return a.sent(),[3,6];case 5:throw i=a.sent(),o="createIfNotExists: PUT FAILED: "+t+": "+i,new u.WebOperationError(o);case 6:return[4,e.fetcher.load(t)];case 7:return a.sent(),[3,9];case 8:if(401===r.response.status)throw new u.UnauthorizedError;if(403===r.response.status){if((0,p.differentOrigin)(t))throw new u.CrossOriginForbiddenError;throw new u.SameOriginForbiddenError}throw o="createIfNotExists doc load error NOT 404:  "+t+": "+r,new u.FetchError(r.status,r.message+o);case 9:return[3,10];case 10:return[2,n]}}))}))}return{recursiveDelete:function r(i){return s(this,void 0,void 0,(function(){var o,a,s;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),n.isContainer(i)?[4,t.findAclDocUrl(i)]:[3,5];case 1:return o=l.sent(),[4,e.fetcher._fetch(o,{method:"DELETE"})];case 2:return l.sent(),[4,n.getContainerMembers(i)];case 3:return a=l.sent(),[4,Promise.all(a.map((function(e){return r(e)})))];case 4:l.sent(),l.label=5;case 5:return s=i.value,[2,e.fetcher._fetch(s,{method:"DELETE"})];case 6:return l.sent(),[3,7];case 7:return[2]}}))}))},setSinglePeerAccess:function(n){return s(this,void 0,void 0,(function(){var r,i;return l(this,(function(o){switch(o.label){case 0:return r=["@prefix acl: <http://www.w3.org/ns/auth/acl#>.","","<#alice> a acl:Authorization;\n  acl:agent <".concat(n.ownerWebId,">;"),"  acl:accessTo <".concat(n.target,">;"),"  acl:default <".concat(n.target,">;"),"  acl:mode acl:Read, acl:Write, acl:Control.",""].join("\n"),n.accessToModes&&(r+=["<#bobAccessTo> a acl:Authorization;","  acl:agent <".concat(n.peerWebId,">;"),"  acl:accessTo <".concat(n.target,">;"),"  acl:mode ".concat(n.accessToModes,"."),""].join("\n")),n.defaultModes&&(r+=["<#bobDefault> a acl:Authorization;","  acl:agent <".concat(n.peerWebId,">;"),"  acl:default <".concat(n.target,">;"),"  acl:mode ".concat(n.defaultModes,"."),""].join("\n")),[4,t.findAclDocUrl((0,c.sym)(n.target))];case 1:return i=o.sent(),[2,e.fetcher._fetch(i,{method:"PUT",body:r,headers:[["Content-Type","text/turtle"]]})]}}))}))},createEmptyRdfDoc:function(t,n){return s(this,void 0,void 0,(function(){return l(this,(function(r){switch(r.label){case 0:return[4,e.fetcher.webOperation("PUT",t.uri,{data:"# ".concat(new Date," ").concat(n,"\n  "),contentType:"text/turtle"})];case 1:return r.sent(),[2]}}))}))},followOrCreateLink:function(t,n,i,o){return s(this,void 0,void 0,(function(){var a,s,p,f;return l(this,(function(l){switch(l.label){case 0:return[4,e.fetcher.load(o)];case 1:if(l.sent(),a=e.any(t,n,null,o))return[2,a];if(!e.updater.editable(o))throw p="followOrCreateLink: cannot edit ".concat(o.value),d.warn(p),new u.NotEditableError(p);l.label=2;case 2:return l.trys.push([2,4,,5]),[4,e.updater.update([],[(0,c.st)(t,n,i,o)])];case 3:return l.sent(),[3,5];case 4:throw s=l.sent(),p="followOrCreateLink: Error making link in ".concat(o," to ").concat(i,": ").concat(s),d.warn(p),new u.WebOperationError(s);case 5:return l.trys.push([5,7,,8]),[4,r(i)];case 6:return l.sent(),[3,8];case 7:throw f=l.sent(),d.warn("followOrCreateLink: Error loading or saving new linked document: ".concat(i,": ").concat(f)),f;case 8:return[2,i]}}))}))},loadOrCreateIfNotExists:r}};var c=n(67364),u=n(1033),d=a(n(68339)),p=n(79013)},79013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newThing=function(e){return(0,r.sym)(e.uri+"#id"+Date.now())},t.uniqueNodes=function(e){var t=e.map((function(e){return e.uri})),n=new Set(t);return Array.from(n).map((function(e){return new r.NamedNode(e)}))},t.getArchiveUrl=function(e,t){var n=t.getUTCFullYear(),r=("0"+(t.getUTCMonth()+1)).slice(-2),i=("0"+t.getUTCDate()).slice(-2),o=e.split("/"),a=o[o.length-1];return new URL("./archive/".concat(n,"/").concat(r,"/").concat(i,"/").concat(a),e).toString()},t.differentOrigin=function(e){return!e||"".concat(window.location.origin,"/")!==new URL(e.value).origin},t.suggestPreferencesFile=function(e){var t=e.uri.replace("/profile/","/").replace("/public/","/").split("/").slice(0,-1).join("/")+"/Settings/Preferences.ttl";return(0,r.sym)(t)},t.determineChatContainer=function(e,t){var n=new URL("IndividualChats/".concat(new URL(e.value).host,"/"),t.value).toString();return new r.NamedNode(n)};var r=n(67364)},15386:e=>{const t={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.exports=function(e={namedNode:e=>e}){const n={};for(const r in t){const i=t[r];n[r]=function(t=""){return e.namedNode(i+t)}}return n}},52283:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RDFXMLPane=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var a=i.ns;t.RDFXMLPane={icon:i.icons.originalIconBase+"22-text-xml4.png",name:"RDFXML",audience:[a.solid("Developer")],label:function(e,t){var n=t.session.store;if("http://www.w3.org/2007/ont/link#ProtocolEvent"in n.findTypeURIs(e))return null;var r=n.statementsMatching(void 0,void 0,void 0,e).length;return 0===r?null:"As RDF/XML ("+r+")"},render:function(e,t){var n=t.dom,r=t.session.store,o=n.createElement("div");o.setAttribute("class","RDFXMLPane");var a=r.statementsMatching(void 0,void 0,void 0,e),s=i.rdf.Serializer(r);s.suggestNamespaces(r.namespaces),s.setBase(e.uri);var l=s.statementsToXML(a),c=n.createElement("PRE");return c.appendChild(n.createTextNode(l)),o.appendChild(c),o}}},64275:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.default={icon:i.icons.iconBase+"noun_534313.svg",name:"audio",label:function(e,t){var n=t.session.store.findTypeURIs(e),r=o.Util.mediaTypeClass("audio/*").uri.split("*")[0];for(var i in n)if(i.startsWith(r))return"Play audio";return null},render:function(e,t){var n=t.session.store,r=t.dom,i=function(e){var t=e.lastIndexOf(".");return t<0||t<e.lastIndexOf("/")?e:e.slice(0,t)},o=function(e){var t=e.uri.split("/").slice(-3),n=function(e){try{return decodeURIComponent(e)}catch(t){return e}};f.textContent=n(t[0]),h.textContent=n(t[1]),m.textContent=n(i(t[2]))},a=function(e,t){return new Promise((function(r){t=t||0;var i=n.any(void 0,l.ldp("contains"),e)||e.dir();if(!i)return r(null);n.fetcher.load(i).then((function(o){var s,c=n.each(i,l.ldp("contains"));c.sort();for(var u=0;u<c.length;u++)if(e.uri===c[u].uri){if(0!=(s=(u+1)%c.length))return r(c[s]);if(1===t)return r(null);a(i,t+1).then((function(e){e&&n.fetcher.load(e).then((function(t){var i=n.each(e,l.ldp("contains"));return 0===i.length?r(null):(i.sort(),console.log("New Album: "+e),r(i[0]))}))}))}}))}))},s=function(e){var t=n.sym(e.target.getAttribute("src")),r=function(t){var s=t;a(s).then((function(t){t?function(e){var t=n.any(void 0,l.ldp("contains"),e);if(!t)return!1;var r=n.each(t,l.ldp("contains"));if(r.length<2)return!1;for(var o=e.uri,a=0;a<r.length;a++){var s=r[a].uri;if(o.length>s.length&&o.startsWith(i(s)))return!0;if(o.endsWith(".m4a")&&s.endsWith(".mp3")&&i(o)===i(s))return!0}return!1}(t)?(console.log("Ignoring redundant "+t),r(t)):(console.log("Moving on to "+t),o(t),g.appendChild(c(t,!0)),g.removeChild(e.target)):console.log("No successor to "+s)}))};r(t)},c=function(e,t){var i=r.createElement("audio");return i.setAttribute("controls","yes"),n.fetcher._fetch(e.uri).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);i.setAttribute("src",t)})),t&&i.setAttribute("autoplay","autoplay"),i.addEventListener("ended",s,!1),i},u=r.createElement("div"),d=u.appendChild(r.createElement("table")),p="padding: 0.3em; color:white; background-color: black;",f=d.appendChild(r.createElement("tr"));f.style.cssText=p;var h=d.appendChild(r.createElement("tr"));h.style.cssText=p;var m=d.appendChild(r.createElement("tr"));m.style.cssText=p;var g=d.appendChild(r.createElement("tr"));return o(e),g.appendChild(c(e,!1)),!n.holds(void 0,l.ldp("contains"),e)&&e.dir()&&n.fetcher.load(e.dir()),u}}},41323:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.classInstancePane=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.classInstancePane={icon:i.icons.originalIconBase+"tango/22-folder-open.png",name:"classInstance",audience:[l.solid("PowerUser")],label:function(e,t){var n=t.session.store.each(void 0,l.rdf("type"),e).length;return n>0?"List ("+n+")":null},render:function(e,t){var n=t.dom,r=t.getOutliner(n),a=t.session.store,s=function(e,t){var r=n.createElement("pre");r.setAttribute("style","background-color: "+t||0),c.appendChild(r),r.appendChild(n.createTextNode(e))},c=n.createElement("div");c.setAttribute("class","instancePane"),c.setAttribute("style","  border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em ");var u=a.statementsMatching(void 0,l.rdf("type"),e);if(u.length>0){var d={},p=[];for(var f in u.forEach((function(e){d[e.subject.toNT()]=e})),a.findMembersNT(e))d[f]||p.push(o.st(a.fromNT(f),l.rdf("type"),e));if(p.length&&s("There are "+u.length+" explicit and "+p.length+" implicit members of "+i.utils.label(e)),e.sameTerm(l.rdf("Property")));else if(e.sameTerm(l.rdfs("Class"))){var h=a.statementsMatching(void 0,l.rdf("type"),void 0),m={};h.forEach((function(e){m[e.object]=e}));var g=[];for(var v in m)g.push(o.st(o.sym(v),l.rdf("type"),l.rdfs("Class")));s("Total of "+h.length+" type statements and "+g.length+" unique types.")}if(u.length>10){var y=n.createElement("TR");y.appendChild(n.createTextNode(""+u.length)),c.appendChild(y)}r.appendPropertyTRs(c,u,!0,(function(e){return!0})),p.length&&(s("Implicit:"),r.appendPropertyTRs(c,p,!0,(function(e){return!0})))}return c}}},30425:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.basicPreferencesPane=void 0;var i=n(67364),o=n(92361);function a(){a=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&i.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,s,l){var c=f(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))}}var c=t.basicPreferencesPane={icon:o.icons.iconBase+"noun_Sliders_341315_000000.svg",name:"basicPreferences",label:function(e){return null},render:function(e,t){var n=t.dom,r=t.session.store;function s(e,t){e||c.appendChild(o.widgets.errorMessageBlock(n,t,"#fee"))}var c=n.createElement("div"),d=function(e,t){var n=m(e,t,"User types");n.appendChild(t.createElement("p")).innerText="Here you can self-assign user types to help the data browser know which views you would like to access.";var r=n.appendChild(t.createElement("a"));return r.href="https://github.com/solidos/userguide/#role",r.innerText="Read more",n.appendChild(t.createElement("div"))}(c,n);function p(e,t){e=e.doc(),r.holds(void 0,void 0,void 0,e)||(0,i.parse)(t,r,e.uri,"text/turtle",null)}var f=r.sym("urn:uuid:93774ba1-d3b6-41f2-85b6-4ae27ffd2597#this");function h(){return(h=l(a().mark((function e(){var i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.login.ensureLoadedPreferences({dom:n,div:c});case 2:if((i=e.sent).preferencesFile){e.next=6;break}return console.log("Not doing private class preferences as no access to preferences file. "+i.preferencesFileError),e.abrupt("return");case 6:o.widgets.appendForm(n,d,{},i.me,f,i.preferencesFile,s).style.borderStyle="none",(l=t.session.paneRegistry.byName("trustedApplications"))&&c.appendChild(l.render(null,t)),u(c,r,i.me,n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return p(f,'@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <#>.\n\n:this <http://purl.org/dc/elements/1.1/title> "Basic preferences" ;\n      a ui:Form ;\n      ui:part :categorizeUser, :privateComment, :personalInformationHeading;\n      ui:parts ( :personalInformationHeading :privateComment :categorizeUser ).\n\n:personalInformationHeading a ui:Heading;\n      ui:contents "Personal information".\n\n:privateComment a ui:Comment;\n      ui:contents "This information is private.".\n\n:categorizeUser a ui:Classifier;\n      ui:label "Level of user"; ui:property rdf:type ; ui:category solid:User.\n'),p(r.sym("urn:uuid:93774ba1-d3b6-41f2-85b6-4ae27ffd2597-ONT"),'@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix schema: <http:/schema.org/>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix : <#>.\n\nsolid:User a rdfs:Class;\n  rdfs:label "user"@en, "utilisateur"@fr;\n  rdfs:comment """Any person who might use a Solid-based system""";\n  rdfs:subClassOf foaf:Person, schema:Person, vcard:Individual.\n\n# Since these options are opt-in, it is a bit strange to have new users opt in\n# That they are new users - also we do not use this class for anything specific\n# yet\n# solid:NewUser a rdfs:Class;\n#  rdfs:label "new user"@en;\n#  rdfs:comment """A person who might use a Solid-based system who has a low\n#  level of familiarity with technical details.""";\n#  rdfs:subClassOf solid:User.\n\nsolid:PowerUser a rdfs:Class;\n  rdfs:label "power user"@en;\n  rdfs:comment """A person who might use a Solid-based system\n  who is prepared to be given a more complex interface in order\n  to be provided with more pwerful features.""";\n  rdfs:subClassOf solid:User.\n\n  solid:Developer a rdfs:Class;\n    rdfs:label "Developer";\n    rdfs:comment """Any person who might use a Solid-based system,\n    who has software development skills.""";\n    rdfs:subClassOf solid:User.\n'),function(){h.apply(this,arguments)}(),c}};function u(e,t,n,r){var i=m(e,r,"Delete account"),s=t.each(n,o.ns.space("storage"),null,n.doc()).map((function(e){return e.value})),c=i.appendChild(r.createElement("ul"));s.forEach(function(){var e=l(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,r);case 2:(n=e.sent)&&c.appendChild(r.createElement("li")).appendChild(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function d(e,t){return p.apply(this,arguments)}function p(){return(p=l(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.createElement("a")).textContent="Delete your account at ".concat(t),e.next=4,f(t);case 4:if("string"==typeof(i=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return r.href=i,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(t),(r=new URL(t)).pathname=n.pathname="/account/delete",i=r.hostname.split("."),r.hostname=i.slice(1).join("."),e.next=7,fetch(r.href,{method:"HEAD"});case 7:if(!e.sent.ok){e.next=10;break}return e.abrupt("return",r.href);case 10:return e.next=12,fetch(n.href,{method:"HEAD"});case 12:if(!e.sent.ok){e.next=15;break}return e.abrupt("return",n.href);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){var r=e.appendChild(t.createElement("div"));return r.style.border="0.3em solid #418d99",r.style.borderRadius="0.5em",r.style.padding="0.7em",r.style.marginTop="0.7em",r.appendChild(t.createElement("h3")).innerText=n,r}t.default=c},81895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.dashboardPane=void 0;var r=n(92361),i=n(23451),o=n(87117),a=t.dashboardPane={icon:r.icons.iconBase+"noun_547570.svg",name:"dashboard",label:function(e){return console.log(),e.uri===e.site().uri?"Dashboard":null},render:function(e,t){console.log("Dashboard Pane Render");var n=t.dom.createElement("div"),r=function(){n.innerHTML="",function(e,t,n,r){var a=new URL(window.location.href).searchParams.get("uri");if(t&&(a||t.site().uri===r.site().uri))return function(e,t){t.getOutliner(t.dom).getDashboard().then((function(t){return e.appendChild(t)}))}(e,n);!function(e,t){var n=document.createElement("div");e.appendChild(n);var r=n.attachShadow({mode:"open"}),a=document.createElement("link");a.rel="stylesheet",a.href="/common/css/bootstrap.min.css",r.appendChild(a),(0,o.generateHomepage)(t,i.store,i.store.fetcher).then((function(e){return r.appendChild(e)}))}(e,r)}(n,i.authn.currentUser()||null,t,e)};return i.authSession.onLogin((function(){r()})),i.authSession.onSessionRestore((function(){r()})),r(),n}};t.default=a},87117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHomepage=function(e,t,n){return c.apply(this,arguments)};var r=n(67364),i=n(92361);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&r.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,l){var c=f(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=x,i(S,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))}}function c(){return(c=l(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,r);case 2:return i=e.sent,o=h(n,i),(s=document.createElement("div")).classList.add("container"),s.appendChild(d(i.uri,o)),s.appendChild(u(o)),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){var t=document.createElement("section"),n=document.createElement("h2");n.innerText="Data",t.appendChild(n);var r=document.createElement("div");r.classList.add("list-group"),t.appendChild(r);var i=document.createElement("a");return i.classList.add("list-group-item"),i.href=window.document.location.href+"public/",i.innerText="View ".concat(e,"'s files"),r.appendChild(i),t}function d(e,t){var n=document.createElement("a");n.href=e,n.innerText=t;var r=document.createElement("span");r.innerText="'s Pod";var i=document.createElement("h1");return i.appendChild(n),i.appendChild(r),i}function p(e,t){return f.apply(this,arguments)}function f(){return(f=l(a().mark((function e(t,n){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.site().uri,o=(0,r.sym)("".concat(i,"profile/card#me")),e.next=4,n.load(o);case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return e.anyValue(t,i.ns.vcard("fn"),null,t.doc())||e.anyValue(t,i.ns.foaf("name"),null,t.doc())||new URL(t.uri).host.split(".")[0]}},89829:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.dataContentPane=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var a=i.ns;t.dataContentPane={icon:i.icons.originalIconBase+"rdf_flyer.24.gif",name:"dataContents",audience:[a.solid("Developer")],label:function(e,t){if("http://www.w3.org/2007/ont/link#ProtocolEvent"in t.session.store.findTypeURIs(e))return null;var n=t.session.store.statementsMatching(void 0,void 0,void 0,e).length;return 0===n?null:"Data ("+n+")"},statementsAsTables:function(e,t,n){var r=t.dom,o=r.createElement("table"),a=i.rdf.Serializer(t.session.store),s=a.rootSubjects(e),l=s.roots,c=s.subjects,u=s.loopBreakers;for(var d in u)console.log("\tdataContentPane: loopbreaker:"+d);var p={},f={};function h(e){var t=r.createElement("table"),n=null,o=c[a.toStr(e)];if(!o)return t.appendChild(r.createTextNode("...")),t;o.sort();for(var s,l=0,u=0;u<o.length;u++){var d=o[u],p=r.createElement("tr");if(d.predicate.uri!==n){n&&l>1&&s.setAttribute("rowspan",""+l),(s=r.createElement("td")).setAttribute("class","pred");var f=r.createElement("a");f.setAttribute("href",d.predicate.uri),f.addEventListener("click",i.widgets.openHrefInOutlineMode,!0),f.appendChild(r.createTextNode(i.utils.predicateLabelForXML(d.predicate))),s.appendChild(f),p.appendChild(s),n=d.predicate.uri,l=0}l++;var h=r.createElement("td");h.appendChild(m(d.object)),p.appendChild(h),t.appendChild(p)}return n&&l>1&&s.setAttribute("rowspan",""+l),t}function m(e){var n,o;switch(e.termType){case"NamedNode":return(o=r.createElement("a")).setAttribute("href",e.uri),o.addEventListener("click",i.widgets.openHrefInOutlineMode,!0),o.appendChild(r.createTextNode(i.utils.label(e))),o;case"Literal":return e.datatype&&e.datatype.uri?"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===e.datatype.uri?((n=r.createElement("div")).setAttribute("class","embeddedXHTML"),n.innerHTML=e.value,n):r.createTextNode(e.value):((n=r.createElement("div")).setAttribute("style","white-space: pre-wrap;"),n.textContent=e.value,n);case"BlankNode":if(e.toNT()in p){f[e.toNT()]=!0;var a=r.createElement("a");return a.setAttribute("href","#"+e.toNT().slice(2)),a.setAttribute("class","bnodeRef"),a.textContent="*"+e.toNT().slice(3),a}p[e.toNT()]=!0;var s=h(e);return p[e.toNT()]=s,i.utils.ancestor(s,"TABLE")&&"white"===i.utils.ancestor(s,"TABLE").style.backgroundColor?s.style.backgroundColor="#eee":s.style.backgroundColor="white",s;case"Collection":(n=r.createElement("table")).setAttribute("class","collectionAsTables");for(var l=0;l<e.elements.length;l++){var c=r.createElement("tr");n.appendChild(c),c.appendChild(m(e.elements[l]))}return n;case"Graph":return(n=t.session.paneRegistry.byName("dataContents").statementsAsTables(e.statements,t)).setAttribute("class","nestedFormula"),n;case"Variable":return r.createTextNode("?"+e.uri)}throw new Error("Unhandled node type: "+e.termType)}n&&(l=n.concat(l.filter((function(e){for(var t=0;t<n.length;t++)if(e.sameTerm(n[t]))return!1;return!0}))));for(var g=0;g<l.length;g++){var v=r.createElement("tr");v.setAttribute("style","background-color: ".concat(g%2==0?"#f0f0f0":"white",";")),o.appendChild(v);var y=r.createElement("td");v.appendChild(y);var b=r.createElement("td");v.appendChild(b);var w=l[g];"BlankNode"===w.termType?y.appendChild(r.createTextNode(i.utils.label(w))):y.appendChild(m(w)),b.appendChild(h(w))}for(var x in f){var E=p[x],_=r.createElement("a");_.setAttribute("id",x.slice(2)),_.setAttribute("class","bnodeDef"),_.textContent=x.slice(3)+")",E.insertBefore(_,E.firstChild)}return o},render:function(e,t){var n=t.dom;t.getOutliner(n);var r=t.session.store,o=n.createElement("div");o.setAttribute("class","dataContentPane");var a=r.statementsMatching(void 0,void 0,void 0,e);return function(){var n=[];r.holds(e,void 0,void 0,e)&&n.push(e);var s=r.any(e,i.ns.foaf("primaryTopic"),void 0,e);s&&n.push(s),o.appendChild(t.session.paneRegistry.byName("dataContents").statementsAsTables(a,t,n))}(),o}}},42637:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPane=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.defaultPane={icon:i.icons.originalIconBase+"about.png",name:"default",audience:[l.solid("Developer")],label:function(e){return"about "},render:function(e,t){var n=t.dom,r=function(e,n){return void 0===t.session.paneRegistry.byName("internal").predicates[e.uri]&&(!n||"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==e.uri)},a=t.getOutliner(n),s=t.session.store;i.log.info("@defaultPane.render, dom is now "+n.location),e=s.canon(e);var l=n.createElement("div");l.setAttribute("class","defaultPane");var c=s.statementsMatching(e);if(a.appendPropertyTRs(l,c,!1,r),c=s.statementsMatching(void 0,void 0,e),a.appendPropertyTRs(l,c,!0,r),"Literal"===e.termType&&"http://"===e.value.slice(0,7)&&a.appendPropertyTRs(l,[o.st(s.sym(e.value),i.ns.link("uri"),e)],!0,r),"NamedNode"===e.termType&&s.updater.editable(i.rdf.Util.uri.docpart(e.uri),s)||"BlankNode"===e.termType&&s.anyStatementMatching(e)&&s.anyStatementMatching(e).why&&s.anyStatementMatching(e).why.uri&&s.updater.editable(s.anyStatementMatching(e).why.uri)){var u=n.createElement("tr"),d=n.createElement("td");d.setAttribute("colspan","2"),d.setAttribute("notSelectable","true");var p=n.createElement("img");p.src=i.icons.originalIconBase+"tango/22-list-add-new.png",p.addEventListener("click",(function(e){a.UserInput.addNewPredicateObject(e),e.stopPropagation(),e.preventDefault()})),p.className="bottom-border-active",l.appendChild(u).appendChild(d).appendChild(p)}return l}}},47647:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=u(n(92361)),a=u(n(67364)),s=u(n(86049)),l=(i=n(26656))&&i.__esModule?i:{default:i};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}t.default={icon:o.icons.iconBase+"dokieli-logo.png",name:"Dokieli",mintClass:o.ns.solid("DokieliDocument"),label:function(e,t){var n=t.session.store,r=o.ns,i=["text/html","application/xhtml+xml"];return e.uri?n.findTypeURIs(e)[r.link("WebPage").uri]?"view":function(e,t,n){var r=e.fetcher.getHeader(t,"content-type");if(r)for(var i=0;i<r.length;i++)for(var o=0;o<n.length;o++)if(r[i].indexOf(n[o])>=0)return!0;return!1}(n,e,i)||function(t,n,r){for(var i=t.findTypeURIs(e),o=0;o<r.length;o++)if(a.Util.mediaTypeClass(r[o]).uri in i)return!0;return!1}(n,0,i)?"Dok":null:null},mintNew:function(e,t){var n=e.session.store,r=t.newInstance;if(!r){var i=t.newBase;i.endsWith("/")&&(i=i.slice(0,-1),t.newBase=i),r=n.sym(i)}var o=s.lookup(r.uri);o&&o.includes("html")||(r=a.sym(r.uri+".html")),t.newInstance=r;var c=l.default,u=r.uri.split("/").slice(-1)[0],d=(u=decodeURIComponent(u.split(".")[0])).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return c=(c=c.replace("<title>","<title>"+d)).replace("</article>","<h1>"+d+"</h1></article>"),new Promise((function(e){n.fetcher.webOperation("PUT",r.uri,{data:c,contentType:"text/html"}).then((function(){console.log("new Dokieli document created at "+t.newInstance),e(t)})).catch((function(e){console.log("Error creating dokieli doc at "+t.newInstance+": "+e)}))}))},render:function(e,t){var n=t.dom,r=n.createElement("div"),i=t.session.store;r.setAttribute("class","docView");var o=n.createElement("IFRAME");i.fetcher._fetch(e.uri).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);return o.setAttribute("src",t),o.setAttribute("type",e.type),o.setAttribute("class","doc"),e.text()})).then((function(e){var t=e.includes('<script src="https://dokie.li/scripts/dokieli.js">')?-10:5,n=Math.min(30,e.split(/\n/).length+t);o.setAttribute("style","border: 1px solid; padding: 1em; height:".concat(n,"em; width:800px; resize: both; overflow: auto;"))})).catch((function(e){console.log(e)}));var a=i.fetcher.getHeader(e.doc(),"content-type"),s=a?a[0]:null;s?console.log("dokieliPane: c-t:"+s):console.log("dokieliPane: unknown content-type?");var l=n.createElement("tr");return l.appendChild(o),r.appendChild(l),r}}},26656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default='\n<!DOCTYPE html>\n<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">\n  <head>\n    <meta charset="utf-8" />\n    <title></title>\n    <meta content="width=device-width, initial-scale=1" name="viewport" />\n    <link href="https://dokie.li/media/css/basic.css" media="all" rel="stylesheet" title="Basic" />\n    <link href="https://dokie.li/media/css/dokieli.css" media="all" rel="stylesheet" />\n    <script src="https://dokie.li/scripts/dokieli.js"><\/script>\n  </head>\n\n  <body about="" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# rdfa: http://www.w3.org/ns/rdfa# dcterms: http://purl.org/dc/terms/ dctypes: http://purl.org/dc/dcmitype/ foaf: http://xmlns.com/foaf/0.1/ pimspace: http://www.w3.org/ns/pim/space# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# mem: http://mementoweb.org/ns# qb: http://purl.org/linked-data/cube# schema: http://schema.org/ void: http://rdfs.org/ns/void# rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# bibo: http://purl.org/ontology/bibo/ sioc: http://rdfs.org/sioc/ns# doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: https://www.w3.org/ns/activitystreams# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms# acl: http://www.w3.org/ns/auth/acl# earl: http://www.w3.org/ns/earl# spec: http://www.w3.org/ns/spec# odrl: http://www.w3.org/ns/odrl/2/ dio: https://w3id.org/dio# rel: https://www.w3.org/ns/iana/link-relations/relation#" typeof="schema:CreativeWork prov:Entity">\n    <main>\n      <article about="" typeof="schema:Article">\n\n      </article>\n    </main>\n  </body>\n</html>'},28219:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.formPane=void 0;var i=l(n(92361)),o=n(23451),a=l(n(67364));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var c=i.ns;t.formPane={icon:i.icons.iconBase+"noun_122196.svg",name:"form",audience:[c.solid("PowerUser")],label:function(e){var t=i.widgets.formsFor(e).length;return i.log.debug("Form pane: forms for "+e+": "+t),t?t+" forms":null},render:function(e,t){var n=t.session.store,r=t.dom,s=function(e,t){var n=r.createElement("p");return n.setAttribute("style",t||"color: grey; background-color: white"),p.appendChild(n).textContent=e,n},l=function(e,t){s(e,"style")},u=function(e,t){e||l("Sorry, failed to save your change:\n"+t)},d=o.authn.currentUser(),p=r.createElement("div");p.setAttribute("class","formPane"),d?0===n.each(d,c.ui("workspace")).length&&s("You don't seem to have any workspaces defined.  A workspace is a place on the web (http://..) or in the file system (file:///) to store application data.\n"):s("You are not logged in. If you log in and have workspaces then you would be able to select workspace in which to put this new information");var f=function(e,t){n.fetcher.nowOrWhenFetched(e.uri,t,(function(n,o){if(!n)return l("Cannot load store "+e.uri+": "+o);for(var s=i.widgets.formsFor(t),c=0;c<s.length;c++){var d=s[c],f=r.createElement("h4");if(p.appendChild(f),d.uri){var h=a.Util.uri.document(d.uri);h.uri!==d.uri&&p.appendChild(i.widgets.editFormButton(r,p,d,h,u)).setAttribute("style","float: right;")}var m=r.createElement("a");m.setAttribute("href",d.uri),f.appendChild(m),m.textContent=i.utils.label(d,!0),i.widgets.appendForm(r,p,{},t,d,e,u)}}))},h=null,m=a.Util.uri.docpart(e.uri);if(e.uri!==m&&n.updater.editable(m,n)&&(h=e.doc()),!(h=h||n.any(n.sym(m),c.link("annotationStore")))){var g={},v=[];for(var y in h.statementsMatching(e).forEach((function(e){g[e.why.uri]=1})),h.statementsMatching(void 0,void 0,e).forEach((function(e){g[e.why.uri]=2})),g)v.push(g[y],y);v.sort();for(var b=0;b<v.length;b++){var w=v[b][1];if(w&&h.updater.editable(w)){h=h.sym(w);break}}}var x="2014";if(h)f(h,e);else{l("No suitable store is known, to edit <"+e.uri+">.");var E=i.login.selectWorkspace(r,(function(t){s("Workspace selected OK: "+t);for(var n=h.each(void 0,c.space("workspace"),t),r=0;r<n.length;r++){var i=n[r],o=h.any(t,c.space("store")),a=h.any(t,c.cal("dtstart")).value(),u=h.any(t,c.cal("dtend")).value();if(o&&a&&u&&a<=x&&u>x){f(o,e);break}l("Note no suitable annotation store in activity: "+i)}}));p.appendChild(E)}return p}}},83527:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(23451),o=n(92361);function a(){a=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&i.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,s,l){var c=f(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var l={icon:o.icons.iconBase+"noun_547570.svg",global:!0,name:"home",label:function(){return"home"},render:function(e,t){var n=t.dom,r=function(){var e,r=(e=a().mark((function e(){var r,i,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={div:l,dom:n,statusArea:l,me:c},l.appendChild(n.createElement("h4")).textContent="Create new thing somewhere",i=l.appendChild(n.createElement("div")),s={div:i,dom:n,statusArea:l,me:c},e.next=6,o.login.filterAvailablePanes(t.session.paneRegistry.list);case 6:u=e.sent,o.create.newThingUI(s,t,u),o.login.registrationList(r,{}).then((function(){}));case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),l=n.createElement("div"),c=i.authn.currentUser();return r(),l}};t.default=l},6837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(92361),o=n(67364),a=n(6709),s=(r=n(25454))&&r.__esModule?r:{default:r},l={icon:i.icons.originalIconBase+"tango/22-text-x-generic.png",name:"humanReadable",label:function(e,t){var n=t.session.store,r=["text/plain","text/html","text/markdown","application/xhtml+xml","image/png","image/jpeg","application/pdf","video/mp4"];return e.uri?n.findTypeURIs(e)[i.ns.link("WebPage").uri]?"view":function(e,t,n){var r=e.fetcher.getHeader(t,"content-type");if(r)for(var i=0;i<r.length;i++)for(var o=0;o<n.length;o++)if(r[i].indexOf(n[o])>=0)return!0;return!1}(n,e,r)||function(t,n,r){for(var i=t.findTypeURIs(e),a=0;a<r.length;a++)if(o.Util.mediaTypeClass(r[a]).uri in i)return!0;return!1}(n,0,r)?"View":null:null},render:function(e,t){var n=t.dom,r=n.createElement("div"),i=t.session.store,o=i.fetcher.getHeader(e.doc(),"content-type"),l=o?o[0]:null;l||console.log("humanReadablePane: unknown content-type?"),r.setAttribute("class","docView");var c="text/markdown"===l?"DIV":"IFRAME",u=n.createElement(c);"text/markdown"===l?i.fetcher.webOperation("GET",e.uri).then((function(e){var t=e.responseText,n=Math.min(30,t.split(/\n/).length+5),r=a.marked.parse(t),i=s.default.sanitize(r);u.innerHTML=i,u.setAttribute("class","doc"),u.setAttribute("style","border: 1px solid; padding: 1em; height: ".concat(n,"em; width: 800px; resize: both; overflow: auto;"))})):i.fetcher._fetch(e.uri).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);return u.setAttribute("src",t),u.setAttribute("type",e.type),u.setAttribute("class","doc"),e.type.startsWith("text")?e.text():""})).then((function(e){var t=e.includes('<script src="https://dokie.li/scripts/dokieli.js">')?-10:5,n=Math.min(30,e.split(/\n/).length+t);u.setAttribute("style","border: 1px solid; padding: 1em; height:".concat(n,"em; width:800px; resize: both; overflow: auto;"))}));var d=n.createElement("TR");return d.appendChild(u),r.appendChild(d),r}};t.default=l},41169:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.imagePane=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.imagePane={icon:i.icons.originalIconBase+"tango/22-image-x-generic.png",name:"image",label:function(e,t){var n=t.session.store;return n.anyStatementMatching(e,i.ns.rdf("type"),n.sym("http://purl.org/dc/terms/Image"))?function(e,t,n){var r=e.fetcher.getHeader(t,"content-type");if(r)for(var i=0;i<r.length;i++)for(var o=0;o<n.length;o++)if(r[i].indexOf(n[o])>=0)return!0;return!1}(n,e,["application/pdf"])?null:"view":null},render:function(e,t){var n=t.dom,r=t.session.store,i=n.createElement("div");i.setAttribute("class","imageView");var o=n.createElement("IMG");r.fetcher._fetch(e.uri).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);o.setAttribute("src",t)})),o.setAttribute("style","max-width: 100%; max-height: 100%;");var a=n.createElement("TR");return a.appendChild(o),i.appendChild(a),i}}},96842:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OutlineManager",{enumerable:!0,get:function(){return s.default}}),t.UI=void 0,Object.defineProperty(t,"byName",{enumerable:!0,get:function(){return c.byName}}),t.getOutliner=h,Object.defineProperty(t,"initMainPage",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"list",{enumerable:!0,get:function(){return c.list}}),Object.defineProperty(t,"paneForIcon",{enumerable:!0,get:function(){return c.paneForIcon}}),Object.defineProperty(t,"paneForPredicate",{enumerable:!0,get:function(){return c.paneForPredicate}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return c.register}}),Object.defineProperty(t,"versionInfo",{enumerable:!0,get:function(){return i.default}});var i=f(n(21126)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(92361));t.UI=o;var a=n(23451),s=f(n(64396)),l=n(5650),c=n(46808),u=n(69952),d=f(n(7145));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(!e.outlineManager){var t=(0,u.createContext)(e,{list:c.list,paneForIcon:c.paneForIcon,paneForPredicate:c.paneForPredicate,register:c.register,byName:c.byName},a.store,a.solidLogicSingleton);e.outlineManager=new s.default(t)}return e.outlineManager}"undefined"!=typeof window&&h(window.document),(0,l.registerPanes)((function(e){return(0,c.register)(e.default||e)})),"undefined"!=typeof window&&(window.panes={getOutliner:h})},96831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(92361),i=n(67364),o={icon:r.icons.originalIconBase+"tango/22-emblem-system.png",name:"internal",label:function(){return"under the hood"},render:function(e,t){var n=t.dom,o=t.session.store,a=o.canon(e),s=o.findTypeURIs(a);function l(e){if(s["http://www.w3.org/2007/ont/link#ProtocolEvent"])return!0;var n=t.session.paneRegistry.byName("internal");return n&&n.predicates&&!(void 0===n.predicates[e.uri])}var c=n.createElement("div");function u(e,t){var n=e.fetcher;if(n)return new Promise((function(i,o){n.load(t).then((function(){var a=e.each(t,r.ns.ldp("contains")).map((function(t){return e.holds(t,r.ns.rdf("type"),r.ns.ldp("BasicContainer"))?u(e,t):(console.log("deleteRecursive leaf file: "+t),n.webOperation("DELETE",t.uri))}));Promise.all(a).then((function(){console.log("deleteRecursive empty folder: "+t),n.webOperation("DELETE",t.uri).then((function(){console.log("Deleted Ok: "+t),i(void 0)})).catch((function(e){var n="Unable to delete "+t+": "+e;console.log(n),o(new Error(n))})),i(void 0)}),(function(e){alert(e),o(e)}))}))}));console.error("No fetcher available")}if(c.setAttribute("class","internalPane"),c.setAttribute("style","background-color: #ddddff; padding: 0.5em; border-radius: 1em;"),e.uri&&!e.uri.includes("#")){var d=c.appendChild(n.createElement("table"));d.style.width="100%",d.style.margin="1em";var p=d.appendChild(n.createElement("tr")),f=p.appendChild(n.createElement("td")),h=e.uri&&e.uri.endsWith("/")||o.holds(e,r.ns.rdf("type"),r.ns.ldp("Container")),m=h?"folder":"file";if(!function(e){var t=e.site().uri;return e.uri===t||e.uri===t+"profile/"||e.uri===t+"profile/card"||e.uri===t+"settings/"||e.uri===t+"settings/prefs.ttl"||e.uri===t+"settings/privateTypeIndex.ttl"||e.uri===t+"settings/publicTypeIndex.ttl"||e.uri===t+"settings/serverSide.ttl"}(e)){console.log(e);var g=r.widgets.deleteButtonWithCheck(n,f,m,(function(){if(confirm("Are you sure you want to delete ".concat(e,"? This cannot be undone."))){if(!o.fetcher)throw new Error("Store has no fetcher");(h?u(o,e)||Promise.resolve():o.fetcher.webOperation("DELETE",e.uri)||Promise.resolve()).then((function(){var t="Deleted: "+e;console.log(t)})).catch((function(t){var n="Unable to delete "+e+": "+t;console.log(n),alert(n)}))}}));g.style="height: 2em;",g.class="",f.appendChild(g)}var v=p.appendChild(n.createElement("td")),y=r.widgets.button(n,r.icons.iconBase+"noun_479395.svg","refresh");v.appendChild(y),y.addEventListener("click",(function(){if(!o.fetcher)throw new Error("Store has no fetcher");o.fetcher.refresh(e,(function(t,n){var r;r=t?"Refreshed OK: "+e:"Error refreshing: "+e+": "+n,console.log(r),alert(r)}))}))}var b=o.statementsMatching(e),w="";if(!o.fetcher)throw new Error("Store has no fetcher");if(e.uri&&(b.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#uri"),e.uri,o.fetcher.appNode)),e.uri.indexOf("#")>=0?(w=e.uri.split("#")[0],b.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#documentURI"),e.uri.split("#")[0],o.fetcher.appNode)),b.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#document"),(0,i.sym)(e.uri.split("#")[0]),o.fetcher.appNode))):w=e.uri),w){if(!o.updater)throw new Error("Store has no updater");var x=o.updater.editable(w);x&&b.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/ns/rww#editable"),(0,i.literal)(x.toString()),o.fetcher.appNode))}var E=t.getOutliner(n);return E.appendPropertyTRs(c,b,!1,l),b=o.statementsMatching(void 0,void 0,e),E.appendPropertyTRs(c,b,!0,l),c},predicates:{"http://www.w3.org/2007/ont/link#request":1,"http://www.w3.org/2007/ont/link#requestedBy":1,"http://www.w3.org/2007/ont/link#source":1,"http://www.w3.org/2007/ont/link#session":2,"http://www.w3.org/2007/ont/link#uri":1,"http://www.w3.org/2007/ont/link#documentURI":1,"http://www.w3.org/2007/ont/link#document":1,"http://www.w3.org/2007/ont/link#all":1,"http://www.w3.org/2007/ont/link#Document":1,"http://www.w3.org/ns/rww#editable":1,"http://www.w3.org/2000/01/rdf-schema#seeAlso":1,"http://www.w3.org/2002/07/owl#":1},classes:{"http://www.w3.org/2007/ont/link#ProtocolEvent":1}};t.default=o},50278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFooter=function(e){(0,r.initFooter)(e,{solidProjectUrl:i,solidProjectName:o})};var r=n(92361),i="https://solidproject.org",o="solidproject.org"},85088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHeader=function(e,t){return g.apply(this,arguments)};var r=n(23451),i=n(92361);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&r.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,l){var c=f(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=x,i(S,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))}}var c=i.icons.iconBase+"noun_help.svg",u="https://solidproject.org/assets/img/solid-emblem.svg",d="User guide",p="Report a problem",f="Log out",h="https://solidos.github.io/userguide/",m="https://github.com/solidos/solidos/issues";function g(){return(g=l(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.initHeader,e.t1=t,e.next=4,v(n);case 4:e.t2=e.sent,e.t3={logo:u,helpIcon:c,helpMenuList:[{label:d,url:h,target:"_blank"},{label:p,url:m,target:"_blank"}]},(0,e.t0)(e.t1,e.t2,e.t3);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=l(a().mark((function e(t){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={label:f,onclick:function(){r.authSession.logout()}},i=[],e.t0=i,e.next=6,b(t);case 6:return e.t1=e.sent,(i=e.t0.concat.call(e.t0,e.t1)).push(n),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=l(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDashboardItems();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.label,onclick:function(){return x(t,e.tabName||e.paneName)}}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return E.apply(this,arguments)}function E(){return(E=l(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showDashboard({pane:n});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return c.apply(this,arguments)};var r=n(96842),i=n(85088),o=n(50278);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&r.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,s,l){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,i(S,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function c(){var e;return e=s().mark((function e(t,n){var a,l,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,r.getOutliner)(document),n=n||window.location.href,l=n,"string"==typeof n&&(l=t.sym(n)),a.GotoSubject(l,!0,void 0,!0,void 0),e.next=7,(0,i.createHeader)(t,a);case 7:return c=e.sent,u=(0,o.createFooter)(t),e.abrupt("return",Promise.all([c,u]));case 10:case"end":return e.stop()}}),e)})),c=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))},c.apply(this,arguments)}},60213:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.n3Pane=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var a=i.ns;t.n3Pane={icon:i.icons.originalIconBase+"w3c/n3_smaller.png",name:"n3",audience:[a.solid("Developer")],label:function(e,t){var n=t.session.store;if("http://www.w3.org/2007/ont/link#ProtocolEvent"in n.findTypeURIs(e))return null;var r=n.statementsMatching(void 0,void 0,void 0,e).length;return 0===r?null:"Data ("+r+") as N3"},render:function(e,t){var n=t.dom,r=t.session.store,o=n.createElement("div");o.setAttribute("class","n3Pane");var a=r.statementsMatching(void 0,void 0,void 0,e),s=i.rdf.Serializer(r);s.suggestNamespaces(r.namespaces),s.setBase(e.uri);var l=s.statementsToN3(a),c=n.createElement("PRE");return c.appendChild(n.createTextNode(l)),o.appendChild(c),o}}},69952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createContext=function(e,t,n,i){return{dom:e,getOutliner:r.getOutliner,session:{paneRegistry:t,store:n,logic:i}}};var r=n(96842)},64396:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dom;this.document=e.dom,this.outlineIcons=c.outlineIcons,this.labeller=this.labeller||{},this.labeller.LanguagePreference="";var r=this,p=this,f=[];this.selection=f,this.ancestor=a.utils.ancestor,this.sparql=a.rdf.UpdateManager,this.kb=s.store;var g=s.store,y=s.store.fetcher;t.outline=this,this.qs=new d.QuerySource,this.UserInput=new u.UserInput(this),this.clipboardAddress="tabulator:clipboard",this.UserInput.clipboardInit(this.clipboardAddress);var b=this.outlineElement;function w(){return x.apply(this,arguments)}function x(){return x=v(m().mark((function e(){var n,r,o,l,c,u,d=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,n){var r=i.byName(n.paneName);e.innerHTML="";var o=e.appendChild(t.createElement("table")),a=s.authn.currentUser();p.GotoSubject(n.subject||a,!0,r,!1,void 0,o)},c=function(e,t){e.dataset.globalPaneName=t.tabName||t.paneName,e.textContent=t.label},n=d.length>0&&void 0!==d[0]?d[0]:{},console.log("globalAppTabs @@"),r=t.createElement("div"),o=s.authn.currentUser()){e.next=9;break}throw alert("Must be logged in for this"),new Error("Not logged in");case 9:return e.next=11,E();case 11:return l=e.sent,r.appendChild(a.tabs.tabWidget({dom:t,subject:o,items:l,renderMain:u,renderTab:c,ordered:!0,orientation:0,backgroundColor:"#eeeeee",selectedTab:n.selectedTab,onClose:n.onClose})),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function E(){return _.apply(this,arguments)}function _(){return _=v(m().mark((function e(){var n,r,i,o,l,c,u,d,p,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(){return(f=v(m().mark((function e(){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.login.findAppInstances({me:n,div:r,dom:t},ee.vcard("AddressBook"));case 3:return i=e.sent,e.abrupt("return",(i.instances||[]).map((function(e,t){return{paneName:"contact",tabName:"contact-".concat(t),label:"Contacts",subject:e,icon:a.icons.iconBase+"noun_15695.svg"}})));case 7:e.prev=7,e.t0=e.catch(0),console.error("oops in globalAppTabs AddressBook");case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},p=function(){return f.apply(this,arguments)},d=function(){return d=v(m().mark((function e(){var t,r,i,o,s,l,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){var t=[];return e.forEach((function(e){t.find((function(t){return t.equals(e)}))||t.push(e)})),t},o=function(){return(o=v(m().mark((function e(n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new URL(n),i=r.pathname;case 2:if(!i.length){e.next=10;break}return i=i.substring(0,i.lastIndexOf("/")),e.next=6,t(g.sym("".concat(r.origin).concat(i,"/")));case 6:if(!e.sent){e.next=8;break}return e.abrupt("return");case 8:e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return o.apply(this,arguments)},r=function(){return(r=v(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:if(!g.holds(t,ee.rdf("type"),ee.space("Storage"),t.doc())){e.next=5;break}return s.push(t),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},t=function(e){return r.apply(this,arguments)},e.prev=5,e.next=8,g.fetcher.load(n.doc());case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),console.error("Unable to load profile",e.t0),e.abrupt("return",[]);case 14:return(s=g.each(n,ee.space("storage"),null,n.doc())).map(function(){var e=v(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.prev=16,l=new URL(window.location.href).searchParams.get("uri"),c=l||window.location.href,e.next=21,i(c);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.error("cannot load container",e.t1);case 26:if((s=u(s)).length){e.next=29;break}return e.abrupt("return",[]);case 29:return e.abrupt("return",s.map((function(e,t){function r(e){return e.uri.split("//")[1].slice(0,-1)}var i=r(n).startsWith(r(e))?"Your storage":r(e);return{paneName:"folder",tabName:"folder-".concat(t),label:i,subject:e,icon:a.icons.iconBase+"noun_Cabinet_251723.svg"}})));case 30:case"end":return e.stop()}}),e,null,[[5,10],[16,23]])}))),d.apply(this,arguments)},u=function(){return d.apply(this,arguments)},n=s.authn.currentUser()){e.next=7;break}return e.abrupt("return",[]);case 7:return r=t.createElement("div"),e.next=10,Promise.all([p(),u()]);case 10:return i=e.sent,2,o=function(e){if(Array.isArray(e))return e}(y=i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next,0;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(y)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,2):void 0}}(y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],c=o[1],e.abrupt("return",[{paneName:"home",label:"Your stuff",icon:a.icons.iconBase+"noun_547570.svg"},{paneName:"basicPreferences",label:"Preferences",icon:a.icons.iconBase+"noun_Sliders_341315_00000.svg"},{paneName:"profile",label:"Your Profile",icon:a.icons.iconBase+"noun_15059.svg"},{paneName:"editProfile",label:"Edit your Profile",icon:a.icons.iconBase+"noun_492246.svg"}].concat(l).concat(c));case 15:case"end":return e.stop()}var y}),e)}))),_.apply(this,arguments)}function k(){return k=v(m().mark((function e(){var t,n,r,i,o,a,l,c=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){n.style.display="none",r.style.display="inherit"},t=c.length>0&&void 0!==c[0]?c[0]:{},n=C("GlobalDashboard"),r=S(),!(n.childNodes.length>0&&t.pane)){e.next=12;break}if(r.style.display="none",n.style.display="inherit",!(i=n.querySelector('[data-global-pane-name="'.concat(t.pane,'"]')))){e.next=11;break}return i.click(),e.abrupt("return");case 11:console.warn("Did not find the referred tab in global dashboard, will open first one");case 12:return e.next=14,w({selectedTab:t.pane,onClose:l});case 14:o=e.sent,s.authSession.onLogout(l),r.style.display="none",n.appendChild(o),(a=n.querySelector('[data-global-pane-name="'.concat(t.pane,'"]')))&&a.click();case 20:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function S(){return C("outline")}function C(e){return document.getElementById(e)||((t=document.createElement("div")).id=e,(document.querySelector('[role="main"]')||document.body).appendChild(t));var t}function A(e){return T.apply(this,arguments)}function T(){return(T=v(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.any(t,ee.ldp("contains"),void 0,t.doc())){e.next=6;break}return e.next=3,g.fetcher.webOperation("GET",t.uri,g.fetcher.initFetchOptions(t.uri,{headers:{accept:"text/turtle"}}));case 3:n=e.sent,r=n.responseText,o.parse(r,g,t.uri,"text/turtle");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return O.apply(this,arguments)}function O(){return O=v(m().mark((function e(t,n){var r,i,o,s,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.uri.endsWith("/")){e.next=3;break}return e.next=3,A(t);case 3:if(r=n.session.paneRegistry,0!==(i=r.list.filter((function(e){return e.label(t,n)&&!e.global}))).length){e.next=7;break}return e.abrupt("return",[r.byName("internal")]);case 7:return e.next=9,a.login.filterAvailablePanes(i);case 9:if(0!==(o=e.sent).length){e.next=12;break}return e.abrupt("return",[i[0]]);case 12:return s=r.list.indexOf(i[0]),l=r.list.indexOf(o[0]),e.abrupt("return",s<l?[i[0]].concat(o):o);case 15:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function I(e,t){return e.find((function(e){return e.shouldGetFocus&&e.shouldGetFocus(t)}))||e[0]}function N(){return N=v(m().mark((function n(r,i,o){var s,l,c,u,d,p,f;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=function(){return l=v(m().mark((function n(o){var s,l,u,d,p,f,h=arguments;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=h.length>1&&void 0!==h[1]?h[1]:{},l="width: 24px; border-radius: 0.5em; border-top: solid #222 1px; border-left: solid #222 0.1em; border-bottom: solid #eee 0.1em; border-right: solid #eee 0.1em; margin-left: 1em; padding: 3px; background-color:   #ffd;",u="width: 24px; border-radius: 0.5em; margin-left: 1em; padding: 3px",(d=o.appendChild(t.createElement("nav"))).style="display:flex; justify-content: flex-start; align-items: center;",!s.hideList){n.next=9;break}n.t0=[],n.next=12;break;case 9:return n.next=11,P(r,e);case 11:n.t0=n.sent;case 12:return p=n.t0,c.firstPane=i||I(p,r),f=p.indexOf(c.firstPane),1!==p.length&&p.forEach((function(n,i){var p=n.label(r,e),h=a.utils.AJARImage(n.icon,p,p,t);h.style=n===c.firstPane?l:u,function(n,i){n.addEventListener("click",(function(c){var d;for(d=o;d.parentNode&&"TABLE"!==d.nodeName;d=d.parentNode);if("TABLE"!==d.nodeName)throw new Error("outline: internal error.");var p=function(e){for(var n=d.firstChild;n;n=n.nextSibling)void 0!==n.pane&&(e&&n.pane!==e||(n.paneButton&&(n.paneButton.setAttribute("class","paneHidden"),n.paneButton.style=u),F(n),n.pane.requireQueryButton&&d.parentNode.className&&1===f&&t.getElementById("queryButton")&&t.getElementById("queryButton").setAttribute("style","display:none;")))};"paneHidden"===n.getAttribute("class")?(c.shiftKey||p(),function(i){var o;a.log.info("outline: Rendering pane (2): "+i.name);try{o=i.render(r,e,s)}catch(e){(o=t.createElement("div")).setAttribute("class","exceptionPane");var l=t.createElement("pre");o.appendChild(l),l.appendChild(t.createTextNode(a.utils.stackString(e)))}i.requireQueryButton&&t.getElementById("queryButton")&&t.getElementById("queryButton").removeAttribute("style");var c=d.firstChild.nextSibling,u=t.createElement("tr");u.appendChild(t.createElement("td")).appendChild(o),c?d.insertBefore(u,c):d.appendChild(u),u.pane=i,u.paneButton=n}(i),n.setAttribute("class","paneShown"),n.style=l):(p(i),n.setAttribute("class","paneHidden"),n.style=u);for(var f=0,h=d.firstChild;h;h=h.nextSibling)h.pane&&h.pane.requireQueryButton&&f++}),!1)}(h,n),h.setAttribute("class",i!==f?"paneHidden":"paneShown"),i===f&&(c.paneButton=h),d.appendChild(h)})),n.abrupt("return",d);case 17:case"end":return n.stop()}}),n)}))),l.apply(this,arguments)},s=function(e){return l.apply(this,arguments)},c=t.createElement("tr"),o.hover&&c.setAttribute("class","hoverControl"),(u=c.appendChild(t.createElement("td"))).setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;display:flex; justify-content: space-between; flex-direction: row;"),u.setAttribute("notSelectable","true"),u.setAttribute("about",r.toNT()),u.setAttribute("colspan","2"),(d=u.appendChild(t.createElement("div"))).style="display:flex; justify-content: flex-start; align-items: center; flex-wrap: wrap;",p=!!i,o.solo||p||(d.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-collapse.png","collapse",void 0,t)).addEventListener("click",z),(f=d.appendChild(t.createElement("h1"))).appendChild(t.createTextNode(a.utils.label(r))),f.style="font-size: 150%; margin: 0 0.6em 0 0; padding: 0.1em 0.4em;",a.widgets.makeDraggable(f,r)),n.t0=d,n.next=16,s(u,{hideList:p});case 16:return n.t1=n.sent,n.t0.appendChild.call(n.t0,n.t1),c.firstChild.tabulatorSelect=function(){H(this,!0)},c.firstChild.tabulatorDeselect=function(){H(this,!1)},n.abrupt("return",c);case 21:case"end":return n.stop()}}),n)}))),N.apply(this,arguments)}function F(e){var n=e.parentNode,r=n.parentNode,i=t.createElement("table");i.setAttribute("style","width: 100%;"),r.replaceChild(i,n),n.removeChild(e),r.replaceChild(n,i)}this.init=function(){S().outline=this},this.appendAccessIcons=function(e,t,n){if("NamedNode"===n.termType){var r=e.uris(n);r.sort();for(var i=null,o=0;o<r.length;o++)r[o]!==i&&(i=r[o],p.appendAccessIcon(t,i))}},this.appendAccessIcon=function(e,n){if(!n)return"";var i=a.rdf.uri.docpart(n);if("http:"!==i.slice(0,5))return"";var o,s,l,u=y.getState(i);switch(u){case"unrequested":o=c.outlineIcons.src.icon_unrequested,s="fetch",l=K;break;case"requested":o=c.outlineIcons.src.icon_requested,s="fetching",l=V;break;case"fetched":o=c.outlineIcons.src.icon_fetched,l=$,s="loaded";break;case"failed":o=c.outlineIcons.src.icon_failed,s="failed",l=V;break;case"unpermitted":o=c.outlineIcons.src.icon_failed,l=V,s="no perm";break;case"unfetchable":o=c.outlineIcons.src.icon_failed,l=V,s="cannot fetch";break;default:a.log.error("?? state = "+u)}var d=a.utils.AJARImage(o,s,c.outlineIcons.tooltips[o].replace(/[Tt]his resource/,i),t);return d.setAttribute("uri",n),d.addEventListener("click",l),function(e,t){a.log.debug("Button callbacks for "+t+" added");var n=function(n){return function(i){return i.indexOf("#")>=0&&console.log("@@ makeIconCallback: Not expecting # in URI whose state changed: "+i),!!e&&!!r.ancestor(e,"DIV")&&(i===t&&(e.src=n,e.title=c.outlineIcons.tooltips[n]),!0)}};y.addCallback("request",n(c.outlineIcons.src.icon_requested)),y.addCallback("done",n(c.outlineIcons.src.icon_fetched)),y.addCallback("fail",n(c.outlineIcons.src.icon_failed))}(d,i),e.appendChild(d),d},this.outlineObjectTD=function(e,n,r,i){var o,s,l,u,d=t.createElement("td");return d.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),d.setAttribute("notSelectable","false"),("NamedNode"===e.termType||"BlankNode"===e.termType||"Literal"===e.termType&&e.value.slice&&("ftp://"===e.value.slice(0,6)||"https://"===e.value.slice(0,8)||"http://"===e.value.slice(0,7)))&&(d.setAttribute("about",e.toNT()),d.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-expand-trans.png","expand",void 0,t)).addEventListener("click",W)),d.setAttribute("class","obj"),g.whether(e,a.ns.rdf("type"),a.ns.link("Request"))&&(d.className="undetermined"),n||(n=ne),d.appendChild(n(e)),r&&(o=d,s=e,l=r,(u=a.utils.AJARImage(c.outlineIcons.src.icon_remove_node,"remove",void 0,t)).addEventListener("click",G),u.node=l,u.setAttribute("about",s.toNT()),u.style.marginLeft="5px",u.style.marginRight="10px",o.appendChild(u)),d.tabulatorSelect=function(){H(this,!0)},d.tabulatorDeselect=function(){H(this,!1)},d.addEventListener("click",J),d},this.outlinePredicateTD=function(e,n,r,i){var o,s=t.createElement("TD");switch(s.setAttribute("about",e.toNT()),s.setAttribute("class",i?"pred internal":"pred"),e.termType){case"BlankNode":s.className="undetermined";break;case"NamedNode":o=a.utils.predicateLabelForXML(e,r);break;case"Collection":o=a.utils.predicateLabelForXML(e.elements[0],r)}o=o.slice(0,1).toUpperCase()+o.slice(1);var l=t.createElement("TD");for(var u in l.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),l.setAttribute("notSelectable","true"),l.appendChild(t.createTextNode(o)),s.appendChild(l),l.style.width="100%",s.appendChild(j.construct(t)),c.outlineIcons.termWidgets){if(!n||!n.AJAR_statement)break;c.outlineIcons.termWidgets[u].filter&&c.outlineIcons.termWidgets[u].filter(n.AJAR_statement,"pred",r)&&j.addIcon(s,c.outlineIcons.termWidgets[u])}return s.tabulatorSelect=function(){H(this,!0)},s.tabulatorDeselect=function(){H(this,!1)},s.addEventListener("click",J),s},this.getDashboard=w,this.getDashboardItems=E,this.showDashboard=function(){return k.apply(this,arguments)};var L=this.propertyTable=function(n,r,i,o){return a.log.debug("Property table for: "+n),n=g.canon(n),r?(a.log.info("Re-expand: "+r),r):((r=t.createElement("table")).setAttribute("style","width: 100%;"),function(e,t,n){return N.apply(this,arguments)}(n,i,o).then((function(i){if(r.appendChild(i),i.firstPane){var s;try{a.log.info("outline: Rendering pane (1): "+i.firstPane.name),s=i.firstPane.render(n,e,o)}catch(e){(s=t.createElement("div")).setAttribute("class","exceptionPane");var l=t.createElement("pre");s.appendChild(l),l.appendChild(t.createTextNode(a.utils.stackString(e)))}var c=t.createElement("tr");c.appendChild(t.createElement("td")).appendChild(s),i.firstPane.requireQueryButton&&t.getElementById("queryButton")&&t.getElementById("queryButton").removeAttribute("style"),r.appendChild(c),c.pane=i.firstPane,c.paneButton=i.paneButton}})),r)};function R(e,t,n){var r=e.createElement("TR");r.AJAR_statement=t,r.AJAR_inverse=n,r.setAttribute("predTR","true");var i=p.outlinePredicateTD(t.predicate,r,n);return r.appendChild(i),r}this.propertyTR=R,this.appendPropertyTRs=function(e,n,i,o){if(a.log.debug("Property list length = "+n.length),0===n.length)return"";var s,l,c;i?(s=function(e){return e.subject},n=n.sort(a.utils.RDFComparePredicateSubject)):(s=function(e){return e.object},n=n.sort(a.utils.RDFComparePredicateObject));var u=n.length,d=function(){var d=n[l];if(o&&!o(d.predicate,i))return 0;var f=R(t,d,i);e.appendChild(f);var h=f.firstChild,m=te.defaults[d.predicate.uri],v=0,y=0,b=0;for(c=0;c+l<u&&n[l+c].predicate.sameTerm(d.predicate);c++)c>0&&s(n[l+c]).sameTerm(s(n[l+c-1]))&&v++,s(n[l+c]).lang&&r.labeller.LanguagePreference&&(y+=1,s(n[l+c]).lang.indexOf(r.labeller.LanguagePreference)>=0&&b++);if(b>0&&y===v+1){for(var w=l;w<=l+v;w++)if(r.labeller.LanguagePreference&&s(n[w]).lang.indexOf(r.labeller.LanguagePreference)>=0){f.appendChild(p.outlineObjectTD(s(n[w]),m,void 0,d));break}return l+=v,0}f.appendChild(p.outlineObjectTD(s(d),m,void 0,d)),f.showNobj=function(r){var o=c-v,u=2*r<o?r:o,f=[];if(1!==o){var y;h.setAttribute("rowspan",u===o?o:r+1),u<o&&1===u&&h.setAttribute("rowspan",2);var b=0;for(y=1;y<c;y++)if(g.canon(s(n[l+y])).sameTerm(g.canon(s(n[l+y-1]))))a.log.info("there are duplicates here: %s",n[l+y-1]);else{b++,d=n[l+y],m=te.defaults[d.predicate.uri];var w=t.createElement("tr");w.style.colspan="1",w.appendChild(p.outlineObjectTD(s(n[l+y]),m,void 0,d)),w.AJAR_statement=d,w.AJAR_inverse=i,e.appendChild(w),b>=u&&(w.style.display="none",f.push(w))}u===o&&h.setAttribute("rowspan",b+1)}if(u<o){var x=t.createElement("tr"),E=x.appendChild(t.createElement("td"));if(E.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),E.setAttribute("notSelectable","false"),o>r){var _=t.createElement("a");E.appendChild(_);var k=function(e,n,r,i){return function(n){_.innerHTML="","none"===n?(_.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-more-trans.png","more","See all",t)),_.appendChild(t.createTextNode(o-i+" more...")),e.setAttribute("rowspan",i+1)):(_.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-shrink.png","(less)",void 0,t)),e.setAttribute("rowspan",o+1));for(var r=0;r<f.length;r++)f[r].style.display=n}}(h,0,0,r),S="none",C=function(e){return k(S),S="none"===S?"":"none",e&&e.stopPropagation(),!1};C(),_.addEventListener("click",C,!1)}e.appendChild(x)}},f.showAllobj=function(){f.showNobj(c-v)},f.showNobj(10),l+=c-1};for(l=0;l<u;l++)d()};var j={};function M(e){var t=e.getAttribute("class");return!!(t&&t.indexOf("selected")>=0)}function D(e){var t=p.targetOf(e).parentNode;j.replaceIcon(t.parentNode,c.outlineIcons.termWidgets.optOn,c.outlineIcons.termWidgets.optOff,U),t.parentNode.parentNode.removeAttribute("optional")}function U(e){var t=p.targetOf(e).parentNode;j.replaceIcon(t.parentNode,c.outlineIcons.termWidgets.optOff,c.outlineIcons.termWidgets.optOn,D),t.parentNode.parentNode.setAttribute("optional","true")}function B(e,t){for(var n=c.outlineIcons.termWidgets.optOn,r=c.outlineIcons.termWidgets.optOff,i=e;i.parentNode;i=i.parentNode)for(;;){if(i.getAttribute("predTR")){var o=i.getAttribute("parentOfSelected");0===(o=o?parseInt(o):0)&&t>0&&j.addIcon(i.childNodes[0],i.getAttribute("optional")?n:r,i.getAttribute("optional")?D:U),o+=t,i.setAttribute("parentOfSelected",o),0===o&&(i.removeAttribute("parentOfSelected"),j.removeIcon(i.childNodes[0],i.getAttribute("optional")?n:r));break}if(!i.previousSibling||"TR"!==i.previousSibling.nodeName)break;i=i.previousSibling}}function H(e,t){if("TD"!==e.nodeName)throw a.log.debug("down"+e.nodeName),new Error("Expected TD in setSelected: "+e.nodeName+" : "+e.textContent);a.log.debug("pass");var n=e.getAttribute("class");if(n||(n=""),t){((n+=" selected").indexOf("pred")>=0||n.indexOf("obj")>=0)&&B(e,1),f.push(e);var r=a.utils.getTerm(e);p.showURI(r);var i=e.AJAR_statement;if(void 0===i&&e.parentNode&&(i=e.parentNode.AJAR_statement),i){var o=i.why;s.store.updater.editable(o.uri,g)&&n.indexOf("pred")>=0&&j.addIcon(e,c.outlineIcons.termWidgets.addTri)}}else a.log.debug("cla=$"+n+"$"),"selected"===n&&(n=""),((n=n.replace(" selected","")).indexOf("pred")>=0||n.indexOf("obj")>=0)&&B(e,-1),n.indexOf("pred")>=0&&j.removeIcon(e,c.outlineIcons.termWidgets.addTri),f=f.filter((function(t){return t===e})),a.log.info("Deselecting "+e.textContent);"undefined"!=typeof sourceWidget&&p.showSource(),e.setAttribute("class",n)}function q(){for(var e=f.length-1;e>=0;e--)H(f[e],!1);f=[]}function W(e){var t=p.targetOf(e),n=t.parentNode,r=a.utils.getAbout(g,t);e.altKey&&i.byName("internal"),e.shiftKey?Z(n,r):e.altKey?Y(n,r,{pane:i.byName("internal"),immediate:!0}):Y(n,r)}function z(e){var t=p.targetOf(e),n=a.utils.getAbout(g,t);e.altKey&&i.byName("internal"),X(t.parentNode.parentNode,n)}function V(e){var t=p.targetOf(e).getAttribute("uri");e.altKey?y.fetch(a.rdf.uri.docpart(t),{force:!0}):y.refresh(g.sym(a.rdf.uri.docpart(t)))}function $(e){var t=p.targetOf(e).getAttribute("uri");e.altKey?y.fetch(a.rdf.uri.docpart(t),{force:!0}):y.refresh(g.sym(a.rdf.uri.docpart(t)))}function K(e){var t=p.targetOf(e).getAttribute("uri");y.fetch(a.rdf.uri.docpart(t))}function G(e){var t=p.targetOf(e),n=t.node;n.childNodes.length>1&&(n=t.parentNode),F(n)}function J(e){if(p.UserInput._tabulatorMode)return p.UserInput.Click(e);var t,n=p.targetOf(e);for(t=a.utils.ancestor(n,"TD");t&&"false"!==t.getAttribute("notSelectable");t=a.utils.ancestor(t.parentNode,"TD"));if(t){var r=M(t);if(a.log.debug("Was node selected before: "+r),e.altKey)H(t,!M(t));else if(e.shiftKey)H(t,!0);else{if(q(),p.UserInput.clearInputAndSave(e),H(t,!0),2===e.detail)return void e.stopPropagation();var i;if(t.parentNode&&(i=t.parentNode.AJAR_statement),!i)return;var o=i.why,l=s.store.updater.editable(o.uri,g);r&&l&&p.UserInput.Click(e,f[0])}a.log.debug("Was node selected after: "+M(t)+", count="+f.length),e.stopPropagation()}}function Q(e){t.title=a.utils.label(e),t.location.href.startsWith(e.site().uri)}function Y(e,n,r){var i=(r=r||{}).pane,o=!!r.already,s=r.immediate;a.log.info("@outlineExpand, dom is now "+t.location),y.removeCallback("done","expand"),y.removeCallback("fail","expand");var l=g.canon(n);function c(){if(l=g.canon(l),!e||!e.parentNode||!e.parentNode.parentNode)return!1;var t;if(a.log.info("@@ REPAINTING "),o){for(a.log.info(" ... p is  "+e),t=e.firstChild;t.nextSibling&&(a.log.info(" ... checking node "+t),"table"!==t.nodeName);t=t.nextSibling);t=L(l,t,i,r)}else t=L(l,void 0,i,r);o=!0,a.utils.ancestor(e,"TABLE")&&"white"===a.utils.ancestor(e,"TABLE").style.backgroundColor?t.style.backgroundColor="#eee":t.style.backgroundColor="white",a.utils.emptyNode(e).appendChild(t),p.focusTd=e,a.log.debug("expand: Node for "+l+" expanded");for(var n=g.each(l,a.ns.rdfs("seeAlso")),s=0;s<n.length;s++)25===s&&a.log.warn("expand: Warning: many ("+n.length+") seeAlso links for "+l),y.lookUpThing(n[s],l)}function u(e){if(arguments[3])return!0;var t=g.canon(l);a.log.info("@@ expand: relevant subject="+t+", uri="+e+", already="+o);var n=g.sym(a.rdf.uri.docpart(e));if(e.indexOf("#")>=0)throw new Error("Internal error: hash in "+e);return!function(){if(!t.uri)return!0;var r=g.uris(t);if(!r)return!1;for(var i=0;i<r.length;i++)for(var o=a.rdf.uri.docpart(r[i]);o;o=g.HTTPRedirects[o])if(e===o)return!0;return!!g.anyStatementMatching(t,void 0,void 0,n)}()||(a.log.success("@@ expand OK: relevant subject="+t+", uri="+e+", source="+o),c(),!1)}r.solo&&Q(l),a.log.debug("outlineExpand: dereferencing "+l);var d=t.createElement("span");e.appendChild(d),y.addCallback("done",u),y.addCallback("fail",u);var f=[];if(l.uri&&"rdf"===l.uri.split(":")[0])c();else{for(var h=0;h<f.length;h++){var m=void 0;if(m===f[h](l))return c(),a.log.debug("outline 1815"),void(m[1]&&b.removeChild(b.lastChild))}!l.uri||s||a.widgets.isAudio(l)||a.widgets.isVideo(l)?c():y.nowOrWhenFetched(l.doc(),void 0,(function(n,i){if(n)y.lookUpThing(l),c(),r.solo&&Q(l);else{var o=t.createElement("pre");o.textContent=i,o.setAttribute("style","background-color: #fee;"),o.textContent="Outline.expand: Unable to fetch "+l.doc()+": "+i,e.appendChild(o)}}))}}function X(e,t){var n,r,i,o,s=a.utils.ancestor(e,"TR");for((s=a.utils.ancestor(s.parentNode,"TR"))&&(n=s.AJAR_statement),r=e.parentNode;"TD"!==r.tagName;r=r.parentNode)if(void 0===r)return void alert("Not enclosed in TD!");a.log.debug("Collapsing subject "+t),n&&(a.log.debug("looking up pred "+n.predicate.uri+"in defaults"),i=te.defaults[n.predicate.uri]),a.log.debug("view= "+i),"outline"===r.parentNode.parentNode.id&&(o=r.parentNode),p.replaceTD(p.outlineObjectTD(t,i,o,n),r)}function Z(e,t){for(var n=null,r=e.parentNode;r;r=r.parentNode)a.log.debug("level "+r.tagName),"TD"===r.tagName&&(n=r);a.utils.emptyNode(n).appendChild(L(t)),Q(t),n.setAttribute("about",t.toNT())}n.g.termWidget=j,j.construct=function(e){var t=(e=e||document).createElement("TD");return t.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),t.setAttribute("class","iconTD"),t.setAttribute("notSelectable","true"),t.style.width="0px",t},j.addIcon=function(e,n,r){var i=e.childNodes[1];if(i){var o=i.style.width,s=a.utils.AJARImage(n.src,n.alt,n.tooltip,t);o=parseInt(o),o+=n.width,i.style.width=o+"px",i.appendChild(s),r&&s.addEventListener("click",r)}},j.removeIcon=function(e,n){var r,i=e.childNodes[1];if(i){var o=i.style.width;o=parseInt(o),o-=n.width,i.style.width=o+"px";for(var s=0;s<i.childNodes.length;s++){var l=i.childNodes[s],c=l.src;try{r=t.location.href.split("?")[0]}catch(e){console.log(e),r=""}c===a.rdf.uri.join(n.src,r)&&i.removeChild(l)}}},j.replaceIcon=function(e,t,n,r){j.removeIcon(e,t),j.addIcon(e,n,r)},new function(){this.pat=g.formula(),this.vars=[]},this.statusBarClick=function(e){var t=a.utils.getTarget(e);t.label&&(window.content.location=t.label)},this.showURI=function(e){e&&t.getElementById("UserURI")&&(t.getElementById("UserURI").value="NamedNode"===e.termType?e.uri:"")},this.showSource=function(){if("undefined"!=typeof sourceWidget){for(var e in sourceWidget.sources)sourceWidget.sources[e].setAttribute("class","");for(var t=0;t<f.length;t++)if(f[t].parentNode){var n=f[t].parentNode.AJAR_statement;if(n){var r=n.why;r&&r.uri&&sourceWidget.highlight(r,!0)}}else console.log("showSource: EH? no parentNode? "+f[t]+"\n")}},this.getSelection=function(){return f},this.targetOf=function(e){var t;if(e||(e=window.event),e.target)t=e.target;else{if(!e.srcElement)return a.log.error("can't get target for event "+e),!1;t=e.srcElement}return 3===t.nodeType&&(t=t.parentNode),t},this.walk=function(e,n){var r,i=n||f[0];switch(e){case"down":try{r=i.parentNode.nextSibling.lastChild}catch(e){return void this.walk("up")}q(),H(r,!0);break;case"up":try{r=i.parentNode.previousSibling.lastChild}catch(e){return}q(),H(r,!0);break;case"right":q(),i.nextSibling||"strong"===i.lastChild.tagName?H(i.nextSibling,!0):H(t.evaluate("table/div/tr/td[2]",i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,!0);break;case"left":if(q(),i.previousSibling&&"undetermined"===i.previousSibling.className)return H(i.previousSibling,!0),!0;H(a.utils.ancestor(i.parentNode,"TD"),!0);break;case"moveTo":q(),H(n,!0)}"down"!==e&&"up"!==e||r.tabulatorSelect||this.walk(e)},this.OutlinerKeypressPanel=function(e){function n(e){e&&t.getElementById("UserURI")&&(t.getElementById("UserURI").value="NamedNode"===e.termType?e.uri:"")}function o(e){return arguments[3]||(h("right",u),n(a.utils.getAbout(g,f[0]))),!0}var l,c;if(a.log.info("Key "+e.keyCode+" pressed"),"TEXTAREA"!==a.utils.getTarget(e).tagName&&"UserURI"!==a.utils.getTarget(e).id&&!(f.length>1))if(0!==f.length){var u=f[0];switch(y.removeCallback("done","setSelectedAfterward"),y.removeCallback("fail","setSelectedAfterward"),e.keyCode){case 13:if("HTML"===a.utils.getTarget(e).tagName){var d=a.utils.getAbout(g,u);l=u.parentNode.AJAR_statement.why,c=s.store.updater.editable(l.uri,g),d?r.GotoSubject(d,!0):c&&p.UserInput.Enter(u)}else this.UserInput.Keypress(e),this.walk("down"),e.stopPropagation();return;case 38:this.walk("up"),e.stopPropagation(),e.preventDefault();break;case 40:this.walk("down"),e.stopPropagation(),e.preventDefault()}if("INPUT"!==a.utils.getTarget(e).tagName){var h;switch(e.keyCode){case 46:case 8:l=u.parentNode.AJAR_statement.why,(c=s.store.updater.editable(l.uri,g))&&(e.preventDefault(),this.UserInput.Delete(u));break;case 37:if(this.walk("left"))return;var m=a.utils.ancestor(u.parentNode,"TD");X(u,a.utils.getAbout(g,m));break;case 39:var v=a.utils.getAbout(g,u);if(v){if(h=this.walk,u.nextSibling)return void this.walk("right");"TABLE"!==u.firstChild.tagName&&(y.addCallback("done",o),y.addCallback("fail",o),Y(u,v,{pane:i.byName("defaultPane")})),o()}break;case 38:case 40:break;default:switch(e.charCode){case 99:if(e.ctrlKey){p.UserInput.copyToClipboard(p.clipboardAddress,u);break}break;case 118:case 112:if(e.ctrlKey){p.UserInput.pasteFromClipboard(p.clipboardAddress,u);break}break;default:a.utils.getTarget(e).tagName}}if(n(a.utils.getAbout(g,f[0])),f[0]){var b=a.utils.findPos(f[0])[1];b+f[0].clientHeight>window.scrollY+window.innerHeight&&a.utils.getEyeFocus(f[0],!0,!0,window),b<window.scrollY+54&&a.utils.getEyeFocus(f[0],!0,void 0,window)}}}else 13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode||(this.walk("right",p.focusTd),n(a.utils.getAbout(g,f[0])))},this.OutlinerMouseclickPanel=function(e){switch(p.UserInput._tabulatorMode){case 0:!function(e){a.log.info("@TabulatorMousedown, dom.location is now "+t.location);var n=p.targetOf(e);if(n){var r=n.tagName;"INPUT"!==r&&"TEXTAREA"!==r&&(p.UserInput.clearMenu(),p.UserInput.lastModified&&p.UserInput.lastModified.parentNode.nextSibling&&p.UserInput.backOut(),(!n.src||n.src.slice(n.src.indexOf("/icons/")+1)!==c.outlineIcons.src.icon_show_choices&&n.src.slice(n.src.indexOf("/icons/")+1)!==c.outlineIcons.src.icon_add_triple)&&p.UserInput.clearInputAndSave(e),n.src&&n.src.slice(n.src.indexOf("/icons/")+1)===c.outlineIcons.src.icon_show_choices||p.UserInput.clearMenu(),e&&e.stopPropagation())}}(e);break;case 1:p.UserInput.Click(e)}},this.replaceTD=function(e,t){var n;M(t)&&(n=!0);for(var r=f.length-1;r>-1;r--)for(var i=f[r];i.parentNode;i=i.parentNode)i===t&&H(f[r],!1);t.parentNode.replaceChild(e,t),n&&H(e,!0)},r.outlineRefocus=Z,this.GotoFormURI_enterKey=function(e){13===e.keyCode&&r.GotoFormURI(e)},this.GotoFormURI=function(e){!function(e){var t=g.sym(e);this.GotoSubject(t,!0)}(t.getElementById("UserURI").value)},this.GotoURIinit=function(e){var t=g.sym(e);this.GotoSubject(t)},this.GotoSubject=function(e,n,r,i,o,s){s=s||t.getElementById("outline"),i&&(a.utils.emptyNode(s),s.style.width="100%");var l=function(){var n=t.createElement("TR");n.style.verticalAlign="top",s.appendChild(n);var r=p.outlineObjectTD(e,void 0,n);return n.appendChild(r),r}();if(i&&Q(e),n){Y(l,e,{pane:r,solo:i});var c=l.parentNode;a.utils.getEyeFocus(c,!1,void 0,window)}if(i&&t&&t.defaultView&&t.defaultView.history&&document.location.href!==e.uri){var u=r?{paneName:r.name}:{};try{t.defaultView.history.pushState(u,e.uri,e.uri)}catch(e){console.log(e)}}return e};var ee=a.ns,te=(0,l.propertyViews)(t);function ne(n){var r;if("Literal"===n.termType){(r=t.createElement("span")).textContent=n.value;var o="";if(n.datatype&&n.datatype.uri){var s=a.ns.xsd("").uri;n.datatype.uri.slice(0,s.length)===s&&(o={integer:"text-align: right;",decimal:"text-align: '.';",double:"text-align: '.';"}[n.datatype.uri.slice(s.length)])}r.setAttribute("style",o||"white-space: pre-wrap;")}else if("NamedNode"===n.termType||"BlankNode"===n.termType)if((r=t.createElement("span")).setAttribute("about",n.toNT()),p.appendAccessIcons(g,r,n),"NamedNode"===n.termType)if("tel:"===n.uri.slice(0,4)){var l=n.uri.slice(4),u=t.createElement("a");r.appendChild(t.createTextNode(l)),u.setAttribute("href",n.uri),u.appendChild(a.utils.AJARImage(c.outlineIcons.src.icon_telephone,"phone","phone "+l,t)),r.appendChild(u),u.firstChild.setAttribute("class","phoneIcon")}else{r.appendChild(t.createTextNode(a.utils.label(n)));var d=a.widgets.linkIcon(t,n);r.appendChild(d),a.widgets.makeDraggable(r,n)}else r.appendChild(t.createTextNode(a.utils.label(n)));else if("Collection"===n.termType){(r=t.createElement("table")).setAttribute("style","width: 100%;"),r.setAttribute("about",n.toNT());for(var f=0;f<n.elements.length;f++){var h=n.elements[f],m=r.appendChild(t.createElement("tr")),v=m.appendChild(t.createElement("td"));v.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),v.setAttribute("notSelectable","false"),v.setAttribute("about",n.toNT()),v.innerHTML=f+1+")",m.appendChild(p.outlineObjectTD(h))}}else"Graph"===n.termType?(r=i.byName("dataContentPane").statementsAsTables(n.statements,e)).setAttribute("class","nestedFormula"):(a.log.error("Object "+n+" has unknown term type: "+n.termType),r=t.createTextNode("[unknownTermType:"+n.termType+"]"));return a.log.debug("contents: "+r.innerHTML),r}return this.createTabURI=function(){t.getElementById("UserURI").value=t.URL+"?uri="+t.getElementById("UserURI").value},this.UserInput.setSelected=H,this.UserInput.deselectAll=q,this.UserInput.views=te,this.outlineExpand=Y,this};var i=f(n(46808)),o=f(n(67364)),a=f(n(92361)),s=n(23451),l=n(73430),c=n(70535),u=n(38978),d=f(n(79742));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};u(E,s,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&i.call(k,s)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,s,l){var c=p(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=p(t,n,r);if("normal"===c.type){if(i=r.done?v:h,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=u(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),u(S,c,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function g(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}},70535:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.outlineIcons=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var a=t.outlineIcons={};a.src=[],a.tooltips=[],a.src.icon_expand=i.icons.originalIconBase+"tbl-expand-trans.png",a.src.icon_more=i.icons.originalIconBase+"tbl-more-trans.png",a.src.icon_collapse=i.icons.originalIconBase+"tbl-collapse.png",a.src.icon_internals=i.icons.originalIconBase+"tango/22-emblem-system.png",a.src.icon_instances=i.icons.originalIconBase+"tango/22-folder-open.png",a.src.icon_foaf=i.icons.originalIconBase+"foaf/foafTiny.gif",a.src.icon_social=i.icons.originalIconBase+"social/social.gif",a.src.icon_mb=i.icons.originalIconBase+"microblog/microblog.png",a.src.icon_shrink=i.icons.originalIconBase+"tbl-shrink.png",a.src.icon_rows=i.icons.originalIconBase+"tbl-rows.png",a.src.icon_unrequested=i.icons.originalIconBase+"16dot-blue.gif",a.src.icon_fetched=i.icons.originalIconBase+"16dot-green.gif",a.src.icon_failed=i.icons.originalIconBase+"16dot-red.gif",a.src.icon_requested=i.icons.originalIconBase+"16dot-yellow.gif",a.src.icon_CVPane=i.icons.originalIconBase+"CV.png",a.src.icon_defaultPane=i.icons.originalIconBase+"about.png",a.src.icon_visit=i.icons.originalIconBase+"tango/22-text-x-generic.png",a.src.icon_dataContents=i.icons.originalIconBase+"rdf_flyer.24.gif",a.src.icon_n3Pane=i.icons.originalIconBase+"w3c/n3_smaller.png",a.src.icon_RDFXMLPane=i.icons.originalIconBase+"22-text-xml4.png",a.src.icon_imageContents=i.icons.originalIconBase+"tango/22-image-x-generic.png",a.src.icon_airPane=i.icons.originalIconBase+"1pt5a.gif",a.src.icon_LawPane=i.icons.originalIconBase+"law.jpg",a.src.icon_pushbackPane=i.icons.originalIconBase+"pb-logo.png",a.src.icon_photoPane=i.icons.originalIconBase+"photo_small.png",a.src.icon_tagPane=i.icons.originalIconBase+"tag_small.png",a.src.icon_TinyTag=i.icons.originalIconBase+"tag_tiny.png",a.src.icon_photoBegin=i.icons.originalIconBase+"photo_begin.png",a.src.icon_photoNext=i.icons.originalIconBase+"photo_next.png",a.src.icon_photoBack=i.icons.originalIconBase+"photo_back.png",a.src.icon_photoEnd=i.icons.originalIconBase+"photo_end.png",a.src.icon_photoImportPane=i.icons.originalIconBase+"flickr_small.png",a.src.icon_retract=i.icons.originalIconBase+"retract.gif",a.src.icon_refresh=i.icons.originalIconBase+"refresh.gif",a.src.icon_optoff=i.icons.originalIconBase+"optional_off.PNG",a.src.icon_opton=i.icons.originalIconBase+"optional_on.PNG",a.src.icon_map=i.icons.originalIconBase+"compassrose.png",a.src.icon_retracted=a.src.icon_unrequested,a.src.icon_retracted=a.src.icon_unrequested,a.src.icon_time=i.icons.originalIconBase+"icons/Wclocksmall.png",a.src.icon_telephone=i.icons.originalIconBase+"silk/telephone.png",a.src.icon_time=i.icons.originalIconBase+"Wclocksmall.png",a.src.icon_remove_node=i.icons.originalIconBase+"tbl-x-small.png",a.src.icon_add_triple=i.icons.originalIconBase+"tango/22-list-add.png",a.src.icon_add_new_triple=i.icons.originalIconBase+"tango/22-list-add-new.png",a.src.icon_show_choices=i.icons.originalIconBase+"userinput_show_choices_temp.png",a.src.icon_display_reasons=i.icons.originalIconBase+"tango/22-help-browser.png",a.tooltips[a.src.icon_display_reasons]="Display explanations",a.tooltips[a.src.icon_add_triple]="Add more",a.tooltips[a.src.icon_add_new_triple]="Add one",a.tooltips[a.src.icon_remove_node]="Remove",a.tooltips[a.src.icon_expand]="View details.",a.tooltips[a.src.icon_collapse]="Hide details.",a.tooltips[a.src.icon_shrink]="Shrink list.",a.tooltips[a.src.icon_internals]="Under the hood",a.tooltips[a.src.icon_instances]="List",a.tooltips[a.src.icon_foaf]="Friends",a.tooltips[a.src.icon_rows]="Make a table of data like this",a.tooltips[a.src.icon_unrequested]="Fetch this.",a.tooltips[a.src.icon_fetched]="Fetched successfully.",a.tooltips[a.src.icon_failed]="Failed to load. Click to retry.",a.tooltips[a.src.icon_requested]="This is being fetched. Please wait...",a.tooltips[a.src.icon_visit]="View document",a.tooltips[a.src.icon_retract]="Remove this source and all its data from tabulator.",a.tooltips[a.src.icon_refresh]="Refresh this source and reload its triples.",a.OutlinerIcon=function(e,t,n,r,i){return this.src=e,this.alt=n,this.width=t,this.tooltip=r,this.filter=i,this},a.termWidgets={},a.termWidgets.optOn=new a.OutlinerIcon(a.src.icon_opton,20,"opt on","Make this branch of your query mandatory."),a.termWidgets.optOff=new a.OutlinerIcon(a.src.icon_optoff,20,"opt off","Make this branch of your query optional."),a.termWidgets.addTri=new a.OutlinerIcon(a.src.icon_add_triple,18,"add tri","Add one")},73430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propertyViews=function(e){var t={properties:[],defaults:[],classes:[]},n=(0,i.default)(e),a=(0,o.default)(e);return s(t,r.ns.foaf("depiction").uri,n,!0),s(t,r.ns.foaf("img").uri,n,!0),s(t,r.ns.foaf("thumbnail").uri,n,!0),s(t,r.ns.foaf("logo").uri,n,!0),s(t,r.ns.schema("image").uri,n,!0),s(t,r.ns.foaf("mbox").uri,a,!0),t},t.viewsAddPropertyView=s;var r=n(92361),i=a(n(74233)),o=a(n(26118));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){e.properties[t]||(e.properties[t]=[]),e.properties[t].push(n),r&&(e.defaults[t]=n)}},79742:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySource=function(){this.queries=[],this.listeners=[],this.addQuery=function(e){var t;for(null!==e.name&&""!==e.name||(e.name="Query #"+(this.queries.length+1)),e.id=this.queries.length,this.queries.push(e),t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].addQuery(e)},this.removeQuery=function(e){var t;for(t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].removeQuery(e);null!==this.queries[e.id]&&delete this.queries[e.id]},this.addListener=function(e){var t;for(this.listeners.push(e),t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.addQuery(this.queries[t])},this.removeListener=function(e){var t;for(t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.removeQuery(this.queries[t]);for(t=0;t<this.listeners.length;t++)this.listeners[t]===e&&delete this.listeners[t]}},t.makeQueryRow=c,t.viewAndSaveQuery=function(e,t){var n=e.qs;o.log.info("outline.doucment is now "+e.document.location);for(var r=function(e,t){var n,r,i,a,s=new o.rdf.Query,l=e.length;for(n=0;n<l;n++)i=(a=(r=e[n]).parentNode).AJAR_statement,o.log.debug("Statement "+i),r.getAttribute("class").indexOf("pred")>=0&&(o.log.info("   We have a predicate"),c(s,a)),r.getAttribute("class").indexOf("obj")>=0&&(o.log.info("   We have an object"),c(s,a,!0));return t.addQuery(s),function e(t){for(var n,r=t.statements.length,i=0;i<r;i++)void 0!==(n=t.statements[i].tr)&&(n.AJAR_pattern=null,n.AJAR_variable=null);for(var o in t.optional)e(t.optional[o])}(s.pat),s}(t,n),i=0;i<n.listeners.length;i++)n.listeners[i].getActiveView().view.drawQuery(r),n.listeners[i].updateQueryControls(n.listeners[i].getActiveView())};var i=n(23451),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=[];function l(e){for(var t=e;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return console.log("Could not find predParent"),e;t=t.previousSibling}}function c(e,t,n){var r,a,u,d=t.AJAR_inverse,p=null;for(a=t.parentNode;a;a=a.parentNode)if(void 0!==a.AJAR_statement){a.setAttribute("bla",a.AJAR_statement),a.AJAR_variable||c(e,a),r=a.AJAR_variable;var f=l(a);f.getAttribute("optionalSubqueriesIndex")&&(p=f.getAttribute("optionalSubqueriesIndex"),u=s[p]);break}u||(u=e.pat);var h=l(t),m=h.getAttribute("optional");if(m||(p?h.setAttribute("optionalSubqueriesIndex",p):h.removeAttribute("optionalSubqueriesIndex")),m){var g=i.store.formula();s.push(g),h.setAttribute("optionalSubqueriesIndex",s.length-1),u.optional.push(g),u=g}var v=t.AJAR_statement,y=t.AJAR_inverse?v.subject:v.object,b=!0;y.isBlank&&n&&window.alert("You cannot constrain a query with a blank node. No constraint will be added."),r||(b=!1,r=d?v.object:v.subject);var w=t.AJAR_variable?t.AJAR_variable:i.store.variable(o.utils.newVariableName());e.vars.push(w),w.label=b?r.label:o.utils.label(r),w.label+=" "+o.utils.predicateLabelForXML(v.predicate,d);var x,E,_=(x=w,E=r,d?new o.rdf.Statement(x,v.predicate,E):new o.rdf.Statement(E,v.predicate,x));return w.label=w.label.slice(0,1).toUpperCase()+w.label.slice(1),n&&(u.constraints[w]=new function(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.sameTerm(t)},this}(y)),o.log.info("Pattern: "+_),_.tr=t,t.AJAR_pattern=_,t.AJAR_variable=w,o.log.debug("Query pattern: "+_),u.statements.push(_),w}},38978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInput=function e(t){var n=t.document;this.menuId="predicateMenu1";var a=function(e){console.log(e+"\n")},s=r.ns.rdf,p=r.rdf.Namespace("http://purl.org/ontology/bibo/"),f=r.rdf.Namespace("http://purl.org/dc/elements/1.1/"),h=!1;return c||((c=new r.rdf.Formula).superFormula=i.store),u||(u=new r.rdf.IndexedFormula),u.name="TempFormula",i.store.updater||(i.store.updater=new r.rdf.UpdateManager(i.store)),{sparqler:i.store.updater,lastModified:null,lastModifiedStat:null,statIsInverse:!1,addNewPredicateObject:function(e){if("bottom-border-active"===r.utils.getTarget(e).className){var o=t.UserInput,a=r.utils.getTarget(e),s=n.createElement("tr");r.utils.ancestor(a,"DIV").insertBefore(s,r.utils.ancestor(a,"TR"));var l=n.createElement("tr"),c=o.generateRequest("(TBD)",l,!0);s.appendChild(l.firstChild);var u=o.generateRequest("(Enter text or drag an object onto this field)",l,!1);if(s.appendChild(l.firstChild),r.utils.ancestor(a,"TR").previousSibling&&r.utils.ancestor(a,"TR").previousSibling.AJAR_statement){var d=r.utils.ancestor(a,"TR").previousSibling.AJAR_statement;o.formUndetStat(s,d.subject,c,u,d.why,!1)}else{var p=r.utils.getAbout(i.store,r.utils.ancestor(a.parentNode.parentNode,"TD")),f=i.store.sym(r.rdf.Util.uri.docpart(p.uri));o.formUndetStat(s,p,c,u,f,!1)}t.walk("moveTo",s.firstChild),r.log.info("addNewPredicateObject: selection = "+t.getSelection().map((function(e){return e.textContent})).join(", ")),this.startFillInText(t.getSelection()[0])}},addNewObject:function(e){var n=r.utils.getTarget(e).parentNode.parentNode,i=n.parentNode.AJAR_inverse;this.lastModifiedStat=n.parentNode.AJAR_statement;var o=this.appendToPredicate(n),a=this.generateRequest(" (Error) ",o,!1),s=o.previousSibling.AJAR_statement;i?this.formUndetStat(o,a,s.predicate,s.object,s.why,!0):this.formUndetStat(o,s.subject,s.predicate,a,s.why,!1),t.walk("moveTo",o.lastChild),this.startFillInText(o.lastChild)},Delete:function(e){this.deleteTriple(e,!1)},Enter:function(e){this.literalModification(e)},Click:function(e){var t=r.utils.getTarget(e);"Literal"===r.utils.getTerm(t).termType&&(this.literalModification(t),e.preventDefault(),e.stopPropagation())},pasteFromClipboard:function(e,n){function i(e){var n=t.clipboard[e].shift();if(null!==n){switch(e){case"predicates":case"objects":for(var i=t.clipboard.all,o=0;;o++)if(n.sameTerm(i[o])){i.splice(o,1);break}break;case"all":throw new Error("hostorical code not understood - what is theCollection?")}return n}r.log.warn("no more element in clipboard!")}var o;switch(n.className){case"undetermined selected":if(!(o=n.nextSibling?i("predicates"):i("objects")))return;break;case"pred selected":if(!(o=i("objects")))return;break;case"selected":var a=i("all");if(!a)return;return o=a[0],void this.insertTermTo(n,o,a[1])}this.insertTermTo(n,o)},startFillInText:function(e){switch(this.whatSortOfEditCell(e)){case"DatatypeProperty-like":r.utils.emptyNode(e),this.lastModified=this.createInputBoxIn(e," (Please Input) "),this.lastModified.isNew=!1,this.lastModified.select();break;case"predicate":this.performAutoCompleteEdit(e,"PredicateAutoComplete");break;case"ObjectProperty-like":case"no-idea":this.performAutoCompleteEdit(e,"GeneralAutoComplete")}},literalModification:function(e){if(r.log.debug("entering literal Modification with "+e+e.textContent),-1!==e.className.indexOf(" pendingedit"))return r.log.warn("The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again."),!0;var t=e;if(this.getStatementAbout(t)){var o,a,s;try{o=r.utils.getTerm(t),a=r.utils.ancestor(t,"TR")}catch(n){r.log.warn("userinput.js: "+n+r.utils.getAbout(i.store,e)),r.log.error(t+" getStatement Error:"+n)}try{s=a.lastChild}catch(e){r.log.error(e+"@"+t)}if("Literal"===o.termType){if(s.removeChild(s.firstChild),o.value.match("\n")){var l=n.createElement("textarea");l.appendChild(n.createTextNode(o.value)),l.setAttribute("rows",(o.value.match(/\n/g).length+1).toString()),l.setAttribute("cols","100"),l.setAttribute("class","textinput"),s.appendChild(l),this.lastModified=l}else this.lastModified=this.createInputBoxIn(s,o.value);this.lastModified.isNew=!1,this.lastModified.select()}return!0}},performAutoCompleteEdit:function(e,t){r.utils.emptyNode(e),a("perform AutoCompleteEdit. THIS IS="+this),this.lastModified=this.createInputBoxIn(e,""),this.lastModified.select(),this.lastModified.addEventListener("keypress",this.getAutoCompleteHandler(t),!1),this.getAutoCompleteHandler(t)(1)},backOut:function(){this.deleteTriple(this.lastModified.parentNode,!0),this.lastModified=null},clearMenu:function(){var e=n.getElementById(this.menuID);e&&e.parentNode.removeChild(e)},clearInputAndSave:function(e){var n;if(this.lastModified){if(!this.lastModified.isNew)try{n=this.getStatementAbout(this.lastModified).object}catch(e){return}var a,l,c,u,p=this.lastModifiedStat;if(this.lastModified.value!==this.lastModified.defaultValue){var f;if(""===this.lastModified.value)return this.lastModified.value=this.lastModified.defaultValue,void this.clearInputAndSave();if(this.lastModified.isNew){p=new r.rdf.Statement(p.subject,p.predicate,i.store.literal(this.lastModified.value),p.why),a=this.views.defaults[p.predicate.uri],f=r.utils.ancestor(this.lastModified,"TR");try{i.store.updater.update([],[p],(function(e,n,i){n||(r.log.error("Error occurs while inserting "+p+"\n\n"+i+"\n"),t.UserInput.deleteTriple(f.lastChild,!0))}))}catch(e){return void r.log.error("Error inserting fact "+p+":\n\t"+e+"\n")}p=i.store.add(p.subject,p.predicate,i.store.literal(this.lastModified.value),p.why)}else{if(this.statIsInverse)return r.log.error("Invalid Input: a literal can't be a subject in RDF/XML"),void this.backOut();var h,m,g;switch(n.termType){case"Literal":var v=this.lastModified.value;f=r.utils.ancestor(this.lastModified,"TR");var y=this.lastModified.defaultValue;m=d.st(p.subject,p.predicate,i.store.literal(this.lastModified.value),p.why);try{i.store.updater.update([p],[m],(function(e,t,i){t?n.value=v:(r.log.warn("Error occurs while editing "+p+"\n\n"+i),f.lastChild.textContent=y),f.lastChild.className=f.lastChild.className.replace(/ pendingedit/g,"")}))}catch(e){return void r.log.warn("Error occurs while editing "+p+":\n\t"+e)}break;case"BlankNode":var b=i.store.literal(this.lastModified.value,"");if("Collection"!==p.predicate.termType)return void this.fillInRequest("object",this.lastModified.parentNode,i.store.literal(this.lastModified.value));var w=p.predicate.elements[0];if(i.store.any(void 0,w,b)){if(!e){var x=this.lastModified.parentNode;(e={}).pageX=r.utils.findPos(x)[0],e.pageY=r.utils.findPos(x)[1]+x.clientHeight}this.showMenu(e,"DidYouMeanDialog",void 0,{dialogTerm:i.store.any(void 0,w,b),bnodeTerm:p.subject})}else{h=r.utils.ancestor(r.utils.ancestor(this.lastModified,"TR").parentNode,"TR").AJAR_statement,m=d.st(p.subject,w,b,p.why);var E=i.store.the(p.subject,s("type"));g=i.store.anyStatementMatching(p.subject,s("type"),E,p.why),f=r.utils.ancestor(r.utils.ancestor(this.lastModified,"TR"),"TD").parentNode;try{i.store.updater.update([],[h,m,g],(function(e,n,r){n||(console.log("Error occurs while editing "+h+"\n\n"+r),t.UserInput.deleteTriple(f.lastChild,!0))}))}catch(e){return void console.log("Error occurs while editing "+h+":\n\t"+e)}i.store.remove(p),i.store.add(p.subject,w,b,p.why)}var _=r.utils.ancestor(this.lastModified.parentNode.parentNode,"TD"),k=o.byName("default");t.outlineExpand(_,p.subject,{pane:k,already:!0}),t.walk("right",t.focusTd)}}}else{if(this.lastModified.isNew)return l=r.utils.ancestor(this.lastModified,"TR"),c=this.generateRequest("(To be determined. Re-type of drag an object onto this field)"),u=l.previousSibling.AJAR_statement,this.formUndetStat(l,u.subject,u.predicate,c,u.why,!1),void(this.lastModified=null);if("Collection"===p.predicate.termType){i.store.removeMany(p.subject);var S=r.utils.ancestor(r.utils.ancestor(this.lastModified,"TR").parentNode,"TR");return u=S.AJAR_statement,c=this.generateRequest("(To be determined. Re-type of drag an object onto this field)"),this.formUndetStat(S,u.subject,u.predicate,c,u.why,!1),t.replaceTD(t.outlineObjectTD(c,a),S.lastChild),void(this.lastModified=null)}if(this.statIsInverse){if("BlankNode"===p.subject.termType)return void this.backOut()}else if("BlankNode"===p.object.termType)return void this.backOut()}l=r.utils.ancestor(this.lastModified,"TR"),this.statIsInverse?t.replaceTD(t.outlineObjectTD(p.subject,a),l.lastChild):t.replaceTD(t.outlineObjectTD(i.store.literal(this.lastModified.value),a),l.lastChild),this.lastModified.value!==this.lastModified.defaultValue&&(l.lastChild.className+=" pendingedit"),this.lastModified=null}},deleteTriple:function(e,n){if(r.log.debug("deleteTriple entered"),!n&&-1!==e.className.indexOf(" pendingedit"))return console.log("The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again."),void t.walk("up");var o,a=this.getStatementAbout(e);if(!(n||i.store.whether(a.object,s("type"),r.ns.link("Request"))||i.store.whether(a.predicate,s("type"),r.ns.link("Request"))||i.store.whether(a.subject,s("type"),r.ns.link("Request")))){r.log.debug("about to send SPARQLUpdate");try{i.store.updater.update([a],[],(function(t,n,r){n?l():(console.log("Error occurs while deleting "+a+"\n\n"+r),e.className=e.className.replace(/ pendingedit/g,""))})),e.className+=" pendingedit"}catch(e){return r.log.error(e),void r.log.warn("Error deleting statement "+a+":\n\t"+e)}r.log.debug("SPARQLUpdate sent")}function l(){var e,t;for(e=o;1===e.childNodes.length;e=e.previousSibling);if(e===o){var n=e.nextSibling;n.nextSibling&&1===n.childNodes.length&&((t=e.firstChild).setAttribute("rowspan",parseInt(t.getAttribute("rowspan"))-1),n.insertBefore(e.firstChild,n.firstChild)),o.parentNode.removeChild(o)}else(t=e.firstChild).setAttribute("rowspan",parseInt(t.getAttribute("rowspan"))-1),o.parentNode.removeChild(o)}r.log.debug("about to remove "+a),r.log.debug("removed"),t.walk("up"),o=e.parentNode,n&&l()},clipboardInit:function(){t.clipboard={},t.clipboard.objects=[],t.clipboard.predicates=[],t.clipboard.all=[]},copyToClipboard:function(e,n){var i=r.utils.getTerm(n);switch(n.className){case"selected":case"obj selected":t.clipboard.objects.unshift(i);break;case"pred selected":case"pred internal selected":t.clipboard.predicates.unshift(i)}t.clipboard.all.unshift(i)},insertTermTo:function(e,o,a){var s,l;switch(e.className){case"undetermined selected":s=this.views.defaults[e.parentNode.AJAR_statement.predicate.uri],this.fillInRequest(e.nextSibling?"predicate":"object",e,o);break;case"pred selected":var u=this.appendToPredicate(e);l=e.parentNode.AJAR_statement,s=this.views.defaults[l.predicate.uri],u.appendChild(t.outlineObjectTD(o,s));var d=e.parentNode.AJAR_inverse;d?u.AJAR_statemnet=i.store.add(o,l.predicate,l.object,l.why):u.AJAR_statement=i.store.add(l.subject,l.predicate,o,l.why);try{i.store.updater.update([],[u.AJAR_statement],(function(e,t,n){t||r.log.error("userinput.js (pred selected): Fail trying to insert statement "+u.AJAR_statement+": "+n)}))}catch(e){return void r.log.error("Exception trying to insert statement "+u.AJAR_statement+": "+r.utils.stackString(e))}u.AJAR_inverse=d,c.statements.push(u.AJAR_statement);break;case"selected":var p=r.utils.ancestor(e,"TABLE").lastChild,f=p.insertBefore(n.createElement("tr"),p.lastChild);if(l=f.previousSibling.AJAR_statement,void 0===a&&(a=!0),a)this.formUndetStat(f,l.subject,this.generateRequest("(TBD)",f,!0),o,l.why,!1),f.appendChild(t.outlineObjectTD(o)),t.walk("moveTo",f.firstChild),this.startFillInText(f.firstChild);else{var h=this.generateRequest("(To be determined. Re-type of drag an object onto this field)",f);this.formUndetStat(f,l.subject,o,h,l.why,!1),f.insertBefore(t.outlinePredicateTD(o,f,!1,!1),f.firstChild),t.walk("moveTo",f.lastChild),this.startFillInText(f.lastChild)}}},Refill:function(e,t){r.log.info("Refill"+t.textContent);var n,o=t.nextSibling;if(o){var a,l,c;if("undetermined"===t.nextSibling.className)a=r.utils.getAbout(i.store,r.utils.ancestor(t,"TABLE").parentNode),l=i.store.any(a,s("type")),(c=[])[0]="SELECT ?pred WHERE{\n?pred "+s("type")+s("Property")+".\n?pred "+r.ns.rdfs("domain")+l+".}",c[1]="SELECT ?pred ?class\nWHERE{\n?pred "+s("type")+s("Property")+".\n"+l+r.ns.rdfs("subClassOf")+" ?class.\n?pred "+r.ns.rdfs("domain")+" ?class.\n}",c[2]="SELECT ?pred WHERE{\n"+a+s("type")+i.store.variable("subjectClass")+".\n"+i.store.variable("pred")+r.ns.rdfs("domain")+i.store.variable("subjectClass")+".\n}",n=c.map(d.SPARQLToQuery);else{a=r.utils.getAbout(i.store,r.utils.ancestor(t,"TABLE").parentNode),l=i.store.any(a,s("type"));var u=t.parentNode.AJAR_statement.object;c="SELECT ?pred WHERE{"+a+s("type")+"?subjectClass.\n"+u+s("type")+"?objectClass.\n?pred "+r.ns.rdfs("domain")+"?subjectClass.\n?pred "+r.ns.rdfs("range")+"?objectClass.\n}",n=d.SPARQLToQuery(c)}this.showMenu(e,"GeneralPredicateChoice",n,{isPredicate:o,selectedTd:t})}else{var p=t.parentNode.AJAR_statement.predicate;if((i.store.whether(p,s("type"),r.ns.owl("DatatypeProperty"))||"Collection"===p.termType||i.store.whether(p,r.ns.rdfs("range"),r.ns.rdfs("Literal")))&&(t.className="",r.utils.emptyNode(t),this.lastModified=this.createInputBoxIn(t," (Please Input) "),this.lastModified.isNew=!1,this.lastModified.select()),t.parentNode.AJAR_statement.predicate.sameTerm(s("type"))){var f="SELECT ?class WHERE{?class "+s("type")+r.ns.rdfs("Class")+".}",h=d.SPARQLToQuery(f);this.showMenu(e,"TypeChoice",h,{isPredicate:o,selectedTd:t})}}},getAutoCompleteHandler:function(e){var o;return a("\n\n***** In getAutoCompleteHandler ****** mode = "+e),"PredicateAutoComplete"===e?e="predicate":"JournalTAC"!==e&&(e="all"),o="JournalTAC"===e?n.getElementById("inpid_journal_title"):this.lastModified||t.getSelection()[0].firstChild,a("InputBox="+o),a("InputBox.value="+o.value),function(s){a("ENTER EVENT="+s),a("1. outside (if eneterEvent)");var c={},u=o.parentNode;e||(e=u.nextSibling?"predicate":"all"),c.pageX=r.utils.findPos(u)[0],c.pageY=r.utils.findPos(u)[1]+u.clientHeight,a("epX="+c.pageX+", epY="+c.pageY+", mode="+e);var d=n.getElementById(t.UserInput.menuID);function p(e){e&&(d.lastHighlight&&(d.lastHighlight.className=""),d.lastHighlight=e,d.lastHighlight.className="activeItem",t.showURI(r.utils.getAbout(i.store,d.lastHighlight)))}if(s){a("2. in (if enterEvent).  with type = "+l(s));var f=o.value;if("object"===l(s))switch(a("3. in typeof enterEvent is object, will switch to keys, arrows, etc. keycode = "+s.keyCode),s.stopPropagation(),d&&!d.lastHighlight&&p(d.firstChild.firstChild),s.keyCode){case 13:case 9:if(a("handler: Enter or Tab"),!d)return void t.UserInput.clearInputAndSave();if(!d.lastHighlight)return"JournalTAC"===e?(t.UserInput.clearMenu(),a("no lastH"),"no lastH"):void 0;if("INPUT"===d.lastHighlight.tagName)switch(d.lastHighlight.value){case"New...":a("subcase New"),t.UserInput.createNew();break;case"GiveURI":a("subcase GiveURI"),t.UserInput.inputURI()}else{if("JournalTAC"===e){if(a("movedArrow? "+h),h&&d.lastHighlight){var m=d.lastHighlight.firstChild.firstChild.innerHTML,g=d.lastHighlight.firstChild.nextSibling.innerHTML;return["gotdptitle",m,g=g.slice(4,-4)]}return"asGivenTxt"}var v=r.utils.getAbout(i.store,d.lastHighlight),y="predicate"===e?"predicate":"object";t.UserInput.clearMenu(),t.UserInput.fillInRequest(y,o.parentNode,v)}return void a("outside");case 38:return a("handler: Arrow UP"),h=!0,""!==f||"TR"!==d.lastHighlight.tagName||d.lastHighlight.previousSibling?p(d.lastHighlight.previousSibling):p(d.firstChild.firstChild),"I'm a little Arrow Up";case 40:return a("handler: Arrow Down"),h=!0,"INPUT"===d.lastHighlight.tagName?p(d.childNodes[1].firstChild):p(d.lastHighlight.nextSibling),"I'm a little Down Arrow";case 37:case 39:return a("handler: Arrow left, right"),void("INPUT"===d.lastHighlight.tagName&&(37===s.keyCode?p(d.lastHighlight.previousSibling):p(d.lastHighlight.nextSibling)));case 8:a("handler: Backspace"),f=f.slice(0,-1);break;case 27:return a("handler: Esc"),d?void t.UserInput.clearMenu():void t.UserInput.backOut();default:a("handler: Default"),h=!1,a("oldtext="+f),f+=String.fromCharCode(s.charCode),a("charcodent="+s.charCode),a("strcharcod="+String.fromCharCode(s.charCode)),console.log("DEFAULT txtstr="+f+"\n")}return"all"===e?(a("generalAC after switch, newText="+f+"mode is all"),t.UserInput.clearMenu(),t.UserInput.showMenu(c,"GeneralAutoComplete",void 0,{inputText:f,selectedTd:u}),0===f.length&&t.UserInput.WildCardButtons()):"predicate"===e?(a("predicateAC after switch, newText="+f+"mode is predicate"),t.UserInput.clearMenu(),t.UserInput.showMenu(c,"PredicateAutoComplete",void 0,{inputText:f,isPredicate:!0,selectedTd:u})):"JournalTAC"===e&&(a("JouralTAC after switch, newText="+f),t.UserInput.clearMenu(),t.UserInput.showMenu(c,"JournalTitleAutoComplete",void 0,{inputText:f},"orderisuseless")),(d=n.getElementById(t.UserInput.menuID))?(a("at end of handler\n^^^^^^^^^^^^^^^^^\n\n"),p(d.firstChild.firstChild),t.showURI(r.utils.getAbout(i.store,d.lastHighlight)),"nothing to return"):void a("No menu element.  Do not show menu.")}}},WildCardButtons:function(){var e=n.getElementById(t.UserInput.menuID),i=e.insertBefore(n.createElement("div"),e.firstChild),o=i.appendChild(n.createElement("input")),a=i.appendChild(n.createElement("input"));o.type="button",o.value="New...",a.type="button",a.value="Know its URI",i.addEventListener("mouseover",(function(e){var i=n.getElementById(t.UserInput.menuID);i.lastHighlight&&(i.lastHighlight.className=""),i.lastHighlight=r.utils.ancestor(r.utils.getTarget(e),"INPUT"),i.lastHighlight&&(i.lastHighlight.className="activeItem")}),!1),o.addEventListener("click",this.createNew,!1),a.addEventListener("click",this.inputURI,!1)},Keypress:function(e){if(13===e.keyCode)if("TEXTAREA"!==t.targetOf(e).tagName)this.clearInputAndSave();else{var n=parseInt(this.lastModified.getAttribute("rows"));this.lastModified.setAttribute("rows",(n+1).toString()),e.stopPropagation()}},Mousedown:function(t){a("MOUSING DOWN"),window.addEventListener("keypress",(function(t){!t.ctrlKey||115!==t.charCode&&113!==t.charCode||e.switchMode()}),!1),window.addEventListener("mousedown",e.Mousedown,!1),document.getElementById("outline").oncontextmenu=function(){return!1},2===t.button&&(e.switchMode(),t&&(t.preventDefault(),t.stopPropagation()))},Mouseover:function(e){if(this.className="bottom-border-active",1===this._tabulatorMode)switch(r.utils.getTarget(e).tagName){case"TD":var t=r.utils.getTarget(e);"pred"===t.className&&(t.style.cursor="copy");break;case"DIV":var n=r.utils.getTarget(e);"bottom-border"===r.utils.getTarget(e).className&&(n.style.borderColor="rgb(100%,65%,0%)",n.style.cursor="copy")}},Mouseout:function(e){if(this.className="bottom-border",1===this._tabulatorMode){var t=r.utils.getTarget(e);"bottom-border"===r.utils.getTarget(e).className&&(t.style.borderColor="transparent",t.style.cursor="auto")}},whatSortOfEditCell:function(e){if(e.nextSibling)return"predicate";var t=this.getStatementAbout(e).predicate;return i.store.whether(t,r.ns.rdf("type"),r.ns.owl("DatatypeProperty"))||i.store.whether(t,r.ns.rdfs("range"),r.ns.rdfs("Literal"))||"Collection"===t.termType?"DatatypeProperty-like":i.store.whether(t,s("type"),r.ns.owl("ObjectProperty"))?"ObjectProperty-like":"no-idea"},getStatementAbout:function(e){var t,n=r.utils.ancestor(e,"TR");if(!n)throw new Error("No ancestor TR for the TD we clicked on:"+e);try{t=n.AJAR_statement}catch(t){throw new Error("No AJAR_statement!"+e+e.textContent+" has ancestor "+n)}return this.lastModifiedStat=n.AJAR_statement,this.statIsInverse=n.AJAR_inverse,t},createInputBoxIn:function(e,i){r.log.info("myDocument in createInputBoxIn is now "+n.location),r.log.info("outline.document is now "+t.document.location);var o=n.createElement("input");return o.setAttribute("value",i),o.setAttribute("class","textinput"),"undetermined selected"!==e.className&&(o.setAttribute("size","100"),o.addEventListener("keypress",(function(e){38!==e.keyCode&&40!==e.keyCode||(t.OutlinerKeypressPanel(e),t.UserInput.clearInputAndSave())}),!1)),e.appendChild(o),o},createNew:function(e){t.UserInput.clearMenu();var n=t.getSelection()[0],r=n.parentNode.AJAR_statement.why,o=i.store.nextSymbol(r);t.UserInput.fillInRequest("object",n,o),t.outlineExpand(t.getSelection()[0],o)},inputURI:function(e){var n=t.UserInput;n.clearMenu();var o=t.getSelection()[0];r.utils.emptyNode(o);var a=" (Type a URI) ";n.lastModified=n.createInputBoxIn(o,a),n.lastModified.select(),n.lastModified.addEventListener("keypress",(function(e){switch(e.stopPropagation(),e.keyCode){case 13:case 9:if(this.value!==a){var t=this.value;n.fillInRequest("object",o,i.store.sym(t))}}}),!1)},appendToPredicate:function(e){var t,r=!1;try{for(t=e.parentNode.nextSibling;1===t.childNodes.length&&t.AJAR_statement;t=t.nextSibling);}catch(e){r=!0}var i=n.createElement("tr");if(i.style.colspan="1",i.style.display="block",i.style.display="",e.hasAttribute("rowspan")&&e.setAttribute("rowspan",parseInt(e.getAttribute("rowspan"))+1),e.hasAttribute("rowspan")||e.setAttribute("rowspan","2"),r){var o=e.parentNode.parentNode;"defaultPane"===o.className?o.insertBefore(i,o.lastChild):o.appendChild(i)}else t.parentNode.insertBefore(i,t);return i},bnode2symbol:function(e,t){i.store.copyTo(e,t,["two-direction","delete"])},generateRequest:function(e,n,i,o){var a;o||(a=n||r.utils.ancestor(this.lastModified,"TR"),r.utils.emptyNode(a));var s,l=u,c=l.bnode();return l.add(c,r.ns.rdf("type"),r.ns.link("Request")),e.length,l.add(c,r.ns.link("message"),l.literal(e)),l.add(c,r.ns.link("to"),l.literal("The User")),l.add(c,r.ns.link("from"),l.literal("The User")),o||((s=i?a.appendChild(t.outlinePredicateTD(c,a,!1,!1)):a.appendChild(t.outlineObjectTD(c))).className="undetermined",s.textContent=e),c},showMenu:function(e,o,l,c,u){r.log.info("myDocument is now "+n.location),r.log.info("outline.doucment is now "+t.document.location);var d=this,h=n.createElement("div");if(a("\n**** In showMenu, menuType = "+o+"\n"),c)for(var m in c)console.log("\t extra "+m+": "+c[m]+"\n");if(console.log("CREATED MENU\n"),h.id=this.menuID,h.className="outlineMenu",h.style.top=e.pageY+"px",h.style.left=e.pageX+"px","JournalTitleAutoComplete"===o){var g=function(e){for(var t=0,n=0,r=0,i=0,o=0,a=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)o=e.offsetLeft,a=e.offsetTop,o!==r&&(t+=e.offsetLeft-e.scrollLeft),a!==i&&(n+=e.offsetTop-e.scrollTop),r=o,i=a,e=e.parentNode;return{top:n+54,left:t-38}}(n.getElementById("inpid_journal_title"));g.left-=n.getElementById("inpid_journal_title").scrollTop,h.style.top=g.top+"px",h.style.left=g.left+"px"}console.log("menu at top="+h.style.top+" left="+h.style.left+"\n"),n.body.appendChild(h);var v,y=h.appendChild(n.createElement("table"));switch(h.lastHighlight=null,y.addEventListener("mouseover",(function(e){h.lastHighlight&&(h.lastHighlight.className=""),h.lastHighlight=r.utils.ancestor(r.utils.getTarget(e),"TR"),h.lastHighlight&&(h.lastHighlight.className="activeItem")}),!1),o){case"DidYouMeanDialog":v=function(e){a("DID YOU MEAN SELECT ITEM!!!!!");var n=r.utils.ancestor(r.utils.getTarget(e),"TR");2===n.childNodes.length&&n.nextSibling?(i.store.add(_,void 0,void 0),t.UserInput.clearMenu()):2===n.childNodes.length&&t.UserInput.clearMenu()};break;case"LimitedPredicateChoice":var b=c.clickedTd;v=function(e){a("LIMITED P SELECT ITEM!!!!");for(var n=r.utils.getAbout(i.store,r.utils.getTarget(e)),o=b.parentNode.AJAR_statement.predicate.elements,s=0;s<o.length;s++)o[s].sameTerm(n)&&o.unshift(o.splice(s,1)[0]);t.UserInput.clearMenu();var l=b.parentNode,c=t.outlinePredicateTD(l.AJAR_statement.predicate,l);l.insertBefore(c,b),l.removeChild(b),d.lastModified.select()};break;case"PredicateAutoComplete":case"GeneralAutoComplete":case"GeneralPredicateChoice":case"JournalTitleAutoComplete":case"TypeChoice":var w=c.isPredicate,x=c.selectedTd;v=function(e){a("WOOHOO");var n=r.utils.getAbout(i.store,r.utils.getTarget(e));a("GENERAL SELECT ITEM!!!!!!="+n),a("target="+r.utils.getTarget(e)),w?(a("1"),t.UserInput.fillInRequest("predicate",x,n)&&(a("2"),t.UserInput.clearMenu())):(a("3"),t.UserInput.fillInRequest("object",x,n)&&(a("4"),t.UserInput.clearMenu()))};break;default:throw new Error("userinput: unexpected mode")}y.addEventListener("click",v,!1);var E,_,k,S={};function C(e){y.firstChild&&"no-suggest"===y.firstChild.className&&y.removeChild(y.firstChild);var t=r.utils.predicateLabelForXML(e,!1);if(e.uri){var i="??";for(var o in S)if(r.log.debug(S[o]),r.rdf.Util.string_startswith(e.uri,S[o])){i=o;break}var a=y.appendChild(n.createElement("tr"));a.setAttribute("about",e),a.appendChild(n.createElement("th")).appendChild(n.createElement("div")).appendChild(n.createTextNode(t)),a.appendChild(n.createElement("td")).appendChild(n.createTextNode(i.toUpperCase()))}}function A(e){return function(t){C(t[e.vars[0]])}}switch(i.store.each(void 0,r.ns.rdf("type"),r.ns.owl("Ontology")).forEach((function(e){var t=r.utils.label(e);if(t){var n=t.value.match(/\((.+?)\)/);n?S[n[1]]=e.uri:S[t.value]=e.uri}})),o){case"DidYouMeanDialog":var T=c.dialogTerm;_=c.bnodeTerm,h.style.width="auto";var P=y.appendChild(n.createElement("tr")).appendChild(n.createElement("th"));P.appendChild(n.createTextNode("Did you mean..."));var O,I=i.store.statementsMatching(T);for(O=0;O<I.length&&!i.store.whether(I[O].predicate,s("type"),r.ns.owl("InverseFunctionalProperty"));O++);var N=I[O].predicate,F=i.store.any(T,I[O].predicate),L=r.utils.label(T)+" who has "+r.utils.label(N)+" "+F+"?",R=y.appendChild(n.createElement("tr")).appendChild(n.createElement("th"));R.appendChild(n.createTextNode(L)),P.setAttribute("colspan","2"),R.setAttribute("colspan","2");var j=y.appendChild(n.createElement("tr"));j.appendChild(n.createElement("th")).appendChild(n.createTextNode("Yes")),j.appendChild(n.createElement("td")).appendChild(n.createTextNode("BOOLEAN"));var M=y.appendChild(n.createElement("tr"));M.appendChild(n.createElement("th")).appendChild(n.createTextNode("No")),M.appendChild(n.createElement("td")).appendChild(n.createTextNode("BOOLEAN"));break;case"PredicateAutoComplete":E=c.inputText;for(var D=t.labeller.searchAdv(E,void 0,"predicate"),U=[],B=0;B<D.length;B++){var H={vars:[]};H.vars.push("Kenny");var q={};q.Kenny=i.store.fromNT(D[B].NT);try{A(H)(q)}catch(e){throw new Error("I'll deal with bnodes later...[Kenny]"+e)}}var W=U[0];if(0===W.length)return console.log("cm length 0\n"),void this.clearMenu();for(var z=0;z<W.length&&z<10;z++)C(W[z][1]);break;case"GeneralAutoComplete":E=c.inputText;try{U=t.labeller.search(E)}catch(e){console.log("GeneralAutoComplete: debug me "+c.selectedTd.textContent+"\n"+e+"\n")}W=U[0];var V=U[1];if(0===W.length)return console.log("cm length 0\n"),void this.clearMenu();for(var $=0;$<W.length&&$<10;$++){var K=W[$][1].toNT();(k=y.appendChild(n.createElement("tr"))).setAttribute("about",K),k.appendChild(n.createElement("th")).appendChild(n.createElement("div")).appendChild(n.createTextNode(W[$][0]));var G=V[$],J=G?r.utils.label(G):"";k.appendChild(n.createElement("td")).appendChild(n.createTextNode(J))}break;case"JournalTitleAutoComplete":E=c.inputText,console.log("testing searching text= "+E+" =====\n"),console.log("\n===start JournalTitleAutoComplete\n");for(var Q=i.store.each(void 0,s("type"),p("Journal")),Y=[],X=0;X<Q.length;X++){var Z=Q[X],ee=i.store.each(Z,f("title"),void 0),te=ee+"",ne=E.toLowerCase();if(-1!==te.toLowerCase().search(ne)){a("FOUND A Journal Title Match!!!!!!"),Y.push(ee);var re=y.appendChild(n.createElement("tr"));re.setAttribute("about","journalTitle"),re.appendChild(n.createElement("th")).appendChild(n.createElement("div")).appendChild(n.createTextNode(ee)),re.appendChild(n.createElement("td")).appendChild(n.createTextNode(Z))}}console.log("matched: "+Y+"\n"),console.log("\\\\done showMenu's JTAutocomplete\n");break;case"LimitedPredicateChoice":var ie=r.utils.getAbout(i.store,c.clickedTd);ie.termType="Collection";for(var oe=i.store.each(ie,r.ns.link("element")),ae=0;ae<oe.length;ae++)C(oe[ae]);break;default:(k=y.appendChild(n.createElement("tr"))).className="no-suggest",k.appendChild(n.createElement("th")).appendChild(n.createElement("div")).appendChild(n.createTextNode("No suggested choices. Try to type instead.")),k.appendChild(n.createElement("td")).appendChild(n.createTextNode("OK")),k.addEventListener("click",(function(e){d.clearMenu(),e.stopPropagation()}),"false");var se=function(){};switch(l.constructor.name){case"Array":for(var le=0;le<l.length;le++)i.store.query(l[le],A(l[le]),se);break;case"undefined":throw new Error("addPredicateChoice: query is not defined");default:i.store.query(l,A(l),se)}}},fillInRequest:function(e,n,o){var a,s,l=n.parentNode;a=l.AJAR_statement,s=l.AJAR_inverse;var d,p="object"===e?a.object:a.predicate,f=!1;if(i.store.any(p,r.ns.link("onfillin")),"predicate"===e){var h=t.outlinePredicateTD(o,l,!1,!1);if("undetermined"!==n.nextSibling.className){var m=new r.rdf.Statement(a.subject,o,a.object,a.why);try{i.store.updater.update([],[m],(function(e,t,n){t?(d=i.store.anyStatementMatching(a.subject,o,a.object,a.why),l.AJAR_statement=d,h.className=h.className.replace(/ pendingedit/g,"")):r.log.warn("Failure occurs (#2) while inserting "+l.AJAR_statement+"\n\n"+n)}))}catch(e){return r.log.error(e),void r.log.warn("Error when insert (#2) of statement "+m+":\n\t"+e)}h.className+=" pendingedit",this.lastModified=null}else this.formUndetStat(l,a.subject,o,a.object,a.why,!1),t.walk("right"),f=!0;t.replaceTD(h,n),u.remove(a)}else if("object"===e){var g=t.outlineObjectTD(o);if(t.replaceTD(g,n),n.previousSibling&&"undetermined"===n.previousSibling.className)t.walk("left"),f=!0;else{var v;v=s?new r.rdf.Statement(o,a.predicate,a.object,a.why):new r.rdf.Statement(a.subject,a.predicate,o,a.why);try{i.store.updater.update([],[v],(function(e,t,n){var c;r.log.info("@@ usinput.js (object) callback ok="+t+" for statement:"+v+"\n "),t?(g.className=g.className.replace(/ pendingedit/g,""),(c=s?i.store.statementsMatching(o,a.predicate,a.object,a.why):i.store.statementsMatching(a.subject,a.predicate,o,a.why)).length||r.log.error("userinput.js 1711: Can't find statememt!"),l.AJAR_statement=c[0]):r.log.warn("userinput.js (object): Fail trying to insert statement "+v)}))}catch(e){return r.log.error("userinput.js (object): exception trying to insert statement "+v+": "+r.utils.stackString(e)),void r.log.warn("Error trying to insert statement "+v+":\n"+e)}this.lastModified=null,g.className+=" pendingedit"}u.remove(a)}if(c.statements.push(d),!f)return!0;this.startFillInText(t.getSelection()[0])},formUndetStat:function(e,t,n,r,i,o){return e.AJAR_inverse=o,e.AJAR_statement=u.add(t,n,r,i),e.AJAR_statement}}};var r=s(n(92361)),i=n(23451),o=s(n(46808));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c,u,d=r.rdf},74233:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=function(e){return function(t){var n=i.utils.AJARImage(t.uri,i.utils.label(t),i.utils.label(t),e);return n.setAttribute("class","outlineImage"),n}}},26118:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){return function(t){var n=e.createElement("a"),r="NamedNode"===t.termType?t.uri:t.value,i=r.indexOf("mailto:");return r=i>=0?r.slice(i+7):r,n.setAttribute("href","mailto:"+r),n.appendChild(e.createTextNode(r)),n}}},70279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(92361),i=n(23451),o=n(67364),a={icon:r.icons.iconBase+"noun_79217.svg",name:"pad",audience:[r.ns.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/ns/pim/pad#Notepad"]?"pad":null},mintClass:r.ns.pad("Notepad"),mintNew:function(e,t){var n=e.session.store,i=n.updater;if(t.me&&!t.me.uri)throw new Error("notepad mintNew:  Invalid userid");var o=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),a=o.doc();n.add(o,r.ns.rdf("type"),r.ns.pad("Notepad"),a),n.add(o,r.ns.dc("title"),"Shared Notes",a),n.add(o,r.ns.dc("created"),new Date,a),t.me&&n.add(o,r.ns.dc("author"),t.me,a);var s=n.sym(o.uri+"_line0");return n.add(o,r.ns.pad("next"),s,a),n.add(s,r.ns.pad("next"),o,a),n.add(s,r.ns.dc("author"),t.me,a),n.add(s,r.ns.sioc("content"),"",a),new Promise((function(e,r){i?i.put(a,n.statementsMatching(void 0,void 0,void 0,a),"text/turtle",(function(n,i,o){i?e(t):r(new Error("FAILED to save new tool at: "+n+" : "+o))})):r(new Error("Have no updater"))}))},render:function(e,t,n){var a,s,l=t.dom,c=t.session.store,u=function(e,t){e||k.appendChild(r.widgets.errorMessageBlock(l,t,"pink"))},d=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},p=function(e,t,n){var i=(0,o.graph)(),s=(0,o.Namespace)("http://www.w3.org/ns/auth/acl#"),l=i.sym(t+"#a1"),c=i.sym(t),u=i.sym(e);return i.add(l,r.ns.rdf("type"),s("Authorization"),c),i.add(l,s("accessTo"),u,c),i.add(l,s("agent"),a,c),i.add(l,s("mode"),s("Read"),c),i.add(l,s("mode"),s("Write"),c),i.add(l,s("mode"),s("Control"),c),l=i.sym(t+"#a2"),i.add(l,r.ns.rdf("type"),s("Authorization"),c),i.add(l,s("accessTo"),u,c),i.add(l,s("agentClass"),r.ns.foaf("Agent"),c),i.add(l,s("mode"),s("Read"),c),n&&i.add(l,s("mode"),s("Write"),c),(0,o.serialize)(c,i,t,"text/turtle")},f=function(e,t,n){var r=c.any((0,o.sym)(e),(0,o.sym)("http://www.iana.org/assignments/link-relations/acl"));if(!b)throw new Error("Have no fetcher");if(r){var i=p(e,r.uri,t);return b.webOperation("PUT",r.uri,{data:i,contentType:"text/turtle"}).then((function(){return n(!0)})).catch((function(e){n(!1,e.message)}))}return b.load(e).catch((function(e){n(!1,"Getting headers for ACL: "+e)})).then((function(){var n=c.any((0,o.sym)(e),(0,o.sym)("http://www.iana.org/assignments/link-relations/acl"));if(!n)throw new Error("No Link rel=ACL header for "+e);var r=p(e,n.uri,t);return b.webOperation("PUT",n.uri,{data:r,contentType:"text/turtle"})})).then((function(){return n(!0)})).catch((function(e){n(!1,e.message)}))},h=function(e,t,n){var i=d(t);i.appendChild(r.login.newAppInstance(l,{noun:"notepad"},(function(e,t){return m(new o.NamedNode(e||t))}))),i.appendChild(l.createElement("hr")),i.appendChild(l.createElement("p")).textContent="Where would you like to store the data for the "+n+"?  Give the URL of the directory where you would like the data stored.";var a=i.appendChild(l.createElement("input"));a.setAttribute("type","text"),a.size=80,a.label="base URL",a.autocomplete="on",i.appendChild(l.createElement("br"));var s=i.appendChild(l.createElement("button"));s.textContent="Start new "+n+" at this URI",s.addEventListener("click",(function(t){var n=a.value;"/"!==n.slice(-1)&&(n+="/"),g(e,n)}))},m=function(e){var t=c.any(e,r.ns.space("uriPrefix"));"/"!==(t=t?t.value:e.uri.split("#")[0]).slice(-1)&&(o.log.error(y+": No / at end of uriPrefix "+t),t+="/");var n=new Date;t+=y+"/id"+n.getTime()+"/",g(E,t)},g=function(e,t){var n,s=(0,o.sym)(e.uri.split("#")[0]),d=c.sym(t+"pad.ttl"),p=c.sym(t+"index.html"),h=[{local:"index.html",contentType:"text/html"}],m=c.sym(d.uri+"#thisPad"),g=[];for(n=0;n<h.length;n++)!function(e){g.push((function(){var n=t+e.local;if(console.log("Copying "+s+e.local+" to "+n),!c.fetcher)throw new Error("Store has no fetcher");c.fetcher.webCopy(s+e.local,t+e.local,e.contentType).then((function(){return i.authn.checkUser()})).then((function(e){a=e,f(n,!1,(function(e,t){e?g.shift()():(u(e,"FAILED to set ACL "+n+" : "+t),console.log("FAILED to set ACL "+n+" : "+t))}))})).catch((function(t){console.log("FAILED to copy "+s+e.local+" : "+t.message),u(!1,"FAILED to copy "+s+e.local+" : "+t.message)}))}))}(h[n]);g.push((function(){if(c.add(m,r.ns.rdf("type"),x("Notepad"),d),c.add(m,r.ns.dc("created"),new Date,d),a&&c.add(m,r.ns.dc("author"),a,d),c.add(m,x("next"),m,d),c.add(m,r.ns.space("inspiration"),e,_),c.add(m,r.ns.space("inspiration"),e,d),!w)throw new Error("Have no updater");w.put(d,c.statementsMatching(void 0,void 0,void 0,d),"text/turtle",(function(e,t,n){t?g.shift()():(u(t,"FAILED to save new notepad at: "+d.uri+" : "+n),console.log("FAILED to save new notepad at: "+d.uri+" : "+n))}))})),g.push((function(){f(d.uri,!0,(function(e,t){u(e,"Failed to set Read-Write ACL on pad data file: "+t),e&&g.shift()()}))})),g.push((function(){var e=k.appendChild(l.createElement("p"));e.setAttribute("style","font-size: 140%;"),e.innerHTML="Your <a href='"+p.uri+"'><b>new notepad</b></a> is ready. <br/><br/><a href='"+p.uri+"'>Go to new pad</a>"})),g.shift()()},v=function(t){console.log("showResults()"),a=i.authn.currentUser(),i.authn.checkUser().then((function(e){a=e}));var o=c.any(e,r.ns.dc("title"))||c.any(e,r.ns.vcard("fn"));n.solo&&"undefined"!=typeof window&&o&&(window.document.title=o.value),R.exists=t,s=r.pad.notepad(l,_,e,a,R),A.appendChild(s);var u=c.any(e,r.ns.meeting("parentMeeting"))||e;if(r.pad.manageParticipation(l,O,_,u,a,R),!c.updater)throw new Error("Store has no updater");c.updater.setRefreshHandler(_,s.reloadAndSync)},y="app-pad.timbl.com",b=c.fetcher,w=c.updater,x=(0,o.Namespace)("http://www.w3.org/ns/pim/pad#"),E=e,_=e.doc(),k=l.createElement("div"),S=k.appendChild(l.createElement("table"));S.setAttribute("style","background-color: white; min-width: 94%; margin-right:3% margin-left: 3%; min-height: 13em;");var C=S.appendChild(l.createElement("tr"));C.appendChild(l.createElement("td")),C.appendChild(l.createElement("td")),C.appendChild(l.createElement("td"));var A=S.appendChild(l.createElement("tr")).appendChild(l.createElement("td"));A.setAttribute("colspan","3");var T=S.appendChild(l.createElement("tr")),P=T.appendChild(l.createElement("td")),O=T.appendChild(l.createElement("td")),I=T.appendChild(l.createElement("td")),N=S.appendChild(l.createElement("tr")).appendChild(l.createElement("div")),F=S.appendChild(l.createElement("tr")).appendChild(l.createElement("div")),L=S.appendChild(l.createElement("tr"));L.setAttribute("class","naviMenu"),L.appendChild(l.createElement("td")),L.appendChild(l.createElement("td")),L.appendChild(l.createElement("td"));var R={statusArea:N,timingArea:P};return function(){if(!b)throw new Error("Have no fetcher");b.nowOrWhenFetched(_.uri,void 0,(function(t,n,i){if(t)d(A),c.holds(e,r.ns.rdf("type"),r.ns.wf("TemplateInstance"))&&h(e,A,"pad"),v(!0),I.appendChild(((o=k.appendChild(l.createElement("button"))).textContent="Start another pad",o.addEventListener("click",(function(){return h(e,F,"pad")})),o));else if(404===i.status){if(console.log("Initializing results file "+_),!w)throw new Error("Have no updater");w.put(_,[],"text/turtle",(function(e,t,n){t?(d(A),v(!1)):(u(t,"FAILED to create results file at: "+_.uri+" : "+n),console.log("FAILED to craete results file at: "+_.uri+" : "+n))}))}else u(t,"FAILED to read results file: "+n);var o}))}(),k}};t.default=a},29345:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.default={icon:i.icons.iconBase+"noun_1619.svg",name:"playlistSlot",audience:[l.solid("PowerUser")],label:function(e,t){var n=t.session.store;return n.anyStatementMatching(e,i.ns.rdf("type"),n.sym("http://purl.org/ontology/pbo/core#PlaylistSlot"))?"playlist slot":null},render:function(e,t){var n,r,a=t.dom,s=function(e,t){if(!t)return e;var n=a.createElement("a");return n.setAttribute("href",t),n.appendChild(e),n.addEventListener("click",i.widgets.openHrefInOutlineMode,!0),n},l=function(e){return a.createTextNode(e)},c=t.session.store,u=c.any(e,o.sym("http://purl.org/ontology/pbo/core#playlist_item")),d=c.any(e,o.sym("http://purl.org/ontology/olo/core#index")),p=u.uri,f=function(e,t){if(!e)return{html5:!0};var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-_%]+)/i),r=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),i=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),o=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return n?{youtube:n}:r?{vimeo:r}:i?{dailymotion:i}:o?{vk:o}:void 0}(p),h=a.createElement("div");if(f&&f.youtube?(p=p.replace("watch?v=","embed/"),h.setAttribute("class","imageView"),(n=a.createElement("IFRAME")).setAttribute("src",p),n.setAttribute("width",560),n.setAttribute("height",315),n.setAttribute("frameborder",0),n.setAttribute("style","max-width: 850px; max-height: 100%;"),n.setAttribute("allowfullscreen","true")):(h.setAttribute("class","imageView"),(n=a.createElement("IMG")).setAttribute("src",u.value),n.setAttribute("width",560),n.setAttribute("height",315),n.setAttribute("style","max-width: 560; max-height: 315;")),d){for(var m=c.statementsMatching(null,o.sym("http://purl.org/ontology/olo/core#index")),g=[],v=0;v<m.length;v++)m[v]&&g.push(parseInt(m[v].object.value,10));d=parseInt(d.value,10),r=a.createElement("div");var y=g[(g.indexOf(d)-1+g.length)%g.length],b=g[(g.indexOf(d)+1+g.length)%g.length],w=s(l("<<"),e.uri.split("#")[0]+"#"+y);r.appendChild(w);var x=a.createElement("span");x.innerHTML=" Playlist slot : "+d+" ",r.appendChild(x);var E=s(l(">>"),e.uri.split("#")[0]+"#"+b);r.appendChild(E)}var _=a.createElement("TR");return _.appendChild(n),r&&_.appendChild(r),h.appendChild(_),h}}},5650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerPanes=function(e){e(r.default);var t=r.default.editor;t||console.log("@@@ editProfileView","profilePane is not providing an editor pane"),e(t),e(i.default),e(o.default),e(a.default),e(s.default),e(l.default),e(c.default),e(u.default),e(d.default),e(p.default),e(f.default),e(h.default),e(m.longChatPane),e(m.shortChatPane),e(g.schedulePane),e(v.default),e(y.imagePane),e(b.default),e(w.default),e(x.default),e(E.default),e(_.default),e(k.classInstancePane),e(S.slideshowPane),e(C.socialPane),e(A.default),e(T.dataContentPane),e(P.default),e(O.n3Pane),e(I.RDFXMLPane),e(N.formPane),e(F.tableViewPane),e(L.defaultPane),e(R.default),e(j.default),e(M.default),e(D.default)};var r=U(n(62643)),i=U(n(86462)),o=U(n(81895)),a=U(n(30425)),s=U(n(35867)),l=U(n(86023)),c=U(n(47878)),u=U(n(70279)),d=U(n(39151)),p=U(n(58644)),f=U(n(50632)),h=U(n(46537)),m=n(3071),g=n(94879),v=U(n(3479)),y=n(41169),b=U(n(29345)),w=U(n(80767)),x=U(n(64275)),E=U(n(47647)),_=U(n(11838)),k=n(41323),S=n(51839),C=n(9997),A=U(n(6837)),T=n(89829),P=U(n(23385)),O=n(60213),I=n(52283),N=n(28219),F=n(6249),L=n(42637),R=U(n(5275)),j=U(n(81399)),M=U(n(96831)),D=U(n(83527));function U(e){return e&&e.__esModule?e:{default:e}}},18015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default='\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix cal: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix sched: <http://www.w3.org/ns/pim/schedule#>.\n\n   cal:Vevent ui:annotationForm <#form2>, <#form3>; ui:creationForm <#form1> .\n\n<#bigForm>\n    dc:title\n       "Schedule event (single form).";\n    a    ui:Group;\n    ui:parts ( <#form1> <#form2> <#form3> ).\n\n<#form1>\n    dc:title\n       "Schedule an event (wizard)";\n    a    ui:Form;\n    ui:parts (\n        <#form1header>\n        <#eventTitle>\n        <#eventLocation>\n        <#eventType>\n        <#eventSwitch>\n        <#eventComment>\n        <#eventAuthor> ).\n\n<#form1header> a ui:Heading; ui:contents "Schedule an event" .\n\n<#eventTitle>\n    a    ui:SingleLineTextField;\n    ui:maxLength\n       "128";\n    ui:property\n       cal:summary;\n    ui:size\n       "40".\n\n<#eventLocation>\n    a    ui:SingleLineTextField;\n    ui:maxLength\n       "512";\n    ui:property\n       cal:location;\n    ui:size\n       "40".\n\n<#eventType> a ui:BooleanField;\n  ui:property sched:allDay;\n  ui:default true . # Used to be the only way\n\n<#eventSwitch> a ui:Options;\n  ui:dependingOn sched:allDay;\n  ui:case [ ui:for true; ui:use <#AllDayForm> ];\n  ui:case [ ui:for false; ui:use <#NotAllDayForm> ].\n\n  <#AllDayForm> a ui:IntegerField ;\n    ui:property sched:durationInDays;\n    ui:label "How many days?";\n    ui:min 1;\n    ui:default 1 .\n\n  <#NotAllDayForm> a ui:IntegerField ;\n    ui:property sched:durationInMinutes;\n    ui:label "Duration (mins)";\n    ui:min 5;\n    ui:default 55 .\n\n<#eventComment>\n    a    ui:MultiLineTextField;\n#    ui:maxLength\n#       "1048";\n#    ui:size\n#       "40".\n    ui:property\n       cal:comment.\n\n<#eventAuthor>\n   a ui:Multiple; ui:min 1; ui:part <#eventAuthorGroup>; ui:property dc:author.\n\n   <#eventAuthorGroup> a ui:Group; ui:parts ( <#authorName> <#authorEmail> ) .\n   <#authorName> a ui:SingleLineTextField; ui:property foaf:name .\n   <#authorEmail> a ui:EmailField; ui:label "email"; ui:property foaf:mbox .\n\n\n#####################\n\n<#form2> dc:title "Select possible days or times"; a ui:Form;\n        ui:parts ( <#id1118132113134> <#possibleSwitch> ).\n\n    <#id1118132113134> a ui:Heading; ui:contents "Time proposals" .\n\n    <#possibleSwitch> a ui:Options;\n      ui:dependingOn sched:allDay;\n      ui:case [ ui:for true; ui:use <#AllDayForm2> ];\n      ui:case [ ui:for false; ui:use <#NotAllDayForm2> ].\n\n      <#AllDayForm2>\n      a ui:Multiple; ui:min 2; ui:part <#posssibleDate>; ui:property sched:option.\n        <#posssibleDate> a ui:DateField; ui:property cal:dtstart; ui:label "date".\n\n      <#NotAllDayForm2>\n      a ui:Multiple; ui:min 2; ui:part <#posssibleTime>; ui:property sched:option.\n        <#posssibleTime> a ui:DateTimeField; ui:property cal:dtstart; ui:label "date and time".\n\n   ##################################\n\n   <#form3> dc:title "Select invited people"; a ui:Form; ui:parts  ( <#id1118132113135> <#id1417314641301b> ) .\n<#id1417314641301b>\n   a ui:Multiple; ui:min 1; ui:part <#id1417314674292b>; ui:property sched:invitee.\n   <#id1417314674292b> a ui:EmailField; ui:label "email"; ui:property foaf:mbox .\n   <#id1118132113135> a ui:Heading; ui:contents "Who to invite" .\n\n# ENDS\n'},94879:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePane=void 0;var i,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(92361)),a=n(23451),s=(i=n(18015))&&i.__esModule?i:{default:i};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c=o.rdf,u=o.ns,d=[u.sched("No"),u.sched("Maybe"),u.sched("Yes")];t.schedulePane={icon:o.icons.iconBase+"noun_346777.svg",name:"schedule",audience:[u.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/ns/pim/schedule#SchedulableEvent"]?"Scheduling poll":null},mintClass:u.sched("SchedulableEvent"),mintNew:function(e,t){return new Promise((function(n,r){var i=o.ns,s=e.session.store,l=t.newBase,u=t.useExisting||c.sym(t.newBase+"index.ttl#this"),d=function(e,t){e||(console.log("Error in Schedule Pane: Error constructing new scheduler: "+t),r(new Error(t)))},p=function(e,t,n){var r=c.graph(),a=c.Namespace("http://www.w3.org/ns/auth/acl#"),s=r.sym(t+"#a1"),l=r.sym(t),u=r.sym(e);return r.add(s,o.ns.rdf("type"),a("Authorization"),l),r.add(s,a("accessTo"),u,l),r.add(s,a("agent"),g,l),r.add(s,a("mode"),a("Read"),l),r.add(s,a("mode"),a("Write"),l),r.add(s,a("mode"),a("Control"),l),s=r.sym(t+"#a2"),r.add(s,o.ns.rdf("type"),a("Authorization"),l),r.add(s,a("accessTo"),u,l),r.add(s,a("agentClass"),i.foaf("Agent"),l),r.add(s,a("mode"),a("Read"),l),n&&r.add(s,a("mode"),a("Write"),l),c.serialize(l,r,t,"text/turtle")},f=function(e,t,n){var r=s.any(s.sym(e),s.sym("http://www.iana.org/assignments/link-relations/acl"));if(r){var i=p(e,r.uri,t);return h.webOperation("PUT",r.uri,{data:i,contentType:"text/turtle"}).then((function(e){return n(!0)})).catch((function(e){n(!1,e.message)}))}return h.load(e).catch((function(e){n(!1,"Getting headers for ACL: "+e)})).then((function(){var n=s.any(s.sym(e),s.sym("http://www.iana.org/assignments/link-relations/acl"));if(!n)throw new Error("No Link rel=ACL header for "+e);var r=p(e,n.uri,t);return h.webOperation("PUT",n.uri,{data:r,contentType:"text/turtle"})})).then((function(e){return n(!0)})).catch((function(e){n(!1,e.message)}))},h=s.fetcher,m=s.updater,g=t.me||a.authn.currentUser();if(!g)return console.log("MUST BE LOGGED IN"),void alert("NOT LOGGED IN");var v,y,b=u.dir().uri;if(t.useExisting){if(y=t.useExisting,l=u.dir().uri,v=y.doc(),t.newBase)throw new Error("mint new scheduler: Illegal - have both new base and existing event")}else v=s.sym(l+"details.ttl"),y=s.sym(v.uri+"#event");for(var w=s.sym(l+"results.ttl"),x=t.noIndexHTML?{}:[{local:"index.html",contentType:"text/html"}],E=[],_=0;_<x.length;_++)!function(e){E.push((function(){var t=l+e.local;console.log("Copying "+b+e.local+" to "+t),s.fetcher.webCopy(b+e.local,l+e.local,e.contentType).then((function(){return a.authn.checkUser()})).then((function(e){g=e,f(t,!1,(function(e,n){e?E.shift()():(d(e,"FAILED to set ACL "+t+" : "+n),console.log("FAILED to set ACL "+t+" : "+n))}))})).catch((function(t){console.log("FAILED to copy "+b+e.local+" : "+t.message),d(!1,"FAILED to copy "+b+e.local+" : "+t.message)}))}))}(x[_]);E.push((function(){s.add(y,i.rdf("type"),i.sched("SchedulableEvent"),v),g&&(s.add(y,i.dc("author"),g,v),s.add(y,i.foaf("maker"),g,v)),s.add(y,i.dc("created"),new Date,v),s.add(y,i.sched("resultsDocument"),v),m.put(v,s.statementsMatching(void 0,void 0,void 0,v),"text/turtle",(function(e,t,n){t?E.shift()():(d(t,"FAILED to save new scheduler at: "+v+" : "+n),console.log("FAILED to save new scheduler at: "+v+" : "+n))}))})),E.push((function(){s.fetcher.webOperation("PUT",w.uri,{data:"",contentType:"text/turtle"}).then((function(){E.shift()()})).catch((function(e){d(!1,"Failed to initialize empty results file: "+e.message)}))})),E.push((function(){f(w.uri,!0,(function(e,t){d(e,"Failed to set Read-Write ACL on results file: "+t),e&&E.shift()()}))})),E.push((function(){f(v.uri,!1,(function(e,t){d(e,"Failed to set read ACL on configuration file: "+t),e&&E.shift()()}))})),E.push((function(){console.log("Finished minting new scheduler"),t.newInstance=y,n(t)})),E.shift()()}))},render:function(e,t){var n=t.dom,r=t.session.store,i=o.ns,l=e,u="app-when-can-we.w3.org",p=r.fetcher,f=r.updater,h=!1,m=e,g=e.doc(),v=g.dir().uri,y=c.sym(v+"results.ttl"),b="https://solidos.github.io/solid-panes/schedule/formsForSchedule.ttl",w=r.sym(b+"#form1"),x=r.sym(b+"#form2"),E=r.sym(b+"#form3");c.parse(s.default,r,b,"text/turtle");var _,k="background-color: #eef; padding: 0.5em;  border: .5em solid white; font-size: 100%",S="width: 1.8em; height: 1.8em;",C=function(e,t){e||U.appendChild(o.widgets.errorMessageBlock(n,t,"pink"))},A=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},T=function(e,t){var n=r.any(t,o.ns.ui("backgroundColor"));n&&e.setAttribute("style","padding: 0.3em; text-align: center; background-color: "+n+";")};a.authn.checkUser().then((function(e){_=e,q&&q.refresh(),e&&h&&(h=!1,N())})),console.log("me: "+_);var P=function(){var e=o.login.newAppInstance(n,{noun:"scheduler"},O);return e.firstChild.setAttribute("style",k),e},O=function(e){var t=r.any(e,i.space("uriPrefix"));"/"!==(t=t?t.value:e.uri.split("#")[0]).slice(-1)&&(c.log.error(u+": No / at end of uriPrefix "+t),t+="/");var n=new Date;t+=u+"/id"+n.getTime()+"/",I(m,t)},I=function(e,r){var i={thisInstance:e,newBase:r};this.mintNew(t,i).then((function(e){var t=U.appendChild(n.createElement("p"));t.setAttribute("style","font-size: 140%;"),t.innerHTML="Your <a href='"+e.newInstance.uri+"'><b>new scheduler</b></a> is ready to be set up. <br/><br/><a href='"+e.newInstance.uri+"'>Say when you what days work for you.</a>"})).catch((function(e){C(!1,"Error createing new scheduler at "+i.newInstance+": "+e)}))},N=function(){console.log("showAppropriateDisplay()"),a.authn.checkUser().then((function(t){if(!t)return F();r.updater.editable(g.uri,r)&&!r.holds(e,i.rdf("type"),i.wf("TemplateInstance"))?r.any(e,i.sched("ready"))?M():j():L(U)}))},F=function(){A(W);var e={div:U,dom:n};o.login.ensureLoggedIn(e).then((function(e){_=e.me,h=!1,N()}))},L=function(){var e=A(W);e.appendChild(o.login.newAppInstance(n,{noun:"poll"},O)),e.appendChild(n.createElement("hr")),e.appendChild(n.createElement("p")).textContent="Where would you like to store the data for the poll?  Give the URL of the directory where you would like the data stored.";var t=e.appendChild(n.createElement("input"));t.setAttribute("type","text"),t.size=80,t.label="base URL",t.autocomplete="on",e.appendChild(n.createElement("br"));var r=e.appendChild(n.createElement("button"));r.setAttribute("style",k),r.textContent="Start new poll at this URI",r.addEventListener("click",(function(e){var n=t.value;"/"!==n.slice(-1)&&(n+="/"),I(m,n)}))},R=n.createElement("button"),j=function(){A($);var t=0,a=!1,s=[w,x,E],l=[];t=0;for(var u=0;u<s.length;u++){var d=n.createElement("div");o.widgets.appendForm(document,d,{},e,s[u],g,C),l.push(d)}var p=function(){A(W).appendChild(l[t]),0===t?f.setAttribute("disabled",""):f.removeAttribute("disabled"),t===l.length-1?(h.setAttribute("disabled",""),a||($.appendChild(v),$.appendChild(R),a=!0)):h.removeAttribute("disabled")},f=A(V).appendChild(n.createElement("button"));f.setAttribute("style",k),f.textContent="<- go back",f.addEventListener("click",(function(e){t>0&&(t-=1,p())}),!1);var h=A(K).appendChild(n.createElement("button"));h.setAttribute("style",k),h.textContent="continue ->",h.addEventListener("click",(function(e){t<l.length-1&&(t+=1,p())}),!1),p();var m=[];m.push(c.st(e,i.sched("availabilityOptions"),i.sched("YesNoMaybe"),g)),m.push(c.st(e,i.sched("ready"),new Date,g)),m.push(c.st(e,i.sched("results"),y,g)),R.setAttribute("style",k),R.textContent="Go to poll",R.addEventListener("click",(function(t){r.any(e,i.sched("ready"))?(M(),K.appendChild(v)):(K.appendChild(v),r.updater.update([],m,(function(e,t,n){t?M():C(t,n)})))}),!1);var v=n.createElement("button");v.setAttribute("style",k);var b=v.appendChild(n.createElement("img"));b.setAttribute("src",o.icons.iconBase+"noun_480183.svg"),b.setAttribute("style",S),v.addEventListener("click",(function(t){var n=r.anyValue(e,i.cal("summary"))||r.anyValue(e,i.dc("title"))||"",o="mailto:"+r.each(e,i.sched("invitee")).map((function(e){var t=r.any(e,i.foaf("mbox"));return t?t.uri.replace("mailto:",""):""})).join(",")+"?subject="+encodeURIComponent(n+"-- When can we meet?")+"&body="+encodeURIComponent(n+"\n\nWhen can you?\n\nSee "+e+"\n");console.log("Mail: "+o),window.location.href=o}),!1)};function M(){p.nowOrWhenFetched(y.uri,(function(e,t,n){e?(A(W),D()):404===n.status?(console.log("Initializing details file "+y),f.put(y,[],"text/turtle",(function(e,t,n){t?(A(W),D()):(C(t,"FAILED to create results file at: "+y.uri+" : "+n),console.log("FAILED to craete results file at: "+y.uri+" : "+n))}))):C(e,"FAILED to read results file: "+t)}))}function D(){var t=r.any(l,i.cal("summary")),a=r.any(l,i.cal("comment")),s=r.any(l,i.cal("location")),u=W;t&&(u.appendChild(n.createElement("h3")).textContent=t),s&&(u.appendChild(n.createElement("address")).textContent=s.value),a&&(u.appendChild(n.createElement("p")).textContent=a.value);var p=r.any(l,i.dc("author"));if(p){var f=r.any(p,i.foaf("name"));f&&(u.appendChild(n.createElement("p")).textContent=f)}var h=new c.Query("Responses"),m={};["time","author","value","resp","cell"].forEach((function(e){h.vars.push(m[e]=c.variable(e))})),h.pat.add(l,i.sched("response"),m.resp),h.pat.add(m.resp,i.dc("author"),m.author),h.pat.add(m.resp,i.sched("cell"),m.cell),h.pat.add(m.cell,i.sched("availabilty"),m.value),h.pat.add(m.cell,i.cal("dtstart"),m.time);var g={};g.set_x=r.each(e,i.sched("option")),g.set_x=g.set_x.map((function(e){return r.any(e,i.cal("dtstart"))})),g.set_y=r.each(e,i.sched("response")),g.set_y=g.set_y.map((function(e){return r.any(e,i.dc("author"))}));var v=r.each(l,i.sched("option")).map((function(e){return r.any(e,i.cal("dtstart"))})),b=function(){var e=u.appendChild(o.matrix.matrixForQuery(n,h,m.time,m.author,m.value,g,(function(){})));e.setAttribute("class","matrix");var t=n.createElement("button");t.setAttribute("style",k);var i=n.createElement("img");i.setAttribute("src",o.icons.iconBase+"noun_479395.svg"),i.setAttribute("style",S),t.appendChild(i),t.addEventListener("click",(function(n){t.disabled=!0,r.fetcher.refresh(y,(function(n,r){n?(e.refresh(),t.disabled=!1):console.log("Cant refresh matrix"+r)}))}),!1),A($),$.appendChild(t)},w=[],x={div:$,dom:n};o.login.ensureLoggedIn(x).then((function(e){var t=e.me,a=y;g.set_y=g.set_y.filter((function(e){return!e.sameTerm(t)})),g.set_y.push(t),g.cellFunction=function(e,a,s,l){if(null!==l&&r.fetcher.nowOrWhenFetched(l.uri.split("#")[0],void 0,(function(t,n){t&&T(e,l)})),s.sameTerm(t)){var c=i.sched("availabilty"),u=w[a.toNT()],p=o.widgets.makeSelectForOptions(n,r,u,c,d,{},y,(function(){T(e,l)}));e.appendChild(p)}else null!==l&&(e.textContent=o.utils.label(l))};var s=r.each(l,i.sched("response")),u=null;s.forEach((function(e){r.holds(e,i.dc("author"),t)&&(u=e)}));var p=[],f=o.widgets.newThing(a).uri;null===u?(u=c.sym(f+"_response"),p.push(c.st(l,i.sched("response"),u,a)),p.push(c.st(u,i.dc("author"),t,a))):r.each(u,i.sched("cell")).forEach((function(e){var t=r.any(e,i.cal("dtstart"));w[t.toNT()]=e}));for(var h=0;h<v.length;h++)if(!w[v[h].toNT()]){var m=c.sym(f+"_"+h);p.push(c.st(u,i.sched("cell"),m,a)),p.push(c.st(m,i.cal("dtstart"),v[h],a)),w[v[h].toNT()]=m}p.length?r.updater.update([],p,(function(e,t,n){t?b():C(t,n)})):b()}));var E=r.any(e,i.foaf("maker"));if(!E||E.sameTerm(_)){var O=n.createElement("button");O.setAttribute("style",k);var I=n.createElement("img");I.setAttribute("src",o.icons.iconBase+"noun_344563.svg"),I.setAttribute("style",S),O.appendChild(I),O.addEventListener("click",(function(e){A(u),j()}),!1),A(V),V.appendChild(O)}A(K),K.appendChild(P())}var U=n.createElement("div"),B=U.appendChild(n.createElement("table"));B.setAttribute("style","background-color: white; min-width: 40em; min-height: 13em;");var H=B.appendChild(n.createElement("tr"));H.appendChild(n.createElement("td")),H.appendChild(n.createElement("td")),H.appendChild(n.createElement("td"));var q=null,W=B.appendChild(n.createElement("tr")).appendChild(n.createElement("td"));W.setAttribute("colspan","3");var z=B.appendChild(n.createElement("tr"));z.setAttribute("class","naviMenu"),z.setAttribute("style"," text-align: middle; vertical-align: middle; padding-top: 4em; ");var V=z.appendChild(n.createElement("td")),$=z.appendChild(n.createElement("td")),K=z.appendChild(n.createElement("td"));return console.log("getforms()"),console.log("getDetails()"),p.nowOrWhenFetched(g.uri,void 0,(function(e,t){if(console.log("getDetails() ok? "+e),!e)return C(e,t);N()})),U}}},81399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(92361),i={icon:r.icons.iconBase+"padlock-timbl.svg",name:"sharing",label:function(e,t){var n=t.session.store.findTypeURIs(e);return n[r.ns.ldp("Resource").uri]||n[r.ns.ldp("Container").uri]||n[r.ns.ldp("BasicContainer").uri]?"Sharing":null},render:function(e,t){var n,i=t.dom,o=t.session.store,a=(n=o.findTypeURIs(e))[r.ns.ldp("BasicContainer").uri]||n[r.ns.ldp("Container").uri]?"folder":"file",s=i.createElement("div");return s.classList.add("sharingPane"),r.aclControl.preventBrowserDropEvents(i),s.appendChild(r.aclControl.ACLControlBox5(e,t,a,o)),s}};t.default=i},51839:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.slideshowPane=void 0;var i,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(92361)),a=(i=n(56305))&&i.__esModule?i:{default:i};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=o.ns;t.slideshowPane={icon:o.icons.iconBase+"noun_138712.svg",name:"slideshow",audience:[l.solid("PowerUser")],label:function(e,t){var n=t.session.store,r=o.ns,i=n.findTypeURIs(e);if(i[r.ldp("Container").uri]||i[r.ldp("BasicContainer").uri]){var a=n.each(e,r.ldp("contains")),s=0;return a.forEach((function(e){o.widgets.isImage(e)&&s++})),s>0?"Slideshow":null}return null},render:function(e,t){var n=t.dom;o.widgets.addStyleSheet(n,"https://leemark.github.io/better-simple-slideshow/css/simple-slideshow-styles.css");var r=t.session.store,i=o.ns,s=n.createElement("div");s.setAttribute("class","bss-slides");var l,c=r.findTypeURIs(e);(c[i.ldp("BasicContainer").uri]||c[i.ldp("Container").uri])&&(l=i.ldp("contains"));var u=r.each(e,l);u.sort();for(var d=function(){if(!o.widgets.isImage(u[p]))return 1;var e=s.appendChild(n.createElement("figure")),t=e.appendChild(n.createElement("img"));r.fetcher._fetch(u[p].uri).then((function(e){return e.blob()})).then((function(e){var n=URL.createObjectURL(e);t.setAttribute("src",n)})),t.setAttribute("width","100%"),e.appendChild(n.createElement("figcaption"))},p=0;p<u.length;p++)d();var f={dom:n};return setTimeout((function(){(0,a.default)(".bss-slides",f)}),1e3),s}}},9997:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.socialPane=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361)),o=n(23451);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.socialPane={icon:i.icons.originalIconBase+"foaf/foafTiny.gif",name:"social",label:function(e,t){var n=t.session.store.findTypeURIs(e);return n[i.ns.foaf("Person").uri]||n[i.ns.vcard("Individual").uri]?"Friends":null},render:function(e,t){var n=t.dom,r=function(e){console.log(e);var t=n.createElement("p");t.textContent=e,w.appendChild(t)},a=function(e,t){if(!t)return e;var r=n.createElement("a");return r.setAttribute("href",t),r.appendChild(e),r},s=function(e){return n.createTextNode(e)},l=t.getOutliner(n),c=t.session.store,u=n.createElement("div");u.setAttribute("class","socialPane");var d=i.ns.foaf,p=i.ns.vcard,f="background-color: #eee; width: 25%; border: 0; padding: 0.5em; margin: 0;",h=u.appendChild(n.createElement("table")).appendChild(n.createElement("tr")),m=h.appendChild(n.createElement("td")),g=h.appendChild(n.createElement("td")),v=h.appendChild(n.createElement("td")),y=m;y.style.cssText=f;var b=g.appendChild(n.createElement("table"));b.style.cssText="background-color: #fff; color: #000; width: 46%; margin: 0; border-left: 1px solid #ccc; border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; padding: 0;";var w=v;w.style.cssText=f;var x=c.any(e,d("img"))||c.any(e,d("depiction"));if(x){var E=n.createElement("IMG");E.setAttribute("src",x.uri),E.style.cssText=" width: 100% ; border: none; margin: 0; padding: 0;",y.appendChild(E)}var _=c.anyValue(e,d("name"))||"???",k=n.createElement("H3");k.appendChild(n.createTextNode(_));var S=o.authn.currentUser(),C=S?S.uri:null,A=i.login.loginStatusBox(n,(function(e){S=c.sym(e),i.widgets.refreshTree(u)}));w.appendChild(A);var T,P,O,I,N=S&&c.sameThings(S,e),F=d("knows"),L=c.anyValue(e,d("givenname"))||c.anyValue(e,d("firstName"))||c.anyValue(e,d("nick"))||c.anyValue(e,d("name"))||c.anyValue(e,p("fn")),R=c.each(e,F),j=null,M=!1;if(S){for(var D=c.each(void 0,d("primaryTopic"),S),U="",B=0;B<D.length;B++)if(c.whether(D[B],i.ns.rdf("type"),d("PersonalProfileDocument"))){if(M=l.UserInput.sparqler.editable(D[B].uri,c)){j=D[B];break}U+="Your profile <"+i.utils.escapeForXML(D[B].uri)+"> is not remotely editable."}if(j?(r("Editing your profile "+j+"."),M=l.UserInput.sparqler.editable(j.uri,c)):r(U+"\nI couldn't find your editable personal profile document."),N);else{(k=n.createElement("h3")).appendChild(n.createTextNode("You and "+L)),y.appendChild(k);var H=c.canon(S);T=c.whether(e,F,H),P=!1;var q=c.statementsMatching(H,F,e);q.length&&(P=!0,j||(j=q[0].why));var W=n.createElement("tr");y.appendChild(W);var z=function(){W.appendChild(a(s("You"),C)),W.appendChild(s(" and ")),W.appendChild(a(s(L),e.uri))};if(T?P?(z(),W.appendChild(s(" say you know each other."))):(W.appendChild(a(s(L),e.uri)),W.appendChild(s(" knows ")),W.appendChild(a(s("you"),C)),W.appendChild(s(" (unconfirmed).")),W.appendChild(s(" confirm you know ")),W.appendChild(a(s(L),e.uri)),W.appendChild(s("."))):P?(W.appendChild(a(s("You"),C)),W.appendChild(s(" know ")),W.appendChild(a(s(L),e.uri)),W.appendChild(s(" (unconfirmed)"))):(z(),W.appendChild(s(" have not said you know each other."))),M){var V=function(e,t,r){var o=n.createElement("form"),a=n.createElement("input");o.appendChild(a);var s=n.createTextNode(e);return s.className="question",o.appendChild(s),a.setAttribute("type","checkbox"),a.checked=r,a.addEventListener("click",(function(e){if(s.className="pendingedit",this.checked)try{l.UserInput.sparqler.insert_statement(t,(function(e,n,r){if(s.className="question",!n)return i.log.alert(null,"Message","Error occurs while inserting "+t+"\n\n"+r),void(a.checked=!1);c.add(t.subject,t.predicate,t.object,t.why)}))}catch(e){i.log.error("Data write fails:"+e),i.log.alert("Data write fails:"+e),a.checked=!1,s.className="question"}else try{l.UserInput.sparqler.delete_statement(t,(function(e,n,r){s.className="question",n?c.removeMany(t.subject,t.predicate,t.object,t.why):(i.log.alert("Error occurs while deleting "+t+"\n\n"+r),this.checked=!0)}))}catch(e){i.log.alert("Delete fails:"+e),this.checked=!0}}),!1),o}("You know "+L,new i.rdf.Statement(S,F,e,j),P);y.appendChild(V)}if(R){var $=c.each(S,d("knows"));if($.length){var K=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(t[i].sameTerm(e[r])){n.push(t[i]);break}return n}(R,$),G=n.createElement("tr");if(y.appendChild(G),G.appendChild(n.createTextNode("You"+(L?" and "+L:"")+" know"+(I=" ",I+=(O=K.length)||"no",(1===O?I+" person":I+" people")+" found in common"))),K)for(var J=0;J<K.length;J++)G.appendChild(n.createTextNode(",  "+i.utils.label(K[J])))}var Q=n.createElement("tr");y.appendChild(Q)}}}i.widgets.attachmentList(n,e,b,{doc:j,modify:!!M,predicate:d("knows"),noun:"friend"}),(k=n.createElement("h3")).appendChild(n.createTextNode("Basic Information")),y.appendChild(k);for(var Y=[i.ns.foaf("homepage"),i.ns.foaf("weblog"),i.ns.foaf("workplaceHomepage"),i.ns.foaf("schoolHomepage")],X=0;X<Y.length;X++){var Z=Y[X],ee=c.statementsMatching(e,Z);if(0===ee.length);else{for(var te=[],ne=0;ne<ee.length;ne++){var re=ee[ne];re.object.uri&&te.push(re.object.uri)}te.sort();for(var ie="",oe=void 0,ae=0;ae<te.length;ae++){var se=te[ae];if(se!==ie){ie=se;var le="";if(oe=i.utils.label(Z),te.length>1){var ce=se.indexOf("//");if(ce>0){var ue=se.indexOf("/",ce+2),de=se.lastIndexOf(".",ue);de>0&&(ue=de),le=se.slice(ce+2,ue)}}le&&(oe=le+" "+oe);var pe=n.createTextNode(oe),fe=n.createElement("a");fe.appendChild(pe),fe.setAttribute("href",se);var he=n.createElement("div");he.style.cssText="width: 80%; background-color: #fff; border: solid 0.05em #ccc;  margin-top: 0.1em; margin-bottom: 0.1em; padding: 0.1em; text-align: center;",he.appendChild(fe),y.appendChild(he)}}}}for(var me=[i.ns.foaf("openid"),i.ns.foaf("nick")],ge=0;ge<me.length;ge++){var ve=me[ge],ye=c.statementsMatching(e,ve);0===ye.length||l.appendPropertyTRs(y,ye,!1,(function(e){return!0}))}return u}}},46537:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(92361);function o(){o=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new N(r||[]);return a(o,"_invoke",{value:T(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&i.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,s,l){var c=f(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var s={icon:i.icons.iconBase+"noun_688606.svg",name:"tabbed",audience:[i.ns.solid("PowerUser")],label:function(e,t){var n=t.session.store.findTypeURIs(e);return i.ns.meeting("Cluster").uri in n?"Tabbed":null},render:function(e,t){var n,r=t.dom,s=t.session.store,l=r.createElement("div");return(n=o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.fetcher){n.next=2;break}throw new Error("Store has no fetcher");case 2:return n.next=4,s.fetcher.load(e);case 4:l.appendChild(i.tabs.tabWidget({dom:r,subject:e,predicate:s.any(e,i.ns.meeting("predicate"))||i.ns.meeting("toolList"),ordered:!0,orientation:s.anyValue(e,i.ns.meeting("orientation"))||"0",renderMain:function(e,n){e.innerHTML="";var r=e.appendChild(t.dom.createElement("table"));t.getOutliner(t.dom).GotoSubject(n,!0,null,!1,void 0,r)},renderTab:function(n,r){var o=s.the(e,i.ns.meeting("predicate"));n.appendChild(i.widgets.personTR(t.dom,o,r,{}))},backgroundColor:s.anyValue(e,i.ns.ui("backgroundColor"))||"#ddddcc"}));case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))})(),l}};t.default=s},6249:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.tableViewPane=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.tableViewPane={icon:i.icons.originalIconBase+"table.png",name:"tableOfClass",label:function(e,t){var n=t.session.store;if(!n.any(void 0,i.ns.rdf("type"),e))return null;var r=n.statementsMatching(void 0,i.ns.rdf("type"),e).length;return 0===r||r>15?null:i.utils.label(e)+" table"},render:function(e,t){var n=t.dom,r=n.createElement("div");return r.setAttribute("class","tablePane"),r.appendChild(i.table(n,{tableClass:e})),r}}},39151:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.default={icon:i.icons.iconBase+"noun_106746.svg",name:"transaction",audience:[l.solid("PowerUser")],label:function(e,t){var n=t.session.store,r=n.findTypeURIs(e);return r["http://www.w3.org/2000/10/swap/pim/qif#Transaction"]?"$$":n.any(e,i.ns.qu("amount"))?"$$$":r["http://www.w3.org/ns/pim/trip#Trip"]?"Trip $":null},render:function(e,t){var n=t.dom,r=t.session.store,a=r.fetcher,s=o.Namespace("http://www.w3.org/2000/10/swap/pim/qif#"),c=o.Namespace("http://www.w3.org/ns/pim/trip#"),u=n.createElement("div");u.setAttribute("class","transactionPane");var d,p,f,h,m,g=function(e){return function(e,t){void 0===t&&(t="color: grey");var r=n.createElement("pre");r.setAttribute("style",t),u.appendChild(r),r.appendChild(n.createTextNode(e))}(e,"color: #100; background-color: #fee")},v=r.statementsMatching(e),y=r.statementsMatching(void 0,void 0,e),b=r.findTypeURIs(e),w={},x=function(e){w[e.uri]=!0},E=function(e){if(void 0===e)return"";var t=""+e;return t.indexOf(".")>=0?t.split(".")[0]+"."+(t.split(".")[1]+"00").slice(0,2):t+".00"},_=function(e,t){var r=n.createElement("td");return 0+e===0&&t||(r.textContent=E(e)),r.setAttribute("style","width: 6em; text-align: right; "),r},k=function(e){var t=n.createElement("th");return t.textContent=e,t.setAttribute("style","text-align: right; "),t},S=function(e,t){var n=r.any(e,l.qu("date")),i=r.any(t,l.qu("date"));if(void 0!==n&&void 0!==i){if(n.value<i.value)return-1;if(n.value>i.value)return 1}return e.uri<t.uri?-1:e.uri>t.uri?1:0};if(b["http://www.w3.org/2000/10/swap/pim/qif#Transaction"]||r.any(e,l.qu("toAccount"))){x(l.rdf("type"));var C=r.any(e,i.ns.qu("toAccount"));!function(e){var t="padding: 0.5em 1.5em 1em 1.5em; ";if(e){var n=r.any(e,i.ns.ui("backgroundColor"));n&&(t+="background-color: "+n.value+"; ")}u.setAttribute("style",t)}(C),C||g("(Error: There is no bank account known for this transaction <"+e.uri+">,\n -- every transaction needs one.)");var A=null,T=r.any(e,i.ns.qu("accordingTo"));void 0===T?g("(Error: There is no back link to the original data source foir this transaction <"+e.uri+">,\nso I can't tell how to annotate it.)"):void 0===(A=void 0!==T?r.any(T,i.ns.qu("annotationStore")):null)&&g("(There is no annotation document for this statement\n<"+T.uri+">,\nso you cannot classify this transaction.)");var P=n.createElement("div");P.setAttribute("style","float:right"),u.appendChild(P);var O=function(t,o){x(t);var a=r.any(e,t);if(a){var s=n.createElement("a");s.setAttribute("href",a.uri),s.setAttribute("style","float:right"),P.appendChild(s).textContent=o||i.utils.label(a),P.appendChild(n.createElement("br"))}};O(i.ns.qu("toAccount")),O(i.ns.qu("accordingTo"),"Statement"),O(c("trip"));var I=n.createElement("table");u.appendChild(I);var N=["date","payee","amount","in_USD","currency"].map(s).map((function(t){x(t);var n=r.any(e,t),o=n?i.utils.labelForXML(n):"";return'<tr><td style="text-align: right; padding-right: 0.6em">'+i.utils.labelForXML(t)+'</td><td style="font-weight: bold;">'+o+"</td></tr>"})).join("\n");I.innerHTML=N;var F=function(e,t){e||g("Sorry, failed to save your change:\n"+t)};A&&r.fetcher.nowOrWhenFetched(A.uri,e,(function(s,d){s||g("Cannot load store "+A+" "+d);var p=r.any(A,l.qu("calendarYear")),f=function(){u.insertBefore(i.widgets.makeSelectForNestedCategory(n,r,e,i.ns.qu("Classified"),A,F),I.nextSibling)};r.any(void 0,l.rdfs("subClassOf"),l.qu.Classified)?f():p?a.load(p).then((function(e){a.load(r.each(p,l.rdfs("seeAlso"))).then((function(){f()})).catch((function(e){console.log("Error loading background data: "+e)}))})).catch((function(e){console.log("Error loading calendarYear: "+e)})):console.log("Can't get categories, because no calendarYear"),u.appendChild(i.widgets.makeDescription(n,r,e,i.ns.rdfs("comment"),A,F));var h=r.statementsMatching(void 0,c("trip"),void 0,A).map((function(e){return e.object})),m=r.each(void 0,i.ns.rdf("type"),c("Trip"));h=h.concat(m).sort(),h=function(e,t,n,r){var i=t.map((function(t){var r=e.any(t,n);return[r=r?r.value:"9999-12-31",t]}));return i.sort(),i.reverse(),i.map((function(e){return e[1]}))}(r,h,i.ns.cal("dtstart")),h.length>1&&u.appendChild(i.widgets.makeSelectForOptions(n,r,e,c("trip"),h,{multiple:!1,nullLabel:"-- what trip? --",mint:"New Trip *",mintClass:c("Trip"),mintStatementsFun:function(e){var t=[];return t.push(o.st(e,i.ns.rdf("type"),c("Trip"),e.doc())),t}},A,F)),u.appendChild(n.createElement("br"));var b=t.getOutliner(n);x(l.rdfs("comment")),i.widgets.attachmentList(n,e,u),x(l.wf("attachment")),u.appendChild(n.createElement("tr")).setAttribute("style","height: 1em"),b.appendPropertyTRs(u,v,!1,(function(e,t){return!(e.uri in w)})),b.appendPropertyTRs(u,y,!0,(function(e,t){return!(e.uri in w)}))}))}else b["http://www.w3.org/ns/pim/trip#Trip"]&&(d={},p={},f={},m=(h=r.each(void 0,c("trip"),e)).map((function(e){return e.doc()})),r.fetcher.load(m).then((function(){h.forEach((function(e){var t=r.the(e,l.qu("date")),n=t?(""+t.value).slice(0,4):"????",o=r.the(e,l.rdf("type"));if(o||(o=i.ns.qu("ErrorNoType")),o&&o.uri){var a=o.uri;p[n]||(p[n]=0),f[n]||(f[n]={}),d[a]||(d[a]=0),f[n][a]||(f[n][a]=0);var s=r.any(e,i.ns.qu("in_USD"));if(s||g("@@ No amount in USD: "+s+" for "+e),s){var c=parseFloat(s.value);d[a]+=c,f[n][a]+=c,p[n]+=c}}}));var o,a=[],s=0,c=[];for(var m in f)f.hasOwnProperty(m)&&c.push(m);c.sort();var v,y,b=c.length,w=u.appendChild(n.createElement("table"));if(w.setAttribute("style","font-size: 120%; margin-left:auto; margin-right:1em; margin-top: 1em; border: 0.05em solid gray; padding: 1em;"),b>1){var x=w.appendChild(n.createElement("tr"));for(x.appendChild(k("")),o=0;o<b;o++)x.appendChild(k(c[o]));x.appendChild(k("total"))}for(var C in d)d.hasOwnProperty(C)&&(a.push(C),s+=d[C]);a.sort();for(var A=0;A<a.length;A++){var T=r.sym(a[A]);if((v=w.appendChild(n.createElement("tr"))).appendChild(n.createElement("td")).textContent=i.utils.label(T),b>1)for(o=0;o<b;o++)y=f[c[o]][a[A]],v.appendChild(_(y,!0));v.appendChild(_(d[a[A]],!0))}if(a.length>1){if((v=w.appendChild(n.createElement("tr"))).appendChild(k("total")),b>1)for(o=0;o<b;o++)y=p[c[o]],v.appendChild(_(y?E(y):""));v.appendChild(_(s)).setAttribute("style","font-weight: bold; text-align: right;")}var P=function(e,n,o){var a=e.createElement("table");a.setAttribute("style","padding-left: 0.5em; padding-right: 0.5em; font-size: 9pt; width: 85%;");var s=function(e,n){var o=e.createElement("tr"),a=r.any(n,l.qu("toAccount"));!function(e,t){var n="'padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.1em;";if(t){var o=r.any(t,i.ns.ui("backgroundColor"));o&&(n+="background-color: "+o.value+"; ")}e.setAttribute("style",n)}(o,a);var s=o.appendChild(e.createElement("td")),c=r.any(n,l.qu("date"));s.textContent=c?c.value.slice(0,10):"???",s.setAttribute("style","width: 7em;");var u=o.appendChild(e.createElement("td"));u.setAttribute("style","width: 36em;");var d=r.any(n,l.qu("payee"));u.textContent=d?d.value:"???";var p=u.appendChild(e.createElement("a"));p.textContent=" ➜",p.setAttribute("href",n.uri);var f=o.appendChild(e.createElement("td")),h=r.any(n,l.qu("in_USD"));return f.textContent=h?E(h.value):"???",f.setAttribute("style","width: 6em; text-align: right; "),o.addEventListener("click",(function(r){!function(e,n,r,i,o){n.expanded?(n.parentNode.removeChild(n.expanded),n.expanded=!1):function(e,n,r,i,o){var a=n.parentNode.children;if(o)for(var s=a.length-1;s>=0;s--)a[s].expanded&&(a[s].parentNode.removeChild(a[s].expanded),a[s].expanded=!1);var l=e.createElement("tr"),c=l.appendChild(e.createElement("td"));c.setAttribute("style","width: 98%; padding: 1em; border: 0.1em solid grey;");var u=n.children.length;n.nextSibling?n.parentNode.insertBefore(l,n.nextSibling):n.parentNode.appendChild(l),n.expanded=l,c.setAttribute("colspan",""+u),c.appendChild(function(e,t,n){var r=e.session.paneRegistry.byName(n).render(t,e);return r.setAttribute("style","border: 0.1em solid green;"),r}(t,r,i))}(e,n,r,i,o)}(e,o,n,"transaction",!r.shiftKey)}),!1),o},c=n.slice();c.sort(S);for(var u=0;u<c.length;u++)a.appendChild(s(e,c[u]));return a}(n,h);P.setAttribute("style","margin-left:auto; margin-right:1em; margin-top: 1em; border: padding: 1em;"),u.appendChild(P),i.widgets.attachmentList(n,e,u)})).catch((function(e){g("Error loading transactions: "+e)})));return u}}},58644:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(92361));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var a=i.ns;t.default={icon:i.icons.iconBase+"noun_142708.svg",name:"period",audience:[a.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/2000/10/swap/pim/qif#Period"]?"period":null},render:function(e,t){var n=t.dom,r=t.session.store,o=i.ns,a=n.createElement("div");a.setAttribute("class","periodPane");var s=function(e,t){t||(t="color: grey;");var r=n.createElement("pre");r.setAttribute("style",t),a.appendChild(r),r.appendChild(n.createTextNode(e))},l=function(e){return s("✓ "+e,"color: #010; background-color: #efe")},c=function(e){return s(e,"color: #100; background-color: #fee")},u=function(){var s=r.any(e,o.cal("dtstart"));void 0===s&&c("(Error: There is no start date known for this period <"+e.uri+">,\n -- every period needs one.)");var u=r.any(e,o.cal("dtend"));void 0===u&&c("(Error: There is no end date known for this period <"+e.uri+">,\n -- every period needs one.)");({})[o.rdf("type").uri]=!0;var d=function(e){return!!((t=r.any(e,o.qu("date")))&&t>=s&&t<u);var t},p=function(e,t){var n=r.any(e,o.qu("date")),i=r.any(t,o.qu("date"));if(void 0!==n&&void 0!==i){if(n.value<i.value)return-1;if(n.value>i.value)return 1}return e.uri<t.uri?-1:e.uri>t.uri?1:0};a.appendChild(n.createElement("h2")).textContent="Period "+s.value.slice(0,10)+" - "+u.value.slice(0,10);var f,h,m,g,v=function(e,n){var a=e.createElement("table");a.setAttribute("style","margin-left: 100; font-size: 9pt; width: 85%;");var s=function(e,n){var a=e.createElement("tr"),s=r.any(n,o.qu("toAccount"));!function(e,t){var n="margin-left: 8em; padding-left: 5em;";if(t){var o=r.any(t,i.ns.ui("backgroundColor"));o&&(n+="background-color: "+o.value+"; ")}e.setAttribute("style",n)}(a,s);var l=a.appendChild(e.createElement("td")),c=r.any(n,o.qu("date"));l.textContent=c?c.value.slice(0,10):"???",l.setAttribute("style","width: 7em;");var u=a.appendChild(e.createElement("td"));u.setAttribute("style","width: 36em;");var d=r.any(n,o.qu("payee"));u.textContent=d?d.value:"???";var p=u.appendChild(e.createElement("a"));p.textContent=" ➜",p.setAttribute("href",n.uri);var f,h=a.appendChild(e.createElement("td")),m=r.any(n,o.qu("in_USD"));return h.textContent=m?(f=""+m.value).indexOf(".")>=0?f.split(".")[0]+"."+(f.split(".")[1]+"00").slice(0,2):f+".00":"???",h.setAttribute("style","width: 6em; text-align: right; "),a.addEventListener("click",(function(r){!function(e,n,r,i,o){n.expanded?(n.parentNode.removeChild(n.expanded),n.expanded=!1):function(e,n,r,i,o){var a=n.parentNode.children;if(o)for(var s=a.length-1;s>=0;s--)a[s].expanded&&(a[s].parentNode.removeChild(a[s].expanded),a[s].expanded=!1);var l=e.createElement("tr"),c=l.appendChild(e.createElement("td"));c.setAttribute("style","width: 98%; padding: 1em; border: 0.1em solid grey;");var u=n.children.length;n.nextSibling?n.parentNode.insertBefore(l,n.nextSibling):n.parentNode.appendChild(l),n.expanded=l,c.setAttribute("colspan",""+u),c.appendChild(function(e,t,n){var r=e.session.paneRegistry.byName(n).render(t,e);return r.setAttribute("style","border: 0.1em solid green;"),r}(t,r,i))}(e,n,r,i,o)}(e,a,n,"transaction",!r.shiftKey)}),!1),a},l=n.filter(d);l.sort(p);for(var c=0;c<l.length;c++)a.appendChild(s(e,l[c]));return a},y={"http://www.w3.org/2000/10/swap/pim/qif#Transaction":!0,"http://www.w3.org/2000/10/swap/pim/qif#Unclassified":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedOutgoing":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedIncome":!0},b=r.findMemberURIs(o.qu("Transaction")),w=[],x=[];for(var E in b)if(b.hasOwnProperty(E)){h=r.sym(E);for(var _=r.each(h,o.rdf("type")),k=!1,S=0;S<_.length;S++)void 0===y[_[S].uri]&&(k=!0);k||(void 0===(f=r.any(h,o.qu("in_USD")))&&(f=r.any(h,o.qu("amount"))),f&&(""+f.value).indexOf("-")>=0?x.push(r.sym(E)):w.push(r.sym(E)))}w.length?(g=(m=v(n,w)).children.length,a.appendChild(n.createElement("h3")).textContent="Unclassified Income"+(g<4?"":" ("+g+")"),a.appendChild(m)):l("No unclassified income"),x.length?(g=(m=v(n,x)).children.length,a.appendChild(n.createElement("h3")).textContent="Unclassified Outgoings"+(g<4?"":" ("+g+")"),a.appendChild(m)):l("No unclassified outgoings ");var C=function(e,t){var s,l=function(e){var t=r.findSubClassesNT(o.qu("Transaction"));for(var n in t)if(t.hasOwnProperty(n)&&n.slice(1,-1).split("#")[1]===e)return r.sym(n.slice(1,-1));return null}(e),u=[],d=0;if(!l)return c("Error: No category correspnding to "+e),null;for(var p=r.each(void 0,o.rdf("type"),l),f=0;f<p.length;f++)r.any(p[f],t)||u.push(p[f]);return u.length&&(d=(s=v(n,u)).children.length,a.appendChild(n.createElement("h3")).textContent=i.utils.label(l)+" with no "+i.utils.label(t)+(d<4?"":" ("+d+")"),a.appendChild(s)),d};0===C("Reimbursables",o.trip("trip"))&&l("Reimbursables all have trips"),0===C("Other_Inc_Speaking",o.trip("trip"))&&l("Speaking income all has trips")};if(r.findTypeURIs(e)["http://www.w3.org/2000/10/swap/pim/qif#Period"]){var d=r.each(e,o.rdfs("seeAlso"));console.log("Loading before render: "+d.length),r.fetcher.load(d).then((function(){u()}))}return a}}},3479:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.default={icon:i.icons.iconBase+"noun_62007.svg",name:"travel expenses",audience:[l.solid("PowerUser")],label:function(e,t){var n=t.session.store,r=n.findTypeURIs(e);return i.ns.qu("Transaction")in n.findSuperClassesNT(e)?"by Trip":r["http://www.w3.org/ns/pim/trip#Trip"]?"Trip $":null},render:function(e,t){var n=t.dom,r=t.store,a=i.ns,s=o.Namespace("http://www.w3.org/2002/12/cal/ical#"),l=o.Namespace("http://www.w3.org/ns/pim/trip#"),c=n.createElement("div");c.setAttribute("class","transactionPane"),c.innerHTML="<h2>Trip transactions</h2>";var u=function(e,t){void 0===t&&(t="color: grey");var r=n.createElement("pre");r.setAttribute("style",t),c.appendChild(r),r.appendChild(n.createTextNode(e))},d=r.findTypeURIs(e),p=function(e,t){var s=new o.Query(i.utils.label(e)),c={};["date","transaction","comment","type","in_USD"].forEach((function(e){s.vars.push(c[e]=o.variable(e))})),s.pat.add(c.transaction,l("trip"),e);var d=r.formula();d.add(c.transaction,a.rdf("type"),c.type),s.pat.optional.push(d),s.pat.add(c.transaction,i.ns.qu("date"),c.date),d.add(c.transaction,a.rdfs("comment"),c.comment),s.pat.optional.push(d),s.pat.add(c.transaction,i.ns.qu("in_USD"),c.in_USD);var p=i.table(n,{query:s,onDone:function(){var t={},n=r.each(void 0,l("trip"),e);n.forEach((function(e){var n=r.the(e,a.rdf("type"));if(n||(n=i.ns.qu("ErrorNoType")),n&&n.uri){var o=n.uri;t[o]||(t[o]=0);var s=r.any(e,i.ns.qu("in_USD"));s||u("    @@ No amount in USD: "+s+" for "+e),s&&(t[o]=t[o]+parseFloat(s.value))}}));var o="",s=0,c=0;for(var d in t)o+=i.utils.label(r.sym(d))+": "+t[d]+"; ",s++,c+=t[d];u("Totals of "+n.length+" transactions: "+o,""),s>1&&u("Overall net: "+c,"text-treatment: bold;")}});t.appendChild(p)};if(i.ns.qu("Transaction")in r.findSuperClassesNT(e)){for(var f=r.each(void 0,a.rdf("type"),e),h=[],m=[],g=0;g<f.length;g++){var v=f[g],y=r.any(v,l("trip"));if(y){v in m||(m[y]={total:0,transactions:[]});var b=r.any(v,i.ns.qu("in_USD"));b&&(m[y].total+=b);var w=r.any(v,i.ns.qu("date"));m[y.toNT()].transactions.push([w,v])}else h.push(v)}var x=[];for(var E in m){var _=r.fromNT(E);x.push([r.any(_,s("dtstart")),_])}x.sort();for(var k=0;k<x.length;k++)p(x[k][1],c)}else d["http://www.w3.org/ns/pim/trip#Trip"]&&p(e,c);return c}}},73655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApplicationTable=function e(t){var n=p("table",{class:"results"}),r=f("tr",[h("th","Application URL"),h("th","Access modes"),h("th","Actions")]);return n.appendChild(r),o.store.each(t,i.ns.acl("trustedApp"),void 0,void 0).flatMap((function(e){return o.store.each(e,i.ns.acl("origin"),void 0,void 0).map((function(t){return{appModes:o.store.each(e,i.ns.acl("mode"),void 0,void 0),origin:t}}))})).sort((function(e,t){return e.origin.value<t.origin.value?-1:1})).forEach((function(e){var r=e.appModes,i=e.origin;return n.appendChild(d(t,i,r,a))})),n.appendChild(d(t,null,[i.ns.acl("Read")],a)),n;function a(){n.parentElement.replaceChild(e(t),n)}},t.createContainer=f,t.createText=h;var r=n(67364),i=n(92361),o=n(23451),a=n(78002);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,s){var l={origin:t,appModes:n,formElements:{modes:[],origin:void 0}};return f("tr",[f("td",[f("form",[p("input",{class:"textinput",placeholder:"Write new URL here",value:t?t.value:""},{},(function(e){l.formElements.origin=e}))],{},{submit:c})]),f("td",[f("form",m(l),{},{submit:c})]),f("td",[f("form",t?[h("button","Update",{class:"controlButton",style:"background: LightGreen;"}),h("button","Delete",{class:"controlButton",style:"background: LightCoral;"},{click:function(t){var n;t.preventDefault();try{n=(0,r.sym)(l.formElements.origin.value)}catch(e){return alert("Please provide an application URL you want to remove trust from")}var s=(0,a.getStatementsToDelete)(n,e,o.store,i.ns);if(!o.store.updater)throw new Error("Store has no updater");o.store.updater.update(s,[],u)}})]:[h("button","Add",{class:"controlButton",style:"background: LightGreen;"})],{},{submit:c})])]);function c(t){var n;t.preventDefault();try{n=(0,r.sym)(l.formElements.origin.value)}catch(e){return alert("Please provide an application URL you want to trust")}var s=l.formElements.modes.filter((function(e){return e.checked})).map((function(e){return e.value})),c=(0,a.getStatementsToDelete)(l.origin||n,e,o.store,i.ns),d=(0,a.getStatementsToAdd)(n,(0,a.generateRandomString)(),s,e,i.ns);if(!o.store.updater)throw new Error("Store has no updater");o.store.updater.update(c,d,u)}function u(e,t,n){if(t)return s();console.error(e,n)}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=document.createElement(e);return r&&r(i),Object.keys(t).forEach((function(e){i.setAttribute(e,t[e])})),Object.keys(n).forEach((function(e){i.addEventListener(e,n[e])})),i}function f(e,t){var n=p(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},arguments.length>4&&void 0!==arguments[4]?arguments[4]:null);return t.forEach((function(e){return n.appendChild(e)})),n}function h(e,t){var n=p(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},arguments.length>4&&void 0!==arguments[4]?arguments[4]:null);return n.textContent=t,n}function m(e){var t=e.appModes,n=e.formElements;return["Read","Write","Append","Control"].map((function(e){return f("label",[p("input",c(c({type:"checkbox"},t.some((function(t){return t.value===i.ns.acl(e).value}))?{checked:""}:{}),{},{value:i.ns.acl(e).uri}),{},(function(e){return n.modes.push(e)})),h("span",e)])}))}},78002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomString=function(){return Math.random().toString(36).substr(2,5)},t.getStatementsToAdd=function(e,t,n,o,a){var s,l=new r.BlankNode("bn_".concat(t));return[(0,r.st)(o,a.acl("trustedApp"),l,o.doc()),(0,r.st)(l,a.acl("origin"),e,o.doc())].concat(function(e){if(Array.isArray(e))return i(e)}(s=n.map((function(e){return(0,r.sym)(e)})).map((function(e){return(0,r.st)(l,a.acl("mode"),e,o.doc())})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},t.getStatementsToDelete=function(e,t,n,r){return n.statementsMatching(null,r.acl("origin"),e).reduce((function(e,i){return e.concat(n.statementsMatching(t,r.acl("trustedApp"),i.subject)).concat(n.statementsMatching(i.subject))}),[])};var r=n(67364);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}},86462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(92361),i=n(23451),o=n(73655);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(F([])));k&&k!==n&&r.call(k,l)&&(E=k);var S=x.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,s,l){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,i(S,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(A.prototype),d(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var c={global:!0,icon:"".concat(r.icons.iconBase,"noun_15177.svg"),name:"trustedApplications",label:function(){return null},render:function(e,t){var n=t.dom,i=n.createElement("div");i.classList.add("trusted-applications-pane"),i.setAttribute("style","border: 0.3em solid #418d99; border-radius: 0.5em; padding: 0.7em; margin-top:0.7em;");var o=i.appendChild(n.createElement("table")),a=o.appendChild(n.createElement("tr")),s=o.appendChild(n.createElement("tr")).appendChild(n.createElement("div"));return s.setAttribute("style","padding: 0.7em;"),function(e,t,n){return u.apply(this,arguments)}(n,a,s).catch((function(e){return s.appendChild(r.widgets.errorMessageBlock(n,e))})),i}};function u(){var e;return e=s().mark((function e(t,n,a){var l,c,u,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.login.ensureLoadedProfile({dom:t,div:n,statusArea:a,me:null});case 2:if(l=e.sent,c=l.me,u=c.doc(),i.store.updater){e.next=7;break}throw new Error("Store has no updater");case 7:if(d=i.store.updater.editable(u.uri,i.store),n.appendChild((0,o.createText)("h3","Manage your trusted applications")),d){e.next=12;break}return n.appendChild(r.widgets.errorMessageBlock(t,"Your profile ".concat(c.doc().uri," is not editable, so we cannot do much here."))),e.abrupt("return");case 12:n.appendChild((0,o.createText)("p","Here you can manage the applications you trust.")),p=(0,o.createApplicationTable)(c),n.appendChild(p),n.appendChild((0,o.createText)("h4","Notes")),n.appendChild((0,o.createContainer)("ol",[n.appendChild((0,o.createText)("li","Trusted applications will get access to all resources that you have access to.")),n.appendChild((0,o.createText)("li","You can limit which modes they have by default.")),n.appendChild((0,o.createText)("li","They will not gain more access than you have."))])),n.appendChild((0,o.createText)("p","Application URLs must be valid URL. Examples are http://localhost:3000, https://trusted.app, and https://sub.trusted.app."));case 18:case"end":return e.stop()}}),e)})),u=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))},u.apply(this,arguments)}t.default=c},5275:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=i.ns;t.default={icon:i.icons.iconBase+"noun_170702.svg",name:"ui",audience:[l.solid("PowerUser")],label:function(e,t){var n=i.ns,r=t.session.store.findTypeURIs(e);return r[n.rdfs("Class").uri]?"creation forms":r[n.ui("Form").uri]?"edit form":null},render:function(e,t){var n=t.dom,r=t.session.store,a=i.ns,s=n.createElement("div");s.setAttribute("class","formPane");var l,c,u=i.utils.label(e),d=function(e,t){var r=n.createElement("p");return r.setAttribute("style",t||"color: grey; background-color: white"),s.appendChild(r).textContent=e,r},p=function(e,t){d(e,"style")},f=function(e,t){e||p("Sorry, failed to save your change:\n"+t)},h=r.findTypeURIs(e),m=null;e.uri&&(l=o.Util.uri.docpart(e.uri),e.uri!==l&&r.updater.editable(l)&&(m=r.sym(o.Util.uri.docpart(e.uri)))),m||(m=r.any(r.sym(l),a.link("annotationStore"))),m||(m=i.widgets.defaultAnnotationStore(e)),m||(m=r.sym("https://formsregistry.solid.community/public/formRegistry/")),h[a.rdfs("Class").uri];var g=d("(Loading data from: "+m+")");return r.fetcher.nowOrWhenFetched(m.uri,e,(function(o,l){if(o)if(s.removeChild(g),h[a.rdfs("Class").uri]){var v=function(o,l){var c=r.statementsMatching(e,o),h=t.getOutliner(n);if(c.length){for(var g=0;g<c.length;g++){h.appendPropertyTRs(s,[c[g]]);var v=c[g].object,y=n.createElement("td");s.lastChild.appendChild(y),l&&y.appendChild(i.widgets.newButton(n,r,null,null,e,v,m,(function(e,t){e||p("Sorry, failed to save your change:\n"+t)})));var b=r.statementsMatching(v,a.rdf("type"));b.length||(b=r.statementsMatching(v)),b.length?i.widgets.editFormButton(n,s,v,b[0].why,f):p("No data about form")}s.appendChild(n.createElement("hr"))}else d("There are currently no known forms to make a "+u+".")};c=a.ui("creationForm"),s.appendChild(n.createElement("h2")).textContent=i.utils.label(c),d("Creation forms allow you to add information about a new thing, in this case a new "+u+"."),v(c,!0),s.appendChild(n.createElement("hr")),d("You can make a new creation form:"),s.appendChild(i.widgets.newButton(n,r,e,c,a.ui("Form"),null,m,f)),s.appendChild(n.createElement("hr")),c=a.ui("annotationForm"),s.appendChild(n.createElement("h2")).textContent=i.utils.label(c),d("Annotaion forms allow you to add extra information about a ,"+u+" we already know about."),v(c,!1),s.appendChild(n.createElement("hr")),d("You can make a new annotation form:"),s.appendChild(i.widgets.newButton(n,r,e,c,a.ui("Form"),null,m,f)),d("(Storing new forms in: "+m+")")}else h[a.ui("Form").uri]?i.widgets.appendForm(n,s,r,e,a.ui("FormForm"),m,f):p("ui/pane internal error -- Eh?");else p("Cannot load store "+m+" :"+l)})),s}}},21126:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={buildTime:"2025-02-05T10:12:21Z",commit:"65d80a4a704e8b79647cd2bc4b9985e9659a326e",npmInfo:{"solid-panes":"3.6.2",npm:"8.19.4",node:"16.20.2",v8:"9.4.146.26-node.26",uv:"1.43.0",zlib:"1.2.11",brotli:"1.0.9",ares:"1.19.1",modules:"93",nghttp2:"1.47.0",napi:"8",llhttp:"6.0.11",openssl:"1.1.1v+quic",cldr:"41.0",icu:"71.1",tz:"2022f",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"}}},80767:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(92361)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}t.default={icon:i.icons.iconBase+"noun_1619.svg",name:"video",label:function(e,t){var n=t.session.store.findTypeURIs(e),r=o.Util.mediaTypeClass("video/*").uri.split("*")[0];for(var i in n)if(i.startsWith(r))return"Play video";return null},render:function(e,t){var n=t.session.store,r=t.dom,i=r.createElement("div"),o=i.appendChild(r.createElement("video"));return o.setAttribute("controls","yes"),n.fetcher._fetch(e.uri).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);o.setAttribute("src",t)})),o.setAttribute("width","100%"),i}}},10979:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.AccessController=void 0;var o=r(n(54756)),a=r(n(29293)),s=r(n(17383)),l=r(n(34579)),c=r(n(43693)),u=n(89922),d=n(67364),p=n(36971),f=n(54122),h=y(n(37499)),m=y(n(82902)),g=y(n(5148));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}t.AccessController=function(){return(0,l.default)((function e(t,n,r,i,o,a,l,d,f,h,m,v){if((0,s.default)(this,e),this.subject=t,this.noun=n,this.context=r,this.statusElement=i,this.targetIsProtected=o,this.targetDoc=a,this.targetACLDoc=l,this.defaultHolder=d,this.defaultACLDoc=f,this.prospectiveDefaultHolder=h,this.store=m,this.dom=v,(0,c.default)(this,"mainCombo",void 0),(0,c.default)(this,"defaultsCombo",void 0),(0,c.default)(this,"isContainer",void 0),(0,c.default)(this,"defaultsDiffer",void 0),(0,c.default)(this,"rootElement",void 0),(0,c.default)(this,"isUsingDefaults",void 0),this.rootElement=v.createElement("div"),this.rootElement.setAttribute("style",g.aclGroupContent),this.isContainer="/"===a.uri.slice(-1),d&&f){this.isUsingDefaults=!0;var y=(0,u.adoptACLDefault)(this.targetDoc,l,d,f);this.mainCombo=new p.AccessGroups(a,l,this,y,{defaults:this.isContainer}),this.defaultsCombo=null,this.defaultsDiffer=!1}else this.isUsingDefaults=!1,this.mainCombo=new p.AccessGroups(a,l,this,m),this.defaultsCombo=new p.AccessGroups(a,l,this,m,{defaults:this.isContainer}),this.defaultsDiffer=!(0,u.sameACL)(this.mainCombo.aclMap,this.defaultsCombo.aclMap)}),[{key:"isEditable",get:function(){return!this.isUsingDefaults}},{key:"render",value:function(){if(this.rootElement.innerHTML="",this.isUsingDefaults){if(this.renderStatus("The sharing for this ".concat(this.noun," is the default for folder ")),this.defaultHolder){var e=this.statusElement.appendChild(this.dom.createElement("a"));e.href=this.defaultHolder.uri,e.innerText=(0,f.shortNameForFolder)(this.defaultHolder)}}else!this.defaultsDiffer&&this.isContainer?this.renderStatus("This is also the default for things in this folder."):this.renderStatus("");return this.rootElement.appendChild(this.mainCombo.render()),this.defaultsCombo&&this.defaultsDiffer?(this.rootElement.appendChild(this.renderRemoveDefaultsController()),this.rootElement.appendChild(this.defaultsCombo.render())):this.isEditable&&this.isContainer&&this.rootElement.appendChild(this.renderAddDefaultsController()),!this.targetIsProtected&&this.isUsingDefaults?this.rootElement.appendChild(this.renderAddAclsController()):this.targetIsProtected||this.rootElement.appendChild(this.renderRemoveAclsController()),this.rootElement}},{key:"renderRemoveAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Remove custom sharing settings for this ".concat(this.noun," -- just use default").concat(this.prospectiveDefaultHolder?" for ".concat(h.label(this.prospectiveDefaultHolder)):""),t.setAttribute("style",g.bigButton),t.addEventListener("click",(function(){return e.removeAcls().then((function(){return e.render()})).catch((function(t){return e.renderStatus(t)}))})),t}},{key:"renderAddAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Set specific sharing for this ".concat(this.noun),t.setAttribute("style",g.bigButton),t.addEventListener("click",(function(){return e.addAcls().then((function(){return e.render()})).catch((function(t){return e.renderStatus(t)}))})),t}},{key:"renderAddDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.setAttribute("style",g.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Sharing for things within the folder currently tracks sharing for the folder.",n.setAttribute("style",g.defaultsControllerNotice);var r=t.appendChild(this.dom.createElement("button"));return r.innerText="Set the sharing of folder contents separately from the sharing for the folder",r.setAttribute("style",g.bigButton),r.addEventListener("click",(function(){return e.addDefaults().then((function(){return e.render()}))})),t}},{key:"renderRemoveDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.setAttribute("style",g.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Access to things within this folder:",n.setAttribute("style",g.defaultsControllerNotice);var r=t.appendChild(this.dom.createElement("button"));return r.innerText="Set default for folder contents to just track the sharing for the folder",r.setAttribute("style",g.bigButton),r.addEventListener("click",(function(){return e.removeDefaults().then((function(){return e.render()})).catch((function(t){return e.renderStatus(t)}))})),t}},{key:"renderTemporaryStatus",value:function(e){var t=this;this.statusElement.setAttribute("style",g.aclControlBoxStatusRevealed),this.statusElement.innerText=e,this.statusElement.setAttribute("style",g.temporaryStatusInit),setTimeout((function(){t.statusElement.setAttribute("style",g.temporaryStatusEnd)})),setTimeout((function(){t.statusElement.innerText=""}),5e3)}},{key:"renderStatus",value:function(e){e||this.statusElement.setAttribute("style",g.aclControlBoxStatusRevealed),this.statusElement.innerText=e}},{key:"addAcls",value:(r=(0,a.default)(o.default.mark((function e(){var t,n,r=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.defaultHolder&&this.defaultACLDoc){e.next=4;break}return t="Unable to find defaults to copy",m.error(t),e.abrupt("return",Promise.reject(t));case 4:return(0,u.adoptACLDefault)(this.targetDoc,this.targetACLDoc,this.defaultHolder,this.defaultACLDoc).statements.forEach((function(e){return r.store.add(e.subject,e.predicate,e.object,r.targetACLDoc)})),e.prev=6,e.next=9,this.store.fetcher.putBack(this.targetACLDoc);case 9:return this.isUsingDefaults=!1,e.abrupt("return",Promise.resolve());case 13:return e.prev=13,e.t0=e.catch(6),n=" Error writing back access control file! ".concat(e.t0),m.error(n),e.abrupt("return",Promise.reject(n));case 18:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(){return r.apply(this,arguments)})},{key:"addDefaults",value:(n=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.defaultsCombo=new p.AccessGroups(this.targetDoc,this.targetACLDoc,this,this.store,{defaults:!0}),this.defaultsDiffer=!0;case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"removeAcls",value:(t=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.store.fetcher.delete(this.targetACLDoc.uri,{});case 3:return this.isUsingDefaults=!0,e.prev=4,e.next=7,(0,u.getProspectiveHolder)(this.targetDoc.uri);case 7:this.prospectiveDefaultHolder=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),m.warn(e.t0);case 13:e.next=20;break;case 15:return e.prev=15,e.t1=e.catch(0),t="Error deleting access control file: ".concat(this.targetACLDoc,": ").concat(e.t1),m.error(t),e.abrupt("return",Promise.reject(t));case 20:case"end":return e.stop()}}),e,this,[[0,15],[4,10]])}))),function(){return t.apply(this,arguments)})},{key:"removeDefaults",value:(e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.defaultsCombo,e.prev=1,this.defaultsCombo=null,this.defaultsDiffer=!1,e.next=6,this.save();case 6:e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(1),this.defaultsCombo=t,this.defaultsDiffer=!0,m.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return e.apply(this,arguments)})},{key:"save",value:function(){var e=this,t=(0,d.graph)();this.isContainer?this.defaultsCombo&&this.defaultsDiffer?((0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),(0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.defaultsCombo.byCombo,this.targetACLDoc,!1,!0)):(0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0,!0):(0,u.makeACLGraphbyCombo)(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),t.fetcher=(0,d.fetcher)(t,{fetch:this.store.fetcher._fetch});var n=t.updater||new d.UpdateManager(t);return new Promise((function(r,i){n.put(e.targetACLDoc,t.statementsMatching(void 0,void 0,void 0,e.targetACLDoc),"text/turtle",(function(n,o,a){if(!o)return i(new Error("ACL file save failed: ".concat(a)));e.store.fetcher.unload(e.targetACLDoc),e.store.add(t.statements),e.store.fetcher.requested[e.targetACLDoc.uri]="done",e.mainCombo.store=e.store,e.defaultsCombo&&(e.defaultsCombo.store=e.store),e.defaultsDiffer=!!e.defaultsCombo&&!(0,u.sameACL)(e.mainCombo.aclMap,e.defaultsCombo.aclMap),m.log("ACL modification: success!"),r()}))}))}}]);var e,t,n,r}()},36971:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.AccessGroups=void 0;var o=r(n(54756)),a=r(n(29293)),s=r(n(85715)),l=r(n(17383)),c=r(n(34579)),u=r(n(43693)),d=n(67364),p=n(89922),f=b(n(81939)),h=b(n(62054)),m=n(79169),g=b(n(82902)),v=b(n(5148));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var w=h.acl,x={13:"Owners",9:"Owners (write locked)",5:"Editors",3:"Posters",2:"Submitters",1:"Viewers"},E={13:!0,5:!0,3:!0,2:!0,1:!0},_={13:"can read, write, and control sharing.",9:"can read and control sharing, currently write-locked.",5:"can read and change information",3:"can add new information, and read but not change existing information",2:"can add new information but not read any",1:"can read but not change information"};function k(e){for(var t=["Read","Append","Write","Control"],n=[],r=0;r<4;r++)e&1<<r&&n.push("http://www.w3.org/ns/auth/acl#"+t[r]);return n.sort(),n.join("\n")}function S(e,t){var n=(0,d.sym)(e),r=t.findTypeURIs(n);for(var i in r)g.log("    drop object type includes: "+i);if(e.startsWith("http")&&3===e.split("/").length)return{pred:"origin",obj:n};if(e.startsWith("http")&&4===e.split("/").length&&e.endsWith("/"))return g.log("Assuming final slash on dragged origin URI was unintended!"),{pred:"origin",obj:(0,d.sym)(e.slice(0,-1))};if(h.vcard("WebID").uri in r)return{pred:"agent",obj:n};if(h.vcard("Group").uri in r)return{pred:"agentGroup",obj:n};if(n.sameTerm(h.foaf("Agent"))||n.sameTerm(h.acl("AuthenticatedAgent"))||n.sameTerm(h.rdf("Resource"))||n.sameTerm(h.owl("Thing")))return{pred:"agentClass",obj:n};if(h.vcard("Individual").uri in r||h.foaf("Person").uri in r||h.foaf("Agent").uri in r){var o=t.any(n,h.foaf("preferredURI"));return o?{pred:"agent",obj:(0,d.sym)(o)}:{pred:"agent",obj:n}}return h.solid("AppProvider").uri in r?{pred:"origin",obj:n}:h.solid("AppProviderClass").uri in r?{pred:"originClass",obj:n}:(g.log("    Triage fails for "+e),null)}t.AccessGroups=function(){return(0,c.default)((function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,l.default)(this,e),this.doc=t,this.aclDoc=n,this.controller=r,this.options=o,(0,u.default)(this,"defaults",void 0),(0,u.default)(this,"byCombo",void 0),(0,u.default)(this,"aclMap",void 0),(0,u.default)(this,"addAgentButton",void 0),(0,u.default)(this,"rootElement",void 0),(0,u.default)(this,"_store",void 0),this.defaults=o.defaults||!1,this._store=i,this.aclMap=(0,p.readACL)(t,n,i,this.defaults),this.byCombo=(0,p.ACLbyCombination)(this.aclMap),this.addAgentButton=new m.AddAgentButtons(this),this.rootElement=this.controller.dom.createElement("div"),this.rootElement.setAttribute("style",v.accessGroupList)}),[{key:"store",get:function(){return this._store},set:function(e){this._store=e,this.aclMap=(0,p.readACL)(this.doc,this.aclDoc,e,this.defaults),this.byCombo=(0,p.ACLbyCombination)(this.aclMap)}},{key:"render",value:function(){var e=this;return this.rootElement.innerHTML="",this.renderGroups().forEach((function(t){return e.rootElement.appendChild(t)})),this.controller.isEditable&&this.rootElement.appendChild(this.addAgentButton.render()),this.rootElement}},{key:"renderGroups",value:function(){for(var e=[],t=15;t>0;t--){var n=k(t);(this.controller.isEditable&&E[t]||this.byCombo[n])&&e.push(this.renderGroup(t,n))}return e}},{key:"renderGroup",value:function(e,t){var n=this,r=this.controller.dom.createElement("div");return r.setAttribute("style",v.accessGroupListItem),f.makeDropTarget(r,(function(e){return n.handleDroppedUris(e,t).then((function(){return n.controller.render()})).catch((function(e){return n.controller.renderStatus(e)}))})),this.renderGroupElements(e,t).forEach((function(e){return r.appendChild(e)})),r}},{key:"renderGroupElements",value:function(e,t){var n=this,r=this.controller.dom.createElement("div");if(r.setAttribute("style",v.group),this.controller.isEditable)switch(e){case 1:r.setAttribute("style",v.group1);break;case 2:r.setAttribute("style",v.group2);break;case 3:r.setAttribute("style",v.group3);break;case 5:r.setAttribute("style",v.group5);break;case 9:r.setAttribute("style",v.group9);break;case 13:r.setAttribute("style",v.group13);break;default:r.setAttribute("style",v.group)}r.innerText=x[e]||function(e){for(var t="",n=["Read","Append","Write","Control"],r=0;r<4;r++)e&1<<r&&(t+=n[r]);return t}(e);var i=this.controller.dom.createElement("div");if(i.setAttribute("style",v.group),this.controller.isEditable)switch(e){case 1:i.setAttribute("style",v.group1);break;case 2:i.setAttribute("style",v.group2);break;case 3:i.setAttribute("style",v.group3);break;case 5:i.setAttribute("style",v.group5);break;case 9:i.setAttribute("style",v.group9);break;case 13:i.setAttribute("style",v.group13);break;default:i.setAttribute("style",v.group)}var o=i.appendChild(this.controller.dom.createElement("table"));(this.byCombo[t]||[]).map((function(e){var r=(0,s.default)(e,2),i=r[0],a=r[1];return n.renderAgent(o,t,i,a)})).forEach((function(e){return o.appendChild(e)}));var a=this.controller.dom.createElement("div");if(a.setAttribute("style",v.group),this.controller.isEditable)switch(e){case 1:a.setAttribute("style",v.group1);break;case 2:a.setAttribute("style",v.group2);break;case 3:a.setAttribute("style",v.group3);break;case 5:a.setAttribute("style",v.group5);break;case 9:a.setAttribute("style",v.group9);break;case 13:a.setAttribute("style",v.group13);break;default:a.setAttribute("style",v.group)}return a.innerText=_[e]||"Unusual combination",[r,i,a]}},{key:"renderAgent",value:function(e,t,n,r){var i=this,o=f.personTR(this.controller.dom,w(n),(0,d.sym)(r),this.controller.isEditable?{deleteFunction:function(){return i.deleteAgent(t,n,r).then((function(){return e.removeChild(o)})).catch((function(e){return i.controller.renderStatus(e)}))}}:{});return o}},{key:"deleteAgent",value:(r=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.byCombo[t]||[],(a=i.find((function(e){var t=(0,s.default)(e,2),i=t[0],o=t[1];return i===n&&o===r})))&&i.splice(i.indexOf(a),1),e.next=5,this.controller.save();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"addNewURI",value:(n=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleDroppedUri(t,k(1));case 2:return e.next=4,this.controller.save();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleDroppedUris",value:(t=(0,a.default)(o.default.mark((function e(t,n){var r=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map((function(e){return r.handleDroppedUri(e,n)})));case 3:return e.next=5,this.controller.save();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,n){return t.apply(this,arguments)})},{key:"handleDroppedUri",value:(e=(0,a.default)((function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.mark((function i(){var a,s,l,c,u,p;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=S(e,n.store),s=(0,d.sym)(e),a||r){i.next=17;break}return g.log("   Not obvious: looking up dropped thing ".concat(s)),i.prev=4,i.next=7,null===(l=n._store)||void 0===l||null===(c=l.fetcher)||void 0===c?void 0:c.load(s.doc());case 7:i.next=14;break;case 9:return i.prev=9,i.t0=i.catch(4),u="Ignore error looking up dropped thing: ".concat(i.t0),g.error(u),i.abrupt("return",Promise.reject(new Error(u)));case 14:return i.abrupt("return",n.handleDroppedUri(e,t,!0));case 17:if(a){i.next=21;break}return p="   Error: Drop fails to drop appropriate thing! ".concat(e),g.error(p),i.abrupt("return",Promise.reject(new Error(p)));case 21:n.setACLCombo(t,e,a,n.controller.subject);case 22:case"end":return i.stop()}}),i,null,[[4,9]])}))()})),function(t,n){return e.apply(this,arguments)})},{key:"setACLCombo",value:function(e,t,n,r){e in this.byCombo||(this.byCombo[e]=[]),this.removeAgentFromCombos(t),this.byCombo[e].push([n.pred,n.obj.uri]),g.log("ACL: setting access to ".concat(r," by ").concat(n.pred,": ").concat(n.obj))}},{key:"removeAgentFromCombos",value:function(e){for(var t=0;t<16;t++){var n=this.byCombo[k(t)];if(n)for(var r=0;r<n.length;r++)for(;r<n.length&&n[r][1]===e;)n.splice(r,1)}}}]);var e,t,n,r}()},54122:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.ACLControlBox5=function(e,t,n,r){var i=t.dom,o=e.doc(),a=i.createElement("div");a.setAttribute("style",d.aclControlBoxContainer);var s=a.appendChild(i.createElement("h1"));s.textContent="Sharing for ".concat(n," ").concat(l.label(e)),s.setAttribute("style",d.aclControlBoxHeader);var c=a.appendChild(i.createElement("div"));c.setAttribute("style",d.aclControlBoxStatus);try{(function(e,t,n,r,i,o,a){return b.apply(this,arguments)})(o,r,e,n,t,i,c).then((function(e){return a.appendChild(e.render())}))}catch(e){c.innerText=e}return a},t.handleDrop=y,t.preventBrowserDropEvents=function(e){if((0,p.log)("preventBrowserDropEvents called."),void 0!==m){if(m[g])return;m[g]=!0}e.addEventListener("drop",y,!1),e.addEventListener("dragenter",v,!1),e.addEventListener("dragover",v,!1)},t.preventDrag=v,t.setGlobalWindow=function(e){m=e},t.shortNameForFolder=function(e){var t=e.uri;"/"===t.slice(-1)&&(t=t.slice(0,-1));var n=t.lastIndexOf("/");return n>=0&&(t=t.slice(n+1)),t||"/"};var o=r(n(54756)),a=r(n(29293)),s=h(n(62054)),l=h(n(37499)),c=n(89922),u=n(10979),d=h(n(5148)),p=n(82902);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var m=window,g=Symbol("prevent double triggering of drop event");function v(e){e.stopPropagation(),e.preventDefault()}function y(e){e.dataTransfer.files.length>0&&(m.confirm("Are you sure you want to drop this file here? (Cancel opens it in a new tab)")||(e.stopPropagation(),e.preventDefault(),(0,p.log)("@@@@ document-level DROP suppressed: "+e.dataTransfer.dropEffect)))}function b(){return b=(0,a.default)(o.default.mark((function e(t,n,r,i,s,l,d){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,f){return(0,c.getACLorDefault)(t,function(){var t=(0,a.default)(o.default.mark((function t(a,h,m,g,v,y){var b,_,k,S;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S=function(e){return new u.AccessController(r,i,s,d,_,m,g,v,y,e,n,l)},a){t.next=3;break}return t.abrupt("return",f(new Error("Error reading ".concat(h?"":" default ","ACL. status ").concat(m,": ").concat(g))));case 3:if(b=w(m),(_=x(m,g,n)||E(m))||!b){t.next=16;break}return t.prev=6,t.next=9,(0,c.getProspectiveHolder)(b);case 9:return k=t.sent,t.abrupt("return",e(S(k)));case 13:t.prev=13,t.t0=t.catch(6),(0,p.warn)(t.t0);case 16:return t.abrupt("return",e(S()));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,n,r,i,o,a){return t.apply(this,arguments)}}())})));case 1:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function w(e){var t=e.uri.split("#")[0],n=t.slice(0,-1).lastIndexOf("/"),r=t.indexOf("//");return r>=0&&n<r+2||n<0?null:t.slice(0,n+1)}function x(e,t,n){return n.holds(e,s.rdf("type"),s.space("Storage"),t)}function E(e){return e.uri===e.site().uri}},89922:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.ACLToString=function(e){return E(b(e))},t.ACLbyCombination=b,t.ACLunion=v,t.adoptACLDefault=function(e,t,n,r){var i=s.acl,o="/"===e.uri.slice(-1),a=h.each(void 0,i("default"),n,r).concat(h.each(void 0,i("defaultForNew"),n,r)).reduce((function(t,n){return t.concat(h.statementsMatching(n,s.rdf("type"),i("Authorization"),r)).concat(h.statementsMatching(n,i("agent"),void 0,r)).concat(h.statementsMatching(n,i("agentClass"),void 0,r)).concat(h.statementsMatching(n,i("agentGroup"),void 0,r)).concat(h.statementsMatching(n,i("origin"),void 0,r)).concat(h.statementsMatching(n,i("originClass"),void 0,r)).concat(h.statementsMatching(n,i("mode"),void 0,r)).concat((0,d.st)(n,i("accessTo"),e,r)).concat(o?(0,d.st)(n,i("default"),e,r):[])}),[]),l=(0,d.graph)();return a.forEach((function(e){return l.add(c(e.subject),c(e.predicate),c(e.object),(0,d.sym)(t.uri))})),l;function c(e){var n=r.uri.length;return(0,d.sym)(e.uri.slice(0,n)===r.uri?t.uri+e.uri.slice(n):e.uri)}},t.comboToString=E,t.fixIndividualACL=S,t.fixIndividualCardACL=function(e,t,n){var r=h.each(void 0,s.vcard("hasMember"),e);r?S(e,r,t,n):(t("This card is in no groups"),n(!0))},t.getACL=A,t.getACLorDefault=C,t.getProspectiveHolder=function(e){return T.apply(this,arguments)},t.loadUnionACL=y,t.makeACLGraph=w,t.makeACLGraphbyCombo=x,t.makeACLString=function(e,t,n){var r=(0,d.graph)();return w(r,e,t,n),(0,d.serialize)(n,r,n.uri,"text/turtle")||""},t.putACLObject=_,t.putACLbyCombo=k,t.readACL=m,t.sameACL=g,t.setACL=function(e,t,n){var r=h.any(e,l.ACL_LINK);if(!h.fetcher)throw new Error("Store has no fetcher");r?h.fetcher.webOperation("PUT",r.value,{data:t,contentType:"text/turtle"}).then((function(e){n(e.ok,e.error||"")})):h.fetcher.nowOrWhenFetched(e,void 0,(function(r,i){if(!r)return n(r,"Gettting headers for ACL: "+i);var o=h.any(e,l.ACL_LINK);if(o){if(!h.fetcher)throw new Error("Store has no fetcher");h.fetcher.webOperation("PUT",o.value,{data:t,contentType:"text/turtle"}).then((function(e){n(e.ok,e.error||"")}))}else n(!1,"No Link rel=ACL header for "+e)}))};var o=r(n(54756)),a=r(n(29293)),s=f(n(62054)),l=n(23451),c=f(n(37499)),u=f(n(82902)),d=n(67364);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var h=l.solidLogicSingleton.store;function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?function(t,n){return t.each(void 0,n.acl("default"),e).concat(t.each(void 0,n.acl("defaultForNew"),e))}(n,s):n.each(void 0,s.acl("accessTo"),e),i=s.acl,o={agent:{},agentClass:{},agentGroup:{},origin:{},originClass:{}};return Object.keys(o).forEach((function(e){r.forEach((function(t){n.each(t,i("mode")).forEach((function(r){n.each(t,i(e)).forEach((function(n){o[e][n.uri]=o[e][n.uri]||{},o[e][n.uri][r.uri]=t}))}))}))})),o}function g(e,t){var n=function(e,t){for(var n in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})if(e[n])for(var r in e[n])for(var i in e[n][r])if(!t[n][r]||!t[n][r][i])return!1;return!0};return n(e,t)&&n(t,e)}function v(e){for(var t,n,r=e[0],i=function(i){["agent","agentClass","agentGroup","origin","originClass"].forEach((function(o){if((t=e[i])[o])for(n in t[o])for(var a in t[o][n])r[o][n]||(r[o][n]=[]),r[o][n][a]=!0}))},o=1;o<e.length;o++)i(o);return r}function y(e,t){var n=[],r=function(e){e.length?C(e.shift().doc(),(function(i,o,a,s,l,c){var u=!o;if(!i||!l||!c)return t(i,s);var d=u?m(l,c):m(a,s);n.push(d),r(e.slice(1))})):t(!0,v(n))};r(e)}function b(e){var t={};return["agent","agentClass","agentGroup","origin","originClass"].forEach((function(n){for(var r in e[n]){var i=[];for(var o in e[n][r])i.push(o);i.sort();var a=i.join("\n");t[a]||(t[a]=[]),t[a].push([n,r])}})),t}function w(e,t,n,r){return x(e,t,b(n),r)}function x(e,t,n,r,i,o){var a=s.acl;for(var l in n){var c=n[l];if(c.length){var u=l.split("\n"),d=u.map((function(e){return e.split("#")[1]})).join("");o&&!i&&(d+="Default");var p=e.sym(r.uri+"#"+d);e.add(p,s.rdf("type"),a("Authorization"),r),i&&e.add(p,a("accessTo"),t,r),o&&e.add(p,a("default"),t,r);for(var f=0;f<u.length;f++)e.add(p,a("mode"),e.sym(u[f]),r);for(var h=0;h<c.length;h++){var m=c[h][0],g=c[h][1];e.add(p,a(m),e.sym(g),r)}}}}function E(e){var t="";for(var n in e){t+=n.split("\n").map((function(e){return e.split("#")[1][0]})).join("")+":";for(var r=e[n],i=0;i<r.length;i++){var o=r[i][0],a=(0,d.sym)(r[i][1]);t+="agent"===o?"@":"",t+=a.sameTerm(s.foaf("Agent"))?"*":c.label(a),i<r.length-1&&(t+=",")}t+=";"}return"{"+t.slice(0,-1)+"}"}function _(e,t,n,r,i){return k(e,t,b(n),r,i)}function k(e,t,n,r,i){var o,a=(0,d.graph)();x(a,t,n,r,!0),null===(o=e.updater)||void 0===o||o.put(r,a.statementsMatching(void 0,void 0,void 0,r),"text/turtle",(function(o,a,s){var l;a?(null===(l=e.fetcher)||void 0===l||l.unload(r),x(e,t,n,r,!0),e.fetcher.requested[r.uri]="done",i(a)):i(a,s)}))}function S(e,t,n,r){n=n||u.log;var i=e.doc();C(i,(function(o,a,s,l,u,d){if(!o||!u||!d)return r(!1,l);var p=a?m(s,l):m(u,d);y(t,(function(t,o){if(!t)return r(!1,o);g(o,p)?n("Nice - same ACL. no change "+c.label(e)+" "+i):(n("Group ACLs differ for "+c.label(e)+" "+i),_(h,s,o,l,r))}))}))}function C(e,t){A(e,(function(n,r,i,o){var a=s.acl;if(!n)return t(!1,!1,r,o);var l=function(n){"/"===n.slice(-1)&&(n=n.slice(0,-1));var r=n.lastIndexOf("/");if(n.indexOf("/",n.indexOf("//")+2)>r)return t(!1,!0,404,"Found no ACL resource");n=n.slice(0,r+1);var o=(0,d.sym)(n);A(o,(function(r,s,c){if(!r)return t(!1,!0,s,"( No ACL pointer ".concat(n," ").concat(s,")").concat(c));if(403===s)return t(!1,!0,s,"( default ACL file FORBIDDEN. Stop.".concat(n,")"));if(404===s)return l(n);if(200!==s)return t(!1,!0,s,"Error status '".concat(s,"' searching for default for ").concat(o));if(!h.each(void 0,a("default"),h.sym(n),c).concat(h.each(void 0,a("defaultForNew"),h.sym(n),c)).length)return l(n);var u=h.sym(n);return t(!0,!1,e,i,u,c)}))};return n?404!==r?403===r?t(!1,!1,r,"(Sharing not available to you)".concat(o)):200!==r?t(!1,!1,r,"Error ".concat(r," accessing Access Control information for ").concat(e,": ").concat(o)):t(!0,!0,e,i):void l(e.uri):t(!1,!1,r,"Error accessing Access Control information for ".concat(e,") ").concat(o))}))}function A(e,t){if(!h.fetcher)throw new Error("kb has no fetcher");h.fetcher.nowOrWhenFetched(e,void 0,(function(n,r){if(!n)return t(n,"Can't get headers to find ACL for ".concat(e,": ").concat(r));var i=h.any(e,l.ACL_LINK);if(i){if(!h.fetcher)throw new Error("kb has no fetcher");if(h.fetcher.nonexistent[i.value])return t(!0,404,i,"ACL file ".concat(i," does not exist."));h.fetcher.nowOrWhenFetched(i,void 0,(function(e,n,r){e?t(!0,200,i):t(!0,r.status,i,"Can't read Access Control File ".concat(i,": ").concat(n))}))}else t(!1,900,"No Link rel=ACL header for ".concat(e))}))}function T(){return(T=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){return C((0,d.sym)(t),(function(r,i,o,a,s){return r?e(i?o:s):n(new Error("Error loading ".concat(t)))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},79169:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.AddAgentButtons=void 0;var o=r(n(54756)),a=r(n(29293)),s=r(n(17383)),l=r(n(34579)),c=r(n(43693)),u=y(n(82902)),d=n(4901),p=n(47822),f=y(n(62054)),h=y(n(37499)),m=y(n(81939)),g=y(n(5148));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}t.AddAgentButtons=function(){return(0,l.default)((function e(t){(0,s.default)(this,e),this.groupList=t,(0,c.default)(this,"rootElement",void 0),(0,c.default)(this,"barElement",void 0),(0,c.default)(this,"isExpanded",!1),this.rootElement=t.controller.dom.createElement("div"),this.barElement=t.controller.dom.createElement("div")}),[{key:"render",value:function(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.renderAddButton()),this.rootElement.appendChild(this.barElement),this.rootElement}},{key:"renderAddButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,"".concat(d.icons.iconBase,"noun_34653_green.svg"),"Add ...",(function(){e.toggleBar(),e.renderBar()}))}},{key:"renderBar",value:function(){this.barElement.innerHTML="",this.isExpanded&&(this.barElement.appendChild(this.renderPersonButton()),this.barElement.appendChild(this.renderGroupButton()),this.barElement.appendChild(this.renderPublicButton()),this.barElement.appendChild(this.renderAuthenticatedAgentButton()),this.barElement.appendChild(this.renderBotButton()),this.barElement.appendChild(this.renderAppsButton()))}},{key:"renderSimplifiedBar",value:function(e){var t=this;Array.from(this.barElement.children).filter((function(t){return t!==e})).forEach((function(e){return t.barElement.removeChild(e)}))}},{key:"renderPersonButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,d.icons.iconBase+m.iconForClass["vcard:Individual"],"Add Person",(function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(f.vcard("Individual"),"person").then((function(t){return e.addPerson(t)})).then((function(){return e.renderCleanup()})).catch((function(t){return e.groupList.controller.renderStatus(t)}))}))}},{key:"renderGroupButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,d.icons.iconBase+m.iconForClass["vcard:Group"],"Add Group",(function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(f.vcard("Group"),"group").then((function(t){return e.addGroup(t)})).then((function(){return e.renderCleanup()})).catch((function(t){return e.groupList.controller.renderStatus(t)}))}))}},{key:"renderNameForm",value:function(e,t){return m.askName(this.groupList.controller.dom,this.groupList.store,this.barElement,f.vcard("URI"),e,t)}},{key:"renderPublicButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,d.icons.iconBase+m.iconForClass["foaf:Agent"],"Add Everyone",(function(){return e.addAgent(f.foaf("Agent").uri).then((function(){return e.groupList.controller.renderTemporaryStatus("Adding the general public to those who can read. Drag the globe to a different level to give them more access.")})).then((function(){return e.renderCleanup()}))}))}},{key:"renderAuthenticatedAgentButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,"".concat(d.icons.iconBase,"noun_99101.svg"),"Anyone logged In",(function(){return e.addAgent(f.acl("AuthenticatedAgent").uri).then((function(){return e.groupList.controller.renderTemporaryStatus("Adding anyone logged in to those who can read. Drag the ID icon to a different level to give them more access.")})).then((function(){return e.renderCleanup()}))}))}},{key:"renderBotButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,d.icons.iconBase+"noun_Robot_849764.svg","A Software Agent (bot)",(function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(f.schema("Application"),"bot").then((function(t){return e.addBot(t)})).then((function(){return e.renderCleanup()}))}))}},{key:"renderAppsButton",value:function(){var e=this;return m.button(this.groupList.controller.dom,"".concat(d.icons.iconBase,"noun_15177.svg"),"A Web App (origin)",(function(t){e.renderSimplifiedBar(t.target);var n={div:e.barElement,dom:e.groupList.controller.dom},r=e.renderAppsTable(n).catch((function(t){return e.groupList.controller.renderStatus(t)}));e.renderAppsView();var i=e.renderNameForm(f.schema("WebApplication"),"webapp domain").then((function(t){return e.getOriginFromName(t)}));Promise.race([r,i]).then((function(t){t&&e.groupList.addNewURI(t)})).then((function(){return e.renderCleanup()}))}))}},{key:"renderAppsView",value:function(){var e=this,t=this.groupList.controller.context.session.paneRegistry.byName("trustedApplications");if(t){var n=t.render(null,this.groupList.controller.context);n.setAttribute("style",g.trustedAppController);var r=m.cancelButton(this.groupList.controller.dom,(function(){return e.renderCleanup()}));r.setAttribute("style",g.trustedAppCancelButton),n.insertBefore(r,n.firstChild),this.barElement.appendChild(n)}}},{key:"renderAppsTable",value:(v=(0,a.default)(o.default.mark((function e(t){var n,r,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.ensureLoadedProfile)(t);case 2:return n=this.groupList.store.each(t.me,f.acl("trustedApp")),r=n.flatMap((function(e){return i.groupList.store.each(e,f.acl("origin"))})),this.barElement.appendChild(this.groupList.controller.dom.createElement("p")).textContent="You have ".concat(r.length," selected web apps."),e.abrupt("return",new Promise((function(e,t){var r=i.barElement.appendChild(i.groupList.controller.dom.createElement("table"));r.setAttribute("style",g.trustedAppAddApplicationsTable),n.forEach((function(n){var o=i.groupList.store.any(n,f.acl("origin"));o||t(new Error("Unable to pick app: ".concat(n.value)));var a=m.personTR(i.groupList.controller.dom,f.acl("origin"),o,{}),s=i.groupList.controller.dom.createElement("table"),l=s.appendChild(i.groupList.controller.dom.createElement("tr"));l.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(a),l.appendChild(i.groupList.controller.dom.createElement("td")).textContent="Give access to ".concat(i.groupList.controller.noun," ").concat(h.label(i.groupList.controller.subject),"?"),l.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(m.continueButton(i.groupList.controller.dom,(function(){return e(o.value)}))),r.appendChild(s)}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"renderCleanup",value:function(){this.renderBar(),this.groupList.render()}},{key:"addPerson",value:(i=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.toggleBar());case 2:if(n=/^https?:/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return u.log("Adding to ACL person: ".concat(t)),e.next=8,this.groupList.addNewURI(t);case 8:this.toggleBar();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"addGroup",value:(r=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.toggleBar());case 2:if(n=/^https?:/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return u.log("Adding to ACL group: "+t),e.next=8,this.groupList.addNewURI(t);case 8:this.toggleBar();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"addAgent",value:(n=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.groupList.addNewURI(t);case 2:this.toggleBar();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"addBot",value:(t=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.toggleBar());case 2:if(n=/^https?:/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return u.log("Adding to ACL bot: "+t),e.next=8,this.groupList.addNewURI(t);case 8:this.toggleBar();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getOriginFromName",value:(e=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(n=/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i,t.match(n)){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Not a domain name")));case 5:return r="https://"+t,u.log("Adding to ACL origin: "+r),this.toggleBar(),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"toggleBar",value:function(){this.isExpanded=!this.isExpanded}}]);var e,t,n,r,i,v}()},58322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aclControl=t.acl=void 0;var r=n(89922),i=n(54122);t.acl={adoptACLDefault:r.adoptACLDefault,readACL:r.readACL,sameACL:r.sameACL,ACLunion:r.ACLunion,loadUnionACL:r.loadUnionACL,ACLbyCombination:r.ACLbyCombination,makeACLGraph:r.makeACLGraph,makeACLGraphbyCombo:r.makeACLGraphbyCombo,ACLToString:r.ACLToString,comboToString:r.comboToString,makeACLString:r.makeACLString,putACLObject:r.putACLObject,putACLbyCombo:r.putACLbyCombo,fixIndividualCardACL:r.fixIndividualCardACL,fixIndividualACL:r.fixIndividualACL,setACL:r.setACL,getACLorDefault:r.getACLorDefault,getACL:r.getACL},t.aclControl={preventBrowserDropEvents:i.preventBrowserDropEvents,shortNameForFolder:i.shortNameForFolder,ACLControlBox5:i.ACLControlBox5}},33909:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.findBookmarkDocument=function(e){return A.apply(this,arguments)},t.renderBookmarksButton=function(e,t){return N.apply(this,arguments)},t.toggleBookmark=O;var o=r(n(54756)),a=r(n(29293)),s=b(n(82902)),l=n(4901),c=n(18406),u=b(n(62054)),d=b(n(51712)),p=b(n(67364)),f=b(n(5148)),h=b(n(37499)),m=b(n(81939)),g=n(23451),v=n(47822);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var w={icons:l.icons,ns:u,media:c.media,pad:d,rdf:p,style:f,utils:h,widgets:m},x=w.rdf,E=x.Namespace("http://www.w3.org/2002/01/bookmark#"),_="noun_45961.svg",k=h.label,S=window.document||null;function C(e,t){return new Promise((function(n,r){g.store.updater.update(e,t,(function(e,t,i){t?n():r(new Error(i))}))}))}function A(){return(A=(0,a.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E("Bookmark"),r="bookmarks.ttl",e.next=5,(0,v.findAppInstances)(t,n,!0);case 5:if(!(t.instances&&t.instances.length>0)){e.next=10;break}t.bookmarkDocument=t.instances[0],t.instances.length>1&&s.warn("More than one bookmark file! "+t.instances),e.next=28;break;case 10:if(!t.publicProfile){e.next=27;break}return i=x.sym(t.publicProfile.dir().uri+r),e.prev=12,s.log("Creating new bookmark file "+i),e.next=16,g.store.fetcher.createIfNotExists(i);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(12),s.warn("Can't make fresh bookmark file:"+e.t0),e.abrupt("return",t);case 22:return e.next=24,(0,g.registerInTypeIndex)(i,t.index,n);case 24:t.bookmarkDocument=i,e.next=28;break;case 27:s.warn("You seem to have no bookmark file, nor even a profile file!");case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function T(e,t){return P.apply(this,arguments)}function P(){return(P=(0,a.default)(o.default.mark((function e(t,n){var r,i,a,l,c,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",i=g.authn.currentUser()){e.next=4;break}throw new Error("Must be logged on to add Bookmark");case 4:return a=g.store.any(n,u.foaf("maker")),r=k(a)+": "+g.store.anyValue(n,u.sioc("content")).slice(0,80),l=t.bookmarkDocument,c=w.widgets.newThing(l,r),d=[x.st(l,w.ns.dct("references"),c,l),x.st(c,w.ns.rdf("type"),E("Bookmark"),l),x.st(c,w.ns.dct("created"),new Date,l),x.st(c,E("recalls"),n,l),x.st(c,w.ns.foaf("maker"),i,l),x.st(c,w.ns.dct("title"),r,l)],e.prev=9,e.next=12,C([],d);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(9),p="Making bookmark: "+e.t0,s.warn(p),e.abrupt("return",null);case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}function O(e,t,n){return I.apply(this,arguments)}function I(){return(I=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.store.fetcher.load(t.bookmarkDocument);case 2:if(!(i=g.store.each(null,E("recalls"),n,t.bookmarkDocument)).length){e.next=24;break}if(confirm("Delete bookmark on this?"+i.length)){e.next=6;break}return e.abrupt("return");case 6:a=0;case 7:if(!(a<i.length)){e.next=22;break}return e.prev=8,e.next=11,C(g.store.connectedStatements(i[a]),[]);case 11:r.style.backgroundColor="white",s.log("Bookmark deleted: "+i[a]),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),s.error("Cant delete bookmark:"+e.t0),s.warn("Cannot delete bookmark:"+e.t0);case 19:a++,e.next=7;break;case 22:e.next=29;break;case 24:return e.next=26,T(t,n);case 26:l=e.sent,r.style.backgroundColor="yellow",s.log("Bookmark added: "+l);case 29:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function N(){return N=(0,a.default)(o.default.mark((function e(t,n){var r,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return i=(0,a.default)(o.default.mark((function e(n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.store.fetcher.load(t.bookmarkDocument);case 2:r=g.store.any(null,E("recalls"),n.target,t.bookmarkDocument),n.style=w.style.buttonStyle,r&&(n.style.backgroundColor="yellow");case 5:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},!t.bookmarkDocument){e.next=8;break}return(s=w.widgets.button(S,w.icons.iconBase+_,k(E("Bookmark")),(function(){O(t,n,s)}))).target=n,e.next=7,r(s);case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}},96472:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatChannel=void 0,t.allVersions=function(e){return b.apply(this,arguments)},t.isDeleted=function(e){return d.store.holds(e,p.schema("dateDeleted"),null,e.doc())},t.isHidden=function(e){return this.isDeleted(e)||this.isReplaced(e)},t.isReplaced=function(e){return d.store.holds(e,p.dct("isReplacedBy"),null,e.doc())},t.mostRecentVersion=x,t.nick=function(e){var t=d.store.any(e,p.foaf("nick"));return t?""+t.value:""+h.label(e)},t.originalVersion=function(e){return w.apply(this,arguments)};var o=r(n(54756)),a=r(n(29293)),s=r(n(17383)),l=r(n(34579)),c=y(n(82902)),u=n(66270),d=n(23451),p=y(n(62054)),f=y(n(67364)),h=y(n(37499)),m=n(71546),g=n(65946);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function b(){return(b=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[t],(r={})[t.uri]=!0,i=t;case 4:if((a=d.store.any(null,p.dct("isReplacedBy"),i,i.doc()))&&!r[a.uri]){e.next=8;break}return e.abrupt("break",15);case 8:return e.next=10,d.store.fetcher.load(a);case 10:n.unshift(a),r[a.uri]=!0,i=a,e.next=4;break;case 15:i=t;case 16:if((s=d.store.any(i,p.dct("isReplacedBy"),null,i.doc()))&&!r[s.uri]){e.next=20;break}return e.abrupt("break",25);case 20:n.push(s),r[s.uri]=!0,i=s,e.next=16;break;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r={};case 2:if(!n){e.next=13;break}if(!r[n.uri]){e.next=6;break}return c.error("originalVersion: verion loop"+t),e.abrupt("return",t);case 6:return r[n.uri]=!0,t=n,e.next=10,d.store.fetcher.load(t);case 10:n=d.store.any(null,p.dct("isReplacedBy"),t,t.doc()),e.next=2;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return E.apply(this,arguments)}function E(){return(E=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r={};case 2:if(!n){e.next=13;break}if(!r[n.uri]){e.next=6;break}return c.error("mostRecentVersion: verion loop"+t),e.abrupt("return",t);case 6:return r[n.uri]=!0,t=n,e.next=10,d.store.fetcher.load(t);case 10:n=d.store.any(t,p.dct("isReplacedBy"),null,t.doc()),e.next=2;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.ChatChannel=function(){return(0,l.default)((function e(t,n){(0,s.default)(this,e),this.channel=t,this.channelRoot=t.doc(),this.options=n,this.dateFolder=new u.DateFolder(this.channelRoot,"chat.ttl"),this.div=null}),[{key:"createMessage",value:(r=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateMessage(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateMessage",value:(n=(0,a.default)((function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.default.mark((function a(){var s,l,u,h,v,y,b,w,E,_,k,S,C,A,T;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(s=[],l=new Date,u=""+l.getTime(),h=f.term(l),v=n?n.doc():t.dateFolder.leafDocumentFromDate(l),y=d.store.sym(v.uri+"#Msg"+u),b=d.authn.currentUser(),(w=(0,m.getBlankMsg)()).id=y.uri,!n){o.next=27;break}if((E=d.store.any(n,p.foaf("maker"))).uri!==b.uri){o.next=21;break}return o.next=14,x(n);case 14:_=o.sent,s.push(f.st(_,p.dct("isReplacedBy"),y,v)),(k=d.store.any(_,p.sioc("has_reply")))&&s.push(f.st(y,p.sioc("has_reply"),k,v)),r&&s.push(f.st(y,p.schema("dateDeleted"),h,v)),o.next=25;break;case 21:throw S="Error you cannot delete/edit a message from someone else : \n"+E.uri,c.warn(S),alert(S),new Error(S);case 25:o.next=28;break;case 27:s.push(f.st(t.channel,p.wf("message"),y,v));case 28:if(s.push(f.st(y,p.sioc("content"),d.store.literal(e),v)),w.content=e,s.push(f.st(y,p.dct("created"),h,v)),w.created=h.value,!b){o.next=40;break}return s.push(f.st(y,p.foaf("maker"),b,v)),w.maker=b.uri,o.next=37,(0,g.getPrivateKey)(b);case 37:C=o.sent,A=(0,m.signMsg)(w,C),s.push(f.st(y,f.sym("".concat(m.SEC,"proofValue")),f.lit(A),v));case 40:return i&&(s.push(f.st(i,p.sioc("has_member"),y,v)),i.doc().sameTerm(y.doc())||s.push(f.st(i,p.sioc("has_member"),y,i.doc()))),o.prev=41,o.next=44,d.store.updater.updateMany([],s);case 44:o.next=52;break;case 46:throw o.prev=46,o.t0=o.catch(41),T="Error saving chat message: "+o.t0,c.warn(T),alert(T),new Error(T);case 52:return o.abrupt("return",y);case 53:case"end":return o.stop()}}),a,null,[[41,46]])}))()})),function(e){return n.apply(this,arguments)})},{key:"deleteMessage",value:(t=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateMessage("(message deleted)",t,!0));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createThread",value:(e=(0,a.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.store.each(t,p.sioc("has_reply"),null,t.doc()).filter((function(e){return d.store.holds(e,p.rdf("type"),p.sioc("Thread"),e.doc())})),!(n.length>0)){e.next=3;break}return e.abrupt("return",n[0]);case 3:return r=f.sym(t.uri+"-thread"),i=[f.st(r,p.rdf("type"),p.sioc("Thread"),r.doc()),f.st(t,p.sioc("has_reply"),r,r.doc())],e.next=7,d.store.updater.update([],i);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]);var e,t,n,r}()},66270:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.DateFolder=void 0,t.emptyLeaf=m;var o=r(n(54756)),a=r(n(17383)),s=r(n(34579)),l=r(n(29293)),c=h(n(82902)),u=n(23451),d=h(n(62054)),p=h(n(67364));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function m(e){return g.apply(this,arguments)}function g(){return(g=(0,l.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.store.fetcher.load(t);case 2:return e.abrupt("return",!(u.store.statementsMatching(null,d.dct("created"),null,t).length>0));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.DateFolder=function(){return(0,s.default)((function e(t,n,r){(0,a.default)(this,e),this.root=t,this.rootFolder=t.dir(),this.leafFileName=n||"index.ttl",this.membershipProperty=r||d.wf("leafObject")}),[{key:"leafDocumentFromDate",value:function(e){var t=e.toISOString().split("T")[0].replace(/-/g,"/");return t=this.root.dir().uri+t+"/"+this.leafFileName,u.store.sym(t)}},{key:"dateFromLeafDocument",value:function(e){var t=this.rootFolder.uri.length,n=e.uri.slice(t,t+10).replace(/\//g,"-");return new Date(n)}},{key:"loadPrevious",value:(t=(0,l.default)(o.default.mark((function e(t,n){var r,i,a,s,p,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){return(i=(0,l.default)(o.default.mark((function e(t,i){var a,s,l,p,f,h,m,g,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){return(e=e.filter(s)).sort(),n||e.reverse(),e.pop()},s=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},a=function(e){return!(n?e.uri>=t.uri:e.uri<=t.uri)},p=t.dir(),e.prev=4,e.next=7,u.store.fetcher.load(p);case 7:if(f=(f=u.store.each(p,d.ldp("contains"))).filter(a),!(h=l(f))){e.next=12;break}return e.abrupt("return",h);case 12:e.next=22;break;case 14:if(e.prev=14,e.t0=e.catch(4),!e.t0.response||!e.t0.response.status||404!==e.t0.response.status){e.next=20;break}c.log("Error 404 for chat parent file "+p),e.next=22;break;case 20:throw c.log("*** Error NON 404 for chat parent file "+p),new Error("*** ".concat(e.t0.message," for chat folder ").concat(p));case 22:if(0!==i){e.next=24;break}return e.abrupt("return",null);case 24:return e.next=26,r(p,i-1);case 26:if(m=e.sent){e.next=29;break}return e.abrupt("return",null);case 29:return e.next=31,u.store.fetcher.load(m);case 31:return g=u.store.each(m,d.ldp("contains")),v=l(g),e.abrupt("return",v);case 34:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)},r=function(e,t){return i.apply(this,arguments)},a=this.leafDocumentFromDate(t).dir();case 3:return e.next=6,r(a,3);case 6:if(!(s=e.sent)){e.next=20;break}return p=u.store.sym(s.uri+this.leafFileName),f=this.dateFromLeafDocument(p),e.next=12,m(p);case 12:if(e.sent){e.next=16;break}return e.abrupt("return",f);case 16:t=f,a=this.leafDocumentFromDate(t).dir();case 18:e.next=21;break;case 20:return e.abrupt("return",null);case 21:e.next=3;break;case 23:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"firstLeaf",value:(e=(0,l.default)(o.default.mark((function e(t){var n,r,i,a,s,u,f,h,m,g,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=(0,l.default)(o.default.mark((function e(i){var a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},delete r.requested[i.uri],e.next=4,r.load(i,{force:!0});case 4:if(0!==(s=(s=n.each(i,d.ldp("contains"))).filter(a)).length){e.next=8;break}throw new Error(" @@@  No children to         parent2 "+i);case 8:return s.sort(),t&&s.reverse(),e.abrupt("return",s[0]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},n=p.graph(),r=new p.Fetcher(n),e.next=6,i(this.root.dir());case 6:return s=e.sent,e.next=9,i(s);case 9:return u=e.sent,e.next=12,i(u);case 12:return f=e.sent,h=p.sym(f.uri+"chat.ttl"),e.next=16,r.load(h);case 16:if(0!==(m=n.each(this.root,this.membershipProperty,null,h)).length){e.next=21;break}throw g="  INCONSISTENCY -- no chat leafObject in file "+h,c.trace(g),new Error(g);case 21:return(v=m.map((function(e){return[n.any(e,d.dct("created")),e]}))).sort(),t&&v.reverse(),e.abrupt("return",v[0][1]);case 25:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t}()},94426:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.desktopNotification=b,t.infiniteMessageArea=function(e,t,n,r){return E.apply(this,arguments)},t.insertMessageIntoTable=w;var o=r(n(54756)),a=r(n(29293)),s=g(n(67364)),l=n(23451),c=g(n(82902)),u=n(4901),d=g(n(62054)),p=g(n(81939)),f=n(96472),h=n(51255);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e){"Notification"in window?"granted"===Notification.permission?new Notification(e):"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&new Notification(e)})):c.warn("This browser does no t support desktop notification")}function w(e,t,n,r,i,o){return x.apply(this,arguments)}function x(){return(x=(0,a.default)(o.default.mark((function e(t,n,r,i,a,s){var l,c,u,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.renderMessageRow)(t,r,i,a,s);case 2:l=e.sent,a.selectedMessage&&a.selectedMessage.sameTerm(r)&&(l.style.backgroundColor="yellow",a.selectedElement=l,n.selectedElement=l),c=!1,u=n.firstChild;case 6:if(u){e.next=8;break}return e.abrupt("break",17);case 8:if(d=!0===a.newestfirst,!((p=l.AJAR_date)>u.AJAR_date&&d||p<u.AJAR_date&&!d)){e.next=14;break}return n.insertBefore(l,u),c=!0,e.abrupt("break",17);case 14:u=u.nextSibling,e.next=6;break;case 17:c||n.appendChild(l);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return E=(0,a.default)(o.default.mark((function e(t,n,r,i){var m,g,y,x,E,_,k,S,C,A,T,P,O,I,N,F,L,R,j,M,D,U,B,H,q,W,z,V,$,K,G,J;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=function(){return(j=(0,a.default)(o.default.mark((function e(){var t,n,r,a,s,l,c,u,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){i.selectedElement?i.selectedElement.scrollIntoView({block:"center"}):W.inputRow.scrollIntoView&&W.inputRow.scrollIntoView(M)},t=function(){d&&d.selectedElement&&d.selectedElement.scrollIntoView({block:"center"})},i.selectedMessage&&(a=i.selectedMessage.doc()),z&&(s=z.doc()),(l=a||s)&&(c=new Date,u=U.leafDocumentFromDate(c),r=u.sameTerm(l)),!l||r){e.next=18;break}return p=U.dateFromLeafDocument(l),e.next=10,S(p,r);case 10:d=e.sent,B.appendChild(d),V.messageTable=d,$.messageTable=d,t(),setTimeout(t,1e3),e.next=22;break;case 18:return e.next=20,I();case 20:V.messageTable=W,$.messageTable=W;case 22:return e.next=24,F(null,n);case 24:B.addEventListener("scroll",F),i.solo&&document.body.addEventListener("scroll",F);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=function(){return j.apply(this,arguments)},L=function(){return(L=(0,a.default)(o.default.mark((function e(t,n){var r,a,s,l,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return");case 2:J=!0,r=!n,a=150;case 5:if(!(B.scrollTop<a&&V.messageTable&&!V.messageTable.initial&&V.messageTable.extendBackwards)){e.next=20;break}if(0!==B.scrollHeight){e.next=10;break}return setTimeout(F,2e3),J=!1,e.abrupt("return");case 10:return l=B.scrollHeight-B.scrollTop,e.next=13,V.messageTable.extendBackwards();case 13:if(s=e.sent,r&&(B.scrollTop=B.scrollHeight-l),n&&n(),!s){e.next=18;break}return e.abrupt("break",20);case 18:e.next=5;break;case 20:if(!(i.selectedMessage&&B.scrollHeight-B.scrollTop-B.clientHeight<a&&$.messageTable&&!$.messageTable.final&&$.messageTable.extendForwards)){e.next=31;break}return c=B.scrollTop,e.next=24,$.messageTable.extendForwards();case 24:if(s=e.sent,r&&(B.scrollTop=c),n&&n(),!s){e.next=29;break}return e.abrupt("break",31);case 29:e.next=20;break;case 31:J=!1;case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)},F=function(e,t){return L.apply(this,arguments)},N=function(){return(N=(0,a.default)(o.default.mark((function e(){var t,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=U.leafDocumentFromDate(t),e.next=4,S(t,!0);case 4:return i=e.sent,B.appendChild(i),B.refresh=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(new Date);case 2:return e.next=4,m(r,i);case 4:b(r);case 5:case"end":return e.stop()}}),e)}))),l.store.updater.addDownstreamChangeListener(n,B.refresh),W=i,$.messageTable=W,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},I=function(){return N.apply(this,arguments)},O=function(){return(O=(0,a.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=U.leafDocumentFromDate(new Date)).sameTerm($.messageTable.chatDocument)){e.next=7;break}return W.inputRow&&(W.removeChild(W.inputRow),delete W.inputRow),n=$.messageTable.chatDocument,e.next=6,I();case 6:if(!l.store.holds(n,d.rdfs("seeAlso"),t,n)){r=[s.st(n,d.rdfs("seeAlso"),t,n)];try{l.store.updater.update([],r)}catch(e){alert("Unable to link old chat file to new one:"+e)}}case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},P=function(){return O.apply(this,arguments)},T=function(){return T=(0,a.default)(o.default.mark((function e(n,r){var s,c,f,m,g,b,w,x,_,S,C,A,T,P,O,I,N,F;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){return(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.extendedForwards){e.next=6;break}k(!1,_),_.extendedForwards=!1,x(),e.next=9;break;case 6:return e.next=8,b();case 8:$.messageTable.scrollIntoView(M);case 9:case"end":return e.stop()}}),e)}))).apply(this,arguments)}),x=function(){if(c){var e=_.extendedForwards?!M:M,t=_.final?"noun_T-Block_1114657_000000.svg":function(e){return e?"noun_1369237.svg":"noun_1369241.svg"}(e);c.firstChild.setAttribute("src",u.icons.iconBase+t)}},w=function(){return(w=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(!1);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},b=function(){return w.apply(this,arguments)},g=function(){if(s){var e=_.extendedBack?!M:M,t=_.initial?"noun_T-Block_1114655_000000.svg":function(e){return e?"noun_1369241.svg":"noun_1369237.svg"}(e);s.firstChild.setAttribute("src",u.icons.iconBase+t)}},m=function(){return(m=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(!0);case 2:return(t=e.sent)?(s&&(s.firstChild.setAttribute("src",u.icons.iconBase+"noun_T-Block_1114655_000000.svg"),s.disabled=!0),_.initial=!0):_.extendedBack=!0,g(),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},f=function(){return m.apply(this,arguments)},s=null,c=null,(_=t.createElement("table")).style.width="100%",_.extendBackwards=f,_.extendForwards=b,_.date=n,S=U.leafDocumentFromDate(n),_.chatDocument=S,_.fresh=!1,_.setAttribute("style","width: 100%;"),r&&(_.final=!0,W=_,$.messageTable=_,C=(0,h.renderMessageEditor)(D,_,q,i),M?_.insertBefore(C,_.firstChild):_.appendChild(C),_.inputRow=C),(A=t.createElement("tr")).appendChild(t.createElement("td")),(T=A.appendChild(t.createElement("td"))).style="text-align: center; vertical-align: middle; color: #888; font-style: italic;",T.textContent=p.shortDate(n.toISOString(),!0),P=A.appendChild(t.createElement("td")),i.includeRemoveButton&&P.appendChild(p.cancelButton(t,(function(e){B.parentNode.removeChild(B)}))),_.extendedForwards=!1,M?_.appendChild(A):_.insertBefore(A,_.firstChild),O=l.store.statementsMatching(null,d.wf("message"),null,S),!r&&O.length,I=v(O),e.prev=25,I.s();case 27:if((N=I.n()).done){e.next=33;break}return F=N.value,e.next=31,y(F.object,_);case 31:e.next=27;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(25),I.e(e.t0);case 38:return e.prev=38,I.f(),e.finish(38);case 41:return _.fresh=!0,e.abrupt("return",_);case 43:case"end":return e.stop()}}),e,null,[[25,35,38,41]])}))),T.apply(this,arguments)},A=function(e,t){return T.apply(this,arguments)},C=function(){return(C=(0,a.default)(o.default.mark((function e(n,r){var i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=U.leafDocumentFromDate(n),e.prev=1,e.next=4,l.store.fetcher.createIfNotExists(i);case 4:e.next=19;break;case 6:if(e.prev=6,e.t0=e.catch(1),a=t.createElement("table"),s=a.appendChild(t.createElement("tr")),!e.t0.response||!e.t0.response.status||404!==e.t0.response.status){e.next=16;break}return e.next=13,A(n,r);case 13:return e.abrupt("return",e.sent);case 16:c.log("*** Error NON 404 for chat file "+i),s.appendChild(p.errorMessageBlock(t,e.t0,"pink"));case 18:return e.abrupt("return",s);case 19:return e.next=21,A(n,r);case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)},S=function(e,t){return C.apply(this,arguments)},k=function(e,t){if(e?M:!M)for(;t.nextSibling;)B.removeChild(t.nextSibling);else for(;t.previousSibling;)B.removeChild(t.previousSibling);(e?V:$).messageTable=t},_=function(){return(_=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,s,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t?V:$).messageTable.date,!(t&&V.limit&&r<=V.limit)){e.next=7;break}if(W){e.next=6;break}return e.next=6,I();case 6:return e.abrupt("return",!0);case 7:return e.next=9,U.loadPrevious(r,t);case 9:if((r=e.sent)||t||W){e.next=13;break}return e.next=13,I();case 13:if(r){e.next=15;break}return e.abrupt("return",!0);case 15:return i=!1,t||(a=U.leafDocumentFromDate(new Date),s=U.leafDocumentFromDate(r),i=s.sameTerm(a)),e.next=19,S(r,i);case 19:return l=e.sent,n.messageTable=l,(t?M:!M)?B.appendChild(l):B.insertBefore(l,B.firstChild),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},E=function(e){return _.apply(this,arguments)},x=function(){return x=(0,a.default)(o.default.mark((function e(t,n){var r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,f.isDeleted)(t)||i.showDeletedMessages){e.next=2;break}return e.abrupt("return");case 2:if(r=l.store.any(null,d.sioc("has_member"),t,t.doc()),(a=l.store.any(t,d.sioc("id"),null,t.doc()))&&!r&&(r=l.store.any(null,d.sioc("has_member"),a,t.doc())),!i.thread){e.next=15;break}if(!l.store.holds(t,d.sioc("has_reply"),i.thread)){e.next=9;break}e.next=13;break;case 9:if(!r||!r.sameTerm(i.thread)){e.next=12;break}e.next=13;break;case 12:return e.abrupt("return");case 13:e.next=19;break;case 15:if(!r){e.next=19;break}return e.abrupt("return");case 19:if(n.fresh){e.next=22;break}return e.next=22,w(D,n,t,n.fresh,i,q);case 22:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)},y=function(e,t){return x.apply(this,arguments)},g=function(){return g=(0,a.default)(o.default.mark((function e(t,n){var r,i,a,s,c,u,f,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r={},i=n.firstChild;i;i=i.nextSibling)i.AJAR_subject&&(r[i.AJAR_subject.uri]=!0);s=l.store.each(t,d.wf("message"),null,n.chatDocument),c={},u=v(s),e.prev=5,u.s();case 7:if((f=u.n()).done){e.next=15;break}if(h=f.value,c[h.uri]=!0,r[h.uri]){e.next=13;break}return e.next=13,y(h,n);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),u.e(e.t0);case 20:return e.prev=20,u.f(),e.finish(20);case 23:for(i=n.firstChild;i;)a=i.nextSibling,i.AJAR_subject&&!c[i.AJAR_subject.uri]&&n.removeChild(i),i=a;for(i=n.firstChild;i;i=i.nextSibling)i.AJAR_subject&&p.refreshTree(i);case 25:case"end":return e.stop()}}),e,null,[[5,17,20,23]])}))),g.apply(this,arguments)},m=function(e,t){return g.apply(this,arguments)},(i=i||{}).authorDateOnLeft=!1,M="1"===i.newestFirst||!0===i.newestFirst,D=new f.ChatChannel(r,i),U=D.dateFolder,B=t.createElement("div"),D.div=B,H=B.appendChild(t.createElement("div")),q={dom:t,statusArea:H,div:H},V={messageTable:null},$={messageTable:null},i.thread&&(K=i.thread,(z=l.store.any(null,d.sioc("has_reply"),K,K.doc()))&&(G=l.store.any(z,d.dct("created"),null,z.doc()))&&(V.limit=new Date(G.value))),J=!1,e.next=34,R();case 34:return e.abrupt("return",B);case 35:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}},65946:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.generatePrivateKey=v,t.generatePublicKey=y,t.getPrivateKey=function(e){return w.apply(this,arguments)},t.getPublicKey=function(e){return b.apply(this,arguments)};var o=r(n(54756)),a=r(n(29293)),s=g(n(82902)),l=n(8510),c=n(99175),u=g(n(62054)),d=n(23451),p=g(n(67364)),f=n(20760),h=n(27472);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function v(){return(0,c.bytesToHex)(l.schnorr.utils.randomPrivateKey())}function y(e){return(0,c.bytesToHex)(l.schnorr.getPublicKey(e))}function b(){return(b=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.store.fetcher.load(t);case 2:return e.next=4,(0,f.pubKeyUrl)(t);case 4:return n=e.sent,e.prev=5,e.next=8,d.store.fetcher.load(n);case 8:return r=d.store.any(t,u.solid("publicKey")),e.abrupt("return",null==r?void 0:r.value);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function w(){return(w=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,l,c,m,g,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.store.fetcher.load(t);case 2:return e.next=4,(0,f.pubKeyUrl)(t);case 4:return n=e.sent,e.next=7,(0,f.privKeyUrl)(t);case 7:return r=e.sent,e.next=10,(0,f.getExistingPublicKey)(t,n);case 10:return i=e.sent,e.next=13,(0,f.getExistingPrivateKey)(t,r);case 13:if(a=e.sent,l=!0,a&&i!==y(a)&&confirm("This is strange the publicKey is not valid for\n"+(null==t?void 0:t.uri)+"'shall we repair keeping the private key ?")&&(l=!1),a&&i&&l){e.next=34;break}if(c=[],m=[],a){e.next=24;break}return a=v(),m=[p.st(t,u.solid("privateKey"),p.literal(a),d.store.sym(r))],e.next=24,E(r,[],m,t.uri);case 24:if(i&&l){e.next=31;break}return c=[],i&&(c=[p.st(t,u.solid("publicKey"),p.lit(i),d.store.sym(n))],s.log("delete invalid publicKey "+c)),g=y(a),m=[p.st(t,u.solid("publicKey"),p.literal(g),d.store.sym(n))],e.next=31,E(n,c,m);case 31:return b=r.substring(0,r.lastIndexOf("/")+1),e.next=34,(0,h.setAcl)(b,(0,h.keyContainerAclBody)(t.uri));case 34:return e.abrupt("return",a);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.store.fetcher.load(t);case 2:if(!(n=d.store.any(d.store.sym(t),d.store.sym("http://www.iana.org/assignments/link-relations/acl")))){e.next=16;break}return e.prev=4,e.next=7,d.store.fetcher.webOperation("DELETE",n.value);case 7:r=e.sent,s.log("delete keyAcl"+n.value+" "+r.status),e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(4),404===e.t0.response.status){e.next=15;break}throw new Error(e.t0);case 15:s.log("delete keyAcl"+n.value+" "+e.t0.response.status);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();function E(e,t,n){return _.apply(this,arguments)}function _(){return _=(0,a.default)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return o.default.mark((function i(){var a;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,x(e);case 2:return i.next=4,d.store.updater.updateMany(t,n);case 4:return a=(0,h.keyAclBody)(e,r),i.next=7,(0,h.setAcl)(e,a);case 7:case"end":return i.stop()}}),i)}))()})),_.apply(this,arguments)}},51255:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.creatorAndDate=j,t.creatorAndDateHorizontal=M,t.elementForImageURI=F,t.renderMessageEditor=B,t.renderMessageRow=function(e,t,n,r,i){return D.apply(this,arguments)},t.switchToEditor=function(e,t,n,r){return U.apply(this,arguments)};var o=r(n(54756)),a=r(n(43693)),s=r(n(29293)),l=n(94426),c=n(99552),u=n(33909),d=n(96472),p=S(n(82902)),f=n(4901),h=n(23451),m=n(47822),g=n(18406),v=S(n(62054)),y=S(n(51712)),b=S(n(5148)),w=S(n(37499)),x=S(n(81939)),E=n(71546),_=n(65946);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=window.document,I=b.messageBodyStyle,N=w.label;function F(e,t){var n=O.createElement("img"),r="10";t.inlineImageHeightEms&&(r=(""+t.inlineImageHeightEms).trim()),n.setAttribute("style","max-height: "+r+"em; border-radius: 1em; margin: 0.7em;"),e&&n.setAttribute("src",e);var i=O.createElement("a");return i.setAttribute("href",e),i.setAttribute("target","images"),i.appendChild(n),x.makeDraggable(n,$rdf.sym(e)),i}var L=function(e,t){var n=O.createElement("a");return t&&t.uri&&(n.setAttribute("href",t.uri),n.addEventListener("click",x.openHrefInOutlineMode,!0),n.setAttribute("style","color: #3B5998; text-decoration: none; ")),n.textContent=e,n};function R(e){var t=h.store.any(e,v.foaf("nick"));return t?""+t.value:""+N(e)}function j(e,t,n,r){var i=e.appendChild(L(R(t),t));t.uri&&h.store.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(e,n){i.textContent=R(t)})),e.appendChild(O.createElement("br")),e.appendChild(L(n,r))}function M(e,t,n,r){var i=e.appendChild(L(N(t),t));t.uri&&h.store.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(e,n){i.textContent=R(t)}));var o=e.appendChild(L(n,r));o.style.fontSize="80%",o.style.marginLeft="1em",e.appendChild(O.createElement("br"))}function D(){return D=(0,s.default)(o.default.mark((function e(t,n,r,i,a){var l,u,m,g,b,w,k,S,C,P,N,L,R,D,U,B,H,q,W,z,V,$,K,G,J,Q,Y,X,Z,ee,te,ne,re,ie,oe;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne=function(e){return e?"#e8ffe8":"white"},l=!1,u="1"===i.colorizeByAuthor||!0===i.colorizeByAuthor,m=h.store.any(n,v.foaf("maker")),g=h.store.any(n,v.dct("created")),e.next=7,(0,d.mostRecentVersion)(n);case 7:return b=e.sent,w=h.store.any(b,v.foaf("maker")),k=m.uri===(null==w?void 0:w.uri)?b:n,S=h.store.any(k,v.sioc("content")),e.next=13,(0,d.allVersions)(k);case 13:(C=e.sent).length>1&&p.log("renderMessageRow versions: ",C.join(",  ")),P=C.map((function(e){return h.store.each(e,v.sioc("has_reply"))})).flat(),N=null,L=[],R=T(P);try{for(R.s();!(D=R.n()).done;)U=D.value,h.store.holds(U,v.rdf("type"),v.sioc("Thread"))?(N=U,p.log("renderMessageRow: found thread: "+N)):L.push(U)}catch(e){R.e(e)}finally{R.f()}return L.length>1&&p.log("renderMessageRow: found normal replies: ",L),N||(N=h.store.any(null,v.sioc("has_member"),n)),B=h.store.any(k,$rdf.sym("".concat(E.SEC,"proofValue"))),(H=(0,E.getBlankMsg)()).id=k.uri,H.created=h.store.any(k,v.dct("created")).value,H.content=S.value,H.maker=m.uri,null!=B&&B.value?(0,_.getPublicKey)(m).then((function(e){e||p.warn("message is signed but "+m.uri+" is missing publicKey"),null!=e&&e.match(/[0-9A-Fa-f]{6}/g)?null!=B&&B.value&&!(0,E.verifySignature)(null==B?void 0:B.value,H,e)&&p.warn("invalid signature\n"+H.id):p.warn("invalid publicKey hex string\n"+m.uri+"\n"+e)})):(l=!0,p.warn(k.uri+" is unsigned")),e.next=31,(0,d.originalVersion)(n);case 31:return q=e.sent,W=!n.sameTerm(q),z=h.store.the(q,v.dct("created"),null,q.doc())||h.store.the(n,v.dct("created"),null,n.doc()),V=O.createElement("tr"),l&&V.setAttribute("style","background-color: red"),V.AJAR_date=z.value,V.AJAR_subject=n,$=O.createElement("td"),V.appendChild($),i.authorDateOnLeft?j($,m,x.shortDate(z.value),n):((K=O.createElement("img")).setAttribute("style","max-height: 2.5em; max-width: 2.5em; border-radius: 0.5em; margin: auto;"),x.setImage(K,m),$.appendChild(K)),G=x.shortDate(z.value),W&&(G+=" ... "+x.shortDate(g.value)),J=V.appendChild(O.createElement("td")),i.authorDateOnLeft||M(J,m,G,n),Q=S?S.value.trim():"??? no content?",Y=/^https?:\/[^ <>]*$/i.test(Q),X=null,Y?/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test(Q)&&i.expandImagesInline?(Z=F(Q,i),J.appendChild(Z)):(ee=J.appendChild(O.createElement("a")),X=ee.appendChild(O.createElement("p")),ee.href=Q,X.textContent=Q,J.appendChild(ee)):(X=O.createElement("p"),J.appendChild(X),X.textContent=Q),X&&(te=u?y.lightColorHash(m):ne(r),X.setAttribute("style",I+"background-color: "+te+";")),e.next=52,(0,c.sentimentStripLinked)(n,n.doc());case 52:return(re=e.sent).children.length&&(J.appendChild(O.createElement("br")),J.appendChild(re)),ie=O.createElement("td"),V.appendChild(ie),oe=x.button(O,f.icons.iconBase+"noun_243787.svg","..."),ie.appendChild(oe),oe.addEventListener("click",function(){var e=(0,s.default)(o.default.mark((function e(r){var s,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.toolTR){e.next=4;break}return V.parentNode.removeChild(V.toolTR),delete V.toolTR,e.abrupt("return");case 4:return s=O.createElement("tr"),e.next=7,(0,c.messageToolbar)(n,V,A(A({},a),{},{chatOptions:i}),t);case 7:(l=e.sent).style="border: 0.05em solid #888; border-radius: 0 0 0.7em 0.7em;  border-top: 0; height:3.5em; background-color: #fff;",V.nextSibling?V.parentElement.insertBefore(s,V.nextSibling):V.parentElement.appendChild(s),V.toolTR=s,s.appendChild(O.createElement("td")),u=s.appendChild(O.createElement("td")),s.appendChild(O.createElement("td")),u.appendChild(l);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N&&i.showThread&&ie.appendChild(x.button(O,f.icons.iconBase+"noun_1180164.svg","see thread",(function(e){i.showThread(N,i)}))),e.abrupt("return",V);case 61:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function U(){return(U=(0,s.default)(o.default.mark((function e(t,n,r,i){var a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.parentNode,e.t0=B,e.t1=r,e.t2=a,e.t3=i,e.t4=r.options,e.next=8,(0,d.mostRecentVersion)(n);case 8:e.t5=e.sent,s=(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5),a.insertBefore(s,t),s.originalRow=t,t.style.visibility="hidden";case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n,r,i){function a(e){return c.apply(this,arguments)}function c(){return(c=(0,s.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(C.value,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return w.apply(this,arguments)}function w(){return w=(0,s.default)(o.default.mark((function a(c,u){var d,f,h;return o.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f=function(){return f=(0,s.default)(o.default.mark((function a(s,c){var d;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,l.insertMessageIntoTable)(e,t,s,!1,r,n);case 2:i?((d=P.originalRow).parentNode?d.parentNode.removeChild(d):(p.warn("No parentNode on old message "+d.textContent),d.style.backgroundColor="#fee",d.style.visibility="hidden"),P.parentNode.removeChild(P)):u&&(C.value="",C.setAttribute("style",I),C.disabled=!1,C.scrollIntoView(r.newestFirst),C.focus(),C.select());case 3:case"end":return o.stop()}}),a)}))),f.apply(this,arguments)},d=function(e,t){return f.apply(this,arguments)},u&&(C.setAttribute("style",I+"color: #bbb;"),C.disabled=!0),a.prev=3,a.next=6,e.updateMessage(c,i,null,r.thread);case 6:h=a.sent,a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(3),(n.statusArea||P).appendChild(x.errorMessageBlock(O,"Error writing message: "+a.t0)),a.abrupt("return");case 14:return a.next=16,d(h,c);case 16:case"end":return a.stop()}}),a,null,[[3,9]])}))),w.apply(this,arguments)}function E(e){var n=t.chatDocument.dir().uri;x.uploadFiles(h.store.fetcher,e,n+"Files",n+"Pictures",function(){var e=(0,s.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}var _,k,S=function(){var e=(0,s.default)(o.default.mark((function e(t){var n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,d(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}();i?(_=h.store.anyValue(i,v.dct("created"),null,i.doc()),k=f.icons.iconBase+"noun_1180158.svg"):(k=f.icons.iconBase+"noun_383448.svg",_="9999-01-01T00:00:00Z");var C,A,P=O.createElement("tr"),N=O.createElement("td"),F=O.createElement("td"),L=O.createElement("td");P.appendChild(N),P.appendChild(F),P.appendChild(L),P.AJAR_date=_;var R={div:F,dom:O};return(0,m.ensureLoggedIn)(R).then((function(t){!function(){function t(){return(t=(0,s.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,d(t.uri);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(r.menuHandler){var n=x.button(O,f.icons.iconBase+"noun_243787.svg","More");n.setAttribute("style",b.buttonStyle+"float: right;"),L.appendChild(n)}r.menuHandler;var l=h.authn.currentUser();if(j(N,l,"",null),C=O.createElement("textarea"),F.innerHTML="",F.appendChild(C),C.rows=3,i&&(C.value=h.store.anyValue(i,v.sioc("content"),null,i.doc())),C.setAttribute("style",I+"background-color: #eef;"),C.addEventListener("keydown",function(){var e=(0,s.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.code){e.next=4;break}if(!(!t.shiftKey&&!r.shiftEnterSendsMessage||t.shiftKey&&r.shiftEnterSendsMessage)){e.next=4;break}return e.next=4,a(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),x.makeDropTarget(C,S,E),L.innerHTML="",(A=x.button(O,k,"Send")).style.float="right",A.addEventListener("click",(function(e){return a()}),!1),L.appendChild(A),i){var c=L.appendChild(x.cancelButton(O));c.style.float="left",c.addEventListener("click",(function(e){return function(e){e.originalRow.style.visibility="visible",e.parentNode.removeChild(e)}(P)}),!1),L.appendChild(c)}var u=e.dateFolder.leafDocumentFromDate(new Date);F.appendChild(g.media.cameraButton(O,h.store,(function(){return $rdf.sym(u.dir().uri+"Image_"+Date.now()+".png")}),(function(e){return t.apply(this,arguments)}))),y.recordParticipation(e.channel,e.channel.doc())}(),Object.assign(t,n),(0,u.findBookmarkDocument)(t).then((function(e){}))})),P}},99552:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.ActionClassFromEmoji=function(e){for(var t in S)if(S[t]===e)return d.sym(t.slice(1,-1));return null},t.emojiFromAction=A,t.emojiFromActionClass=C,t.messageToolbar=function(e,t,n,r){return O.apply(this,arguments)},t.sentimentStrip=function(e,t){return T.apply(this,arguments)},t.sentimentStripLinked=function(e,t){return P.apply(this,arguments)};var o=r(n(54756)),a=r(n(85715)),s=r(n(29293)),l=b(n(82902)),c=n(4901),u=b(n(62054)),d=b(n(67364)),p=b(n(37499)),f=b(n(81939)),h=n(33909),m=n(23451),g=n(96472),v=n(51255);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var w=window.document,x="noun_253504.svg",E="noun_1384132.svg",_="noun_1384135.svg",k="noun-reply-5506924.svg",S={};function C(e){return S[e]||null}function A(e){var t=m.store.any(e,u.sioc("content"),null,e.doc());if(t)return t;var n=m.store.any(e,u.rdf("type"),null,e.doc());if(n){var r=C(n);if(r)return r}return"⬜️"}function T(){return(T=(0,s.default)(o.default.mark((function e(t,n){var r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.allVersions)(t);case 2:return r=e.sent,i=r.map((function(e){return m.store.each(null,u.schema("target"),e,n)})).flat(),a=i.map((function(e){return A(e)||""})),e.abrupt("return",w.createTextNode(a.join(" ")));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return P=(0,s.default)(o.default.mark((function e(t,n){var r,i,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){return(c=(0,s.default)(o.default.mark((function e(){var i,s,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.innerHTML="",!(0,g.isDeleted)(t)){e.next=3;break}return e.abrupt("return",r);case 3:return e.next=5,(0,g.allVersions)(t);case 5:if(i=e.sent,0!==(s=i.map((function(e){return m.store.each(null,u.schema("target"),e,n)})).flat()).length){e.next=9;break}return e.abrupt("return",r);case 9:(l=s.map((function(e){return[m.store.any(e,u.rdf("type"),null,n),m.store.any(e,u.sioc("content"),null,n),m.store.any(e,u.schema("agent"),null,n)]}))).sort(),l.forEach((function(e){var t,n=(0,a.default)(e,3),i=n[0],o=n[1],s=n[2];s?(t=w.createElement("a")).setAttribute("href",s.uri):t=w.createTextNode(""),t.textContent=o||S[i]||"⬜️",r.appendChild(t)}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},r=w.createElement("span"),i().then(l.log("sentimentStripLinked: sentimentStripLinked async refreshed")),r.refresh=i,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function O(){return O=(0,s.default)(o.default.mark((function e(t,n,r,i){var a,y,b,S,C,A,T,P,O,I,N,F,L,R;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F=function(e,t,r,i,a,l){function c(){g.style.backgroundColor=h?"yellow":"white"}var h,g=f.button(w,r,p.label(i),function(){var r=(0,s.default)(o.default.mark((function r(s){var p,g,y,b;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!h){r.next=7;break}return r.next=3,O(h);case 3:h=null,c(),r.next=25;break;case 7:return h=f.newThing(a),p=[d.st(h,u.schema("agent"),e.me,a),d.st(h,u.rdf("type"),i,a),d.st(h,u.schema("target"),t,a)],r.next=11,m.store.updater.update([],p);case 11:if(c(),!l){r.next=25;break}g=!1,y=0;case 15:if(!(y<l.length)){r.next=24;break}if(!(b=v(l[y]))){r.next=21;break}return r.next=20,O(b);case 20:g=!0;case 21:y++,r.next=15;break;case 24:g&&f.refreshTree(n);case 25:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());function v(n){var r=m.store.each(null,u.schema("agent"),e.me,a).filter((function(e){return m.store.holds(e,u.rdf("type"),n,a)})).filter((function(e){return m.store.holds(e,u.schema("target"),t,a)}));return r.length?r[0]:null}function y(){h=v(i),c()}return g.refresh=y,y(),g},I=function(){return(I=(0,s.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.store.updater.update(m.store.connectedStatements(t),[]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},O=function(e){return I.apply(this,arguments)},P=function(){T.parentElement.parentElement.removeChild(T.parentElement)},A=function(){return(A=(0,s.default)(o.default.mark((function e(){var n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.createThread(t);case 2:if(n=e.sent,a=r.chatOptions){e.next=6;break}throw new Error("replyInThread: missing options");case 6:a.showThread(n,a),P();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},C=function(){return A.apply(this,arguments)},S=function(){return S=(0,s.default)(o.default.mark((function e(n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.value!==m.store.any(t,u.foaf("maker")).value){e.next=4;break}return P(),e.next=4,(0,v.switchToEditor)(n,t,i,r);case 4:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)},b=function(e){return S.apply(this,arguments)},y=function(){return(y=(0,s.default)(o.default.mark((function e(){var a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.store.any(t,u.foaf("maker")),N){e.next=5;break}alert("You can't delete the message, you are not logged in."),e.next=22;break;case 5:if(!N.sameTerm(a)){e.next=21;break}return e.prev=6,e.next=9,i.deleteMessage(t);case 9:e.next=18;break;case 11:e.prev=11,e.t0=e.catch(6),s="Error deleting messaage "+e.t0,l.warn(s),alert(s),(r.statusArea||n.parentNode).appendChild(f.errorMessageBlock(w,s));case 18:n.parentNode.removeChild(n),e.next=22;break;case 21:alert("You can't delete the message, you are not logged in as the author, "+a);case 22:P();case 23:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)},a=function(){return y.apply(this,arguments)},T=w.createElement("div"),e.next=13,(0,g.mostRecentVersion)(t).value;case 13:if(e.t0=e.sent,e.t1=u.schema("dateDeleted").value,e.t0!==e.t1){e.next=17;break}return e.abrupt("return",T);case 17:if((N=m.authn.currentUser())&&m.store.holds(t,u.foaf("maker"),N)&&(T.appendChild(f.deleteButtonWithCheck(w,T,"message",a)),T.appendChild(f.button(w,c.icons.iconBase+x,"edit",(function(){return b(n)})))),(0,h.renderBookmarksButton)(r).then((function(e){e&&T.appendChild(e)})),N=m.authn.currentUser(),e.t2=N,!e.t2){e.next=28;break}return e.next=25,(0,g.mostRecentVersion)(t).value;case 25:e.t3=e.sent,e.t4=u.schema("dateDeleted").value,e.t2=e.t3!==e.t4;case 28:if(!e.t2){e.next=32;break}L={me:N,dom:w,div:T},T.appendChild(F(L,t,c.icons.iconBase+E,u.schema("AgreeAction"),t.doc(),[u.schema("DisagreeAction")])),T.appendChild(F(L,t,c.icons.iconBase+_,u.schema("DisagreeAction"),t.doc(),[u.schema("AgreeAction")]));case 32:return m.store.any(t,u.dct("created"))&&T.appendChild(f.button(w,c.icons.iconBase+k,"Reply in thread",(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:case"end":return e.stop()}}),e)}))))),(R=T.appendChild(f.cancelButton(w))).style.float="right",R.firstChild.style.opacity="0.3",R.addEventListener("click",P),e.abrupt("return",T);case 38:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}S[u.schema("AgreeAction")]="👍",S[u.schema("DisagreeAction")]="👎",S[u.schema("EndorseAction")]="⭐️",S[u.schema("LikeAction")]="❤️"},71546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEC=void 0,t.getBlankMsg=function(){return{id:"",created:"",dateDeleted:"",content:"",maker:"",sig:""}},t.getMsgHash=l,t.serializeMsg=s,t.signMsg=function(e,t){return(0,i.bytesToHex)(r.schnorr.sign(l(e),t))},t.utf8Encoder=t.utf8Decoder=void 0,t.verifySignature=function(e,t,n){return r.schnorr.verify(e,l(t),n)};var r=n(8510),i=n(99175),o=n(22623),a=(t.utf8Decoder=new TextDecoder("utf-8"),t.utf8Encoder=new TextEncoder);function s(e){return JSON.stringify(e)}function l(e){var t=(0,o.sha256)(a.encode(s(e)));return(0,i.bytesToHex)(t)}t.SEC="https://w3id.org/security#"},3672:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.newThingUI=function(e,t,n){var r=e.dom,i=e.div;if(e.me&&!e.me.uri)throw new Error("newThingUI:  Invalid userid: "+e.me);var d="padding: 0.7em; width: 2em; height: 2em;",p=i.appendChild(r.createElement("img")),h=!1;p.setAttribute("src",a.icons.iconBase+"noun_34653_green.svg"),p.setAttribute("style",d),p.setAttribute("title","Add another tool");var m=function(e){var t=i.appendChild(r.createElement("pre"));t.setAttribute("style","background-color: pink"),t.appendChild(r.createTextNode(e))};function g(e){for(var t=0;t<y.length;t++){var n=d+e;y[t].disabled&&(n+="opacity: 0.3;"),y[t].setAttribute("style",n)}}function v(e){h=!h,p.setAttribute("style",d+(h?"background-color: yellow;":"")),g(h?"":"display: none;")}p.addEventListener("click",v);var y=[],b=Object.values(n).filter((function(e){return e.mintNew})),w=b.reduce((function(e,t){return t.mintClass&&(e[t.mintClass.uri]=(e[t.mintClass.uri]||0)+1),e}),{});b.forEach((function(n){var i=e.div.appendChild(r.createElement("img"));i.setAttribute("src",n.icon);var a=n.mintClass?w[n.mintClass.uri]>1?"".concat(c.label(n.mintClass)," (using ").concat(n.name," pane)"):c.label(n.mintClass):n.name+" @@";i.setAttribute("title","Make new "+a),i.setAttribute("style",d+"display: none;"),y.push(i),i.disabled||i.addEventListener("click",(function(p){var h;!function(e){g("display: none;"),e.setAttribute("style",d+"background-color: yellow;")}(i),h={event:p,folder:e.folder||null,iconEle:i,pane:n,noun:a,noIndexHTML:!0,div:e.div,me:e.me,dom:e.dom,refreshTarget:e.refreshTarget},new Promise((function(n,i){var a;function d(n,a){(0,s.ensureLoadedProfile)(e).then((function(e){var s=Object.assign({newBase:a,folder:h.folder||void 0,workspace:n},h);for(var c in h)s[c]=h[c];o.log("newThingUI: Minting new ".concat(s.pane.name," at ").concat(s.newBase)),h.pane.mintNew(t,s).then((function(e){if(!e||!e.newInstance)throw new Error("Cannot mint new - missing newInstance");if(e.folder){var t=e.newInstance.uri.slice(e.folder.uri.length).includes("/");o.log("  new thing is packge? "+t),t?f.add(e.folder,l.ldp("contains"),f.sym(e.newBase),e.folder.doc()):f.add(e.folder,l.ldp("contains"),e.newInstance,e.folder.doc()),e.refreshTarget&&e.refreshTarget.refresh&&e.refreshTarget.refresh()}else{var n=h.div.appendChild(r.createElement("p"));n.setAttribute("style","font-size: 120%;"),n.innerHTML="Your <a target='_blank' href='"+e.newInstance.uri+"'><b>new "+h.noun+"</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+e.newInstance.uri+"'>Go to your new "+h.noun+".</a>"}v()})).catch((function(e){m(e),i(e)}))}),(function(e){m("Error logging on: "+e)}))}var p=h.pane;h.noun=p.mintClass?c.label(p.mintClass):p.name,h.appPathSegment=h.noun.slice(0,1).toUpperCase()+h.noun.slice(1),h.folder?u.askName(r,f,h.div,l.foaf("name"),null,h.noun).then((function(e){if(e){var t=h.folder.uri;t.endsWith("/")||(t+="/"),d(null,t=t+encodeURIComponent(e)+"/")}else v()})):(a=(0,s.selectWorkspace)(r,{noun:h.noun,appPathSegment:h.appPathSegment},d),h.div.appendChild(a))}))}))}))};var i=n(23451),o=p(n(82902)),a=n(4901),s=n(47822),l=p(n(62054)),c=p(n(37499)),u=p(n(81939));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var f=i.solidLogicSingleton.store},33338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=n(3672);t.create={newThingUI:r.newThingUI}},52407:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},82902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.error=function(){var e;(e=console).error.apply(e,arguments)},t.log=function(){var e;(e=console).log.apply(e,arguments)},t.trace=function(){var e;(e=console).trace.apply(e,arguments)},t.warn=function(){var e;(e=console).warn.apply(e,arguments)}},13749:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.createControllerInfoBlock=m,t.initFooter=function(e,t){return f.apply(this,arguments)},t.rebuildFooter=h;var o=r(n(54756)),a=r(n(29293)),s=n(23451),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5148)),c=n(96516);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d="https://solidproject.org",p="solidproject.org";function f(){return(f=(0,a.default)(o.default.mark((function e(t,n){var r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("PageFooter")){e.next=3;break}return e.abrupt("return");case 3:return i=(0,c.getPod)(),e.next=6,(0,c.getPodOwner)(i,t);case 6:a=e.sent,h(r,t,i,a,n)(),s.authSession.onLogin(h(r,t,i,a,n)),s.authSession.onLogout(h(r,t,i,a,n));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n,r,i){return(0,a.default)(o.default.mark((function a(){var l;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=s.authn.currentUser(),e.innerHTML="",o.t0=e,o.next=5,m(t,l,n,r,i);case 5:o.t1=o.sent,o.t0.appendChild.call(o.t0,o.t1);case 7:case"end":return o.stop()}}),a)})))}function m(e,t,n,r,i){var o=document.createElement("div");if(!n||!r||t&&t.equals(r))return o;o.setAttribute("style",l.footer);var a=document.createElement("span");a.innerText="You're visiting ";var s=document.createElement("a");s.href=n.uri,s.innerText="the Pod";var u=document.createElement("span");u.innerText=" controlled by ";var f=document.createElement("a");f.href=r.uri,f.innerText=(0,c.getName)(e,r);var h=document.createElement("span");h.innerText=". For more info, check out ";var m=document.createElement("a");m.href=i&&i.solidProjectUrl?i.solidProjectUrl:d,m.innerText=i&&i.solidProjectName?i.solidProjectName:p;var g=document.createElement("span");return g.innerText=".",o.appendChild(a),o.appendChild(s),o.appendChild(u),o.appendChild(f),o.appendChild(h),o.appendChild(m),o.appendChild(g),o}},85246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyProfile=void 0,t.emptyProfile='\n<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="#D8D8D8" stroke="#8B8B8B"/>\n    <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="white" stroke="white"/>\n    </mask>\n    <g mask="url(#mask0)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0468 10.4586C17.0468 14.4979 15.4281 16.9214 12.9999 16.9214C10.5718 16.9214 8.95298 14.4979 8.95298 10.4586C8.95298 6.41931 12.9999 6.41931 12.9999 6.41931C12.9999 6.41931 17.0468 6.41931 17.0468 10.4586ZM4.09668 23.3842C6.52483 17.7293 12.9999 17.7293 12.9999 17.7293C12.9999 17.7293 19.475 17.7293 21.9031 23.3842C21.9031 23.3842 17.8481 25 12.9999 25C8.15169 25 4.09668 23.3842 4.09668 23.3842Z" fill="#8B8B8B"/>\n    </g>\n</svg>'},46231:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.createBanner=w,t.createHelpMenu=E,t.createLoginSignUpButtons=_,t.createUserMenu=C,t.createUserMenuButton=k,t.createUserMenuItem=T,t.createUserMenuLink=S,t.getProfileImg=P,t.initHeader=function(e,t,n){return y.apply(this,arguments)},t.rebuildHeader=b;var o=r(n(54756)),a=r(n(29293)),s=n(92361),l=n(23451),c=n(47822),u=m(n(81939)),d=m(n(5148)),p=n(85246),f=n(96516);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var g=s.icons.iconBase+"noun_help.svg",v="https://solidproject.org/assets/img/solid-emblem.svg";function y(){return(y=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.getElementById("PageHeader")){e.next=3;break}return e.abrupt("return");case 3:a=(0,f.getPod)(),b(i,t,a,n,r)(),l.authSession.onLogout(b(i,t,a,n,r)),l.authSession.onLogin(b(i,t,a,n,r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r,i){return(0,a.default)(o.default.mark((function a(){var s;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=l.authn.currentUser(),e.innerHTML="",o.t0=e,o.next=5,w(t,n,s,r,i);case 5:o.t1=o.sent,o.t0.appendChild.call(o.t0,o.t1);case 7:case"end":return o.stop()}}),a)})))}function w(e,t,n,r,i){return x.apply(this,arguments)}function x(){return(x=(0,a.default)(o.default.mark((function e(t,n,r,i,a){var s,l,c,u,p,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=document.createElement("a")).href=n.uri,s.setAttribute("style",d.headerBannerLink),l=document.createElement("img"),a&&(l.src=a.logo?a.logo:v),l.setAttribute("style",d.headerBannerIcon),s.appendChild(l),!r){e.next=13;break}return e.next=10,C(t,r,i);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=_();case 14:return c=e.t0,(u=document.createElement("div")).setAttribute("style",d.headerBanner),u.appendChild(s),(p=document.createElement("div")).setAttribute("style",d.headerBannerRightMenu),p.appendChild(c),a&&a.helpMenuList&&(f=E(a,a.helpMenuList),p.appendChild(f)),u.appendChild(p),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){if(t){var n=document.createElement("ul");n.setAttribute("style",d.headerUserMenuList),t.forEach((function(e){"url"==(e.url?"url":"onclick")?n.appendChild(T(S(e.label,e.url,e.target))):n.appendChild(T(k(e.label,e.onclick)))}));var r=document.createElement("nav");r.setAttribute("style",d.headerUserMenuNavigationMenuNotDisplayed),r.setAttribute("aria-hidden","true"),r.setAttribute("id","helperNav"),r.appendChild(n);var i=document.createElement("div");i.setAttribute("style",d.headerBannerUserMenu),i.appendChild(r);var o=document.createElement("button");o.setAttribute("style",d.headerUserMenuTrigger),o.type="button";var a=document.createElement("img");a.src=e&&e.helpIcon?e.helpIcon:s.icons.iconBase+g,a.setAttribute("style",d.headerUserMenuTriggerImg),i.appendChild(o),o.appendChild(a);var l=(0,f.throttle)((function(e){return O(e,o,r)}),50);o.addEventListener("click",l);var c=setTimeout((function(){return null}),0);return i.addEventListener("mouseover",(function(e){clearTimeout(c),l(e);var t=document.getElementById("helperNav");null==t||t.setAttribute("style",d.headerUserMenuNavigationMenu)})),i.addEventListener("mouseout",(function(e){c=setTimeout((function(){return l(e)}),200);var t=document.getElementById("helperNav");null==t||t.setAttribute("style",d.headerUserMenuNavigationMenuNotDisplayed)})),i}}function _(){var e=document.createElement("div");return e.setAttribute("style",d.headerBannerLogin),e.appendChild((0,c.loginStatusBox)(document,null,{})),e}function k(e,t){var n=document.createElement("button");return n.setAttribute("style",d.headerUserMenuButton),n.onmouseover=function(){n.setAttribute("style",d.headerUserMenuButtonHover)},n.onmouseout=function(){n.setAttribute("style",d.headerUserMenuButton)},n.addEventListener("click",t),n.innerText=e,n}function S(e,t,n){var r=document.createElement("a");return r.setAttribute("style",d.headerUserMenuLink),r.onmouseover=function(){r.setAttribute("style",d.headerUserMenuLinkHover)},r.onmouseout=function(){r.setAttribute("style",d.headerUserMenuLink)},r.href=t,r.innerText=e,n&&(r.target=n),r}function C(e,t,n){return A.apply(this,arguments)}function A(){return(A=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s,l,c,u,p,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.fetcher)){e.next=4;break}return e.next=4,i.load(n);case 4:return(a=document.createElement("ul")).setAttribute("style",d.headerUserMenuList),r&&r.forEach((function(e){"url"==(e.url?"url":"onclick")?a.appendChild(T(S(e.label,e.url,e.target))):a.appendChild(T(k(e.label,e.onclick)))})),(s=document.createElement("nav")).setAttribute("style",d.headerUserMenuNavigationMenuNotDisplayed),s.setAttribute("aria-hidden","true"),s.setAttribute("id","loggedInNav"),s.appendChild(a),(l=document.createElement("button")).setAttribute("style",d.headerUserMenuTrigger),l.type="button","string"==typeof(c=P(0,n))?l.innerHTML=c:l.appendChild(c),(u=document.createElement("div")).setAttribute("style",d.headerBannerUserMenuNotDisplayed),u.appendChild(l),u.appendChild(s),p=(0,f.throttle)((function(e){return O(e,l,s)}),50),l.addEventListener("click",p),h=setTimeout((function(){return null}),0),u.addEventListener("mouseover",(function(e){clearTimeout(h),p(e);var t=document.getElementById("loggedInNav");null==t||t.setAttribute("style",d.headerUserMenuNavigationMenu)})),u.addEventListener("mouseout",(function(e){h=setTimeout((function(){return p(e)}),200);var t=document.getElementById("loggedInNav");null==t||t.setAttribute("style",d.headerUserMenuNavigationMenuNotDisplayed)})),e.abrupt("return",u);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=document.createElement("li");return t.setAttribute("style",d.headerUserMenuListItem),t.appendChild(e),t}function P(e,t){var n=null;try{if(!(n=u.findImage(t)))return p.emptyProfile}catch(e){return p.emptyProfile}var r=document.createElement("div");return r.setAttribute("style",d.headerUserMenuPhoto),r.style.backgroundImage="url(".concat(n,")"),r}function O(e,t,n){var r="true"===t.getAttribute("aria-expanded"),i="mouseover"===e.type,o="mouseout"===e.type;r&&i||!r&&o||(t.setAttribute("aria-expanded",(!r).toString()),n.setAttribute("aria-hidden",r.toString()))}},4901:(e,t,n)=>{"use strict";e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.originalIconBase=t.icons=t.iconBase=void 0;var r=n(82902),i="https://solidos.github.io/solid-ui/src",o=t.icons=e.scriptURI?{iconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/icons/",originalIconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/originalIcons/"}:"undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.iconBase?{iconBase:$SolidTestEnvironment.iconBase,originalIconBase:$SolidTestEnvironment.originalIconBase}:{iconBase:i+"/icons/",originalIconBase:i+"/originalIcons/"};(0,r.log)("   icons.iconBase is set to : "+o.iconBase),t.iconBase=o.iconBase,t.originalIconBase=o.originalIconBase},92361:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"acl",{enumerable:!0,get:function(){return a.acl}}),Object.defineProperty(t,"aclControl",{enumerable:!0,get:function(){return a.aclControl}}),Object.defineProperty(t,"authn",{enumerable:!0,get:function(){return T.authn}}),Object.defineProperty(t,"create",{enumerable:!0,get:function(){return s.create}}),t.dom=t.createTypes=void 0,Object.defineProperty(t,"icons",{enumerable:!0,get:function(){return l.icons}}),Object.defineProperty(t,"infiniteMessageArea",{enumerable:!0,get:function(){return h.infiniteMessageArea}}),Object.defineProperty(t,"initFooter",{enumerable:!0,get:function(){return C.initFooter}}),Object.defineProperty(t,"initHeader",{enumerable:!0,get:function(){return S.initHeader}}),t.login=t.log=t.language=void 0,Object.defineProperty(t,"matrix",{enumerable:!0,get:function(){return d.matrix}}),Object.defineProperty(t,"media",{enumerable:!0,get:function(){return p.media}}),Object.defineProperty(t,"messageArea",{enumerable:!0,get:function(){return f.messageArea}}),t.rdf=t.preferences=t.participation=t.pad=t.ns=void 0,Object.defineProperty(t,"store",{enumerable:!0,get:function(){return T.store}}),t.style=void 0,Object.defineProperty(t,"table",{enumerable:!0,get:function(){return b.renderTableViewPane}}),t.utils=t.tabs=void 0,Object.defineProperty(t,"versionInfo",{enumerable:!0,get:function(){return k.versionInfo}}),t.widgets=void 0;var i=O(n(67364));t.rdf=i;var o=O(n(62054));t.ns=o;var a=n(58322),s=n(33338),l=n(4901),c=O(n(37532));t.language=c;var u=O(n(9295));t.log=u;var d=n(55915),p=n(18406),f=n(52263),h=n(94426),m=O(n(51712));t.pad=m;var g=O(n(14044));t.participation=g;var v=O(n(87919));t.preferences=v;var y=O(n(5148));t.style=y;var b=n(59129),w=O(n(53489));t.tabs=w;var x=O(n(37499));t.utils=x;var E=O(n(47822));t.login=E;var _=O(n(81939));t.widgets=_;var k=n(41041),S=n(46231),C=n(13749),A=O(n(52407));t.createTypes=A;var T=n(23451);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var I=t.dom=window?window.document:null;"undefined"!=typeof window&&(window.UI={authn:T.authn,store:T.store,ns:o,rdf:i,acl:a.acl,aclControl:a.aclControl,create:s.create,createTypes:A,dom:I,icons:l.icons,language:c,log:u,login:E,matrix:d.matrix,media:p.media,messageArea:f.messageArea,infiniteMessageArea:h.infiniteMessageArea,pad:m,participation:g,preferences:v,style:y,table:b.renderTableViewPane,tabs:w,utils:x,widgets:_,versionInfo:k.versionInfo,initHeader:S.initHeader,initFooter:C.initFooter})},9295:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,t.alert=function(e){p&&void 0!==p.alert?p.alert(e):h(e)},t.clear=function(){var e,t=null===(e=d)||void 0===e?void 0:e.getElementById("status");t&&(t.innerHTML="")},t.debug=m,t.dumpHTML=function(){var e,t;if(d){var n=c;c=l,m((null===(e=d)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.innerHTML)||""),c=n}},t.error=function(e){f(e,n,"eror")},t.escapeForXML=g,t.info=function(e){f(e,a,"info")},t.logAscending=function(){u=!0},t.logDescending=function(){u=!1},t.msg=function(e){f(e)},t.setInternals=function(e,t){p=e,d=t},t.setLevel=function(e){c=l,m("Log level is now "+e),c=e},t.success=function(e){f(e,o,"good")},t.warn=h;var n=1,r=2,i=4,o=8,a=16,s=32,l=63,c=(t.LogLevel=function(e){return e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Message=4]="Message",e[e.Success=8]="Success",e[e.Info=16]="Info",e[e.Debug=32]="Debug",e[e.All=63]="All",e}({}),n+r+i),u=!1,d=document,p=window;function f(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mesg";if(c&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i))if(void 0!==d){var n=d.getElementById("status");if(!n)return;var r=d.createElement("span");r.setAttribute("class",t);var o=new Date;r.innerHTML="".concat(o.getHours(),":").concat(o.getMinutes(),":").concat(o.getSeconds()," [").concat(t,"] ").concat(g(e),"<br/>"),u?n.insertBefore(r,n.firstChild):n.appendChild(r)}else"undefined"!=typeof console&&console.log(e)}function h(e){f(e,r,"warn")}function m(e){f(e,s,"dbug")}function g(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},47822:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.ensureLoadedPreferences=O,t.ensureLoadedProfile=N,t.ensureLoggedIn=P,t.filterAvailablePanes=function(e){return z.apply(this,arguments)},t.findAppInstances=function(e,t,n){return L.apply(this,arguments)},t.getUserRoles=q,t.loginStatusBox=B,t.newAppInstance=function(e,t,n){var r=function(e,t){n(e,t)},i=e.createElement("div"),o=e.createElement("button");return o.setAttribute("type","button"),i.appendChild(o),o.innerHTML="Make new ".concat(t.noun),o.addEventListener("click",(function(n){i.appendChild(H(e,t,r))}),!1),i.appendChild(o),i},t.registrationControl=function(e,t,n){return j.apply(this,arguments)},t.registrationList=function(e,t){return D.apply(this,arguments)},t.renderScopeHeadingRow=M,t.renderSignInPopup=U,t.scopeLabel=R,t.selectWorkspace=H;var o=r(n(54756)),a=r(n(29293)),s=n(67364),l=n(23451),c=v(n(82902)),u=v(n(5148)),d=n(9295),p=v(n(62054)),f=n(23292),h=v(n(37499)),m=v(n(81939));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}l.solidLogicSingleton.store;var w=l.solidLogicSingleton.profile,x=w.loadPreferences,E=w.loadProfile,_=l.solidLogicSingleton.typeIndex,k=_.getScopedAppInstances,S=_.getRegistrations,C=_.loadAllTypeIndexes,A=_.getScopedAppsFromIndex,T=_.deleteTypeIndexRegistration;function P(e){var t=l.authn.currentUser();return t?(l.authn.saveUser(t,e),Promise.resolve(e)):new Promise((function(t){l.authn.checkUser().then((function(n){if(n)return c.log("logIn: Already logged in as ".concat(n)),t(e);if(!e.div||!e.dom)return t(e);var r=B(e.dom,(function(n){l.authn.saveUser(n,e),t(e)}));e.div.appendChild(r)}))}))}function O(e){return I.apply(this,arguments)}function I(){return(I=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.preferencesFile){e.next=2;break}return e.abrupt("return",Promise.resolve(t));case 2:return e.prev=2,e.next=5,N(t);case 5:return t=e.sent,e.next=8,x(t.me);case 8:n=e.sent,t.preferencesFile=n,e.next=49;break;case 13:if(e.prev=13,e.t0=e.catch(2),!(e.t0 instanceof l.UnauthorizedError)){e.next=20;break}r="Ooops - you are not authenticated (properly logged in) to for me to read your preference file.  Try loggin out and logging in?",(0,d.alert)(r),e.next=49;break;case 20:if(!(e.t0 instanceof l.CrossOriginForbiddenError)){e.next=26;break}return r="Unauthorized: Assuming preference file blocked for origin ".concat(window.location.origin),t.preferencesFileError=r,e.abrupt("return",t);case 26:if(!(e.t0 instanceof l.SameOriginForbiddenError)){e.next=32;break}return r="You are not authorized to read your preference file. This may be because you are using an untrusted web app.",c.warn(r),e.abrupt("return",t);case 32:if(!(e.t0 instanceof l.NotEditableError)){e.next=38;break}return r="You are not authorized to edit your preference file. This may be because you are using an untrusted web app.",c.warn(r),e.abrupt("return",t);case 38:if(!(e.t0 instanceof l.WebOperationError)){e.next=43;break}r="You are not authorized to edit your preference file. This may be because you are using an untrusted web app.",c.warn(r),e.next=49;break;case 43:if(!(e.t0 instanceof l.FetchError)){e.next=48;break}r="Strange: Error ".concat(e.t0.status," trying to read your preference file.").concat(e.t0.message),(0,d.alert)(r),e.next=49;break;case 48:throw new Error("(via loadPrefs) ".concat(e.t0));case 49:return e.abrupt("return",t);case 50:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function N(e){return F.apply(this,arguments)}function F(){return(F=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.publicProfile){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,P(t);case 5:if((n=e.sent).me){e.next=8;break}throw new Error("Could not log in");case 8:return e.next=10,E(n.me);case 10:t.publicProfile=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(2),t.div&&t.dom&&t.div.appendChild(m.errorMessageBlock(t.dom,e.t0.message)),new Error("Can't log in: ".concat(e.t0));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function L(){return(L=(0,a.default)(o.default.mark((function e(t,n,r){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.me){e.next=6;break}return e.next=3,k(n,t.me);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:return i=e.t0,!0===r?i=i.filter((function(e){return"public"===e.scope.label})):!1===r&&(i=i.filter((function(e){return"private"===e.scope.label}))),t.instances=i.map((function(e){return e.instance})),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){var n=e.me&&e.me.sameTerm(t.agent)?"":h.label(t.agent)+" ";return"".concat(n).concat(t.label)}function j(){return(j=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,u,d,f,h,g,v,b,w,x,E;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){var n=i(e.index),r=R(t,e),o="".concat(r," link to this ").concat(t.noun);return m.buildCheckboxForm(t.dom,l.solidLogicSingleton.store,o,null,n,b,e.index)},i=function(e){var t=S(n,r),i=t.length?t[0]:m.newThing(e);return[(0,s.st)(i,p.solid("instance"),n,e),(0,s.st)(i,p.solid("forClass"),r,e)]},(u=t.dom)&&t.div){e.next=5;break}throw new Error("registrationControl: need dom and div");case 5:if(d=u.createElement("div"),t.div.appendChild(d),t.me=l.authn.currentUser(),f=t.me){e.next=12;break}return d.innerHTML='<p style="margin:2em;">(Log in to save a link to this)</p>',e.abrupt("return",t);case 12:return e.prev=12,e.next=15,C(f);case 15:h=e.sent,e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(12),t.div&&t.preferencesFileError?(g="(Lists of stuff not available)",t.div.appendChild(u.createElement("p")).textContent=g):t.div&&(g="registrationControl: Type indexes not available: ".concat(e.t0),t.div.appendChild(m.errorMessageBlock(t.dom,e.t0))),c.log(g),e.abrupt("return",t);case 23:d.innerHTML="<table><tbody></tbody></table>",d.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid gray 0.05em;"),v=d.children[0].children[0],b=new s.BlankNode,w=y(h);try{for(w.s();!(x=w.n()).done;)E=x.value,v.appendChild(u.createElement("tr")).appendChild(a(E))}catch(e){w.e(e)}finally{w.f()}return e.abrupt("return",t);case 30:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function M(e,t,n){var r=e.dom,i=R(e,n),o=r.createElement("tr"),a=o.appendChild(r.createElement("td"));a.setAttribute("colspan","3"),a.style.backgoundColor={private:"#fee",public:"#efe"}[n.label]||"white";var s=a.appendChild(r.createElement("h3"));return s.textContent=i+" links",s.style.textAlign="left",o}function D(){return D=(0,a.default)(o.default.mark((function e(t,n){var r,i,s,c,u,d,f,h,g,v,b,w,x,E;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dom,i=t.div,s=r.createElement("div"),i.appendChild(s),t.me=l.authn.currentUser(),t.me){e.next=8;break}return s.innerHTML='<p style="margin:2em;">(Log in list your stuff)</p>',e.abrupt("return",t);case 8:return e.next=10,C(t.me);case 10:c=e.sent,s.innerHTML="<table><tbody></tbody></table>",s.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid #eee 0.5em;"),u=s.firstChild,d=u.firstChild,f=y(c),e.prev=16,f.s();case 18:if((h=f.n()).done){e.next=44;break}return g=h.value,v=M(t,0,g),d.appendChild(v),e.next=24,A(g,n.type||null);case 24:0===(b=e.sent).length&&(v.style.display="none"),w=y(b),e.prev=27,E=o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=x.value,n=m.personTR(r,p.solid("instance"),t.instance,{deleteFunction:function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:d.removeChild(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),n.children[0].style.paddingLeft="3em",d.appendChild(n);case 4:case"end":return e.stop()}}),e)})),w.s();case 30:if((x=w.n()).done){e.next=34;break}return e.delegateYield(E(),"t0",32);case 32:e.next=30;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(27),w.e(e.t1);case 39:return e.prev=39,w.f(),e.finish(39);case 42:e.next=18;break;case 44:e.next=49;break;case 46:e.prev=46,e.t2=e.catch(16),f.e(e.t2);case 49:return e.prev=49,f.f(),e.finish(49);case 52:return e.abrupt("return",t);case 53:case"end":return e.stop()}}),e,null,[[16,46,49,52],[27,36,39,42]])}))),D.apply(this,arguments)}function U(e){var t=e.createElement("div");t.setAttribute("style","position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center;"),e.body.appendChild(t);var n=e.createElement("div");n.setAttribute("style","\n      background-color: white;\n      box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -webkit-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -moz-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -o-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      border-radius: 4px;\n      min-width: 400px;\n      padding: 10px;\n      z-index : 10;\n    "),t.appendChild(n);var r=e.createElement("div");r.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n    "),n.appendChild(r);var i=e.createElement("label");i.setAttribute("style","margin-right: 5px; font-weight: 800"),i.innerText="Select an identity provider";var s=e.createElement("button");s.innerHTML='<img src="https://solidos.github.io/solid-ui/src/icons/noun_1180156.svg" style="width: 2em; height: 2em;" title="Cancel">',s.setAttribute("style","background-color: transparent; border: none;"),s.addEventListener("click",(function(){t.remove()})),r.appendChild(i),r.appendChild(s);var c=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.solidLogicSingleton.store.updater.flagAuthorizationMetadata(),(n=new URL(window.location.href).hash)&&window.localStorage.setItem("preLoginRedirectHash",n),window.localStorage.setItem("loginIssuer",t),(r=new URL(window.location.href)).hash="",e.next=9,l.authSession.login({redirectUrl:r.href,oidcIssuer:t});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,d.alert)(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),u=e.createElement("div");u.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var p=e.createElement("div");p.setAttribute("style","\n      display: flex;\n      flex-direction: row;\n    ");var f=e.createElement("label");f.innerText="Enter the URL of your identity provider:",f.setAttribute("style","color: #888");var h=e.createElement("input");h.setAttribute("type","text"),h.setAttribute("style","margin-left: 0 !important; flex: 1; margin-right: 5px !important"),h.setAttribute("placeholder","https://example.com"),h.value=localStorage.getItem("loginIssuer")||"";var m=e.createElement("button");m.innerText="Go",m.setAttribute("style","margin-top: 12px; margin-bottom: 12px;"),m.addEventListener("click",(function(){c(h.value)})),u.appendChild(f),p.appendChild(h),p.appendChild(m),u.appendChild(p),n.appendChild(u);var g=e.createElement("div");g.setAttribute("style","\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var v=e.createElement("label");v.innerText="Or pick an identity provider from the list below:",v.setAttribute("style","color: #888"),g.appendChild(v),(0,l.getSuggestedIssuers)().forEach((function(t){var n=e.createElement("button");n.innerText=t.name,n.setAttribute("style","height: 38px; margin-top: 10px"),n.addEventListener("click",(function(){c(t.uri)})),g.appendChild(n)})),n.appendChild(g)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,l.offlineTestID)(),i=e.createElement("div");function o(e){e&&(r=l.authn.saveUser(e),i.refresh(),t&&t(r.uri))}function a(e){var n=r;l.authSession.logout().then((function(){var e="Your WebID was ".concat(n,". It has been forgotten.");r=null;try{(0,d.alert)(e)}catch(t){window.alert(e)}i.refresh(),t&&t(null)}),(function(e){(0,d.alert)("Fail to log out:"+e)}))}function s(){r=l.authn.currentUser(),i.refresh()}return i.refresh=function(){var t=l.authSession.info;((r=t&&t.webId&&t.isLoggedIn?l.solidLogicSingleton.store.sym(t.webId):null)&&i.me!==r.uri||!r&&i.me)&&(m.clearElement(i),r?i.appendChild(function(t,n){var r=n.buttonStyle||u.signInAndUpButtonStyle,i="WebID logout";if(t){var o=l.solidLogicSingleton.store.any(t,p.foaf("nick"))||l.solidLogicSingleton.store.any(t,p.foaf("name"));o&&(i="Logout "+o.value)}var s=e.createElement("input");return s.setAttribute("type","button"),s.setAttribute("value",i),s.setAttribute("style","".concat(r)),s.addEventListener("click",a,!1),s}(r,n)):i.appendChild(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=n||{}).buttonStyle||u.signInAndUpButtonStyle,i=e.createElement("div"),o="SolidSignInOrSignUpBox";c.log("widgets.signInOrSignUpBox"),i.setUserCallback=t,i.setAttribute("class",o),i.setAttribute("style","display:flex;");var a=e.createElement("input");i.appendChild(a),a.setAttribute("type","button"),a.setAttribute("value","Log in"),a.setAttribute("style","".concat(r).concat(u.headerBannerLoginInput)+u.signUpBackground),l.authSession.onLogin((function(){var t=l.authn.currentUser();if(t){var n=t.uri,r=e.getElementsByClassName(o);c.log("Logged in, ".concat(r.length," panels to be serviced"));for(var i=0;i<r.length;i++){var a=r[i];if(a.setUserCallback)try{a.setUserCallback(n);var s=a.parentNode;s&&s.removeChild(a)}catch(t){c.log("## Error satisfying login box: ".concat(t)),a.appendChild(m.errorMessageBlock(e,t))}}}})),a.addEventListener("click",(function(){var n=(0,l.offlineTestID)();if(n)return t(n.uri);U(e)}),!1);var s=e.createElement("input");return i.appendChild(s),s.setAttribute("type","button"),s.setAttribute("value","Sign Up for Solid"),s.setAttribute("style","".concat(r).concat(u.headerBannerLoginInput)+u.signInBackground),s.addEventListener("click",(function(e){(new f.Signup).signup().then((function(e){c.log("signInOrSignUpBox signed up "+e),t(e)}))}),!1),i}(e,o,n))),i.me=r?r.uri:null},i.refresh(),s(),l.authSession.onLogin(s),l.authSession.onLogout(s),i.me="99999",i.refresh(),i}function H(e,t,n){var r=t.noun,i=t.appPathSegment,d=(0,l.offlineTestID)(),f=e.createElement("div"),h={me:d,dom:e,div:f};function g(t,n){f.appendChild(m.errorMessageBlock(e,t,n))}function v(e){var t,n=l.solidLogicSingleton.store.any(e,p.space("uriPrefix"));"/"!==(t=n?n.value:e.uri.split("#")[0]).slice(-1)&&(c.log("".concat(i,": No / at end of uriPrefix ").concat(t)),t="".concat(t,"/"));var r=new Date;return t+"".concat(i,"/id").concat(r.getTime(),"/")}return O(h).then((function(t){function i(){return i=(0,a.default)(o.default.mark((function n(r){var i,a,c,u,d;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=w.appendChild(e.createElement("tr")),(a=i.appendChild(e.createElement("td"))).setAttribute("colspan","3"),a.style.padding="0.5em",n.t0=encodeURI,n.next=7,m.askName(e,l.solidLogicSingleton.store,a,p.solid("URL"),p.space("Workspace"),"Workspace");case 7:if(n.t1=n.sent,c=(0,n.t0)(n.t1),u=m.newThing(t.preferencesFile),d=[(0,s.st)(t.me,p.space("workspace"),u,t.preferencesFile),(0,s.st)(u,p.space("uriPrefix"),c,t.preferencesFile)],l.solidLogicSingleton.store.updater){n.next=13;break}throw new Error("store has no updater");case 13:return n.next=15,l.solidLogicSingleton.store.updater.update([],d);case 15:case"end":return n.stop()}}),n)}))),i.apply(this,arguments)}var c=t.me,d=t.preferencesFile,h=null,y=l.solidLogicSingleton.store.each(c,p.space("workspace"),void 0,d),b=l.solidLogicSingleton.store.each(c,p.space("storage"));0===y.length&&b&&(g("You don't seem to have any workspaces. You have ".concat(b.length," storage spaces."),"white"),b.map((function(e){return y=y.concat(l.solidLogicSingleton.store.each(e,p.ldp("contains")))})).filter((function(e){return e.id?["public","private"].includes(e.id().toLowerCase()):""}))),1===y.length&&(g("Workspace used: ".concat(y[0].uri),"white"),h=v(y[0]));var w=e.createElement("table");w.setAttribute("style","border-collapse:separate; border-spacing: 0.5em;"),f.appendChild(w),f.appendChild(e.createElement("hr"));var x=f.appendChild(e.createElement("p"));x.setAttribute("style",u.commentStyle),x.textContent="Where would you like to store the data for the ".concat(r,"?\n    Give the URL of the folder where you would like the data stored.\n    It can be anywhere in solid world - this URI is just an idea.");var E=f.appendChild(e.createElement("input"));E.setAttribute("type","text"),E.setAttribute("style",u.textInputStyle),E.size=80,E.label="base URL",E.autocomplete="on",h&&(E.value=h),t.baseField=E,f.appendChild(e.createElement("br"));var _,k,S,C,A,T,P,O=f.appendChild(e.createElement("button"));O.setAttribute("style",u.buttonStyle),O.textContent="Start new ".concat(r," at this URI"),O.addEventListener("click",(function(e){var t=E.value.replace(" ","%20");"/"!==t.slice(-1)&&(t+="/"),n(null,t)})),y=y.filter((function(e){return!l.solidLogicSingleton.store.holds(e,p.rdf("type"),p.space("MasterWorkspace"))}));for(var I,N="height: 3em; margin: 1em; padding: 1em white; border-radius: 0.3em;",F="".concat(N,"border: 0px;"),L=0;L<y.length;L++){if(A=y[L],C=e.createElement("tr"),0===L&&((_=e.createElement("td")).setAttribute("rowspan","".concat(y.length)),_.textContent="Choose a workspace for this:",_.setAttribute("style","vertical-align:middle;"),C.appendChild(_)),k=e.createElement("td"),!(T=l.solidLogicSingleton.store.anyValue(A,p.ui("style")))){var R="#".concat((16777215&(I=A.uri,I.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))|12632256).toString(16));T="color: black ; background-color: ".concat(R,";")}k.setAttribute("style",F+T),C.target=A.uri;var j=l.solidLogicSingleton.store.any(A,p.rdfs("label"));j||(j=A.uri.split("/").slice(-1)[0]||A.uri.split("/").slice(-2)[0]),k.textContent=j||"???",C.appendChild(k),0===L&&((S=e.createElement("td")).setAttribute("rowspan","".concat(y.length,"1")),S.setAttribute("style","width:50%;"),C.appendChild(S)),w.appendChild(C),P=(P=l.solidLogicSingleton.store.any(A,p.rdfs("comment")))?P.value:"Use this workspace",k.addEventListener("click",(function(t){S.textContent=P?P.value:"",S.setAttribute("style",F+T);var r=e.createElement("button");r.textContent="Continue";var i=v(A);E.value=i,r.addEventListener("click",(function(e){r.disabled=!0,n(A,i),r.textContent="----\x3e"}),!0),S.appendChild(r)}),!0)}var M=e.createElement("tr");(k=e.createElement("td")).setAttribute("style",N),k.textContent="+ Make a new workspace",k.addEventListener("click",(function(e){return i.apply(this,arguments)})),M.appendChild(k),w.appendChild(M)})).catch((function(e){f.appendChild(m.errorMessageBlock(h.dom,e))})),f}function q(){return W.apply(this,arguments)}function W(){return(W=(0,a.default)(o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O({});case 3:if(t=e.sent,n=t.me,r=t.preferencesFile,i=t.preferencesFileError,r&&!i){e.next=9;break}throw new Error(i);case 9:return e.abrupt("return",l.solidLogicSingleton.store.each(n,p.rdf("type"),null,r.doc()));case 12:e.prev=12,e.t0=e.catch(0),c.warn("Unable to fetch your preferences - this was the error: ",e.t0);case 15:return e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function z(){return(z=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return n=e.sent,e.abrupt("return",t.filter((function(e){return V(e,n)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return(e.audience||[]).reduce((function(e,n){return e&&!!t.find((function(e){return e.equals(n)}))}),!0)}l.authSession.onLogout((0,a.default)(o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.localStorage.getItem("loginIssuer"))){e.next=20;break}return e.prev=2,l.solidLogicSingleton.store.updater.flagAuthorizationMetadata(),(n=new URL(t)).pathname="/.well-known/openid-configuration",e.next=8,fetch(n.toString());case 8:if(200!==(r=e.sent).status){e.next=16;break}return e.next=12,r.json();case 12:if(!(i=e.sent)||!i.end_session_endpoint){e.next=16;break}return e.next=16,fetch(i.end_session_endpoint,{credentials:"include"});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(2);case 20:window.location.reload();case 21:case"end":return e.stop()}}),e,null,[[2,18]])}))))},55915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matrix=void 0;var r=n(80506);t.matrix={matrixForQuery:r.matrixForQuery}},80506:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.matrixForQuery=function(e,t,n,r,a,s,c){var u=e.createElement("table"),d=e.createElement("tr");d.appendChild(e.createElement("td")).setAttribute("class","MatrixCorner"),u.appendChild(d),u.lastHeader=d;var p=[],f=[],h=function(e,t,n,r){for(;e.firstChild;)e.removeChild(e.firstChild);e.setAttribute("style",""),e.style.textAlign="center",s.cellFunction?s.cellFunction(e,t,n,r):(e.textContent=i.label(r),e.setAttribute("style","padding: 0.3em")),delete e.old},m=function(t){var n=t.toNT();if(f[n])return f[n];var r=e.createElement("tr"),a=r.appendChild(e.createElement("td"));a.setAttribute("style","padding: 0.3em;"),a.textContent=i.label(t),"NamedNode"===t.termType&&l.fetcher.nowOrWhenFetched(t.uri.split("#")[0],void 0,(function(e,n,r){e&&(a.textContent=i.label(t))}));for(var c=0;c<p.length;c++)h(r.appendChild(e.createElement("td")),o.fromNT(p[c]),t,null);r.dataValueNT=n,f[n]=r;for(var d=u.lastHeader.nextSibling;d;d=d.nextSibling)if(n>d.dataValueNT&&s&&s.yDecreasing||n<d.dataValueNT&&(!s||!s.yDecreasing))return u.insertBefore(r,d);return u.appendChild(r)},g=function(t){for(var n=t.toNT(),r=null,a=0;a<p.length;a++){if(p[a]===n)return a;if(n>p[a]&&s.xDecreasing||n<p[a]&&!s.xDecreasing){p=p.slice(0,a).concat([n]).concat(p.slice(a)),r=a;break}}null===r&&(r=p.length,p.push(n));for(var l=u.firstChild;l;l=l.nextSibling){var c=l.dataValueNT,d=e.createElement("td");if(d.style.textAlign="center",l===u.firstChild?d.textContent=i.label(t):h(d,t,o.fromNT(c),null),r===p.length-1)l.appendChild(d);else{for(var f=l.firstChild,m=0;m<r+1;m++)f=f.nextSibling;l.insertBefore(d,f)}}return r},v=function(){var e,t,n=[],r=[];if(s.set_y)for(var i=0;i<s.set_y.length;i++)r[s.set_y[i]]=!0;if(s.set_x)for(var a=0;a<s.set_x.length;a++)n[g(s.set_x[a])+1]=!0;for(var l=1;l<u.children.length;l++){e=u.children[l];for(var c=1;c<e.children.length;c++)if((t=e.children[c]).old){var d=o.fromNT(e.dataValueNT),m=o.fromNT(p[c-1]);h(t,m,d,null)}else r[e.dataValueNT]=!0,n[c]=!0}for(var v=0;v<u.children.length;v++)if(e=u.children[v],v>0&&!r[e.dataValueNT])delete f[e.dataValueNT],u.removeChild(e);else for(var y=e.children.length-1;y>0;y--){var b=e.children[y];n[y]||e.removeChild(b)}for(var w=[],x=0;x<p.length;x++)n[x+1]&&w.push(p[x]);p=w};u.refresh=function(){!function(){for(var e=1;e<u.children.length;e++)for(var t=u.children[e],n=1;n<t.children.length;n++)t.children[n].old=!0}(),l.query(t,y,void 0,v)};var y=function(e){var t=e[n.toString()],i=e[r.toString()],o=e[a.toString()],s=m(i),l=g(t),c=s.children[l+1];h(c,t,i,o)};if(s.set_y)for(var b=0;b<s.set_y.length;b++)m(s.set_y[b]);if(s.set_x)for(var w=0;w<s.set_x.length;w++)g(s.set_x[w]);return l.query(t,y,void 0,c),u};var i=s(n(37499)),o=s(n(67364));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l=n(23451).solidLogicSingleton.store},18406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.media=void 0;var r=n(61297);t.media={cameraCaptureControl:r.cameraCaptureControl,cameraButton:r.cameraButton}},61297:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.cameraButton=function(e,t,n,r){var i,s=e.createElement("div"),l=u.button(e,f,"Take picture");function c(e){return d.apply(this,arguments)}function d(){return(d=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.removeChild(i),s.appendChild(l),r(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.appendChild(l),l.addEventListener("click",(function(r){s.removeChild(l),i=g(e,t,n,c),s.appendChild(i)})),s},t.cameraCaptureControl=g;var o=r(n(54756)),a=r(n(29293)),s=p(n(82902)),l=n(4901),c=p(n(5148)),u=p(n(81939));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var f=l.icons.iconBase+"noun_Camera_1618446_000000.svg",h=l.icons.iconBase+"noun_479395.svg",m="image/png";function g(e,t,n,r){var i,o,a,d,p=e.createElement("div"),f=p.appendChild(e.createElement("table")),g=f.appendChild(e.createElement("tr")).appendChild(e.createElement("td"));g.setAttribute("colspan","4");var v=f.appendChild(e.createElement("tr"));v.appendChild(e.createElement("td")).appendChild(u.cancelButton(e)).addEventListener("click",(function(e){_(),r(null)}));var y=v.appendChild(e.createElement("td")).appendChild(u.button(e,h,"Retake"));y.addEventListener("click",(function(e){g.removeChild(d),x()})),y.style.visibility="collapse";var b=v.appendChild(e.createElement("td")).appendChild(u.button(e,l.icons.iconBase+"noun_10636.svg","Snap"));b.addEventListener("click",(function(){(d=e.createElement("canvas")).setAttribute("width",c.canvasWidth),d.setAttribute("height",c.canvasHeight),d.setAttribute("style",c.controlStyle),g.appendChild(d),d.getContext("2d").drawImage(a,0,0,d.width,d.height),a.parentNode.removeChild(a),d.toBlob((function(e){var t="got blob type ".concat(e.type," size ").concat(e.size);s.log(t),i=n(),o=e,w.style.visibility="visible",y.style.visibility="visible",b.style.visibility="collapse"}),m)})),b.style.visibility="collapse";var w=v.appendChild(e.createElement("td")).appendChild(u.continueButton(e));function x(){if((a=g.appendChild(e.createElement("video"))).setAttribute("controls","1"),a.setAttribute("autoplay","1"),a.setAttribute("style",c.controlStyle),!navigator.mediaDevices)throw new Error("navigator.mediaDevices not available");navigator.mediaDevices.getUserMedia(E).then((function(e){a.srcObject=e,b.style.visibility="visible",w.style.visibility="collapse",y.style.visibility="collapse"}))}w.addEventListener("click",(function(e){!function(e,n){var i=e.type;s.log("Putting "+e.size+" bytes of "+i+" to "+n),t.fetcher.webOperation("PUT",n.uri,{data:e,contentType:i}).then((function(e){s.log("ok saved "+n),_(),r(n)}),(function(e){_(),alert(e)}))}(o,i)})),w.style.visibility="collapse";var E={video:!0};function _(){a&&a.srcObject&&a.srcObject.getVideoTracks().forEach((function(e){return e.stop()}))}return x(),p}},52263:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.messageArea=function(e,t,n,r,i){t=t||a.solidLogicSingleton.store,r=r.doc();var s,c,d=h.ns,p=l.Namespace("http://www.w3.org/2005/01/wf/flow#"),f=l.Namespace("http://purl.org/dc/terms/"),m=!!(i=i||{}).newestFirst,g="white-space: pre-wrap; width: 90%; font-size:100%; border: 0.07em solid #eee; padding: .2em 0.5em; margin: 0.1em 1em 0.1em 1em;",v=e.createElement("div"),y=a.solidLogicSingleton.store.updater,b=function(t,n){var r=e.createElement("a");return n&&n.uri&&(r.setAttribute("href",n.uri),r.addEventListener("click",h.widgets.openHrefInOutlineMode,!0),r.setAttribute("style","color: #3B5998; text-decoration: none; ")),r.textContent=t,r},w=function(t,n){var r=e.createElement("pre");return r.setAttribute("style",n||"color: grey"),v.appendChild(r),r.appendChild(e.createTextNode(t)),r},x=function(e){w(e,"color: #800;")};function E(e){var t=a.solidLogicSingleton.store.any(e,h.ns.foaf("nick"));return t?""+t.value:""+u.label(e)}function _(t,n,r,i){var o=t.appendChild(b(E(n),n));n.uri&&a.solidLogicSingleton.store.fetcher.nowOrWhenFetched(n.doc(),void 0,(function(e,t){o.textContent=E(n)})),t.appendChild(e.createElement("br")),t.appendChild(b(r,i))}function k(e,n){var r,i,o={};for(r=n.firstChild;r;r=r.nextSibling)r.AJAR_subject&&(o[r.AJAR_subject.uri]=!0);var a=t.each(e,d.wf("message")),s={};for(a.forEach((function(e){s[e.uri]=!0,o[e.uri]||S(e)})),r=n.firstChild;r;)i=r.nextSibling,r.AJAR_subject&&!s[r.AJAR_subject.uri]&&n.removeChild(r),r=i}var S=function(e){var n={"?msg":e,"?creator":t.any(e,d.foaf("maker")),"?date":t.any(e,f("created")),"?content":t.any(e,d.sioc("content"))};C(n,!0)},C=function(r,i){var o=r["?creator"],a=r["?msg"],l=r["?date"],c=r["?content"],u=l.value,d=e.createElement("tr");d.AJAR_date=u,d.AJAR_subject=a;for(var p=!1,f=s.firstChild;f;f=f.nextSibling)if(u>f.AJAR_date&&m||u<f.AJAR_date&&!m){s.insertBefore(d,f),p=!0;break}p||s.appendChild(d);var v=e.createElement("td");d.appendChild(v),_(v,o,h.widgets.shortDate(u),a);var b=e.createElement("td");d.appendChild(b);var w=e.createElement("p");w.setAttribute("style",g+(i?"background-color: #e8ffe8;":"background-color: #white;")),b.appendChild(w),w.textContent=c.value;var E=e.createElement("td");d.appendChild(E);var S=e.createElement("button");E.appendChild(S),S.textContent="-",d.setAttribute("class","hoverControl"),S.setAttribute("class","hoverControlHide"),S.setAttribute("style","color: red;"),S.addEventListener("click",(function(r){E.removeChild(S);var i=e.createElement("button");i.textContent="cancel",E.appendChild(i).addEventListener("click",(function(e){E.removeChild(o),E.removeChild(i),E.appendChild(S)}),!1);var o=e.createElement("button");o.textContent="Delete message",E.appendChild(o).addEventListener("click",(function(e){E.removeChild(o),E.removeChild(i),function(e){var r=t.statementsMatching(e).concat(t.statementsMatching(void 0,void 0,e));y.update(r,[],(function(e,t,r){t?k(n,s):x("Cant delete messages:"+r)}))}(a)}),!1)}),!1)};(s=e.createElement("table")).fresh=!1,v.appendChild(s),s.setAttribute("style","width: 100%;");var A,T=function(){var i=e.createElement("tr"),a=e.createElement("td"),s=e.createElement("td"),u=e.createElement("td");i.appendChild(a),i.appendChild(s),i.appendChild(u),i.AJAR_date="9999-01-01T00:00:00Z";var p,m,v=function(){p.setAttribute("class","pendingedit"),p.disabled=!0;var o=[],a=new Date,s=""+a.getTime(),u=l.term(a),m=t.sym(r.uri+"#Msg"+s);o.push(new l.Statement(n,d.wf("message"),m,r)),o.push(new l.Statement(m,d.sioc("content"),t.literal(p.value),r)),o.push(new l.Statement(m,f("created"),u,r)),c&&o.push(new l.Statement(m,d.foaf("maker"),c,r)),y.update([],o,(function(n,r,o){if(r){var a={"?msg":m,"?content":t.literal(p.value),"?date":u,"?creator":c};C(a,!1),p.value="",p.setAttribute("class",""),p.disabled=!1}else i.appendChild(h.widgets.errorMessageBlock(e,"Error writing message: "+o))}))};i.appendChild(e.createElement("br"));var b={div:s,dom:e};return o.ensureLoggedIn(b).then((function(t){c=t.me,_(a,c,"",null),p=e.createElement("textarea"),s.innerHTML="",s.appendChild(p),p.rows=3,p.setAttribute("style",g+"background-color: #eef;"),p.addEventListener("keyup",(function(e){13===e.keyCode&&(e.altKey||v())}),!1),u.innerHTML="",(m=h.widgets.button(e,h.icons.iconBase+"noun_383448.svg","Send")).setAttribute("style",h.style.buttonStyle+"float: right;"),m.addEventListener("click",v,!1),u.appendChild(m)})),i}();if(m?s.insertBefore(T,s.firstChild):s.appendChild(T),i.query)A=i.query;else{A=new l.Query("Messages");var P={};["msg","date","creator","content"].forEach((function(e){A.vars.push(P[e]=l.variable(e))})),A.pat.add(n,p("message"),P.msg),A.pat.add(P.msg,d.dct("created"),P.date),A.pat.add(P.msg,d.foaf("maker"),P.creator),A.pat.add(P.msg,d.sioc("content"),P.content)}return t.query(A,C,void 0,(function(){s.fresh=!0})),v.refresh=function(){k(n,s)},v};var i=n(4901),o=f(n(47822)),a=n(23451),s=f(n(62054)),l=f(n(67364)),c=f(n(5148)),u=f(n(37499)),d=f(n(81939));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var h={icons:i.icons,ns:s,rdf:l,style:c,widgets:d}},62054:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738),o=r(n(15386)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(67364));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}e.exports=(0,o.default)(a)},51712:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.getChunks=y,t.lightColorHash=v,Object.defineProperty(t,"manageParticipation",{enumerable:!0,get:function(){return p.manageParticipation}}),t.notepad=function(e,t,n,r,i){var u=(i=i||{}).exists,p=e.createElement("table"),f=m;if(r&&!r.uri)throw new Error("UI.pad.notepad:  Invalid userid");var h=m.updater,g=(0,a.Namespace)("http://www.w3.org/ns/pim/pad#");p.setAttribute("style",d.notepadStyle);var y=null,b=null;if(i.statusArea){var w=i.statusArea.appendChild(e.createElement("table")).appendChild(e.createElement("tr"));y=w.appendChild(e.createElement("td")),b=w.appendChild(e.createElement("td")),y&&y.setAttribute("style",d.upstreamStatus),b&&b.setAttribute("style",d.downstreamStatus)}var x=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c.log)(t),i.statusArea&&(n?y:b).appendChild((0,s.errorMessageBlock)(e,t,"pink"))},E=function(e){i.statusArea&&(i.statusArea.innerHTML="")},_=function(e,t,n){var r=e.subject;t=t||"";var i=d.baseStyle,a=d.headingCore,s=d.headingStyle,l=f.any(r,o.dc("author"));!t&&l&&(t="color: "+(n?"#888":"black")+"; background-color: "+v(l)+";");var c=f.any(r,g("indent")),u=(c=c?c.value:0)>=0?i+"text-indent: "+3*c+"em;":a+s[-1-c];e.setAttribute("style",u+t)},k=function(e){var r=e.subject;if(!r)throw new Error("No chunk for line to be deleted!");var i=f.any(void 0,g("next"),r),o=f.any(r,g("next"));if(i.sameTerm(n)&&o.sameTerm(n))(0,c.log)("You can't delete the only line.");else{var s=f.statementsMatching(r,void 0,void 0,t).concat(f.statementsMatching(void 0,void 0,r,t)),u=[(0,a.st)(i,g("next"),o,t)];if(r instanceof a.NamedNode){var d=r.uri.slice(-4);(0,c.log)("Deleting line "+d)}if(!h)throw new Error("have no updater");h.update(s,u,(function(t,n,i,o){if(n){var a=e.parentNode;if(a){var u=a.previousSibling;a.parentNode&&a.parentNode.removeChild(a),u&&u.firstChild&&u.firstChild.focus()}}else if(o&&409===o.status)_(e,"color: black;  background-color: #ffd;"),e.state=0,(0,l.beep)(.5,512),setTimeout((function(){I()}),1e3);else{(0,c.log)("    removePart FAILED "+r+": "+i),(0,c.log)("    removePart was deleteing :'"+s),_(e,"color: black;  background-color: #fdd;");var d=o?o.status:" [no response field] ";x("Error "+d+" saving changes: "+i.true)}}))}},S=function(n,i,s){var u=f.any(i,o.sioc("content"));u=u?u.value:"";var d=e.createElement("tr");s?p.insertBefore(d,n):n&&n.nextSibling?p.insertBefore(d,n.nextSibling):p.appendChild(d);var m=d.appendChild(e.createElement("input"));return m.subject=i,m.setAttribute("type","text"),m.value=u,r?(_(m,""),function(e,n){e.addEventListener("keydown",(function(r){if(!h)throw new Error("no updater");var i,o;switch(r.keyCode){case 13:var s=r.shiftKey;if((0,c.log)("enter"),s?(o=f.any(void 0,g("next"),n),i="newlinesAfter"):(o=f.any(n,g("next")),i="newlinesBefore"),o[i]=o[i]||0,o[i]+=1,o[i]>1)return void(0,c.log)("    queueing newline queue = "+o[i]);(0,c.log)("    go ahead line before "+o[i]),C(e,s);break;case 8:if(0===e.value.length)switch((0,c.log)("Delete key line "+n.uri.slice(-4)+" state "+e.state),e.state){case 1:case 2:return void(e.state=4);case 3:case 4:return;case void 0:case 0:e.state=3,k(e),r.preventDefault();break;default:throw new Error("pad: Unexpected state "+e)}break;case 9:var l=r.shiftKey?-1:1;!function(e,n,r){var i=f.statementsMatching(n,g("indent")),o=i.length?Number(i[0].object.value):0;if(!(o+r<-3)){var s=o+r,l=(0,a.st)(n,g("indent"),s,t);if(!h)throw new Error("no updater");h.update(i,l,(function(n,r,i){r?_(e):((0,c.log)("Indent change FAILED '"+s+"' for "+t+": "+i),_(e,"color: black;  background-color: #fdd;"),h.requestDownstreamAction(t,I))}))}}(e,n,l),r.preventDefault();break;case 27:(0,c.log)("escape"),h.requestDownstreamAction(t,I),r.preventDefault();break;case 38:e.parentNode.previousSibling&&(e.parentNode.previousSibling.firstChild.focus(),r.preventDefault());break;case 40:e.parentNode.nextSibling&&(e.parentNode.nextSibling.firstChild.focus(),r.preventDefault())}}));var r=function(e){var n=e.subject;_(e,void 0,!0);var i,s=f.any(n,o.sioc("content")).value,u=[(0,a.st)(n,o.sioc("content"),s,t)];e.value&&(i=[(0,a.st)(n,o.sioc("content"),e.value,t)]);var d=e.value;if(e.lastSent&&s!==e.lastSent)throw new Error("Out of order, last sent expected '"+s+"' but found '"+e.lastSent+"'");if(e.lastSent=d,!h)throw new Error("no updater");h.update(u,i,(function(n,i,o,a){i?(E(),_(e),(0,c.log)("    Patch ok '"+s+"' -> '"+d+"' "),4===e.state?(e.state=3,k(e)):3===e.state||(2===e.state?(e.state=1,r(e)):e.state=0)):((0,c.log)("    patch FAILED "+a.status+" for '"+s+"' -> '"+d+"': "+o),409===a.status?(_(e,"color: black;  background-color: #fdd;"),e.state=0,(0,l.beep)(.5,512),setTimeout((function(){h.requestDownstreamAction(t,I)}),1e3)):(_(e,"color: black;  background-color: #fdd;"),e.state=0,x("    Error "+a.status+" sending data: "+o,!0),(0,l.beep)(1,128)))}))};e.addEventListener("input",(function(t){switch(_(e,void 0,!0),(0,c.log)("Input event state "+e.state+" value '"+e.value+"'"),e.state){case 3:case 4:case 2:return;case 1:return void(e.state=2);case 0:case void 0:e.state=1,r(e)}}))}(m,i)):(_(m,"color: #222; background-color: #fff"),(0,c.log)("Note can't add listeners - not logged in")),m},C=function(e,i){var l,u,d,p,f,v=m,y=0,b=null;e?("input"!==e.tagName.toLowerCase()&&(0,c.log)("return pressed when current document is: "+e.tagName),l=e.subject,y=(y=v.any(l,g("indent")))?Number(y.value):0,i?(u=v.any(void 0,g("next"),l),d=l,p=u,b="newlinesAfter"):(u=l,d=v.any(l,g("next")),p=d,b="newlinesBefore"),f=e.parentNode):(u=n,d=n,f=void 0);var w=(0,s.newThing)(t),x=w.uri.slice(-4),E=[(0,a.st)(u,g("next"),d,t)],k=[(0,a.st)(u,g("next"),w,t),(0,a.st)(w,g("next"),d,t),(0,a.st)(w,o.dc("author"),r,t),(0,a.st)(w,o.sioc("content"),"",t)];if(y>0&&k.push((0,a.st)(w,g("indent"),y,t)),(0,c.log)("    Fresh chunk "+x+" proposed"),!h)throw new Error("no updater");h.update(E,k,(function(e,t,n,r){if(t){var o=S(f,w,i);_(o),o.focus(),b&&((0,c.log)("    Fresh chunk "+x+" updated, queue = "+p[b]),p[b]-=1,p[b]>0&&((0,c.log)("    Implementing queued newlines = "+d.newLinesBefore),C(o,i)))}else(0,c.log)("    ERROR writing new line "+x+": "+n)}))},A=function(){var e={},t=0;function r(e){x(e),t++}if(!f.the(n,g("next")))return r("No initial next pointer"),!1;for(var i,a=n;(i=f.the(a,g("next")))||r("No next pointer from "+a),!i.sameTerm(n);){a=i;var s=i.uri.split("#")[1];if(e[i.uri])return r("Loop!"),!1;e[i.uri]=!0;var l=f.each(i,g("next")).length;1!==l&&r("Should be 1 not "+l+" next pointer for "+s),(l=f.each(i,g("indent")).length)>1&&r("Should be 0 or 1 not "+l+" indent for "+s),1!==(l=f.each(i,o.sioc("content")).length)&&r("Should be 1 not "+l+" contents for "+s),1!==(l=f.each(i,o.dc("author")).length)&&r("Should be 1 not "+l+" author for "+s),f.statementsMatching(void 0,o.sioc("contents")).forEach((function(t){e[t.subject.value]||r("Loose chunk! "+t.subject.value)}))}return!t},T=function(){if(1!==f.each(n,g("next")).length){var e="Pad: Inconsistent data - NEXT pointers: "+f.each(n,g("next")).length;return(0,c.log)(e),void(i.statusArea&&(i.statusArea.textContent+=e))}for(var t,r=[],a=f.the(n,g("next"));!a.sameTerm(n);a=f.the(a,g("next")))for(var s=0;s<p.children.length;s++){var l=p.children[s];l.firstChild&&l.firstChild.subject.sameTerm(a)&&(r[a.uri]=l.firstChild)}for(var u=p.children.length-1;u>=0;u--)r[(t=p.children[u]).firstChild.subject.uri]||p.removeChild(t);t=p.firstChild;for(var d=f.the(n,g("next"));!d.sameTerm(n);d=f.the(d,g("next"))){var h=f.any(d,o.sioc("content")).value;if(t&&r[d.uri]){var m=t.firstChild;h!==m.value&&(m.value=h),_(m),m.state=0,delete m.lastSent,t=t.nextSibling}else S(t,d,!0)}},P=function(e){if(e.refresh)e.refresh();else for(var t=0;t<e.children.length;t++)P(e.children[t])},O=!1,I=function(){if(O)(0,c.log)("   Already reloading - stop");else{O=!0;var e=1e3,n=function(){if((0,c.log)("try reload - timeout = "+e),!h)throw new Error("no updater");h.reload(h.store,t,(function(r,i,o){O=!1,r?((0,c.log)("    reloaded OK"),E(),A()?P(p):x("CONSISTENCY CHECK FAILED")):0===o.status?(x("Network error refreshing the pad. Retrying in "+e/1e3),O=!0,e*=2,setTimeout(n,e)):x("Error "+o.status+"refreshing the pad:"+i+". Stopped. "+t)}))};n()}};if(p.refresh=T,p.reloadAndSync=I,r||(0,c.log)("Warning: must be logged in for pad to be edited"),u)(0,c.log)("Existing pad."),A()?(T(),f.holds(n,g("next"),n)&&C()):(0,c.log)(p.textContent="Inconsistent data. Abort");else{(0,c.log)("No pad exists - making new one.");var N=[(0,a.st)(n,o.rdf("type"),g("Notepad"),t),(0,a.st)(n,o.dc("author"),r,t),(0,a.st)(n,o.dc("created"),new Date,t),(0,a.st)(n,g("next"),n,t)];if(!h)throw new Error("no updater");h.update([],N,(function(e,t,n){t?((0,c.log)("Initial pad created"),C()):x(n||"")}))}return p},t.notepadToHTML=function(e,t){var n=y(e,t),r="<html>\n  <head>\n",i=t.anyValue(e,o.dct("title"));i&&(r+="    <title>".concat(b(i),"</title>\n")),r+="  </head>\n  <body>\n";var a=0;function s(e){for(;a>e;a--)r+="</ul>\n"}return n.forEach((function(e){var n=t.anyJS(e,g("indent")),i=t.anyJS(e,o.sioc("content"));if(i){var l=b(i);if(n<0){s(0);var c=n>=-3?4+n:1;r+="\n<h".concat(c,">").concat(l,"</h").concat(c,">\n")}else n>0?(s(n),function(e){for(;a<e;a++)r+="<ul>\n"}(n),r+="<li>".concat(l,"</li>\n")):(s(n),r+="<p>".concat(l,"</p>\n"))}})),s(0),r+="  </body>\n</html>\n"},Object.defineProperty(t,"participationObject",{enumerable:!0,get:function(){return p.participationObject}}),Object.defineProperty(t,"recordParticipation",{enumerable:!0,get:function(){return p.recordParticipation}}),Object.defineProperty(t,"renderParticipants",{enumerable:!0,get:function(){return p.renderParticipants}}),t.xmlEncode=b,r(n(34579)),r(n(17383)),r(n(28452)),r(n(63072)),r(n(29511)),r(n(61837)),r(n(43693));var o=h(n(62054)),a=n(67364),s=n(81939),l=n(37499),c=n(82902),u=n(23451),d=h(n(5148)),p=n(14044);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var m=u.solidLogicSingleton.store,g=(0,a.Namespace)("http://www.w3.org/ns/pim/pad#");function v(e){var t;return e&&e.uri?"#"+(16777215&(t=e.uri,t.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))|12632256).toString(16):"#ffffff"}function y(e,t){for(var n=[],r=t.the(e,g("next"));!r.sameTerm(e);r=t.the(r,g("next")))n.push(r);return n}function b(e){return e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")}},14044:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.manageParticipation=function(e,t,n,r,i,o){var a=e.createElement("table");t.appendChild(a),b(e,a,0,r,0,o);try{w(r,n,a)}catch(n){t.appendChild((0,c.errorMessageBlock)(e,"Error recording your participation: "+n))}return a},t.participationObject=function(e,t,n){return new Promise((function(r,i){if(!n)throw new Error("No user id");var o=y.each(e,l.wf("participation")).filter((function(e){return y.holds(e,l.wf("participant"),n)}));if(o.length>1){var u,p=[],f=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(f.s();!(u=f.n()).done;){var h=u.value,m=y.anyValue(h,l.cal("dtstart"));m&&p.push([m,h])}}catch(e){f.e(e)}finally{f.f()}p.sort(),a.warn("Multiple participation objects, picking earliest, in "+t),r(p[0][1])}if(o.length)r(o[0]);else{var g=(0,c.newThing)(t),b=[(0,s.st)(e,l.wf("participation"),g,t),(0,s.st)(g,l.wf("participant"),n,t),(0,s.st)(g,l.cal("dtstart"),new Date,t),(0,s.st)(g,l.ui("backgroundColor"),(0,d.lightColorHash)(n),t)];y.updater.update([],b,(function(e,t,n){t?r(g):i(new Error("Error recording your participation: "+n))})),r(g)}}))},t.recordParticipation=w,t.renderParticipants=b,r(n(34579)),r(n(17383)),r(n(28452)),r(n(63072)),r(n(29511)),r(n(61837)),r(n(43693));var o=g(n(82902)),a=o,s=n(67364),l=g(n(62054)),c=n(81939),u=n(37499),d=n(51712),p=g(n(5148)),f=r(n(90471)),h=n(23451);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=h.solidLogicSingleton.store;function b(e,t,n,r,i,a){t.setAttribute("style",p.participantsStyle);var s=function(n){var r,i=y.any(n,l.wf("participant"));if(!i)return(r=e.createElement("tr")).textContent="???",r;var o=y.anyValue(n,l.ui("backgroundColor"))||f.default.participationDefaultBackground,s=e.createElement("div");s.setAttribute("style",p.participantsBlock),s.style.backgroundColor=o,r=(0,c.personTR)(e,null,i,a),t.appendChild(r);var u=e.createElement("td");return u.setAttribute("style",p.personTableTD),u.appendChild(s),r.insertBefore(u,r.firstChild),r},d=function(){var e=y.each(r,l.wf("participation")).map((function(e){return(0,o.log)("in participants"),[y.anyValue(e,l.cal("dtstart"))||"9999-12-31",e]}));e.sort();var n=e.map((function(e){return e[1]}));(0,u.syncTableToArray)(t,n,s)};return t.refresh=d,d(),t}function w(e,t,n){var r=h.authn.currentUser();if(r){var i=y.each(e,l.wf("participation")).filter((function(e){return y.holds(e,l.wf("participant"),r)}));if(i.length>1)throw new Error("Multiple records of your participation");if(i.length)return i[0];if(!y.updater.editable(t))return a.log("Not recording participation, as no write access as "+r+" to "+t),null;var o=(0,c.newThing)(t),u=[(0,s.st)(e,l.wf("participation"),o,t),(0,s.st)(o,l.wf("participant"),r,t),(0,s.st)(o,l.cal("dtstart"),new Date,t),(0,s.st)(o,l.ui("backgroundColor"),(0,d.lightColorHash)(r),t)];return y.updater.update([],u,(function(e,t,r){if(!t)throw new Error("Error recording your participation: "+r);n&&n.refresh&&n.refresh()})),o}}},87919:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){return h[e]},t.getPreferencesForClass=function(e,t,n,r){return new Promise((function(i,o){m(e,r).then((function(r){var a=r.sharedPreferences;if(r.me)c.participationObject(e,e.doc(),r.me).then((function(e){g(t,r).then((function(t){var r=[],o=t.personalDefaults;n.forEach((function(t){var n=f.any(e,t)||f.any(a,t)||f.any(o,t);n&&(r[t.uri]=v(n))})),i(r)}),o)}),o);else{var s=[];n.forEach((function(e){var t=f.any(a,e);t&&(s[e.uri]=v(t))})),i(s)}}))}))},t.recordPersonalDefaults=g,t.recordSharedPreferences=m,t.renderPreferencesForm=function(e,t,n,r){var i=r.dom.createElement("div");return c.participationObject(e,e.doc(),r.me).then((function(o){var a=r.dom;function s(e){i.appendChild(a.createElement("h5")).textContent=e}s("My view of this "+r.noun),u.appendForm(a,i,{},o,n,e.doc(),(function(e,t){e||u.complain(r,t)})),s("Everyone's  view of this "+r.noun),m(e,r).then((function(r){var o=r.sharedPreferences;u.appendForm(a,i,{},o,n,e.doc(),(function(e,t){e||u.complain(r,t)})),s("My default view of any "+r.noun),g(t,r).then((function(e){u.appendForm(a,i,{},e.personalDefaults,n,e.preferencesFile,(function(t,n){t||u.complain(e,n)}))}),(function(e){u.complain(r,e)}))}))}),(function(e){i.appendChild(u.errorMessageBlock(r.dom,e))})),i},t.set=function(e,t){if("string"!=typeof t)throw a.log("Non-string value of preference "+e+": "+t),new Error("Non-string value of preference "+e+": "+t);this.value[e]=t},t.value=void 0;var i=p(n(67364)),o=n(23451),a=p(n(82902)),s=n(47822),l=p(n(62054)),c=p(n(14044)),u=p(n(81939));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var f=o.store,h=t.value=[];function m(e,t){return new Promise((function(n,r){var o=f.any(e,l.ui("sharedPreferences"));if(o)t.sharedPreferences=o,n(t);else{f.updater.editable(e.doc())||(a.log(" Cant make shared preferences, may not change ".concat(e.doc)),n(t));var s=i.sym(e.doc().uri+"#SharedPreferences"),c=[i.st(e,l.ui("sharedPreferences"),s,e.doc())];a.log("Creating shared preferences "+s),f.updater.update([],c,(function(e,i,o){i?(t.sharedPreferences=s,n(t)):r(new Error("Error creating shared prefs: "+o))}))}}))}function g(e,t){return new Promise((function(n,r){(0,s.ensureLoadedPreferences)(t).then((function(t){if(t.preferencesFile){var o,s,c=f.each(null,l.solid("forClass"),e,t.preferencesFile),d=[];if(c.length){if(c.forEach((function(e){o=o||f.any(e,l.solid("personalDefaults"))})),o)return t.personalDefaults=o,void n(t);o=u.newThing(t.preferencesFile),s=c[0]}else s=u.newThing(t.preferencesFile),d=[i.st(s,l.rdf("type"),l.solid("TypeRegistration"),t.preferencesFile),i.st(s,l.solid("forClass"),e,t.preferencesFile)];o=u.newThing(t.preferencesFile),d.push(i.st(s,l.solid("personalDefaults"),o,t.preferencesFile)),f.updater.update([],d,(function(i,a,s){a?(t.personalDefaults=o,n(t)):r(new Error("Setting preferences for "+e+": "+s))}))}else a.log("Not doing private class preferences as no access to preferences file. "+t.preferencesFileError)}),(function(e){r(e)}))}))}function v(e){return e.datatype?e.datatype.equals(l.xsd("boolean"))?"1"===e.value:e.datatype.equals(l.xsd("dateTime"))||e.datatype.equals(l.xsd("date"))?new Date(e.value):e.datatype.equals(l.xsd("integer"))||e.datatype.equals(l.xsd("float"))||e.datatype.equals(l.xsd("decimal"))?Number(e.value):e.value:e}},82566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={authEndpoint:"",fallbackAuthEndpoint:"https://databox.me/",signupEndpoint:"https://solidproject.org/use-solid/",signupWindowHeight:600,signupWindowWidth:1024,key:"",cert:""}},23292:(e,t,n)=>{"use strict";var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.Signup=o;var i=r(n(82566));function o(e){this.config=e||i.default}o.prototype.listen=function(){return new Promise((function(e,t){var n=window.addEventListener?"addEventListener":"attachEvent";(0,window[n])("attachEvent"===n?"onmessage":"message",(function(n){var r=n.data;if("User:"===r.slice(0,5)){var i=r.slice(5,r.length);return i&&i.length>0&&"http"===i.slice(0,4)?e(i):t(i)}}),!0)}))},o.prototype.signup=function(e){e=e||this.config.signupEndpoint;var t=this.config.signupWindowWidth,n=this.config.signupWindowHeight,r=window.screen.width/2-(t/2+10),i=window.screen.height/2-(n/2+50),o=e+"?origin="+encodeURIComponent(window.location.origin),a="resizable,scrollbars,status,width="+t+",height="+n+",left="+r+",top="+i;window.open(o,"Solid signup",a);var s=this;return new Promise((function(e){s.listen().then((function(t){return e(t)}))}))}},5148:(e,t,n)=>{"use strict";var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.style=void 0;var i=r(n(90471)),o=t.style={checkboxStyle:"color: black; font-size: 100%; padding-left: 0.5 em; padding-right: 0.5 em;",checkboxInputStyle:"font-size: 150%; height: 1.2em; width: 1.2em; background-color: #eef; border-radius:0.2em; margin: 0.1em;",fieldLabelStyle:"color: #3B5998; text-decoration: none;",formSelectStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c; border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c; border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyleUneditable:"background-color: white; padding: 0.5em;  border: .05em solid white; border-radius:0.2em; font-size: 100%; margin:0.4em;",buttonStyle:"background-color: #fff; padding: 0.7em;  border: .01em solid white; border-radius:0.2em; font-size: 100%; margin: 0.3em;",commentStyle:"padding: 0.7em;  border: none; font-size: 100%; white-space: pre-wrap;",iconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 1em;",smallButtonStyle:"margin: 0.2em; width: 1em; height:1em;",classIconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 0.2em; border: 0.1em solid green; padding: 0.2em; background-color: #efe;",confirmPopupStyle:"padding: 0.7em; border-radius: 0.2em; border: 0.1em solid orange; background-color: white; box-shadow: 0.5em 0.9em #888;",messageBodyStyle:"white-space: pre-wrap; width: 99%; font-size:100%; border: 0.07em solid #eee; border-radius:0.2em; padding: .3em 0.5em; margin: 0.1em;",pendingeditModifier:"color: #bbb;",personaBarStyle:"width: 100%; height: 4em; background-color: #eee; vertical-align: middle;",searchInputStyle:"border: 0.1em solid #444; border-radius: 0.2em; width: 100%; font-size: 100%; padding: 0.1em 0.6em; margin 0.2em;",autocompleteRowStyle:"border: 0.2em solid straw;",signInAndUpButtonStyle:"padding: 1em; border-radius:0.2em; font-size: 100%;",headerBannerLoginInput:"margin: 0.75em 0 0.75em 0.5em !important; padding: 0.5em !important;",signUpBackground:"background-color: #eef;",signInBackground:"background-color: #efe;",heading1Style:"font-size: 180%; font-weight: bold; color: #888888; padding: 0.5em; margin: 0.7em 0.0m;",heading2Style:"font-size: 130%; font-weight: bold; color: #888888; padding: 0.4em; margin: 0.7em 0.0em;",heading3Style:"font-size: 120%; font-weight: bold; color: #888888; padding: 0.3em; margin: 0.7em 0.0em;",heading4Style:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em; margin: 0.7em 0.0em;",formHeadingStyle:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em;  margin: 0.7em 0.0em;",formTextInput:"font-size: 100%; margin: 0.1em; padding: 0.1em;",formGroupStyle:["padding-left: 0em; border: 0.0em solid ".concat(i.default.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.05em solid ".concat(i.default.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.1em solid ".concat(i.default.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.2em solid ".concat(i.default.formBorderColor,"; border-radius: 0.2em;")],formFieldLabelStyle:"color: ".concat(i.default.lowProfileLinkColor,"; text-decoration: none;"),formFieldNameBoxStyle:"padding: 0.3em; vertical-align: middle; width:".concat(i.default.formFieldNameBoxWidth,";"),multilineTextInputStyle:"font-size:100%; white-space: pre-wrap; background-color: #eef; border: 0.07em solid gray; padding: 1em 0.5em; margin: 1em 1em;",renderAsDivStyle:"display: flex; align-items: center; justify-content: space-between; height: 2.5em; padding: 1em;",imageDivStyle:"width:2.5em; padding:0.5em; height: 2.5em;",linkDivStyle:"width:2em; padding:0.5em; height: 4em;",aclControlBoxContainer:"margin: 1em;",aclControlBoxHeader:"font-size: 120%; margin: 0 0 1rem;",aclControlBoxStatus:"display: none; margin: 1rem 0;",aclControlBoxStatusRevealed:"display: block;",aclGroupContent:"maxWidth: 650;",accessGroupList:"display: grid; grid-template-columns: 1fr; margin: 1em; width: 100%;",accessGroupListItem:"display: grid; grid-template-columns: 100px auto 30%;",defaultsController:"display: flex;",defaultsControllerNotice:"color: #888; flexGrow: 1; fontSize: 80%;",bigButton:"background-color: white; border: 0.1em solid #888; border-radius: 0.3em; max-width: 50%; padding-bottom: 1em; padding-top: 1em;",group:"color: #888;",group1:"color: green;",group2:"color: #cc0;",group3:"color: orange;",group5:"color: red;",group9:"color: blue;",group13:"color: purple;",trustedAppAddApplicationsTable:"background-color: #eee;",trustedAppCancelButton:"float: right;",trustedAppControllerI:"border-color: orange; border-radius: 1em; border-width: 0.1em;",temporaryStatusInit:"background: green;",temporaryStatusEnd:"background: transparent; transition: background 5s linear;",headerUserMenuLink:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em;  width: 100%; text-decoration: none;",headerUserMenuLinkHover:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em;  width: 100%; text-decoration: none; background-image: linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%);",headerUserMenuTrigger:"background: none; border: 0; cursor: pointer; width: 60px; height: 60px;",headerUserMenuTriggerImg:"border-radius: 50%; height: 56px; width: 28px !important;",headerUserMenuButton:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em; width: 100%;",headerUserMenuButtonHover:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em; width: 100%; background-image: linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%);",headerUserMenuList:"list-style: none; margin: 0; padding: 0;",headerUserMenuListDisplay:"list-style: none; margin: 0; padding: 0; display:true;",headerUserMenuNavigationMenu:"background: white; border: solid 1px #000000; border-right: 0; position: absolute; right: 0; top: 60px; width: 200px; z-index: 1; display: true;",headerUserMenuNavigationMenuNotDisplayed:"background: white; border: solid 1px #000000; border-right: 0; position: absolute; right: 0; top: 60px; width: 200px; z-index: 1; display: none;",headerUserMenuListItem:"border-bottom: solid 1px #000000;",headerUserMenuPhoto:"border-radius: 50%; background-position: center; background-repeat: no-repeat; background-size: cover; height: 50px; width: 50px;",headerBanner:"box-shadow: 0px 1px 4px #000000; display: flex; justify-content: space-between; padding: 0 1.5em; margin-bottom: 4px;",headerBannerLink:"display: block;",headerBannerRightMenu:"display: flex;",headerBannerLogin:"margin-left: auto;",allChildrenVisible:"display:true;",headerBannerUserMenu:"border-left: solid 1px #000000; margin-left: auto;",headerBannerHelpMenu:"border-left: solid 1px #000000; margin-left: auto;",headerBannerIcon:"background-size: 65px 60px !important; height: 60px !important; width: 65px !important;",footer:"border-top: solid 1px $divider-color; font-size: 0.9em; padding: 0.5em 1.5em;",primaryButton:"background-color: #7c4dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",primaryButtonHover:"background-color: #9f7dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",primaryButtonNoBorder:"background-color: #ffffff; color: #7c4dff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",primaryButtonNoBorderHover:"background-color: #7c4dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",secondaryButton:"background-color: #01c9ea; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",secondaryButtonHover:"background-color: #37cde6; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",secondaryButtonNoBorder:"background-color: #ffffff; color: #01c9ea; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",secondaryButtonNoBorderHover:"background-color: #01c9ea; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",controlStyle:"border-radius: 0.5em; margin: 0.8em; width:".concat(i.default.mediaModuleCanvasWidth,"; height:").concat(i.default.mediaModuleCanvasHeight,";"),dragEvent:"background-color: #ccc; border: 0.25em dashed black; border-radius: 0.3em;",dropEvent:"background-color: white; border: 0em solid black;",restoreStyle:"background-color: white;",errorCancelButton:"width: 2em; height: 2em; align: right;",errorMessageBlockStyle:"margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; color:black;",notepadStyle:"padding: 1em; overflow: auto; resize: horizontal; min-width: 40em;",upstreamStatus:"width: 50%;",downstreamStatus:"width: 50%;",baseStyle:"font-size: 100%; font-family: monospace; width: 100%; border: none; white-space: pre-wrap;",headingCore:"font-family: sans-serif; font-weight: bold;  border: none;",headingStyle:["font-size: 110%; padding-top: 0.5em; padding-bottom: 0.5em; width: 100%;","font-size: 120%; padding-top: 1em; padding-bottom: 1em; width: 100%;","font-size: 150%; padding-top: 1em; padding-bottom: 1em; width: 100%;"],participantsStyle:"margin: 0.8em;",participantsBlock:"height: 1.5em; width: 1.5em; margin: 0.3em; border 0.01em solid #888;",personTableTD:"vertical-align: middle;",tabsNavElement:"margin: 0;",tabsRootElement:"display: flex; height: 100%; width: 100%;",tabsMainElement:"margin: 0; width:100%; height: 100%;",tabContainer:"list-style-type: none; display: flex; height: 100%; width: 100%; margin: 0; padding: 0;",makeNewSlot:"background: none; border: none; font: inherit; cursor: pointer;",ellipsis:"position: absolute; right: 0; bottom: 0; width: 20%; background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;"};o.setStyle=function(e,t){e.style=o[t]},e.exports=o},90471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={highlightColor:"#7C4DFF",formBorderColor:"#888888",formHeadingColor:"#888888",lowProfileLinkColor:"#3B5998",formFieldNameBoxWidth:"8em",mediaModuleCanvasWidth:"640",mediaModuleCanvasHeight:"480",textInputSize:20,tabBorderRadius:"0.2em",textInputBackgroundColor:"#eef",textInputBackgroundColorUneditable:"#fff",textInputColor:"#000",textInputColorPending:"#888",defaultErrorBackgroundColor:"#fee",participationDefaultBackground:"white",basicMaxLength:"4096"}},39654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.style=void 0;var n=t.style={multiselect__container:"\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n        background-color: #fff;\n        border-radius: 2px;\n        -webkit-box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n                box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        min-height: 36px;\n        padding: 4px 8px 0 8px;\n        position: relative;\n        width: 354px;\n        margin-bottom: 5px;\n        font-size: 100%\n    ",multiselect__wrapper:"\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n        height: 100%;\n        width: 100%;\n    ",multiselect__clear_btn:"\n        cursor: pointer;\n        align-items: center;\n        margin-bottom: 4px;\n        margin-left: 4px;\n    ",multiselect__options:"\n        background-color: #f6f6f6;\n        border-radius: 2px;\n        left: 0;\n        max-height: 0;\n        overflow: hidden;\n        position: absolute;\n        top: calc(100% + 3px);\n        z-index: 9999;\n        width: 100%;\n        opacity: 0;\n        transition: max-height 0.1s ease;\n    ",multiselect__options_visible:"\n        background-color: #f6f6f6;\n        border-radius: 2px;\n        left: 0;\n        max-height: 0;\n        overflow: hidden;\n        position: absolute;\n        top: calc(100% + 3px);\n        z-index: 9999;\n        width: 100%;\n        opacity: 0;\n        transition: max-height 0.1s ease;\n        max-height: 200px;\n        -webkit-box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        opacity: 1;\n        transition: max-height 0.2s ease;\n    ",multiselect__options_ul:"\n        list-style: none;\n        margin: 0;\n        padding: 2px 0;\n        max-height: 200px;\n        overflow: auto;\n    ",multiselect__options_ul_li:"\n        cursor: pointer;\n        padding: 4px 8px;\n    ",multiselect__options_ul_li_hover:"\n        background-color: #dedede;\n    ",multiselect__options_ul_p_multiselect__options_no_results:"\n        margin: 0;\n        padding: 8px;\n        text-align: center;\n    ",multiselect__options_ul_p_multiselect__options_no_data:"\n        margin: 0;\n        padding: 8px;\n        text-align: center;\n    ",multiselect__options_ul_li_multiselect__options_selected:"\n        background-color: #656565;\n        color: #fff;\n    ",multiselect__options_ul_li_multiselect__options_selected_hover:"\n    background-color: #656565;\n    ",multiselect__options_ul_li_arrow_selected:"\n        border: 2px solid rgba(101, 101, 101, 0.5);\n    ",multiselect__selected:"\n        background-color: #656565;\n        border-radius: 2px;\n        color: #fff;\n        margin-bottom: 4px;\n        margin-right: 4px;\n        padding: 4px 8px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n        align-items: center;\n    ",multiselect__selected_multiselect__remove_btn:"\n        cursor: pointer;\n        display: flex;\n        margin-left: 6px;\n    ",multiselect__input:"\n        border: none;\n        -ms-flex-preferred-size: 40%;\n            flex-basis: 40%;\n        -webkit-box-flex: 1;\n            -ms-flex-positive: 1;\n                flex-grow: 1;\n        height: 5px;        \n        margin-bottom: 4px;\n        min-width: 40%;\n        outline: none;      \n    "};n.setStyle=function(e,t){e.style=n[t]},e.exports=n},59129:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.renderTableViewPane=function(e,t){var n,r,o,s,l=t.sourceDocument,d=t.tableClass,p=t.query,f="http://www.w3.org/2000/01/rdf-schema#Literal",m=h.ns,g=a.store,v={},y={"http://www.w3.org/2002/07/owl#sameAs":!0,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":!0},b={"http://www.w3.org/2001/XMLSchema#decimal":!0,"http://www.w3.org/2001/XMLSchema#float":!0,"http://www.w3.org/2001/XMLSchema#double":!0,"http://www.w3.org/2001/XMLSchema#integer":!0,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":!0,"http://www.w3.org/2001/XMLSchema#positiveInteger":!0,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":!0,"http://www.w3.org/2001/XMLSchema#negativeInteger":!0,"http://www.w3.org/2001/XMLSchema#long":!0,"http://www.w3.org/2001/XMLSchema#int":!0,"http://www.w3.org/2001/XMLSchema#short":!0,"http://www.w3.org/2001/XMLSchema#byte":!0,"http://www.w3.org/2001/XMLSchema#unsignedLong":!0,"http://www.w3.org/2001/XMLSchema#unsignedInt":!0,"http://www.w3.org/2001/XMLSchema#unsignedShort":!0,"http://www.w3.org/2001/XMLSchema#unsignedByte":!0},w={"http://www.w3.org/2001/XMLSchema#dateTime":!0,"http://www.w3.org/2001/XMLSchema#date":!0},x={"http://xmlns.com/foaf/0.1/Image":!0,"http://purl.org/dc/terms/Image":!0},E=t.keyVariable||"?_row",_=0,k=null,S=null,C=e.createElement("div");C.className="tableViewPane",C.appendChild(function(){var t=e.createElement("table");t.setAttribute("class","toolbar");var n=e.createElement("tr");return o=e.createElement("td"),n.appendChild(o),s=e.createElement("td"),n.appendChild(s),t.appendChild(n),t}());var A,T=e.createElement("div");if(C.appendChild(T),C.refresh=function(){Z(A.query,A.logicalRows,A.columns,A)},p)A=ne(p),T.appendChild(A);else{var P=function(){var e,t,n=function(){for(var e={},t=g.statementsMatching(void 0,h.ns.rdf("type"),d,l),n={},r=0;r<t.length;++r){var i=t[r].object;if("NamedNode"===i.termType){var o=M(e,i);i.uri in n||(n[i.uri]=[]),n[i.uri].push(t[r].subject),o.addUse()}}return[n,e]}();for(var r in e=n[0],t=n[1],e){var i=e[r];U(t[r],i)}return[new N(null),L(t)]}();n=P[0],r=P[1],d||o.appendChild(function(t,n){var r=e.createElement("div");r.appendChild(e.createTextNode("Select type: "));var i=e.createElement("select");for(var o in i.appendChild(R("All types","null")),n)i.appendChild(R(n[o].getLabel(),o));return i.addEventListener("click",(function(){O("null"===i.value?t:n[i.value])}),!1),r.appendChild(i),r}(n,r)),S=function(e){var t,n=-1,r=null;for(t in e){var i=e[t];i.useCount>n&&(r=i,n=i.useCount)}return r}(r),O(S||n)}return C;function O(t){I(s),s.appendChild(function(t){var n=e.createElement("div"),r=t.getUnusedColumns();if(r.sort((function(e,t){var n=e.sortKey(),r=t.sortKey();return(n>r)-(n<r)})),r.length>0){n.appendChild(e.createTextNode("Add column: "));var i=e.createElement("select");i.appendChild(R("","-1"));for(var o=0;o<r.length;++o){var a=r[o];i.appendChild(R(a.getLabel(),""+o))}n.appendChild(i),i.addEventListener("click",(function(){var e=Number(i.value);e>=0&&(t.addColumn(r[e]),O(t))}),!1)}return n}(t)),function(e,t){k&&(k.running=!1);var n=ne(e,t);I(T),T.appendChild(n),k=e}(function(e){var t=new c.Query,n=g.variable(E.slice(1));return function(e,t){for(var n=t.getColumns(),r=0;r<n.length;++r){var i=g.variable("_col"+r);e.vars.push(i),n[r].setVariable(i)}}(t,e),function(e,t,n){var r=n.type;r||(r=g.variable("_any")),e.pat.add(t,h.ns.rdf("type"),r)}(t,n,e),function(e,t,n){for(var r=n.getColumns(),i=0;i<r.length;++i){var o=r[i],a=g.formula();a.add(t,o.predicate,o.getVariable()),e.pat.optional.push(a)}}(t,n,e),t}(t),t)}function I(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}function N(e){this.type=e,this.columns=null,this.allColumns=[],this.useCount=0,this.getAllColumns=function(){return this.allColumns},this.getColumns=function(){if(!this.columns){var e=this.getAllColumns();this.columns=e.slice(0,7)}return this.columns},this.getUnusedColumns=function(){for(var e=this.getAllColumns(),t=this.getColumns(),n=[],r=0;r<e.length;++r)-1===t.indexOf(e[r])&&n.push(e[r]);return n},this.addColumn=function(e){this.columns.push(e)},this.removeColumn=function(e){this.columns=this.columns.filter((function(t){return t!==e}))},this.getLabel=function(){return u.label(this.type)},this.addUse=function(){this.useCount+=1}}function F(){this.useCount=0,this.checkedAnyValues=!1,this.possiblyLiteral=!0,this.possiblyNumber=!0,this.constraints=[],this.checkValue=function(e){var t=e.termType;this.possiblyLiteral&&"Literal"!==t&&"NamedNode"!==t?(this.possiblyNumber=!1,this.possiblyLiteral=!1):this.possiblyNumber&&("Literal"!==t?this.possiblyNumber=!1:e.value.match(/^-?\d+(\.\d*)?$/)||(this.possiblyNumber=!1)),this.checkedAnyValues=!0},this.getVariable=function(){return this.variable},this.setVariable=function(e){this.variable=e},this.getKey=function(){return this.variable.toString()},this.addUse=function(){this.useCount+=1},this.getHints=function(){return t&&t.hints&&this.variable&&t.hints[this.variable.toNT()]?t.hints[this.variable.toNT()]:{}},this.getLabel=function(){return this.getHints().label?this.getHints().label:this.predicate?this.predicate.sameTerm(m.rdf("type"))&&this.superClass?u.label(this.superClass,!0):u.label(this.predicate):this.variable?this.variable.toString():"unlabeled column?"},this.setPredicate=function(e,t,n){t?(this.inverse=e,this.constraints=this.constraints.concat(g.each(e,h.ns.rdfs("domain"))),e.sameTerm(m.rdfs("subClassOf"))&&"NamedNode"===n.termType&&(this.superClass=n,this.alternatives=g.each(void 0,m.rdfs("subClassOf"),n))):(this.predicate=e,this.constraints=this.constraints.concat(g.each(e,h.ns.rdfs("range"))))},this.getConstraints=function(){return this.constraints},this.filterFunction=function(){return!0},this.sortKey=function(){return this.getLabel().toLowerCase()},this.isImageColumn=function(){for(var e=0;e<this.constraints.length;e++)if(this.constraints[e].uri in x)return!0;return!1}}function L(e,t){var n=[];for(var r in e){var i=e[r];t&&!t(r,i)||n.push(i)}return n}function R(t,n){var r=e.createElement("option");return r.setAttribute("value",n),r.appendChild(e.createTextNode(t)),r}function j(e,t){var n;return t.uri in e?n=e[t.uri]:((n=new F).setPredicate(t),e[t.uri]=n),n}function M(e,t){var n;return t.uri in e?n=e[t.uri]:(n=new N(t),e[t.uri]=n),n}function D(e,t){for(var n=g.statementsMatching(e,void 0,void 0,l),r={},i=0;i<n.length;++i){var o=n[i].predicate;if(!(o.uri in y)){var a=j(t,o);a.checkValue(n[i].object),r[o.uri]=a}}return r}function U(e,t){for(var n={},r=0;r<t.length;++r){var i=D(t[r],n);for(var o in i)i[o].addUse()}var a=L(n);!function(e){e.sort((function(e,t){return(e.useCount<t.useCount)-(e.useCount>t.useCount)}))}(a),e.allColumns=a}function B(t,n){var r=e.createElement("a");return r.appendChild(e.createTextNode("[x]")),r.addEventListener("click",(function(){t.removeColumn(n),O(t)}),!1),r}function H(e,t){for(var n=!0,r=0;r<t.length;++r){var i=t[r],o=i.getKey(),a=null;if(o in e.values&&(a=e.values[o][0]),!i.filterFunction(a)){n=!1;break}}e._htmlRow.style.display=n?"":"none"}function q(e,t){for(var n=0;n<e.length;++n)H(e[n],t)}function W(e,t,n){function r(e){return e?"Literal"===e.termType?e.value.toLowerCase():"NamedNode"===e.termType?u.label(e).toLowerCase():e.value.toLowerCase():""}!function(e,t,n,i){var o=t.getKey();if(e.sort((function(e,t){var n=null,a=null;o in e.values&&(n=e.values[o][0]),o in t.values&&(a=t.values[o][0]);var s,l,c,u=(s=a,l=r(n),c=r(s),l<c?-1:l>c?1:0);return i?-u:u})),e.length){for(var a=e[0]._htmlRow.parentNode,s=0;s<e.length;++s)a.removeChild(e[s]._htmlRow);for(var l=0;l<e.length;++l)a.appendChild(e[l]._htmlRow)}}(e,t,0,n)}function z(t,n,r){var i=e.createElement("div"),o=e.createElement("input");o.setAttribute("type","text"),o.style.width="70%",i.appendChild(o);var a=e.createElement("span");a.appendChild(e.createTextNode("▼")),a.addEventListener("click",(function(){W(t,r,!1)}),!1),i.appendChild(a);var s=e.createElement("span");s.appendChild(e.createTextNode("▲")),s.addEventListener("click",(function(){W(t,r,!0)}),!1),i.appendChild(s);var l=null;return r.filterFunction=function(e){return!l||!!e&&("Literal"===e.termType?e.value:"NamedNode"===e.termType?u.label(e):"").toLowerCase().indexOf(l)>=0},o.addEventListener("keyup",(function(){l=""!==o.value?o.value.toLowerCase():null,q(t,n)}),!1),i}function V(t,n,r,i){for(var o=e.createElement("div"),a=e.createElement("select"),s={},l=0;l<i.length;++l){var c=i[l];s[c.uri]=!0}var d=J(r).initialSelection;d&&(s=d),a.setAttribute("multiple","true");for(var p=0;p<i.length;++p){var f=i[p],h=R(u.label(f),p);s[f.uri]&&(h.selected=!0),a.appendChild(h)}return o.appendChild(a),r.filterFunction=function(e){return!s||e&&s[e.uri]},a.addEventListener("click",(function(){s={};for(var e=a.options,r=0;r<e.length;r++){var o=e[r],l=Number(o.value);e[r].selected&&(s[i[l].uri]=!0)}q(t,n)}),!0),o}function $(t,n,r){var i=e.createElement("div"),o=e.createElement("input");o.setAttribute("type","text"),o.style.width="40px",i.appendChild(o);var a=e.createElement("input");a.setAttribute("type","text"),a.style.width="40px",i.appendChild(a);var s=null,l=null;function c(){s=""===o.value?null:Number(o.value),l=""===a.value?null:Number(a.value),q(t,n)}return r.filterFunction=function(e){return e&&(e=Number(e)),!(s&&(!e||e<s)||l&&(!e||e>l))},o.addEventListener("keyup",c,!1),a.addEventListener("keyup",c,!1),i}function K(e,t,n){if(n.superClass&&n.alternatives.length>0)return V(e,t,n,n.alternatives);for(var r,i=n.getConstraints(),o=0;o<i.length;o++){if(r=i[o],n.checkedAnyValues&&n.possiblyNumber||r.uri in b)return $(e,t,n);if(r.uri===f)return z(e,t,n);var a=g.each(r,h.ns.owl("oneOf"));if(a.length>0)return V(e,t,n,a.elements)}return function(e,t,n){return n.checkedAnyValues&&n.possiblyNumber?$(e,t,n):n.possiblyLiteral?z(e,t,n):null}(e,t,n)}function G(t,n,r){r=r||{};var o=e.createElement("a"),a=r.linkFunction;return o.setAttribute("href",t),o.appendChild(e.createTextNode(n)),a?o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=u.getTarget(e).getAttribute("href");t||i.log("No href found \n"),a(t)}),!0):o.addEventListener("click",h.widgets.openHrefInOutlineMode,!0),o}function J(e){return t&&t.hints&&e.variable&&t.hints[e.variable.toNT()]?t.hints[e.variable.toNT()]:{}}function Q(t,n){var r=J(n),i=r.cellFormat;if(!i){if("Literal"===t.termType){if(t.datatype){if(w[t.datatype.uri])return e.createTextNode(h.widgets.shortDate(t.value));if(b[t.datatype.uri]){var o=e.createElement("span");return o.textContent=t.value,o.setAttribute("style","text-align: right"),o}}return e.createTextNode(t.value)}if("NamedNode"===t.termType&&n.isImageColumn())return function(t){var n=e.createElement("img");return n.setAttribute("src",t.uri),n.style.height="40px",n}(t);if("NamedNode"===t.termType||"BlankNode"===t.termType)return function(e,t){var n=!1;return e.uri&&(n=e.uri.match(/^mailto:(.*)/)),G(e.uri,n?n[1]:u.label(e),t)}(t,r);if("Collection"===t.termType){var a=e.createElement("span");return a.appendChild(e.createTextNode("[")),t.elements.forEach((function(t){a.appendChild(Q(t,n)),a.appendChild(e.createTextNode(", "))})),a.removeChild(a.lastChild),a.appendChild(e.createTextNode("]")),a}return e.createTextNode("unknown termtype '"+t.termType+"'!")}if("shortDate"===i)return e.createTextNode(h.widgets.shortDate(t.value))}function Y(e,t){var n,r=null;if("Literal"===e.termType)r="value";else{if("NamedNode"!==e.termType)return t.indexOf(e)>=0;r="uri"}for(n=0;n<t.length;++n)if(t[n].termType===e.termType&&t[n][r]===e[r])return!0;return!1}function X(e){if("uri"in e)return e.uri;if("_subject_id"in e)return e._subject_id;var t=""+_;return e._subject_id=t,++_,t}function Z(n,r,o,a){n.running=!0;var s=Date.now(),l=e.createElement("tr");a.appendChild(l),l.textContent="Loading ...";for(var c=0;c<r.length;c++)r[c].original=!0,r[c].originalValues||(r[c].originalValues=r[c].values),r[c].values={};g.query(n,(function(t){if(n.running){l.textContent+=".";var i,s=null,c=null;if(E in t&&(i=X(c=t[E]))in v&&(s=v[i]),!s){var u=e.createElement("tr");a.appendChild(u),s={_htmlRow:u,_subject:c,values:{}},r.push(s),c&&(v[i]=s)}delete s.original,function(t,n,r){var i,o=!1;for(i in r){var a=r[i];i in t.values||(t.values[i]=[]),Y(a,t.values[i])||(t.values[i].push(a),o=!0)}o&&(I(t._htmlRow),function(t,n,r,i){var o=e.createElement("td");n._subject&&"uri"in n._subject&&o.appendChild(G(n._subject.uri,"→")),t.appendChild(o);for(var a=0;a<r.length;++a){var s=r[a],l=e.createElement("td"),c=void 0,u=s.getKey();if(u in n.values){var d=n.values[u],p=!1;n.originalValues&&n.originalValues[u]&&d.length!==n.originalValues[u].length&&(p=!0);for(var f=0;f<d.length;++f){var h=d[f];n.originalValues&&n.originalValues[u]&&n.originalValues[u].length>f&&(c=n.originalValues[u][f],h.toString()!==c.toString()&&(p=!0)),l.appendChild(Q(h,s)),f!==d.length-1&&l.appendChild(e.createTextNode(",\n")),p&&(l.style.background="#efe")}}t.appendChild(l)}n._htmlRow=t}(t._htmlRow,t,n)),H(t,n)}(s,o,t)}}),void 0,(function(){l&&l.parentNode&&l.parentNode.removeChild&&(l.parentNode.removeChild(l),l=null);var e=Date.now()-s;i.log("Query done: "+r.length+" rows, "+e+"ms");for(var n=r.length-1;n>=0;n--)if(r[n].original){i.log("   deleting row "+r[n]._subject);var a=r[n]._htmlRow;a.parentNode.removeChild(a),delete v[X(r[n]._subject)],r.splice(n,1)}if(t.sortBy){var c=function(e,t){for(var n in e){var r=e[n];if(r.variable.toNT()===t)return r}throw new Error("getColumnForVariable: no column for variable ".concat(t))}(o,t.sortBy);W(r,c,t.sortReverse)}t.onDone&&t.onDone(C)}))}function ee(e,t){h.log.debug(">> processing formula");for(var n=0;n<t.statements.length;++n){var r=t.statements[n];if("NamedNode"===r.predicate.termType&&"Variable"===r.object.termType){var i=r.object.toString();i in e&&e[i].setPredicate(r.predicate,!1,r.subject)}if("NamedNode"===r.predicate.termType&&"Variable"===r.subject.termType){var o=r.subject.toString();o in e&&e[o].setPredicate(r.predicate,!0,r.object)}}for(var a=0;a<t.optional.length;++a)h.log.debug("recurse to optional subformula "+a),ee(e,t.optional[a]);h.log.debug("<< finished processing formula")}function te(e){for(var t=[],n={},r=0;r<e.vars.length;++r){var i=new F,o=e.vars[r];h.log.debug("column "+r+" : "+o),i.setVariable(o),n[o]=i,t.push(i)}return ee(n,e.pat),t}function ne(t,n){var r;r=p?te(t):n.getColumns();var i=[],o=e.createElement("table");return o.appendChild(function(t,n){var r=e.createElement("tr"),i=e.createElement("th");r.appendChild(i);for(var o=0;o<t.length;++o){var a=e.createElement("th"),s=t[o];a.appendChild(e.createTextNode(s.getLabel())),n&&a.appendChild(B(n,s)),r.appendChild(a)}return r}(r,n)),o.appendChild(function(t,n){var r=e.createElement("tr");r.className="selectors",r.appendChild(e.createElement("td"));for(var i=0;i<n.length;++i){var o=e.createElement("td"),a=K(t,n,n[i]);a&&o.appendChild(a),r.appendChild(o)}return r}(i,r)),o.logicalRows=i,o.columns=r,o.query=t,Z(t,i,r,o),o}};var i=f(n(82902)),o=n(4901),a=n(23451),s=f(n(9295)),l=f(n(62054)),c=f(n(67364)),u=f(n(37499)),d=f(n(81939));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var h={icons:o.icons,log:s,ns:l,utils:u,widgets:d}},53489:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.TabWidgetElement=void 0,t.tabWidget=function(e){var t=e.subject,n=e.dom||document,r=parseInt(e.orientation||"0"),i=e.backgroundColor||w,a=2&r,s=1&r,l=e.onClose,c=function(e){return function(e){for(var t=0,n=0;n<3;n++)t+=parseInt(e.slice(2*n+1,2*n+3),16);return t>384}(e)?[x(e,"#ffffff",.3),"#000000"]:[x(e,"#000000",.3),"#ffffff"]}(i),u=(0,o.default)(c,2),d=u[0],p=u[1],v="flex: 2; width: auto; height: 100%; border: 0.1em; border-style: solid; border-color: ".concat(d,"; padding: 1em;"),y=n.createElement("div");y.setAttribute("style",m.tabsRootElement),y.style.flexDirection=(s?"row":"column")+(a?"-reverse":"");var b=y.appendChild(n.createElement("nav"));b.setAttribute("style",m.tabsNavElement);var E=y.appendChild(n.createElement("main"));E.setAttribute("style",m.tabsMainElement);var _=b.appendChild(n.createElement("ul"));_.setAttribute("style",m.tabContainer),_.style.flexDirection="".concat(s?"column":"row");var k="li",S=E;y.tabContainer=_,y.bodyContainer=S;var C=["0.2em","0.2em","0","0"],A=C.concat(C).slice(r,r+4),T="border-radius: ".concat(A.join(" "),";"),P=["0.3em","0.3em","0","0.3em"],O=P.concat(P).slice(r,r+4),I="margin: ".concat(O.join(" "),";"),N="padding: ".concat(O.join(" "),";"),F=T+"position: relative; padding: 0.7em; max-width: 20em; color: ".concat(p,";"),L="".concat(F+I," opacity: 50%; background-color: ").concat(i,";"),R="".concat(F+I," background-color: ").concat(d,";"),j="height: 100%; width: 100%;",M=j+"display: none;";if(y.refresh=q,q(),!e.startEmpty&&_.children.length&&e.selectedTab){var D=Array.from(_.children).map((function(e){return e.firstChild})).find((function(t){return t.dataset.name===e.selectedTab})),U=e.selectedTab.uri,B=(Array.from(_.children).find((function(e){return e.subject&&e.subject.uri&&e.subject.uri===U}))||D||_.children[0]).firstChild;B&&B.click()}else e.startEmpty||_.children[0].firstChild.click();return y;function H(t){var r=n.createElement(k);r.setAttribute("style",L),r.subject=t;var i=r.appendChild(n.createElement("button"));if(i.setAttribute("style",m.makeNewSlot),i.onclick=function(){if(W(),z(),r.setAttribute("style",R),r.bodyTR){r.bodyTR.setAttribute("style",j);var n=a(r);e.renderMain&&r.subject&&!1!==n.asSettings&&(n.innerHTML="loading item ..."+t,e.renderMain(n,r.subject),n.asSettings=!1)}},e.renderTabSettings&&r.subject){var o=n.createElement("button");o.textContent="...",o.setAttribute("style",m.ellipsis),o.onclick=function(){if(W(),z(),r.setAttribute("style",R),r.bodyTR){r.bodyTR.setAttribute("style",j);var n=a(r);e.renderTabSettings&&r.subject&&!0!==n.asSettings&&(n.innerHTML="loading settings ..."+t,e.renderTabSettings(n,r.subject),n.asSettings=!0)}},r.appendChild(o)}return e.renderTab?e.renderTab(i,t):i.innerHTML=(0,h.label)(t),r;function a(e){var t,r=null===(t=e.bodyTR)||void 0===t?void 0:t.children[0];if(r)return r;var i=e.bodyTR.appendChild(n.createElement("main"));return i.setAttribute("style",v),i}}function q(){var r,i,o,a,s,c=e.items?e.items:!1!==e.ordered?g.store.the(t,e.predicate).elements:g.store.each(t,e.predicate),u=!1;for(a=0;a<_.children.length;a++)if(r=_.children[a],a>=c.length||r.subject&&!r.subject.sameTerm(c[a])){u=!0;break}if(u||c.length!==_.children.length){for(s=_.children.length-1;s>=0&&(r=_.children[s],o=s-_.children.length+c.length,!r.subject||r.subject.sameTerm(c[o]));s--);for(var d=c.slice(a,s-_.children.length+c.length+1);s>=a;)_.removeChild(_.children[a]),S.removeChild(S.children[a]),s-=1;for(i=0;i<d.length;i++){var p=H(d[i]),h=n.createElement("div");p.bodyTR=h,a===_.children.length?(_.appendChild(p),S.appendChild(h)):(_.insertBefore(p,_.children[a+i]),S.insertBefore(h,S.children[a+i]))}l&&function(e){if(e.dataset.onCloseSet){var t=e.querySelector(".unstyled");e.removeChild(t)}var r=n.createElement(k);r.classList.add("unstyled");var i=(0,f.cancelButton)(n,l);i.setAttribute("style",i.getAttribute("style")+N),r.appendChild(i),e.appendChild(r),e.dataset.onCloseSet="true"}(_)}}function W(){for(var e=0;e<_.children.length;e++){var t=_.children[e];t.classList.contains("unstyled")||t.setAttribute("style",L)}}function z(){for(var e=0;e<S.children.length;e++)S.children[e].setAttribute("style",M)}};var o=r(n(85715)),a=r(n(34579)),s=r(n(17383)),l=r(n(28452)),c=r(n(63072)),u=r(n(29511)),d=r(n(61837)),p=r(n(43693)),f=n(81939),h=n(37499),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5148)),g=n(23451);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n){return t=(0,c.default)(t),(0,l.default)(e,b()?Reflect.construct(t,n||[],(0,c.default)(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}t.TabWidgetElement=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=y(this,t,[].concat(r)),(0,p.default)(e,"bodyContainer",void 0),(0,p.default)(e,"refresh",void 0),(0,p.default)(e,"tabContainer",void 0),e}return(0,u.default)(t,e),(0,a.default)(t)}((0,d.default)(HTMLElement));var w="#ddddcc";function x(e,t,n){for(var r,i,o="#",a="0123456789abcdef",s=0;s<3;s++){r=parseInt(e.slice(2*s+1,2*s+3),16),i=parseInt(t.slice(2*s+1,2*s+3),16);var l=parseInt((""+(r*(1-n)+i*n)).split(".")[0]),c=parseInt((""+l/16).split(".")[0]),u=parseInt((""+l%16).split(".")[0]);o+=a[c]+a[u]}return o}},96516:(e,t,n)=>{"use strict";var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getName=function(e,t){return e.anyValue(t,s.ns.vcard("fn"),null,t.doc())||e.anyValue(t,s.ns.foaf("name"),null,t.doc())||t.uri},t.getPod=function(){return(0,a.sym)(document.location.origin).site()},t.getPodOwner=function(e,t){return l.apply(this,arguments)},t.throttle=function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,s=0,l=function(){s=o.leading?Date.now():0,a=null,i=e.apply(n,r),a||(n=r=null)};return function(){var c=Date.now();s||o.leading||(s=c);var u=t-(c-s);return n=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,i=e.apply(n,r),a||(n=r=null)):a||!1===o.trailing||(a=setTimeout(l,u)),i}};var i=r(n(54756)),o=r(n(29293)),a=n(67364),s=n(92361);function l(){return(l=(0,o.default)(i.default.mark((function e(t,n){var r,o,l,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.any(t,null,s.ns.ldp("Container"),t)){e.next=7;break}return e.next=4,n.fetcher.webOperation("GET",t.uri,n.fetcher.initFetchOptions(t.uri,{headers:{accept:"text/turtle"}}));case 4:r=e.sent,o=r.responseText,(0,a.parse)(o,n,t.uri,"text/turtle");case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error("Error loading pod "+t+": "+e.t0),e.abrupt("return",null);case 13:if(n.holds(t,s.ns.rdf("type"),s.ns.space("Storage"),t)){e.next=16;break}return console.warn("Pod  "+t+" does not declare itself as a space:Storage"),e.abrupt("return",null);case 16:if(!(l=n.any(t,s.ns.solid("owner"),null,t)||n.any(null,s.ns.space("storage"),t,t))){e.next=31;break}return e.prev=18,e.next=21,n.fetcher.load(l.doc());case 21:e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(18),console.warn("Unable to load profile of pod owner "+l),e.abrupt("return",null);case 27:return n.holds(l,s.ns.space("storage"),t,l.doc())||console.warn("Pod owner ".concat(l," does NOT list pod ").concat(t," as their storage")),e.abrupt("return",l);case 31:return c=(0,a.sym)("".concat(t.uri,"profile/card#me")),e.prev=32,e.next=35,n.fetcher.load(c);case 35:e.next=41;break;case 37:return e.prev=37,e.t2=e.catch(32),console.error("Ooops. Guessed wrong pod owner webid {$guess} : can't load it."),e.abrupt("return",null);case 41:if(!n.holds(c,s.ns.space("storage"),t,c.doc())){e.next=44;break}return console.warn("Using guessed pod owner webid but it links back."),e.abrupt("return",c);case 44:return e.abrupt("return",null);case 45:case"end":return e.stop()}}),e,null,[[0,9],[18,23],[32,37]])})))).apply(this,arguments)}},37499:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.AJARImage=function(e,t,n,r){r||(r=document);var i=r.createElement("img");return i.setAttribute("src",e),i.addEventListener("copy",(function(e){e.clipboardData.setData("text/plain",""),e.clipboardData.setData("text/html",""),e.preventDefault()})),void 0!==n&&i.setAttribute("title",n),i},t.RDFComparePredicateObject=function(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.object.compareTerm(t.object)},t.RDFComparePredicateSubject=function(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.subject.compareTerm(t.subject)},t.addLoadEvent=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}},t.ancestor=function(e,t){var n;for(n=e;n;n=n.parentNode)try{if(n.tagName===t)return n}catch(e){return}},t.beep=function(){if(d){var e=new d;return function(t,n,r,i){t=+(t||.3),r=r||"sine","function"!=typeof i&&(i=function(){});var o=e.createOscillator();o.type=r,o.frequency.value=n||256,o.connect(e.destination),o.start(0),o.stop(t)}}},t.clearVariableNames=function(){f=0},t.emptyNode=function(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--)e.removeChild(t[n]);return e},t.escapeForXML=v,t.findPos=m,t.genUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.getAbout=h,t.getEyeFocus=function(e,t,n,r){r||(r=window);var i=m(e)[1],o=window.SolidAppContext||{},a=i-(o&&o.scroll||52)-r.scrollY;if(t)return n?void r.scrollBy(0,i+e.clientHeight-(r.scrollY+r.innerHeight)):void r.scrollBy(0,a);var s=r.setInterval((function(){r.scrollBy(0,a/10),10==++l&&r.clearInterval(s)}),50),l=0},t.getTarget=function(e){var t;return(e=e||window.event).target?t=e.target:e.srcElement&&(t=e.srcElement),3===t.nodeType&&(t=t.parentNode),t},t.getTerm=function(e){var t=e.parentNode,n=t?t.AJAR_statement:void 0;switch(n?e.className:""){case"pred":case"pred selected":return n.predicate;case"obj":case"obj selected":return t.AJAR_inverse?n.subject:n.object;case"":case"selected":return h(o.store,e);case"undetermined selected":return e.nextSibling?n.predicate:t.AJAR_inverse?n.subject:n.object}},t.hashColor=function(e){return"#"+(16777215&(t=e=e.uri||e,t.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))|12632256).toString(16);var t},t.include=function(e,t){var n=e.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n},Object.defineProperty(t,"label",{enumerable:!0,get:function(){return l.label}}),t.labelForXML=function(e){return v((0,l.label)(e))},t.labelWithOntology=function(e,t){var n=o.store.findTypeURIs(e);return n[p.ns.rdf("Predicate").uri]||n[p.ns.rdfs("Class").uri]?(0,l.label)(e,t)+" ("+g(e)+")":(0,l.label)(e,t)},t.newVariableName=function(){return"v"+f++},t.ontologyLabel=g,t.predParentOf=function(e){for(var t=e;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return p.log.error("Could not find predParent"),e;t=t.previousSibling}},t.predicateLabel=y,t.predicateLabelForXML=function(e,t){return v(y(e,t))},t.shortName=function(e){var t=e;"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var n,r=[];for(var i in this.prefixes)r[this.prefixes[i]]=i;var o,a=function(e){return"ns"!==e&&(n=e,!0)},s=t.lastIndexOf("#");for(s>=0&&(t=t.slice(s-1));;){var l=t.lastIndexOf("/");for(l>=0&&(t=t.slice(l+1)),o=0;o<t.length&&this.prefixchars.indexOf(t[o]);)o++;if((t=t.slice(0,o)).length<6&&a(t))return n;if(a(t.slice(0,3)))return n;if(a(t.slice(0,2)))return n;if(a(t.slice(0,4)))return n;if(a(t.slice(0,1)))return n;if(a(t.slice(0,5)))return n;for(o=0;;o++)if(a(t.slice(0,3)+o))return n}},t.stackString=function(e){var t,n=e+"\n";if(!e.stack)return n+"No stack available.\n";var r=e.stack.toString().split("\n"),i=[];for(t=0;t<r.length;t++){var o=r[t];if(o.indexOf("ecmaunit.js")>-1)break;"("===o.charAt(0)&&(o="function"+o);var a=o.split("@");i.push(a)}for(t=0;t<i.length;t++)n+="  "+i[t][1]+"\n    "+i[t][0];return n},t.syncTableToArray=function(e,t,n){var r,i,o;for(o=0;o<e.children.length;o++)(i=e.children[o]).trashMe=!0;for(var a=0;a<t.length;a++){var s=t[a];for(r=!1,o=0;o<e.children.length;o++)if((i=e.children[o]).subject&&i.subject.sameTerm(s)){i.trashMe=!1,r=!0;break}if(!r){var l=n(s);if(a>=e.children.length)e.appendChild(l);else{var c=e.children[a];e.insertBefore(l,c)}l.subject=s}}for(o=0;o<e.children.length;o++)(i=e.children[o]).trashMe&&e.removeChild(i)},t.syncTableToArrayReOrdered=function(e,t,n){for(var r={},i=0;i<e.children.length;i++){var o=e.children[i];r[o.subject.toNT()]=o}for(var a=0;a<t.length;a++){var s=t[a];if(a>=e.children.length){var l=n(s);l.subject=s,e.appendChild(l)}else{var c=e.children[a];if(c.subject.sameTerm(s));else{var u=r[s.toNT()];if(u)e.removeChild(u),e.insertBefore(u,c);else{var d=n(s);c.before(d),d.subject=s}}}}for(;e.children.length>t.length;)e.removeChild(e.children[e.children.length-1])};var i=u(n(9295)),o=n(23451),a=u(n(62054)),s=u(n(67364)),l=n(38097);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var d,p={log:i,ns:a,rdf:s},f=0;function h(e,t){var n,r;for(n=t;n&&1===n.nodeType;n=n.parentNode)if(r=n.getAttribute("about"))return e.fromNT(r);p.log.debug("getAbout: No about found")}function m(e){var t=e.ownerDocument.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return[n.left-t.left,n.top-t.top]}function g(e){if(void 0===e.uri)return"??";var t,n=e.uri,r=[],i=n.lastIndexOf("#");if(i>=0)n=n.slice(0,i+1);else{if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"?!";n=n.slice(0,i+1)}for(var o in p.ns)r[p.ns[o]]=o;try{return r[n]}catch(e){}for(n=n.slice(0,-1);n;){if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"!?";if(t=n.slice(i+1),n=n.slice(0,i),"ns"!==t&&"0123456789".indexOf(t[0])<0)return t}}function v(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}function y(e,t){var n=(0,l.label)(e);if(t){var r=o.store.any(e,p.ns.owl("inverseOf"))||o.store.any(void 0,p.ns.owl("inverseOf"),e);return r?(0,l.label)(r):"type"===n?"...":"is "+n+" of"}return n}"undefined"!=typeof AudioContext?d=AudioContext:"undefined"!=typeof window&&(d=window.AudioContext||window.webkitAudioContext)},20760:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.getExistingPrivateKey=function(e,t){return h.apply(this,arguments)},t.getExistingPublicKey=function(e,t){return f.apply(this,arguments)},t.getKeyIfExists=m,t.pubKeyUrl=t.privKeyUrl=void 0;var o=r(n(54756)),a=r(n(29293)),s=p(n(82902)),l=n(23451),c=p(n(62054)),u=n(44757);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function f(){return(f=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n,"publicKey");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n,"privateKey");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return g.apply(this,arguments)}function g(){return(g=(0,a.default)(o.default.mark((function e(t,n,r){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.store.fetcher.load(n);case 3:return i=l.store.any(t,c.solid(r)),e.abrupt("return",null==i?void 0:i.value);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=24;break}return s.log("createIfNotExists: doc does NOT exist, will create... "+n),e.prev=11,e.next=14,l.store.fetcher.webOperation("PUT",n,{data:"",contentType:"text/turtle"});case 14:e.next=20;break;case 16:throw e.prev=16,e.t1=e.catch(11),s.log("createIfNotExists doc FAILED: "+n+": "+e.t1),e.t1;case 20:return delete l.store.fetcher.requested[n],e.abrupt("return",void 0);case 24:throw s.log("createIfNotExists doc FAILED: "+n+": "+e.t0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[0,7],[11,16]])})))).apply(this,arguments)}t.pubKeyUrl=function(e){var t;try{var n=(0,u.getRootIfPreferencesExist)(e);t="".concat(n,"/profile/keys/publicKey.ttl")}catch(e){s.error(e)}return t},t.privKeyUrl=function(e){var t;try{var n=(0,u.getRootIfPreferencesExist)(e);t="".concat(n,"/settings/keys/privateKey.ttl")}catch(e){s.error(e)}return t}},27472:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.keyContainerAclBody=t.keyAclBody=void 0,t.setAcl=function(e,t){return u.apply(this,arguments)};var o=r(n(54756)),a=r(n(29293)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(82902)),l=n(23451);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return(u=(0,a.default)(o.default.mark((function e(t,n){var r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.store.fetcher.load(t);case 2:if(r=l.store.any(l.store.sym(t),l.store.sym("http://www.iana.org/assignments/link-relations/acl"))){e.next=5;break}throw new Error("Key ACL doc not found!");case 5:return e.prev=5,e.next=8,l.store.fetcher.webOperation("PUT",r.value,{data:n,contentType:"text/turtle"});case 8:e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(5),404===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)){e.next=14;break}throw new Error(e.t0);case 14:s.log("delete "+r.value+" "+e.t0.response.status);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}t.keyContainerAclBody=function(e){return"\n@prefix : <#>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix key: <./>.\n\n:ReadWrite\n    a acl:Authorization;\n    acl:accessTo key:;\n    acl:default key:;\n    acl:agent <".concat(e,">;\n    acl:mode acl:Read, acl:Write.\n")},t.keyAclBody=function(e,t){var n="acl:agentClass foaf:Agent";return null!=t&&t.length&&(n="acl:agent <".concat(t,">")),"\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#Read>\n    a acl:Authorization;\n    ".concat(n,";\n    acl:accessTo <").concat(e.split("/").pop(),">;\n    acl:mode acl:Read.\n")}},44757:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.getRootIfPreferencesExist=void 0;var i=n(23451),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(62054));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.getRootIfPreferencesExist=function(e){var t,n,r=null===(t=i.store.any(e,o.space("preferencesFile"),null,e.doc()))||void 0===t?void 0:t.value;if(!(r=null===(n=r)||void 0===n?void 0:n.split("/").slice(0,-2).join("/")))throw new Error("prefererencesFile is expected to exist in ".concat(e));return r}},38097:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.label=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){return t?e.slice(0,1).toUpperCase()+e.slice(1):e}function r(e){var t="";"/"===e.slice(-1)&&(e=e.slice(0,-1));for(var r=0;r<e.length;r++)"_"!==e[r]&&"-"!==e[r]?(t+=e[r],r+1<e.length&&e[r].toUpperCase()!==e[r]&&e[r+1].toLowerCase()!==e[r+1]&&(t+=" ")):t+=" ";return"has "===t.slice(0,4)&&(t=t.slice(4)),n(t)}var i=function(e){return o.store.any(e,l.ns.ui("label"))||o.store.any(e,l.ns.link("message"))||o.store.any(e,l.ns.vcard("fn"))||o.store.any(e,l.ns.foaf("name"))||o.store.any(e,l.ns.dct("title"))||o.store.any(e,l.ns.dc("title"))||o.store.any(e,l.ns.rss("title"))||o.store.any(e,l.ns.contact("fullName"))||o.store.any(e,o.store.sym("http://www.w3.org/2001/04/roadmap/org#name"))||o.store.any(e,l.ns.cal("summary"))||o.store.any(e,l.ns.foaf("nick"))||o.store.any(e,l.ns.as("name"))||o.store.any(e,l.ns.schema("name"))||o.store.any(e,l.ns.rdfs("label"))||o.store.any(e,o.store.sym("http://www.w3.org/2004/02/skos/core#prefLabel"))}(e);if(i)return n(i.value);if("BlankNode"===e.termType)return"...";if("Collection"===e.termType)return"("+e.elements.length+")";var a=e.uri;if(void 0===a)return e.toString();try{a=a.split("/").map(decodeURIComponent).join("/")}catch(e){for(var s=a.length-3;s>0;s--)for(var u="0123456789abcefABCDEF";"%"===a[s]&&u.indexOf(a[s+1])>=0&&u.indexOf(a[s+2])>=0;)a=a.slice(0,s)+String.fromCharCode(parseInt(a.slice(s+1,s+3),16))+a.slice(s+3)}a=c(a,"/profile/card#me"),a=c(a,"#this");var d=(a=c(a,"#me")).indexOf("#");if(d>=0)return r(a.slice(d+1));var p=a.lastIndexOf("/",a.length-2);return p>=0&&p<e.uri.length?r(a.slice(p+1)):n(decodeURIComponent(e.uri))};var i=s(n(9295)),o=n(23451);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}var l={log:i,ns:s(n(62054)),rdf:s(n(67364))};function c(e,t){var n=-1*t.length;return e.slice(n)===t?e.slice(0,n):e}},41041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionInfo=void 0,t.versionInfo={buildTime:"2025-02-04T10:47:39Z",commit:"33f09d8e27b878d7c848ad00abd824eb98110e30",npmInfo:{"solid-ui":"2.5.1",npm:"8.19.4",node:"18.20.6",acorn:"8.13.0",ada:"2.8.0",ares:"1.29.0",base64:"0.5.2",brotli:"1.1.0",cjs_module_lexer:"1.2.2",cldr:"44.1",icu:"74.2",llhttp:"6.1.1",modules:"108",napi:"9",nghttp2:"1.61.0",nghttp3:"0.7.0",ngtcp2:"1.3.0",openssl:"3.0.15+quic",simdutf:"5.6.0",tz:"2024a",undici:"5.28.5",unicode:"15.1",uv:"1.44.2",uvwasi:"0.0.19",v8:"10.2.154.26-node.37",zlib:"1.3.0.1-motley"}}},65078:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.addStyleSheet=function(e,t){for(var n=e.querySelectorAll("link"),r=0;r<n.length;r++)if("stylesheet"===(n[r].getAttribute("rel")||"")&&(n[r].getAttribute("href")||"")===t)return;var i=e.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),e.getElementsByTagName("head")[0].appendChild(i)},t.allClassURIs=function(){var e={};return d.store.statementsMatching(void 0,a.rdf("type"),void 0).forEach((function(t){t.object.value&&(e[t.object.value]=!0)})),d.store.statementsMatching(void 0,a.rdfs("subClassOf"),void 0).forEach((function(t){t.object.value&&(e[t.object.value]=!0),t.subject.value&&(e[t.subject.value]=!0)})),d.store.each(void 0,a.rdf("type"),a.rdfs("Class")).forEach((function(t){t.value&&(e[t.value]=!0)})),e},t.askName=function(e,t,n,r,i,o){return new Promise((function(t,l){var c=e.createElement("div");r=r||a.foaf("name");var u=(o=o||(i?p.label(i):"  "))+" "+p.label(r)+": ";c.appendChild(e.createElement("p")).textContent=u;var d=e.createElement("input");function f(){c.parentNode.removeChild(c),t(d.value.trim())}d.setAttribute("type","text"),d.setAttribute("size","100"),d.setAttribute("maxLength","2048"),d.setAttribute("style",s.textInputStyle),d.select(),c.appendChild(d),n.appendChild(c),d.addEventListener("keyup",(function(e){13===e.keyCode&&f()}),!1),c.appendChild(e.createElement("br")),c.appendChild(F(e,(function(e){c.parentNode.removeChild(c),t(null)}))),c.appendChild(L(e,(function(e){f()}))),d.focus()}))},t.attachmentList=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function o(n){var r=n,o={noun:b};return m&&(o.deleteFunction=function(){!function(e){if(!w.updater)throw new Error("kb has no updater");w.updater.update((0,i.st)(t,v,e,h),[],(function(e,t,n,r){t?s():x(void 0,"Error deleting one: "+n)}))}(r)}),R(e,v,n,o)}var s=function(){var e=w.each(t,v);e.sort(),p.syncTableToArray(S,e,o)};function c(e){var n=[];if(e.forEach((function(e){var r=(0,i.sym)(e);l.log("Dropped on attachemnt "+e),n.push((0,i.st)(t,v,r,h))})),!w.updater)throw new Error("kb has no updater");w.updater.update([],n,(function(e,t,n,r){t?s():x(void 0,"Error adding one: "+n)}))}function f(e){var n,o;(0,u.uploadFiles)(w.fetcher,e,null===(n=r.uploadFolder)||void 0===n?void 0:n.uri,null===(o=r.uploadFolder)||void 0===o?void 0:o.uri,(function(e,n){var r=[(0,i.st)(t,v,w.sym(n),h)];if(!w.updater)throw new Error("kb has no updater");w.updater.update([],r,(function(e,t,n,r){t?s():x(void 0,"Error adding link to uploaded file: "+n)}))}))}var h=r.doc||t.doc();void 0===r.modify&&(r.modify=!0);var m=r.modify,g=r.promptIcon||y+"noun_748003.svg",v=r.predicate||a.wf("attachment"),b=r.noun||"attachment",w=d.store,E=n.appendChild(e.createElement("table"));E.setAttribute("style","margin-top: 1em; margin-bottom: 1em;");var _=E.appendChild(e.createElement("tr")),k=_.appendChild(e.createElement("td")),S=_.appendChild(e.createElement("td")).appendChild(e.createElement("table"));if(S.appendChild(e.createElement("tr")),E.refresh=s,s(),m){var C=N(e,g,"Drop attachments here");k.appendChild(C);var A=r.uploadFolder?f:null;if((0,u.makeDropTarget)(C,c,A),(0,u.makeDropTarget)(k,c,A),r.uploadFolder){var T=q(e,f);k.appendChild(T)}}return E},t.button=N,t.cancelButton=F,t.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},t.complain=x,t.continueButton=L,t.createLinkDiv=D,t.createNameDiv=M,t.defaultAnnotationStore=function(e){if(void 0!==e.uri){var t=e.uri;if("http://"===t.slice(0,7)){var n=(t=t.slice(7)).indexOf("#");if(n>=0)t=t.slice(0,n);else{var r=t.lastIndexOf("/");if(r<0)return;t=t.slice(0,r)}return d.store.sym("http://tabulator.org/wiki/annnotation/"+t)}}},t.deleteButtonWithCheck=I,t.extractLogURI=function(e){var t=e.search(/logFile=/),n=e.search(/&rulesFile=/);return e.substring(t+8,n)},t.faviconOrDefault=O,t.fileUploadButtonDiv=q,t.findImage=A,t.findImageFromURI=C,t.formatDateTime=E,t.iconForClass=void 0,t.imagesOf=function(e,t){return t.each(e,a.sioc("avatar")).concat(t.each(e,a.foaf("img"))).concat(t.each(e,a.vcard("logo"))).concat(t.each(e,a.vcard("hasPhoto"))).concat(t.each(e,a.vcard("photo"))).concat(t.each(e,a.foaf("depiction")))},t.index=void 0,t.isAudio=function(e){return H(e,"audio")},t.isImage=H,t.isVideo=function(e){return H(e,"video")},t.linkButton=function(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="Goto "+p.label(t),n.addEventListener("click",(function(n){e.outlineManager.GotoSubject(t,!0,void 0,!0,void 0)}),!0),n},t.openHrefInOutlineMode=function(e){e.preventDefault(),e.stopPropagation();var t=p.getTarget(e).getAttribute("href");if(!t)return l.log("openHrefInOutlineMode: No href found!\n");var n=window.document;n.outlineManager?n.outlineManager.GotoSubject(d.store.sym(t),!0,void 0,!0,void 0):window&&window.panes&&window.panes.getOutliner?window.panes.getOutliner().GotoSubject(d.store.sym(t),!0,void 0,!0,void 0):l.log("ERROR: Can't access outline manager in this config")},t.personTR=void 0,t.propertyTriage=function(e){var t={},n={},r={},i=0,o=0,s=0,l=e.predicateIndex;for(var u in l)"Literal"===l[u][0].object.termType?(n[u]=!0,o++):(r[u]=!0,i++);for(var d=e.each(void 0,a.rdf("type"),a.rdf("Property")),p=0;p<d.length;p++){var f=d[p].toNT();r[f]||n[f]||(n[f]=!0,r[f]=!0,s++)}return t.op=r,t.dp=n,(0,c.info)("propertyTriage: ".concat(i," non-lit, ").concat(o," literal. ").concat(s," unknown.")),t},t.refreshTree=function e(t){if(t.refresh)t.refresh();else for(var n=0;n<t.children.length;n++)e(t.children[n])},t.removeButton=function(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="✕",n.addEventListener("click",(function(e){t.parentNode.removeChild(t)}),!0),n},t.renderAsDiv=function(e,t,n){var r=e.createElement("div");r.setAttribute("style",s.renderAsDivStyle);var i=(n=n||{}).image||O(e,t);return(0,h.createImageDiv)(e,r,i),M(e,r,n.title,t),D(e,r,t,n),n.clickable&&n.onClickFunction&&(0,h.addClickListenerToElement)(r,n.onClickFunction),n.wrapInATR?(0,h.wrapDivInATR)(e,r,t):r},t.renderAsRow=j,t.selectorPanel=function(e,t,n,r,i,o,a,s,l){return U(e.createElement("div"),e,t,n,r,i,o,a,s,l)},t.selectorPanelRefresh=U,t.setImage=P,t.setName=_,t.shortDate=function(e,t){if(!e)return"???";try{var n=(new Date).toISOString();return e.slice(0,10)!==n.slice(0,10)||t?e.slice(0,4)===n.slice(0,4)?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e.slice(5,7),10)-1]+" "+parseInt(e.slice(8,10),10):e.slice(0,10):e.slice(11,16)}catch(e){return"shortdate:"+e}},t.shortTime=function(){return E(new Date,"{Hours}:{Minutes}:{Seconds}.{Milliseconds}")},t.timestamp=function(){return E(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}")};var i=n(67364),o=n(4901),a=v(n(62054)),s=v(n(5148)),l=v(n(82902)),c=n(9295),u=n(93957),d=n(23451),p=v(n(37499)),f=n(28921),h=n(33054),m=n(66691);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var y=o.icons.iconBase,b=y+"noun_1180156.svg",w=y+"noun_1180158.svg";function x(e,t){if(t){var n=function(e){var t=e&&e.statusArea||e&&e.div||null;if(t)return t;var n=e&&e.dom;if(n||"undefined"==typeof document||(n=document),n){var r=n.getElementsByTagName("body")[0];return t=n.createElement("div"),r.insertBefore(t,r.firstElementChild),e&&(e.statusArea=t),t}return null}(e);l.log("Complaint: "+t),n?n.appendChild((0,f.errorMessageBlock)(e&&e.dom||document,t)):alert(t)}}function E(e,t){return t.split("{").map((function(t){var n=t.split("}")[0];return t?("000"+(e["get"+n]()+({Month:1}[n]||0))).slice(-({Milliseconds:3,FullYear:4}[n]||2))+t.split("}")[1]:""})).join("")}function _(e,t){var n=d.store,r=function(e){var t=n.any(e,a.vcard("fn"))||n.any(e,a.foaf("name"))||n.any(e,a.vcard("organization-name"));return t?t.value:null},i=t.sameTerm(a.foaf("Agent"))?"Everyone":r(t);if(e.textContent=i||p.label(t),!i&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(n){e.textContent=r(t)||p.label(t)}))}}var k=t.iconForClass={"solid:AppProviderClass":"noun_144.svg","solid:AppProvider":"noun_15177.svg","solid:Pod":"noun_Cabinet_1434380.svg","vcard:Group":"noun_339237.svg","vcard:Organization":"noun_143899.svg","vcard:Individual":"noun_15059.svg","schema:Person":"noun_15059.svg","foaf:Person":"noun_15059.svg","foaf:Agent":"noun_98053.svg","acl:AuthenticatedAgent":"noun_99101.svg","prov:SoftwareAgent":"noun_Robot_849764.svg","vcard:AddressBook":"noun_15695.svg","trip:Trip":"noun_581629.svg","meeting:LongChat":"noun_1689339.svg","meeting:Meeting":"noun_66617.svg","meeting:Project":"noun_1036577.svg","ui:Form":"noun_122196.svg","rdfs:Class":"class-rectangle.svg","rdf:Property":"property-diamond.svg","owl:Ontology":"noun_classification_1479198.svg","wf:Tracker":"noun_122196.svg","wf:Task":"noun_17020_gray-tick.svg","wf:Open":"noun_17020_sans-tick.svg","wf:Closed":"noun_17020.svg"};function S(e){var t=e.uri.split("#")[0],n=t.indexOf("//");if(n<0)throw new Error("This URI does not have a web site part (origin)");var r=t.indexOf("/",n+2);return r<0?t.slice(0)+"/":t.slice(0,r+1)}function C(e){var t=y;return"string"!=typeof e&&e.uri?4!==e.uri.split("/").length||e.uri.split("/")[1]||e.uri.split("/")[3]?e.uri.startsWith("message:")||e.uri.startsWith("mid:")?t+"noun_480183.svg":e.uri.startsWith("mailto:")?t+"noun_567486.svg":e.uri.startsWith("https:")&&e.uri.indexOf("#")<0?S(e)+"favicon.ico":null:t+"noun_15177.svg":t+"noun_10636_grey.svg"}function A(e){var t=d.store,n=y;if(e.sameTerm(a.foaf("Agent"))||e.sameTerm(a.rdf("Resource")))return n+"noun_98053.svg";var r=t.any(e,a.sioc("avatar"))||t.any(e,a.foaf("img"))||t.any(e,a.vcard("logo"))||t.any(e,a.vcard("hasPhoto"))||t.any(e,a.vcard("photo"))||t.any(e,a.foaf("depiction"));return r?r.uri:null}function T(e,t,n){var r=d.store,i=A(t);if(i)return e.setAttribute("src",i),!0;var o=n[t.uri];if(o)return e.setAttribute("src",o),e.style=s.classIconStyle,!0;var a=C(t);if(a)return e.setAttribute("src",a),!0;var l=r.findTypeURIs(t);for(var c in l)if(n[c])return e.setAttribute("src",n[c]),!1;return e.setAttribute("src",y+"noun_10636_grey.svg"),!1}function P(e,t){var n=d.store,r={};for(var o in k){var s=o.split(":")[0],l=o.split(":")[1],c=a[s](l);r[c.uri]=i.uri.join(k[o],y)}if(!T(e,t,r)&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,(function(n){n&&T(e,t,r)}))}}function O(e,t){var n=e.createElement("img");if(n.style=s.iconStyle,n.setAttribute("src",y+(function(e){if(!e.uri)return!1;var t=e.uri.split("/");return 3===t.length||4===t.length&&""===t[3]}(t)?"noun_15177.svg":"noun_681601.svg")),t.uri&&t.uri.startsWith("https:")&&t.uri.indexOf("#")<0){var r=e.createElement("object");return r.setAttribute("data",S(t)+"favicon.ico"),r.setAttribute("type","image/x-icon"),r.appendChild(n),r}return P(n,t),n}function I(e,t,n,r){var i=y+"noun_2188_red.svg",a=e.createElement("img");a.setAttribute("src",i),a.setAttribute("style",s.smallButtonStyle),a.style.float="right";var l="Remove this "+n;return a.title=l,a.classList.add("hoverControlHide"),a.addEventListener("click",(function(){var n=e.createElement("div");t.insertBefore(n,a),n.style.position="relative",n.appendChild(function(e,t,n,r){function i(){t.parentElement.removeChild(t)}function a(){i(),r()}var l=e.createElement("div");l.style=s.confirmPopupStyle,l.style.position="absolute",l.style.top="-1em",l.style.display="grid",l.style.gridTemplateColumns="auto auto";var c=e.createElement("div");c.style.gridColumn="1/2",c.style.gridRow="1";var u=e.createElement("div");u.style.gridColumn="1/2",u.style.gridRow="2";var d=F(e,i);l.appendChild(d),d.style.gridColumn="1",d.style.gridRow="2";var p=l.appendChild(e.createElement("button"));p.style=s.buttonStyle,p.style.gridRow="2",p.style.gridColumn="2",p.textContent="Cancel";var f=N(e,o.icons.iconBase+"noun_925021.svg","Delete it");l.appendChild(f),f.style.gridRow="1",f.style.gridColumn="1";var h=l.appendChild(e.createElement("button"));return h.style=s.buttonStyle,h.style.gridRow="1",h.style.gridColumn="2",h.textContent=n,l.appendChild(h),f.addEventListener("click",a),h.addEventListener("click",a),p.addEventListener("click",i),l}(e,n,l,r))})),t.classList.add("hoverControl"),t.appendChild(a),a.setAttribute("data-testid","deleteButtonWithCheck"),a}function N(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{buttonColor:"Primary",needsBorder:!1},o=e.createElement("button");if(o.setAttribute("type","button"),t){var a=o.appendChild(e.createElement("img"));a.setAttribute("src",t),a.setAttribute("style","width: 2em; height: 2em;"),a.title=n,o.setAttribute("style",s.buttonStyle)}else o.textContent=n.toLocaleUpperCase(),o.onmouseover=function(){"Secondary"===i.buttonColor?i.needsBorder?o.setAttribute("style",s.secondaryButtonNoBorderHover):o.setAttribute("style",s.secondaryButtonHover):i.needsBorder?o.setAttribute("style",s.primaryButtonNoBorderHover):o.setAttribute("style",s.primaryButtonHover)},o.onmouseout=function(){"Secondary"===i.buttonColor?i.needsBorder?o.setAttribute("style",s.secondaryButtonNoBorder):o.setAttribute("style",s.secondaryButton):i.needsBorder?o.setAttribute("style",s.primaryButtonNoBorder):o.setAttribute("style",s.primaryButton)},"Secondary"===i.buttonColor?i.needsBorder?o.setAttribute("style",s.secondaryButtonNoBorder):o.setAttribute("style",s.secondaryButton):i.needsBorder?o.setAttribute("style",s.primaryButtonNoBorder):o.setAttribute("style",s.primaryButton);return r&&o.addEventListener("click",r,!1),o}function F(e,t){var n=N(e,b,"Cancel",t);return n.firstChild&&(n.firstChild.style.opacity="0.3"),n}function L(e,t){return N(e,w,"Continue",t)}var R=t.personTR=j;function j(e,t,n,r){var i=e.createElement("tr");r=r||{};var o=i.appendChild(e.createElement("td")),a=i.appendChild(e.createElement("td")),s=i.appendChild(e.createElement("td")),l=r.image||O(e,n);return o.setAttribute("style","vertical-align: middle; width:2.5em; padding:0.5em; height: 2.5em;"),a.setAttribute("style","vertical-align: middle; text-align:left;"),s.setAttribute("style","vertical-align: middle; width:2em; padding:0.5em; height: 4em;"),o.appendChild(l),r.title?a.textContent=r.title:_(a,n),r.deleteFunction&&I(e,s,r.noun||"one",r.deleteFunction),n.uri&&(!1!==r.link&&(s.appendChild((0,m.linkIcon)(e,n)).classList.add("HoverControlHide"),s.appendChild(e.createElement("br"))),!1!==r.draggable&&(l.setAttribute("draggable","false"),(0,u.makeDraggable)(i,n))),i.subject=n,i}function M(e,t,n,r){var i=t.appendChild(e.createElement("div"));n?i.textContent=n:_(i,r)}function D(e,t,n,r){var i=t.appendChild(e.createElement("div"));i.setAttribute("style",s.linkDivStyle),r.deleteFunction&&I(e,i,r.noun||"one",r.deleteFunction),n.uri&&(!1!==r.link&&(0,m.createLinkForURI)(e,i,n),(0,u.makeDraggable)(t,n))}function U(e,t,n,r,i,o,a,s,l,c){var u="border: 0.1em solid #ddd; border-bottom: none; width: 95%; height: 2em; padding: 0.5em;",d=null;e.innerHTML="";for(var p=function(e,a){var p,f,h=function(){var e=o?n.each(void 0,i,a):n.each(a,i);b.setAttribute("class",0===e.length?"hideTillHover":""),f.setAttribute("src",s.connectIcon||y+"noun_25830.svg"),f.setAttribute("title",e.length?e.length:"attach")},m=B.twoLine.widgetForClass(r);(p=m(t,a)).setAttribute("style",u);var g=t.createElement("div");g.setAttribute("class","hideTillHover"),g.setAttribute("style","float:right; width:10%");var v=t.createElement("a");v.setAttribute("href",a.uri),v.setAttribute("style","float:right"),g.appendChild(v).textContent=">",e.appendChild(g);var b=t.createElement("div");return b.setAttribute("style",(o?"float:left;":"float:right;")+" width:30px;"),f=t.createElement("img"),h(),b.appendChild(f),e.appendChild(b),p.addEventListener("click",(function(e){d===p?(p.setAttribute("style",u),d=null):(d&&d.setAttribute("style",u),p.setAttribute("style",u+"background-color: #ccc; color:black;"),d=p),l(a,e,d===p),h()}),!1),f.addEventListener("click",(function(e){c(a,e,o,h)}),!1),e.appendChild(p),e},f=0;f<a.length;f++){var h=t.createElement("div");e.appendChild(h),p(h,a[f])}return e}var B=t.index={};function H(e,t){var n=t||"image",r=d.store.findTypeURIs(e),o=i.Util.mediaTypeClass(n+"/*").uri.split("*")[0];for(var a in r)if(a.startsWith(o))return!0;return{audio:"http://purl.org/dc/dcmitype/Sound",image:"http://purl.org/dc/dcmitype/Image",video:"http://purl.org/dc/dcmitype/MovingImage"}[n]in r}function q(e,t){var n=e.createElement("div"),r=n.appendChild(e.createElement("input"));r.setAttribute("type","file"),r.setAttribute("multiple","true"),r.addEventListener("change",(function(e){l.log("File drop event: ",e),e.files?t(e.files):e.target&&e.target.files?t(e.target.files):alert("Sorry no files .. internal error?")}),!1),r.style="display:none";var i=n.appendChild(N(e,y+"noun_Upload_76574_000000.svg","Upload files",(function(e){r.click()})));return(0,u.makeDropTarget)(i,null,t),n}t.index=B={line:{},twoLine:{"":function(e,t){var n=e.createElement("div");return n.textContent=p.label(t),n},"http://www.w3.org/2000/10/swap/pim/qif#Transaction":function(e,t){var n="",r=function(e){var r=d.store.any(t,a.qu(e));return r||(n+="@@ No value for "+e+"! "),r?p.escapeForXML(r.value):"?"},i=e.createElement("table");return i.innerHTML='\n      <tr>\n      <td colspan="2"> '.concat(r("payee"),"</td>\n      < /tr>\n      < tr >\n      <td>").concat(r("date").slice(0,10),'</td>\n      <td style = "text-align: right;">').concat(r("amount"),"</td>\n      </tr>"),n&&(i.innerHTML='\n      <tr>\n        <td><a href="'.concat(p.escapeForXML(t.uri),'">').concat(p.escapeForXML(n),"</a></td>\n      </tr>")),i},"http://www.w3.org/ns/pim/trip#Trip":function(e,t){var n=function(e){var n=d.store.any(t,e);return n?p.escapeForXML(n.value):"?"},r=e.createElement("table");return r.innerHTML='\n    <tr>\n      <td colspan="2">'.concat(n(a.dc("title")),'</td>\n    </tr>\n    <tr style="color: #777">\n      <td>').concat(n(a.cal("dtstart")),"</td>\n      <td>").concat(n(a.cal("dtend")),"</td>\n    </tr>"),r},widgetForClass:function(e){var t=B.twoLine[e.uri],n=d.store;if(t)return t;var r=n.findSuperClassesNT(e);for(var i in r)if(t=B.twoLine[n.fromNT(i).uri])return t;return B.twoLine[""]}}}},66691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLinkForURI=void 0,t.linkIcon=i;var r=n(4901);function i(e,t,n){var i=e.createElement("a");i.setAttribute("href",t.uri),t.uri.startsWith("http")&&i.setAttribute("target","_blank");var o=i.appendChild(e.createElement("img"));return o.setAttribute("src",n||r.originalIconBase+"go-to-this.png"),o.setAttribute("style","margin: 0.3em;"),i}t.createLinkForURI=function(e,t,n){var r=i(e,n);t.appendChild(r).classList.add("HoverControlHide"),t.appendChild(e.createElement("br"))}},93957:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.makeDraggable=function(e,t){e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(n){e.style.fontWeight="bold",n.dataTransfer.setData("text/uri-list",t.uri),n.dataTransfer.setData("text/plain",t.uri),n.dataTransfer.setData("text/html",e.outerHTML),i.log("Dragstart: "+e+" -> "+t+"de: "+n.dataTransfer.dropEffect)}),!1),e.addEventListener("drag",(function(e){e.preventDefault(),e.stopPropagation()}),!1),e.addEventListener("dragend",(function(n){e.style.fontWeight="normal",i.log("Dragend dropeffect: "+n.dataTransfer.dropEffect),i.log("Dragend: "+e+" -> "+t)}),!1)},t.makeDropTarget=function(e,t,n){var r=function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},o=function(e){i.log("dragenter event dropEffect: "+e.dataTransfer.dropEffect),this.localStyle&&(this.savedStyle||(this.savedStyle=a.dragEvent)),e.dataTransfer.dropEffect="link",i.log("dragenter event dropEffect 2: "+e.dataTransfer.dropEffect)},s=function(e){i.log("dragleave event dropEffect: "+e.dataTransfer.dropEffect),this.savedStyle?this.localStyle=this.savedStyle:this.localStyle=a.dropEvent},l=function(e){e.preventDefault&&e.preventDefault(),i.log("Drop event. dropEffect: "+e.dataTransfer.dropEffect),i.log("Drop event. types: "+(e.dataTransfer.types?e.dataTransfer.types.join(", "):"NOPE"));var r,o=null;if(e.dataTransfer.types){for(var s=0;s<e.dataTransfer.types.length;s++){var l=e.dataTransfer.types[s];if("text/uri-list"===l)o=e.dataTransfer.getData(l).split("\n"),i.log("Dropped text/uri-list: "+o);else if("text/plain"===l)r=e.dataTransfer.getData(l);else if("Files"===l&&n){for(var c=e.dataTransfer.files,u=0;c[u];u++){var d=c[u];i.log("Filename: "+d.name+", type: "+(d.type||"n/a")+" size: "+d.size+" bytes, last modified: "+(d.lastModifiedDate?d.lastModifiedDate.toLocaleDateString():"n/a"))}n(c)}}null===o&&r&&"http"===r.slice(0,4)&&(o=r,i.log("Waring: Poor man's drop: using text for URI"))}else o=[e.dataTransfer.getData("Text")],i.log("WARNING non-standard drop event: "+o[0]);return i.log("Dropped URI list (2): "+o),o&&t(o),this.localStyle=a.restoreStyle,!1};!function(e){e||i.log("@@@ addTargetListeners: ele "+e),e.addEventListener("dragover",r),e.addEventListener("dragenter",o),e.addEventListener("dragleave",s),e.addEventListener("drop",l)}(e)},t.uploadFiles=function(e,t,n,r,a){for(var s=0;t[s];s++){var l=t[s];i.log(" dropped: Filename: "+l.name+", type: "+(l.type||"n/a")+" size: "+l.size+" bytes, last modified: "+(l.lastModifiedDate?l.lastModifiedDate.toLocaleDateString():"n/a"));var c=new FileReader;c.onload=function(t){return function(s){var l=s.target.result,c="";i.log(" File read byteLength : "+l.byteLength);var u=t.type;if(t.type&&""!==t.type){var d=o.extension(t.type);d&&"false"!==d&&!t.name.endsWith("."+d)&&t.type!==o.lookup(t.name)&&(c="_."+d)}else if(!(u=o.lookup(t.name))){var p="Filename needs to have an extension which gives a type we know: "+t.name;throw i.log(p),alert(p),new Error(p)}var f=t.type.startsWith("image/")&&r||n,h=f+(f.endsWith("/")?"":"/")+encodeURIComponent(t.name)+c;e.webOperation("PUT",h,{data:l,contentType:u}).then((function(e){i.log(" Upload: put OK: "+h),a(t,h)}),(function(e){var t=" Upload: FAIL "+h+", Error: "+e;throw i.log(t),alert(t),new Error(t)}))}}(l),c.readAsArrayBuffer(l)}};var i=l(n(82902)),o=l(n(86049)),a=l(n(5148));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}},28921:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessageBlock=function(e,t,n,r){var i=e.createElement("div"),l=r||t instanceof Error?t:null;return l?(console.error("errorMessageBlock: ".concat(l," at: ").concat(l.stack||"??"),l),i.textContent=l.message):i.textContent=t,i.appendChild((0,o.cancelButton)(e,(function(){i.parentNode&&i.parentNode.removeChild(i)}))).style=a.errorCancelButton,i.setAttribute("style",a.errorMessageBlockStyle),i.style.backgroundColor=n||s.default.defaultErrorBackgroundColor,i};var o=n(81939),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5148)),s=r(n(90471));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},52524:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.appendForm=j,Object.defineProperty(t,"basicField",{enumerable:!0,get:function(){return f.basicField}}),t.buildCheckboxForm=V,t.editFormButton=function(e,t,n,r,i){var o=e.createElement("button");return o.setAttribute("type","button"),o.innerHTML="Edit "+E.label(b.ui("Form")),o.addEventListener("click",(function(a){j(e,t,{},n,b.ui("FormForm"),r,i).setAttribute("style",b.ui("FormForm").sameTerm(n)?"background-color: #fee;":"background-color: #ffffe7;"),o.parentNode.removeChild(o)}),!0),o},Object.defineProperty(t,"field",{enumerable:!0,get:function(){return c.field}}),Object.defineProperty(t,"fieldFunction",{enumerable:!0,get:function(){return c.fieldFunction}}),Object.defineProperty(t,"fieldLabel",{enumerable:!0,get:function(){return f.fieldLabel}}),Object.defineProperty(t,"fieldParams",{enumerable:!0,get:function(){return l.fieldParams}}),Object.defineProperty(t,"fieldStore",{enumerable:!0,get:function(){return f.fieldStore}}),t.findClosest=M,t.formsFor=function(e){var t=x.store;y.debug("formsFor: subject="+e);var n,r=t.findTypeURIs(e);for(n in r)y.debug("   type: "+n);var i=t.bottomTypeURIs(r),o=[];for(var a in i)y.debug("candidatesFor: trying bottom type ="+a),o=(o=o.concat(M(t,a,b.ui("creationForm")))).concat(M(t,a,b.ui("annotationForm")));return o},t.makeDescription=H,t.makeSelectForCategory=W,t.makeSelectForChoice=K,t.makeSelectForClassifierOptions=q,t.makeSelectForNestedCategory=z,t.makeSelectForOptions=function(e,t,n,r,i,o,a,s){y.debug("Select list length now "+i.length);for(var l,c=0,u={},f=t.updater.editable(a.uri),h=0;h<i.length;h++){var g=i[h];g.uri||d.warn("makeSelectForOptions: option does not have an uri: ".concat(g,", with predicate: ").concat(r)),g.uri&&!(g.uri in u)&&(u[g.uri]=!0,c++)}if(0===c)return(0,p.errorMessageBlock)(e,"Can't do selector with no options, subject= "+n+" property = "+r+".");y.debug("makeSelectForOptions: dataDoc="+a);var v=function(){return l={},r.sameTerm(b.rdf("type"))?l=t.findTypeURIs(n):t.each(n,r,null,a).forEach((function(e){e.uri&&(l[e.uri]=!0)})),l};l=v();var x=e.createElement("select");for(var _ in x.setAttribute("style",m.formSelectStyle),x.currentURI=null,x.refresh=function(){l=v();for(var e=0;e<x.children.length;e++){var t=x.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in l)}x.disabled=!1},u){var k=t.sym(_),S=e.createElement("option");o.disambiguate?S.appendChild(e.createTextNode(E.labelWithOntology(k,!0))):S.appendChild(e.createTextNode(E.label(k,!0)));var C=t.any(k,t.sym("http://www.w3.org/ns/ui#backgroundColor"));C&&S.setAttribute("style","background-color: "+C.value+"; "),S.AJAR_uri=_,_ in l&&(S.setAttribute("selected","true"),x.currentURI=_),x.appendChild(S)}if(!x.currentURI){var A=e.createElement("option");A.appendChild(e.createTextNode(o.nullLabel)),x.insertBefore(A,x.firstChild),A.selected=!0}return f&&x.addEventListener("change",(function(i){x.disabled=!0;for(var o=[],c=[],u=function(e){t.holds(n,r,e,a)&&o.push(w.st(n,r,e,a))},d=0;d<x.options.length;d++){var f=x.options[d];f.AJAR_uri&&(f.selected&&!(f.AJAR_uri in l)&&c.push(w.st(n,r,t.sym(f.AJAR_uri),a)),!f.selected&&f.AJAR_uri in l&&u(t.sym(f.AJAR_uri)),f.selected&&(x.currentURI=f.AJAR_uri))}for(var h=x.subSelect;h&&h.currentURI;)u(t.sym(h.currentURI)),h=h.subSelect;for(h=x.superSelect;h&&h.currentURI;)u(t.sym(h.currentURI)),h=h.superSelect;y.info("selectForOptions: data doc = "+a),t.updater.update(o,c,(function(t,n,r){if(l=v(),!n)return x.parentNode.appendChild((0,p.errorMessageBlock)(e,"Error updating data in select: "+r));x.disabled=!1,s&&s(n,{widget:"select",event:"change"})}))}),!1),x},Object.defineProperty(t,"mostSpecificClassURI",{enumerable:!0,get:function(){return c.mostSpecificClassURI}}),t.newButton=function(e,t,n,r,i,o,a,s){var l=e.createElement("button");return l.setAttribute("type","button"),l.innerHTML="New "+E.label(i),l.addEventListener("click",(function(c){l.parentNode.appendChild(B(e,t,n,r,i,o,a,s))}),!1),l},t.newThing=$,t.promptForNew=B,t.propertiesForClass=function(e,t){var n=e.each(void 0,b.rdf("range"),t);[b.rdfs("comment"),b.dc("title"),b.foaf("name"),b.foaf("homepage")].forEach((function(e){n.push(e)}));var r=e.each(void 0,b.rdf("type"),t);r.length>60&&(r=r.slice(0,60));for(var i={},o=0;o<(r.length>60?60:r.length);o++)e.statementsMatching(r[o],void 0,void 0).forEach((function(e){i[e.predicate.uri]=!0}));n.forEach((function(e){i[e.uri]=!0}));var a=[];for(var s in i)a.push(e.sym(s));return a},Object.defineProperty(t,"renderNameValuePair",{enumerable:!0,get:function(){return f.renderNameValuePair}}),t.sortByLabel=U,t.sortBySequence=D;var o=r(n(54756)),a=r(n(29293)),s=C(n(65078)),l=n(31949),c=n(89171),u=n(19400),d=C(n(82902)),p=n(28921),f=n(72009),h=n(13256),m=C(n(5148)),g=r(n(90471)),v=n(4901),y=C(n(9295)),b=C(n(62054)),w=C(n(67364)),x=n(23451),E=C(n(37499)),_=n(38998),k=C(n(81939));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P="✓",O="✕",I="-",N=x.store;function F(e,t,n,r,i,o,a){for(var s=o.children,l=0;l<a.length;l++){var u=a[l];if((0,c.mostSpecificClassURI)(u)===b.ui("Options").uri){var p=(0,c.fieldFunction)(e,u)(e,null,t,n,u,r,i);d.log("Refreshing Options field by replacing it."),o.insertBefore(p,s[l]),o.removeChild(s[l+1])}}}function L(e,t,n,r,i,o,a,s){var l=b.ui,c=x.store,u=c.any(i,l("property"));if(!u){var d=(0,p.errorMessageBlock)(e,"No property to boolean field: "+i);return t&&t.appendChild(d),d}var h=c.any(i,l("label"));h||(h=E.label(u,!0)),o=(0,f.fieldStore)(r,u,o);var m=c.any(r,u);void 0===m&&(m=!1);var g=w.st(r,u,!0,o),v=V(e,c,h,w.st(r,u,!1,o),g,i,o,s);return t&&t.appendChild(v),v}function R(e,t,n,r,i,o,a){(0,c.fieldFunction)(e,i)(e,t,n,r,i,o,a)}function j(e,t,n,r,i,o,a){return(0,c.fieldFunction)(e,i)(e,t,n,r,i,o,a)}function M(e,t,n){for(var r=[e.sym(t)];r.length>0;){var i=r.shift(),o=e.each(i,n);if(y.debug("Lists for "+i+", "+n+": "+o.length),0!==o.length)return o;for(var a=e.each(i,b.rdfs("subClassOf")),s=0;s<a.length;s++)r.push(a[s]),y.debug("findClosest: add super: "+a[s])}return[]}function D(e){var t=e.map((function(e){return[N.any(e,b.ui("sequence"))||9999,e]}));return t.sort((function(e,t){return e[0]-t[0]})),t.map((function(e){return e[1]}))}function U(e){var t=e.map((function(e){return[E.label(e).toLowerCase(),e]}));return t.sort(),t.map((function(e){return e[1]}))}function B(e,t,n,r,i,o,a,l){var u=e.createElement("form");if(!o){var d=M(t,i.uri,b.ui("creationForm"));if(0===d.length){u.appendChild(e.createElement("p")).textContent="I am sorry, you need to provide information about a "+E.label(i)+" but I don't know enough information about those to ask you.";var p=u.appendChild(e.createElement("button"));return p.setAttribute("type","button"),p.setAttribute("style","float: right;"),p.innerHTML="Goto "+E.label(i),p.addEventListener("click",(function(t){e.outlineManager.GotoSubject(i,!0,void 0,!0,void 0)}),!1),u}y.debug("lists[0] is "+d[0]),o=d[0]}y.debug("form is "+o),u.setAttribute("style","border: 0.05em solid ".concat(g.default.formBorderColor,"; color: ").concat(g.default.formBorderColor)),u.innerHTML="<h3>New "+E.label(i)+"</h3>";var f=(0,c.fieldFunction)(e,o),h=$(a),m=!1;function v(e,t,n){return l(t,n)}y.info("paneUtils Object is "+h);var x=f(e,u,{},h,o,a,(function(o,c){if(!o)return l(o,c);var d=[];n&&!t.holds(n,r,h,a)&&d.push(w.st(n,r,h,a)),n&&!t.holds(h,b.rdf("type"),i,a)&&d.push(w.st(h,b.rdf("type"),i,a)),d.length?t.updater.update([],d,v):l(!0,c),m||(m=u.appendChild(s.linkButton(e,h)))}));return s.removeButton(e,x).setAttribute("style","float: right;"),u.AJAR_subject=h,u}function H(e,t,n,r,i,o){var a,s=e.createElement("div"),l=t.anyJS(n,r,null,i)||"",c=e.createElement("textarea");function u(l){a.disabled=!0,a.setAttribute("style","visibility: hidden; float: right;"),c.disabled=!0,c.style.color=g.default.textInputColorPending;var u=t.statementsMatching(n,r,null,i),d=w.st(n,r,c.value,i);t.updater.update(u,d,(function(t,n,r){n?(c.style.color=g.default.textInputColor,c.disabled=!1):s.appendChild((0,p.errorMessageBlock)(e,"Error (while saving change to "+i.uri+"): "+r)),o&&o(n,r)}))}return s.appendChild(c),c.rows=l?l.split("\n").length+2:2,c.cols=80,c.setAttribute("style",m.multilineTextInputStyle),null!==l?c.value=l:c.select(),s.refresh=function(){var e=t.any(n,r,null,i);e&&e.value!==c.value&&(c.value=e.value)},t.updater.editable(i.uri)?((a=k.continueButton(e,u)).disabled=!0,a.style.visibility="hidden",a.style.float="right",s.appendChild(a),c.addEventListener("keyup",(function(e){c.style.color="green",a&&(a.disabled=!1,a.style.visibility="")}),!0),c.addEventListener("change",u,!0)):(c.disabled=!0,c.style.backgroundColor=g.default.textInputBackgroundColorUneditable),s}function q(e,t,n,r,i,o,a,s){y.debug("Select list length now "+i.length);for(var l,u=0,f={},h=t.updater.editable(a.uri),g=0;g<i.length;g++){var v=i[g];v.uri||d.warn("makeSelectForClassifierOptions: option does not have an uri: ".concat(v,", with predicate: ").concat(r)),v.uri&&!(v.uri in f)&&(f[v.uri]=!0,u++)}if(0===u&&!o.mint)return(0,p.errorMessageBlock)(e,"Can't do selector with no options, subject= "+n+" property = "+r+".");y.debug("makeSelectForClassifierOptions: dataDoc="+a);var x=function(){return l={},r.sameTerm(b.rdf("type"))?l=t.findTypeURIs(n):t.each(n,r,null,a).forEach((function(e){l[e.uri]=!0})),l};l=x();var _=e.createElement("select");for(var k in _.setAttribute("style",m.formSelectStyle),o.multiple&&_.setAttribute("multiple","true"),_.currentURI=null,_.refresh=function(){l=x();for(var e=0;e<_.children.length;e++){var t=_.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in l)}_.disabled=!1},f){var S=t.sym(k),C=e.createElement("option");o.disambiguate?C.appendChild(e.createTextNode(E.labelWithOntology(S,!0))):C.appendChild(e.createTextNode(E.label(S,!0)));var A=t.any(S,t.sym("http://www.w3.org/ns/ui#backgroundColor"));A&&C.setAttribute("style","background-color: "+A.value+"; "),C.AJAR_uri=k,k in l&&(C.setAttribute("selected","true"),_.currentURI=k),_.appendChild(C)}if(h&&o.mint){var T=e.createElement("option");T.appendChild(e.createTextNode(o.mint)),T.AJAR_mint=!0,_.insertBefore(T,_.firstChild)}if(null==_.currentURI&&!o.multiple){var P=e.createElement("option");P.appendChild(e.createTextNode(o.nullLabel)),_.insertBefore(P,_.firstChild),P.selected=!0}return h&&_.addEventListener("change",(function(i){_.disabled=!0;for(var u,d=[],f=[],h=function(e){t.holds(n,r,e,a)&&d.push(w.st(n,r,e,a))},m=0;m<_.options.length;m++){var g=_.options[m];if(g.selected&&g.AJAR_mint){if(o.mintClass){var v=B(e,t,n,r,o.mintClass,null,a,(function(e,t){e||s(e,t,{change:"new"})}));_.parentNode.appendChild(v),u=v.AJAR_subject}else u=$(a);f.push(w.st(n,r,u,a)),o.mintStatementsFun&&(f=f.concat(o.mintStatementsFun(u)))}g.AJAR_uri&&(g.selected&&!(g.AJAR_uri in l)&&f.push(w.st(n,r,t.sym(g.AJAR_uri),a)),!g.selected&&g.AJAR_uri in l&&h(t.sym(g.AJAR_uri)),g.selected&&(_.currentURI=g.AJAR_uri))}for(var b=_.subSelect;b&&b.currentURI;)h(t.sym(b.currentURI)),b=b.subSelect;for(b=_.superSelect;b&&b.currentURI;)h(t.sym(b.currentURI)),b=b.superSelect;function E(e,t){s(e,{widget:"select",event:"new"})}y.info("makeSelectForClassifierOptions: data doc = "+a),t.updater.update(d,f,(function(t,n,r){if(l=x(),!n)return _.parentNode.appendChild((0,p.errorMessageBlock)(e,"Error updating data in select: "+r));_.disabled=!1,u&&(0,c.fieldFunction)(e,o.subForm)(e,_.parentNode,{},u,o.subForm,a,E),s&&s(n,{widget:"select",event:"change"})}))}),!1),_}function W(e,t,n,r,i,o){var a,s=t.any(r,b.owl("disjointUnionOf")),l=!1;return s?a=s.elements:(a=t.each(void 0,b.rdfs("subClassOf"),r),l=!0),y.debug("Select list length "+a.length),0===a.length?(0,p.errorMessageBlock)(e,"Can't do "+(l?"multiple ":"")+"selector with no subclasses of category: "+r):1===a.length?(0,p.errorMessageBlock)(e,"Can't do "+(l?"multiple ":"")+"selector with only 1 subclass of category: "+r+":"+a[1]):q(e,t,n,b.rdf("type"),a,{multiple:l,nullLabel:"* Select type *"},i,o)}function z(e,t,n,r,i,o){function a(){l&&(s.removeChild(l),l=null),c.currentURI&&t.any(t.sym(c.currentURI),b.owl("disjointUnionOf"))&&(l=z(e,t,n,t.sym(c.currentURI),i,o),c.subSelect=l.firstChild,c.subSelect.superSelect=c,s.appendChild(l))}var s=e.createElement("span"),l=null,c=W(e,t,n,r,i,(function(e,t){e&&a(),o(e,t)}));return s.appendChild(c),a(),s}function V(e,t,n,r,i,o,a,s){var l=e.createElement("div"),c=(0,f.renderNameValuePair)(e,t,l,o,n),u=t.updater.editable(a.uri),h=e.createElement("button"),g=h;function v(e){if(!e)return[];if(e.object)return e.why||(e.why=a),[e];if(e instanceof Array)return e;throw new Error("buildCheckboxForm: bad param "+e)}function y(e){return 0===e.filter((function(e){return!t.holds(e.subject,e.predicate,e.object,e.why)})).length}return h.style=m.checkboxInputStyle,c.appendChild(h),i=v(i),r=v(r),function(){var n=y(i),a=n;if(r.length){var c=y(r);if(n&&c)return l.appendChild(k.errorMessageBlock(e,"Inconsistent data in dataDoc!\n"+i+" and\n"+r)),l;if(!n&&!c){n=null;var u=t.any(o,b.ui("default"));a=u?"1"===u.value:!!s&&null}}h.state=n,h.textContent={true:P,false:s?O:" ",null:I}[a]}(),u?(h.addEventListener("click",(function(n){g.style.color="#bbb";var o=!0===h.state?i:!1===h.state?r:[];h.newState=null===h.state||!0!==h.state&&(!s||null);var a=!0===h.newState?i:!1===h.newState?r:[];d.log("  Deleting  ".concat(o)),d.log("  Inserting ".concat(a)),t.updater.update(o,a,(function(n,r,i){r?(g.style.color="#000",h.state=h.newState,h.textContent={true:P,false:O,null:I}[h.state]):(o.why&&t.holds(o.subject,o.predicate,o.object,o.why)&&d.log(" @@@@@ weird if 409 - does hold statement"),g.style.color="#000",g.style.backgroundColor="#fee",l.appendChild((0,p.errorMessageBlock)(e,"Checkbox: Error updating dataDoc from ".concat(h.state," to ").concat(h.newState,":\n\n").concat(i))))}))}),!1),l):l}function $(e){var t=new Date;return w.sym(e.uri+"#id"+t.getTime())}function K(e,t,n,r,i,o,a,s,l,c,u){for(var d={},f=n.updater.editable(c.uri),h=0;h<o.length;h++){var g=o[h];g.uri&&!(g.uri in d)&&(d[g.uri]=!0)}if(0===Object.keys(d).length&&!l.mint)return(0,p.errorMessageBlock)(e,"Can't do selector with no options, subject= "+r+" property = "+i+".");y.debug("makeSelectForChoice: dataDoc="+c);var v,x,_=e.createElement("select");for(var k in _.setAttribute("style",m.formSelectStyle),_.setAttribute("id","formSelect"),_.currentURI=null,d)_.appendChild(C(k));if(f&&l.mint){var S=e.createElement("option");S.appendChild(e.createTextNode(l.mint)),S.AJAR_mint=!0,_.insertBefore(S,_.firstChild)}function C(t){var r,i=e.createElement("option"),o=n.sym(t);r=l.disambiguate?E.labelWithOntology(o,!0):E.label(o,!0),i.appendChild(e.createTextNode(r)),i.setAttribute("value",t);var s=n.any(o,n.sym("http://www.w3.org/ns/ui#backgroundColor"));return s&&i.setAttribute("style","background-color: "+s.value+"; "),i.AJAR_uri=t,G(o.value,a)&&i.setAttribute("selected","true"),i}return 0===_.children.length&&_.insertBefore(((x=e.createElement("option")).appendChild(e.createTextNode((v="--- choice ---",i&&"BlankNode"!==i.termType&&(v="* Select for property: "+E.label(i)+" *"),r&&"BlankNode"!==r.termType&&(v="* Select for "+E.label(r,!0)+" *"),v))),x.disabled=!0,x.value=!0,x.hidden=!0,x.selected=!0,x),_.firstChild),_.update=function(t){a=t;var o,l,d=[],f=[],h=function(e){n.holds(r,i,e,c)||f.push(w.st(r,i,e,c)),s&&!n.holds(e,b.rdf("type"),n.sym(s),c)&&f.push(w.st(e,b.rdf("type"),n.sym(s),c))},m=n.each(r,i,null,c).map((function(e){return e.value})),g=A(m);try{for(g.s();!(o=g.n()).done;){var v=o.value;G(v,a)||(l=w.sym(v),n.holds(r,i,l,c)&&d.push(w.st(r,i,l,c)))}}catch(e){g.e(e)}finally{g.f()}var y,x=A(a);try{for(x.s();!(y=x.n()).done;){var E=y.value;E in m||h(w.sym(E))}}catch(e){x.e(e)}finally{x.f()}n.updater.update(d,f,(function(t,n,r){if(!n)return _.parentNode.appendChild((0,p.errorMessageBlock)(e,"Error updating data in select: "+r));_.refresh(),u&&u(n,{widget:"select",event:"change"})}))},_.refresh=function(){_.disabled=!0;for(var o,d=[],f=0;f<_.options.length;f++){var h=_.options[f];if(h.selected&&h.AJAR_mint){if(l.mintClass){var m=B(e,n,r,i,s,l.subForm,c,(function(e,t){e||u(e,t,{change:"new"})}));_.parentNode.appendChild(m),o=m.AJAR_subject}else o=$(c);d.push(w.st(r,i,n.sym(o),c)),s&&d.push(w.st(o,b.rdf("type"),n.sym(s),c)),l.mintStatementsFun&&(d=d.concat(l.mintStatementsFun(o))),_.currentURI=o}h.AJAR_uri&&(h.selected&&G(h.AJAR_uri,a)&&(_.currentURI=h.AJAR_uri),G(h.AJAR_uri,a)||h.removeAttribute("selected"),G(h.AJAR_uri,a)&&h.setAttribute("selected","true"))}y.info("selectForOptions: data doc = "+c),_.currentURI&&l.subForm&&!l.multiSelect&&R(e,t,{},w.sym(_.currentURI),l.subForm,c,(function(r,i){r?(n.updater.update([],d,(function(n,r,i){r||t.appendChild((0,p.errorMessageBlock)(e,"Error updating select: "+i))})),u&&u(r,{widget:"select",event:"new"})):t.appendChild((0,p.errorMessageBlock)(e,"Error updating data in field of select: "+i))})),_.disabled=!1},f&&_.addEventListener("change",(function(e){t.removeChild(t.lastChild),_.refresh()}),!1),_}function G(e,t){var n;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}c.field[b.ui("AutocompleteField").uri]=h.autocompleteField,c.field[b.ui("Form").uri]=c.field[b.ui("Group").uri]=function(e,t,n,r,i,o,a){var s=e.createElement("div"),l=b.ui;if(t&&t.appendChild(s),i){var u=r.toNT()+"|"+i.toNT();if(n[u])return s.appendChild(e.createTextNode("Group: see above "+u)),s;var d={};for(var f in n)d[f]=1;d[u]=1;var h=i.doc?i.doc():null,g=N.any(i,l("weight"),null,h),v=g?Number(g.value):1;if(v>3||v<0)return s.appendChild((0,p.errorMessageBlock)(e,"Form Group weight ".concat(v," should be 0-3")));s.setAttribute("style",m.formGroupStyle[v]),s.style.display="flex",s.style.flexDirection="column",s.class="form-weight-"+v;var y,w=N.any(i,l("parts"),null,h);if(w?y=w.elements:(w=N.each(i,l("part"),null,h),y=D(w)),!w)return s.appendChild((0,p.errorMessageBlock)(e,"No parts to form! "));for(var x=0;x<y.length;x++){var E=y[x],_=(0,c.fieldFunction)(e,E);s.appendChild(_(e,null,d,r,E,o,(function(t,i){t&&i&&i.widget&&"select"===i.widget&&F(e,n,r,o,a,s,y),a(t,{widget:"group",change:i})})))}return s}},c.field[b.ui("Options").uri]=function(e,t,n,r,i,o,a){var s=x.store,l=e.createElement("div"),c=i.doc?i.doc():null,u=b.ui;t&&t.appendChild(l);var d=s.any(i,u("dependingOn"));d||(d=b.rdf("type"));var f,h=s.each(i,u("case"),null,c);h||l.appendChild((0,p.errorMessageBlock)(e,"No cases to Options form. ")),f=d.sameTerm(b.rdf("type"))?Object.keys(s.findTypeURIs(r)).map((function(e){return w.sym(e)})):s.each(r,d);for(var m=0;m<h.length;m++){for(var g=h[m],v=s.each(g,u("for"),null,c),y=!1,E=0;E<v.length;E++){var _,k=A(f);try{for(k.s();!(_=k.n()).done;){var S=_.value,C=v[E];(S.sameTerm(v)||S.termType===C.termType&&S.value===C.value)&&(y=!0)}}catch(e){k.e(e)}finally{k.f()}}if(y){var T=s.the(g,u("use"));if(!T)return l.appendChild((0,p.errorMessageBlock)(e,'No "use" part for case in form '+i)),l;j(e,l,n,r,T,o,a);break}}return l},c.field[b.ui("Multiple").uri]=function(e,t,n,r,i,l,u){function f(e){return e.map((function(e){return e.toString().slice(-7)})).join(", ")}function h(){return m.apply(this,arguments)}function m(){return(m=(0,a.default)(o.default.mark((function t(){var n,i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=$(l),!O){t.next=8;break}return q(),j.elements.push(n),t.next=6,W();case 6:t.next=20;break;case 8:return i=N?[w.st(n,I,r,l)]:[w.st(r,I,n,l)],t.prev=9,t.next=12,k.updater.update([],i);case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(9),a="Error adding to unordered multiple: "+t.t0,C.appendChild((0,p.errorMessageBlock)(e,a)),d.error(a);case 19:V();case 20:case"end":return t.stop()}}),t,null,[[9,14]])})))).apply(this,arguments)}function g(t){function i(){return(i=(0,a.default)(o.default.mark((function n(){var i,a;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!O){n.next=14;break}d.log("pre delete: "+f(j.elements)),i=0;case 3:if(!(i<j.elements.length)){n.next=12;break}if(!j.elements[i].sameTerm(t)){n.next=9;break}return j.elements.splice(i,1),n.next=8,W();case 8:return n.abrupt("return");case 9:i++,n.next=3;break;case 12:n.next=15;break;case 14:k.holds(r,I,t,l)&&(a=[w.st(r,I,t,l)],k.updater.update(a,[],(function(t,n,r){n?D.removeChild(g):D.appendChild((0,p.errorMessageBlock)(e,"Multiple: delete failed: "+r))})));case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=(0,a.default)(o.default.mark((function e(n,r){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.log("pre move: "+f(j.elements)),i=0;case 2:if(!(i<j.elements.length)){e.next=8;break}if(!j.elements[i].sameTerm(t)){e.next=5;break}return e.abrupt("break",8);case 5:i++,e.next=2;break;case 8:if(i===j.elements.length&&alert("list move: not found element for "+t),!r){e.next=16;break}if(0!==i){e.next=13;break}return alert("@@ boop - already at top   -temp message"),e.abrupt("return");case 13:j.elements.splice(i-1,2,j.elements[i],j.elements[i-1]),e.next=20;break;case 16:if(i!==j.elements.length-1){e.next=19;break}return alert("@@ boop - already at bottom   -temp message"),e.abrupt("return");case 19:j.elements.splice(i,2,j.elements[i+1],j.elements[i]);case 20:return e.next=22,W();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y.debug("Multiple: render object: "+t);var g=(0,c.fieldFunction)(e,R)(e,null,n,t,R,l,(function(e,n){d.log("Item done callback for item ".concat(t.toString())),e||d.error("  Item done callback: Error: "+n),u(e,n)}));if(g.subject=t,k.updater.editable(l.uri)&&(s.deleteButtonWithCheck(e,g,F,(function(){return i.apply(this,arguments)})),O)){var b=e.createElement("div");b.style.display="grid",b.style.gridTemplateColumns="auto 3em",b.style.gridTemplateRows="50% 50%";var x=s.button(e,v.icons.iconBase+"noun_1369237.svg","Move Up",function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(t,!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=s.button(e,v.icons.iconBase+"noun_1369241.svg","Move Down",function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(t,!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=e.createElement("div");return _.appendChild(g),b.appendChild(_),b.appendChild(x),b.appendChild(E),x.style.gridColumn=2,E.style.gridColumn=2,x.style.gridRow=1,E.style.padding="0em",x.style.padding="0em",E.style.gridRow=2,_.style.gridColumn=1,_.style.gridRowStart="span 2",b}return g}var _=v.icons.iconBase+"noun_19460_green.svg",k=x.store,S=i.doc?i.doc():null,C=e.createElement("div"),A=C,T=b.ui;t&&t.appendChild(C);var P=k.any(i,T("ordered")),O=!!P&&w.Node.toJS(P),I=k.any(i,T("property")),N=k.anyJS(i,T("reverse"),null,S);if(!I)return C.appendChild((0,p.errorMessageBlock)(e,"No property to multiple: "+i)),A;var F=k.any(i,T("label"));F||(F=E.label(I));var L=k.any(i,T("min"));L=L?0+L.value:0;var R=k.any(i,T("part"));if(!R)return C.appendChild((0,p.errorMessageBlock)(e,"No part to multiple: "+i)),A;var j,M,D=C.appendChild(e.createElement("div"));if(D.style.display="flex",D.style.flexDirection="column",M=N?k.any(null,I,r,l):k.any(r,I,null,l),O?(j=N?k.any(null,I,r,l):k.any(r,I,null,l),M=j?j.elements:[]):(M=N?k.each(null,I,r,l):k.each(r,I,null,l),j=null),k.updater.editable(l.uri)){var U=C.appendChild(e.createElement("div"));U.style.padding="0.5em";var B=U.appendChild(e.createElement("img"));B.setAttribute("src",_),B.setAttribute("style","margin: 0.2em; width: 1.5em; height:1.5em"),B.title="Click to add another "+F;var H=e.createElement("span");H.textContent=(0===M.length?"Add another ":"Add ")+F,U.addEventListener("click",function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!0),U.appendChild(H)}function q(){j||(j=new w.Collection,N?k.add(j,I,r,l):k.add(r,I,j,l))}function W(){return z.apply(this,arguments)}function z(){return(z=(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.log("save list: "+f(j.elements)),q(),t.prev=2,t.next=5,k.fetcher.putBack(l);case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(2),C.appendChild((0,p.errorMessageBlock)(e,"Error trying to put back a list: "+t.t0)),t.abrupt("return");case 11:V();case 12:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}function V(){var e;if(O){var t=N?k.the(null,I,r,l):k.the(r,I,null,l);e=t?t.elements:[]}else(e=N?k.each(null,I,r,l):k.each(r,I,null,l)).sort();E.syncTableToArrayReOrdered(D,e,g)}function K(){return(K=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=L-M.length)>0)){e.next=12;break}n=0;case 3:if(!(n<t)){e.next=10;break}return d.log("Adding extra: min "+L),e.next=7,h();case 7:n++,e.next=3;break;case 10:return e.next=12,W();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return D.refresh=V,V(),function(){return K.apply(this,arguments)}().then((function(){d.log(" Multiple render: async stuff ok")}),(function(e){d.error(" Multiple render: async stuff fails. #### ",e)})),A},c.field[b.ui("PhoneField").uri]=f.basicField,c.field[b.ui("EmailField").uri]=f.basicField,c.field[b.ui("ColorField").uri]=f.basicField,c.field[b.ui("DateField").uri]=f.basicField,c.field[b.ui("DateTimeField").uri]=f.basicField,c.field[b.ui("TimeField").uri]=f.basicField,c.field[b.ui("NumericField").uri]=f.basicField,c.field[b.ui("IntegerField").uri]=f.basicField,c.field[b.ui("DecimalField").uri]=f.basicField,c.field[b.ui("FloatField").uri]=f.basicField,c.field[b.ui("TextField").uri]=f.basicField,c.field[b.ui("SingleLineTextField").uri]=f.basicField,c.field[b.ui("NamedNodeURIField").uri]=f.basicField,c.field[b.ui("MultiLineTextField").uri]=function(e,t,n,r,i,o,a){var s=b.ui,l=x.store,c=i.doc?i.doc():null,u=l.any(i,s("property"));if(!u)return(0,p.errorMessageBlock)(e,"No property to text field: "+i);var d=e.createElement("div");d.style.display="flex",d.style.flexDirection="row";var h=d.appendChild(e.createElement("div"));h.style.width=g.default.formFieldNameBoxWidth;var m=d.appendChild(e.createElement("div"));h.appendChild((0,f.fieldLabel)(e,u,i)),o=(0,f.fieldStore)(r,u,o);var v=l.anyJS(r,u,null,o)||"",y=l.updater.editable(o.uri),w=i&&l.anyJS(i,b.ui("suppressEmptyUneditable"),null,c);!y&&w&&""===v&&(d.style.display="none");var E=H(e,l,r,u,o,a);return m.appendChild(E),t&&t.appendChild(d),d},c.field[b.ui("BooleanField").uri]=function(e,t,n,r,i,o,a){return L(e,t,0,r,i,o,0,!1)},c.field[b.ui("TristateField").uri]=function(e,t,n,r,i,o,a){return L(e,t,0,r,i,o,0,!0)},c.field[b.ui("Classifier").uri]=function(e,t,n,r,i,o,a){var s=x.store,l=b.ui,c=s.any(i,l("category"));if(!c)return(0,p.errorMessageBlock)(e,"No category for classifier: "+i);y.debug("Classifier: dataDoc="+o);var u=z(e,s,r,c,o,(function(e,t){return a(e,t)}));return t&&t.appendChild(u),u},c.field[b.ui("Choice").uri]=function(e,t,n,r,i,o,a){var l,c=b.ui,u=x.store,d=i.doc?i.doc():null,h=e.createElement("div");h.setAttribute("class","choiceBox"),t&&t.appendChild(h);var m=e.createElement("div");m.setAttribute("class","formFieldName choiceBox-label"),h.appendChild(m);var g=e.createElement("div");g.setAttribute("class","formFieldValue choiceBox-selectBox"),h.appendChild(g);var v=u.any(i,c("property"));if(!v)return h.appendChild((0,p.errorMessageBlock)(e,"No property for Choice: "+i));m.appendChild((0,f.fieldLabel)(e,v,i));var y=u.any(i,c("from"));if(!y)return(0,p.errorMessageBlock)(e,"No 'from' for Choice: "+i);var E=u.any(i,c("use")),k={form:i,subForm:E,disambiguate:!1};u.any(i,c("canMintNew"))&&(k.mint="* Create new *");var S=u.any(i,c("multiselect"));S&&(k.multiSelect=!0);var C,A=u.each(i,c("search-full-store")).length?null:o;return g.refresh=function(){var t=u.each(r,v,null,o).map((function(e){return e.value})),n=function(e){var t,n=[];for(var r in n=u.each(void 0,b.rdf("type"),y,d),function(e,t,n){var r,i,o,a,s,l,c,u,d,p,f,h={};h[t.toNT()]=!0;var m={},g=e.transitiveClosure(h,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var v in g){for(var y=0,b=(s=e.statementsMatching(null,e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),e.fromNT(v),n)).length;y<b;y++)m[(p=s[y]).subject.toNT()]=p;for(var w=0,x=(l=e.each(null,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),e.fromNT(v),n)).length;w<x;w++)for(a=l[w],o=0,r=(c=e.statementsMatching(null,a,null,n)).length;o<r;o++)m[(p=c[o]).subject.toNT()]=p;for(var E=0,_=(u=e.each(null,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),e.fromNT(v),n)).length;E<_;E++)for(a=u[E],f=0,i=(d=e.statementsMatching(null,a,null,n)).length;f<i;f++)m[(p=d[f]).object.toNT()]=p}return m}(u,y,e))n.push(u.fromNT(r));if(y.sameTerm(b.rdfs("Class")))for(l in s.allClassURIs())n.push(u.sym(l));else if(y.sameTerm(b.rdf("Property"))){for(l in(t=s.propertyTriage(u)).op)n.push(u.fromNT(l));for(l in t.dp)n.push(u.fromNT(l));k.disambiguate=!0}else if(y.sameTerm(b.owl("ObjectProperty"))){for(l in(t=s.propertyTriage(u)).op)n.push(u.fromNT(l));k.disambiguate=!0}else if(y.sameTerm(b.owl("DatatypeProperty"))){for(l in(t=s.propertyTriage(u)).dp)n.push(u.fromNT(l));k.disambiguate=!0}return n}(A);if(n.push(t),n=U(n),C=K(e,g,u,r,v,n,t,y,k,o,a),g.innerHTML="",g.appendChild(C),S){var i=new _.IconicMultiSelect({placeholder:C.selected,select:C,container:g,textField:"textField",valueField:"valueField"});i.init(),i.subscribe((function(n){if("REMOVE_OPTION"===n.action&&(t=t.filter((function(e){return e!==n.value}))),"CLEAR_ALL_OPTIONS"===n.action&&(t=[]),"ADD_OPTION"===n.action)if((n.value+"").includes("Create new")){var i=$(o),s=[];s.push(w.st(r,v,u.sym(i),o)),y&&s.push(w.st(i,b.rdf("type"),u.sym(y),o)),E&&R(e,g,{},w.sym(i),E,o,(function(n,r){n?(u.updater.update([],s,(function(t,n,r){n||g.appendChild((0,p.errorMessageBlock)(e,"Error updating select: "+r))})),t.push(i),a&&a(n,{widget:"select",event:"new"})):g.appendChild((0,p.errorMessageBlock)(e,"Error updating data in field of select: "+r))}))}else t.push(n.value);C.update(t)}))}},g.refresh(),C&&C.refresh&&C.refresh(),h},c.field[b.ui("Comment").uri]=c.field[b.ui("Heading").uri]=function(e,t,n,r,i,o,a){var s=b.ui,d=x.store,p=d.any(i,s("contents"));p||(p="Error: No contents in comment field.");var f=i.doc?i.doc():null,h=(0,c.mostSpecificClassURI)(i),m=l.fieldParams[h]||{},g=e.createElement("div");t&&t.appendChild(g);var v=g.appendChild(e.createElement(m.element));v.textContent=p,(0,u.setFieldStyle)(v,i);var y=d.anyJS(i,b.ui("suppressIfUneditable"),null,f),w=d.updater.editable(o.uri);return y&&!w&&(g.style.display="none"),g}},32545:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutocompleteControl=function(e,t,n,r,i,o){return x.apply(this,arguments)};var o=r(n(54756)),a=r(n(29293)),s=h(n(62054)),l=n(4901),c=n(23451),u=h(n(81939)),d=h(n(37499)),p=n(73696);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v="Solid ID",y=l.icons.iconBase+"noun_34653_green.svg",b=l.icons.iconBase+"noun_Search_875351.svg",w=l.icons.iconBase+"noun_253504.svg";function x(){return x=(0,a.default)(o.default.mark((function e(t,n,r,i,l,f){var h,g,x,E,_,k,S,C,A,T,P,O,I,N,F,L,R,j,M,D,U,B,H;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M=function(){j?((0,p.setVisible)(R,!1),(0,p.setVisible)(O,!1),(0,p.setVisible)(I,!1)):((0,p.setVisible)(R,!0),(0,p.setVisible)(O,!1),(0,p.setVisible)(I,!1))},P=function(){return(P=(0,a.default)(o.default.mark((function e(t){var r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return a=i.value,e.next=7,l(n,a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)},T=function(e){return P.apply(this,arguments)},A=function(){return(A=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=5;break}B.removeChild(U),U=void 0,e.next=7;break;case 5:return e.next=7,k();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},C=function(e){return A.apply(this,arguments)},S=function(){return(S=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(U=t.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),e.t0=U,e.next=5,(0,p.renderAutoComplete)(t,i,D,h);case 5:e.t1=e.sent,e.t0.appendChild.call(e.t0,e.t1),U.appendChild(O),U.appendChild(I),U.appendChild(R),U.appendChild(N),B.appendChild(U);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},k=function(){return S.apply(this,arguments)},_=function(){U&&(B.removeChild(U),U=void 0)},E=function(){return(E=(0,a.default)(o.default.mark((function e(r){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.askName(t,c.store,B,s.vcard("url"),void 0,v);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",l(n,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},x=function(e){return E.apply(this,arguments)},g=function(){return(g=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.permanent?((0,p.setVisible)(R,!0),(0,p.setVisible)(O,!1),(0,p.setVisible)(I,!1)):_(),e.abrupt("return",l(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(e,t){return g.apply(this,arguments)},(O=u.continueButton(t)).setAttribute("data-testid","accept-button"),(I=u.cancelButton(t)).setAttribute("data-testid","cancel-button"),N=t.createElement("div"),F=i.targetClass?d.label(i.targetClass):"item",(L=u.deleteButtonWithCheck(t,N,F,f)).setAttribute("data-testid","delete-button"),(R=u.button(t,w,"Edit",(function(e){j=!j,M()}))).setAttribute("data-testid","edit-button"),j=!0,D={acceptButton:O,cancelButton:I,editButton:R,deleteButton:L},U=void 0,(B=t.createElement("div")).style.display="flex",B.style.flexDirection="row",!i.permanent&&!i.currentObject){e.next=31;break}return e.next=31,k();case 31:return r.editable&&(B.style.width="100%",r.manualURIEntry&&(H=B.appendChild(u.button(t,y,r.idNoun,x)),u.makeDropTarget(H,T,void 0)),!r.dbLookup||i.currentObject||i.permanent||B.appendChild(u.button(t,b,r.idNoun,C))),M(),e.abrupt("return",B);case 34:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}},13256:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.autocompleteField=function(e,t,n,r,i,f,h){var m;function g(){return(g=(0,a.default)(o.default.mark((function t(n,i){var a,s,l,u,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}throw new Error("autocompleteField:  No name set.");case 2:if(!(a=y.the(r,_,null,f))){t.next=7;break}if(s=y.any(a,k,null,f),!(a.equals(n)&&s&&s.sameTerm(i))){t.next=7;break}return t.abrupt("return");case 7:return l=a?y.statementsMatching(r,_,a,f).concat(y.statementsMatching(a,k,null,f)):[],u=[(0,p.st)(r,_,n,f),(0,p.st)(n,k,i,f)],t.prev=9,t.next=12,null===(d=y.updater)||void 0===d?void 0:d.updateMany(l,u);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(9),h(!1,t.t0),w.appendChild(c.errorMessageBlock(e,"Autocomplete form data update error:"+t.t0,null,t.t0)),t.abrupt("return");case 19:h(!0,"");case 20:case"end":return t.stop()}}),t,null,[[9,14]])})))).apply(this,arguments)}function v(){return(v=(0,a.default)(o.default.mark((function t(n,i){var a,s,l,u,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=y.the(r,_,null,f)){t.next=5;break}return h(!1,"NO data to elete"),w.appendChild(c.errorMessageBlock(e,"Autocomplete delete: no old data!")),t.abrupt("return");case 5:return s=y.statementsMatching(r,_,a,f).concat(y.statementsMatching(a,k,null,f)),l=[],t.prev=7,t.next=10,null===(u=y.updater)||void 0===u?void 0:u.updateMany(s,l);case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(7),d=new Error("Autocomplete form data delete error:"+t.t0),h(!1,t.t0),w.appendChild(c.errorMessageBlock(e,d,null,t.t0)),t.abrupt("return");case 18:h(!0,"");case 19:case"end":return t.stop()}}),t,null,[[7,12]])})))).apply(this,arguments)}if("NamedNode"!==r.termType)throw new Error("Sorry this field only works on NamedNode subjects (for editable)");var y=l.store,b=i.doc?i.doc():null,w=e.createElement("div");t&&t.appendChild(w);var x=e.createElement("div");x.setAttribute("class","formFieldName"),x.setAttribute("style",u.formFieldNameBoxStyle),w.appendChild(x);var E=e.createElement("div");E.setAttribute("class","formFieldValue"),w.appendChild(E);var _=y.any(i,s.ui("property"));if(!_)return w.appendChild(c.errorMessageBlock(e,"Error: No property given for autocomplete field: "+i));var k=y.any(i,s.ui("labelProperty"))||s.schema("name"),S=y.any(i,s.ui("dataSource"));if(!S)return w.appendChild(c.errorMessageBlock(e,"Error: No data source given for autocomplete field: "+i));var C={label:y.anyJS(S,s.schema("name"),null,S.doc()),logo:y.any(S,s.schema("logo"),null,S.doc())},A=y.any(i,s.ui("targetClass"),null,i.doc())||y.any(S,s.ui("targetClass"),null,S.doc());A&&(C.targetClass=A),C.objectURIBase=y.any(S,s.ui("objectURIBase"),null,S.doc())||void 0;var T=y.anyJS(S,s.ui("endpoint"),null,S.doc());if(T){if(C.endpoint=T,C.searchByNameQuery=y.anyJS(S,s.ui("searchByNameQuery"),null,S.doc()),!C.searchByNameQuery)return w.appendChild(c.errorMessageBlock(e,"Error: No searchByNameQuery given for endpoint data Source: "+i));C.insitituteDetailsQuery=y.anyJS(S,s.ui("insitituteDetailsQuery"),null,S.doc())}else{var P=y.anyJS(S,s.ui("searchByNameURI"));if(!P)return w.appendChild(c.errorMessageBlock(e,"Error: No searchByNameURI OR sparql endpoint given for dataSource: "+S));C.searchByNameURI=P}var O=y.anyJS(i,s.ui("suppressEmptyUneditable"),null,b),I=null===(m=y.updater)||void 0===m?void 0:m.editable(f.uri),N={permanent:!0,targetClass:C.targetClass,queryParams:C};N.size=y.anyJS(i,s.ui("size"),null,b)||void 0;var F=y.any(r,_,void 0,f);if(F)N.currentObject=F,N.currentName=y.any(N.currentObject,k,null,f);else if(F=y.any(i,s.ui("default")))N.currentObject=F,N.currentName=y.any(N.currentObject,k,null,f);else if(O&&!I)return w.style.display="none",w;x.appendChild(c.fieldLabel(e,_,i));var L={editable:I,dbLookup:!0};return(0,d.renderAutocompleteControl)(e,r,L,N,(function(e,t){return g.apply(this,arguments)}),(function(e,t){return v.apply(this,arguments)})).then((function(e){E.appendChild(e)}),(function(t){E.appendChild(c.errorMessageBlock(e,"Error rendering autocomplete ".concat(i,": ").concat(t),"#fee",t))})),w};var o=r(n(54756)),a=r(n(29293)),s=h(n(62054)),l=n(23451),c=h(n(81939)),u=h(n(5148)),d=n(32545),p=n(67364);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}},73696:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutoComplete=function(e,t,n,r){return E.apply(this,arguments)},t.setVisible=x;var o=r(n(54756)),a=r(n(29293)),s=m(n(82902)),l=m(n(5148)),c=r(n(90471)),u=m(n(81939)),d=n(23451),p=n(99171),f=n(37532);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=4,b=20,w=40;function x(e,t){e.style.display=t?"":"none"}function E(){return E=(0,a.default)(o.default.mark((function e(t,n,r,i){var h,m,v,E,_,k,S,C,A,T,P,O,I,N,F,L,R,j,M,D,U,B,H,q,W,z,V,$,K,G,J,Q,Y,X;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j=function(){n.currentObject?(Q.value=n.currentName?n.currentName.value:"??? wot no name for "+n.currentObject,V=n.currentName,q=n.currentName?n.currentName.value:void 0,$=n.currentObject):(Q.value="",q=void 0,$=void 0),r.deleteButton&&x(r.deleteButton,!!n.currentObject),r.acceptButton&&x(r.acceptButton,!1),r.editButton&&x(r.editButton,!0),r.cancelButton&&x(r.cancelButton,!1),B=!1,T()},R=function(){return R=(0,a.default)(o.default.mark((function e(){var n,r,i,c,u,d,h,m,x;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e,t){return t.name.value>e.name.value?1:t.name.name<e.name.value?-1:0},n=function(e){var n=t.createElement("tr");l.setStyle(n,"autocompleteRowStyle"),n.setAttribute("style","padding: 0.3em;"),n.style.color=H?"#080":"#088",n.textContent=e.name.value;var r=(0,p.bindingToTerm)(e.subject),i=(0,p.bindingToTerm)(e.name);return n.addEventListener("click",function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.log("       click row textContent: "+n.textContent),s.log("       click name: "+i.value),r&&i&&v(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n},!B){e.next=5;break}return s.log('Ignoring "'.concat(Q.value,'" because of lock ')),e.abrupt("return");case 5:return s.log('Setting lock at "'.concat(Q.value,'"')),B=!0,e.next=9,(0,f.getPreferredLanguages)();case 9:if(i=e.sent,!((c=Q.value.trim().toLowerCase()).length<y)){e.next=16;break}T(),W=b,e.next=31;break;case 16:if(H&&q&&c.startsWith(q)){e.next=21;break}return s.log('   Querying database at "'.concat(c,'" cf last "').concat(q,'".')),e.next=20,I(c,i);case 20:D=e.sent;case 21:u=F(c,D),U&&u.length<=w&&(W=u.length),H=U&&u.length<=W,s.log(' Filter:"'.concat(c,'" lastBindings: ').concat(D.length,", slimmed to ").concat(u.length,"; rows: ").concat(W,", Enough? ").concat(U,", All displayed? ").concat(H)),(d=u.slice(0,W)).sort(r),T(),h=g(d);try{for(h.s();!(m=h.n()).done;)x=m.value,K.appendChild(n(x))}catch(e){h.e(e)}finally{h.f()}1===u.length&&v((0,p.bindingToTerm)(u[0].subject),(0,p.bindingToTerm)(u[0].name));case 31:B=!1;case 32:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)},L=function(){return R.apply(this,arguments)},F=function(e,t){return t.filter((function(t){return A(e,t.name.value)}))},N=function(){return(N=(0,a.default)(o.default.mark((function e(t,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.queryPublicDataByName)(t,M,r||f.defaultPreferredLanguages,n.queryParams);case 3:i=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),h("Error querying db of organizations: "+e.t0),B=!1,e.abrupt("return");case 11:return U=i.length<p.AUTOCOMPLETE_LIMIT,q=U?t:void 0,T(),a=(0,f.filterByLanguage)(i,r),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)},I=function(e,t){return N.apply(this,arguments)},O=function(){return(O=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(r.cancelButton,!0),L();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},P=function(e){return O.apply(this,arguments)},T=function(){for(;K.children.length>1;)K.removeChild(K.lastChild)},A=function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(t.toLowerCase().indexOf(i)<0)return!1}return!0},C=function(){return(C=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.log("Auto complete: Canceled by user! "),n.permanent?j():z.parentNode&&z.parentNode.removeChild(z);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},S=function(e){return C.apply(this,arguments)},k=function(){return(k=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V&&Q.value===V.value&&m($,V);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},_=function(e){return k.apply(this,arguments)},E=function(){return(E=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.acceptButton){e.next=10;break}return r.acceptButton.disbaled=!1,x(r.acceptButton,!0),Q.value=n.value,V=n,$=t,s.log("Auto complete: name: "+n),s.log("Auto complete: waiting for accept "+t),T(),e.abrupt("return");case 10:x(r.cancelButton,!0),m(t,n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(e,t){return E.apply(this,arguments)},m=function(e,t){s.log("Auto complete: finish! "+e),"Literal"===e.termType&&n.queryParams.objectURIBase&&(e=d.store.sym(n.queryParams.objectURIBase.value+e.value)),T(),i(e,t)},h=function(e){var n=K.appendChild(t.createElement("tr"));s.log(e);var r=new Error(e);n.appendChild(u.errorMessageBlock(t,r,"pink")),l.setStyle(n,"autocompleteRowStyle"),n.style.padding="1em"},M=n.targetClass){e.next=21;break}throw new Error("renderAutoComplete: missing targetClass");case 21:return r.acceptButton&&r.acceptButton.addEventListener("click",_,!1),r.cancelButton&&r.cancelButton.addEventListener("click",S,!1),U=!1,B=!1,H=!1,q=void 0,W=b,z=t.createElement("div"),V=void 0,$=void 0,(K=z.appendChild(t.createElement("table"))).setAttribute("data-testid","autocomplete-table"),K.setAttribute("style","max-width: 30em; margin: 0.5em;"),G=K.appendChild(t.createElement("tr")),l.setStyle(G,"autocompleteRowStyle"),J=G.appendChild(t.createElement("td")),(Q=J.appendChild(t.createElement("input"))).setAttribute("type","text"),j(),Y=n.size||c.default.textInputSize||20,Q.setAttribute("size",Y),Q.setAttribute("data-testid","autocomplete-input"),X=l.textInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",Q.setAttribute("style",X),Q.addEventListener("keyup",(function(e){13===e.keyCode&&_(e)}),!1),Q.addEventListener("input",P),e.abrupt("return",z);case 48:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}},37532:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.addDefaults=h,t.defaultPreferredLanguages=void 0,t.filterByLanguage=function(e,t){var n={};e.forEach((function(e){var t=e.subject.value;n[t]=n[t]||[],n[t].push(e)}));var r=t||f;r.reverse();var i=[];for(var o in n){var a=n[o].map((function(e){var t=e.name["xml:lang"];return[r.indexOf(t),e]}));a.sort(),a.reverse(),i.push(a[0][1])}return s.log(" Filter by language: ".concat(e.length," -> ").concat(i.length)),i},t.getPreferredLanguages=function(){return v.apply(this,arguments)},t.getPreferredLanguagesFor=m,t.languageCodeURIBase=void 0;var o=r(n(54756)),a=r(n(29293)),s=d(n(82902)),l=n(23451),c=d(n(62054));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var p=t.languageCodeURIBase="https://www.w3.org/ns/iana/language-code/",f=t.defaultPreferredLanguages=["en","fr","de","it","ar"];function h(e){return e||(e=[]),e.concat(f.filter((function(t){return!e.includes(t)})))}function m(e){return g.apply(this,arguments)}function g(){return(g=(0,a.default)(o.default.mark((function e(t){var n,r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.doc(),e.next=3,null===(n=l.store.fetcher)||void 0===n?void 0:n.load(r);case 3:if(i=l.store.any(t,c.schema("knowsLanguage"),null,r)){e.next=6;break}return e.abrupt("return",f);case 6:if(a=[],i.elements.forEach((function(e){var t=l.store.any(e,c.solid("publicId"),null,r);if(t)if(t.value.startsWith(p)){var n=t.value.slice(p.length);a.push(n)}else console.error("What should be a language code ".concat(t.value," does not start with ").concat(p));else console.warn("getPreferredLanguages: No publiID of language.")})),!(a.length>0)){e.next=11;break}return console.log('     User knows languages with codes: "'.concat(a.join(","),'"')),e.abrupt("return",h(a));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.authn.currentUser();case 2:if(!(t=e.sent)){e.next=9;break}return e.next=6,m(t);case 6:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",n);case 9:if("undefined"==typeof navigator){e.next=14;break}if(!navigator.languages){e.next=12;break}return e.abrupt("return",h(navigator.languages.map((function(e){return e.split("-")[0]}))));case 12:if(!navigator.language){e.next=14;break}return e.abrupt("return",h([navigator.language.split("-")[0]]));case 14:return e.abrupt("return",f);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},99171:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.AUTOCOMPLETE_LIMIT=void 0,t.ESCOResultToBindings=_,t.bindingToTerm=function(e){var t=e.type.toLowerCase();if("uri"===t||"iri"===t)return l.store.sym(e.value);if("literal"===t)return e["xml:lang"]?new s.Literal(e.value,e["xml:lang"]):new s.Literal(e.value);throw new Error('bindingToTerm: Unexpected type "'.concat(e.type,'" in sparql binding}'))},t.fetcherOptionsJsonPublicData=t.escoParameters=t.dbpediaParameters=t.dbPediaTypeMap=void 0,t.getDbpediaDetails=j,t.getWikidataDetails=N,t.getWikidataDetailsOld=function(e,t,n){return L.apply(this,arguments)},t.getWikidataLocation=function(e,t,n){return R.apply(this,arguments)},t.instituteDetailsWikidataQuery=void 0,t.loadFromBindings=E,t.loadPublicDataThing=function(e,t,n){return I.apply(this,arguments)},t.queryESCODataByName=function(e,t,n){return k.apply(this,arguments)},t.queryPublicDataByName=function(e,t,n,r){return C.apply(this,arguments)},t.queryPublicDataConstruct=P,t.queryPublicDataSelect=A,t.wikidataParameters=t.wikidataOutgoingClassMap=t.wikidataIncomingClassMap=t.wikidataClasses=t.variableNameToPredicateMap=void 0;var o=r(n(54756)),a=r(n(29293)),s=n(67364),l=n(23451),c=f(n(82902)),u=f(n(62054)),d=n(37532);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var h=t.AUTOCOMPLETE_LIMIT=200,m=/\$\(subject\)/g,g=(t.wikidataClasses={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",ResearchOrganization:"http://www.wikidata.org/entity/Q31855",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"},t.instituteDetailsWikidataQuery='prefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}'),v=t.fetcherOptionsJsonPublicData={credentials:"omit",headers:new Headers({Accept:"application/json"})},y=(t.escoParameters={label:"ESCO",logo:l.store.sym("https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif"),searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)"},t.dbpediaParameters={label:"DBPedia",logo:l.store.sym("https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png"),searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(targetClass); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/"}),b=(t.dbPediaTypeMap={AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"},t.wikidataOutgoingClassMap={AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"},t.wikidataParameters={label:"WikiData",limit:3e3,logo:l.store.sym("https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png"),endpoint:"https://query.wikidata.org/sparql",searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(targetClass) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'}),w=t.wikidataIncomingClassMap={"http://www.wikidata.org/entity/Q15936437":u.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":u.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":u.schema("Organization"),"http://www.wikidata.org/entity/Q3918":u.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":u.schema("Project"),"http://www.wikidata.org/entity/Q327333":u.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":u.schema("Place"),"http://www.wikidata.org/entity/Q167037":u.schema("Corporation")},x=t.variableNameToPredicateMap={targetClass:u.rdf("type"),sealImage:u.schema("logo"),shortName:u.foaf("nick"),subsidiary:u.schema("subOrganization"),city:u.vcard("locality"),state:u.vcard("region"),country:u.vcard("country-name"),homepage:u.foaf("homepage"),lat:u.schema("latitude"),long:u.schema("longitude")};function E(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x,o={};c.log("loadFromBindings:  subject: ".concat(t)),c.log("                       doc: ".concat(r)),n.forEach((function(e){for(var t in e){var n=e[t],r=JSON.stringify(n);o[t]=o[t]||new Set,o[t].add(r)}}));var a=function(n){var a=o[n];c.log("    results ".concat(n," -> ").concat(a)),a.forEach((function(o){var a,l=JSON.parse(o),d=l.type,p=l.value;if("uri"===d)a=e.sym(p);else{if("literal"!==d)throw new Error("loadFromBindings:  unexpected type: ".concat(d));a=new s.Literal(p,l.language,l.datatype)}if("type"===n)w[p]?a=w[p]:c.warn("Unmapped Wikidata Class: "+p);else if("coordinates"===n){c.log("         @@@ hey a point: "+p);var f=/.*\(([-0-9.-]*) ([-0-9.-]*)\)/.exec(p);if(f){var h=u.xsd("float"),m=new s.Literal(f[1],null,h),g=new s.Literal(f[2],null,h);e.add(t,u.schema("longitude"),g,r),e.add(t,u.schema("latitude"),m,r)}else c.log("Bad coordinates syntax: "+p)}else{var v=i[n]||u.schema(n);e.add(t,v,a,r),c.log("  public data ".concat(v," ").concat(a,"."))}}))};for(var l in o)a(l)}function _(e){return e._embedded.results.map((function(e){return{name:{value:e.title,type:"literal"},subject:{type:"IRI",value:e.uri}}}))}function k(){return(k=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s,u,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.searchByNameURI){e.next=2;break}throw new Error("Missing queryTarget.searchByNameURI on queryESCODataByName");case 2:return a=r.limit||h,s=r.searchByNameURI.replace("$(name)",t).replace("$(limit)",""+a).replace("$(targetClass)",n.toNT()),c.log("Querying ESCO data - uri: "+s),e.next=7,null===(i=l.store.fetcher)||void 0===i?void 0:i.webOperation("GET",s,v);case 7:if(u=e.sent,d=(null==u?void 0:u.responseText)||"",c.log("    Query result  text"+d.slice(0,500)+"..."),0!==d.length){e.next=12;break}throw new Error("Wot no text back from ESCO query "+s);case 12:return p=JSON.parse(d),c.log("    ESCO Query result JSON"+JSON.stringify(p,null,4).slice(0,500)+"..."),e.abrupt("return",_(p));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=e.indexOf("SPARQL-QUERY");if(t<0)return e;c.warn("  ### Fixing JSON with wikidata error code injection "+e.slice(t,t+200));var n=e.lastIndexOf("}, {");return e.slice(0,n)+" } ] } } "}function C(){return(C=(0,a.default)(o.default.mark((function e(t,n,r,i){var a,s,u,p,f,m,g,y,b,w,x;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){var r=i.limit||h;return e.replace("$(name)",t).replace("$(limit)",""+r).replace("$(language)",u).replace("$(targetClass)",n.toNT())},n){e.next=3;break}throw new Error("queryPublicDataByName: No class provided");case 3:return e.next=5,(0,d.getPreferredLanguages)();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=d.defaultPreferredLanguages;case 8:if(s=e.t0,u=s[0]||"en",!i.searchByNameQuery){e.next=16;break}return p=a(i.searchByNameQuery),c.log("Querying public data - sparql: "+p),e.abrupt("return",A(p,i));case 16:if(!i.searchByNameURI){e.next=46;break}return f=a(i.searchByNameURI),e.prev=18,e.next=21,null===(g=l.store.fetcher)||void 0===g?void 0:g.webOperation("GET",f,v);case 21:m=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(18),new Error("Exception when trying to fetch ".concat(f," \n ").concat(e.t1));case 27:if(y=m.responseText||"",200===m.status){e.next=30;break}throw new Error("HTTP error status ".concat(m.status," trying to fetch ").concat(f," "));case 30:if(c.log("    Query result  text"+y.slice(0,500)+"..."),0!==y.length){e.next=33;break}throw new Error("queryPublicDataByName: No text back from public data query "+f);case 33:if(b=S(y),w=JSON.parse(b),c.log("    API Query result JSON"+JSON.stringify(w,null,4).slice(0,500)+"..."),!w._embedded){e.next=42;break}return c.log("      Looks like ESCO"),x=_(w),e.abrupt("return",x);case 42:throw alert("Code me: unrecognized API return format"),new Error("*** Need to add code to parse unrecognized API JSON return\n".concat(JSON.stringify(w,null,4)));case 44:e.next=47;break;case 46:throw new Error("Query source must have either rest API or SPARQL endpoint.");case 47:case"end":return e.stop()}}),e,null,[[18,24]])})))).apply(this,arguments)}function A(e,t){return T.apply(this,arguments)}function T(){return(T=(0,a.default)(o.default.mark((function e(t,n){var r,i,a,s,u,d,p,f,h,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.endpoint){e.next=2;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataSelect");case 2:return(i=new URL(n.endpoint)).searchParams.append("query",t),a=i.href,c.log(" queryPublicDataSelect uri: "+a),(s=new Headers).append("Accept","application/json"),u={credentials:"omit",headers:s},e.next=11,null===(r=l.store.fetcher)||void 0===r?void 0:r.webOperation("GET",a,u);case 11:if(d=e.sent,0!==(p=(null==d?void 0:d.responseText)||"").length){e.next=15;break}throw new Error("No text back from query "+a);case 15:return f=S(p),h=JSON.parse(f),c.log("    Query result JSON"+JSON.stringify(h,null,4).slice(0,100)+"..."),m=h.results.bindings,e.abrupt("return",m);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return O.apply(this,arguments)}function O(){return(O=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,u,d,p,f,h,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.log("queryPublicDataConstruct: sparql:",t),r.endpoint){e.next=3;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataConstruct");case 3:return(a=new URL(r.endpoint)).searchParams.append("query",t),u=a.href,c.log(" queryPublicDataConstruct uri: "+u),(d=new Headers).append("Accept","text/turtle"),p={credentials:"omit",headers:d},e.next=12,null===(i=l.store.fetcher)||void 0===i?void 0:i.webOperation("GET",u,p);case 12:if(f=e.sent,h=(null==f?void 0:f.responseText)||"No response text?",m=h.length>500?h.slice(0,200)+" ... "+h.slice(-200):h,c.log("    queryPublicDataConstruct result text:"+m),0!==h.length){e.next=18;break}throw new Error("queryPublicDataConstruct: No text back from construct query:"+u);case 18:(0,s.parse)(h,l.store,n.uri,"text/turtle");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.uri.startsWith("https://dbpedia.org/resource/")){e.next=4;break}return e.abrupt("return",j(t,n,r));case 4:if(!r.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){e.next=9;break}return e.next=7,N(t,n,r);case 7:e.next=13;break;case 9:return i=r.uri.startsWith("http:")?t.sym("https:"+r.uri.slice(5)):r,(a=new Headers).append("Accept","text/turtle"),e.abrupt("return",t.fetcher.load(i,{credentials:"omit",headers:a}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=/wd:Q49108/g,a=g.replace(i,r.toNT()),e.next=4,P(a,r,b);case 4:c.log("getWikidataDetails: loaded.",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?targetClass } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(m,r.toNT()),e.next=3,A(i,b);case 3:a=e.sent,E(t,r,a,r.doc());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(m,r.toNT()),c.log(" location query sparql:"+i),e.next=4,A(i,b);case 4:a=e.sent,c.log(" location query bindings:",a),E(t,r,a,r.doc());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <".concat(r,"> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ").concat(r," foaf:homepage ?homepage }\n    OPTIONAL { ").concat(r," foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/country> ?country }\n   }"),e.next=3,A(i,y);case 3:a=e.sent,E(t,r,a,r.doc()),c.log("Finished getDbpediaDetails.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72009:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.basicField=function(e,t,n,r,i,a,u){var h=m,v=i.doc?i.doc():null,b=e.createElement("div"),w=h.any(i,s.ui("property"));if(t&&t.appendChild(b),!w)return b.appendChild((0,d.errorMessageBlock)(e,"Error: No property given for text field: "+i));var x=g(e,h,b,i),E=h.anyJS(i,s.ui("suppressEmptyUneditable"),null,v),_=(0,p.mostSpecificClassURI)(i),k=f.fieldParams[_];void 0===k&&(k={style:""});var S=k.style||"",C=l.textInputStyle+S,A=e.createElement("input");A.style=C,x.appendChild(A),A.setAttribute("type",k.type?k.type:"text");var T=h.anyJS(i,s.ui("size"))||c.default.textInputSize||20;A.setAttribute("size",T);var P=h.any(i,s.ui("maxLength"));A.setAttribute("maxLength",P?""+P:c.default.basicMaxLength),a=a||y(r,w,a);var O=h.any(r,w,void 0,a);if(O||(O=h.any(i,s.ui("default"))),O&&O.value&&k.uriPrefix?A.value=decodeURIComponent(O.value.replace(k.uriPrefix,"")).replace(/ /g,""):O&&(A.value=O.value||O.value||""),A.setAttribute("style",C),!h.updater)throw new Error("kb has no updater");return h.updater.editable(a.uri)?(A.addEventListener("keyup",(function(e){k.pattern&&A.setAttribute("style",C+(A.value.match(k.pattern)?"color: green;":"color: red;"))}),!0),A.addEventListener("change",(function(t){if(!k.pattern||A.value.match(k.pattern)){A.disabled=!0,A.setAttribute("style",C+"color: gray;");var n,i=h.statementsMatching(r,w);k.namedNode?n=h.sym(A.value):k.uriPrefix?(n=encodeURIComponent(A.value.replace(/ /g,"")),n=h.sym(k.uriPrefix+A.value)):n=k.dt?new o.Literal(A.value.trim(),void 0,s.xsd(k.dt)):new o.Literal(A.value);var l=i.map((function(e){return(0,o.st)(e.subject,e.predicate,n,e.why)}));0===l.length&&(l=[(0,o.st)(r,w,n,a)]),function e(t,n,r){var i=[];if(n.forEach((function(e){i.includes(e.why.uri)||i.push(e.why.uri)})),t.forEach((function(e){i.includes(e.why.uri)||i.push(e.why.uri)})),0===i.length)throw new Error("updateMany has no docs to patch");if(!h.updater)throw new Error("kb has no updater");if(1===i.length)return h.updater.update(t,n,r);var o=i.pop(),a=n.filter((function(e){return e.why.uri===o})),s=n.filter((function(e){return e.why.uri!==o})),l=t.filter((function(e){return e.why.uri===o})),c=t.filter((function(e){return e.why.uri!==o}));h.updater.update(l,a,(function(t,n,i){n?e(c,s,r):r(t,n,i)}))}(i,l,(function(t,n,r){n?(A.disabled=!1,A.setAttribute("style",C)):b.appendChild((0,d.errorMessageBlock)(e,r)),u(n,r)}))}}),!0),b):(A.readOnly=!0,A.style=l.textInputStyleUneditable+S,E&&""===A.value&&(b.style.display="none"),b)},t.fieldLabel=v,t.fieldStore=y,t.renderNameValuePair=g;var o=n(67364),a=n(23451),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(62054)),l=n(5148),c=r(n(90471)),u=n(37499),d=n(28921),p=n(89171),f=n(31949);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m=a.solidLogicSingleton.store;function g(e,t,n,r,i){n.style.display="flex",n.style.flexDirection="row";var o=n.appendChild(e.createElement("div"));o.style.width=c.default.formFieldNameBoxWidth;var a=n.appendChild(e.createElement("div"));return o.setAttribute("class","formFieldName"),o.setAttribute("style",l.formFieldNameBoxStyle),a.setAttribute("class","formFieldValue"),i?o.appendChild(e.createTextNode(i)):t.any(r,s.ui("property"))?o.appendChild(v(e,t.any(r,s.ui("property")),r)):(a.appendChild((0,d.errorMessageBlock)(e,"No property or label given for form field: "+r)),o.appendChild(e.createTextNode("???"))),a}function v(e,t,n){var r=m.any(n,s.ui("label"));if(r||(r=(0,u.label)(t,!0)),void 0===t)return e.createTextNode("@@Internal error: undefined property");var i=e.createElement("a");return t.uri&&i.setAttribute("href",t.uri),i.setAttribute("style","color: #3B5998; text-decoration: none;"),i.textContent=r,i}function y(e,t,n){var r=m.statementsMatching(e,t);if(0===r.length)return n;if(!m.updater)throw new Error("Store has no updater");return r.length>0&&r[0].why.value&&m.updater.editable(r[0].why.value,m)?m.sym(r[0].why.value):n}},89171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.field=void 0,t.fieldFunction=function(e,t){var n=l(t),r=s[n];return(0,i.debug)("paneUtils: Going to implement field "+t+" of type "+n),r||function(e,r){var i=(0,o.errorMessageBlock)(e,"No handler for field "+t+" of type "+n);return r&&r.appendChild(i),i}},t.mostSpecificClassURI=l;var r=n(23451),i=n(9295),o=n(28921),a=r.solidLogicSingleton.store,s=t.field={};function l(e){var t=a,n=t.findTypeURIs(e),r=t.bottomTypeURIs(n),i=[];for(var o in r)i.push(o);return i[0]}},31949:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.fieldParams=void 0;var o,a=r(n(43693)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(62054)),l=n(5148);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.fieldParams=(o={},(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(o,s.ui("ColorField").uri,{size:9,type:"color",style:"height: 3em;",dt:"color",pattern:/^\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\s*$/}),s.ui("DateField").uri,{size:20,type:"date",dt:"date",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?Z?\s*$/}),s.ui("DateTimeField").uri,{size:20,type:"datetime-local",dt:"dateTime",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?(T[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?)?Z?\s*$/}),s.ui("TimeField").uri,{size:10,type:"time",dt:"time",pattern:/^\s*([0-2]?[0-9]:[0-5][0-9](:[0-5][0-9])?)\s*$/}),s.ui("IntegerField").uri,{size:12,style:"text-align: right;",dt:"integer",pattern:/^\s*-?[0-9]+\s*$/}),s.ui("DecimalField").uri,{size:12,style:"text-align: right;",dt:"decimal",pattern:/^\s*-?[0-9]*(\.[0-9]*)?\s*$/}),s.ui("FloatField").uri,{size:12,style:"text-align: right;",dt:"float",pattern:/^\s*-?[0-9]*(\.[0-9]*)?((e|E)-?[0-9]*)?\s*$/}),s.ui("SingleLineTextField").uri,{}),s.ui("NamedNodeURIField").uri,{namedNode:!0}),s.ui("TextField").uri,{}),(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(o,s.ui("PhoneField").uri,{size:20,uriPrefix:"tel:",pattern:/^\+?[\d-]+[\d]*$/}),s.ui("EmailField").uri,{size:30,uriPrefix:"mailto:",pattern:/^\s*.*@.*\..*\s*$/}),s.ui("Group").uri,{style:l.formGroupStyle}),s.ui("Comment").uri,{element:"p",style:l.commentStyle}),s.ui("Heading").uri,{element:"h3",style:l.formHeadingStyle}))},19400:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.setFieldStyle=function(e,t){var n=(0,s.mostSpecificClassURI)(t),r=a.fieldParams[n]||{},l=o.store.any(t,i.ui("style"));l?"Literal"===l.termType?l&&e.setAttribute("style",l.value):o.store.statementsMatching(l,null,null,t.doc()).forEach((function(t){if(t.predicate.uri&&t.predicate.uri.startsWith(c)){var n=t.predicate.uri.slice(c.length);try{e.style[n]=t.object.value}catch(r){console.warn("setFieldStyle: Error setting element style ".concat(n,' to "').concat(t.object.value,'"')),console.warn('setFieldStyle:   ... Element tagName was "'.concat(e.tagName||"???",'"'))}}})):r.style&&e.setAttribute("style",r.style)};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(62054)),o=n(23451),a=n(31949),s=n(89171);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c="https://www.w3.org/ns/css#"},81939:(e,t,n)=>{"use strict";var r=n(73738);Object.defineProperty(t,"__esModule",{value:!0});var i={publicData:!0};t.publicData=void 0;var o=n(87442);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n(93957);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n(65078);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n(66691);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n(28921);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(52524);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(32545);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=n(73696);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(99171));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}t.publicData=f},38998:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.IconicMultiSelect=void 0;var o=r(n(41132)),a=r(n(17383)),s=r(n(34579)),l=r(n(43693)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(39654));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}t.IconicMultiSelect=function(){return(0,s.default)((function e(t){var n=t.data,r=t.itemTemplate,i=t.noData,o=t.noResults,s=t.placeholder,c=t.select,u=t.container,d=t.tagTemplate,p=t.textField,f=t.valueField;(0,a.default)(this,e),(0,l.default)(this,"_data",void 0),(0,l.default)(this,"_domElements",void 0),(0,l.default)(this,"_event",(function(){})),(0,l.default)(this,"_itemTemplate",void 0),(0,l.default)(this,"_multiselect",void 0),(0,l.default)(this,"_noData",void 0),(0,l.default)(this,"_noResults",void 0),(0,l.default)(this,"_options",[]),(0,l.default)(this,"_placeholder",void 0),(0,l.default)(this,"_select",void 0),(0,l.default)(this,"_selectContainer",void 0),(0,l.default)(this,"_selectedOptions",[]),(0,l.default)(this,"_tagTemplate",void 0),(0,l.default)(this,"_textField",void 0),(0,l.default)(this,"_valueField",void 0),(0,l.default)(this,"_cross",'\n    <svg\n      width="24"\n      height="24"\n      viewBox="0 0 24 24"\n      fill="none"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        d="M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z"\n        fill="currentColor"\n      />\n    </svg>\n    '),this._data=null!=n?n:[],this._itemTemplate=null!=r?r:null,this._noData=null!=i?i:"No data found.",this._noResults=null!=o?o:"No results found.",this._placeholder=null!=s?s:"Select...",this._select=c,this._selectContainer=u,this._tagTemplate=null!=d?d:null,this._textField=null!=p?p:null,this._valueField=null!=f?f:null}),[{key:"init",value:function(){if(!this._select||"SELECT"!==this._select.nodeName)throw new Error("The selector '".concat(this._select,"' did not select any valid select tag."));if(this._itemTemplate&&0===this._data.length)throw new Error("itemTemplate must be initialized with data from the component settings");if(this._tagTemplate&&0===this._data.length)throw new Error("tagTemplate must be initialized with data from the component settings");this._options=this._data.length>0?this._getDataFromSettings():this._getDataFromSelectTag(),this._renderMultiselect(),this._renderOptionsList(),this._domElements={clear:this._multiselect.querySelector(".multiselect__clear-btn"),input:this._multiselect.querySelector(".multiselect__input"),optionsContainer:this._multiselect.querySelector(".multiselect__options"),optionsContainerList:this._multiselect.querySelector(".multiselect__options > ul"),options:{list:this._multiselect.querySelectorAll(".multiselect__options > ul > li"),find:function(e){for(var t=0;t<this.list.length;t++){var n=this.list[t];if(e(n))return n}},some:function(e){for(var t=0;t<this.list.length;t++)if(e(this.list[t],t))return!0;return!1}}},this._enableEventListenners(),this._initSelectedList()}},{key:"subscribe",value:function(e){if("function"!=typeof e)throw new Error("parameter in the subscribe method is not a function");this._event=e}},{key:"_addOptionToList",value:function(e,t){var n=this,r='<span class="multiselect__selected" style="'.concat(c.multiselect__selected,'" data-value="').concat(e.value,'">').concat(this._tagTemplate?this._processTemplate(this._tagTemplate,t):e.text,'<span class="multiselect__remove-btn" style="').concat(c.multiselect__remove_btn,'">').concat(this._cross,"</span></span>");this._domElements.input.insertAdjacentHTML("beforebegin",r),this._multiselect.querySelector('span[data-value="'.concat(e.value,'"]')).lastElementChild.addEventListener("click",(function(){var t=n._domElements.options.find((function(t){return t.dataset.value===e.value}));n._handleOption(t)}))}},{key:"_clearSelection",value:function(){for(var e=this,t=function(){var t=e._selectedOptions[n],r=e._domElements.options.find((function(e){return e.dataset.value===t.value}));r.classList.remove("multiselect__options--selected"),r.setAttribute("style",c.multiselect__options),e._removeOptionFromList(r.dataset.value)},n=0;n<this._selectedOptions.length;n++)t();this._selectedOptions=[],this._handleClearSelectionBtn(),this._handlePlaceholder(),this._dispatchEvent({action:"CLEAR_ALL_OPTIONS",selection:this._selectedOptions})}},{key:"_closeList",value:function(){this._domElements.input.value="",this._domElements.optionsContainer.classList.remove("visible"),this._domElements.optionsContainer.setAttribute("style",c.multiselect__options),this._filterOptions(""),this._removeAllArrowSelected()}},{key:"_dispatchEvent",value:function(e){this._event(e)}},{key:"_enableEventListenners",value:function(){var e=this;document.addEventListener("mouseup",(function(t){var n=t.target;e._multiselect.contains(n)||(e._filterOptions(""),e._closeList(),e._handlePlaceholder())})),this._domElements.clear.addEventListener("click",(function(){e._clearSelection()}));for(var t=0;t<this._domElements.options.list.length;t++)this._domElements.options.list[t].addEventListener("click",(function(t){var n=t.target;e._handleOption(n),e._closeList()}));this._domElements.input.addEventListener("focus",(function(){e._domElements.optionsContainer.classList.add("visible"),e._domElements.optionsContainer.setAttribute("style",c.multiselect__options_visible)})),this._domElements.input.addEventListener("input",(function(t){var n=t.target.value;e._domElements.options.list.length>0&&e._filterOptions(n)})),this._domElements.input.addEventListener("keydown",(function(t){e._handleArrows(t),e._handleBackspace(t),e._handleEnter(t)}))}},{key:"_filterOptions",value:function(e){var t=this,n=this._domElements.optionsContainer.classList.contains("visible"),r=e.toLowerCase();if(!n&&e.length>0&&(this._domElements.optionsContainer.classList.add("visible"),this._domElements.optionsContainer.setAttribute("style",c.multiselect__options_visible)),this._domElements.options.list.length>0){for(var i=0;i<this._domElements.options.list.length;i++){var o=this._domElements.options.list[i];(this._itemTemplate?this._data[i][this._textField]:o.textContent).toLowerCase().substring(0,r.length)===r?this._domElements.optionsContainerList.appendChild(o):o.parentNode&&o.parentNode.removeChild(o)}var a=this._domElements.options.some((function(e,n){return(t._itemTemplate?t._data[n][t._textField]:e.textContent).toLowerCase().substring(0,r.length)===r}));this._showNoResults(!a)}}},{key:"_generateId",value:function(e){for(var t="",n=0;n<e;n++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t}},{key:"_getDataFromSelectTag",value:function(){for(var e=[],t=this._select.options,n=0;n<t.length;n++){var r=t[n];e.push({text:r.text,value:r.value,selected:r.hasAttribute("selected")})}return e}},{key:"_getDataFromSettings",value:function(){if(this._data.length>0&&this._valueField&&this._textField){var e="string"==typeof this._valueField,t="string"==typeof this._textField,n=[];if(!e||!t)throw new Error("textField and valueField must be of type string");for(var r=0;r<this._data.length;r++){var i=this._data[r];n.push({value:i[this._valueField],text:i[this._textField],selected:"boolean"==typeof i.selected&&i.selected})}return n}return null}},{key:"_handleArrows",value:function(e){if(40===e.keyCode||38===e.keyCode){e.preventDefault();var t=this._domElements.optionsContainer.classList.contains("visible"),n=this._multiselect.querySelector(".multiselect__options > ul");if(t){var r=this._multiselect.querySelector(".multiselect__options ul li.arrow-selected"),i={ArrowUp:"previous",Up:"previous",ArrowDown:"next",Down:"next"};if(!r)return n.firstElementChild.classList.add("arrow-selected"),n.firstElementChild.setAttribute("style",c.multiselect__options_ul_li_arrow_selected),void n.firstElementChild.scrollIntoView(!1);if(r.classList.remove("arrow-selected"),r.setAttribute("style",c.multiselect__options_ul_li),!(r=r[i[e.key]+"ElementSibling"]))return(r=n.children["next"===i[e.key]?0:n.children.length-1]).classList.add("arrow-selected"),r.setAttribute("style",c.multiselect__options_ul_li_arrow_selected),void this._scrollIntoView(n,r);r.classList.add("arrow-selected"),r.setAttribute("style",c.multiselect__options_ul_li_arrow_selected),this._scrollIntoView(n,r)}else this._domElements.optionsContainer.classList.add("visible"),this._domElements.optionsContainer.setAttribute("style",c.multiselect__options_visible),n.firstElementChild.classList.add("arrow-selected"),n.firstElementChild.setAttribute("style",c.multiselect__options_ul_li_arrow_selected),n.firstElementChild.scrollIntoView(!1)}}},{key:"_handleBackspace",value:function(e){if(8===e.keyCode&&""===e.target.value){var t=this._selectedOptions.length>0?this._selectedOptions[this._selectedOptions.length-1]:null;if(t){var n=this._multiselect.querySelector('li[data-value="'.concat(t.value,'"]'));this._handleOption(n),0===this._selectedOptions.length&&(this._domElements.optionsContainer.classList.remove("visible"),this._domElements.optionsContainer.setAttribute("style",c.multiselect__options))}}}},{key:"_handleClearSelectionBtn",value:function(){this._selectedOptions.length>0?this._domElements.clear.style.display="flex":this._domElements.clear.style.display="none"}},{key:"_handleEnter",value:function(e){if(13===e.keyCode){var t=this._multiselect.querySelector(".multiselect__options ul li.arrow-selected");t&&(this._handleOption(t),this._closeList())}}},{key:"_handleOption",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;n<this._selectedOptions.length;n++)if(this._selectedOptions[n].value===e.dataset.value)return e.classList.remove("multiselect__options--selected"),e.setAttribute("style",c.multiselect__options),this._selectedOptions.splice(n,1),this._removeOptionFromList(e.dataset.value),this._handleClearSelectionBtn(),this._handlePlaceholder(),t&&this._dispatchEvent({action:"REMOVE_OPTION",value:e.dataset.value,selection:this._selectedOptions});for(var r=0;r<this._options.length;r++){var i=this._options[r];if(i.value===e.dataset.value)return e.classList.add("multiselect__options--selected"),e.setAttribute("style",c.multiselect__options_selected),this._selectedOptions=[].concat((0,o.default)(this._selectedOptions),[i]),this._addOptionToList(i,r),this._handleClearSelectionBtn(),this._handlePlaceholder(),t&&this._dispatchEvent({action:"ADD_OPTION",value:e.dataset.value,selection:this._selectedOptions})}}},{key:"_handlePlaceholder",value:function(){this._domElements.input.placeholder=this._placeholder}},{key:"_initSelectedList",value:function(){for(var e=this,t=!1,n=function(){var n=e._options[r];if(n.selected){t=!0;var i=e._domElements.options.find((function(e){return e.dataset.value===n.value}));i.classList.add("multiselect__options--selected"),i.setAttribute("style",c.multiselect__options_selected),e._selectedOptions=[].concat((0,o.default)(e._selectedOptions),[n]),e._addOptionToList(n,r)}},r=0;r<this._options.length;r++)n();t&&this._handleClearSelectionBtn(),this._handlePlaceholder()}},{key:"_processTemplate",value:function(e,t){for(var n=e,r=e.match(/\$\{(\w+)\}/g).map((function(e){return e.replace(/\$\{|\}/g,"")})),i=0;i<r.length;i++){var o,a=r[i];n=n.replace("${".concat(a,"}"),null!==(o=this._data[t][a])&&void 0!==o?o:"")}return n}},{key:"_removeAllArrowSelected",value:function(){var e="arrow-selected",t=this._domElements.options.find((function(t){return t.classList.contains(e)}));t&&t.classList.remove(e)&&t.setAttribute("style",c.multiselect__options_ul_li)}},{key:"_removeOptionFromList",value:function(e){var t=this._multiselect.querySelector('span[data-value="'.concat(e,'"]'));t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"_renderOptionsList",value:function(){var e=this,t='\n        <div class="multiselect__options" style="'.concat(c.multiselect__options,'">\n          <ul style="').concat(c.multiselect__options_ul,'">\n          ').concat(this._options.length>0&&!this._itemTemplate?this._options.map((function(e){return'\n              <li data-value="'.concat(e.value,'" style="').concat(c.multiselect__options_ul_li,'">').concat(e.text,"</li>\n            ")})).join(""):"","\n\n          ").concat(this._options.length>0&&this._itemTemplate?this._options.map((function(t,n){return'\n              <li data-value="'.concat(t.value,'" style="').concat(c.multiselect__options_ul_li,'">').concat(e._processTemplate(e._itemTemplate,n),"</li>\n            ")})).join(""):"","\n          ").concat(this._showNoData(0===this._options.length),"\n          </ul>\n        </div>\n      ");this._multiselect.insertAdjacentHTML("beforeend",t)}},{key:"_renderMultiselect",value:function(){this._select.style.display="none";var e="iconic-"+this._generateId(20);this._multiselect=document.createElement("div"),this._multiselect.setAttribute("id",e),this._multiselect.setAttribute("class","multiselect__container"),this._multiselect.setAttribute("style",c.multiselect__container);var t='\n        <div class="multiselect__wrapper" style="'.concat(c.multiselect__wrapper,'">\n          <input class="multiselect__input" style="').concat(c.multiselect__input,'" placeholder="').concat(this._placeholder,'" />\n        </div>\n        <span style="display: none;" class="multiselect__clear-btn" style="').concat(c.multiselect__clear_btn,'">').concat(this._cross,"</span>\n    ");this._multiselect.innerHTML=t,this._selectContainer.appendChild(this._multiselect)}},{key:"_scrollIntoView",value:function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();n.top<r.bottom-t.offsetHeight||(e.scrollTop=t.clientHeight+(t.offsetTop-t.offsetHeight)),n.bottom>r.top+t.offsetHeight||(e.scrollTop=t.clientHeight+(t.offsetTop-t.offsetHeight)-(e.offsetHeight-(t.offsetHeight+(t.offsetHeight-t.clientHeight))))}},{key:"_showNoData",value:function(e){return e?'<p class="multiselect__options--no-data" style="'.concat(c.multiselect__options_ul_p_multiselect__options_no_data,'">').concat(this._noData,"</p>"):""}},{key:"_showNoResults",value:function(e){var t=this._multiselect.querySelector(".multiselect__options--no-results");if(e){var n='<p class="multiselect__options--no-results" style="'.concat(c.multiselect__options_ul_p_multiselect__options_no_results,'">').concat(this._noResults,"</p>");!t&&this._domElements.optionsContainerList.insertAdjacentHTML("beforeend",n)}else t&&t.parentNode&&t.parentNode.removeChild(t)}}])}()},87442:(e,t,n)=>{"use strict";var r=n(24994),i=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.Person=t.PeoplePicker=t.GroupPicker=t.GroupBuilder=t.Group=void 0;var o,a=r(n(20166)),s=r(n(17383)),l=r(n(34579)),c=r(n(70580)),u=r(n(45742)),d=y(n(67364)),p=y(n(82902)),f=n(93957),h=n(28921),m=n(4901),g=y(n(62054));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var b=n(23451).solidLogicSingleton.store,w=(t.PeoplePicker=function(){return(0,l.default)((function e(t,n,r,i){(0,s.default)(this,e),this.options=i||{},this.element=t,this.typeIndex=n,this.groupPickedCb=r,this.selectedgroup=this.options.selectedgroup,this.onSelectGroup=this.onSelectGroup.bind(this)}),[{key:"render",value:function(){var e=this,t=document.createElement("div");if(t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",this.selectedgroup){t.style.flexDirection="column";var n=document.createElement("div");new x(n,this.selectedgroup).render();var r=document.createElement("button");r.textContent=(0,c.default)("Change group"),r.addEventListener("click",(function(t){e.selectedgroup=null,e.render()})),t.appendChild(n),t.appendChild(r)}else this.findAddressBook(this.typeIndex).then((function(n){var r=n.book,i=document.createElement("button");i.textContent=(0,c.default)("Pick an existing group"),i.style.margin="auto",i.addEventListener("click",(function(n){new w(t,r,e.onSelectGroup).render()}));var o=document.createElement("button");o.textContent=(0,c.default)("Create a new group"),o.style.margin="auto",o.addEventListener("click",(function(t){e.createNewGroup(r,e.options.defaultNewGroupName).then((function(t){var n=t.group;new E(e.element,r,n,e.onSelectGroup).render()})).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("Error creating a new group. (".concat(t,")"))))}))})),t.appendChild(i),t.appendChild(o),e.element.innerHTML="",e.element.appendChild(t)})).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("Could find your groups. (".concat(t,")"))))}));return this.element.innerHTML="",this.element.appendChild(t),this}},{key:"findAddressBook",value:function(e){return new Promise((function(t,n){b.fetcher.nowOrWhenFetched(e,(function(r,i){if(!r)return n(i);var o=b.any(null,g.solid("forClass"),g.vcard("AddressBook"));if(!o)return n(new Error("no address book registered in the solid type index "+e));var a=b.any(o,g.solid("instance"));if(!a)return n(new Error("incomplete address book registration"));b.fetcher.load(a).then((function(e){return t({book:a})})).catch((function(e){return n(new Error("Could not load address book "+e))}))}))}))}},{key:"createNewGroup",value:function(e,t){var n=C(e),r=n.groupIndex,i=n.groupContainer,o=d.sym("".concat(i.uri).concat(u.default.v4().slice(0,8),".ttl#this")),a=t||"Untitled Group",s=[o.doc(),r].map((function(t){var n=d.st(o,g.rdf("type"),g.vcard("Group"),t),i=d.st(o,g.vcard("fn"),a,o.doc(),t),s=d.st(e,g.vcard("includesGroup"),o,t),l=t.equals(r)?[n,i,s]:[n,i];return S(t.uri,{toIns:l}).then((function(){l.forEach((function(e){b.add(e)}))}))}));return Promise.all(s).then((function(){return{group:o}})).catch((function(e){throw p.log("Could not create new group.  PATCH failed "+e),new Error("Couldn't create new group.  PATCH failed for (".concat(e.xhr?e.xhr.responseURL:""," )"))}))}},{key:"onSelectGroup",value:function(e){this.selectedgroup=e,this.groupPickedCb(e),this.render()}}])}(),t.GroupPicker=function(){return(0,l.default)((function e(t,n,r){(0,s.default)(this,e),this.element=t,this.book=n,this.onSelectGroup=r}),[{key:"render",value:function(){var e=this;return this.loadGroups().then((function(t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",t.forEach((function(t){var r=document.createElement("button");r.addEventListener("click",e.handleClickGroup(t)),new x(r,t).render(),n.appendChild(r)})),e.element.innerHTML="",e.element.appendChild(n)})).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("There was an error loading your groups. (".concat(t,")"))))})),this}},{key:"loadGroups",value:function(){var e=this;return new Promise((function(t,n){var r=C(e.book).groupIndex;b.fetcher.nowOrWhenFetched(r,(function(r,i){if(!r)return n(i);var o=b.each(e.book,g.vcard("includesGroup"));return t(o)}))}))}},{key:"handleClickGroup",value:function(e){var t=this;return function(n){t.onSelectGroup(e)}}}])}()),x=t.Group=function(){return(0,l.default)((function e(t,n){(0,s.default)(this,e),this.element=t,this.group=n}),[{key:"render",value:function(){var e=document.createElement("div");return e.textContent=(0,c.default)(k(this.group,g.vcard("fn"),"[".concat(this.group.value,"]"))),this.element.innerHTML="",this.element.appendChild(e),this}}])}(),E=t.GroupBuilder=function(){return(0,l.default)((function e(t,n,r,i,o){(0,s.default)(this,e),this.element=t,this.book=n,this.group=r,this.onGroupChanged=function(e,t,n){o&&o(e,t,n)},this.groupChangedCb=o,this.doneBuildingCb=i}),[{key:"refresh",value:function(){}},{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",t.style.flexDirection="column",(0,f.makeDropTarget)(t,(function(t){t.forEach((function(t){e.add(t).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("Could not add the given WebId. (".concat(t,")"))))}))}))}));var n=document.createElement("input");n.type="text",n.value=k(this.group,g.vcard("fn"),"Untitled Group"),n.addEventListener("change",(function(t){e.setGroupName(t.target.value).catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,"Error changing group name. (".concat(t,")")))}))}));var r=document.createElement("label");if(r.textContent=(0,c.default)("Group Name:"),r.appendChild(n),t.appendChild(r),b.any(this.group,g.vcard("hasMember")))b.match(this.group,g.vcard("hasMember")).forEach((function(n){var r=n.object,i=document.createElement("div");new _(i,r,e.handleRemove(r)).render(),t.appendChild(i)}));else{var i=document.createElement("p");i.textContent=(0,c.default)(o||(o=(0,a.default)(["\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      "]))),t.appendChild(i)}var s=document.createElement("button");return s.textContent=(0,c.default)("Done"),s.addEventListener("click",(function(t){e.doneBuildingCb(e.group)})),t.appendChild(s),this.element.innerHTML="",this.element.appendChild(t),this}},{key:"add",value:function(e){var t=this;return new Promise((function(n,r){b.fetcher.nowOrWhenFetched(e,(function(i,o){if(!i)return t.onGroupChanged(o),r(o);var a=d.namedNode(e),s=b.any(a,g.rdf("type"));return s&&s.equals(g.foaf("Person"))?n(a):r(new Error("Only people supported right now. (tried to add something of type ".concat(s.value,")")))}))})).then((function(e){var n=d.st(t.group,g.vcard("hasMember"),e);return b.holdsStatement(n)?e:S(t.group.doc().uri,{toIns:[n]}).then((function(){n.why=t.group.doc(),b.add(n),t.onGroupChanged(null,"added",e),t.render()}))}))}},{key:"handleRemove",value:function(e){var t=this;return function(n){var r=d.st(t.group,g.vcard("hasMember"),e);return S(t.group.doc().uri,{toDel:[r]}).then((function(){return b.remove(r),t.onGroupChanged(null,"removed",e),t.render(),!0})).catch((function(t){var n=b.any(e,g.foaf("name")),r=n&&n.value?"Could not remove ".concat(n.value,". (").concat(t,")"):"Could not remove ".concat(e.value,". (").concat(t,")");throw new Error(r)}))}}},{key:"setGroupName",value:function(e){var t=this,n=C(this.book).groupIndex,r=[this.group.doc(),n].map((function(n){var r=b.match(t.group,g.vcard("fn"),null,n),i=d.st(t.group,g.vcard("fn"),d.literal(e));return S(n.value,{toDel:r,toIns:[i]}).then((function(e){b.removeStatements(r),i.why=n,b.add(i)}))}));return Promise.all(r)}}])}(),_=t.Person=function(){return(0,l.default)((function e(t,n,r){(0,s.default)(this,e),this.webIdNode=n,this.element=t,this.handleRemove=r}),[{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.display="flex";var n=k(this.webIdNode,g.foaf("img"),m.iconBase+"noun_15059.svg"),r=document.createElement("img");r.src=(0,c.default)(n),r.width="50",r.height="50",r.style.margin="5px";var i=k(this.webIdNode,g.foaf("name"),"[".concat(this.webIdNode,"]")),o=document.createElement("span");o.innerHTML=(0,c.default)(i),o.style.flexGrow="1",o.style.margin="auto 0";var a=document.createElement("button");return a.textContent="Remove",a.addEventListener("click",(function(t){return e.handleRemove().catch((function(t){e.element.appendChild((0,h.errorMessageBlock)(document,(0,c.default)("".concat(t))))}))})),a.style.margin="5px",t.appendChild(r),t.appendChild(o),t.appendChild(a),this.element.innerHTML="",this.element.appendChild(t),this}}])}();function k(e,t,n){var r=b.any(e,t);return r?r.value:n}function S(e,t){var n=t.toDel,r=t.toIns;return new Promise((function(e,t){b.updater.update(n,r,(function(n,r,i){if(!r)return t(new Error("PATCH failed for resource <".concat(n,">: ").concat(i)));e()}))}))}function C(e){return{groupIndex:b.any(e,g.vcard("groupIndex")),groupContainer:b.sym(e.dir().uri+"Group/")}}},33054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapDivInATR=t.createImageDiv=t.addClickListenerToElement=void 0;var r=n(5148);t.wrapDivInATR=function(e,t,n){var r=e.createElement("tr");return r.appendChild(e.createElement("td")).appendChild(t),r.subject=n,r},t.addClickListenerToElement=function(e,t){e.addEventListener("click",t)},t.createImageDiv=function(e,t,n){var i=t.appendChild(e.createElement("div"));i.setAttribute("style",r.imageDivStyle),i.appendChild(n),n.setAttribute("draggable","false")}},23385:(e,t,n)=>{const r=n(67364),i=n(92361),o=n(86049);e.exports={icon:i.icons.iconBase+"noun_109873.svg",name:"source",label:function(e,t){const n=t.session.store.findTypeURIs(e),i=r.Util.mediaTypeClass("text/*").uri.split("*")[0];for(const e in n){if(e.startsWith(i))return"Source";if(e.includes("xml"))return"XML Source";if(e.includes("json"))return"JSON Source";if(e.includes("javascript"))return"Javascript Source"}return null},mintNew:function(e,t){const n=e.session.store;let r=t.newInstance;if(!r){let e=t.newBase;e.endsWith("/")&&(e=e.slice(0,-1),t.newBase=e),r=n.sym(e),t.newInstance=r}const i=o.lookup(r.uri);if(!i||!(i.startsWith("text")||i.includes("xml")||i.includes("json")||i.includes("javascript"))){const e="A new text file has to have an file extension like .txt .ttl .json etc.";throw alert(e),new Error(e)}function a(e){let t="\n";return e.includes("json")?t="{}\n":e.includes("rdf+xml")&&(t='<rdf:RDF\n xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n\n</rdf:RDF>'),t}return new Promise((function(e,o){n.fetcher.webOperation("PUT",r.uri,{data:a(i),contentType:i}).then((function(n){console.log("New text file created: "+r.uri),t.newInstance=r,e(t)}),(e=>{alert("Cant make new file: "+e),o(e)}))}))},render:function(e,t){const n=t.dom,o=t.session.store,a=o.fetcher;let s,l,c,u=!0,d=!1,p=!1;const f=n.createElement("div");f.setAttribute("class","sourcePane");const h=f.appendChild(n.createElement("table")),m=h.appendChild(n.createElement("tr")),g=h.appendChild(n.createElement("tr")),v=h.appendChild(n.createElement("tr"));v.setAttribute("style","text-align: right;");const y=m.appendChild(n.createElement("textarea"));y.setAttribute("style","font-family: monospace; font-size: 100%; min-width:60em; margin: 1em 0.2em 1em 0.2em; padding: 1em; border: 0.1em solid #888; border-radius: 0.5em;");const b=v.appendChild(function(e){return i.widgets.button(e,void 0,"Compact",P,{needsBorder:!0})}(n)),w=v.appendChild(i.widgets.cancelButton(n)),x=v.appendChild(i.widgets.continueButton(n)),E=v.appendChild(function(e){return i.widgets.button(e,i.icons.iconBase+"noun_253504.svg","Edit")}(n));function _(){p||(d=!1,E.style.visibility=e.uri.endsWith("/")?"collapse":"visible",y.style.color="#888",w.style.visibility="visible",x.style.visibility="collapse",b.style="visibility: visible; width: 100px; padding: 10.2px; transform: translate(0, -30%)",T[s.split(";")]||(b.style.visibility="collapse"),y.setAttribute("readonly","true"))}function k(e){!p&&d&&(y.style.color="green",w.style.visibility="visible",x.style.visibility="visible",E.style.visibility="collapse",b.style.visibility="collapse",y.removeAttribute("readonly"))}const S={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/json":!0,"application/ld+json":!0};function C(e,t){if(null!=e){-1===t.characterInFile&&t.lineNo&&(t.lineNo+=1);let n=(t.lineNo?e.value.split("\n",t.lineNo).join("\n").length:0)+t.characterInFile;if(e.createTextRange){const t=e.createTextRange();t.move("character",n),t.select()}else e.focus(),e.selectionStart&&e.setSelectionRange(n,n)}}function A(e,t){if(!e.ok){let r="HTTP error on "+t+"! Status: "+e.status;console.log(r),412===e.status&&(r="Error: File changed by someone else"),g.appendChild(i.widgets.errorMessageBlock(n,r))}return e.ok}const T={"text/n3":!0,"text/turtle":!0,"application/ld+json":!0};function P(t){if(T[s])try{r.parse(y.value,o,e.uri,s),Promise.resolve(r.serialize(o.sym(e.uri),o,e.uri,s)).then((e=>{y.value=e})),w.style.visibility="visible"}catch(e){g.appendChild(i.widgets.errorMessageBlock(n,e))}}function O(t){t.headers&&t.headers.get("content-type")?(s=t.headers.get("content-type").split(";")[0],l=t.headers.get("allow"),c=t.headers.get("etag")):o.each(null,o.sym("http://www.w3.org/2007/ont/link#requestedURI"),e.uri).forEach((e=>{const t=o.any(e,o.sym("http://www.w3.org/2007/ont/link#response"));t&&"NamedNode"===t.termType&&(s=o.anyValue(t,i.ns.httph("content-type")),l=o.anyValue(t,i.ns.httph("allow")),c=o.anyValue(t,i.ns.httph("etag")),c||console.log("sourcePane: No eTag on GET"))}))}function I(t){a.webOperation("GET",e.uri).then((function(e){if(!A(e,"GET"))return;const t=e.responseText;if(void 0!==t){if(y.rows=t.split("\n").length+2,y.cols=80,y.value=t,O(e),!s)return u=!0,p=!0,void g.appendChild(i.widgets.errorMessageBlock(n,"Error: No content-type available!"));_(),l?u=l.indexOf("PUT")<0:(console.log("@@@@@@@@@@ No Allow: header from this server"),u=!1),y.readonly=u}else{const e="source pane: No text in response object!!";g.appendChild(i.widgets.errorMessageBlock(n,e))}})).catch((e=>{f.appendChild(i.widgets.errorMessageBlock(n,"Error reading file: "+e))}))}return y.addEventListener("keyup",k),b.addEventListener("click",P),E.addEventListener("click",(function(){p||(d=!0,y.style.color="black",w.style.visibility="visible",x.style.visibility="collapse",E.style.visibility="collapse",b.style.visibility="collapse",y.removeAttribute("readonly"))})),w.addEventListener("click",I),x.addEventListener("click",(async function(t){const l=y.value;if(!function(t,s,l){if(!S[s])return!0;if("text/html"===s&&([t,s,pos]=function(e){let t="",n="";const r=e.split("</script");if(r&&r.length)for(let e of r){e="<script"+e.split("<script")[1]+"<\/script>";const r=["text/turtle","text/n3","application/ld+json","application/rdf+xml"].find((t=>e.includes(`type="${t}"`)));if(r){n=e.replace(/^<script(.*?)>/gm,"").replace(/<\/script>$/gm,""),t=r;break}}return[n,t]}(t),!s))return!0;try{if(g.innerHTML="","application/json"===s)return JSON.parse(t);try{o.removeDocument(e)}catch(e){if(!e.message.includes("Statement to be removed is not on store"))throw e;console.log(e)}return delete a.requested[e.value],"application/ld+json"===s?(JSON.parse(t),r.parse(t,o,l.uri,s,((e,o)=>{if(e)throw e;let a=r.serialize(l,o,l.uri,s);if(t.includes("@id")&&!a.includes("@id")){const e=new Error("Invalid jsonld : predicate do not expand to an absolute IRI");return g.appendChild(i.widgets.errorMessageBlock(n,e)),!1}return!0}))):r.parse(t,o,l.uri,s),!0}catch(e){g.appendChild(i.widgets.errorMessageBlock(n,e));for(let t=e;t=t.cause;t)t.characterInFile&&C(y,t);return!1}return!0}(l,s,e))return k(),void(y.style.color="red");const u={data:l,contentType:s};c&&(u.headers={"if-match":c});try{if(!A(await a.webOperation("PUT",e.uri,u),"PUT"))return;try{const t=await a.webOperation("HEAD",e.uri);if(!A(t,"HEAD"))return;O(t),_()}catch(e){throw e}}catch(e){f.appendChild(i.widgets.errorMessageBlock(n,"Error saving back: "+e))}})),I(),f}}},9423:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),e=n.hmd(e);const r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},56186:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cancel:()=>y,format:()=>p,register:()=>a,render:()=>b});var r=["second","minute","hour","day","week","month","year"],i=["秒","分钟","小时","天","周","个月","年"],o={},a=function(e,t){o[e]=t},s=function(e){return o[e]||o.en_US},l=[60,60,24,7,365/7/12,12];function c(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function u(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=l[i]&&i<l.length;i++)e/=l[i];return(e=Math.floor(e))>(0==(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}function d(e,t){return(+(t?c(t):new Date)-+c(e))/1e3}var p=function(e,t,n){return u(d(e,n&&n.relativeDate),s(t))},f="timeago-id";function h(e){return parseInt(e.getAttribute(f))}var m={},g=function(e){clearTimeout(e),delete m[e]};function v(e,t,n,r){g(h(e));var i=r.relativeDate,o=r.minInterval,a=d(t,i);e.innerText=u(a,n);var s=setTimeout((function(){v(e,t,n,r)}),Math.min(1e3*Math.max(function(e){for(var t=1,n=0,r=Math.abs(e);e>=l[n]&&n<l.length;n++)e/=l[n],t*=l[n];return r=(r%=t)?t-r:t,Math.ceil(r)}(a),o||1),2147483647));m[s]=0,function(e,t){e.setAttribute(f,t)}(e,s)}function y(e){e?g(h(e)):Object.keys(m).forEach(g)}function b(e,t,n){var r=e.length?e:[e];return r.forEach((function(e){v(e,function(e){return e.getAttribute("datetime")}(e),s(t),n||{})})),r}a("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=r[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),a("zh_CN",(function(e,t){if(0===t)return["刚刚","片刻后"];var n=i[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]}))},61270:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,l=36,c=26,u=38,d=700,p=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=l-1,v=Math.floor,y=String.fromCharCode;function b(e){throw new RangeError(m[e])}function w(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+w((e=e.replace(h,".")).split("."),t).join(".")}function E(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function _(e){return w(e,(function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+y(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?v(e/d):e>>1,e+=v(e/t);e>g*c>>1;r+=l)e=v(e/g);return v(r+(g+1)*e/(e+u))}function C(e){var t,n,r,i,o,a,u,d,p,f,h,m=[],g=e.length,y=0,w=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&b("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,a=1,u=l;i>=g&&b("invalid-input"),((d=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||d>v((s-y)/a))&&b("overflow"),y+=d*a,!(d<(p=u<=x?1:u>=x+c?c:u-x));u+=l)a>v(s/(f=l-p))&&b("overflow"),a*=f;x=S(y-o,t=m.length+1,0==o),v(y/t)>s-w&&b("overflow"),w+=v(y/t),y%=t,m.splice(y++,0,w)}return _(m)}function A(e){var t,n,r,i,o,a,u,d,p,f,h,m,g,w,x,_=[];for(m=(e=E(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(h=e[a])<128&&_.push(y(h));for(r=i=_.length,i&&_.push("-");r<m;){for(u=s,a=0;a<m;++a)(h=e[a])>=t&&h<u&&(u=h);for(u-t>v((s-n)/(g=r+1))&&b("overflow"),n+=(u-t)*g,t=u,a=0;a<m;++a)if((h=e[a])<t&&++n>s&&b("overflow"),h==t){for(d=n,p=l;!(d<(f=p<=o?1:p>=o+c?c:p-o));p+=l)x=d-f,w=l-f,_.push(y(k(f+x%w,0))),d=v(x/w);_.push(y(k(d,0))),o=S(n,g,r==i),n=0,++r}++n,++t}return _.join("")}a={version:"1.4.1",ucs2:{decode:E,encode:_},decode:C,encode:A,toASCII:function(e){return x(e,(function(e){return f.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return x(e,(function(e){return p.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},88835:(e,t,n)=>{"use strict";var r=n(61270);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(55373);i.prototype.parse=function(e,t,n){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var y=e=l.join(a);if(y=y.trim(),!n&&1===e.split("#").length){var b=s.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(y);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,y=y.substr(w.length)}if(n||w||y.match(/^\/\/[^@/]+@[^@/]+/)){var E="//"===y.substr(0,2);!E||w&&m[w]||(y=y.substr(2),this.slashes=!0)}if(!m[w]&&(E||w&&!g[w])){for(var _,k,S=-1,C=0;C<d.length;C++)-1!==(A=y.indexOf(d[C]))&&(-1===S||A<S)&&(S=A);for(-1!==(k=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(_=y.slice(0,k),y=y.slice(k+1),this.auth=decodeURIComponent(_)),S=-1,C=0;C<u.length;C++){var A;-1!==(A=y.indexOf(u[C]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var P=this.hostname.split(/\./),O=(C=0,P.length);C<O;C++){var I=P[C];if(I&&!I.match(p)){for(var N="",F=0,L=I.length;F<L;F++)I.charCodeAt(F)>127?N+="x":N+=I[F];if(!N.match(p)){var R=P.slice(0,C),j=P.slice(C+1),M=I.match(f);M&&(R.push(M[1]),j.unshift(M[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var D=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+D,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!h[x])for(C=0,O=c.length;C<O;C++){var B=c[C];if(-1!==y.indexOf(B)){var H=encodeURIComponent(B);H===B&&(H=escape(B)),y=y.split(B).join(H)}}var q=y.indexOf("#");-1!==q&&(this.hash=y.substr(q),y=y.slice(0,q));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var z=this.search||"";this.path=D+z}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(function(e,t,n){if(e&&"object"==typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var p=u[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",v=n.search||"";n.path=h+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||y||n.host&&e.pathname,x=w,E=n.pathname&&n.pathname.split("/")||[],_=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===E[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),n.search=e.search,n.query=e.query;else if(null!=e.search)return _&&(n.host=E.shift(),n.hostname=n.host,(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.hostname=T.shift(),n.host=n.hostname)),n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=E.slice(-1)[0],S=(n.host||e.host||E.length>1)&&("."===k||".."===k)||""===k,C=0,A=E.length;A>=0;A--)"."===(k=E[A])?E.splice(A,1):".."===k?(E.splice(A,1),C++):C&&(E.splice(A,1),C--);if(!w&&!x)for(;C--;C)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var T,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);return _&&(n.hostname=P?"":E.length?E.shift():"",n.host=n.hostname,(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.hostname=T.shift(),n.host=n.hostname)),(w=w||n.host&&E.length)&&!P&&E.unshift(""),E.length>0?n.pathname=E.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},46077:e=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"validateHTMLColorName",(function(){return a})),n.d(t,"validateHTMLColorSpecialName",(function(){return s})),n.d(t,"validateHTMLColorHex",(function(){return l})),n.d(t,"validateHTMLColorRgb",(function(){return m})),n.d(t,"validateHTMLColorHsl",(function(){return g})),n.d(t,"validateHTMLColorHwb",(function(){return v})),n.d(t,"validateHTMLColorLab",(function(){return y})),n.d(t,"validateHTMLColorLch",(function(){return b})),n.d(t,"validateHTMLColor",(function(){return w}));const r=e=>e&&"string"==typeof e,i=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenrod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","Goldenrod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenrodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquamarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenrod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],o=["currentColor","inherit","transparent"],a=e=>{let t=!1;return r(e)&&i.map((n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null))),t},s=e=>{let t=!1;return r(e)&&o.map((n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null))),t},l=e=>!!r(e)&&(e&&/^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i.test(e)),c="(([\\d]{0,5})((\\.([\\d]{1,5}))?))",u=`(${c}%)`,d="(([0-9]|[1-9][0-9]|100)%)",p=`(${d}|(0?((\\.([\\d]{1,5}))?))|1)`,f=`([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?)([\\s]{1,5})(((${d}))|(0?((\\.([\\d]{1,5}))?))|1))?([\\s]{0,5})\\)`,h="(-?(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360)(deg)?)",m=e=>{if(r(e)){const t="([\\s]{0,5})([\\d]{1,5})%?([\\s]{0,5}),?",n="((([\\s]{0,5}),?([\\s]{0,5}))|(([\\s]{1,5})))",r=new RegExp(`^(rgb)a?\\(${t}${n}${t}${n}${t}${n}((\\/?([\\s]{0,5})(0?\\.?([\\d]{1,5})%?([\\s]{0,5}))?|1|0))?\\)$`);return e&&r.test(e)}return!1},g=e=>{if(r(e)){const t=new RegExp(`^(hsl)a?\\((([\\s]{0,5})(${h}|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)grad)|((([0-5])?\\.([\\d]{1,5})|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)|((0?((\\.([\\d]{1,5}))?)|1)turn))((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${d})((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${d})([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?|,?)([\\s]{0,5})(((${d}))|(0?((\\.([\\d]{1,5}))?))|1))?\\)$`);return e&&t.test(e)}return!1},v=e=>{if(r(e)){const t=new RegExp(`^(hwb\\(([\\s]{0,5})${h}([\\s]{1,5}))((0|${d})([\\s]{1,5}))((0|${d})${f}$`);return e&&t.test(e)}return!1},y=e=>{if(r(e)){const t="(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])((\\.([\\d]{1,5}))?)?|160))",n=new RegExp(`^(lab\\(([\\s]{0,5})${u}([\\s]{1,5})${t}([\\s]{1,5})${t}${f}$`);return e&&n.test(e)}return!1},b=e=>{if(r(e)){const t=new RegExp(`^lch\\((([\\s]{0,5})((([0-9]|[1-9][0-9])?((\\.([\\d]{1,5}))?)|100)(%)?)([\\s]{1,5})${""+c}([\\s]{1,5})((${h})|(0|${p})|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360))([\\s]{0,5})((\\/([\\s]{0,5})${p}))?)\\)$`);return e&&t.test(e)}return!1},w=e=>!!(e&&l(e)||m(e)||g(e)||v(e)||y(e)||b(e));t.default=e=>!!(e&&l(e)||a(e)||s(e)||m(e)||g(e)||v(e)||y(e)||b(e))}])},42634:()=>{},70079:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},92987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},5901:(e,t,n)=>{var r=n(70079);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},12475:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},29293:e=>{function t(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,l,"next",e)}function l(e){t(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},17383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},59646:(e,t,n)=>{var r=n(27550),i=n(95636);e.exports=function(e,t,n){if(r())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return n&&i(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports},34579:(e,t,n)=>{var r=n(77736);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},43693:(e,t,n)=>{var r=n(77736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},63072:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},29511:(e,t,n)=>{var r=n(95636);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},24994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},40691:e=>{e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},27550:e=>{function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},99291:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},81156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},47752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},41869:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},28452:(e,t,n)=>{var r=n(73738).default,i=n(12475);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4633:(e,t,n)=>{var r=n(73738).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new F(r||[]);return s(o,"_invoke",{value:P(e,n,a)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",g="suspendedYield",v="executing",y="completed",b={};function w(){}function x(){}function E(){}var _={};p(_,c,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(L([])));S&&S!==o&&a.call(S,c)&&(_=S);var C=E.prototype=w.prototype=Object.create(_);function A(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,l){var c=h(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function P(e,n,r){var i=m;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=O(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?y:g,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=E,s(C,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:x,configurable:!0}),x.displayName=p(E,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,p(e,d,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},A(T.prototype),p(T.prototype,u,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new T(f(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),p(C,d,"Generator"),p(C,c,(function(){return this})),p(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=L,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},95636:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},85715:(e,t,n)=>{var r=n(92987),i=n(81156),o=n(17122),a=n(47752);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},20166:e=>{e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},41132:(e,t,n)=>{var r=n(5901),i=n(99291),o=n(17122),a=n(41869);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},89045:(e,t,n)=>{var r=n(73738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},77736:(e,t,n)=>{var r=n(73738).default,i=n(89045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},73738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},17122:(e,t,n)=>{var r=n(70079);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},61837:(e,t,n)=>{var r=n(63072),i=n(95636),o=n(40691),a=n(59646);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},54756:(e,t,n)=>{var r=n(4633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},6709:(e,t)=>{"use strict";function n(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function r(e){t.defaults=e}t.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const i=/[&<>"']/,o=new RegExp(i.source,"g"),a=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,s=new RegExp(a.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=e=>l[e];function u(e,t){if(t){if(i.test(e))return e.replace(o,c)}else if(a.test(e))return e.replace(s,c);return e}const d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(d,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const f=/(^|[^\[])\^/g;function h(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(f,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}function m(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const g={exec:()=>null};function v(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function y(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function b(e,t,n,r){const i=t.href,o=t.title?u(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:u(a)}}class w{options;rules;lexer;constructor(e){this.options=e||t.defaults}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:y(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=y(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=y(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",s="",l=!1;for(;e;){let n=!1;if(!(t=o.exec(e)))break;if(this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=0;this.options.pedantic?(u=2,s=r.trimStart()):(u=t[2].search(/[^ ]/),u=u>4?1:u,s=r.slice(u),u+=t[1].length);let d=!1;if(!r&&/^ *$/.test(c)&&(a+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(c))break;if(o.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=u||!c.trim())s+="\n"+c.slice(u);else{if(d)break;if(r.search(/[^ ]/)>=4)break;if(i.test(r))break;if(o.test(r))break;if(n.test(r))break;s+="\n"+c}d||c.trim()||(d=!0),a+=l+"\n",e=e.substring(l.length+1),r=c.slice(u)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let p,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(s),f&&(p="[ ] "!==f[0],s=s.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!f,checked:p,loose:!1,text:s,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=s.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=v(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?o.align.push("right"):/^ *:-+: *$/.test(e)?o.align.push("center"):/^ *:-+ *$/.test(e)?o.align.push("left"):o.align.push(null);for(const e of n)o.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of i)o.rows.push(v(e,o.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:u(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=y(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),b(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return b(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let i,o,a=n,s=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){s+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+s);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+o);if(Math.min(n,o)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=u(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=u(t[1]),n="mailto:"+e):(e=u(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=u(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=u(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:u(t[0]),{type:"text",raw:t[0],text:e}}}}const x=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,E=/(?:[*+-]|\d{1,9}[.)])/,_=h(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,E).getRegex(),k=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,S=/(?!\s*\])(?:\\.|[^\[\]\\])+/,C=h(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",S).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),A=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,E).getRegex(),T="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",P).replace("tag",T).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),I=h(k).replace("hr",x).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T).getRegex(),N={blockquote:h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",I).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:C,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:x,html:O,lheading:_,list:A,newline:/^(?: *(?:\n|$))+/,paragraph:I,table:g,text:/^[^\n]+/},F=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",x).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T).getRegex(),L={...N,table:F,paragraph:h(k).replace("hr",x).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",F).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",T).getRegex()},R={...N,html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",P).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:g,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(k).replace("hr",x).replace("heading"," *#{1,6} *[^\n]").replace("lheading",_).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},j=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,M=/^( {2,}|\\)\n(?!\s*$)/,D="\\p{P}$+<=>`^|~",U=h(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,D).getRegex(),B=h(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,D).getRegex(),H=h("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,D).getRegex(),q=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,D).getRegex(),W=h(/\\([punct])/,"gu").replace(/punct/g,D).getRegex(),z=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),V=h(P).replace("(?:--\x3e|$)","--\x3e").getRegex(),$=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",V).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),K=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,G=h(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",K).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),J=h(/^!?\[(label)\]\[(ref)\]/).replace("label",K).replace("ref",S).getRegex(),Q=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",S).getRegex(),Y={_backpedal:g,anyPunctuation:W,autolink:z,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:M,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:g,emStrongLDelim:B,emStrongRDelimAst:H,emStrongRDelimUnd:q,escape:j,link:G,nolink:Q,punctuation:U,reflink:J,reflinkSearch:h("reflink|nolink(?!\\()","g").replace("reflink",J).replace("nolink",Q).getRegex(),tag:$,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:g},X={...Y,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",K).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K).getRegex()},Z={...Y,escape:h(j).replace("])","~|])").getRegex(),url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ee={...Z,br:h(M).replace("{2,}","*").getRegex(),text:h(Z.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},te={normal:N,gfm:L,pedantic:R},ne={normal:Y,gfm:Z,breaks:ee,pedantic:X};class re{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||t.defaults,this.options.tokenizer=this.options.tokenizer||new w,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:te.normal,inline:ne.normal};this.options.pedantic?(n.block=te.pedantic,n.inline=ne.pedantic):this.options.gfm&&(n.block=te.gfm,this.options.breaks?n.inline=ne.breaks:n.inline=ne.gfm),this.tokenizer.rules=n}static get rules(){return{block:te,inline:ne}}static lex(e,t){return new re(t).lex(e)}static lexInline(e,t){return new re(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,a,s,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class ie{options;constructor(e){this.options=e||t.defaults}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+u(r)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=m(e);if(null===r)return n;let i='<a href="'+(e=r)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){const r=m(e);if(null===r)return n;let i=`<img src="${e=r}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return e}}class oe{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class ae{options;renderer;textRenderer;constructor(e){this.options=e||t.defaults,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oe}static parse(e,t){return new ae(t).parse(e)}static parseInline(e,t){return new ae(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=i;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,p(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=i;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=i;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let o="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});o+=this.renderer.tablerow(r)}n+=this.renderer.table(t,o);continue}case"blockquote":{const e=i,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=i,t=e.ordered,r=e.start,o=e.loose;let a="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,i=n.task;let s="";if(n.task){const e=this.renderer.checkbox(!!r);o?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):s+=e+" "}s+=this.parse(n.tokens,o),a+=this.renderer.listitem(s,i,!!r)}n+=this.renderer.list(a,t,r);continue}case"html":{const e=i;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=i;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let o=i,a=o.tokens?this.parseInline(o.tokens):o.text;for(;r+1<e.length&&"text"===e[r+1].type;)o=e[++r],a+="\n"+(o.tokens?this.parseInline(o.tokens):o.text);n+=t?this.renderer.paragraph(a):a;continue}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}switch(i.type){case"escape":{const e=i;n+=t.text(e.text);break}case"html":{const e=i;n+=t.html(e.text);break}case"link":{const e=i;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=i;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=i;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=i;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=i;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=i;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=i;n+=t.text(e.text);break}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class se{options;constructor(e){this.options=e||t.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}class le{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(re.lex,ae.parse);parseInline=this.#e(re.lexInline,ae.parseInline);Parser=ae;Renderer=ie;TextRenderer=oe;Lexer=re;Tokenizer=w;Hooks=se;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new ie(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if("options"===n)continue;const r=n,i=e.renderer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new w(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,i=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new se;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const r=n,i=e.hooks[r],o=t[r];se.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then((e=>o.call(t,e)));const n=i.call(t,e);return o.call(t,n)}:t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return re.lex(e,t??this.defaults)}parser(e,t){return ae.parse(e,t??this.defaults)}#e(e,t){return(n,r)=>{const i={...r},o={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=this.#t(!!o.silent,!!o.async);if(null==n)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then((t=>e(t,o))).then((e=>o.hooks?o.hooks.processAllTokens(e):e)).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>t(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let r=e(n,o);o.hooks&&(r=o.hooks.processAllTokens(r)),o.walkTokens&&this.walkTokens(r,o.walkTokens);let i=t(r,o);return o.hooks&&(i=o.hooks.postprocess(i)),i}catch(e){return a(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+u(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}}const ce=new le;function ue(e,t){return ce.parse(e,t)}ue.options=ue.setOptions=function(e){return ce.setOptions(e),ue.defaults=ce.defaults,r(ue.defaults),ue},ue.getDefaults=n,ue.defaults=t.defaults,ue.use=function(...e){return ce.use(...e),ue.defaults=ce.defaults,r(ue.defaults),ue},ue.walkTokens=function(e,t){return ce.walkTokens(e,t)},ue.parseInline=ce.parseInline,ue.Parser=ae,ue.parser=ae.parse,ue.Renderer=ie,ue.TextRenderer=oe,ue.Lexer=re,ue.lexer=re.lex,ue.Tokenizer=w,ue.Hooks=se,ue.parse=ue;const de=ue.options,pe=ue.setOptions,fe=ue.use,he=ue.walkTokens,me=ue.parseInline,ge=ue,ve=ae.parse,ye=re.lex;t.Hooks=se,t.Lexer=re,t.Marked=le,t.Parser=ae,t.Renderer=ie,t.TextRenderer=oe,t.Tokenizer=w,t.getDefaults=n,t.lexer=ye,t.marked=ue,t.options=de,t.parse=ge,t.parseInline=me,t.parser=ve,t.setOptions=pe,t.use=fe,t.walkTokens=he},45742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var r=n(82684);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return r.default}});var i=n(13825);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}});var o=n(79965);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return o.default}});var a=n(22931);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.default}});var s=n(62361);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return s.default}});var l=n(84768);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return l.default}});var c=n(51031);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return c.default}});var u=n(76150);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return u.default}});var d=n(85109);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return d.default}});var p=n(3532);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return p.default}});var f=n(26196);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return f.default}});var h=n(69619);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return h.default}});var m=n(10138);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return m.default}});var g=n(6650);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return g.default}})},82684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},49130:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(l=o)|s>>>32-l,n);var s,l}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function l(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){const t=new Uint8Array(4*e.length);for(let n=0;n<4*e.length;n++)t[n]=e[n>>2]>>>n%4*8&255;return t}(function(e,t){const i=new Uint32Array(n(t)).fill(0);i.set(e),i[t>>5]|=128<<t%32,i[i.length-1]=t,e=i;let c=1732584193,u=-271733879,d=-1732584194,p=271733878;for(let t=0;t<e.length;t+=16){const n=c,i=u,f=d,h=p;c=o(c,u,d,p,e[t],7,-680876936),p=o(p,c,u,d,e[t+1],12,-389564586),d=o(d,p,c,u,e[t+2],17,606105819),u=o(u,d,p,c,e[t+3],22,-1044525330),c=o(c,u,d,p,e[t+4],7,-176418897),p=o(p,c,u,d,e[t+5],12,1200080426),d=o(d,p,c,u,e[t+6],17,-1473231341),u=o(u,d,p,c,e[t+7],22,-45705983),c=o(c,u,d,p,e[t+8],7,1770035416),p=o(p,c,u,d,e[t+9],12,-1958414417),d=o(d,p,c,u,e[t+10],17,-42063),u=o(u,d,p,c,e[t+11],22,-1990404162),c=o(c,u,d,p,e[t+12],7,1804603682),p=o(p,c,u,d,e[t+13],12,-40341101),d=o(d,p,c,u,e[t+14],17,-1502002290),u=o(u,d,p,c,e[t+15],22,1236535329),c=a(c,u,d,p,e[t+1],5,-165796510),p=a(p,c,u,d,e[t+6],9,-1069501632),d=a(d,p,c,u,e[t+11],14,643717713),u=a(u,d,p,c,e[t],20,-373897302),c=a(c,u,d,p,e[t+5],5,-701558691),p=a(p,c,u,d,e[t+10],9,38016083),d=a(d,p,c,u,e[t+15],14,-660478335),u=a(u,d,p,c,e[t+4],20,-405537848),c=a(c,u,d,p,e[t+9],5,568446438),p=a(p,c,u,d,e[t+14],9,-1019803690),d=a(d,p,c,u,e[t+3],14,-187363961),u=a(u,d,p,c,e[t+8],20,1163531501),c=a(c,u,d,p,e[t+13],5,-1444681467),p=a(p,c,u,d,e[t+2],9,-51403784),d=a(d,p,c,u,e[t+7],14,1735328473),u=a(u,d,p,c,e[t+12],20,-1926607734),c=s(c,u,d,p,e[t+5],4,-378558),p=s(p,c,u,d,e[t+8],11,-2022574463),d=s(d,p,c,u,e[t+11],16,1839030562),u=s(u,d,p,c,e[t+14],23,-35309556),c=s(c,u,d,p,e[t+1],4,-1530992060),p=s(p,c,u,d,e[t+4],11,1272893353),d=s(d,p,c,u,e[t+7],16,-155497632),u=s(u,d,p,c,e[t+10],23,-1094730640),c=s(c,u,d,p,e[t+13],4,681279174),p=s(p,c,u,d,e[t],11,-358537222),d=s(d,p,c,u,e[t+3],16,-722521979),u=s(u,d,p,c,e[t+6],23,76029189),c=s(c,u,d,p,e[t+9],4,-640364487),p=s(p,c,u,d,e[t+12],11,-421815835),d=s(d,p,c,u,e[t+15],16,530742520),u=s(u,d,p,c,e[t+2],23,-995338651),c=l(c,u,d,p,e[t],6,-198630844),p=l(p,c,u,d,e[t+7],10,1126891415),d=l(d,p,c,u,e[t+14],15,-1416354905),u=l(u,d,p,c,e[t+5],21,-57434055),c=l(c,u,d,p,e[t+12],6,1700485571),p=l(p,c,u,d,e[t+3],10,-1894986606),d=l(d,p,c,u,e[t+10],15,-1051523),u=l(u,d,p,c,e[t+1],21,-2054922799),c=l(c,u,d,p,e[t+8],6,1873313359),p=l(p,c,u,d,e[t+15],10,-30611744),d=l(d,p,c,u,e[t+6],15,-1560198380),u=l(u,d,p,c,e[t+13],21,1309151649),c=l(c,u,d,p,e[t+4],6,-145523070),p=l(p,c,u,d,e[t+11],10,-1120210379),d=l(d,p,c,u,e[t+2],15,718787259),u=l(u,d,p,c,e[t+9],21,-343485551),c=r(c,n),u=r(u,i),d=r(d,f),p=r(p,h)}return Uint32Array.of(c,u,d,p)}(function(e){if(0===e.length)return new Uint32Array;const t=new Uint32Array(n(8*e.length)).fill(0);for(let n=0;n<e.length;n++)t[n>>2]|=(255&e[n])<<n%4*8;return t}(e),8*e.length))}},88747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:n}},13825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},79965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10138);t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},92433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},60155:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});const r=new Uint8Array(16);t.default=function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(r)}},57365:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],o=new Uint8Array(e.length+1);o.set(e),o[e.length]=128;const a=(e=o).length/4+2,s=Math.ceil(a/16),l=new Array(s);for(let t=0;t<s;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];l[t]=n}l[s-1][14]=8*(e.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=l[e][t];for(let e=16;e<80;++e)o[e]=r(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],s=i[1],c=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),l=r(a,5)+n(i,s,c,u)+d+t[i]+o[e]>>>0;d=u,u=c,c=r(s,30)>>>0,s=a,a=l}i[0]=i[0]+a>>>0,i[1]=i[1]+s>>>0,i[2]=i[2]+c>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}},22931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;const r=n(10138),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function o(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}t.unsafeStringify=o,t.default=function(e,t=0){const n=o(e,t);if(!(0,r.default)(n))throw TypeError("Stringified UUID is invalid");return n}},62361:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;const r=n(60155),i=n(22931),o={};function a(e,t,n){return e.msecs??=-1/0,e.nsecs??=0,t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=n.slice(10,16),e.node[0]|=1,e.clockseq=16383&(n[8]<<8|n[9])),e.msecs=t,e}function s(e,t,n,r,i,o,a=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(o){if(a<0||a+16>o.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`)}else o=new Uint8Array(16),a=0;t??=Date.now(),n??=0,r??=16383&(e[8]<<8|e[9]),i??=e.slice(10,16);const s=(1e4*(268435455&(t+=122192928e5))+n)%4294967296;o[a++]=s>>>24&255,o[a++]=s>>>16&255,o[a++]=s>>>8&255,o[a++]=255&s;const l=t/4294967296*1e4&268435455;o[a++]=l>>>8&255,o[a++]=255&l,o[a++]=l>>>24&15|16,o[a++]=l>>>16&255,o[a++]=r>>>8|128,o[a++]=255&r;for(let e=0;e<6;++e)o[a++]=i[e];return o}t.updateV1State=a,t.default=function(e,t,n){let l;const c=e?._v6??!1;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e)l=s(e.random??e.rng?.()??(0,r.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,n);else{const e=Date.now(),i=(0,r.default)();a(o,e,i),l=s(i,o.msecs,o.nsecs,c?void 0:o.clockseq,c?void 0:o.node,t,n)}return t?l:(0,i.unsafeStringify)(l)}},84768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79965),i=n(22931);t.default=function(e){const t=(n="string"==typeof e?(0,r.default)(e):e,Uint8Array.of((15&n[6])<<4|n[7]>>4&15,(15&n[7])<<4|(240&n[4])>>4,(15&n[4])<<4|(240&n[5])>>4,(15&n[5])<<4|(240&n[0])>>4,(15&n[0])<<4|(240&n[1])>>4,(15&n[1])<<4|(240&n[2])>>4,96|15&n[2],n[3],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]));var n;return"string"==typeof e?(0,i.unsafeStringify)(t):t}},51031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const r=n(49130),i=n(46820);var o=n(46820);function a(e,t,n,o){return(0,i.default)(48,r.default,e,t,n,o)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return o.URL}}),a.DNS=i.DNS,a.URL=i.URL,t.default=a},46820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;const r=n(79965),i=n(22931);function o(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}t.stringToBytes=o,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,n,a,s,l){const c="string"==typeof n?o(n):n,u="string"==typeof a?(0,r.default)(a):a;if("string"==typeof a&&(a=(0,r.default)(a)),16!==a?.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+c.length);if(d.set(u),d.set(c,u.length),d=t(d),d[6]=15&d[6]|e,d[8]=63&d[8]|128,s){l=l||0;for(let e=0;e<16;++e)s[l+e]=d[e];return s}return(0,i.unsafeStringify)(d)}},76150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88747),i=n(60155),o=n(22931);t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random??e.rng?.()??(0,i.default)();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,o.unsafeStringify)(a)}},85109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const r=n(57365),i=n(46820);var o=n(46820);function a(e,t,n,o){return(0,i.default)(80,r.default,e,t,n,o)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return o.URL}}),a.DNS=i.DNS,a.URL=i.URL,t.default=a},3532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22931),i=n(62361),o=n(84768);t.default=function(e,t,n){e??={},n??=0;let a=(0,i.default)({...e,_v6:!0},new Uint8Array(16));if(a=(0,o.default)(a),t){for(let e=0;e<16;e++)t[n+e]=a[e];return t}return(0,r.unsafeStringify)(a)}},26196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79965),i=n(22931);t.default=function(e){const t=(n="string"==typeof e?(0,r.default)(e):e,Uint8Array.of((15&n[3])<<4|n[4]>>4&15,(15&n[4])<<4|(240&n[5])>>4,(15&n[5])<<4|15&n[6],n[7],(15&n[1])<<4|(240&n[2])>>4,(15&n[2])<<4|(240&n[3])>>4,16|(240&n[0])>>4,(15&n[0])<<4|(240&n[1])>>4,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]));var n;return"string"==typeof e?(0,i.unsafeStringify)(t):t}},69619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;const r=n(60155),i=n(22931),o={};function a(e,t,n){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function s(e,t,n,r,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(r){if(i<0||i+16>r.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`)}else r=new Uint8Array(16),i=0;return t??=Date.now(),n??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],r[i++]=t/1099511627776&255,r[i++]=t/4294967296&255,r[i++]=t/16777216&255,r[i++]=t/65536&255,r[i++]=t/256&255,r[i++]=255&t,r[i++]=112|n>>>28&15,r[i++]=n>>>20&255,r[i++]=128|n>>>14&63,r[i++]=n>>>6&255,r[i++]=n<<2&255|3&e[10],r[i++]=e[11],r[i++]=e[12],r[i++]=e[13],r[i++]=e[14],r[i++]=e[15],r}t.updateV7State=a,t.default=function(e,t,n){let l;if(e)l=s(e.random??e.rng?.()??(0,r.default)(),e.msecs,e.seq,t,n);else{const e=Date.now(),i=(0,r.default)();a(o,e,i),l=s(i,o.msecs,o.seq,t,n)}return t?l:(0,i.unsafeStringify)(l)}},10138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92433);t.default=function(e){return"string"==typeof e&&r.default.test(e)}},6650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10138);t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},64467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(59526);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},59526:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>i})},96438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CompactEncrypt:()=>ee,CompactSign:()=>te.T,EmbeddedJWK:()=>pe,EncryptJWT:()=>se,FlattenedEncrypt:()=>V,FlattenedSign:()=>ne.n,GeneralEncrypt:()=>K,GeneralSign:()=>ie,SignJWT:()=>oe.P,UnsecuredJWT:()=>we,base64url:()=>r,calculateJwkThumbprint:()=>ue,calculateJwkThumbprintUri:()=>de,compactDecrypt:()=>B,compactVerify:()=>G.B,createLocalJWKSet:()=>ve,createRemoteJWKSet:()=>be,cryptoRuntime:()=>Te,decodeJwt:()=>ke,decodeProtectedHeader:()=>_e,errors:()=>a,exportJWK:()=>q.JU,exportPKCS8:()=>q.Yp,exportSPKI:()=>q.Y5,flattenedDecrypt:()=>U,flattenedVerify:()=>J.Z,generalDecrypt:()=>H,generalVerify:()=>Q,generateKeyPair:()=>Se.T,generateSecret:()=>Ae,importJWK:()=>F.Og,importPKCS8:()=>F.Lf,importSPKI:()=>F.jU,importX509:()=>F.Mh,jwtDecrypt:()=>Z,jwtVerify:()=>Y.V});var r={};n.r(r),n.d(r,{decode:()=>Ee,encode:()=>xe});var i=n(31436),o=n(69095),a=n(27493),s=n(18057);function l(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new a.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const c=e=>(0,s.A)(new Uint8Array(l(e)>>3)),u=(e,t)=>{if(t.length<<3!==l(e))throw new a.JWEInvalid("Invalid Initialization Vector length")},d=(e,t)=>{const n=e.byteLength<<3;if(n!==t)throw new a.JWEInvalid(`Invalid Content Encryption Key length. Expected ${t} bits, got ${n} bits`)};var p=n(37991),f=n(52698),h=n(21575),m=n(25994);const g=async(e,t,n,r,i,s)=>{if(!((0,p.R)(t)||t instanceof Uint8Array))throw new TypeError((0,h.A)(t,...m.g,"Uint8Array"));switch(u(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&d(t,parseInt(e.slice(-3),10)),async function(e,t,n,r,i,s){if(!(t instanceof Uint8Array))throw new TypeError((0,h.A)(t,"Uint8Array"));const l=parseInt(e.slice(1,4),10),c=await p.A.subtle.importKey("raw",t.subarray(l>>3),"AES-CBC",!1,["decrypt"]),u=await p.A.subtle.importKey("raw",t.subarray(0,l>>3),{hash:"SHA-"+(l<<1),name:"HMAC"},!1,["sign"]),d=(0,o.xW)(s,r,n,(0,o.mx)(s.length<<3)),f=new Uint8Array((await p.A.subtle.sign("HMAC",u,d)).slice(0,l>>3));let m,g;try{m=((e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let r=0,i=-1;for(;++i<n;)r|=e[i]^t[i];return 0===r})(i,f)}catch(e){}if(!m)throw new a.JWEDecryptionFailed;try{g=new Uint8Array(await p.A.subtle.decrypt({iv:r,name:"AES-CBC"},c,n))}catch(e){}if(!g)throw new a.JWEDecryptionFailed;return g}(e,t,n,r,i,s);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&d(t,parseInt(e.slice(1,4),10)),async function(e,t,n,r,i,s){let l;t instanceof Uint8Array?l=await p.A.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):((0,f.$)(t,e,"decrypt"),l=t);try{return new Uint8Array(await p.A.subtle.decrypt({additionalData:s,iv:r,name:"AES-GCM",tagLength:128},l,(0,o.xW)(n,i)))}catch(e){throw new a.JWEDecryptionFailed}}(e,t,n,r,i,s);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}},v=async()=>{throw new a.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},y=async()=>{throw new a.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')};var b=n(29874),w=n(30149);const x=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function E(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function _(e,t,n){if((0,p.R)(e))return(0,f.$)(e,t,n),e;if(e instanceof Uint8Array)return p.A.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw new TypeError((0,h.A)(e,...m.g,"Uint8Array"))}const k=async(e,t,n)=>{const r=await _(t,e,"wrapKey");E(r,e);const i=await p.A.subtle.importKey("raw",n,...x);return new Uint8Array(await p.A.subtle.wrapKey("raw",i,r,"AES-KW"))},S=async(e,t,n)=>{const r=await _(t,e,"unwrapKey");E(r,e);const i=await p.A.subtle.unwrapKey("raw",n,r,"AES-KW",...x);return new Uint8Array(await p.A.subtle.exportKey("raw",i))};async function C(e,t,n,r,i=new Uint8Array(0),a=new Uint8Array(0)){if(!(0,p.R)(e))throw new TypeError((0,h.A)(e,...m.g));if((0,f.$)(e,"ECDH"),!(0,p.R)(t))throw new TypeError((0,h.A)(t,...m.g));(0,f.$)(t,"ECDH","deriveBits");const s=(0,o.xW)((0,o.Kp)(o.Rd.encode(n)),(0,o.Kp)(i),(0,o.Kp)(a),(0,o.VS)(r));let l;l="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;const c=new Uint8Array(await p.A.subtle.deriveBits({name:e.algorithm.name,public:e},t,l));return(0,o.yI)(c,r,s)}function A(e){if(!(0,p.R)(e))throw new TypeError((0,h.A)(e,...m.g));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function T(e,t,n,r){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new a.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}(e);const i=(0,o.MT)(t,e),s=parseInt(t.slice(13,16),10),l={hash:`SHA-${t.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:i},c={length:s,name:"AES-KW"},u=await function(e,t){if(e instanceof Uint8Array)return p.A.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if((0,p.R)(e))return(0,f.$)(e,t,"deriveBits","deriveKey"),e;throw new TypeError((0,h.A)(e,...m.g,"Uint8Array"))}(r,t);if(u.usages.includes("deriveBits"))return new Uint8Array(await p.A.subtle.deriveBits(l,u,s));if(u.usages.includes("deriveKey"))return p.A.subtle.deriveKey(l,u,c,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}function P(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var O=n(4495);function I(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new a.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const N=e=>(0,s.A)(new Uint8Array(I(e)>>3));var F=n(68136),L=n(88858);const R=async(e,t,n,r,i)=>{if(!((0,p.R)(n)||n instanceof Uint8Array))throw new TypeError((0,h.A)(n,...m.g,"Uint8Array"));switch(u(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&d(n,parseInt(e.slice(-3),10)),async function(e,t,n,r,i){if(!(n instanceof Uint8Array))throw new TypeError((0,h.A)(n,"Uint8Array"));const a=parseInt(e.slice(1,4),10),s=await p.A.subtle.importKey("raw",n.subarray(a>>3),"AES-CBC",!1,["encrypt"]),l=await p.A.subtle.importKey("raw",n.subarray(0,a>>3),{hash:"SHA-"+(a<<1),name:"HMAC"},!1,["sign"]),c=new Uint8Array(await p.A.subtle.encrypt({iv:r,name:"AES-CBC"},s,t)),u=(0,o.xW)(i,r,c,(0,o.mx)(i.length<<3));return{ciphertext:c,tag:new Uint8Array((await p.A.subtle.sign("HMAC",l,u)).slice(0,a>>3))}}(e,t,n,r,i);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&d(n,parseInt(e.slice(1,4),10)),async function(e,t,n,r,i){let o;n instanceof Uint8Array?o=await p.A.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):((0,f.$)(n,e,"encrypt"),o=n);const a=new Uint8Array(await p.A.subtle.encrypt({additionalData:i,iv:r,name:"AES-GCM",tagLength:128},o,t)),s=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:s}}(e,t,n,r,i);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}},j=async function(e,t,n,r,o){switch((0,L.A)(e,t,"decrypt"),e){case"dir":if(void 0!==n)throw new a.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new a.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,w.A)(r.epk))throw new a.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!A(t))throw new a.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const o=await(0,F.Og)(r.epk,e);let s,l;if(void 0!==r.apu){if("string"!=typeof r.apu)throw new a.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{s=(0,i.D4)(r.apu)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==r.apv){if("string"!=typeof r.apv)throw new a.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{l=(0,i.D4)(r.apv)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the apv")}}const c=await C(o,t,"ECDH-ES"===e?r.enc:e,"ECDH-ES"===e?I(r.enc):parseInt(e.slice(-5,-2),10),s,l);if("ECDH-ES"===e)return c;if(void 0===n)throw new a.JWEInvalid("JWE Encrypted Key missing");return S(e.slice(-6),c,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===n)throw new a.JWEInvalid("JWE Encrypted Key missing");return(async(e,t,n)=>{if(!(0,p.R)(t))throw new TypeError((0,h.A)(t,...m.g));if((0,f.$)(t,e,"decrypt","unwrapKey"),(0,O.A)(e,t),t.usages.includes("decrypt"))return new Uint8Array(await p.A.subtle.decrypt(P(e),t,n));if(t.usages.includes("unwrapKey")){const r=await p.A.subtle.unwrapKey("raw",n,t,P(e),...x);return new Uint8Array(await p.A.subtle.exportKey("raw",r))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===n)throw new a.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof r.p2c)throw new a.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');const s=(null==o?void 0:o.maxPBES2Count)||1e4;if(r.p2c>s)throw new a.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof r.p2s)throw new a.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let l;try{l=(0,i.D4)(r.p2s)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the p2s")}return(async(e,t,n,r,i)=>{const o=await T(i,e,r,t);return S(e.slice(-6),o,n)})(e,t,n,r.p2c,l)}case"A128KW":case"A192KW":case"A256KW":if(void 0===n)throw new a.JWEInvalid("JWE Encrypted Key missing");return S(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===n)throw new a.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof r.iv)throw new a.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof r.tag)throw new a.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let o,s;try{o=(0,i.D4)(r.iv)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the iv")}try{s=(0,i.D4)(r.tag)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the tag")}return async function(e,t,n,r,i){const o=e.slice(0,7);return g(o,t,n,r,i,new Uint8Array(0))}(e,t,n,o,s)}default:throw new a.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}};var M=n(82168),D=n(24618);async function U(e,t,n){var r;if(!(0,w.A)(e))throw new a.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new a.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new a.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new a.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new a.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new a.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new a.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new a.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,w.A)(e.header))throw new a.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,w.A)(e.unprotected))throw new a.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let s;if(e.protected)try{const t=(0,i.D4)(e.protected);s=JSON.parse(o.D0.decode(t))}catch(e){throw new a.JWEInvalid("JWE Protected Header is invalid")}if(!(0,b.A)(s,e.header,e.unprotected))throw new a.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const l={...s,...e.header,...e.unprotected};if((0,M.A)(a.JWEInvalid,new Map,null==n?void 0:n.crit,s,l),void 0!==l.zip){if(!s||!s.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==l.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:c,enc:u}=l;if("string"!=typeof c||!c)throw new a.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof u||!u)throw new a.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const d=n&&(0,D.A)("keyManagementAlgorithms",n.keyManagementAlgorithms),p=n&&(0,D.A)("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(d&&!d.has(c))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(p&&!p.has(u))throw new a.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let f;if(void 0!==e.encrypted_key)try{f=(0,i.D4)(e.encrypted_key)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the encrypted_key")}let h,m,y,x=!1;"function"==typeof t&&(t=await t(s,e),x=!0);try{h=await j(c,t,f,l,n)}catch(e){if(e instanceof TypeError||e instanceof a.JWEInvalid||e instanceof a.JOSENotSupported)throw e;h=N(u)}try{m=(0,i.D4)(e.iv)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the iv")}try{y=(0,i.D4)(e.tag)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the tag")}const E=o.Rd.encode(null!==(r=e.protected)&&void 0!==r?r:"");let _,k;_=void 0!==e.aad?(0,o.xW)(E,o.Rd.encode("."),o.Rd.encode(e.aad)):E;try{k=(0,i.D4)(e.ciphertext)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the ciphertext")}let S=await g(u,h,k,m,y,_);"DEF"===l.zip&&(S=await((null==n?void 0:n.inflateRaw)||v)(S));const C={plaintext:S};if(void 0!==e.protected&&(C.protectedHeader=s),void 0!==e.aad)try{C.additionalAuthenticatedData=(0,i.D4)(e.aad)}catch(e){throw new a.JWEInvalid("Failed to base64url decode the aad")}return void 0!==e.unprotected&&(C.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(C.unprotectedHeader=e.header),x?{...C,key:t}:C}async function B(e,t,n){if(e instanceof Uint8Array&&(e=o.D0.decode(e)),"string"!=typeof e)throw new a.JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:r,1:i,2:s,3:l,4:c,length:u}=e.split(".");if(5!==u)throw new a.JWEInvalid("Invalid Compact JWE");const d=await U({ciphertext:l,iv:s||void 0,protected:r||void 0,tag:c||void 0,encrypted_key:i||void 0},t,n),p={plaintext:d.plaintext,protectedHeader:d.protectedHeader};return"function"==typeof t?{...p,key:d.key}:p}async function H(e,t,n){if(!(0,w.A)(e))throw new a.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(w.A))throw new a.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new a.JWEInvalid("JWE Recipients has no members");for(const r of e.recipients)try{return await U({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:r.encrypted_key,header:r.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,n)}catch(e){}throw new a.JWEDecryptionFailed}var q=n(25130);const W=async function(e,t,n,r,o={}){let l,u,d;switch((0,L.A)(e,n,"encrypt"),e){case"dir":d=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!A(n))throw new a.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:s,apv:c}=o;let{epk:f}=o;f||(f=(await async function(e){if(!(0,p.R)(e))throw new TypeError((0,h.A)(e,...m.g));return p.A.subtle.generateKey(e.algorithm,!0,["deriveBits"])}(n)).privateKey);const{x:g,y:v,crv:y,kty:b}=await(0,q.JU)(f),w=await C(n,f,"ECDH-ES"===e?t:e,"ECDH-ES"===e?I(t):parseInt(e.slice(-5,-2),10),s,c);if(u={epk:{x:g,crv:y,kty:b}},"EC"===b&&(u.epk.y=v),s&&(u.apu=(0,i.lF)(s)),c&&(u.apv=(0,i.lF)(c)),"ECDH-ES"===e){d=w;break}d=r||N(t);const x=e.slice(-6);l=await k(x,w,d);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":d=r||N(t),l=await(async(e,t,n)=>{if(!(0,p.R)(t))throw new TypeError((0,h.A)(t,...m.g));if((0,f.$)(t,e,"encrypt","wrapKey"),(0,O.A)(e,t),t.usages.includes("encrypt"))return new Uint8Array(await p.A.subtle.encrypt(P(e),t,n));if(t.usages.includes("wrapKey")){const r=await p.A.subtle.importKey("raw",n,...x);return new Uint8Array(await p.A.subtle.wrapKey("raw",r,t,P(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,d);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{d=r||N(t);const{p2c:a,p2s:c}=o;({encryptedKey:l,...u}=await(async(e,t,n,r=2048,o=(0,s.A)(new Uint8Array(16)))=>{const a=await T(o,e,r,t);return{encryptedKey:await k(e.slice(-6),a,n),p2c:r,p2s:(0,i.lF)(o)}})(e,n,d,a,c));break}case"A128KW":case"A192KW":case"A256KW":d=r||N(t),l=await k(e,n,d);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{d=r||N(t);const{iv:a}=o;({encryptedKey:l,...u}=await async function(e,t,n,r){const o=e.slice(0,7);r||(r=c(o));const{ciphertext:a,tag:s}=await R(o,n,t,r,new Uint8Array(0));return{encryptedKey:a,iv:(0,i.lF)(r),tag:(0,i.lF)(s)}}(e,n,d,a));break}default:throw new a.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:d,encryptedKey:l,parameters:u}},z=Symbol();class V{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new a.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,b.A)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new a.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,M.A)(a.JWEInvalid,new Map,null==t?void 0:t.crit,this._protectedHeader,n),void 0!==n.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==n.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:r,enc:s}=n;if("string"!=typeof r||!r)throw new a.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof s||!s)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let l,u,d,p,f,h,m;if("dir"===r){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===r&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:u,encryptedKey:l,parameters:n}=await W(r,s,e,this._cek,this._keyManagementParameters)),n&&(t&&z in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=c(s)),p=this._protectedHeader?o.Rd.encode((0,i.lF)(JSON.stringify(this._protectedHeader))):o.Rd.encode(""),this._aad?(f=(0,i.lF)(this._aad),d=(0,o.xW)(p,o.Rd.encode("."),o.Rd.encode(f))):d=p,"DEF"===n.zip){const e=await((null==t?void 0:t.deflateRaw)||y)(this._plaintext);({ciphertext:h,tag:m}=await R(s,e,u,this._iv,d))}else({ciphertext:h,tag:m}=await R(s,this._plaintext,u,this._iv,d));const g={ciphertext:(0,i.lF)(h),iv:(0,i.lF)(this._iv),tag:(0,i.lF)(m)};return l&&(g.encrypted_key=(0,i.lF)(l)),f&&(g.aad=f),this._protectedHeader&&(g.protected=o.D0.decode(p)),this._sharedUnprotectedHeader&&(g.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(g.header=this._unprotectedHeader),g}}class ${constructor(e,t,n){this.parent=e,this.key=t,this.options=n}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class K{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const n=new $(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(n),n}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,n,r;if(!this._recipients.length)throw new a.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){const[t]=this._recipients,n=await new V(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let r={ciphertext:n.ciphertext,iv:n.iv,recipients:[{}],tag:n.tag};return n.aad&&(r.aad=n.aad),n.protected&&(r.protected=n.protected),n.unprotected&&(r.unprotected=n.unprotected),n.encrypted_key&&(r.recipients[0].encrypted_key=n.encrypted_key),n.header&&(r.recipients[0].header=n.header),r}let o;for(let e=0;e<this._recipients.length;e++){const t=this._recipients[e];if(!(0,b.A)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new a.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:r}=n;if("string"!=typeof r||!r)throw new a.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===r||"ECDH-ES"===r)throw new a.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof n.enc||!n.enc)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(o){if(o!==n.enc)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else o=n.enc;if((0,M.A)(a.JWEInvalid,new Map,t.options.crit,this._protectedHeader,n),!(void 0===n.zip||this._protectedHeader&&this._protectedHeader.zip))throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const s=N(o);let l={ciphertext:"",iv:"",recipients:[],tag:""};for(let a=0;a<this._recipients.length;a++){const c=this._recipients[a],u={};l.recipients.push(u);const d={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}.alg.startsWith("PBES2")?2048+a:void 0;if(0===a){const t=await new V(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:d}).encrypt(c.key,{...c.options,...e,[z]:!0});l.ciphertext=t.ciphertext,l.iv=t.iv,l.tag=t.tag,t.aad&&(l.aad=t.aad),t.protected&&(l.protected=t.protected),t.unprotected&&(l.unprotected=t.unprotected),u.encrypted_key=t.encrypted_key,t.header&&(u.header=t.header);continue}const{encryptedKey:p,parameters:f}=await W((null===(t=c.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(n=this._protectedHeader)||void 0===n?void 0:n.alg)||(null===(r=this._unprotectedHeader)||void 0===r?void 0:r.alg),o,c.key,s,{p2c:d});u.encrypted_key=(0,i.lF)(p),(c.unprotectedHeader||f)&&(u.header={...c.unprotectedHeader,...f})}return l}}var G=n(75609),J=n(76711);async function Q(e,t,n){if(!(0,w.A)(e))throw new a.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(w.A))throw new a.JWSInvalid("JWS Signatures missing or incorrect type");for(const r of e.signatures)try{return await(0,J.Z)({header:r.header,payload:e.payload,protected:r.protected,signature:r.signature},t,n)}catch(e){}throw new a.JWSSignatureVerificationFailed}var Y=n(9380),X=n(39803);async function Z(e,t,n){const r=await B(e,t,n),i=(0,X.A)(r.protectedHeader,r.plaintext,n),{protectedHeader:o}=r;if(void 0!==o.iss&&o.iss!==i.iss)throw new a.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new a.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new a.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const s={payload:i,protectedHeader:o};return"function"==typeof t?{...s,key:r.key}:s}class ee{constructor(e){this._flattened=new V(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}var te=n(2609),ne=n(85550);class re{constructor(e,t,n){this.parent=e,this.key=t,this.options=n}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class ie{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const n=new re(this,e,t);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new a.JWSInvalid("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const n=this._signatures[t],r=new ne.n(this._payload);r.setProtectedHeader(n.protectedHeader),r.setUnprotectedHeader(n.unprotectedHeader);const{payload:i,...o}=await r.sign(n.key,n.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new a.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}var oe=n(37248),ae=n(73085);class se extends ae.G{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new ee(o.Rd.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}var le=n(80610);const ce=(e,t)=>{if("string"!=typeof e||!e)throw new a.JWKInvalid(`${t} missing or invalid`)};async function ue(e,t){if(!(0,w.A)(e))throw new TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let n;switch(e.kty){case"EC":ce(e.crv,'"crv" (Curve) Parameter'),ce(e.x,'"x" (X Coordinate) Parameter'),ce(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":ce(e.crv,'"crv" (Subtype of Key Pair) Parameter'),ce(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":ce(e.e,'"e" (Exponent) Parameter'),ce(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":ce(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new a.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const r=o.Rd.encode(JSON.stringify(n));return(0,i.lF)(await(0,le.A)(t,r))}async function de(e,t){null!=t||(t="sha256");const n=await ue(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${n}`}async function pe(e,t){const n={...e,...null==t?void 0:t.header};if(!(0,w.A)(n.jwk))throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const r=await(0,F.Og)({...n.jwk,ext:!0},n.alg,!0);if(r instanceof Uint8Array||"public"!==r.type)throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return r}function fe(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(he)}function he(e){return(0,w.A)(e)}class me{constructor(e){if(this._cached=new WeakMap,!fe(e))throw new a.JWKSInvalid("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:n,kid:r}={...e,...null==t?void 0:t.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new a.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(n),o=this._jwks.keys.filter((e=>{let t=i===e.kty;if(t&&"string"==typeof r&&(t=r===e.kid),t&&"string"==typeof e.alg&&(t=n===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===n&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(n){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:s,length:l}=o;if(0===l)throw new a.JWKSNoMatchingKey;if(1!==l){const e=new a.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of o)try{yield await ge(t,e,n)}catch(e){continue}},e}return ge(this._cached,s,n)}}async function ge(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(void 0===r[n]){const e=await(0,F.Og)({...t,ext:!0},n);if(e instanceof Uint8Array||"public"!==e.type)throw new a.JWKSInvalid("JSON Web Key Set members must be public keys");r[n]=e}return r[n]}function ve(e){const t=new me(e);return async function(e,n){return t.getKey(e,n)}}class ye extends me{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(n){if(n instanceof a.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw n}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(async(e,t,n)=>{let r,i,o=!1;"function"==typeof AbortController&&(r=new AbortController,i=setTimeout((()=>{o=!0,r.abort()}),t));const s=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch((e=>{if(o)throw new a.JWKSTimeout;throw e}));if(void 0!==i&&clearTimeout(i),200!==s.status)throw new a.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch(e){throw new a.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}})(this._url,this._timeoutDuration,this._options).then((e=>{if(!fe(e))throw new a.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function be(e,t){const n=new ye(e,t);return async function(e,t){return n.getKey(e,t)}}class we extends ae.G{encode(){return`${i.lF(JSON.stringify({alg:"none"}))}.${i.lF(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new a.JWTInvalid("Unsecured JWT must be a string");const{0:n,1:r,2:s,length:l}=e.split(".");if(3!==l||""!==s)throw new a.JWTInvalid("Invalid Unsecured JWT");let c;try{if(c=JSON.parse(o.D0.decode(i.D4(n))),"none"!==c.alg)throw new Error}catch(e){throw new a.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,X.A)(c,i.D4(r),t),header:c}}}const xe=i.lF,Ee=i.D4;function _e(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(o.D0.decode(Ee(t)));if(!(0,w.A)(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}function ke(e){if("string"!=typeof e)throw new a.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(5===n)throw new a.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new a.JWTInvalid("Invalid JWT");if(!t)throw new a.JWTInvalid("JWTs must contain a payload");let r,i;try{r=Ee(t)}catch(e){throw new a.JWTInvalid("Failed to base64url decode the payload")}try{i=JSON.parse(o.D0.decode(r))}catch(e){throw new a.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,w.A)(i))throw new a.JWTInvalid("Invalid JWT Claims Set");return i}var Se=n(37307),Ce=n(68793);async function Ae(e,t){return(0,Ce.K)(e,t)}const Te="WebCryptoAPI"},2609:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(85550);class i{constructor(e){this._flattened=new r.n(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const n=await this._flattened.sign(e,t);if(void 0===n.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}},75609:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(76711),i=n(27493),o=n(69095);async function a(e,t,n){if(e instanceof Uint8Array&&(e=o.D0.decode(e)),"string"!=typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:a,1:s,2:l,length:c}=e.split(".");if(3!==c)throw new i.JWSInvalid("Invalid Compact JWS");const u=await(0,r.Z)({payload:s,protected:a,signature:l},t,n),d={payload:u.payload,protectedHeader:u.protectedHeader};return"function"==typeof t?{...d,key:u.key}:d}},85550:(e,t,n)=>{"use strict";n.d(t,{n:()=>f});var r=n(31436),i=n(81020),o=n(37991),a=n(4495),s=n(676);var l=n(29874),c=n(27493),u=n(69095),d=n(88858),p=n(82168);class f{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new c.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,l.A)(this._protectedHeader,this._unprotectedHeader))throw new c.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader};let f=!0;if((0,p.A)(c.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,n).has("b64")&&(f=this._protectedHeader.b64,"boolean"!=typeof f))throw new c.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:h}=n;if("string"!=typeof h||!h)throw new c.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,d.A)(h,e,"sign");let m,g=this._payload;f&&(g=u.Rd.encode((0,r.lF)(g))),m=this._protectedHeader?u.Rd.encode((0,r.lF)(JSON.stringify(this._protectedHeader))):u.Rd.encode("");const v=(0,u.xW)(m,u.Rd.encode("."),g),y=await(async(e,t,n)=>{const r=await(0,s.A)(e,t,"sign");(0,a.A)(e,r);const l=await o.A.subtle.sign((0,i.A)(e,r.algorithm),r,n);return new Uint8Array(l)})(h,e,v),b={signature:(0,r.lF)(y),payload:""};return f&&(b.payload=u.D0.decode(g)),this._unprotectedHeader&&(b.header=this._unprotectedHeader),this._protectedHeader&&(b.protected=u.D0.decode(m)),b}}},76711:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(31436),i=n(81020),o=n(37991),a=n(4495),s=n(676);const l=async(e,t,n,r)=>{const l=await(0,s.A)(e,t,"verify");(0,a.A)(e,l);const c=(0,i.A)(e,l.algorithm);try{return await o.A.subtle.verify(c,l,n,r)}catch(e){return!1}};var c=n(27493),u=n(69095),d=n(29874),p=n(30149),f=n(88858),h=n(82168),m=n(24618);async function g(e,t,n){var i;if(!(0,p.A)(e))throw new c.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new c.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new c.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new c.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new c.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,p.A)(e.header))throw new c.JWSInvalid("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{const t=(0,r.D4)(e.protected);o=JSON.parse(u.D0.decode(t))}catch(e){throw new c.JWSInvalid("JWS Protected Header is invalid")}if(!(0,d.A)(o,e.header))throw new c.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...o,...e.header};let s=!0;if((0,h.A)(c.JWSInvalid,new Map([["b64",!0]]),null==n?void 0:n.crit,o,a).has("b64")&&(s=o.b64,"boolean"!=typeof s))throw new c.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:g}=a;if("string"!=typeof g||!g)throw new c.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const v=n&&(0,m.A)("algorithms",n.algorithms);if(v&&!v.has(g))throw new c.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(s){if("string"!=typeof e.payload)throw new c.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new c.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let y=!1;"function"==typeof t&&(t=await t(o,e),y=!0),(0,f.A)(g,t,"verify");const b=(0,u.xW)(u.Rd.encode(null!==(i=e.protected)&&void 0!==i?i:""),u.Rd.encode("."),"string"==typeof e.payload?u.Rd.encode(e.payload):e.payload);let w,x;try{w=(0,r.D4)(e.signature)}catch(e){throw new c.JWSInvalid("Failed to base64url decode the signature")}if(!await l(g,t,w,b))throw new c.JWSSignatureVerificationFailed;if(s)try{x=(0,r.D4)(e.payload)}catch(e){throw new c.JWSInvalid("Failed to base64url decode the payload")}else x="string"==typeof e.payload?u.Rd.encode(e.payload):e.payload;const E={payload:x};return void 0!==e.protected&&(E.protectedHeader=o),void 0!==e.header&&(E.unprotectedHeader=e.header),y?{...E,key:t}:E}},73085:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(22222),i=n(30149),o=n(16957);class a{constructor(e){if(!(0,i.A)(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:(0,r.A)(new Date)+(0,o.A)(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:(0,r.A)(new Date)+(0,o.A)(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:(0,r.A)(new Date)}:{...this._payload,iat:e},this}}},37248:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(2609),i=n(27493),o=n(69095),a=n(73085);class s extends a.G{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var n;const a=new r.T(o.Rd.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(null===(n=this._protectedHeader)||void 0===n?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return a.sign(e,t)}}},9380:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(75609),i=n(39803),o=n(27493);async function a(e,t,n){var a;const s=await(0,r.B)(e,t,n);if((null===(a=s.protectedHeader.crit)||void 0===a?void 0:a.includes("b64"))&&!1===s.protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");const l={payload:(0,i.A)(s.protectedHeader,s.payload,n),protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}},25130:(e,t,n)=>{"use strict";n.d(t,{JU:()=>d,Yp:()=>u,Y5:()=>c});var r=n(35141),i=n(37991),o=n(21575),a=n(31436),s=n(25994);const l=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:(0,a.lF)(e)};if(!(0,i.R)(e))throw new TypeError((0,o.A)(e,...s.g,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:l,...c}=await i.A.subtle.exportKey("jwk",e);return c};async function c(e){return(0,r.Nj)(e)}async function u(e){return(0,r.Jq)(e)}async function d(e){return l(e)}},37307:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(68793);async function i(e,t){return(0,r.T)(e,t)}},68136:(e,t,n)=>{"use strict";n.d(t,{Og:()=>p,Lf:()=>d,jU:()=>c,Mh:()=>u});var r=n(31436),i=n(35141),o=n(37991),a=n(27493);const s=async e=>{var t,n;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:i,keyUsages:s}=function(e){let t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new a.JOSENotSupported(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),l=[i,null!==(t=e.ext)&&void 0!==t&&t,null!==(n=e.key_ops)&&void 0!==n?n:s];if("PBKDF2"===i.name)return o.A.subtle.importKey("raw",(0,r.D4)(e.k),...l);const c={...e};return delete c.alg,delete c.use,o.A.subtle.importKey("jwk",c,...l)};var l=n(30149);async function c(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return(0,i.sc)(e,t,n)}async function u(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');return(0,i.zp)(e,t,n)}async function d(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.IG)(e,t,n)}async function p(e,t,n){var i;if(!(0,l.A)(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=n||(n=!0!==e.ext),n?s({...e,alg:t,ext:null!==(i=e.ext)&&void 0!==i&&i}):(0,r.D4)(e.k);case"RSA":if(void 0!==e.oth)throw new a.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return s({...e,alg:t});default:throw new a.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},69095:(e,t,n)=>{"use strict";n.d(t,{D0:()=>o,Kp:()=>p,MT:()=>l,Rd:()=>i,VS:()=>d,mx:()=>u,xW:()=>s,yI:()=>f});var r=n(80610);const i=new TextEncoder,o=new TextDecoder,a=2**32;function s(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(e,r),r+=e.length})),n}function l(e,t){return s(i.encode(e),new Uint8Array([0]),t)}function c(e,t,n){if(t<0||t>=a)throw new RangeError(`value must be >= 0 and <= ${a-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function u(e){const t=Math.floor(e/a),n=e%a,r=new Uint8Array(8);return c(r,t,0),c(r,n,4),r}function d(e){const t=new Uint8Array(4);return c(t,e),t}function p(e){return s(d(e.length),e)}async function f(e,t,n){const i=Math.ceil((t>>3)/32),o=new Uint8Array(32*i);for(let t=0;t<i;t++){const i=new Uint8Array(4+e.length+n.length);i.set(d(t+1)),i.set(e,4),i.set(n,4+e.length),o.set(await(0,r.A)("sha256",i),32*t)}return o.slice(0,t>>3)}},88858:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(21575),i=n(25994);const o=(e,t,n)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,i.A)(t))throw new TypeError((0,r.t)(e,t,...i.g,"Uint8Array"));if("secret"!==t.type)throw new TypeError(`${i.g.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((e,t,n)=>{if(!(0,i.A)(t))throw new TypeError((0,r.t)(e,t,...i.g));if("secret"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,n)}},52698:(e,t,n)=>{"use strict";function r(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function i(e,t){return e.name===t}function o(e){return parseInt(e.name.slice(4),10)}function a(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function s(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!i(e.algorithm,"HMAC"))throw r("HMAC");const n=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==n)throw r(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i(e.algorithm,"RSASSA-PKCS1-v1_5"))throw r("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==n)throw r(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i(e.algorithm,"RSA-PSS"))throw r("RSA-PSS");const n=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==n)throw r(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw r("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!i(e.algorithm,"ECDSA"))throw r("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw r(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}a(e,n)}function l(e,t,...n){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!i(e.algorithm,"AES-GCM"))throw r("AES-GCM");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw r(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!i(e.algorithm,"AES-KW"))throw r("AES-KW");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw r(n,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw r("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!i(e.algorithm,"PBKDF2"))throw r("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!i(e.algorithm,"RSA-OAEP"))throw r("RSA-OAEP");const n=parseInt(t.slice(9),10)||1;if(o(e.algorithm.hash)!==n)throw r(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}a(e,n)}n.d(t,{$:()=>l,Y:()=>s})},22222:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>Math.floor(e.getTime()/1e3)},21575:(e,t,n)=>{"use strict";function r(e,t,...n){if(n.length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}n.d(t,{A:()=>i,t:()=>o});const i=(e,...t)=>r("Key must be ",e,...t);function o(e,t,...n){return r(`Key for the ${e} algorithm must be `,t,...n)}},29874:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0}},30149:(e,t,n)=>{"use strict";function r(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}n.d(t,{A:()=>r})},39803:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(27493),i=n(69095),o=n(22222),a=n(16957),s=n(30149);const l=e=>e.toLowerCase().replace(/^application\//,""),c=(e,t,n={})=>{const{typ:c}=n;if(c&&("string"!=typeof e.typ||l(e.typ)!==l(c)))throw new r.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let u;try{u=JSON.parse(i.D0.decode(t))}catch(e){}if(!(0,s.A)(u))throw new r.JWTInvalid("JWT Claims Set must be a top-level JSON object");const{requiredClaims:d=[],issuer:p,subject:f,audience:h,maxTokenAge:m}=n;void 0!==m&&d.push("iat"),void 0!==h&&d.push("aud"),void 0!==f&&d.push("sub"),void 0!==p&&d.push("iss");for(const e of new Set(d.reverse()))if(!(e in u))throw new r.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(p&&!(Array.isArray(p)?p:[p]).includes(u.iss))throw new r.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(f&&u.sub!==f)throw new r.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(h&&(v="string"==typeof h?[h]:h,!("string"==typeof(g=u.aud)?v.includes(g):Array.isArray(g)&&v.some(Set.prototype.has.bind(new Set(g))))))throw new r.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");var g,v;let y;switch(typeof n.clockTolerance){case"string":y=(0,a.A)(n.clockTolerance);break;case"number":y=n.clockTolerance;break;case"undefined":y=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:b}=n,w=(0,o.A)(b||new Date);if((void 0!==u.iat||m)&&"number"!=typeof u.iat)throw new r.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==u.nbf){if("number"!=typeof u.nbf)throw new r.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(u.nbf>w+y)throw new r.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==u.exp){if("number"!=typeof u.exp)throw new r.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(u.exp<=w-y)throw new r.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(m){const e=w-u.iat;if(e-y>("number"==typeof m?m:(0,a.A)(m)))throw new r.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-y)throw new r.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return u}},16957:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,i=e=>{const t=r.exec(e);if(!t)throw new TypeError("Invalid time period format");const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}}},24618:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},82168:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(27493);const i=function(e,t,n,i,o){if(void 0!==o.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of i.crit){if(!a.has(t))throw new r.JOSENotSupported(`Extension Header Parameter "${t}" is not recognized`);if(void 0===o[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(a.get(t)&&void 0===i[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(i.crit)}},35141:(e,t,n)=>{"use strict";n.d(t,{IG:()=>m,sc:()=>g,zp:()=>b,Jq:()=>d,Nj:()=>u});var r=n(37991),i=n(21575),o=n(31436);const a=(e,t)=>`-----BEGIN ${t}-----\n${(e.match(/.{1,64}/g)||[]).join("\n")}\n-----END ${t}-----`;var s=n(27493),l=n(25994);const c=async(e,t,n)=>{if(!(0,r.R)(n))throw new TypeError((0,i.A)(n,...l.g));if(!n.extractable)throw new TypeError("CryptoKey is not extractable");if(n.type!==e)throw new TypeError(`key is not a ${e} key`);return a((0,o.WG)(new Uint8Array(await r.A.subtle.exportKey(t,n))),`${e.toUpperCase()} KEY`)},u=e=>c("public","spki",e),d=e=>c("private","pkcs8",e),p=(e,t,n=0)=>{0===n&&(t.unshift(t.length),t.unshift(6));let r=e.indexOf(t[0],n);if(-1===r)return!1;const i=e.subarray(r,r+t.length);return i.length===t.length&&(i.every(((e,n)=>e===t[n]))||p(e,t,r+1))},f=e=>{switch(!0){case p(e,[42,134,72,206,61,3,1,7]):return"P-256";case p(e,[43,129,4,0,34]):return"P-384";case p(e,[43,129,4,0,35]):return"P-521";case p(e,[43,101,110]):return"X25519";case p(e,[43,101,111]):return"X448";case p(e,[43,101,112]):return"Ed25519";case p(e,[43,101,113]):return"Ed448";default:throw new s.JOSENotSupported("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},h=async(e,t,n,i,o)=>{var a;let l,c;const u=new Uint8Array(atob(n.replace(e,"")).split("").map((e=>e.charCodeAt(0)))),d="spki"===t;switch(i){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},c=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},c=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},c=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},c=d?["verify"]:["sign"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},c=d?["verify"]:["sign"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},c=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const e=f(u);l=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},c=d?[]:["deriveBits"];break}case"EdDSA":l={name:f(u)},c=d?["verify"]:["sign"];break;default:throw new s.JOSENotSupported('Invalid or unsupported "alg" (Algorithm) value')}return r.A.subtle.importKey(t,u,l,null!==(a=null==o?void 0:o.extractable)&&void 0!==a&&a,c)},m=(e,t,n)=>h(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,n),g=(e,t,n)=>h(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);function v(e){let t=[],n=0;for(;n<e.length;){let r=y(e.subarray(n));t.push(r),n+=r.byteLength}return t}function y(e){let t=0,n=31&e[0];if(t++,31===n){for(n=0;e[t]>=128;)n=128*n+e[t]-128,t++;n=128*n+e[t]-128,t++}let r=0;if(e[t]<128)r=e[t],t++;else{if(128===r){for(r=0;0!==e[t+r]||0!==e[t+r+1];){if(r>e.byteLength)throw new TypeError("invalid indefinite form length");r++}const n=t+r+2;return{byteLength:n,contents:e.subarray(t,t+r),raw:e.subarray(0,n)}}{let n=127&e[t];t++,r=0;for(let i=0;i<n;i++)r=256*r+e[t],t++}}const i=t+r;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}const b=(e,t,n)=>{let r;try{r=function(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),n=(0,o.y4)(t);return a(function(e){const t=v(v(y(e).contents)[0].contents);return(0,o.WG)(t[160===t[0].raw[0]?6:5].raw)}(n),"PUBLIC KEY")}(e)}catch(e){throw new TypeError("Failed to parse the X.509 certificate",{cause:e})}return g(r,t,n)}},31436:(e,t,n)=>{"use strict";n.d(t,{D4:()=>s,WG:()=>i,lF:()=>o,y4:()=>a});var r=n(69095);const i=e=>{let t=e;"string"==typeof t&&(t=r.Rd.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))},o=e=>i(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),a=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n},s=e=>{let t=e;t instanceof Uint8Array&&(t=r.D0.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return a(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}}},4495:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}},80610:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(37991);const i=async(e,t)=>{const n=`SHA-${e.slice(-3)}`;return new Uint8Array(await r.A.subtle.digest(n,t))}},68793:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,T:()=>l});var r=n(37991),i=n(27493),o=n(18057);async function a(e,t){var n;let a,s,l;switch(e){case"HS256":case"HS384":case"HS512":a=parseInt(e.slice(-3),10),s={name:"HMAC",hash:`SHA-${a}`,length:a},l=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(e.slice(-3),10),(0,o.A)(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(e.slice(1,4),10),s={name:"AES-KW",length:a},l=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(e.slice(1,4),10),s={name:"AES-GCM",length:a},l=["encrypt","decrypt"];break;default:throw new i.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return r.A.subtle.generateKey(s,null!==(n=null==t?void 0:t.extractable)&&void 0!==n&&n,l)}function s(e){var t;const n=null!==(t=null==e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!=typeof n||n<2048)throw new i.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return n}async function l(e,t){var n,o,a;let l,c;switch(e){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:s(t)},c=["sign","verify"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:s(t)},c=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:s(t)},c=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},c=["sign","verify"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},c=["sign","verify"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},c=["sign","verify"];break;case"EdDSA":c=["sign","verify"];const r=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"Ed25519";switch(r){case"Ed25519":case"Ed448":l={name:r};break;default:throw new i.JOSENotSupported("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{c=["deriveKey","deriveBits"];const e=null!==(o=null==t?void 0:t.crv)&&void 0!==o?o:"P-256";switch(e){case"P-256":case"P-384":case"P-521":l={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":l={name:e};break;default:throw new i.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new i.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return r.A.subtle.generateKey(l,null!==(a=null==t?void 0:t.extractable)&&void 0!==a&&a,c)}},676:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(37991),i=n(52698),o=n(21575),a=n(25994);function s(e,t,n){if((0,r.R)(t))return(0,i.Y)(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,o.A)(t,...a.g));return r.A.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError((0,o.A)(t,...a.g,"Uint8Array"))}},25994:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,g:()=>o});var r=n(37991);const i=e=>(0,r.R)(e),o=["CryptoKey"]},18057:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(37991);const i=r.A.getRandomValues.bind(r.A)},81020:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(27493);function i(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new r.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},37991:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,R:()=>i});const r=crypto,i=e=>e instanceof CryptoKey},27493:(e,t,n)=>{"use strict";n.r(t),n.d(t,{JOSEAlgNotAllowed:()=>a,JOSEError:()=>r,JOSENotSupported:()=>s,JWEDecompressionFailed:()=>c,JWEDecryptionFailed:()=>l,JWEInvalid:()=>u,JWKInvalid:()=>f,JWKSInvalid:()=>h,JWKSMultipleMatchingKeys:()=>g,JWKSNoMatchingKey:()=>m,JWKSTimeout:()=>v,JWSInvalid:()=>d,JWSSignatureVerificationFailed:()=>y,JWTClaimValidationFailed:()=>i,JWTExpired:()=>o,JWTInvalid:()=>p});class r extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class i extends r{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=n}}class o extends r{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=n}}class a extends r{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class s extends r{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class l extends r{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class c extends r{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class u extends r{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class d extends r{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class p extends r{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class f extends r{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class h extends r{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class m extends r{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class g extends r{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator;class v extends r{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class y extends r{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},7804:(e,t,n)=>{"use strict";n.d(t,{OA:()=>r,WL:()=>o,u$:()=>i});const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},i=e=>(...t)=>({_$litDirective$:e,values:t});class o{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncReplaceDirective:()=>m,asyncReplace:()=>g});var r=n(36752);const{I:i}=r._$LH;var o=n(7804);const a=(e,t)=>{const n=e._$AN;if(void 0===n)return!1;for(const e of n)e._$AO?.(t,!1),a(e,t);return!0},s=e=>{let t,n;do{if(void 0===(t=e._$AM))break;n=t._$AN,n.delete(e),e=t}while(0===n?.size)},l=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),d(t)}};function c(e){void 0!==this._$AN?(s(this),this._$AM=e,l(this)):this._$AM=e}function u(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(r))for(let e=n;e<r.length;e++)a(r[e],!1),s(r[e]);else null!=r&&(a(r,!1),s(r));else a(this,e)}const d=e=>{e.type==o.OA.CHILD&&(e._$AP??=u,e._$AQ??=c)};class p extends o.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),l(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(a(this,e),s(this))}setValue(e){if((e=>void 0===this._$Ct.strings)())this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}class f{constructor(e){this.Y=e}disconnect(){this.Y=void 0}reconnect(e){this.Y=e}deref(){return this.Y}}class h{constructor(){this.Z=void 0,this.q=void 0}get(){return this.Z}pause(){this.Z??=new Promise((e=>this.q=e))}resume(){this.q?.(),this.Z=this.q=void 0}}class m extends p{constructor(){super(...arguments),this._$CK=new f(this),this._$CX=new h}render(e,t){return r.noChange}update(e,[t,n]){if(this.isConnected||this.disconnected(),t===this._$CJ)return r.noChange;this._$CJ=t;let i=0;const{_$CK:o,_$CX:a}=this;return(async(e,t)=>{for await(const n of e)if(!1===await t(n))return})(t,(async e=>{for(;a.get();)await a.get();const r=o.deref();if(void 0!==r){if(r._$CJ!==t)return!1;void 0!==n&&(e=n(e,i)),r.commitValue(e,i),i++}return!0})),r.noChange}commitValue(e,t){this.setValue(e)}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const g=(0,o.u$)(m)},12378:(e,t,n)=>{"use strict";n.r(t),n.d(t,{styleMap:()=>s});var r=n(36752),i=n(7804);const o="important",a=" !"+o,s=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.ATTRIBUTE||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return null==r?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`}),"")}update(e,[t]){const{style:n}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const e of this.ft)null==t[e]&&(this.ft.delete(e),e.includes("-")?n.removeProperty(e):n[e]=null);for(const e in t){const r=t[e];if(null!=r){this.ft.add(e);const t="string"==typeof r&&r.endsWith(a);e.includes("-")||t?n.setProperty(e,t?r.slice(0,-11):r,t?o:""):n[e]=r}}return r.noChange}})},36752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{_$LH:()=>q,html:()=>k,mathml:()=>C,noChange:()=>A,nothing:()=>T,render:()=>z,svg:()=>S});const r=globalThis,i=r.trustedTypes,o=i?i.createPolicy("lit-html",{createHTML:e=>e}):void 0,a="$lit$",s=`lit$${Math.random().toFixed(9).slice(2)}$`,l="?"+s,c=`<${l}>`,u=document,d=()=>u.createComment(""),p=e=>null===e||"object"!=typeof e&&"function"!=typeof e,f=Array.isArray,h=e=>f(e)||"function"==typeof e?.[Symbol.iterator],m="[ \t\n\f\r]",g=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,y=/>/g,b=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,x=/"/g,E=/^(?:script|style|textarea|title)$/i,_=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),k=_(1),S=_(2),C=_(3),A=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),P=new WeakMap,O=u.createTreeWalker(u,129);function I(e,t){if(!f(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==o?o.createHTML(t):t}const N=(e,t)=>{const n=e.length-1,r=[];let i,o=2===t?"<svg>":3===t?"<math>":"",l=g;for(let t=0;t<n;t++){const n=e[t];let u,d,p=-1,f=0;for(;f<n.length&&(l.lastIndex=f,d=l.exec(n),null!==d);)f=l.lastIndex,l===g?"!--"===d[1]?l=v:void 0!==d[1]?l=y:void 0!==d[2]?(E.test(d[2])&&(i=RegExp("</"+d[2],"g")),l=b):void 0!==d[3]&&(l=b):l===b?">"===d[0]?(l=i??g,p=-1):void 0===d[1]?p=-2:(p=l.lastIndex-d[2].length,u=d[1],l=void 0===d[3]?b:'"'===d[3]?x:w):l===x||l===w?l=b:l===v||l===y?l=g:(l=b,i=void 0);const h=l===b&&e[t+1].startsWith("/>")?" ":"";o+=l===g?n+c:p>=0?(r.push(u),n.slice(0,p)+a+n.slice(p)+s+h):n+s+(-2===p?t:h)}return[I(e,o+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class F{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,c=0;const u=e.length-1,p=this.parts,[f,h]=N(e,t);if(this.el=F.createElement(f,n),O.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=O.nextNode())&&p.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(a)){const t=h[c++],n=r.getAttribute(e).split(s),i=/([.?@])?(.*)/.exec(t);p.push({type:1,index:o,name:i[2],strings:n,ctor:"."===i[1]?D:"?"===i[1]?U:"@"===i[1]?B:M}),r.removeAttribute(e)}else e.startsWith(s)&&(p.push({type:6,index:o}),r.removeAttribute(e));if(E.test(r.tagName)){const e=r.textContent.split(s),t=e.length-1;if(t>0){r.textContent=i?i.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],d()),O.nextNode(),p.push({type:2,index:++o});r.append(e[t],d())}}}else if(8===r.nodeType)if(r.data===l)p.push({type:2,index:o});else{let e=-1;for(;-1!==(e=r.data.indexOf(s,e+1));)p.push({type:7,index:o}),e+=s.length-1}o++}}static createElement(e,t){const n=u.createElement("template");return n.innerHTML=e,n}}function L(e,t,n=e,r){if(t===A)return t;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const o=p(t)?void 0:t._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),void 0===o?i=void 0:(i=new o(e),i._$AT(e,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(t=L(e,i._$AS(e,t.values),i,r)),t}class R{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??u).importNode(t,!0);O.currentNode=r;let i=O.nextNode(),o=0,a=0,s=n[0];for(;void 0!==s;){if(o===s.index){let t;2===s.type?t=new j(i,i.nextSibling,this,e):1===s.type?t=new s.ctor(i,s.name,s.strings,this,e):6===s.type&&(t=new H(i,this,e)),this._$AV.push(t),s=n[++a]}o!==s?.index&&(i=O.nextNode(),o++)}return O.currentNode=u,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class j{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=L(this,e,t),p(e)?e===T||null==e||""===e?(this._$AH!==T&&this._$AR(),this._$AH=T):e!==this._$AH&&e!==A&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):h(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==T&&p(this._$AH)?this._$AA.nextSibling.data=e:this.T(u.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=F.createElement(I(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new R(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=P.get(e.strings);return void 0===t&&P.set(e.strings,t=new F(e)),t}k(e){f(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new j(this.O(d()),this.O(d()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class M{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=T,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=T}_$AI(e,t=this,n,r){const i=this.strings;let o=!1;if(void 0===i)e=L(this,e,t,0),o=!p(e)||e!==this._$AH&&e!==A,o&&(this._$AH=e);else{const r=e;let a,s;for(e=i[0],a=0;a<i.length-1;a++)s=L(this,r[n+a],t,a),s===A&&(s=this._$AH[a]),o||=!p(s)||s!==this._$AH[a],s===T?e=T:e!==T&&(e+=(s??"")+i[a+1]),this._$AH[a]=s}o&&!r&&this.j(e)}j(e){e===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class D extends M{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===T?void 0:e}}class U extends M{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==T)}}class B extends M{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=L(this,e,t,0)??T)===A)return;const n=this._$AH,r=e===T&&n!==T||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==T&&(n===T||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class H{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){L(this,e)}}const q={M:a,P:s,A:l,C:1,L:N,R,D:h,V:L,I:j,H:M,N:U,U:B,B:D,F:H},W=r.litHtmlPolyfillSupport;W?.(F,j),(r.litHtmlVersions??=[]).push("3.2.1");const z=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(void 0===i){const e=n?.renderBefore??null;r._$litPart$=i=new j(t.insertBefore(d(),e),e,void 0,n??{})}return i._$AI(e),i}},81813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".mashlib.min.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="Mashlib:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/",(()=>{var e={792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkMashlib=self.webpackChunkMashlib||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s={};return(()=>{"use strict";a.r(s),a.d(s,{versionInfo:()=>i});var e=a(67364),t=a(57293),n=a(96842),r=a(23451);const i={buildTime:"2025-02-05T10:50:50Z",commit:"d7cb1847b5cf4ddf8be2d48a91e1a2fe6f5c7e87",npmInfo:{mashlib:"1.10.3",npm:"8.19.4",node:"18.20.6",acorn:"8.13.0",ada:"2.8.0",ares:"1.29.0",base64:"0.5.2",brotli:"1.1.0",cjs_module_lexer:"1.2.2",cldr:"44.1",icu:"74.2",llhttp:"6.1.1",modules:"108",napi:"9",nghttp2:"1.61.0",nghttp3:"0.7.0",ngtcp2:"1.3.0",openssl:"3.0.15+quic",simdutf:"5.6.0",tz:"2024a",undici:"5.28.5",unicode:"15.1",uv:"1.44.2",uvwasi:"0.0.19",v8:"10.2.154.26-node.37",zlib:"1.3.0.1-motley"}},o={dbLayout:"display: flex; flex-direction: column;",dbLayoutContent:"flex: 1 0 auto;",dbLayoutHeader:"flex-shrink: 0;",dbLayoutFooter:"flex-shrink: 0;",setStyle:function(e,t){e.style=o[t]}},l=window;l.$rdf=e,l.panes=n,l.mashlib={versionInfo:i},l.panes.runDataBrowser=function(e){var i,a,s,l;null===(i=document.getElementById("PageBody"))||void 0===i||i.setAttribute("style",o.dbLayout),null===(a=document.getElementById("PageHeader"))||void 0===a||a.setAttribute("style",o.dbLayoutHeader),null===(s=document.getElementById("PageFooter"))||void 0===s||s.setAttribute("style",o.dbLayoutFooter),null===(l=document.getElementById("DummyUUID"))||void 0===l||l.setAttribute("style",o.dbLayoutContent),t.A.crossSiteProxyTemplate=window.origin+"/xss/?uri={uri}";try{const e=document.createElement("meta");e.setAttribute("name","monetization"),e.setAttribute("content",`$${window.location.host}`),document.head.appendChild(e)}catch(e){console.error("Failed to add web monetization tag to page header")}r.authn.checkUser().then((function(t){return n.initMainPage(r.solidLogicSingleton.store,e)}))},window.onpopstate=function(t){l.document.outline.GotoSubject(e.sym(window.document.location.href),!0,void 0,!0,void 0)},l.dump=function(e){console.log(e.slice(0,-1))}})(),s})()));
//# sourceMappingURL=mashlib.min.js.map