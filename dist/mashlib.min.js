!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("window")):"function"==typeof define&&define.amd?define(["window"],t):"object"==typeof exports?exports.Mashlib=t(require("window")):e.Mashlib=t(e.window)}(self,e=>(()=>{var t,n,r,i,a={23:(e,t,n)=>{"use strict";function r(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}n.r(t),n.d(t,{Hooks:()=>he,Lexer:()=>ue,Marked:()=>me,Parser:()=>fe,Renderer:()=>pe,TextRenderer:()=>de,Tokenizer:()=>ce,defaults:()=>i,getDefaults:()=>r,lexer:()=>Ce,marked:()=>ve,options:()=>be,parse:()=>_e,parseInline:()=>ke,parser:()=>Ee,setOptions:()=>ye,use:()=>we,walkTokens:()=>xe});var i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function a(e){i=e}var o={exec:()=>null};function s(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(c.caret,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}var l=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),c={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},u=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,p=/(?:[*+-]|\d{1,9}[.)])/,d=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,f=s(d).replace(/bull/g,p).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),h=s(d).replace(/bull/g,p).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),m=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,g=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,v=s(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",g).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),b=s(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,p).getRegex(),y="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",w=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,x=s("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",w).replace("tag",y).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k=s(m).replace("hr",u).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y).getRegex(),_={blockquote:s(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",k).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:v,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:u,html:x,lheading:f,list:b,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:k,table:o,text:/^[^\n]+/},E=s("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",u).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y).getRegex(),C={..._,lheading:h,table:E,paragraph:s(m).replace("hr",u).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",E).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y).getRegex()},S={..._,html:s("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",w).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:o,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:s(m).replace("hr",u).replace("heading"," *#{1,6} *[^\n]").replace("lheading",f).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},A=/^( {2,}|\\)\n(?!\s*$)/,T=/[\p{P}\p{S}]/u,R=/[\s\p{P}\p{S}]/u,P=/[^\s\p{P}\p{S}]/u,F=s(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,R).getRegex(),I=/(?!~)[\p{P}\p{S}]/u,N=s(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",l?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),O=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,L=s(O,"u").replace(/punct/g,T).getRegex(),j=s(O,"u").replace(/punct/g,I).getRegex(),M="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",D=s(M,"gu").replace(/notPunctSpace/g,P).replace(/punctSpace/g,R).replace(/punct/g,T).getRegex(),U=s(M,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,I).getRegex(),B=s("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,P).replace(/punctSpace/g,R).replace(/punct/g,T).getRegex(),z=s(/\\(punct)/,"gu").replace(/punct/g,T).getRegex(),H=s(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),q=s(w).replace("(?:--\x3e|$)","--\x3e").getRegex(),$=s("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",q).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),W=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,V=s(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",W).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),G=s(/^!?\[(label)\]\[(ref)\]/).replace("label",W).replace("ref",g).getRegex(),K=s(/^!?\[(ref)\](?:\[\])?/).replace("ref",g).getRegex(),J=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Q={_backpedal:o,anyPunctuation:z,autolink:H,blockSkip:N,br:A,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:o,emStrongLDelim:L,emStrongRDelimAst:D,emStrongRDelimUnd:B,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:V,nolink:K,punctuation:F,reflink:G,reflinkSearch:s("reflink|nolink(?!\\()","g").replace("reflink",G).replace("nolink",K).getRegex(),tag:$,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:o},Y={...Q,link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",W).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W).getRegex()},X={...Q,emStrongRDelimAst:U,emStrongLDelim:j,url:s(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",J).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:s(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",J).getRegex()},Z={...X,br:s(A).replace("{2,}","*").getRegex(),text:s(X.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ee={normal:_,gfm:C,pedantic:S},te={normal:Q,gfm:X,breaks:Z,pedantic:Y},ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},re=e=>ne[e];function ie(e,t){if(t){if(c.escapeTest.test(e))return e.replace(c.escapeReplace,re)}else if(c.escapeTestNoEncode.test(e))return e.replace(c.escapeReplaceNoEncode,re);return e}function ae(e){try{e=encodeURI(e).replace(c.percentDecode,"%")}catch{return null}return e}function oe(e,t){let n=e.replace(c.findPipe,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(c.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(c.slashPipe,"|");return n}function se(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let a=e.charAt(r-i-1);if(a!==t||n){if(a===t||!n)break;i++}else i++}return e.slice(0,r-i)}function le(e,t,n,r,i){let a=t.href,o=t.title||null,s=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:a,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}var ce=class{options;rules;lexer;constructor(e){this.options=e||i}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:se(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[r]=t;return r.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=se(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:se(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=se(t[0],"\n").split("\n"),n="",r="",i=[];for(;e.length>0;){let t,a=!1,o=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))o.push(e[t]),a=!0;else{if(a)break;o.push(e[t])}e=e.slice(t);let s=o.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;let u=i.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,a=t.raw+"\n"+e.join("\n"),o=this.blockquote(a);i[i.length-1]=o,n=n.substring(0,n.length-t.raw.length)+o.raw,r=r.substring(0,r.length-t.text.length)+o.text;break}if("list"===u?.type){let t=u,a=t.raw+"\n"+e.join("\n"),o=this.list(a);i[i.length-1]=o,n=n.substring(0,n.length-u.raw.length)+o.raw,r=r.substring(0,r.length-t.raw.length)+o.raw,e=a.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;e;){let n=!1,r="",s="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],u=!l.trim(),p=0;if(this.options.pedantic?(p=2,s=l.trimStart()):u?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,s=l.slice(p),p+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(p),n=this.rules.other.hrRegex(p),i=this.rules.other.fencesBeginRegex(p),a=this.rules.other.headingBeginRegex(p),o=this.rules.other.htmlBeginRegex(p);for(;e;){let d,f=e.split("\n",1)[0];if(c=f,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),d=c):d=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||a.test(c)||o.test(c)||t.test(c)||n.test(c))break;if(d.search(this.rules.other.nonSpaceChar)>=p||!c.trim())s+="\n"+d.slice(p);else{if(u||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(l)||a.test(l)||n.test(l))break;s+="\n"+c}!u&&!c.trim()&&(u=!0),r+=f+"\n",e=e.substring(f.length+1),l=d.slice(p)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(o=!0)),i.items.push({type:"list_item",raw:r,task:!!this.options.gfm&&this.rules.other.listIsTask.test(s),loose:!1,text:s,tokens:[]}),i.raw+=r}let s=i.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e of i.items){if(this.lexer.state.top=!1,e.tokens=this.lexer.blockTokens(e.text,[]),e.task){if(e.text=e.text.replace(this.rules.other.listReplaceTask,""),"text"===e.tokens[0]?.type||"paragraph"===e.tokens[0]?.type){e.tokens[0].raw=e.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),e.tokens[0].text=e.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let e=this.lexer.inlineQueue.length-1;e>=0;e--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[e].src)){this.lexer.inlineQueue[e].src=this.lexer.inlineQueue[e].src.replace(this.rules.other.listReplaceTask,"");break}}let t=this.rules.other.listTaskCheckbox.exec(e.raw);if(t){let n={type:"checkbox",raw:t[0]+" ",checked:"[ ]"!==t[0]};e.checked=n.checked,i.loose?e.tokens[0]&&["paragraph","text"].includes(e.tokens[0].type)&&"tokens"in e.tokens[0]&&e.tokens[0].tokens?(e.tokens[0].raw=n.raw+e.tokens[0].raw,e.tokens[0].text=n.raw+e.tokens[0].text,e.tokens[0].tokens.unshift(n)):e.tokens.unshift({type:"paragraph",raw:n.raw,text:n.raw,tokens:[n]}):e.tokens.unshift(n)}}if(!i.loose){let t=e.tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));i.loose=n}}if(i.loose)for(let e of i.items){e.loose=!0;for(let t of e.tokens)"text"===t.type&&(t.type="paragraph")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=oe(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?a.align.push("right"):this.rules.other.tableAlignCenter.test(e)?a.align.push("center"):this.rules.other.tableAlignLeft.test(e)?a.align.push("left"):a.align.push(null);for(let e=0;e<n.length;e++)a.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:a.align[e]});for(let e of i)a.rows.push(oe(e,a.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:a.align[t]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=se(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),le(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return le(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let n,i,a=[...r[0]].length-1,o=a,s=0,l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){o+=i;continue}if((r[5]||r[6])&&a%3&&!((a+i)%3)){s+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+s);let t=[...r[0]][0].length,l=e.slice(0,a+r.index+t+i);if(Math.min(a,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},ue=class e{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new ce,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:c,block:ee.normal,inline:te.normal};this.options.pedantic?(t.block=ee.pedantic,t.inline=te.pedantic):this.options.gfm&&(t.block=ee.gfm,this.options.breaks?t.inline=te.breaks:t.inline=te.gfm),this.tokenizer.rules=t}static get rules(){return{block:ee,inline:te}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(c.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(c.tabCharGlobal,"    ").replace(c.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let a=t.at(-1);n&&"paragraph"===a?.type?(a.raw+=(a.raw.endsWith("\n")?"":"\n")+r.raw,a.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r=e,i=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(r));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(r));)n=i[2]?i[2].length:0,r=r.slice(0,i.index+n)+"["+"a".repeat(i[0].length-n-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let a=!1,o="";for(;e;){let n;if(a||(o=""),a=!1,this.options.extensions?.inline?.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);let r=t.at(-1);"text"===n.type&&"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,r,o)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}let i=e;if(this.options.extensions?.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(i)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),a=!0;let r=t.at(-1);"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return t}},pe=class{options;parser;constructor(e){this.options=e||i}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(c.notSpaceStart)?.[0],i=e.replace(c.endingNewline,"")+"\n";return r?'<pre><code class="language-'+ie(r)+'">'+(n?i:ie(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:ie(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let t=0;t<e.items.length;t++){let n=e.items[t];r+=this.listitem(n)}let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){let i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ie(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=ae(e);if(null===i)return r;let a='<a href="'+(e=i)+'"';return t&&(a+=' title="'+ie(t)+'"'),a+=">"+r+"</a>",a}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=ae(e);if(null===i)return ie(n);let a=`<img src="${e=i}" alt="${n}"`;return t&&(a+=` title="${ie(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ie(e.text)}},de=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},fe=class e{options;renderer;textRenderer;constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new pe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new de}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let e=r,n=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==n||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){t+=n||"";continue}}let i=r;switch(i.type){case"space":t+=this.renderer.space(i);break;case"hr":t+=this.renderer.hr(i);break;case"heading":t+=this.renderer.heading(i);break;case"code":t+=this.renderer.code(i);break;case"table":t+=this.renderer.table(i);break;case"blockquote":t+=this.renderer.blockquote(i);break;case"list":t+=this.renderer.list(i);break;case"checkbox":t+=this.renderer.checkbox(i);break;case"html":t+=this.renderer.html(i);break;case"def":t+=this.renderer.def(i);break;case"paragraph":t+=this.renderer.paragraph(i);break;case"text":t+=this.renderer.text(i);break;default:{let e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return t}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}let a=i;switch(a.type){case"escape":case"text":n+=t.text(a);break;case"html":n+=t.html(a);break;case"link":n+=t.link(a);break;case"image":n+=t.image(a);break;case"checkbox":n+=t.checkbox(a);break;case"strong":n+=t.strong(a);break;case"em":n+=t.em(a);break;case"codespan":n+=t.codespan(a);break;case"br":n+=t.br(a);break;case"del":n+=t.del(a);break;default:{let e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}},he=class{options;block;constructor(e){this.options=e||i}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?ue.lex:ue.lexInline}provideParser(){return this.block?fe.parse:fe.parseInline}},me=class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=fe;Renderer=pe;TextRenderer=de;Lexer=ue;Tokenizer=ce;Hooks=he;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let e=r;for(let r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(let r of e.rows)for(let e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(r=>{let i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new pe(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,i=e.renderer[r],a=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=a.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new ce(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,i=e.tokenizer[r],a=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new he;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,i=e.hooks[r],a=t[r];he.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async&&he.passThroughHooksRespectAsync.has(n))return(async()=>{let n=await i.call(t,e);return a.call(t,n)})();let r=i.call(t,e);return a.call(t,r)}:t[r]=(...e)=>{if(this.defaults.async)return(async()=>{let n=await i.apply(t,e);return!1===n&&(n=await a.apply(t,e)),n})();let n=i.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ue.lex(e,t??this.defaults)}parser(e,t){return fe.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},a=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let n=i.hooks?await i.hooks.preprocess(t):t,r=await(i.hooks?await i.hooks.provideLexer():e?ue.lex:ue.lexInline)(n,i),a=i.hooks?await i.hooks.processAllTokens(r):r;i.walkTokens&&await Promise.all(this.walkTokens(a,i.walkTokens));let o=await(i.hooks?await i.hooks.provideParser():e?fe.parse:fe.parseInline)(a,i);return i.hooks?await i.hooks.postprocess(o):o})().catch(a);try{i.hooks&&(t=i.hooks.preprocess(t));let n=(i.hooks?i.hooks.provideLexer():e?ue.lex:ue.lexInline)(t,i);i.hooks&&(n=i.hooks.processAllTokens(n)),i.walkTokens&&this.walkTokens(n,i.walkTokens);let r=(i.hooks?i.hooks.provideParser():e?fe.parse:fe.parseInline)(n,i);return i.hooks&&(r=i.hooks.postprocess(r)),r}catch(e){return a(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+ie(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}},ge=new me;function ve(e,t){return ge.parse(e,t)}ve.options=ve.setOptions=function(e){return ge.setOptions(e),ve.defaults=ge.defaults,a(ve.defaults),ve},ve.getDefaults=r,ve.defaults=i,ve.use=function(...e){return ge.use(...e),ve.defaults=ge.defaults,a(ve.defaults),ve},ve.walkTokens=function(e,t){return ge.walkTokens(e,t)},ve.parseInline=ge.parseInline,ve.Parser=fe,ve.parser=fe.parse,ve.Renderer=pe,ve.TextRenderer=de,ve.Lexer=ue,ve.lexer=ue.lex,ve.Tokenizer=ce,ve.Hooks=he,ve.parse=ve;var be=ve.options,ye=ve.setOptions,we=ve.use,xe=ve.walkTokens,ke=ve.parseInline,_e=ve,Ee=fe.parse,Ce=ue.lex},135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StuffCard=void 0;var r=n(6752),i=n(500),a=n(4572),o=n(2378);const s=document,l=((0,o.styleMap)((0,a.fullWidth)()),(0,o.styleMap)({...(0,a.textGray)(),...(0,a.textCenter)()}),(0,o.styleMap)((0,a.card)())),c=(0,o.styleMap)({...(0,a.paddingSmall)(),...(0,a.textLeft)()});function u(e,t){return function(e,t){return i.widgets.personTR(t,null,e.instance,{})}(e,t)}function p(e){return 0===e.length?r.html``:r.html`${u(e[0],s)}${e.length>1?p(e.slice(1)):r.html``}`}t.StuffCard=(e,t,n,i)=>{const{stuff:s}=i,u=(0,o.styleMap)({...(0,a.heading)(),color:e.highlightColor});return r.html`
  <div>
    <div data-testid="stuff" style="${l}">
      <div style=${c}>
        <h3 style=${u}>Stuff</h3>

        <div style=${c}><table data-testid="stuffTable">${p(s)}</table></div>
        <hr />

      </div>
    </div>
  </div>
`}},136:(e,t,n)=>{"use strict";const{SymbolAsyncIterator:r,SymbolIterator:i,SymbolFor:a}=n(4641),o=a("nodejs.stream.destroyed"),s=a("nodejs.stream.errored"),l=a("nodejs.stream.readable"),c=a("nodejs.stream.writable"),u=a("nodejs.stream.disturbed"),p=a("nodejs.webstream.isClosedPromise"),d=a("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var n;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function h(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function m(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||m(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function v(e){return!(!e||m(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function b(e){return!(!e||m(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function y(e){if(!m(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[o]||null!=r&&r.destroyed)}function w(e){if(!h(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function x(e,t){if(!f(e))return null;const n=e._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function k(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!y(e)&&(f(e)&&e.readable&&!x(e))}function _(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!y(e)&&(h(e)&&e.writable&&!w(e))}function E(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function C(e){return"boolean"==typeof e._sent100&&E(e)}e.exports={isDestroyed:y,kIsDestroyed:o,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,n,r,i,a,o,l,c,u,p;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(a=null!==(o=e[s])&&void 0!==o?o:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(p=e._writableState)||void 0===p?void 0:p.errored))},kIsErrored:s,isReadable:k,kIsReadable:l,kIsClosedPromise:p,kControllerErrorFunction:d,kIsWritable:c,isClosed:function(e){if(!m(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==t?void 0:t.closed)||(null==n?void 0:n.closed):"boolean"==typeof e._closed&&E(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return m(e)?!!y(e)||(!1===(null==t?void 0:t.readable)||!k(e))&&(!1===(null==t?void 0:t.writable)||!_(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[r]:!1===t?"function"==typeof e[i]:"function"==typeof e[r]||"function"==typeof e[i])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:x,isReadableErrored:function(e){var t,n;return m(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:m,isWebStream:function(e){return g(e)||v(e)||b(e)},isWritable:_,isWritableNodeStream:h,isWritableStream:v,isWritableEnded:w,isWritableFinished:function(e,t){if(!h(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return m(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:C,willEmitClose:function(e){if(!m(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&C(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:b}},157:(e,t,n)=>{const r=n(6886),i=n(9953),a=n(9899),o=n(8820),s=n(6421),l=n(7756),c=n(1332),u=n(7518),p=n(4764),d=n(1427),f=n(4565),h=n(208),m=n(9801);function g(e,t,n){const r=e.size,i=f.getEncodedBits(t,n);let a,o;for(a=0;a<15;a++)o=1==(i>>a&1),a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(r-15+a,8,o,!0),a<8?e.set(8,r-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(r-8,8,1,!0)}function v(e,t,n){const i=new a;n.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),h.getCharCountIndicator(t.mode,e)),t.write(i)});const o=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const s=(o-i.getLengthInBits())/8;for(let e=0;e<s;e++)i.put(e%2?17:236,8);return function(e,t,n){const i=r.getSymbolTotalCodewords(t),a=u.getTotalCodewordsCount(t,n),o=i-a,s=u.getBlocksCount(t,n),l=i%s,c=s-l,d=Math.floor(i/s),f=Math.floor(o/s),h=f+1,m=d-f,g=new p(m);let v=0;const b=new Array(s),y=new Array(s);let w=0;const x=new Uint8Array(e.buffer);for(let e=0;e<s;e++){const t=e<c?f:h;b[e]=x.slice(v,v+t),y[e]=g.encode(b[e]),v+=t,w=Math.max(w,t)}const k=new Uint8Array(i);let _,E,C=0;for(_=0;_<w;_++)for(E=0;E<s;E++)_<b[E].length&&(k[C++]=b[E][_]);for(_=0;_<m;_++)for(E=0;E<s;E++)k[C++]=y[E][_];return k}(i,e,t)}function b(e,t,n,i){let a;if(Array.isArray(e))a=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=m.rawSplit(e);r=d.getBestVersionForData(t,n)}a=m.fromString(e,r||40)}}const u=d.getBestVersionForData(a,n);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;const p=v(t,n,a),f=r.getSymbolSize(t),h=new o(f);return function(e,t){const n=e.size,r=l.getPositions(t);for(let t=0;t<r.length;t++){const i=r[t][0],a=r[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1||n<=i+t))for(let r=-1;r<=7;r++)a+r<=-1||n<=a+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(i+t,a+r,!0,!0):e.set(i+t,a+r,!1,!0))}}(h,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(h),function(e,t){const n=s.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],i=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,i+n,!0,!0):e.set(r+t,i+n,!1,!0)}}(h,t),g(h,n,0),t>=7&&function(e,t){const n=e.size,r=d.getEncodedBits(t);let i,a,o;for(let t=0;t<18;t++)i=Math.floor(t/3),a=t%3+n-8-3,o=1==(r>>t&1),e.set(i,a,o,!0),e.set(a,i,o,!0)}(h,t),function(e,t){const n=e.size;let r=-1,i=n-1,a=7,o=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,s-n)){let r=!1;o<t.length&&(r=1==(t[o]>>>a&1)),e.set(i,s-n,r),a--,-1===a&&(o++,a=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(h,p),isNaN(i)&&(i=c.getBestMask(h,g.bind(null,h,n))),c.applyMask(i,h),g(h,n,i),{modules:h,version:t,errorCorrectionLevel:n,maskPattern:i,segments:a}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,a,o=i.M;return void 0!==t&&(o=i.from(t.errorCorrectionLevel,i.M),n=d.from(t.version),a=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),b(e,n,o,a)}},208:(e,t,n)=>{const r=n(1878),i=n(7044);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},251:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,p=n?i-1:0,d=n?-1:1,f=e[t+p];for(p+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+p],p+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+p],p+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,p=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(o++,l/=2),o+p>=u?(s=0,o=u):o+p>=1?(s=(t*l-1)*Math.pow(2,i),o+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=h,o/=256,c-=8);e[n+f-h]|=128*m}},333:(e,t,n)=>{"use strict";const r=n(5606),{PromisePrototypeThen:i,SymbolAsyncIterator:a,SymbolIterator:o}=n(4641),{Buffer:s}=n(5576),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:c}=n(8526).codes;e.exports=function(e,t,n){let u,p;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[a])p=!0,u=t[a]();else{if(!t||!t[o])throw new l("iterable",["Iterable"],t);p=!1,u=t[o]()}const d=new e({objectMode:!0,highWaterMark:1,...n});let f=!1;return d._read=function(){f||(f=!0,async function(){for(;;){try{const{value:e,done:t}=p?await u.next():u.next();if(t)d.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new c;if(d.push(t))continue;f=!1}}catch(e){d.destroy(e)}break}}())},d._destroy=function(e,t){i(async function(e){const t=null!=e,n="function"==typeof u.throw;if(t&&n){const{value:t,done:n}=await u.throw(e);if(await t,n)return}if("function"==typeof u.return){const{value:e}=await u.return();await e}}(e),()=>r.nextTick(t,e),n=>r.nextTick(t,n||e))},d}},334:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(4641),{EventEmitter:a}=n(7007);function o(e){a.call(this,e)}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(o.prototype,a.prototype),i(o,a),o.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",c));let o=!1;function l(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){p(),0===a.listenerCount(this,"error")&&this.emit("error",e)}function p(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",l),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",p),n.removeListener("close",p),e.removeListener("close",p)}return s(n,"error",u),s(e,"error",u),n.on("end",p),n.on("close",p),e.on("close",p),e.emit("pipe",n),e},e.exports={Stream:o,prependListener:s}},466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPersonToGroup=async function(e,t){const n=[e.doc(),t.doc()];try{await u.fetcher.load(n)}catch(e){throw new Error("addPersonToGroup: "+e)}const r=u.findTypeURIs(e);if(!(l.vcard("Individual").uri in r)&&!(l.vcard("Organization").uri in r))return alert(`Can't add ${e} to a group: it has to be an individual or another group.`);const a=u.any(e,l.vcard("fn")),s=u.any(t,l.vcard("fn"));if(!a)return alert("No vcard name known for "+e);if(u.holds(e,l.vcard("fn"),null,t.doc()))return alert("ALREADY added "+a+" to group "+s);if(!confirm("Add "+a+" to group "+s+"?"))return;const c=[i.st(e,l.vcard("fn"),a,t.doc())],d=(0,o.getPersonas)(u,e).map(e=>e.value);d.length?d.forEach(n=>{c.push(i.st(u.sym(n),l.owl("sameAs"),e,t.doc())),c.push(i.st(t,l.vcard("hasMember"),u.sym(n),t.doc()))}):c.push(i.st(t,l.vcard("hasMember"),e,t.doc()));try{await p.update([],c),u.fetcher.unload(t.doc()),await u.fetcher.load(t.doc())}catch(e){throw new Error(`Error adding ${a} to group ${s}:`+e)}return e},t.getDataModelIssues=async function(e){const t=[],n=[];return e.forEach(e=>{u.each(e,l.vcard("hasMember"),null,e.doc()).forEach(r=>{const a=h(u,r,e.doc());if(a.length&&f(e,r))for(const o of a)if(!f(e,o)){t.push(i.st(e,l.vcard("hasMember"),r,e.doc())),n.push(i.st(e,l.vcard("hasMember"),o,e.doc()));break}})}),{del:t,ins:n}},t.getSameAs=h,t.groupMembers=function(e,t){const n=e.each(t,l.vcard("hasMember"),null,t.doc());let r=[];n.forEach(n=>{r=e.any(n,l.vcard("fn"),null,t.doc())?r.concat(n):r.concat(e.each(n,l.owl("sameAs"),null,t.doc()))});const i=new Set(r.map(e=>e.uri));return r=[...i].map(t=>e.sym(t)),r},t.isLocal=f,t.sanitizeToAlpha=d,t.saveNewContact=async function(e,t,n,r){await u.fetcher.load(e.doc());const a=u.any(e,l.vcard("nameEmailIndex")),o=c.genUuid(),s=u.sym(e.dir().uri+"Person/"+o+"/index.ttl#this"),d=s.doc(),f=[i.st(s,l.vcard("inAddressBook"),e,a),i.st(s,l.vcard("fn"),t,a),i.st(s,l.vcard("fn"),t,d),i.st(s,l.rdf("type"),r,d),i.st(d,l.dct("created"),new Date,d)];for(const e in n){const n=u.sym(e),r=n.doc();f.push(i.st(n,l.vcard("hasMember"),s,r),i.st(s,l.vcard("fn"),t,r))}try{await p.updateMany([],f)}catch(e){throw new Error("Updating new contact: "+e)}return s},t.saveNewGroup=async function(e,t){await u.fetcher.load(e.doc());const n=u.any(e,l.vcard("groupIndex")),r=d(t),a=u.sym(e.dir().uri+"Group/"+r+".ttl#this"),o=a.doc();try{await u.fetcher.load(n)}catch(e){throw new Error("Error loading group index!"+n.uri+": "+e)}if(u.holds(e,l.vcard("includesGroup"),a,n))return a;const s=[i.st(e,l.vcard("includesGroup"),a,n),i.st(a,l.rdf("type"),l.vcard("Group"),n),i.st(a,l.vcard("fn"),t,n)];try{await p.update([],s)}catch(e){throw new Error("Could not update group index "+e)}const c=[i.st(e,l.vcard("includesGroup"),a,o),i.st(a,l.rdf("type"),l.vcard("Group"),o),i.st(a,l.vcard("fn"),t,o)];try{await p.update([],c)}catch(e){throw new Error("Could not update group file: "+e)}return a},t.updateMany=async function(e,t=[]){const n=e.concat(t).map(e=>e.why),r=[];n.forEach(e=>{r.find(t=>t.equals(e))||r.push(e)});const i=r.map(n=>u.updater.update(e.filter(e=>e.why.sameTerm(n)),t.filter(e=>e.why.sameTerm(n))));return Promise.all(i)};var r=s(n(500)),i=s(n(8230)),a=n(9332),o=n(4416);function s(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(s=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const l=r.ns,c=r.utils,u=a.store,p=u.updater;function d(e){return e.replace(/\W/gu,"_").replace(/_+/g,"_")}function f(e,t){const n=e.dir().dir().dir();return t.uri&&t.uri.startsWith(n.uri)}function h(e,t,n){return e.each(t,l.owl("sameAs"),null,n).concat(e.each(null,l.owl("sameAs"),t,n))}},500:function(e,t,n){var r;r=(e,t)=>(()=>{var n={49:(e,t,n)=>{"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var r,i,a=n(598),o=n(466).extname,s=n(983),l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}function p(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!(!r||!r.length)&&r[0]}function d(e,t,n){return(t?s(t,a[t].source):0)>(n?s(n,a[n].source):0)?t:n}function f(e,n,r){var i=["nginx","apache",void 0,"iana"],o=n?i.indexOf(a[n].source):0,s=r?i.indexOf(a[r].source):0;return"application/octet-stream"!==t.types[p]&&(o>s||o===s&&"application/"===t.types[p]?.slice(0,12))||o>s?n:r}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=p,t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=o("x."+e).toLowerCase().slice(1);return n&&t.types[n]||!1},t.types=Object.create(null),t._extensionConflicts=[],r=t.extensions,i=t.types,Object.keys(a).forEach(function(e){var n=a[e].extensions;if(n&&n.length){r[e]=n;for(var o=0;o<n.length;o++){var s=n[o];i[s]=d(0,i[s],e);const r=f(0,i[s],e);r!==i[s]&&t._extensionConflicts.push([s,r,i[s]])}}})},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},264:t=>{"use strict";t.exports=e},373:e=>{e.exports=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},378:(e,t,n)=>{"use strict";n.d(t,{LN:()=>o,Pt:()=>a,i1:()=>s});var r=n(423),i="https://solidos.github.io/solid-ui/src",a=(e=n.hmd(e)).scriptURI?{iconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/icons/",originalIconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/originalIcons/"}:"undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.iconBase?{iconBase:$SolidTestEnvironment.iconBase,originalIconBase:$SolidTestEnvironment.originalIconBase}:{iconBase:i+"/icons/",originalIconBase:i+"/originalIcons/"};(0,r.Rm)("   icons.iconBase is set to : "+a.iconBase);var o=a.iconBase,s=a.originalIconBase},386:e=>{const t={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.exports=function(e={namedNode:e=>e}){const n={};for(const r in t){const i=t[r];n[r]=function(t=""){return e.namedNode(i+t)}}return n}},423:(e,t,n)=>{"use strict";function r(){var e;(e=console).log.apply(e,arguments)}function i(){var e;(e=console).warn.apply(e,arguments)}function a(){var e;(e=console).error.apply(e,arguments)}function o(){var e;(e=console).trace.apply(e,arguments)}n.d(t,{R8:()=>i,Rm:()=>r,uP:()=>o,z3:()=>a})},466:()=>{},546:e=>{function t(n,r,i,a){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}e.exports=t=function(e,n,r,i){function a(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r,i,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,n)=>{var r=n(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},580:e=>{"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var t=/["'&<>]/;e.exports=function(e){var n,r=""+e,i=t.exec(r);if(!i)return r;var a="",o=0,s=0;for(o=i.index;o<r.length;o++){switch(r.charCodeAt(o)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==o&&(a+=r.substring(s,o)),s=o+1,a+=n}return s!==o?a+r.substring(s,o):a}},598:(e,t,n)=>{
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=n(813)},633:(e,t,n)=>{var r=n(172),i=n(993),a=n(869),o=n(887),s=n(791),l=n(373),c=n(579);function u(){"use strict";var t=i(),n=t.m(u),p=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function d(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))}var f={throw:1,return:2,break:3,continue:3};function h(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,f[e],t)},delegateYield:function(e,i,a){return t.resultName=i,n(r.d,c(e),a)},finish:function(e){return n(r.f,e)}},n=function(e,n,i){r.p=t.prev,r.n=t.next;try{return e(n,i)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(e.exports=u=function(){return{wrap:function(e,n,r,i){return t.w(h(e),n,r,i&&i.reverse())},isGeneratorFunction:d,mark:t.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:s,async:function(e,t,n,r,i){return(d(t)?o:a)(h(e),t,n,r,i)},keys:l,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},663:e=>{"use strict";e.exports=t},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var r=n(633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},791:(e,t,n)=>{var r=n(172),i=n(546);e.exports=function e(t,n){function a(e,i,o,s){try{var l=t[e](i),c=l.value;return c instanceof r?n.resolve(c.v).then(function(e){a("next",e,o,s)},function(e){a("throw",e,o,s)}):n.resolve(c).then(function(e){l.value=e,o(l)},function(e){return a("throw",e,o,s)})}catch(e){s(e)}}var o;this.next||(i(e.prototype),i(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),i(this,"_invoke",function(e,t,r){function i(){return new n(function(t,n){a(e,r,t,n)})}return o=o?o.then(i,i):i()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/ace+json":{"source":"iana","compressible":true},"application/ace-groupcomm+cbor":{"source":"iana"},"application/ace-trl+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/aif+cbor":{"source":"iana"},"application/aif+json":{"source":"iana","compressible":true},"application/alto-cdni+json":{"source":"iana","compressible":true},"application/alto-cdnifilter+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-propmap+json":{"source":"iana","compressible":true},"application/alto-propmapparams+json":{"source":"iana","compressible":true},"application/alto-tips+json":{"source":"iana","compressible":true},"application/alto-tipsparams+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/appinstaller":{"compressible":false,"extensions":["appinstaller"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/appx":{"compressible":false,"extensions":["appx"]},"application/appxbundle":{"compressible":false,"extensions":["appxbundle"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/automationml-aml+xml":{"source":"iana","compressible":true,"extensions":["aml"]},"application/automationml-amlx+zip":{"source":"iana","compressible":false,"extensions":["amlx"]},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/bufr":{"source":"iana"},"application/c2pa":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/ce+cbor":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/cid-edhoc+cbor-seq":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/city+json-seq":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-eap":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/concise-problem-details+cbor":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cose-x509":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwl":{"source":"iana","extensions":["cwl"]},"application/cwl+json":{"source":"iana","compressible":true},"application/cwl+yaml":{"source":"iana"},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana","extensions":["dcm"]},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dpop+jwt":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/eat+cwt":{"source":"iana"},"application/eat+jwt":{"source":"iana"},"application/eat-bun+cbor":{"source":"iana"},"application/eat-bun+json":{"source":"iana","compressible":true},"application/eat-ucs+cbor":{"source":"iana"},"application/eat-ucs+json":{"source":"iana","compressible":true},"application/ecmascript":{"source":"apache","compressible":true,"extensions":["ecma"]},"application/edhoc+cbor-seq":{"source":"iana"},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.legacyesn+json":{"source":"iana","compressible":true},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/entity-statement+jwt":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdf":{"source":"iana","extensions":["fdf"]},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geopose+json":{"source":"iana","compressible":true},"application/geoxacml+json":{"source":"iana","compressible":true},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gnap-binding-jws":{"source":"iana"},"application/gnap-binding-jwsd":{"source":"iana"},"application/gnap-binding-rotation-jws":{"source":"iana"},"application/gnap-binding-rotation-jwsd":{"source":"iana"},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/grib":{"source":"iana"},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"iana","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"apache","charset":"UTF-8","compressible":true,"extensions":["js"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/jscontact+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jsonpath":{"source":"iana"},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwk-set+jwt":{"source":"iana"},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/linkset":{"source":"iana"},"application/linkset+json":{"source":"iana","compressible":true},"application/load-control+xml":{"source":"iana","compressible":true},"application/logout+jwt":{"source":"iana"},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4","mpg4","mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msix":{"compressible":false,"extensions":["msix"]},"application/msixbundle":{"compressible":false,"extensions":["msixbundle"]},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":true,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/ohttp-keys":{"source":"iana"},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg","one","onea"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["sig","asc"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/private-token-issuer-directory":{"source":"iana"},"application/private-token-request":{"source":"iana"},"application/private-token-response":{"source":"iana"},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/provided-claims+jwt":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.implied-document+xml":{"source":"iana","compressible":true},"application/prs.implied-executable":{"source":"iana"},"application/prs.implied-object+json":{"source":"iana","compressible":true},"application/prs.implied-object+json-seq":{"source":"iana"},"application/prs.implied-object+yaml":{"source":"iana"},"application/prs.implied-structure":{"source":"iana"},"application/prs.mayfile":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.vcfbzip2":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true,"extensions":["xsf"]},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"apache"},"application/reputon+json":{"source":"iana","compressible":true},"application/resolve-response+jwt":{"source":"iana"},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-checklist":{"source":"iana"},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-signed-tal":{"source":"iana"},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"apache"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana","extensions":["sql"]},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/sslkeylogfile":{"source":"iana"},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/st2110-41":{"source":"iana"},"application/stix+json":{"source":"iana","compressible":true},"application/stratum":{"source":"iana"},"application/swid+cbor":{"source":"iana"},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tm+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toc+cbor":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"source":"iana","compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/trust-chain+json":{"source":"iana","compressible":true},"application/trust-mark+jwt":{"source":"iana"},"application/trust-mark-delegation+jwt":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/uccs+cbor":{"source":"iana"},"application/ujcs+json":{"source":"iana","compressible":true},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vc":{"source":"iana"},"application/vc+cose":{"source":"iana"},"application/vc+jwt":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.1ob":{"source":"iana"},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3a+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ach+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc8+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.5gsa2x":{"source":"iana"},"application/vnd.3gpp.5gsa2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gsv2x":{"source":"iana"},"application/vnd.3gpp.5gsv2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.crs+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.current-location-discovery+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.pinapp-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.seal-group-doc+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-network-qos-management-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-ue-config-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-unicast-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-user-profile-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.v2x":{"source":"iana"},"application/vnd.3gpp.vae-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acm.addressxfer+json":{"source":"iana","compressible":true},"application/vnd.acm.chatbot+json":{"source":"iana","compressible":true},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"apache","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"apache"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.parquet":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.apexlang":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"apache"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autodesk.fbx":{"extensions":["fbx"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.belightsoft.lhzd+zip":{"source":"iana","compressible":false},"application/vnd.belightsoft.lhzl+zip":{"source":"iana","compressible":false},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.bzip3":{"source":"iana"},"application/vnd.c3voc.schedule+xml":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.cncf.helm.chart.content.v1.tar+gzip":{"source":"iana"},"application/vnd.cncf.helm.chart.provenance.v1.prov":{"source":"iana"},"application/vnd.cncf.helm.config.v1+json":{"source":"iana","compressible":true},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datalog":{"source":"iana"},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.dcmp+xml":{"source":"iana","compressible":true,"extensions":["dcmp"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.eln+zip":{"source":"iana","compressible":false},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.erofs":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"apache","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.fdsn.stationxml+xml":{"source":"iana","charset":"XML-BASED","compressible":true},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.freelog.comic":{"source":"iana"},"application/vnd.frogans.fnc":{"source":"apache","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"apache","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.ga4gh.passport+jwt":{"source":"iana"},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.genozip":{"source":"iana"},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.gentoo.catmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.ebuild":{"source":"iana"},"application/vnd.gentoo.eclass":{"source":"iana"},"application/vnd.gentoo.gpkg":{"source":"iana"},"application/vnd.gentoo.manifest":{"source":"iana"},"application/vnd.gentoo.pkgmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.xpak":{"source":"iana"},"application/vnd.geo+json":{"source":"apache","compressible":true},"application/vnd.geocube+xml":{"source":"apache","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.pinboard":{"source":"iana"},"application/vnd.geogebra.slides":{"source":"iana","extensions":["ggs"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.gnu.taler.exchange+json":{"source":"iana","compressible":true},"application/vnd.gnu.taler.merchant+json":{"source":"iana","compressible":true},"application/vnd.google-apps.audio":{},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.drawing":{"compressible":false,"extensions":["gdraw"]},"application/vnd.google-apps.drive-sdk":{"compressible":false},"application/vnd.google-apps.file":{},"application/vnd.google-apps.folder":{"compressible":false},"application/vnd.google-apps.form":{"compressible":false,"extensions":["gform"]},"application/vnd.google-apps.fusiontable":{},"application/vnd.google-apps.jam":{"compressible":false,"extensions":["gjam"]},"application/vnd.google-apps.mail-layout":{},"application/vnd.google-apps.map":{"compressible":false,"extensions":["gmap"]},"application/vnd.google-apps.photo":{},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.script":{"compressible":false,"extensions":["gscript"]},"application/vnd.google-apps.shortcut":{},"application/vnd.google-apps.site":{"compressible":false,"extensions":["gsite"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-apps.unknown":{},"application/vnd.google-apps.video":{},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"apache","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true,"extensions":["xdcf"]},"application/vnd.gpxsee.map+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.hsl":{"source":"iana"},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"apache"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"apache","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"apache"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.ipfs.ipns-record":{"source":"iana"},"application/vnd.ipld.car":{"source":"iana"},"application/vnd.ipld.dag-cbor":{"source":"iana"},"application/vnd.ipld.dag-json":{"source":"iana"},"application/vnd.ipld.raw":{"source":"iana"},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kdl":{"source":"iana"},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.keyman.kmp+zip":{"source":"iana","compressible":false},"application/vnd.keyman.kmx":{"source":"iana"},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.ldev.productlicensing":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.mdl":{"source":"iana"},"application/vnd.mdl-mbsdf":{"source":"iana"},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.medicalholodeck.recordxr":{"source":"iana"},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mermaid":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.modl":{"source":"iana"},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-visio.viewer":{"extensions":["vdx"]},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msgpack":{"source":"iana"},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+cbor":{"source":"iana"},"application/vnd.nato.bindingdataobject+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+xml":{"source":"iana","compressible":true,"extensions":["bdo"]},"application/vnd.nato.openxmlformats-package.iepd+zip":{"source":"iana","compressible":false},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"apache","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oai.workflows":{"source":"iana"},"application/vnd.oai.workflows+json":{"source":"iana","compressible":true},"application/vnd.oai.workflows+yaml":{"source":"iana"},"application/vnd.oasis.opendocument.base":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"apache","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-master-template":{"source":"iana"},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.onvif.metadata":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openvpi.dspx+json":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.procrate.brushset":{"extensions":["brushset"]},"application/vnd.procreate.brush":{"extensions":["brush"]},"application/vnd.procreate.dream":{"extensions":["drm"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.pt.mundusmundi":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true,"extensions":["xhtm"]},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.relpipe":{"source":"iana"},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.sketchometry":{"source":"iana"},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.smintio.portals.archive":{"source":"iana"},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sybyl.mol2":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uic.osdm+json":{"source":"iana","compressible":true},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml","uo"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.veraison.tsm-report+cbor":{"source":"iana"},"application/vnd.veraison.tsm-report+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw","vsdx","vtx"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vocalshaper.vsp4":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.wasmflow.wafl":{"source":"iana"},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordlift":{"source":"iana"},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xarin.cpj":{"source":"iana"},"application/vnd.xecrets-encrypted":{"source":"iana"},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/voucher-jws+json":{"source":"iana","compressible":true},"application/vp":{"source":"iana"},"application/vp+cose":{"source":"iana"},"application/vp+jwt":{"source":"iana"},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blender":{"extensions":["blend"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-compressed":{"extensions":["rar"]},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-ipynb+json":{"compressible":true,"extensions":["ipynb"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zip-compressed":{"extensions":["zip"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xfdf":{"source":"iana","extensions":["xfdf"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yaml":{"source":"iana"},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+cbor":{"source":"iana"},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yang-sid+json":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zip+dotlottie":{"extensions":["lottie"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana","extensions":["adts","aac"]},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flac":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/matroska":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/midi-clip":{"source":"iana"},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a","m4b"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"apache"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"source":"iana","compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp","dib"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/dpx":{"source":"iana","extensions":["dpx"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/j2c":{"source":"iana"},"image/jaii":{"source":"iana","extensions":["jaii"]},"image/jais":{"source":"iana","extensions":["jais"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpg","jpeg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm","jpgm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxl":{"source":"iana","extensions":["jxl"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false,"extensions":["jfif"]},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif","btf"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.clip":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"iana","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-adobe-dng":{"extensions":["dng"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-emf":{"source":"iana"},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-wmf":{"source":"iana"},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/bhttp":{"source":"iana"},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/mls":{"source":"iana"},"message/news":{"source":"apache"},"message/ohttp-req":{"source":"iana"},"message/ohttp-res":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime","mht","mhtml"]},"message/s-http":{"source":"apache"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"apache"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/jt":{"source":"iana","extensions":["jt"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/prc":{"source":"iana","extensions":["prc"]},"model/step":{"source":"iana","extensions":["step","stp","stpnc","p21","210"]},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/u3d":{"source":"iana","extensions":["u3d"]},"model/vnd.bary":{"source":"iana","extensions":["bary"]},"model/vnd.cld":{"source":"iana","extensions":["cld"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana","extensions":["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usda":{"source":"iana","extensions":["usda"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"apache"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hl7v2":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["md","markdown"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/prs.texi":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.exchangeable":{"source":"iana"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"apache"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.vcf":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vnd.zoo.kcl":{"source":"iana"},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/wgsl":{"source":"iana","extensions":["wgsl"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/evc":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/h266":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/lottie+json":{"source":"iana","compressible":true},"video/matroska":{"source":"iana"},"video/matroska-3d":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts","m2t","m2ts","mts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.planar":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"apache"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},869:(e,t,n)=>{var r=n(887);e.exports=function(e,t,n,i,a){var o=r(e,t,n,i,a);return o.next().then(function(e){return e.done?e.value:o.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,n)=>{var r=n(993),i=n(791);e.exports=function(e,t,n,a,o){return new i(r().w(e,t,n,a),o||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},983:e=>{var t={"prs.":100,"x-":200,"x.":300,"vnd.":400,default:900},n={nginx:10,apache:20,iana:40,default:30},r={application:1,font:2,audio:2,video:3,default:0};e.exports=function(e,i="default"){if("application/octet-stream"===e)return 0;const[a,o]=e.split("/"),s=o.replace(/(\.|x-).*/,"$1");return(t[s]||t.default)+(n[i]||n.default)+(r[a]||r.default)+(1-e.length/100)}},993:(e,t,n)=>{var r=n(546);function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,n,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.toStringTag||"@@toStringTag";function l(e,i,a,o){var s=i&&i.prototype instanceof u?i:u,l=Object.create(s.prototype);return r(l,"_invoke",function(e,r,i){var a,o,s,l=0,u=i||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,o=0,s=t,d.n=n,c}};function f(e,r){for(o=e,s=r,n=0;!p&&l&&!i&&n<u.length;n++){var i,a=u[n],f=d.p,h=a[2];e>3?(i=h===r)&&(s=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=f&&((i=e<2&&f<a[1])?(o=0,d.v=r,d.n=a[1]):f<h&&(i=e<3||a[0]>r||r>h)&&(a[4]=e,a[5]=r,d.n=h,o=0))}if(i||e>1)return c;throw p=!0,r}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,h),o=u,s=h;(n=o<2?t:s)||!p;){a||(o?o<3?(o>1&&(d.n=-1),f(o,s)):d.n=s:d.v=s);try{if(l=2,a){if(o||(i="next"),n=a[i]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,o<2&&(o=0)}else 1===o&&(n=a.return)&&n.call(a),o<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=t}else if((n=(p=d.n<0)?s:e.call(r,d))!==c)break}catch(e){a=t,o=1,s=e}finally{l=1}}return{value:n,done:p}}}(e,a,o),!0),l}var c={};function u(){}function p(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(r(n={},o,function(){return this}),n),h=d.prototype=u.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return p.prototype=d,r(h,"constructor",d),r(d,"constructor",p),p.displayName="GeneratorFunction",r(d,s,"GeneratorFunction"),r(h),r(h,s,"Generator"),r(h,o,function(){return this}),r(h,"toString",function(){return"[object Generator]"}),(e.exports=i=function(){return{w:l,m}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,loaded:!1,exports:{}};return n[e](a,a.exports,i),a.loaded=!0,a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";i.r(a),i.d(a,{acl:()=>Ki,aclControl:()=>Ji,create:()=>Yi,createTypes:()=>d,dom:()=>Tu,icons:()=>Fe.Pt,infiniteMessageArea:()=>Lc,initFooter:()=>Eu,initHeader:()=>uu,language:()=>n,log:()=>e,login:()=>o,matrix:()=>Zi,media:()=>ra,messageArea:()=>_a,ns:()=>g,pad:()=>c,participation:()=>l,preferences:()=>u,style:()=>Se,table:()=>Gc,tabs:()=>p,utils:()=>t,widgets:()=>s});var e={};i.r(e),i.d(e,{LogLevel:()=>R,alert:()=>z,clear:()=>H,debug:()=>M,dumpHTML:()=>$,error:()=>U,escapeForXML:()=>G,info:()=>D,logAscending:()=>W,logDescending:()=>V,msg:()=>L,setInternals:()=>K,setLevel:()=>q,success:()=>B,warn:()=>j});var t={};i.r(t),i.d(t,{AJARImage:()=>Ye,RDFComparePredicateObject:()=>at,RDFComparePredicateSubject:()=>ot,addLoadEvent:()=>Ke,ancestor:()=>$e,beep:()=>je,clearVariableNames:()=>Le,emptyNode:()=>He,escapeForXML:()=>tt,findPos:()=>Je,genUuid:()=>De,getAbout:()=>We,getEyeFocus:()=>Qe,getTarget:()=>qe,getTerm:()=>Ve,hashColor:()=>Me,include:()=>Ge,label:()=>Q,labelForXML:()=>nt,labelWithOntology:()=>et,newVariableName:()=>Oe,ontologyLabel:()=>Ze,predParentOf:()=>st,predicateLabel:()=>it,predicateLabelForXML:()=>rt,shortName:()=>Xe,stackString:()=>ze,syncTableToArray:()=>Ue,syncTableToArrayReOrdered:()=>Be});var n={};i.r(n),i.d(n,{addDefaults:()=>_n,defaultPreferredLanguages:()=>kn,filterByLanguage:()=>Tn,getPreferredLanguages:()=>Sn,getPreferredLanguagesFor:()=>En,languageCodeURIBase:()=>xn});var r={};i.r(r),i.d(r,{AUTOCOMPLETE_LIMIT:()=>Rn,ESCOResultToBindings:()=>qn,bindingToTerm:()=>zn,dbPediaTypeMap:()=>jn,dbpediaParameters:()=>Ln,escoParameters:()=>On,fetcherOptionsJsonPublicData:()=>Nn,getDbpediaDetails:()=>sr,getWikidataDetails:()=>tr,getWikidataDetailsOld:()=>rr,getWikidataLocation:()=>ar,instituteDetailsWikidataQuery:()=>In,loadFromBindings:()=>Hn,loadPublicDataThing:()=>Zn,queryESCODataByName:()=>$n,queryPublicDataByName:()=>Gn,queryPublicDataConstruct:()=>Yn,queryPublicDataSelect:()=>Jn,variableNameToPredicateMap:()=>Bn,wikidataClasses:()=>Fn,wikidataIncomingClassMap:()=>Un,wikidataOutgoingClassMap:()=>Mn,wikidataParameters:()=>Dn});var o={};i.r(o),i.d(o,{ensureLoadedPreferences:()=>ci,ensureLoadedProfile:()=>pi,ensureLoggedIn:()=>li,filterAvailablePanes:()=>Ai,findAppInstances:()=>fi,getUserRoles:()=>Ci,loginStatusBox:()=>ki,newAppInstance:()=>Ei,registrationControl:()=>gi,registrationList:()=>yi,renderScopeHeadingRow:()=>bi,renderSignInPopup:()=>xi,scopeLabel:()=>mi,selectWorkspace:()=>_i});var s={};i.r(s),i.d(s,{Group:()=>ga,GroupBuilder:()=>va,GroupPicker:()=>ma,PeoplePicker:()=>ha,Person:()=>ba,addStyleSheet:()=>en,allClassURIs:()=>Gt,appendForm:()=>Or,askName:()=>Mt,attachmentList:()=>$t,basicField:()=>wn,buildCheckboxForm:()=>Gr,button:()=>Ot,cancelButton:()=>Lt,clearElement:()=>bt,complain:()=>vt,continueButton:()=>jt,createLinkDiv:()=>zt,createLinkForURI:()=>ft,createNameDiv:()=>Bt,defaultAnnotationStore:()=>Vt,deleteButtonWithCheck:()=>Nt,editFormButton:()=>Nr,errorMessageBlock:()=>lt,extractLogURI:()=>yt,faviconOrDefault:()=>It,field:()=>dn,fieldFunction:()=>hn,fieldLabel:()=>bn,fieldParams:()=>un,fieldStore:()=>yn,fileUploadButtonDiv:()=>an,findClosest:()=>jr,findImage:()=>Rt,findImageFromURI:()=>Tt,formatDateTime:()=>xt,formsFor:()=>Mr,iconForClass:()=>St,imagesOf:()=>Ct,index:()=>Zt,isAudio:()=>tn,isImage:()=>rn,isVideo:()=>nn,linkButton:()=>Jt,linkIcon:()=>dt,makeDescription:()=>Hr,makeDraggable:()=>Te,makeDropTarget:()=>Ae,makeSelectForCategory:()=>Wr,makeSelectForChoice:()=>Jr,makeSelectForClassifierOptions:()=>qr,makeSelectForNestedCategory:()=>Vr,makeSelectForOptions:()=>$r,mostSpecificClassURI:()=>fn,newButton:()=>Br,newThing:()=>Kr,openHrefInOutlineMode:()=>Wt,personTR:()=>Dt,promptForNew:()=>zr,propertiesForClass:()=>Lr,propertyTriage:()=>Kt,publicData:()=>r,refreshTree:()=>qt,removeButton:()=>Qt,renderAsDiv:()=>Ht,renderAsRow:()=>Ut,renderAutoComplete:()=>dr,renderAutocompleteControl:()=>yr,renderNameValuePair:()=>vn,selectorPanel:()=>Yt,selectorPanelRefresh:()=>Xt,setImage:()=>Ft,setName:()=>Et,setVisible:()=>pr,shortDate:()=>wt,shortTime:()=>_t,sortByLabel:()=>Ur,sortBySequence:()=>Dr,timestamp:()=>kt,uploadFiles:()=>Re});var l={};i.r(l),i.d(l,{manageParticipation:()=>zl,participationObject:()=>Ul,recordParticipation:()=>Bl,renderParticipants:()=>Dl});var c={};i.r(c),i.d(c,{getChunks:()=>Vl,lightColorHash:()=>$l,manageParticipation:()=>zl,notepad:()=>Wl,notepadToHTML:()=>Kl,participationObject:()=>Ul,recordParticipation:()=>Bl,renderParticipants:()=>Dl,xmlEncode:()=>Gl});var u={};i.r(u),i.d(u,{get:()=>Uc,getPreferencesForClass:()=>Wc,recordPersonalDefaults:()=>Hc,recordSharedPreferences:()=>zc,renderPreferencesForm:()=>qc,set:()=>Bc,value:()=>Dc});var p={};i.r(p),i.d(p,{TabWidgetElement:()=>eu,tabWidget:()=>nu});var d={};i.r(d);var f=i(386),h=i.n(f),m=i(264);const g=h()(m);function v(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){v(a,r,i,o,s,"next",e)}function s(e){v(a,r,i,o,s,"throw",e)}o(void 0)})}}var y=i(756),w=i.n(y),x=i(663),k=1,_=2,E=4,C=8,S=16,A=32,T=63,R=function(e){return e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Message=4]="Message",e[e.Success=8]="Success",e[e.Info=16]="Info",e[e.Debug=32]="Debug",e[e.All=63]="All",e}({}),P=k+_+E,F=!1,I=document,N=window;function O(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mesg";if(P&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:E)&&void 0!==I){var n=I.getElementById("status");if(!n)return;var r=I.createElement("span");r.setAttribute("class",t);var i=new Date;r.innerHTML="".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds()," [").concat(t,"] ").concat(G(e),"<br/>"),F?n.insertBefore(r,n.firstChild):n.appendChild(r)}}function L(e){O(e)}function j(e){O(e,_,"warn")}function M(e){O(e,A,"dbug")}function D(e){O(e,S,"info")}function U(e){O(e,k,"eror")}function B(e){O(e,C,"good")}function z(e){N&&void 0!==N.alert?N.alert(e):j(e)}function H(){var e,t=null===(e=I)||void 0===e?void 0:e.getElementById("status");t&&(t.innerHTML="")}function q(e){P=T,M("Log level is now "+e),P=e}function $(){var e;if(I){var t=P;P=T,M((null===(e=I)||void 0===e||null===(e=e.body)||void 0===e?void 0:e.innerHTML)||""),P=t}}function W(){F=!0}function V(){F=!1}function G(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function K(e,t){N=e,I=t}var J={log:e,ns:g,rdf:m};function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){return t?e.slice(0,1).toUpperCase()+e.slice(1):e}function r(e){var t="";"/"===e.slice(-1)&&(e=e.slice(0,-1));for(var r=0;r<e.length;r++)"_"!==e[r]&&"-"!==e[r]?(t+=e[r],r+1<e.length&&e[r].toUpperCase()!==e[r]&&e[r+1].toLowerCase()!==e[r+1]&&(t+=" ")):t+=" ";return"has "===t.slice(0,4)&&(t=t.slice(4)),n(t)}var i=function(e){return x.store.any(e,J.ns.ui("label"))||x.store.any(e,J.ns.link("message"))||x.store.any(e,J.ns.vcard("fn"))||x.store.any(e,J.ns.foaf("name"))||x.store.any(e,J.ns.dct("title"))||x.store.any(e,J.ns.dc("title"))||x.store.any(e,J.ns.rss("title"))||x.store.any(e,J.ns.contact("fullName"))||x.store.any(e,x.store.sym("http://www.w3.org/2001/04/roadmap/org#name"))||x.store.any(e,J.ns.cal("summary"))||x.store.any(e,J.ns.foaf("nick"))||x.store.any(e,J.ns.as("name"))||x.store.any(e,J.ns.schema("name"))||x.store.any(e,J.ns.rdfs("label"))||x.store.any(e,x.store.sym("http://www.w3.org/2004/02/skos/core#prefLabel"))}(e);if(i)return n(i.value);if("BlankNode"===e.termType)return"...";if("Collection"===e.termType)return"("+e.elements.length+")";var a=e.uri;if(void 0===a)return e.toString();try{a=a.split("/").map(decodeURIComponent).join("/")}catch(e){for(var o=a.length-3;o>0;o--)for(var s="0123456789abcefABCDEF";"%"===a[o]&&s.indexOf(a[o+1])>=0&&s.indexOf(a[o+2])>=0;)a=a.slice(0,o)+String.fromCharCode(parseInt(a.slice(o+1,o+3),16))+a.slice(o+3)}a=Y(a,"/profile/card#me"),a=Y(a,"#this");var l=(a=Y(a,"#me")).indexOf("#");if(l>=0)return r(a.slice(l+1));var c=a.lastIndexOf("/",a.length-2);return c>=0&&c<e.uri.length?r(a.slice(c+1)):n(decodeURIComponent(e.uri))}function Y(e,t){var n=-1*t.length;return e.slice(n)===t?e.slice(0,n):e}var X=i(423),Z=x.solidLogicSingleton.store;function ee(e,t,n,r){var i=g.acl,a="/"===e.uri.slice(-1),o=Z.each(void 0,i("default"),n,r).concat(Z.each(void 0,i("defaultForNew"),n,r)).reduce(function(t,n){return t.concat(Z.statementsMatching(n,g.rdf("type"),i("Authorization"),r)).concat(Z.statementsMatching(n,i("agent"),void 0,r)).concat(Z.statementsMatching(n,i("agentClass"),void 0,r)).concat(Z.statementsMatching(n,i("agentGroup"),void 0,r)).concat(Z.statementsMatching(n,i("origin"),void 0,r)).concat(Z.statementsMatching(n,i("originClass"),void 0,r)).concat(Z.statementsMatching(n,i("mode"),void 0,r)).concat((0,m.st)(n,i("accessTo"),e,r)).concat(a?(0,m.st)(n,i("default"),e,r):[])},[]),s=(0,m.graph)();return o.forEach(function(e){return s.add(l(e.subject),l(e.predicate),l(e.object),(0,m.sym)(t.uri))}),s;function l(e){var n=r.uri.length;return(0,m.sym)(e.uri.slice(0,n)===r.uri?t.uri+e.uri.slice(n):e.uri)}}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?function(t,n){return t.each(void 0,n.acl("default"),e).concat(t.each(void 0,n.acl("defaultForNew"),e))}(n,g):n.each(void 0,g.acl("accessTo"),e),i=g.acl,a={agent:{},agentClass:{},agentGroup:{},origin:{},originClass:{}};return Object.keys(a).forEach(function(e){r.forEach(function(t){n.each(t,i("mode")).forEach(function(r){n.each(t,i(e)).forEach(function(n){a[e][n.uri]=a[e][n.uri]||{},a[e][n.uri][r.uri]=t})})})}),a}function ne(e,t){var n=function(e,t){for(var n in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})if(e[n])for(var r in e[n])for(var i in e[n][r])if(!t[n][r]||!t[n][r][i])return!1;return!0};return n(e,t)&&n(t,e)}function re(e){for(var t,n,r=e[0],i=function(i){["agent","agentClass","agentGroup","origin","originClass"].forEach(function(a){if((t=e[i])[a])for(n in t[a])for(var o in t[a][n])r[a][n]||(r[a][n]=[]),r[a][n][o]=!0})},a=1;a<e.length;a++)i(a);return r}function ie(e,t){var n=[],r=function(e){e.length?de(e.shift().doc(),function(i,a,o,s,l,c){var u=!a;if(!i||!l||!c)return t(i,s);var p=u?te(l,c):te(o,s);n.push(p),r(e.slice(1))}):t(!0,re(n))};r(e)}function ae(e){var t={};return["agent","agentClass","agentGroup","origin","originClass"].forEach(function(n){for(var r in e[n]){var i=[];for(var a in e[n][r])i.push(a);i.sort();var o=i.join("\n");t[o]||(t[o]=[]),t[o].push([n,r])}}),t}function oe(e,t,n,r){return se(e,t,ae(n),r)}function se(e,t,n,r,i,a){var o=g.acl;for(var s in n){var l=n[s];if(l.length){var c=s.split("\n"),u=c.map(function(e){return e.split("#")[1]}).join("");a&&!i&&(u+="Default");var p=e.sym(r.uri+"#"+u);e.add(p,g.rdf("type"),o("Authorization"),r),i&&e.add(p,o("accessTo"),t,r),a&&e.add(p,o("default"),t,r);for(var d=0;d<c.length;d++)e.add(p,o("mode"),e.sym(c[d]),r);for(var f=0;f<l.length;f++){var h=l[f][0],m=l[f][1];e.add(p,o(h),e.sym(m),r)}}}}function le(e){var t="";for(var n in e){t+=n.split("\n").map(function(e){return e.split("#")[1][0]}).join("")+":";for(var r=e[n],i=0;i<r.length;i++){var a=r[i][0],o=(0,m.sym)(r[i][1]);t+="agent"===a?"@":"",t+=o.sameTerm(g.foaf("Agent"))?"*":Q(o),i<r.length-1&&(t+=",")}t+=";"}return"{"+t.slice(0,-1)+"}"}function ce(e,t,n,r,i){return ue(e,t,ae(n),r,i)}function ue(e,t,n,r,i){var a,o=(0,m.graph)();se(o,t,n,r,!0),null===(a=e.updater)||void 0===a||a.put(r,o.statementsMatching(void 0,void 0,void 0,r),"text/turtle",function(a,o,s){var l;o?(null===(l=e.fetcher)||void 0===l||l.unload(r),se(e,t,n,r,!0),e.fetcher.requested[r.uri]="done",i(o)):i(o,s)})}function pe(e,t,n,r){n=n||X.Rm;var i=e.doc();de(i,function(a,o,s,l,c,u){if(!a||!c||!u)return r(!1,l);var p=o?te(s,l):te(c,u);ie(t,function(t,a){if(!t)return r(!1,a);ne(a,p)?n("Nice - same ACL. no change "+Q(e)+" "+i):(n("Group ACLs differ for "+Q(e)+" "+i),ce(Z,s,a,l,r))})})}function de(e,t){fe(e,function(n,r,i,a){var o=g.acl;if(!n)return t(!1,!1,r,a);var s=function(n){"/"===n.slice(-1)&&(n=n.slice(0,-1));var r=n.lastIndexOf("/");if(n.indexOf("/",n.indexOf("//")+2)>r)return t(!1,!0,404,"Found no ACL resource");n=n.slice(0,r+1);var a=(0,m.sym)(n);fe(a,function(r,l,c){if(!r)return t(!1,!0,l,"( No ACL pointer ".concat(n," ").concat(l,")").concat(c));if(403===l)return t(!1,!0,l,"( default ACL file FORBIDDEN. Stop.".concat(n,")"));if(404===l)return s(n);if(200!==l)return t(!1,!0,l,"Error status '".concat(l,"' searching for default for ").concat(a));if(!Z.each(void 0,o("default"),Z.sym(n),c).concat(Z.each(void 0,o("defaultForNew"),Z.sym(n),c)).length)return s(n);var u=Z.sym(n);return t(!0,!1,e,i,u,c)})};return n?404!==r?403===r?t(!1,!1,r,"(Sharing not available to you)".concat(a)):200!==r?t(!1,!1,r,"Error ".concat(r," accessing Access Control information for ").concat(e,": ").concat(a)):t(!0,!0,e,i):void s(e.uri):t(!1,!1,r,"Error accessing Access Control information for ".concat(e,") ").concat(a))})}function fe(e,t){if(!Z.fetcher)throw new Error("kb has no fetcher");Z.fetcher.nowOrWhenFetched(e,void 0,function(n,r){if(!n)return t(n,"Can't get headers to find ACL for ".concat(e,": ").concat(r));var i=Z.any(e,x.ACL_LINK);if(i){if(!Z.fetcher)throw new Error("kb has no fetcher");if(Z.fetcher.nonexistent[i.value])return t(!0,404,i,"ACL file ".concat(i," does not exist."));Z.fetcher.nowOrWhenFetched(i,void 0,function(e,n,r){e?t(!0,200,i):t(!0,r.status,i,"Can't read Access Control File ".concat(i,": ").concat(n))})}else t(!1,900,"No Link rel=ACL header for ".concat(e))})}function he(e){return me.apply(this,arguments)}function me(){return(me=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){return de((0,m.sym)(t),function(r,i,a,o,s){return r?e(i?a:s):n(new Error("Error loading ".concat(t)))})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e){var t=function(e,t){if("object"!=ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ve(t)?t:t+""}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function we(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(e){if("string"==typeof e)return xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ee=i(49);const Ce={highlightColor:"#7C4DFF",formBorderColor:"#888888",formHeadingColor:"#888888",lowProfileLinkColor:"#3B5998",formFieldNameBoxWidth:"8em",mediaModuleCanvasWidth:"640",mediaModuleCanvasHeight:"480",textInputSize:20,tabBorderRadius:"0.2em",textInputBackgroundColor:"#eef",textInputBackgroundColorUneditable:"#fff",textInputColor:"#000",textInputColorPending:"#888",defaultErrorBackgroundColor:"#fee",participationDefaultBackground:"white",basicMaxLength:"4096"};var Se={checkboxStyle:"color: black; font-size: 100%; padding-left: 0.5 em; padding-right: 0.5 em;",checkboxInputStyle:"font-size: 150%; height: 1.2em; width: 1.2em; background-color: #eef; border-radius:0.2em; margin: 0.1em;",fieldLabelStyle:"color: #3B5998; text-decoration: none;",formSelectStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c; border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c; border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyleUneditable:"background-color: white; padding: 0.5em;  border: .05em solid white; border-radius:0.2em; font-size: 100%; margin:0.4em;",buttonStyle:"background-color: #fff; padding: 0.7em;  border: .01em solid white; border-radius:0.2em; font-size: 100%; margin: 0.3em;",commentStyle:"padding: 0.7em;  border: none; font-size: 100%; white-space: pre-wrap;",iconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 1em;",smallButtonStyle:"margin: 0.2em; width: 1em; height:1em;",classIconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 0.2em; border: 0.1em solid green; padding: 0.2em; background-color: #efe;",confirmPopupStyle:"padding: 0.7em; border-radius: 0.2em; border: 0.1em solid orange; background-color: white; box-shadow: 0.5em 0.9em #888;",messageBodyStyle:"white-space: pre-wrap; width: 99%; font-size:100%; border: 0.07em solid #eee; border-radius:0.2em; padding: .3em 0.5em; margin: 0.1em;",pendingeditModifier:"color: #bbb;",personaBarStyle:"width: 100%; height: 4em; background-color: #eee; vertical-align: middle;",searchInputStyle:"border: 0.1em solid #444; border-radius: 0.2em; width: 100%; font-size: 100%; padding: 0.1em 0.6em; margin 0.2em;",autocompleteRowStyle:"border: 0.2em solid straw;",signInAndUpButtonStyle:"padding: 1em; border-radius:0.2em; font-size: 100%;",headerBannerLoginInput:"margin: 0.75em 0 0.75em 0.5em !important; padding: 0.5em !important;",signUpBackground:"background-color: #eef;",signInBackground:"background-color: #efe;",heading1Style:"font-size: 180%; font-weight: bold; color: #888888; padding: 0.5em; margin: 0.7em 0.0m;",heading2Style:"font-size: 130%; font-weight: bold; color: #888888; padding: 0.4em; margin: 0.7em 0.0em;",heading3Style:"font-size: 120%; font-weight: bold; color: #888888; padding: 0.3em; margin: 0.7em 0.0em;",heading4Style:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em; margin: 0.7em 0.0em;",formHeadingStyle:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em;  margin: 0.7em 0.0em;",formTextInput:"font-size: 100%; margin: 0.1em; padding: 0.1em;",formGroupStyle:["padding-left: 0em; border: 0.0em solid ".concat(Ce.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.05em solid ".concat(Ce.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.1em solid ".concat(Ce.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.2em solid ".concat(Ce.formBorderColor,"; border-radius: 0.2em;")],formFieldLabelStyle:"color: ".concat(Ce.lowProfileLinkColor,"; text-decoration: none;"),formFieldNameBoxStyle:"padding: 0.3em; vertical-align: middle; width:".concat(Ce.formFieldNameBoxWidth,";"),multilineTextInputStyle:"font-size:100%; white-space: pre-wrap; background-color: #eef; border: 0.07em solid gray; padding: 1em 0.5em; margin: 1em 1em;",renderAsDivStyle:"display: flex; align-items: center; justify-content: space-between; height: 2.5em; padding: 1em;",imageDivStyle:"width:2.5em; padding:0.5em; height: 2.5em;",linkDivStyle:"width:2em; padding:0.5em; height: 4em;",aclControlBoxContainer:"margin: 1em;",aclControlBoxHeader:"font-size: 120%; margin: 0 0 1rem;",aclControlBoxStatus:"display: none; margin: 1rem 0;",aclControlBoxStatusRevealed:"display: block;",aclGroupContent:"maxWidth: 650;",accessGroupList:"display: grid; grid-template-columns: 1fr; margin: 1em; width: 100%;",accessGroupListItem:"display: grid; grid-template-columns: 100px auto 30%;",defaultsController:"display: flex;",defaultsControllerNotice:"color: #888; flexGrow: 1; fontSize: 80%;",bigButton:"background-color: white; border: 0.1em solid #888; border-radius: 0.3em; max-width: 50%; padding-bottom: 1em; padding-top: 1em;",group:"color: #888;",group1:"color: green;",group2:"color: #cc0;",group3:"color: orange;",group5:"color: red;",group9:"color: blue;",group13:"color: purple;",trustedAppAddApplicationsTable:"background-color: #eee;",trustedAppCancelButton:"float: right;",trustedAppControllerI:"border-color: orange; border-radius: 1em; border-width: 0.1em;",temporaryStatusInit:"background: green;",temporaryStatusEnd:"background: transparent; transition: background 5s linear;",headerUserMenuLink:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em;  width: 100%; text-decoration: none;",headerUserMenuLinkHover:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em;  width: 100%; text-decoration: none; background-image: linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%);",headerUserMenuTrigger:"background: none; border: 0; cursor: pointer; width: 60px; height: 60px;",headerUserMenuTriggerImg:"border-radius: 50%; height: 56px; width: 28px !important;",headerUserMenuButton:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em; width: 100%;",headerUserMenuButtonHover:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em; width: 100%; background-image: linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%);",headerUserMenuList:"list-style: none; margin: 0; padding: 0;",headerUserMenuListDisplay:"list-style: none; margin: 0; padding: 0; display:true;",headerUserMenuNavigationMenu:"background: white; border: solid 1px #000000; border-right: 0; position: absolute; right: 0; top: 60px; width: 200px; z-index: 1; display: true;",headerUserMenuNavigationMenuNotDisplayed:"background: white; border: solid 1px #000000; border-right: 0; position: absolute; right: 0; top: 60px; width: 200px; z-index: 1; display: none;",headerUserMenuListItem:"border-bottom: solid 1px #000000;",headerUserMenuPhoto:"border-radius: 50%; background-position: center; background-repeat: no-repeat; background-size: cover; height: 50px; width: 50px;",headerBanner:"box-shadow: 0px 1px 4px #000000; display: flex; justify-content: space-between; padding: 0 1.5em; margin-bottom: 4px;",headerBannerLink:"display: block;",headerBannerRightMenu:"display: flex;",headerBannerLogin:"margin-left: auto;",allChildrenVisible:"display:true;",headerBannerUserMenu:"border-left: solid 1px #000000; margin-left: auto;",headerBannerHelpMenu:"border-left: solid 1px #000000; margin-left: auto;",headerBannerIcon:"background-size: 65px 60px !important; height: 60px !important; width: 65px !important;",footer:"border-top: solid 1px $divider-color; font-size: 0.9em; padding: 0.5em 1.5em;",primaryButton:"background-color: #7c4dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",primaryButtonHover:"background-color: #9f7dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",primaryButtonNoBorder:"background-color: #ffffff; color: #7c4dff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",primaryButtonNoBorderHover:"background-color: #7c4dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",secondaryButton:"background-color: #01c9ea; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",secondaryButtonHover:"background-color: #37cde6; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",secondaryButtonNoBorder:"background-color: #ffffff; color: #01c9ea; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",secondaryButtonNoBorderHover:"background-color: #01c9ea; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",controlStyle:"border-radius: 0.5em; margin: 0.8em; width:".concat(Ce.mediaModuleCanvasWidth,"; height:").concat(Ce.mediaModuleCanvasHeight,";"),dragEvent:"background-color: #ccc; border: 0.25em dashed black; border-radius: 0.3em;",dropEvent:"background-color: white; border: 0em solid black;",restoreStyle:"background-color: white;",errorCancelButton:"width: 2em; height: 2em; align: right;",errorMessageBlockStyle:"margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; color:black;",notepadStyle:"padding: 1em; overflow: auto; resize: horizontal; min-width: 40em;",upstreamStatus:"width: 50%;",downstreamStatus:"width: 50%;",baseStyle:"font-size: 100%; font-family: monospace; width: 100%; border: none; white-space: pre-wrap;",headingCore:"font-family: sans-serif; font-weight: bold;  border: none;",headingStyle:["font-size: 110%; padding-top: 0.5em; padding-bottom: 0.5em; width: 100%;","font-size: 120%; padding-top: 1em; padding-bottom: 1em; width: 100%;","font-size: 150%; padding-top: 1em; padding-bottom: 1em; width: 100%;"],participantsStyle:"margin: 0.8em;",participantsBlock:"height: 1.5em; width: 1.5em; margin: 0.3em; border 0.01em solid #888;",personTableTD:"vertical-align: middle;",tabsNavElement:"margin: 0;",tabsRootElement:"display: flex; height: 100%; width: 100%;",tabsMainElement:"margin: 0; width:100%; height: 100%;",tabContainer:"list-style-type: none; display: flex; height: 100%; width: 100%; margin: 0; padding: 0;",makeNewSlot:"background: none; border: none; font: inherit; cursor: pointer;",ellipsis:"position: absolute; right: 0; bottom: 0; width: 20%; background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;"};function Ae(e,t,n){var r=function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},i=function(e){X.Rm("dragenter event dropEffect: "+e.dataTransfer.dropEffect),this.localStyle&&(this.savedStyle||(this.savedStyle=Se.dragEvent)),e.dataTransfer.dropEffect="link",X.Rm("dragenter event dropEffect 2: "+e.dataTransfer.dropEffect)},a=function(e){X.Rm("dragleave event dropEffect: "+e.dataTransfer.dropEffect),this.savedStyle?this.localStyle=this.savedStyle:this.localStyle=Se.dropEvent},o=function(e){e.preventDefault&&e.preventDefault(),X.Rm("Drop event. dropEffect: "+e.dataTransfer.dropEffect),X.Rm("Drop event. types: "+(e.dataTransfer.types?e.dataTransfer.types.join(", "):"NOPE"));var r,i=null;if(e.dataTransfer.types){for(var a=0;a<e.dataTransfer.types.length;a++){var o=e.dataTransfer.types[a];if("text/uri-list"===o)i=e.dataTransfer.getData(o).split("\n"),X.Rm("Dropped text/uri-list: "+i);else if("text/plain"===o)r=e.dataTransfer.getData(o);else if("Files"===o&&n){for(var s=e.dataTransfer.files,l=0;s[l];l++){var c=s[l];X.Rm("Filename: "+c.name+", type: "+(c.type||"n/a")+" size: "+c.size+" bytes, last modified: "+(c.lastModifiedDate?c.lastModifiedDate.toLocaleDateString():"n/a"))}n(s)}}null===i&&r&&"http"===r.slice(0,4)&&(i=r,X.Rm("Waring: Poor man's drop: using text for URI"))}else i=[e.dataTransfer.getData("Text")],X.Rm("WARNING non-standard drop event: "+i[0]);return X.Rm("Dropped URI list (2): "+i),i&&t(i),this.localStyle=Se.restoreStyle,!1};!function(e){e||X.Rm("@@@ addTargetListeners: ele "+e),e.addEventListener("dragover",r),e.addEventListener("dragenter",i),e.addEventListener("dragleave",a),e.addEventListener("drop",o)}(e)}function Te(e,t){e.setAttribute("draggable","true"),e.addEventListener("dragstart",function(n){e.style.fontWeight="bold",n.dataTransfer.setData("text/uri-list",t.uri),n.dataTransfer.setData("text/plain",t.uri),n.dataTransfer.setData("text/html",e.outerHTML),X.Rm("Dragstart: "+e+" -> "+t+"de: "+n.dataTransfer.dropEffect)},!1),e.addEventListener("drag",function(e){e.preventDefault(),e.stopPropagation()},!1),e.addEventListener("dragend",function(n){e.style.fontWeight="normal",X.Rm("Dragend dropeffect: "+n.dataTransfer.dropEffect),X.Rm("Dragend: "+e+" -> "+t)},!1)}function Re(e,t,n,r,i){for(var a=0;t[a];a++){var o=t[a];X.Rm(" dropped: Filename: "+o.name+", type: "+(o.type||"n/a")+" size: "+o.size+" bytes, last modified: "+(o.lastModifiedDate?o.lastModifiedDate.toLocaleDateString():"n/a"));var s=new FileReader;s.onload=function(t){return function(a){var o=a.target.result,s="";X.Rm(" File read byteLength : "+o.byteLength);var l=t.type;if(t.type&&""!==t.type){var c=Ee.extension(t.type);c&&"false"!==c&&!t.name.endsWith("."+c)&&t.type!==Ee.lookup(t.name)&&(s="_."+c)}else if(!(l=Ee.lookup(t.name))){var u="Filename needs to have an extension which gives a type we know: "+t.name;throw X.Rm(u),alert(u),new Error(u)}var p=t.type.startsWith("image/")&&r||n,d=p+(p.endsWith("/")?"":"/")+encodeURIComponent(t.name)+s;e.webOperation("PUT",d,{data:o,contentType:l}).then(function(e){X.Rm(" Upload: put OK: "+d),i(t,d)},function(e){var t=" Upload: FAIL "+d+", Error: "+e;throw X.Rm(t),alert(t),new Error(t)})}}(o),s.readAsArrayBuffer(o)}}Se.setStyle=function(e,t){e.style=Se[t]};var Pe,Fe=i(378),Ie={log:e,ns:g,rdf:m},Ne=0;function Oe(){return"v"+Ne++}function Le(){Ne=0}function je(){if(Pe){var e=new Pe;return function(t,n,r,i){t=+(t||.3),r=r||"sine","function"!=typeof i&&(i=function(){});var a=e.createOscillator();a.type=r,a.frequency.value=n||256,a.connect(e.destination),a.start(0),a.stop(t)}}}function Me(e){var t;return e=e.uri||e,"#"+(16777215&(t=e,t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0))|12632256).toString(16)}function De(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Ue(e,t,n){var r,i,a;for(a=0;a<e.children.length;a++)(i=e.children[a]).trashMe=!0;for(var o=0;o<t.length;o++){var s=t[o];for(r=!1,a=0;a<e.children.length;a++)if((i=e.children[a]).subject&&i.subject.sameTerm(s)){i.trashMe=!1,r=!0;break}if(!r){var l=n(s);if(o>=e.children.length)e.appendChild(l);else{var c=e.children[o];e.insertBefore(l,c)}l.subject=s}}for(a=0;a<e.children.length;a++)(i=e.children[a]).trashMe&&e.removeChild(i)}function Be(e,t,n){for(var r={},i=0;i<e.children.length;i++){var a=e.children[i];r[a.subject.toNT()]=a}for(var o=0;o<t.length;o++){var s=t[o];if(o>=e.children.length){var l=n(s);l.subject=s,e.appendChild(l)}else{var c=e.children[o];if(c.subject.sameTerm(s));else{var u=r[s.toNT()];if(u)e.removeChild(u),e.insertBefore(u,c);else{var p=n(s);c.before(p),p.subject=s}}}}for(;e.children.length>t.length;)e.removeChild(e.children[e.children.length-1])}function ze(e){var t,n=e+"\n";if(!e.stack)return n+"No stack available.\n";var r=e.stack.toString().split("\n"),i=[];for(t=0;t<r.length;t++){var a=r[t];if(a.indexOf("ecmaunit.js")>-1)break;"("===a.charAt(0)&&(a="function"+a);var o=a.split("@");i.push(o)}for(t=0;t<i.length;t++)n+="  "+i[t][1]+"\n    "+i[t][0];return n}function He(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--)e.removeChild(t[n]);return e}function qe(e){var t;return(e=e||window.event).target?t=e.target:e.srcElement&&(t=e.srcElement),3===t.nodeType&&(t=t.parentNode),t}function $e(e,t){var n;for(n=e;n;n=n.parentNode)try{if(n.tagName===t)return n}catch(e){return}}function We(e,t){var n,r;for(n=t;n&&1===n.nodeType;n=n.parentNode)if(r=n.getAttribute("about"))return e.fromNT(r);Ie.log.debug("getAbout: No about found")}function Ve(e){var t=e.parentNode,n=t?t.AJAR_statement:void 0;switch(n?e.className:""){case"pred":case"pred selected":return n.predicate;case"obj":case"obj selected":return t.AJAR_inverse?n.subject:n.object;case"":case"selected":return We(x.store,e);case"undetermined selected":return e.nextSibling?n.predicate:t.AJAR_inverse?n.subject:n.object}}function Ge(e,t){var n=e.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n}function Ke(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}}function Je(e){var t=e.ownerDocument.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return[n.left-t.left,n.top-t.top]}function Qe(e,t,n,r){r||(r=window);var i=Je(e)[1],a=window.SolidAppContext||{},o=i-(a&&a.scroll||52)-r.scrollY;if(t)return n?void r.scrollBy(0,i+e.clientHeight-(r.scrollY+r.innerHeight)):void r.scrollBy(0,o);var s=r.setInterval(function(){r.scrollBy(0,o/10),10===++l&&r.clearInterval(s)},50),l=0}function Ye(e,t,n,r){r||(r=document);var i=r.createElement("img");return i.setAttribute("src",e),i.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",""),e.clipboardData.setData("text/html",""),e.preventDefault()}),void 0!==n&&i.setAttribute("title",n),i}function Xe(e){var t=e;"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var n,r=[];for(var i in this.prefixes)r[this.prefixes[i]]=i;var a,o=function(e){return"ns"!==e&&(n=e,!0)},s=t.lastIndexOf("#");for(s>=0&&(t=t.slice(s-1));;){var l=t.lastIndexOf("/");for(l>=0&&(t=t.slice(l+1)),a=0;a<t.length&&this.prefixchars.indexOf(t[a]);)a++;if((t=t.slice(0,a)).length<6&&o(t))return n;if(o(t.slice(0,3)))return n;if(o(t.slice(0,2)))return n;if(o(t.slice(0,4)))return n;if(o(t.slice(0,1)))return n;if(o(t.slice(0,5)))return n;for(a=0;;a++)if(o(t.slice(0,3)+a))return n}}function Ze(e){if(void 0===e.uri)return"??";var t,n=e.uri,r=[],i=n.lastIndexOf("#");if(i>=0)n=n.slice(0,i+1);else{if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"?!";n=n.slice(0,i+1)}for(var a in Ie.ns)r[Ie.ns[a]]=a;try{return r[n]}catch(e){}for(n=n.slice(0,-1);n;){if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"!?";if(t=n.slice(i+1),n=n.slice(0,i),"ns"!==t&&"0123456789".indexOf(t[0])<0)return t}}function et(e,t){var n=x.store.findTypeURIs(e);return n[Ie.ns.rdf("Predicate").uri]||n[Ie.ns.rdfs("Class").uri]?Q(e,t)+" ("+Ze(e)+")":Q(e,t)}function tt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}function nt(e){return tt(Q(e))}function rt(e,t){return tt(it(e,t))}function it(e,t){var n=Q(e);if(t){var r=x.store.any(e,Ie.ns.owl("inverseOf"))||x.store.any(void 0,Ie.ns.owl("inverseOf"),e);return r?Q(r):"type"===n?"...":"is "+n+" of"}return n}function at(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.object.compareTerm(t.object)}function ot(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.subject.compareTerm(t.subject)}function st(e){for(var t=e;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return Ie.log.error("Could not find predParent"),e;t=t.previousSibling}}function lt(e,t,n,r){var i=e.createElement("div"),a=r||t instanceof Error?t:null;return i.textContent=a?a.message:t,i.appendChild(Lt(e,function(){i.parentNode&&i.parentNode.removeChild(i)})).style=Se.errorCancelButton,i.setAttribute("style",Se.errorMessageBlockStyle),i.style.backgroundColor=n||Ce.defaultErrorBackgroundColor,i}"undefined"!=typeof AudioContext?Pe=AudioContext:"undefined"!=typeof window&&(Pe=window.AudioContext||window.webkitAudioContext);var ct=function(e,t,n){var r=e.createElement("tr");return r.appendChild(e.createElement("td")).appendChild(t),r.subject=n,r},ut=function(e,t){e.addEventListener("click",t)},pt=function(e,t,n){var r=t.appendChild(e.createElement("div"));r.setAttribute("style",Se.imageDivStyle),r.appendChild(n),n.setAttribute("draggable","false")};function dt(e,t,n){var r=e.createElement("a");r.setAttribute("href",t.uri),t.uri.startsWith("http")&&r.setAttribute("target","_blank");var i=r.appendChild(e.createElement("img"));return i.setAttribute("src",n||Fe.i1+"go-to-this.png"),i.setAttribute("style","margin: 0.3em;"),r}var ft=function(e,t,n){var r=dt(e,n);t.appendChild(r).classList.add("HoverControlHide"),t.appendChild(e.createElement("br"))},ht=Fe.Pt.iconBase,mt=ht+"noun_1180156.svg",gt=ht+"noun_1180158.svg";function vt(e,t){if(t){var n=function(e){var t=e&&e.statusArea||e&&e.div||null;if(t)return t;var n=e&&e.dom;if(n||"undefined"==typeof document||(n=document),n){var r=n.getElementsByTagName("body")[0];return t=n.createElement("div"),r.insertBefore(t,r.firstElementChild),e&&(e.statusArea=t),t}return null}(e);X.Rm("Complaint: "+t),n?n.appendChild(lt(e&&e.dom||document,t)):alert(t)}}function bt(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function yt(e){var t=e.search(/logFile=/),n=e.search(/&rulesFile=/);return e.substring(t+8,n)}function wt(e,t){if(!e)return"???";try{var n=(new Date).toISOString();return e.slice(0,10)!==n.slice(0,10)||t?e.slice(0,4)===n.slice(0,4)?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e.slice(5,7),10)-1]+" "+parseInt(e.slice(8,10),10):e.slice(0,10):e.slice(11,16)}catch(e){return"shortdate:"+e}}function xt(e,t){return t.split("{").map(function(t){var n=t.split("}")[0];return t?("000"+(e["get"+n]()+({Month:1}[n]||0))).slice(-({Milliseconds:3,FullYear:4}[n]||2))+t.split("}")[1]:""}).join("")}function kt(){return xt(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}")}function _t(){return xt(new Date,"{Hours}:{Minutes}:{Seconds}.{Milliseconds}")}function Et(e,t){var n=x.store,r=function(e){var t=n.any(e,g.vcard("fn"))||n.any(e,g.foaf("name"))||n.any(e,g.vcard("organization-name"));return t?t.value:null},i=t.sameTerm(g.foaf("Agent"))?"Everyone":r(t);if(e.textContent=i||Q(t),!i&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,function(n){e.textContent=r(t)||Q(t)})}}function Ct(e,t){return t.each(e,g.sioc("avatar")).concat(t.each(e,g.foaf("img"))).concat(t.each(e,g.vcard("logo"))).concat(t.each(e,g.vcard("hasPhoto"))).concat(t.each(e,g.vcard("photo"))).concat(t.each(e,g.foaf("depiction")))}var St={"solid:AppProviderClass":"noun_144.svg","solid:AppProvider":"noun_15177.svg","solid:Pod":"noun_Cabinet_1434380.svg","vcard:Group":"noun_339237.svg","vcard:Organization":"noun_143899.svg","vcard:Individual":"noun_15059.svg","schema:Person":"noun_15059.svg","foaf:Person":"noun_15059.svg","foaf:Agent":"noun_98053.svg","acl:AuthenticatedAgent":"noun_99101.svg","prov:SoftwareAgent":"noun_Robot_849764.svg","vcard:AddressBook":"noun_15695.svg","trip:Trip":"noun_581629.svg","meeting:LongChat":"noun_1689339.svg","meeting:Meeting":"noun_66617.svg","meeting:Project":"noun_1036577.svg","ui:Form":"noun_122196.svg","rdfs:Class":"class-rectangle.svg","rdf:Property":"property-diamond.svg","owl:Ontology":"noun_classification_1479198.svg","wf:Tracker":"noun_122196.svg","wf:Task":"noun_17020_gray-tick.svg","wf:Open":"noun_17020_sans-tick.svg","wf:Closed":"noun_17020.svg"};function At(e){var t=e.uri.split("#")[0],n=t.indexOf("//");if(n<0)throw new Error("This URI does not have a web site part (origin)");var r=t.indexOf("/",n+2);return r<0?t.slice(0)+"/":t.slice(0,r+1)}function Tt(e){var t=ht;return"string"!=typeof e&&e.uri?4!==e.uri.split("/").length||e.uri.split("/")[1]||e.uri.split("/")[3]?e.uri.startsWith("message:")||e.uri.startsWith("mid:")?t+"noun_480183.svg":e.uri.startsWith("mailto:")?t+"noun_567486.svg":e.uri.startsWith("https:")&&e.uri.indexOf("#")<0?At(e)+"favicon.ico":null:t+"noun_15177.svg":t+"noun_10636_grey.svg"}function Rt(e){var t=x.store,n=ht;if(e.sameTerm(g.foaf("Agent"))||e.sameTerm(g.rdf("Resource")))return n+"noun_98053.svg";var r=t.any(e,g.sioc("avatar"))||t.any(e,g.foaf("img"))||t.any(e,g.vcard("logo"))||t.any(e,g.vcard("hasPhoto"))||t.any(e,g.vcard("photo"))||t.any(e,g.foaf("depiction"));return r?r.uri:null}function Pt(e,t,n){var r=x.store,i=Rt(t);if(i)return e.setAttribute("src",i),!0;var a=n[t.uri];if(a)return e.setAttribute("src",a),e.style=Se.classIconStyle,!0;var o=Tt(t);if(o)return e.setAttribute("src",o),!0;var s=r.findTypeURIs(t);for(var l in s)if(n[l])return e.setAttribute("src",n[l]),!1;return e.setAttribute("src",ht+"noun_10636_grey.svg"),!1}function Ft(e,t){var n=x.store,r={};for(var i in St){var a=i.split(":")[0],o=i.split(":")[1],s=g[a](o);r[s.uri]=m.uri.join(St[i],ht)}if(!Pt(e,t,r)&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,function(n){n&&Pt(e,t,r)})}}function It(e,t){var n=e.createElement("img");if(n.style=Se.iconStyle,n.setAttribute("src",ht+(function(e){if(!e.uri)return!1;var t=e.uri.split("/");return 3===t.length||4===t.length&&""===t[3]}(t)?"noun_15177.svg":"noun_681601.svg")),t.uri&&t.uri.startsWith("https:")&&t.uri.indexOf("#")<0){var r=e.createElement("object");return r.setAttribute("data",At(t)+"favicon.ico"),r.setAttribute("type","image/x-icon"),r.appendChild(n),r}return Ft(n,t),n}function Nt(e,t,n,r){var i=ht+"noun_2188_red.svg",a=e.createElement("img");a.setAttribute("src",i),a.setAttribute("style",Se.smallButtonStyle),a.style.float="right";var o="Remove this "+n;return a.title=o,a.classList.add("hoverControlHide"),a.addEventListener("click",function(){var n=e.createElement("div");t.insertBefore(n,a),n.style.position="relative",n.appendChild(function(e,t,n,r){function i(){t.parentElement.removeChild(t)}function a(){i(),r()}var o=e.createElement("div");o.style=Se.confirmPopupStyle,o.style.position="absolute",o.style.top="-1em",o.style.display="grid",o.style.gridTemplateColumns="auto auto";var s=e.createElement("div");s.style.gridColumn="1/2",s.style.gridRow="1";var l=e.createElement("div");l.style.gridColumn="1/2",l.style.gridRow="2";var c=Lt(e,i);o.appendChild(c),c.style.gridColumn="1",c.style.gridRow="2";var u=o.appendChild(e.createElement("button"));u.style=Se.buttonStyle,u.style.gridRow="2",u.style.gridColumn="2",u.textContent="Cancel";var p=Ot(e,Fe.Pt.iconBase+"noun_925021.svg","Delete it");o.appendChild(p),p.style.gridRow="1",p.style.gridColumn="1";var d=o.appendChild(e.createElement("button"));return d.style=Se.buttonStyle,d.style.gridRow="1",d.style.gridColumn="2",d.textContent=n,o.appendChild(d),p.addEventListener("click",a),d.addEventListener("click",a),u.addEventListener("click",i),o}(e,n,o,r))}),t.classList.add("hoverControl"),t.appendChild(a),a.setAttribute("data-testid","deleteButtonWithCheck"),a}function Ot(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{buttonColor:"Primary",needsBorder:!1},a=e.createElement("button");if(a.setAttribute("type","button"),t){var o=a.appendChild(e.createElement("img"));o.setAttribute("src",t),o.setAttribute("style","width: 2em; height: 2em;"),o.title=n,a.setAttribute("style",Se.buttonStyle)}else a.textContent=n.toLocaleUpperCase(),a.onmouseover=function(){"Secondary"===i.buttonColor?i.needsBorder?a.setAttribute("style",Se.secondaryButtonNoBorderHover):a.setAttribute("style",Se.secondaryButtonHover):i.needsBorder?a.setAttribute("style",Se.primaryButtonNoBorderHover):a.setAttribute("style",Se.primaryButtonHover)},a.onmouseout=function(){"Secondary"===i.buttonColor?i.needsBorder?a.setAttribute("style",Se.secondaryButtonNoBorder):a.setAttribute("style",Se.secondaryButton):i.needsBorder?a.setAttribute("style",Se.primaryButtonNoBorder):a.setAttribute("style",Se.primaryButton)},"Secondary"===i.buttonColor?i.needsBorder?a.setAttribute("style",Se.secondaryButtonNoBorder):a.setAttribute("style",Se.secondaryButton):i.needsBorder?a.setAttribute("style",Se.primaryButtonNoBorder):a.setAttribute("style",Se.primaryButton);return r&&a.addEventListener("click",r,!1),a}function Lt(e,t){var n=Ot(e,mt,"Cancel",t);return n.firstChild&&(n.firstChild.style.opacity="0.3"),n}function jt(e,t){return Ot(e,gt,"Continue",t)}function Mt(e,t,n,r,i,a){return new Promise(function(t,o){var s=e.createElement("div");r=r||g.foaf("name");var l=(a=a||(i?Q(i):"  "))+" "+Q(r)+": ";s.appendChild(e.createElement("p")).textContent=l;var c=e.createElement("input");function u(){s.parentNode.removeChild(s),t(c.value.trim())}c.setAttribute("type","text"),c.setAttribute("size","100"),c.setAttribute("maxLength","2048"),c.setAttribute("style",Se.textInputStyle),c.select(),s.appendChild(c),n.appendChild(s),c.addEventListener("keyup",function(e){13===e.keyCode&&u()},!1),s.appendChild(e.createElement("br")),s.appendChild(Lt(e,function(e){s.parentNode.removeChild(s),t(null)})),s.appendChild(jt(e,function(e){u()})),c.focus()})}var Dt=Ut;function Ut(e,t,n,r){var i=e.createElement("tr");r=r||{};var a=i.appendChild(e.createElement("td")),o=i.appendChild(e.createElement("td")),s=i.appendChild(e.createElement("td")),l=r.image||It(e,n);return a.setAttribute("style","vertical-align: middle; width:2.5em; padding:0.5em; height: 2.5em;"),o.setAttribute("style","vertical-align: middle; text-align:left;"),s.setAttribute("style","vertical-align: middle; width:2em; padding:0.5em; height: 4em;"),a.appendChild(l),r.title?o.textContent=r.title:Et(o,n),r.deleteFunction&&Nt(e,s,r.noun||"one",r.deleteFunction),n.uri&&(!1!==r.link&&(s.appendChild(dt(e,n)).classList.add("HoverControlHide"),s.appendChild(e.createElement("br"))),!1!==r.draggable&&(l.setAttribute("draggable","false"),Te(i,n))),i.subject=n,i}function Bt(e,t,n,r){var i=t.appendChild(e.createElement("div"));n?i.textContent=n:Et(i,r)}function zt(e,t,n,r){var i=t.appendChild(e.createElement("div"));i.setAttribute("style",Se.linkDivStyle),r.deleteFunction&&Nt(e,i,r.noun||"one",r.deleteFunction),n.uri&&(!1!==r.link&&ft(e,i,n),Te(t,n))}function Ht(e,t,n){var r=e.createElement("div");r.setAttribute("style",Se.renderAsDivStyle);var i=(n=n||{}).image||It(e,t);return pt(e,r,i),Bt(e,r,n.title,t),zt(e,r,t,n),n.clickable&&n.onClickFunction&&ut(r,n.onClickFunction),n.wrapInATR?ct(e,r,t):r}function qt(e){if(e.refresh)e.refresh();else for(var t=0;t<e.children.length;t++)qt(e.children[t])}function $t(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function i(n){var r=n,i={noun:d};return c&&(i.deleteFunction=function(){!function(e){if(!f.updater)throw new Error("kb has no updater");f.updater.update((0,m.st)(t,p,e,l),[],function(e,t,n,r){t?a():vt(void 0,"Error deleting one: "+n)})}(r)}),Dt(e,p,n,i)}var a=function(){var e=f.each(t,p);e.sort(),Ue(y,e,i)};function o(e){var n=[];if(e.forEach(function(e){var r=(0,m.sym)(e);X.Rm("Dropped on attachemnt "+e),n.push((0,m.st)(t,p,r,l))}),!f.updater)throw new Error("kb has no updater");f.updater.update([],n,function(e,t,n,r){t?a():vt(void 0,"Error adding one: "+n)})}function s(e){var n,i;Re(f.fetcher,e,null===(n=r.uploadFolder)||void 0===n?void 0:n.uri,null===(i=r.uploadFolder)||void 0===i?void 0:i.uri,function(e,n){var r=[(0,m.st)(t,p,f.sym(n),l)];if(!f.updater)throw new Error("kb has no updater");f.updater.update([],r,function(e,t,n,r){t?a():vt(void 0,"Error adding link to uploaded file: "+n)})})}var l=r.doc||t.doc();void 0===r.modify&&(r.modify=!0);var c=r.modify,u=r.promptIcon||ht+"noun_748003.svg",p=r.predicate||g.wf("attachment"),d=r.noun||"attachment",f=x.store,h=n.appendChild(e.createElement("table"));h.setAttribute("style","margin-top: 1em; margin-bottom: 1em;");var v=h.appendChild(e.createElement("tr")),b=v.appendChild(e.createElement("td")),y=v.appendChild(e.createElement("td")).appendChild(e.createElement("table"));if(y.appendChild(e.createElement("tr")),h.refresh=a,a(),c){var w=Ot(e,u,"Drop attachments here");b.appendChild(w);var k=r.uploadFolder?s:null;if(Ae(w,o,k),Ae(b,o,k),r.uploadFolder){var _=an(e,s);b.appendChild(_)}}return h}function Wt(e){e.preventDefault(),e.stopPropagation();var t=qe(e).getAttribute("href");if(!t)return X.Rm("openHrefInOutlineMode: No href found!\n");var n=window.document;n.outlineManager?n.outlineManager.GotoSubject(x.store.sym(t),!0,void 0,!0,void 0):window&&window.panes&&window.panes.getOutliner?window.panes.getOutliner().GotoSubject(x.store.sym(t),!0,void 0,!0,void 0):X.Rm("ERROR: Can't access outline manager in this config")}function Vt(e){if(void 0!==e.uri){var t=e.uri;if("http://"===t.slice(0,7)){var n=(t=t.slice(7)).indexOf("#");if(n>=0)t=t.slice(0,n);else{var r=t.lastIndexOf("/");if(r<0)return;t=t.slice(0,r)}return x.store.sym("http://tabulator.org/wiki/annnotation/"+t)}}}function Gt(){var e={};return x.store.statementsMatching(void 0,g.rdf("type"),void 0).forEach(function(t){t.object.value&&(e[t.object.value]=!0)}),x.store.statementsMatching(void 0,g.rdfs("subClassOf"),void 0).forEach(function(t){t.object.value&&(e[t.object.value]=!0),t.subject.value&&(e[t.subject.value]=!0)}),x.store.each(void 0,g.rdf("type"),g.rdfs("Class")).forEach(function(t){t.value&&(e[t.value]=!0)}),e}function Kt(e){var t={},n={},r={},i=0,a=0,o=0,s=e.predicateIndex;for(var l in s)"Literal"===s[l][0].object.termType?(n[l]=!0,a++):(r[l]=!0,i++);for(var c=e.each(void 0,g.rdf("type"),g.rdf("Property")),u=0;u<c.length;u++){var p=c[u].toNT();r[p]||n[p]||(n[p]=!0,r[p]=!0,o++)}return t.op=r,t.dp=n,D("propertyTriage: ".concat(i," non-lit, ").concat(a," literal. ").concat(o," unknown.")),t}function Jt(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="Goto "+Q(t),n.addEventListener("click",function(n){e.outlineManager.GotoSubject(t,!0,void 0,!0,void 0)},!0),n}function Qt(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="✕",n.addEventListener("click",function(e){t.parentNode.removeChild(t)},!0),n}function Yt(e,t,n,r,i,a,o,s,l){return Xt(e.createElement("div"),e,t,n,r,i,a,o,s,l)}function Xt(e,t,n,r,i,a,o,s,l,c){var u="border: 0.1em solid #ddd; border-bottom: none; width: 95%; height: 2em; padding: 0.5em;",p=null;e.innerHTML="";for(var d=function(e,o){var d,f,h=function(){var e=a?n.each(void 0,i,o):n.each(o,i);b.setAttribute("class",0===e.length?"hideTillHover":""),f.setAttribute("src",s.connectIcon||ht+"noun_25830.svg"),f.setAttribute("title",e.length?e.length:"attach")},m=Zt.twoLine.widgetForClass(r);(d=m(t,o)).setAttribute("style",u);var g=t.createElement("div");g.setAttribute("class","hideTillHover"),g.setAttribute("style","float:right; width:10%");var v=t.createElement("a");v.setAttribute("href",o.uri),v.setAttribute("style","float:right"),g.appendChild(v).textContent=">",e.appendChild(g);var b=t.createElement("div");return b.setAttribute("style",(a?"float:left;":"float:right;")+" width:30px;"),f=t.createElement("img"),h(),b.appendChild(f),e.appendChild(b),d.addEventListener("click",function(e){p===d?(d.setAttribute("style",u),p=null):(p&&p.setAttribute("style",u),d.setAttribute("style",u+"background-color: #ccc; color:black;"),p=d),l(o,e,p===d),h()},!1),f.addEventListener("click",function(e){c(o,e,a,h)},!1),e.appendChild(d),e},f=0;f<o.length;f++){var h=t.createElement("div");e.appendChild(h),d(h,o[f])}return e}var Zt={};function en(e,t){for(var n=e.querySelectorAll("link"),r=0;r<n.length;r++)if("stylesheet"===(n[r].getAttribute("rel")||"")&&(n[r].getAttribute("href")||"")===t)return;var i=e.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),e.getElementsByTagName("head")[0].appendChild(i)}function tn(e){return rn(e,"audio")}function nn(e){return rn(e,"video")}function rn(e,t){var n=t||"image",r=x.store.findTypeURIs(e),i=m.Util.mediaTypeClass(n+"/*").uri.split("*")[0];for(var a in r)if(a.startsWith(i))return!0;return{audio:"http://purl.org/dc/dcmitype/Sound",image:"http://purl.org/dc/dcmitype/Image",video:"http://purl.org/dc/dcmitype/MovingImage"}[n]in r}function an(e,t){var n=e.createElement("div"),r=n.appendChild(e.createElement("input"));return r.setAttribute("type","file"),r.setAttribute("multiple","true"),r.addEventListener("change",function(e){X.Rm("File drop event: ",e),e.files?t(e.files):e.target&&e.target.files?t(e.target.files):alert("Sorry no files .. internal error?")},!1),r.style="display:none",Ae(n.appendChild(Ot(e,ht+"noun_Upload_76574_000000.svg","Upload files",function(e){r.click()})),null,t),n}function on(e,t,n){return(t=be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Zt={line:{},twoLine:{"":function(e,t){var n=e.createElement("div");return n.textContent=Q(t),n},"http://www.w3.org/2000/10/swap/pim/qif#Transaction":function(e,t){var n="",r=function(e){var r=x.store.any(t,g.qu(e));return r||(n+="@@ No value for "+e+"! "),r?tt(r.value):"?"},i=e.createElement("table");return i.innerHTML='\n      <tr>\n      <td colspan="2"> '.concat(r("payee"),"</td>\n      < /tr>\n      < tr >\n      <td>").concat(r("date").slice(0,10),'</td>\n      <td style = "text-align: right;">').concat(r("amount"),"</td>\n      </tr>"),n&&(i.innerHTML='\n      <tr>\n        <td><a href="'.concat(tt(t.uri),'">').concat(tt(n),"</a></td>\n      </tr>")),i},"http://www.w3.org/ns/pim/trip#Trip":function(e,t){var n=function(e){var n=x.store.any(t,e);return n?tt(n.value):"?"},r=e.createElement("table");return r.innerHTML='\n    <tr>\n      <td colspan="2">'.concat(n(g.dc("title")),'</td>\n    </tr>\n    <tr style="color: #777">\n      <td>').concat(n(g.cal("dtstart")),"</td>\n      <td>").concat(n(g.cal("dtend")),"</td>\n    </tr>"),r},widgetForClass:function(e){var t=Zt.twoLine[e.uri],n=x.store;if(t)return t;var r=n.findSuperClassesNT(e);for(var i in r)if(t=Zt.twoLine[n.fromNT(i).uri])return t;return Zt.twoLine[""]}}};const sn={authEndpoint:"",fallbackAuthEndpoint:"https://databox.me/",signupEndpoint:"https://solidproject.org/use-solid/",signupWindowHeight:600,signupWindowWidth:1024,key:"",cert:""};function ln(e){this.config=e||sn}var cn;ln.prototype.listen=function(){return new Promise(function(e,t){var n=window.addEventListener?"addEventListener":"attachEvent";(0,window[n])("attachEvent"===n?"onmessage":"message",function(n){var r=n.data;if("User:"===r.slice(0,5)){var i=r.slice(5,r.length);return i&&i.length>0&&"http"===i.slice(0,4)?e(i):t(i)}},!0)})},ln.prototype.signup=function(e){e=e||this.config.signupEndpoint;var t=this.config.signupWindowWidth,n=this.config.signupWindowHeight,r=window.screen.width/2-(t/2+10),i=window.screen.height/2-(n/2+50),a=e+"?origin="+encodeURIComponent(window.location.origin),o="resizable,scrollbars,status,width="+t+",height="+n+",left="+r+",top="+i;window.open(a,"Solid signup",o);var s=this;return new Promise(function(e){s.listen().then(function(t){return e(t)})})};var un=(on(on(on(on(on(on(on(on(on(on(cn={},g.ui("ColorField").uri,{size:9,type:"color",style:"height: 3em;",dt:"color",pattern:/^\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\s*$/}),g.ui("DateField").uri,{size:20,type:"date",dt:"date",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?Z?\s*$/}),g.ui("DateTimeField").uri,{size:20,type:"datetime-local",dt:"dateTime",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?(T[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?)?Z?\s*$/}),g.ui("TimeField").uri,{size:10,type:"time",dt:"time",pattern:/^\s*([0-2]?[0-9]:[0-5][0-9](:[0-5][0-9])?)\s*$/}),g.ui("IntegerField").uri,{size:12,style:"text-align: right;",dt:"integer",pattern:/^\s*-?[0-9]+\s*$/}),g.ui("DecimalField").uri,{size:12,style:"text-align: right;",dt:"decimal",pattern:/^\s*-?[0-9]*(\.[0-9]*)?\s*$/}),g.ui("FloatField").uri,{size:12,style:"text-align: right;",dt:"float",pattern:/^\s*-?[0-9]*(\.[0-9]*)?((e|E)-?[0-9]*)?\s*$/}),g.ui("SingleLineTextField").uri,{}),g.ui("NamedNodeURIField").uri,{namedNode:!0}),g.ui("TextField").uri,{}),on(on(on(on(on(cn,g.ui("PhoneField").uri,{size:20,uriPrefix:"tel:",pattern:/^\+?[\d-]+[\d]*$/}),g.ui("EmailField").uri,{size:30,uriPrefix:"mailto:",pattern:/^\s*.*@.*\..*\s*$/}),g.ui("Group").uri,{style:Se.formGroupStyle}),g.ui("Comment").uri,{element:"p",style:Se.commentStyle}),g.ui("Heading").uri,{element:"h3",style:Se.formHeadingStyle})),pn=x.solidLogicSingleton.store,dn={};function fn(e){var t=pn,n=t.findTypeURIs(e),r=t.bottomTypeURIs(n),i=[];for(var a in r)i.push(a);return i[0]}function hn(e,t){var n=fn(t),r=dn[n];return M("paneUtils: Going to implement field "+t+" of type "+n),r||function(e,r){var i=lt(e,"No handler for field "+t+" of type "+n);return r&&r.appendChild(i),i}}var mn="https://www.w3.org/ns/css#",gn=x.solidLogicSingleton.store;function vn(e,t,n,r,i){n.style.display="flex",n.style.flexDirection="row";var a=n.appendChild(e.createElement("div"));a.style.width=Ce.formFieldNameBoxWidth;var o=n.appendChild(e.createElement("div"));return a.setAttribute("class","formFieldName"),a.setAttribute("style",Se.formFieldNameBoxStyle),o.setAttribute("class","formFieldValue"),i?a.appendChild(e.createTextNode(i)):t.any(r,g.ui("property"))?a.appendChild(bn(e,t.any(r,g.ui("property")),r)):(o.appendChild(lt(e,"No property or label given for form field: "+r)),a.appendChild(e.createTextNode("???"))),o}function bn(e,t,n){var r=gn.any(n,g.ui("label"));if(r||(r=Q(t,!0)),void 0===t)return e.createTextNode("@@Internal error: undefined property");var i=e.createElement("a");return t.uri&&i.setAttribute("href",t.uri),i.setAttribute("style","color: #3B5998; text-decoration: none;"),i.textContent=r,i}function yn(e,t,n){var r=gn.statementsMatching(e,t);if(0===r.length)return n;if(!gn.updater)throw new Error("Store has no updater");return r.length>0&&r[0].why.value&&gn.updater.editable(r[0].why.value,gn)?gn.sym(r[0].why.value):n}function wn(e,t,n,r,i,a,o){var s=gn,l=i.doc?i.doc():null,c=e.createElement("div"),u=s.any(i,g.ui("property"));if(t&&t.appendChild(c),!u)return c.appendChild(lt(e,"Error: No property given for text field: "+i));var p=vn(e,s,c,i),d=s.anyJS(i,g.ui("suppressEmptyUneditable"),null,l),f=fn(i),h=un[f];void 0===h&&(h={style:""});var v=h.style||"",b=Se.textInputStyle+v,y=e.createElement("input");y.style=b,p.appendChild(y),y.setAttribute("type",h.type?h.type:"text");var w=s.anyJS(i,g.ui("size"))||Ce.textInputSize||20;y.setAttribute("size",w);var x=s.any(i,g.ui("maxLength"));y.setAttribute("maxLength",x?""+x:Ce.basicMaxLength),a=a||yn(r,u,a);var k=s.any(r,u,void 0,a);if(k||(k=s.any(i,g.ui("default"))),k&&k.value&&h.uriPrefix?y.value=decodeURIComponent(k.value.replace(h.uriPrefix,"")).replace(/ /g,""):k&&(y.value=k.value||k.value||""),y.setAttribute("style",b),!s.updater)throw new Error("kb has no updater");return s.updater.editable(a.uri)?(y.addEventListener("keyup",function(e){h.pattern&&y.setAttribute("style",b+(y.value.match(h.pattern)?"color: green;":"color: red;"))},!0),y.addEventListener("change",function(t){if(!h.pattern||y.value.match(h.pattern)){y.disabled=!0,y.setAttribute("style",b+"color: gray;");var n,i=s.statementsMatching(r,u);h.namedNode?n=s.sym(y.value):h.uriPrefix?(n=encodeURIComponent(y.value.replace(/ /g,"")),n=s.sym(h.uriPrefix+y.value)):n=h.dt?new m.Literal(y.value.trim(),void 0,g.xsd(h.dt)):new m.Literal(y.value);var l=i.map(function(e){return(0,m.st)(e.subject,e.predicate,n,e.why)});0===l.length&&(l=[(0,m.st)(r,u,n,a)]),function e(t,n,r){var i=[];if(n.forEach(function(e){i.includes(e.why.uri)||i.push(e.why.uri)}),t.forEach(function(e){i.includes(e.why.uri)||i.push(e.why.uri)}),0===i.length)throw new Error("updateMany has no docs to patch");if(!s.updater)throw new Error("kb has no updater");if(1===i.length)return s.updater.update(t,n,r);var a=i.pop(),o=n.filter(function(e){return e.why.uri===a}),l=n.filter(function(e){return e.why.uri!==a}),c=t.filter(function(e){return e.why.uri===a}),u=t.filter(function(e){return e.why.uri!==a});s.updater.update(c,o,function(t,n,i){n?e(u,l,r):r(t,n,i)})}(i,l,function(t,n,r){n?(y.disabled=!1,y.setAttribute("style",b)):c.appendChild(lt(e,r)),o(n,r)})}},!0),c):(y.readOnly=!0,y.style=Se.textInputStyleUneditable+v,d&&""===y.value&&(c.style.display="none"),c)}var xn="https://www.w3.org/ns/iana/language-code/",kn=["en","fr","de","it","ar"];function _n(e){return e||(e=[]),e.concat(kn.filter(function(t){return!e.includes(t)}))}function En(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=b(w().mark(function e(t){var n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.doc(),e.next=1,null===(n=x.store.fetcher)||void 0===n?void 0:n.load(r);case 1:if(i=x.store.any(t,g.schema("knowsLanguage"),null,r)){e.next=2;break}return e.abrupt("return",kn);case 2:if(a=[],i.elements.forEach(function(e){var t=x.store.any(e,g.solid("publicId"),null,r);if(t&&t.value.startsWith(xn)){var n=t.value.slice(xn.length);a.push(n)}}),!(a.length>0)){e.next=3;break}return e.abrupt("return",_n(a));case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sn(){return An.apply(this,arguments)}function An(){return(An=b(w().mark(function e(){var t,n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.authn.currentUser();case 1:if(!(t=e.sent)){e.next=3;break}return e.next=2,En(t);case 2:if(!(n=e.sent)){e.next=3;break}return e.abrupt("return",n);case 3:if("undefined"==typeof navigator){e.next=5;break}if(!navigator.languages){e.next=4;break}return e.abrupt("return",_n(navigator.languages.map(function(e){return e.split("-")[0]})));case 4:if(!navigator.language){e.next=5;break}return e.abrupt("return",_n([navigator.language.split("-")[0]]));case 5:return e.abrupt("return",kn);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(e,t){var n={};e.forEach(function(e){var t=e.subject.value;n[t]=n[t]||[],n[t].push(e)});var r=t||kn;r.reverse();var i=[];for(var a in n){var o=n[a].map(function(e){var t=e.name["xml:lang"];return[r.indexOf(t),e]});o.sort(),o.reverse(),i.push(o[0][1])}return X.Rm(" Filter by language: ".concat(e.length," -> ").concat(i.length)),i}var Rn=200,Pn=/\$\(subject\)/g,Fn={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",ResearchOrganization:"http://www.wikidata.org/entity/Q31855",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"},In='prefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}',Nn={credentials:"omit",headers:new Headers({Accept:"application/json"})},On={label:"ESCO",logo:x.store.sym("https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif"),searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)"},Ln={label:"DBPedia",logo:x.store.sym("https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png"),searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(targetClass); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/"},jn={AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"},Mn={AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"},Dn={label:"WikiData",limit:3e3,logo:x.store.sym("https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png"),endpoint:"https://query.wikidata.org/sparql",searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(targetClass) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'},Un={"http://www.wikidata.org/entity/Q15936437":g.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":g.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":g.schema("Organization"),"http://www.wikidata.org/entity/Q3918":g.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":g.schema("Project"),"http://www.wikidata.org/entity/Q327333":g.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":g.schema("Place"),"http://www.wikidata.org/entity/Q167037":g.schema("Corporation")},Bn={targetClass:g.rdf("type"),sealImage:g.schema("logo"),shortName:g.foaf("nick"),subsidiary:g.schema("subOrganization"),city:g.vcard("locality"),state:g.vcard("region"),country:g.vcard("country-name"),homepage:g.foaf("homepage"),lat:g.schema("latitude"),long:g.schema("longitude")};function zn(e){var t=e.type.toLowerCase();if("uri"===t||"iri"===t)return x.store.sym(e.value);if("literal"===t)return e["xml:lang"]?new m.Literal(e.value,e["xml:lang"]):new m.Literal(e.value);throw new Error('bindingToTerm: Unexpected type "'.concat(e.type,'" in sparql binding}'))}function Hn(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bn,a={};X.Rm("loadFromBindings:  subject: ".concat(t)),X.Rm("                       doc: ".concat(r)),n.forEach(function(e){for(var t in e){var n=e[t],r=JSON.stringify(n);a[t]=a[t]||new Set,a[t].add(r)}});var o=function(n){var o=a[n];X.Rm("    results ".concat(n," -> ").concat(o)),o.forEach(function(a){var o,s=JSON.parse(a),l=s.type,c=s.value;if("uri"===l)o=e.sym(c);else{if("literal"!==l)throw new Error("loadFromBindings:  unexpected type: ".concat(l));o=new m.Literal(c,s.language,s.datatype)}if("type"===n)Un[c]?o=Un[c]:X.R8("Unmapped Wikidata Class: "+c);else if("coordinates"===n){X.Rm("         @@@ hey a point: "+c);var u=/.*\(([-0-9.-]*) ([-0-9.-]*)\)/.exec(c);if(u){var p=g.xsd("float"),d=new m.Literal(u[1],null,p),f=new m.Literal(u[2],null,p);e.add(t,g.schema("longitude"),f,r),e.add(t,g.schema("latitude"),d,r)}else X.Rm("Bad coordinates syntax: "+c)}else{var h=i[n]||g.schema(n);e.add(t,h,o,r),X.Rm("  public data ".concat(h," ").concat(o,"."))}})};for(var s in a)o(s)}function qn(e){return e._embedded.results.map(function(e){return{name:{value:e.title,type:"literal"},subject:{type:"IRI",value:e.uri}}})}function $n(e,t,n){return Wn.apply(this,arguments)}function Wn(){return(Wn=b(w().mark(function e(t,n,r){var i,a,o,s,l,c;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.searchByNameURI){e.next=1;break}throw new Error("Missing queryTarget.searchByNameURI on queryESCODataByName");case 1:return a=r.limit||Rn,o=r.searchByNameURI.replace("$(name)",t).replace("$(limit)",""+a).replace("$(targetClass)",n.toNT()),X.Rm("Querying ESCO data - uri: "+o),e.next=2,null===(i=x.store.fetcher)||void 0===i?void 0:i.webOperation("GET",o,Nn);case 2:if(s=e.sent,l=(null==s?void 0:s.responseText)||"",X.Rm("    Query result  text"+l.slice(0,500)+"..."),0!==l.length){e.next=3;break}throw new Error("Wot no text back from ESCO query "+o);case 3:return c=JSON.parse(l),X.Rm("    ESCO Query result JSON"+JSON.stringify(c,null,4).slice(0,500)+"..."),e.abrupt("return",qn(c));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vn(e){var t=e.indexOf("SPARQL-QUERY");if(t<0)return e;X.R8("  ### Fixing JSON with wikidata error code injection "+e.slice(t,t+200));var n=e.lastIndexOf("}, {");return e.slice(0,n)+" } ] } } "}function Gn(e,t,n,r){return Kn.apply(this,arguments)}function Kn(){return(Kn=b(w().mark(function e(t,n,r,i){var a,o,s,l,c,u,p,d,f,h,m,g;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){var r=i.limit||Rn;return e.replace("$(name)",t).replace("$(limit)",""+r).replace("$(language)",o).replace("$(targetClass)",n.toNT())},n){e.next=1;break}throw new Error("queryPublicDataByName: No class provided");case 1:return e.next=2,Sn();case 2:if(m=e.sent){e.next=3;break}m=kn;case 3:if(o=m[0]||"en",!i.searchByNameQuery){e.next=4;break}return s=a(i.searchByNameQuery),X.Rm("Querying public data - sparql: "+s),e.abrupt("return",Jn(s,i));case 4:if(!i.searchByNameURI){e.next=13;break}return l=a(i.searchByNameURI),e.prev=5,e.next=6,null===(u=x.store.fetcher)||void 0===u?void 0:u.webOperation("GET",l,Nn);case 6:c=e.sent,e.next=8;break;case 7:throw e.prev=7,g=e.catch(5),new Error("Exception when trying to fetch ".concat(l," \n ").concat(g));case 8:if(p=c.responseText||"",200===c.status){e.next=9;break}throw new Error("HTTP error status ".concat(c.status," trying to fetch ").concat(l," "));case 9:if(X.Rm("    Query result  text"+p.slice(0,500)+"..."),0!==p.length){e.next=10;break}throw new Error("queryPublicDataByName: No text back from public data query "+l);case 10:if(d=Vn(p),f=JSON.parse(d),X.Rm("    API Query result JSON"+JSON.stringify(f,null,4).slice(0,500)+"..."),!f._embedded){e.next=11;break}return X.Rm("      Looks like ESCO"),h=qn(f),e.abrupt("return",h);case 11:throw alert("Code me: unrecognized API return format"),new Error("*** Need to add code to parse unrecognized API JSON return\n".concat(JSON.stringify(f,null,4)));case 12:e.next=14;break;case 13:throw new Error("Query source must have either rest API or SPARQL endpoint.");case 14:case"end":return e.stop()}},e,null,[[5,7]])}))).apply(this,arguments)}function Jn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=b(w().mark(function e(t,n){var r,i,a,o,s,l,c,u,p,d;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.endpoint){e.next=1;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataSelect");case 1:return(i=new URL(n.endpoint)).searchParams.append("query",t),a=i.href,X.Rm(" queryPublicDataSelect uri: "+a),(o=new Headers).append("Accept","application/json"),s={credentials:"omit",headers:o},e.next=2,null===(r=x.store.fetcher)||void 0===r?void 0:r.webOperation("GET",a,s);case 2:if(l=e.sent,0!==(c=(null==l?void 0:l.responseText)||"").length){e.next=3;break}throw new Error("No text back from query "+a);case 3:return u=Vn(c),p=JSON.parse(u),X.Rm("    Query result JSON"+JSON.stringify(p,null,4).slice(0,100)+"..."),d=p.results.bindings,e.abrupt("return",d);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yn(e,t,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=b(w().mark(function e(t,n,r){var i,a,o,s,l,c,u,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(X.Rm("queryPublicDataConstruct: sparql:",t),r.endpoint){e.next=1;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataConstruct");case 1:return(a=new URL(r.endpoint)).searchParams.append("query",t),o=a.href,X.Rm(" queryPublicDataConstruct uri: "+o),(s=new Headers).append("Accept","text/turtle"),l={credentials:"omit",headers:s},e.next=2,null===(i=x.store.fetcher)||void 0===i?void 0:i.webOperation("GET",o,l);case 2:if(c=e.sent,u=(null==c?void 0:c.responseText)||"No response text?",p=u.length>500?u.slice(0,200)+" ... "+u.slice(-200):u,X.Rm("    queryPublicDataConstruct result text:"+p),0!==u.length){e.next=3;break}throw new Error("queryPublicDataConstruct: No text back from construct query:"+o);case 3:(0,m.parse)(u,x.store,n.uri,"text/turtle");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zn(e,t,n){return er.apply(this,arguments)}function er(){return er=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.uri.startsWith("https://dbpedia.org/resource/")){e.next=1;break}return e.abrupt("return",sr(t,n,r));case 1:if(!r.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){e.next=3;break}return e.next=2,tr(t,n,r);case 2:e.next=4;break;case 3:return i=r.uri.startsWith("http:")?t.sym("https:"+r.uri.slice(5)):r,(a=new Headers).append("Accept","text/turtle"),e.abrupt("return",t.fetcher.load(i,{credentials:"omit",headers:a}));case 4:case"end":return e.stop()}},e)})),er.apply(this,arguments)}function tr(e,t,n){return nr.apply(this,arguments)}function nr(){return(nr=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=/wd:Q49108/g,a=In.replace(i,r.toNT()),e.next=1,Yn(a,r,Dn);case 1:X.Rm("getWikidataDetails: loaded.",r);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rr(e,t,n){return ir.apply(this,arguments)}function ir(){return ir=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?targetClass } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(Pn,r.toNT()),e.next=1,Jn(i,Dn);case 1:a=e.sent,Hn(t,r,a,r.doc());case 2:case"end":return e.stop()}},e)})),ir.apply(this,arguments)}function ar(e,t,n){return or.apply(this,arguments)}function or(){return or=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(Pn,r.toNT()),X.Rm(" location query sparql:"+i),e.next=1,Jn(i,Dn);case 1:a=e.sent,X.Rm(" location query bindings:",a),Hn(t,r,a,r.doc());case 2:case"end":return e.stop()}},e)})),or.apply(this,arguments)}function sr(e,t,n){return lr.apply(this,arguments)}function lr(){return lr=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <".concat(r,"> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ").concat(r," foaf:homepage ?homepage }\n    OPTIONAL { ").concat(r," foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ").concat(r," <http://dbpedia.org/ontology/country> ?country }\n   }"),e.next=1,Jn(i,Ln);case 1:a=e.sent,Hn(t,r,a,r.doc()),X.Rm("Finished getDbpediaDetails.");case 2:case"end":return e.stop()}},e)})),lr.apply(this,arguments)}function cr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t){e.style.display=t?"":"none"}function dr(e,t,n,r){return fr.apply(this,arguments)}function fr(){return fr=b(w().mark(function e(t,n,r,i){var a,o,s,l,c,u,p,d,f,h,m,g,v,y,k,_,E,C,S,A,T,R,P,F,I,N,O,L,j,M,D,U,B,z;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C=function(){n.currentObject?(U.value=n.currentName?n.currentName.value:"??? wot no name for "+n.currentObject,O=n.currentName,F=n.currentName?n.currentName.value:void 0,L=n.currentObject):(U.value="",F=void 0,L=void 0),r.deleteButton&&pr(r.deleteButton,!!n.currentObject),r.acceptButton&&pr(r.acceptButton,!1),r.editButton&&pr(r.editButton,!0),r.cancelButton&&pr(r.cancelButton,!1),R=!1,h()},E=function(){return E=b(w().mark(function e(){var n,r,i,a,o,l,c,u,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e,t){return t.name.value>e.name.value?1:t.name.name<e.name.value?-1:0},n=function(e){var n=t.createElement("tr");Se.setStyle(n,"autocompleteRowStyle"),n.setAttribute("style","padding: 0.3em;"),n.style.color=P?"#080":"#088",n.textContent=e.name.value;var r=zn(e.subject),i=zn(e.name);return n.addEventListener("click",function(){var e=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:X.Rm("       click row textContent: "+n.textContent),X.Rm("       click name: "+i.value),r&&i&&s(r,i);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n},!R){e.next=1;break}return X.Rm('Ignoring "'.concat(U.value,'" because of lock ')),e.abrupt("return");case 1:return X.Rm('Setting lock at "'.concat(U.value,'"')),R=!0,e.next=2,Sn();case 2:if(i=e.sent,!((a=U.value.trim().toLowerCase()).length<4)){e.next=3;break}h(),I=20,e.next=6;break;case 3:if(P&&F&&a.startsWith(F)){e.next=5;break}return X.Rm('   Querying database at "'.concat(a,'" cf last "').concat(F,'".')),e.next=4,v(a,i);case 4:A=e.sent;case 5:o=k(a,A),T&&o.length<=40&&(I=o.length),P=T&&o.length<=I,X.Rm(' Filter:"'.concat(a,'" lastBindings: ').concat(A.length,", slimmed to ").concat(o.length,"; rows: ").concat(I,", Enough? ").concat(T,", All displayed? ").concat(P)),(l=o.slice(0,I)).sort(r),h(),c=cr(l);try{for(c.s();!(u=c.n()).done;)p=u.value,j.appendChild(n(p))}catch(e){c.e(e)}finally{c.f()}1===o.length&&s(zn(o[0].subject),zn(o[0].name));case 6:R=!1;case 7:case"end":return e.stop()}},e)})),E.apply(this,arguments)},_=function(){return E.apply(this,arguments)},k=function(e,t){return t.filter(function(t){return f(e,t.name.value)})},y=function(){return(y=b(w().mark(function e(t,r){var i,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Gn(t,S,r||kn,n.queryParams);case 1:i=e.sent,e.next=3;break;case 2:return e.prev=2,s=e.catch(0),a("Error querying db of organizations: "+s),R=!1,e.abrupt("return");case 3:return T=i.length<Rn,F=T?t:void 0,h(),o=Tn(i,r),e.abrupt("return",o);case 4:case"end":return e.stop()}},e,null,[[0,2]])}))).apply(this,arguments)},v=function(e,t){return y.apply(this,arguments)},g=function(){return(g=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:pr(r.cancelButton,!0),_();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},m=function(e){return g.apply(this,arguments)},h=function(){for(;j.children.length>1;)j.removeChild(j.lastChild)},f=function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(t.toLowerCase().indexOf(i)<0)return!1}return!0},d=function(){return(d=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:X.Rm("Auto complete: Canceled by user! "),n.permanent?C():N.parentNode&&N.parentNode.removeChild(N);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},p=function(e){return d.apply(this,arguments)},u=function(){return(u=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O&&U.value===O.value&&o(L,O);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},c=function(e){return u.apply(this,arguments)},l=function(){return(l=b(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.acceptButton){e.next=1;break}return r.acceptButton.disbaled=!1,pr(r.acceptButton,!0),U.value=n.value,O=n,L=t,X.Rm("Auto complete: name: "+n),X.Rm("Auto complete: waiting for accept "+t),h(),e.abrupt("return");case 1:pr(r.cancelButton,!0),o(t,n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},s=function(e,t){return l.apply(this,arguments)},o=function(e,t){X.Rm("Auto complete: finish! "+e),"Literal"===e.termType&&n.queryParams.objectURIBase&&(e=x.store.sym(n.queryParams.objectURIBase.value+e.value)),h(),i(e,t)},a=function(e){var n=j.appendChild(t.createElement("tr"));X.Rm(e);var r=new Error(e);n.appendChild(lt(t,r,"pink")),Se.setStyle(n,"autocompleteRowStyle"),n.style.padding="1em"},S=n.targetClass){e.next=1;break}throw new Error("renderAutoComplete: missing targetClass");case 1:return r.acceptButton&&r.acceptButton.addEventListener("click",c,!1),r.cancelButton&&r.cancelButton.addEventListener("click",p,!1),T=!1,R=!1,P=!1,F=void 0,I=20,N=t.createElement("div"),O=void 0,L=void 0,(j=N.appendChild(t.createElement("table"))).setAttribute("data-testid","autocomplete-table"),j.setAttribute("style","max-width: 30em; margin: 0.5em;"),M=j.appendChild(t.createElement("tr")),Se.setStyle(M,"autocompleteRowStyle"),D=M.appendChild(t.createElement("td")),(U=D.appendChild(t.createElement("input"))).setAttribute("type","text"),C(),B=n.size||Ce.textInputSize||20,U.setAttribute("size",B),U.setAttribute("data-testid","autocomplete-input"),z=Se.textInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",U.setAttribute("style",z),U.addEventListener("keyup",function(e){13===e.keyCode&&c(e)},!1),U.addEventListener("input",m),e.abrupt("return",N);case 2:case"end":return e.stop()}},e)})),fr.apply(this,arguments)}function hr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gr=Fe.Pt.iconBase+"noun_34653_green.svg",vr=Fe.Pt.iconBase+"noun_Search_875351.svg",br=Fe.Pt.iconBase+"noun_253504.svg";function yr(e,t,n,r,i,a){return wr.apply(this,arguments)}function wr(){return wr=b(w().mark(function e(t,n,r,i,a,o){var s,l,c,u,p,d,f,h,m,v,y,k,_,E,C,S,A,T,R,P,F,I;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(R=function(){T?(pr(A,!1),pr(k,!1),pr(_,!1)):(pr(A,!0),pr(k,!1),pr(_,!1))},y=function(){return(y=b(w().mark(function e(t){var r,i,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=hr(t),e.prev=1,r.s();case 2:if((i=r.n()).done){e.next=4;break}return o=i.value,e.next=3,a(n,o);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,s=e.catch(1),r.e(s);case 6:return e.prev=6,r.f(),e.finish(6);case 7:case"end":return e.stop()}},e,null,[[1,5,6,7]])}))).apply(this,arguments)},v=function(e){return y.apply(this,arguments)},m=function(){return(m=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=1;break}I.removeChild(F),F=void 0,e.next=2;break;case 1:return e.next=2,d();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},h=function(e){return m.apply(this,arguments)},f=function(){return(f=b(w().mark(function e(){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(F=t.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),n=F,e.next=1,dr(t,i,P,s);case 1:n.appendChild.call(n,e.sent),F.appendChild(k),F.appendChild(_),F.appendChild(A),F.appendChild(E),I.appendChild(F);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},d=function(){return f.apply(this,arguments)},p=function(){F&&(I.removeChild(F),F=void 0)},u=function(){return(u=b(w().mark(function e(r){var i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Mt(t,x.store,I,g.vcard("url"),void 0,"Solid ID");case 1:if(i=e.sent){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",a(n,i));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},c=function(e){return u.apply(this,arguments)},l=function(){return(l=b(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.permanent?(pr(A,!0),pr(k,!1),pr(_,!1)):p(),e.abrupt("return",a(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},s=function(e,t){return l.apply(this,arguments)},(k=jt(t)).setAttribute("data-testid","accept-button"),(_=Lt(t)).setAttribute("data-testid","cancel-button"),E=t.createElement("div"),C=i.targetClass?Q(i.targetClass):"item",(S=Nt(t,E,C,o)).setAttribute("data-testid","delete-button"),(A=Ot(t,br,"Edit",function(e){T=!T,R()})).setAttribute("data-testid","edit-button"),T=!0,P={acceptButton:k,cancelButton:_,editButton:A,deleteButton:S},F=void 0,(I=t.createElement("div")).style.display="flex",I.style.flexDirection="row",!i.permanent&&!i.currentObject){e.next=1;break}return e.next=1,d();case 1:return r.editable&&(I.style.width="100%",r.manualURIEntry&&Ae(I.appendChild(Ot(t,gr,r.idNoun,c)),v,void 0),!r.dbLookup||i.currentObject||i.permanent||I.appendChild(Ot(t,vr,r.idNoun,h))),R(),e.abrupt("return",I);case 2:case"end":return e.stop()}},e)})),wr.apply(this,arguments)}function xr(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
/**
 * @version IconicMultiSelect v0.7.0
 * @licence  MIT
 */
var kr={multiselect__container:"\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n        background-color: #fff;\n        border-radius: 2px;\n        -webkit-box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n                box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        min-height: 36px;\n        padding: 4px 8px 0 8px;\n        position: relative;\n        width: 354px;\n        margin-bottom: 5px;\n        font-size: 100%\n    ",multiselect__wrapper:"\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n        height: 100%;\n        width: 100%;\n    ",multiselect__clear_btn:"\n        cursor: pointer;\n        align-items: center;\n        margin-bottom: 4px;\n        margin-left: 4px;\n    ",multiselect__options:"\n        background-color: #f6f6f6;\n        border-radius: 2px;\n        left: 0;\n        max-height: 0;\n        overflow: hidden;\n        position: absolute;\n        top: calc(100% + 3px);\n        z-index: 9999;\n        width: 100%;\n        opacity: 0;\n        transition: max-height 0.1s ease;\n    ",multiselect__options_visible:"\n        background-color: #f6f6f6;\n        border-radius: 2px;\n        left: 0;\n        max-height: 0;\n        overflow: hidden;\n        position: absolute;\n        top: calc(100% + 3px);\n        z-index: 9999;\n        width: 100%;\n        opacity: 0;\n        transition: max-height 0.1s ease;\n        max-height: 200px;\n        -webkit-box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        opacity: 1;\n        transition: max-height 0.2s ease;\n    ",multiselect__options_ul:"\n        list-style: none;\n        margin: 0;\n        padding: 2px 0;\n        max-height: 200px;\n        overflow: auto;\n    ",multiselect__options_ul_li:"\n        cursor: pointer;\n        padding: 4px 8px;\n    ",multiselect__options_ul_li_hover:"\n        background-color: #dedede;\n    ",multiselect__options_ul_p_multiselect__options_no_results:"\n        margin: 0;\n        padding: 8px;\n        text-align: center;\n    ",multiselect__options_ul_p_multiselect__options_no_data:"\n        margin: 0;\n        padding: 8px;\n        text-align: center;\n    ",multiselect__options_ul_li_multiselect__options_selected:"\n        background-color: #656565;\n        color: #fff;\n    ",multiselect__options_ul_li_multiselect__options_selected_hover:"\n    background-color: #656565;\n    ",multiselect__options_ul_li_arrow_selected:"\n        border: 2px solid rgba(101, 101, 101, 0.5);\n    ",multiselect__selected:"\n        background-color: #656565;\n        border-radius: 2px;\n        color: #fff;\n        margin-bottom: 4px;\n        margin-right: 4px;\n        padding: 4px 8px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n        align-items: center;\n    ",multiselect__selected_multiselect__remove_btn:"\n        cursor: pointer;\n        display: flex;\n        margin-left: 6px;\n    ",multiselect__input:"\n        border: none;\n        -ms-flex-preferred-size: 40%;\n            flex-basis: 40%;\n        -webkit-box-flex: 1;\n            -ms-flex-positive: 1;\n                flex-grow: 1;\n        height: 5px;        \n        margin-bottom: 4px;\n        min-width: 40%;\n        outline: none;      \n    ",setStyle:function(e,t){e.style=kr[t]}},_r=function(){return we(function e(t){var n=t.data,r=t.itemTemplate,i=t.noData,a=t.noResults,o=t.placeholder,s=t.select,l=t.container,c=t.tagTemplate,u=t.textField,p=t.valueField;ge(this,e),on(this,"_data",void 0),on(this,"_domElements",void 0),on(this,"_event",function(){}),on(this,"_itemTemplate",void 0),on(this,"_multiselect",void 0),on(this,"_noData",void 0),on(this,"_noResults",void 0),on(this,"_options",[]),on(this,"_placeholder",void 0),on(this,"_select",void 0),on(this,"_selectContainer",void 0),on(this,"_selectedOptions",[]),on(this,"_tagTemplate",void 0),on(this,"_textField",void 0),on(this,"_valueField",void 0),on(this,"_cross",'\n    <svg\n      width="24"\n      height="24"\n      viewBox="0 0 24 24"\n      fill="none"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        d="M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z"\n        fill="currentColor"\n      />\n    </svg>\n    '),this._data=null!=n?n:[],this._itemTemplate=null!=r?r:null,this._noData=null!=i?i:"No data found.",this._noResults=null!=a?a:"No results found.",this._placeholder=null!=o?o:"Select...",this._select=s,this._selectContainer=l,this._tagTemplate=null!=c?c:null,this._textField=null!=u?u:null,this._valueField=null!=p?p:null},[{key:"init",value:function(){if(!this._select||"SELECT"!==this._select.nodeName)throw new Error("The selector '".concat(this._select,"' did not select any valid select tag."));if(this._itemTemplate&&0===this._data.length)throw new Error("itemTemplate must be initialized with data from the component settings");if(this._tagTemplate&&0===this._data.length)throw new Error("tagTemplate must be initialized with data from the component settings");this._options=this._data.length>0?this._getDataFromSettings():this._getDataFromSelectTag(),this._renderMultiselect(),this._renderOptionsList(),this._domElements={clear:this._multiselect.querySelector(".multiselect__clear-btn"),input:this._multiselect.querySelector(".multiselect__input"),optionsContainer:this._multiselect.querySelector(".multiselect__options"),optionsContainerList:this._multiselect.querySelector(".multiselect__options > ul"),options:{list:this._multiselect.querySelectorAll(".multiselect__options > ul > li"),find:function(e){for(var t=0;t<this.list.length;t++){var n=this.list[t];if(e(n))return n}},some:function(e){for(var t=0;t<this.list.length;t++)if(e(this.list[t],t))return!0;return!1}}},this._enableEventListenners(),this._initSelectedList()}},{key:"subscribe",value:function(e){if("function"!=typeof e)throw new Error("parameter in the subscribe method is not a function");this._event=e}},{key:"_addOptionToList",value:function(e,t){var n=this,r='<span class="multiselect__selected" style="'.concat(kr.multiselect__selected,'" data-value="').concat(e.value,'">').concat(this._tagTemplate?this._processTemplate(this._tagTemplate,t):e.text,'<span class="multiselect__remove-btn" style="').concat(kr.multiselect__remove_btn,'">').concat(this._cross,"</span></span>");this._domElements.input.insertAdjacentHTML("beforebegin",r),this._multiselect.querySelector('span[data-value="'.concat(e.value,'"]')).lastElementChild.addEventListener("click",function(){var t=n._domElements.options.find(function(t){return t.dataset.value===e.value});n._handleOption(t)})}},{key:"_clearSelection",value:function(){for(var e=this,t=function(){var t=e._selectedOptions[n],r=e._domElements.options.find(function(e){return e.dataset.value===t.value});r.classList.remove("multiselect__options--selected"),r.setAttribute("style",kr.multiselect__options),e._removeOptionFromList(r.dataset.value)},n=0;n<this._selectedOptions.length;n++)t();this._selectedOptions=[],this._handleClearSelectionBtn(),this._handlePlaceholder(),this._dispatchEvent({action:"CLEAR_ALL_OPTIONS",selection:this._selectedOptions})}},{key:"_closeList",value:function(){this._domElements.input.value="",this._domElements.optionsContainer.classList.remove("visible"),this._domElements.optionsContainer.setAttribute("style",kr.multiselect__options),this._filterOptions(""),this._removeAllArrowSelected()}},{key:"_dispatchEvent",value:function(e){this._event(e)}},{key:"_enableEventListenners",value:function(){var e=this;document.addEventListener("mouseup",function(t){var n=t.target;e._multiselect.contains(n)||(e._filterOptions(""),e._closeList(),e._handlePlaceholder())}),this._domElements.clear.addEventListener("click",function(){e._clearSelection()});for(var t=0;t<this._domElements.options.list.length;t++)this._domElements.options.list[t].addEventListener("click",function(t){var n=t.target;e._handleOption(n),e._closeList()});this._domElements.input.addEventListener("focus",function(){e._domElements.optionsContainer.classList.add("visible"),e._domElements.optionsContainer.setAttribute("style",kr.multiselect__options_visible)}),this._domElements.input.addEventListener("input",function(t){var n=t.target.value;e._domElements.options.list.length>0&&e._filterOptions(n)}),this._domElements.input.addEventListener("keydown",function(t){e._handleArrows(t),e._handleBackspace(t),e._handleEnter(t)})}},{key:"_filterOptions",value:function(e){var t=this,n=this._domElements.optionsContainer.classList.contains("visible"),r=e.toLowerCase();if(!n&&e.length>0&&(this._domElements.optionsContainer.classList.add("visible"),this._domElements.optionsContainer.setAttribute("style",kr.multiselect__options_visible)),this._domElements.options.list.length>0){for(var i=0;i<this._domElements.options.list.length;i++){var a=this._domElements.options.list[i];(this._itemTemplate?this._data[i][this._textField]:a.textContent).toLowerCase().substring(0,r.length)===r?this._domElements.optionsContainerList.appendChild(a):a.parentNode&&a.parentNode.removeChild(a)}var o=this._domElements.options.some(function(e,n){return(t._itemTemplate?t._data[n][t._textField]:e.textContent).toLowerCase().substring(0,r.length)===r});this._showNoResults(!o)}}},{key:"_generateId",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t}},{key:"_getDataFromSelectTag",value:function(){for(var e=[],t=this._select.options,n=0;n<t.length;n++){var r=t[n];e.push({text:r.text,value:r.value,selected:r.hasAttribute("selected")})}return e}},{key:"_getDataFromSettings",value:function(){if(this._data.length>0&&this._valueField&&this._textField){var e="string"==typeof this._valueField,t="string"==typeof this._textField,n=[];if(!e||!t)throw new Error("textField and valueField must be of type string");for(var r=0;r<this._data.length;r++){var i=this._data[r];n.push({value:i[this._valueField],text:i[this._textField],selected:"boolean"==typeof i.selected&&i.selected})}return n}return null}},{key:"_handleArrows",value:function(e){if(40===e.keyCode||38===e.keyCode){e.preventDefault();var t=this._domElements.optionsContainer.classList.contains("visible"),n=this._multiselect.querySelector(".multiselect__options > ul");if(t){var r=this._multiselect.querySelector(".multiselect__options ul li.arrow-selected"),i={ArrowUp:"previous",Up:"previous",ArrowDown:"next",Down:"next"};if(!r)return n.firstElementChild.classList.add("arrow-selected"),n.firstElementChild.setAttribute("style",kr.multiselect__options_ul_li_arrow_selected),void n.firstElementChild.scrollIntoView(!1);if(r.classList.remove("arrow-selected"),r.setAttribute("style",kr.multiselect__options_ul_li),!(r=r[i[e.key]+"ElementSibling"]))return(r=n.children["next"===i[e.key]?0:n.children.length-1]).classList.add("arrow-selected"),r.setAttribute("style",kr.multiselect__options_ul_li_arrow_selected),void this._scrollIntoView(n,r);r.classList.add("arrow-selected"),r.setAttribute("style",kr.multiselect__options_ul_li_arrow_selected),this._scrollIntoView(n,r)}else this._domElements.optionsContainer.classList.add("visible"),this._domElements.optionsContainer.setAttribute("style",kr.multiselect__options_visible),n.firstElementChild.classList.add("arrow-selected"),n.firstElementChild.setAttribute("style",kr.multiselect__options_ul_li_arrow_selected),n.firstElementChild.scrollIntoView(!1)}}},{key:"_handleBackspace",value:function(e){if(8===e.keyCode&&""===e.target.value){var t=this._selectedOptions.length>0?this._selectedOptions[this._selectedOptions.length-1]:null;if(t){var n=this._multiselect.querySelector('li[data-value="'.concat(t.value,'"]'));this._handleOption(n),0===this._selectedOptions.length&&(this._domElements.optionsContainer.classList.remove("visible"),this._domElements.optionsContainer.setAttribute("style",kr.multiselect__options))}}}},{key:"_handleClearSelectionBtn",value:function(){this._selectedOptions.length>0?this._domElements.clear.style.display="flex":this._domElements.clear.style.display="none"}},{key:"_handleEnter",value:function(e){if(13===e.keyCode){var t=this._multiselect.querySelector(".multiselect__options ul li.arrow-selected");t&&(this._handleOption(t),this._closeList())}}},{key:"_handleOption",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;n<this._selectedOptions.length;n++)if(this._selectedOptions[n].value===e.dataset.value)return e.classList.remove("multiselect__options--selected"),e.setAttribute("style",kr.multiselect__options),this._selectedOptions.splice(n,1),this._removeOptionFromList(e.dataset.value),this._handleClearSelectionBtn(),this._handlePlaceholder(),t&&this._dispatchEvent({action:"REMOVE_OPTION",value:e.dataset.value,selection:this._selectedOptions});for(var r=0;r<this._options.length;r++){var i=this._options[r];if(i.value===e.dataset.value)return e.classList.add("multiselect__options--selected"),e.setAttribute("style",kr.multiselect__options_selected),this._selectedOptions=[].concat(xr(this._selectedOptions),[i]),this._addOptionToList(i,r),this._handleClearSelectionBtn(),this._handlePlaceholder(),t&&this._dispatchEvent({action:"ADD_OPTION",value:e.dataset.value,selection:this._selectedOptions})}}},{key:"_handlePlaceholder",value:function(){this._domElements.input.placeholder=this._placeholder}},{key:"_initSelectedList",value:function(){for(var e=this,t=!1,n=function(){var n=e._options[r];if(n.selected){t=!0;var i=e._domElements.options.find(function(e){return e.dataset.value===n.value});i.classList.add("multiselect__options--selected"),i.setAttribute("style",kr.multiselect__options_selected),e._selectedOptions=[].concat(xr(e._selectedOptions),[n]),e._addOptionToList(n,r)}},r=0;r<this._options.length;r++)n();t&&this._handleClearSelectionBtn(),this._handlePlaceholder()}},{key:"_processTemplate",value:function(e,t){for(var n=e,r=e.match(/\$\{(\w+)\}/g).map(function(e){return e.replace(/\$\{|\}/g,"")}),i=0;i<r.length;i++){var a,o=r[i];n=n.replace("${".concat(o,"}"),null!==(a=this._data[t][o])&&void 0!==a?a:"")}return n}},{key:"_removeAllArrowSelected",value:function(){var e="arrow-selected",t=this._domElements.options.find(function(t){return t.classList.contains(e)});t&&t.classList.remove(e)&&t.setAttribute("style",kr.multiselect__options_ul_li)}},{key:"_removeOptionFromList",value:function(e){var t=this._multiselect.querySelector('span[data-value="'.concat(e,'"]'));t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"_renderOptionsList",value:function(){var e=this,t='\n        <div class="multiselect__options" style="'.concat(kr.multiselect__options,'">\n          <ul style="').concat(kr.multiselect__options_ul,'">\n          ').concat(this._options.length>0&&!this._itemTemplate?this._options.map(function(e){return'\n              <li data-value="'.concat(e.value,'" style="').concat(kr.multiselect__options_ul_li,'">').concat(e.text,"</li>\n            ")}).join(""):"","\n\n          ").concat(this._options.length>0&&this._itemTemplate?this._options.map(function(t,n){return'\n              <li data-value="'.concat(t.value,'" style="').concat(kr.multiselect__options_ul_li,'">').concat(e._processTemplate(e._itemTemplate,n),"</li>\n            ")}).join(""):"","\n          ").concat(this._showNoData(0===this._options.length),"\n          </ul>\n        </div>\n      ");this._multiselect.insertAdjacentHTML("beforeend",t)}},{key:"_renderMultiselect",value:function(){this._select.style.display="none";var e="iconic-"+this._generateId(20);this._multiselect=document.createElement("div"),this._multiselect.setAttribute("id",e),this._multiselect.setAttribute("class","multiselect__container"),this._multiselect.setAttribute("style",kr.multiselect__container);var t='\n        <div class="multiselect__wrapper" style="'.concat(kr.multiselect__wrapper,'">\n          <input class="multiselect__input" style="').concat(kr.multiselect__input,'" placeholder="').concat(this._placeholder,'" />\n        </div>\n        <span style="display: none;" class="multiselect__clear-btn" style="').concat(kr.multiselect__clear_btn,'">').concat(this._cross,"</span>\n    ");this._multiselect.innerHTML=t,this._selectContainer.appendChild(this._multiselect)}},{key:"_scrollIntoView",value:function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();n.top<r.bottom-t.offsetHeight||(e.scrollTop=t.clientHeight+(t.offsetTop-t.offsetHeight)),n.bottom>r.top+t.offsetHeight||(e.scrollTop=t.clientHeight+(t.offsetTop-t.offsetHeight)-(e.offsetHeight-(t.offsetHeight+(t.offsetHeight-t.clientHeight))))}},{key:"_showNoData",value:function(e){return e?'<p class="multiselect__options--no-data" style="'.concat(kr.multiselect__options_ul_p_multiselect__options_no_data,'">').concat(this._noData,"</p>"):""}},{key:"_showNoResults",value:function(e){var t=this._multiselect.querySelector(".multiselect__options--no-results");if(e){var n='<p class="multiselect__options--no-results" style="'.concat(kr.multiselect__options_ul_p_multiselect__options_no_results,'">').concat(this._noResults,"</p>");!t&&this._domElements.optionsContainerList.insertAdjacentHTML("beforeend",n)}else t&&t.parentNode&&t.parentNode.removeChild(t)}}])}();function Er(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sr="✓",Ar="✕",Tr="-",Rr=x.store;function Pr(e,t,n,r,i,a,o){for(var s=a.children,l=0;l<o.length;l++){var c=o[l];if(fn(c)===g.ui("Options").uri){var u=hn(0,c)(e,null,t,n,c,r,i);X.Rm("Refreshing Options field by replacing it."),a.insertBefore(u,s[l]),a.removeChild(s[l+1])}}}function Fr(e,t,n,r,i,a,o,s){var l=g.ui,c=x.store,u=c.any(i,l("property"));if(!u){var p=lt(e,"No property to boolean field: "+i);return t&&t.appendChild(p),p}var d=c.any(i,l("label"));d||(d=Q(u,!0)),a=yn(r,u,a);var f=c.any(r,u);void 0===f&&(f=!1);var h=m.st(r,u,!0,a),v=Gr(e,c,d,m.st(r,u,!1,a),h,i,a,s);return t&&t.appendChild(v),v}function Ir(e,t,n,r,i,a,o){hn(0,i)(e,t,n,r,i,a,o)}function Nr(e,t,n,r,i){var a=e.createElement("button");return a.setAttribute("type","button"),a.innerHTML="Edit "+Q(g.ui("Form")),a.addEventListener("click",function(o){Or(e,t,{},n,g.ui("FormForm"),r,i).setAttribute("style",g.ui("FormForm").sameTerm(n)?"background-color: #fee;":"background-color: #ffffe7;"),a.parentNode.removeChild(a)},!0),a}function Or(e,t,n,r,i,a,o){return hn(0,i)(e,t,n,r,i,a,o)}function Lr(e,t){var n=e.each(void 0,g.rdf("range"),t);[g.rdfs("comment"),g.dc("title"),g.foaf("name"),g.foaf("homepage")].forEach(function(e){n.push(e)});var r=e.each(void 0,g.rdf("type"),t);r.length>60&&(r=r.slice(0,60));for(var i={},a=0;a<(r.length>60?60:r.length);a++)e.statementsMatching(r[a],void 0,void 0).forEach(function(e){i[e.predicate.uri]=!0});n.forEach(function(e){i[e.uri]=!0});var o=[];for(var s in i)o.push(e.sym(s));return o}function jr(e,t,n){for(var r=[e.sym(t)];r.length>0;){var i=r.shift(),a=e.each(i,n);if(M("Lists for "+i+", "+n+": "+a.length),0!==a.length)return a;for(var o=e.each(i,g.rdfs("subClassOf")),s=0;s<o.length;s++)r.push(o[s]),M("findClosest: add super: "+o[s])}return[]}function Mr(e){var t=x.store;M("formsFor: subject="+e);var n,r=t.findTypeURIs(e);for(n in r)M("   type: "+n);var i=t.bottomTypeURIs(r),a=[];for(var o in i)M("candidatesFor: trying bottom type ="+o),a=(a=a.concat(jr(t,o,g.ui("creationForm")))).concat(jr(t,o,g.ui("annotationForm")));return a}function Dr(e){var t=e.map(function(e){return[Rr.any(e,g.ui("sequence"))||9999,e]});return t.sort(function(e,t){return e[0]-t[0]}),t.map(function(e){return e[1]})}function Ur(e){var t=e.map(function(e){return[Q(e).toLowerCase(),e]});return t.sort(),t.map(function(e){return e[1]})}function Br(e,t,n,r,i,a,o,s){var l=e.createElement("button");return l.setAttribute("type","button"),l.innerHTML="New "+Q(i),l.addEventListener("click",function(c){l.parentNode.appendChild(zr(e,t,n,r,i,a,o,s))},!1),l}function zr(e,t,n,r,i,a,o,s){var l=e.createElement("form");if(!a){var c=jr(t,i.uri,g.ui("creationForm"));if(0===c.length){l.appendChild(e.createElement("p")).textContent="I am sorry, you need to provide information about a "+Q(i)+" but I don't know enough information about those to ask you.";var u=l.appendChild(e.createElement("button"));return u.setAttribute("type","button"),u.setAttribute("style","float: right;"),u.innerHTML="Goto "+Q(i),u.addEventListener("click",function(t){e.outlineManager.GotoSubject(i,!0,void 0,!0,void 0)},!1),l}M("lists[0] is "+c[0]),a=c[0]}M("form is "+a),l.setAttribute("style","border: 0.05em solid ".concat(Ce.formBorderColor,"; color: ").concat(Ce.formBorderColor)),l.innerHTML="<h3>New "+Q(i)+"</h3>";var p=hn(0,a),d=Kr(o),f=!1;function h(e,t,n){return s(t,n)}D("paneUtils Object is "+d);var v=p(e,l,{},d,a,o,function(a,c){if(!a)return s(a,c);var u=[];n&&!t.holds(n,r,d,o)&&u.push(m.st(n,r,d,o)),n&&!t.holds(d,g.rdf("type"),i,o)&&u.push(m.st(d,g.rdf("type"),i,o)),u.length?t.updater.update([],u,h):s(!0,c),f||(f=l.appendChild(Jt(e,d)))});return Qt(e,v).setAttribute("style","float: right;"),l.AJAR_subject=d,l}function Hr(e,t,n,r,i,a){var o,s=e.createElement("div"),l=t.anyJS(n,r,null,i)||"",c=e.createElement("textarea");function u(l){o.disabled=!0,o.setAttribute("style","visibility: hidden; float: right;"),c.disabled=!0,c.style.color=Ce.textInputColorPending;var u=t.statementsMatching(n,r,null,i),p=m.st(n,r,c.value,i);t.updater.update(u,p,function(t,n,r){n?(c.style.color=Ce.textInputColor,c.disabled=!1):s.appendChild(lt(e,"Error (while saving change to "+i.uri+"): "+r)),a&&a(n,r)})}return s.appendChild(c),c.rows=l?l.split("\n").length+2:2,c.cols=80,c.setAttribute("style",Se.multilineTextInputStyle),null!==l?c.value=l:c.select(),s.refresh=function(){var e=t.any(n,r,null,i);e&&e.value!==c.value&&(c.value=e.value)},t.updater.editable(i.uri)?((o=jt(e,u)).disabled=!0,o.style.visibility="hidden",o.style.float="right",s.appendChild(o),c.addEventListener("keyup",function(e){c.style.color="green",o&&(o.disabled=!1,o.style.visibility="")},!0),c.addEventListener("change",u,!0)):(c.disabled=!0,c.style.backgroundColor=Ce.textInputBackgroundColorUneditable),s}function qr(e,t,n,r,i,a,o,s){M("Select list length now "+i.length);for(var l,c=0,u={},p=t.updater.editable(o.uri),d=0;d<i.length;d++){var f=i[d];f.uri||X.R8("makeSelectForClassifierOptions: option does not have an uri: ".concat(f,", with predicate: ").concat(r)),f.uri&&!(f.uri in u)&&(u[f.uri]=!0,c++)}if(0===c&&!a.mint)return lt(e,"Can't do selector with no options, subject= "+n+" property = "+r+".");M("makeSelectForClassifierOptions: dataDoc="+o);var h=function(){return l={},r.sameTerm(g.rdf("type"))?l=t.findTypeURIs(n):t.each(n,r,null,o).forEach(function(e){l[e.uri]=!0}),l};l=h();var v=e.createElement("select");for(var b in v.setAttribute("style",Se.formSelectStyle),a.multiple&&v.setAttribute("multiple","true"),v.currentURI=null,v.refresh=function(){l=h();for(var e=0;e<v.children.length;e++){var t=v.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in l)}v.disabled=!1},u){var y=t.sym(b),w=e.createElement("option");a.disambiguate?w.appendChild(e.createTextNode(et(y,!0))):w.appendChild(e.createTextNode(Q(y,!0)));var x=t.any(y,t.sym("http://www.w3.org/ns/ui#backgroundColor"));x&&w.setAttribute("style","background-color: "+x.value+"; "),w.AJAR_uri=b,b in l&&(w.setAttribute("selected","true"),v.currentURI=b),v.appendChild(w)}if(p&&a.mint){var k=e.createElement("option");k.appendChild(e.createTextNode(a.mint)),k.AJAR_mint=!0,v.insertBefore(k,v.firstChild)}if(null==v.currentURI&&!a.multiple){var _=e.createElement("option");_.appendChild(e.createTextNode(a.nullLabel)),v.insertBefore(_,v.firstChild),_.selected=!0}return p&&v.addEventListener("change",function(i){v.disabled=!0;for(var c,u=[],p=[],d=function(e){t.holds(n,r,e,o)&&u.push(m.st(n,r,e,o))},f=0;f<v.options.length;f++){var g=v.options[f];if(g.selected&&g.AJAR_mint){if(a.mintClass){var b=zr(e,t,n,r,a.mintClass,null,o,function(e,t){e||s(e,t,{change:"new"})});v.parentNode.appendChild(b),c=b.AJAR_subject}else c=Kr(o);p.push(m.st(n,r,c,o)),a.mintStatementsFun&&(p=p.concat(a.mintStatementsFun(c)))}g.AJAR_uri&&(g.selected&&!(g.AJAR_uri in l)&&p.push(m.st(n,r,t.sym(g.AJAR_uri),o)),!g.selected&&g.AJAR_uri in l&&d(t.sym(g.AJAR_uri)),g.selected&&(v.currentURI=g.AJAR_uri))}for(var y=v.subSelect;y&&y.currentURI;)d(t.sym(y.currentURI)),y=y.subSelect;for(y=v.superSelect;y&&y.currentURI;)d(t.sym(y.currentURI)),y=y.superSelect;function w(e,t){s(e,{widget:"select",event:"new"})}D("makeSelectForClassifierOptions: data doc = "+o),t.updater.update(u,p,function(t,n,r){if(l=h(),!n)return v.parentNode.appendChild(lt(e,"Error updating data in select: "+r));v.disabled=!1,c&&hn(0,a.subForm)(e,v.parentNode,{},c,a.subForm,o,w),s&&s(n,{widget:"select",event:"change"})})},!1),v}function $r(e,t,n,r,i,a,o,s){M("Select list length now "+i.length);for(var l,c=0,u={},p=t.updater.editable(o.uri),d=0;d<i.length;d++){var f=i[d];f.uri||X.R8("makeSelectForOptions: option does not have an uri: ".concat(f,", with predicate: ").concat(r)),f.uri&&!(f.uri in u)&&(u[f.uri]=!0,c++)}if(0===c)return lt(e,"Can't do selector with no options, subject= "+n+" property = "+r+".");M("makeSelectForOptions: dataDoc="+o);var h=function(){return l={},r.sameTerm(g.rdf("type"))?l=t.findTypeURIs(n):t.each(n,r,null,o).forEach(function(e){e.uri&&(l[e.uri]=!0)}),l};l=h();var v=e.createElement("select");for(var b in v.setAttribute("style",Se.formSelectStyle),v.currentURI=null,v.refresh=function(){l=h();for(var e=0;e<v.children.length;e++){var t=v.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in l)}v.disabled=!1},u){var y=t.sym(b),w=e.createElement("option");a.disambiguate?w.appendChild(e.createTextNode(et(y,!0))):w.appendChild(e.createTextNode(Q(y,!0)));var x=t.any(y,t.sym("http://www.w3.org/ns/ui#backgroundColor"));x&&w.setAttribute("style","background-color: "+x.value+"; "),w.AJAR_uri=b,b in l&&(w.setAttribute("selected","true"),v.currentURI=b),v.appendChild(w)}if(!v.currentURI){var k=e.createElement("option");k.appendChild(e.createTextNode(a.nullLabel)),v.insertBefore(k,v.firstChild),k.selected=!0}return p&&v.addEventListener("change",function(i){v.disabled=!0;for(var a=[],c=[],u=function(e){t.holds(n,r,e,o)&&a.push(m.st(n,r,e,o))},p=0;p<v.options.length;p++){var d=v.options[p];d.AJAR_uri&&(d.selected&&!(d.AJAR_uri in l)&&c.push(m.st(n,r,t.sym(d.AJAR_uri),o)),!d.selected&&d.AJAR_uri in l&&u(t.sym(d.AJAR_uri)),d.selected&&(v.currentURI=d.AJAR_uri))}for(var f=v.subSelect;f&&f.currentURI;)u(t.sym(f.currentURI)),f=f.subSelect;for(f=v.superSelect;f&&f.currentURI;)u(t.sym(f.currentURI)),f=f.superSelect;D("selectForOptions: data doc = "+o),t.updater.update(a,c,function(t,n,r){if(l=h(),!n)return v.parentNode.appendChild(lt(e,"Error updating data in select: "+r));v.disabled=!1,s&&s(n,{widget:"select",event:"change"})})},!1),v}function Wr(e,t,n,r,i,a){var o,s=t.any(r,g.owl("disjointUnionOf")),l=!1;return s?o=s.elements:(o=t.each(void 0,g.rdfs("subClassOf"),r),l=!0),M("Select list length "+o.length),0===o.length?lt(e,"Can't do "+(l?"multiple ":"")+"selector with no subclasses of category: "+r):1===o.length?lt(e,"Can't do "+(l?"multiple ":"")+"selector with only 1 subclass of category: "+r+":"+o[1]):qr(e,t,n,g.rdf("type"),o,{multiple:l,nullLabel:"* Select type *"},i,a)}function Vr(e,t,n,r,i,a){function o(){l&&(s.removeChild(l),l=null),c.currentURI&&t.any(t.sym(c.currentURI),g.owl("disjointUnionOf"))&&(l=Vr(e,t,n,t.sym(c.currentURI),i,a),c.subSelect=l.firstChild,c.subSelect.superSelect=c,s.appendChild(l))}var s=e.createElement("span"),l=null,c=Wr(e,t,n,r,i,function(e,t){e&&o(),a(e,t)});return s.appendChild(c),o(),s}function Gr(e,t,n,r,i,a,o,s){var l=e.createElement("div"),c=vn(e,t,l,a,n),u=t.updater.editable(o.uri),p=e.createElement("button"),d=p;function f(e){if(!e)return[];if(e.object)return e.why||(e.why=o),[e];if(e instanceof Array)return e;throw new Error("buildCheckboxForm: bad param "+e)}function h(e){return 0===e.filter(function(e){return!t.holds(e.subject,e.predicate,e.object,e.why)}).length}return p.style=Se.checkboxInputStyle,c.appendChild(p),i=f(i),r=f(r),function(){var n=h(i),o=n;if(r.length){var c=h(r);if(n&&c)return l.appendChild(lt(e,"Inconsistent data in dataDoc!\n"+i+" and\n"+r)),l;if(!n&&!c){n=null;var u=t.any(a,g.ui("default"));o=u?"1"===u.value:!!s&&null}}p.state=n,p.textContent={true:Sr,false:s?Ar:" ",null:Tr}[o]}(),u?(p.addEventListener("click",function(n){d.style.color="#bbb";var a=!0===p.state?i:!1===p.state?r:[];p.newState=null===p.state||!0!==p.state&&(!s||null);var o=!0===p.newState?i:!1===p.newState?r:[];X.Rm("  Deleting  ".concat(a)),X.Rm("  Inserting ".concat(o)),t.updater.update(a,o,function(n,r,i){r?(d.style.color="#000",p.state=p.newState,p.textContent={true:Sr,false:Ar,null:Tr}[p.state]):(a.why&&t.holds(a.subject,a.predicate,a.object,a.why)&&X.Rm(" @@@@@ weird if 409 - does hold statement"),d.style.color="#000",d.style.backgroundColor="#fee",l.appendChild(lt(e,"Checkbox: Error updating dataDoc from ".concat(p.state," to ").concat(p.newState,":\n\n").concat(i))))})},!1),l):l}function Kr(e){var t=new Date;return m.sym(e.uri+"#id"+t.getTime())}function Jr(e,t,n,r,i,a,o,s,l,c,u){for(var p={},d=n.updater.editable(c.uri),f=0;f<a.length;f++){var h=a[f];h.uri&&!(h.uri in p)&&(p[h.uri]=!0)}if(0===Object.keys(p).length&&!l.mint)return lt(e,"Can't do selector with no options, subject= "+r+" property = "+i+".");M("makeSelectForChoice: dataDoc="+c);var v,b,y=e.createElement("select");for(var w in y.setAttribute("style",Se.formSelectStyle),y.setAttribute("id","formSelect"),y.currentURI=null,p)y.appendChild(k(w));if(d&&l.mint){var x=e.createElement("option");x.appendChild(e.createTextNode(l.mint)),x.AJAR_mint=!0,y.insertBefore(x,y.firstChild)}function k(t){var r,i=e.createElement("option"),a=n.sym(t);r=l.disambiguate?et(a,!0):Q(a,!0),i.appendChild(e.createTextNode(r)),i.setAttribute("value",t);var s=n.any(a,n.sym("http://www.w3.org/ns/ui#backgroundColor"));return s&&i.setAttribute("style","background-color: "+s.value+"; "),i.AJAR_uri=t,Qr(a.value,o)&&i.setAttribute("selected","true"),i}return 0===y.children.length&&y.insertBefore(((b=e.createElement("option")).appendChild(e.createTextNode((v="--- choice ---",i&&"BlankNode"!==i.termType&&(v="* Select for property: "+Q(i)+" *"),r&&"BlankNode"!==r.termType&&(v="* Select for "+Q(r,!0)+" *"),v))),b.disabled=!0,b.value=!0,b.hidden=!0,b.selected=!0,b),y.firstChild),y.update=function(t){o=t;var a,l=[],p=[],d=function(e){n.holds(r,i,e,c)&&l.push(m.st(r,i,e,c))},f=function(e){n.holds(r,i,e,c)||p.push(m.st(r,i,e,c)),s&&!n.holds(e,g.rdf("type"),n.sym(s),c)&&p.push(m.st(e,g.rdf("type"),n.sym(s),c))},h=n.each(r,i,null,c).map(function(e){return e.value}),v=Er(h);try{for(v.s();!(a=v.n()).done;){var b=a.value;Qr(b,o)||d(m.sym(b))}}catch(e){v.e(e)}finally{v.f()}var w,x=Er(o);try{for(x.s();!(w=x.n()).done;){var k=w.value;k in h||f(m.sym(k))}}catch(e){x.e(e)}finally{x.f()}n.updater.update(l,p,function(t,n,r){if(!n)return y.parentNode.appendChild(lt(e,"Error updating data in select: "+r));y.refresh(),u&&u(n,{widget:"select",event:"change"})})},y.refresh=function(){y.disabled=!0;for(var a,p=[],d=0;d<y.options.length;d++){var f=y.options[d];if(f.selected&&f.AJAR_mint){if(l.mintClass){var h=zr(e,n,r,i,s,l.subForm,c,function(e,t){e||u(e,t,{change:"new"})});y.parentNode.appendChild(h),a=h.AJAR_subject}else a=Kr(c);p.push(m.st(r,i,n.sym(a),c)),s&&p.push(m.st(a,g.rdf("type"),n.sym(s),c)),l.mintStatementsFun&&(p=p.concat(l.mintStatementsFun(a))),y.currentURI=a}f.AJAR_uri&&(f.selected&&Qr(f.AJAR_uri,o)&&(y.currentURI=f.AJAR_uri),Qr(f.AJAR_uri,o)||f.removeAttribute("selected"),Qr(f.AJAR_uri,o)&&f.setAttribute("selected","true"))}D("selectForOptions: data doc = "+c),y.currentURI&&l.subForm&&!l.multiSelect&&Ir(e,t,{},m.sym(y.currentURI),l.subForm,c,function(r,i){r?(n.updater.update([],p,function(n,r,i){r||t.appendChild(lt(e,"Error updating select: "+i))}),u&&u(r,{widget:"select",event:"new"})):t.appendChild(lt(e,"Error updating data in field of select: "+i))}),y.disabled=!1},d&&y.addEventListener("change",function(e){t.removeChild(t.lastChild),y.refresh()},!1),y}function Qr(e,t){var n;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function Yr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}dn[g.ui("AutocompleteField").uri]=function(e,t,n,r,i,a,o){var s;function l(){return(l=b(w().mark(function t(n,i){var s,l,c,p,f,h;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=1;break}throw new Error("autocompleteField:  No name set.");case 1:if(!(s=u.the(r,v,null,a))){t.next=2;break}if(l=u.any(s,y,null,a),!(s.equals(n)&&l&&l.sameTerm(i))){t.next=2;break}return t.abrupt("return");case 2:return c=s?u.statementsMatching(r,v,s,a).concat(u.statementsMatching(s,y,null,a)):[],p=[(0,m.st)(r,v,n,a),(0,m.st)(n,y,i,a)],t.prev=3,t.next=4,null===(f=u.updater)||void 0===f?void 0:f.updateMany(c,p);case 4:t.next=6;break;case 5:return t.prev=5,h=t.catch(3),o(!1,h),d.appendChild(lt(e,"Autocomplete form data update error:"+h,null,h)),t.abrupt("return");case 6:o(!0,"");case 7:case"end":return t.stop()}},t,null,[[3,5]])}))).apply(this,arguments)}function c(){return(c=b(w().mark(function t(n,i){var s,l,c,p,f,h;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=u.the(r,v,null,a)){t.next=1;break}return o(!1,"NO data to elete"),d.appendChild(lt(e,"Autocomplete delete: no old data!")),t.abrupt("return");case 1:return l=u.statementsMatching(r,v,s,a).concat(u.statementsMatching(s,y,null,a)),c=[],t.prev=2,t.next=3,null===(p=u.updater)||void 0===p?void 0:p.updateMany(l,c);case 3:t.next=5;break;case 4:return t.prev=4,h=t.catch(2),f=new Error("Autocomplete form data delete error:"+h),o(!1,h),d.appendChild(lt(e,f,null,h)),t.abrupt("return");case 5:o(!0,"");case 6:case"end":return t.stop()}},t,null,[[2,4]])}))).apply(this,arguments)}if("NamedNode"!==r.termType)throw new Error("Sorry this field only works on NamedNode subjects (for editable)");var u=x.store,p=i.doc?i.doc():null,d=e.createElement("div");t&&t.appendChild(d);var f=e.createElement("div");f.setAttribute("class","formFieldName"),f.setAttribute("style",Se.formFieldNameBoxStyle),d.appendChild(f);var h=e.createElement("div");h.setAttribute("class","formFieldValue"),d.appendChild(h);var v=u.any(i,g.ui("property"));if(!v)return d.appendChild(lt(e,"Error: No property given for autocomplete field: "+i));var y=u.any(i,g.ui("labelProperty"))||g.schema("name"),k=u.any(i,g.ui("dataSource"));if(!k)return d.appendChild(lt(e,"Error: No data source given for autocomplete field: "+i));var _={label:u.anyJS(k,g.schema("name"),null,k.doc()),logo:u.any(k,g.schema("logo"),null,k.doc())},E=u.any(i,g.ui("targetClass"),null,i.doc())||u.any(k,g.ui("targetClass"),null,k.doc());E&&(_.targetClass=E),_.objectURIBase=u.any(k,g.ui("objectURIBase"),null,k.doc())||void 0;var C=u.anyJS(k,g.ui("endpoint"),null,k.doc());if(C){if(_.endpoint=C,_.searchByNameQuery=u.anyJS(k,g.ui("searchByNameQuery"),null,k.doc()),!_.searchByNameQuery)return d.appendChild(lt(e,"Error: No searchByNameQuery given for endpoint data Source: "+i));_.insitituteDetailsQuery=u.anyJS(k,g.ui("insitituteDetailsQuery"),null,k.doc())}else{var S=u.anyJS(k,g.ui("searchByNameURI"));if(!S)return d.appendChild(lt(e,"Error: No searchByNameURI OR sparql endpoint given for dataSource: "+k));_.searchByNameURI=S}var A=u.anyJS(i,g.ui("suppressEmptyUneditable"),null,p),T=null===(s=u.updater)||void 0===s?void 0:s.editable(a.uri),R={permanent:!0,targetClass:_.targetClass,queryParams:_};R.size=u.anyJS(i,g.ui("size"),null,p)||void 0;var P=u.any(r,v,void 0,a);if(P)R.currentObject=P,R.currentName=u.any(R.currentObject,y,null,a);else if(P=u.any(i,g.ui("default")))R.currentObject=P,R.currentName=u.any(R.currentObject,y,null,a);else if(A&&!T)return d.style.display="none",d;return f.appendChild(bn(e,v,i)),yr(e,r,{editable:T,dbLookup:!0},R,function(e,t){return l.apply(this,arguments)},function(e,t){return c.apply(this,arguments)}).then(function(e){h.appendChild(e)},function(t){h.appendChild(lt(e,"Error rendering autocomplete ".concat(i,": ").concat(t),"#fee",t))}),d},dn[g.ui("Form").uri]=dn[g.ui("Group").uri]=function(e,t,n,r,i,a,o){var s=e.createElement("div"),l=g.ui;if(t&&t.appendChild(s),i){var c=r.toNT()+"|"+i.toNT();if(n[c])return s.appendChild(e.createTextNode("Group: see above "+c)),s;var u={};for(var p in n)u[p]=1;u[c]=1;var d=i.doc?i.doc():null,f=Rr.any(i,l("weight"),null,d),h=f?Number(f.value):1;if(h>3||h<0)return s.appendChild(lt(e,"Form Group weight ".concat(h," should be 0-3")));s.setAttribute("style",Se.formGroupStyle[h]),s.style.display="flex",s.style.flexDirection="column",s.class="form-weight-"+h;var m,v=Rr.any(i,l("parts"),null,d);if(v?m=v.elements:(v=Rr.each(i,l("part"),null,d),m=Dr(v)),!v)return s.appendChild(lt(e,"No parts to form! "));for(var b=0;b<m.length;b++){var y=m[b],w=hn(0,y),x=function(t,i){t&&i&&i.widget&&"select"===i.widget&&Pr(e,n,r,a,o,s,m),o(t,{widget:"group",change:i})};s.appendChild(w(e,null,u,r,y,a,x))}return s}},dn[g.ui("Options").uri]=function(e,t,n,r,i,a,o){var s=x.store,l=e.createElement("div"),c=i.doc?i.doc():null,u=g.ui;t&&t.appendChild(l);var p=s.any(i,u("dependingOn"));p||(p=g.rdf("type"));var d,f=s.each(i,u("case"),null,c);f||l.appendChild(lt(e,"No cases to Options form. ")),d=p.sameTerm(g.rdf("type"))?Object.keys(s.findTypeURIs(r)).map(function(e){return m.sym(e)}):s.each(r,p);for(var h=0;h<f.length;h++){for(var v=f[h],b=s.each(v,u("for"),null,c),y=!1,w=0;w<b.length;w++){var k,_=Er(d);try{for(_.s();!(k=_.n()).done;){var E=k.value,C=b[w];(E.sameTerm(b)||E.termType===C.termType&&E.value===C.value)&&(y=!0)}}catch(e){_.e(e)}finally{_.f()}}if(y){var S=s.the(v,u("use"));if(!S)return l.appendChild(lt(e,'No "use" part for case in form '+i)),l;Or(e,l,n,r,S,a,o);break}}return l},dn[g.ui("Multiple").uri]=function(e,t,n,r,i,a,o){function s(e){return e.map(function(e){return e.toString().slice(-7)}).join(", ")}function l(){return c.apply(this,arguments)}function c(){return c=b(w().mark(function t(){var n,i,o,s;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Kr(a),!_){t.next=2;break}return L(),R.elements.push(n),t.next=1,j();case 1:t.next=7;break;case 2:return i=C?[m.st(n,E,r,a)]:[m.st(r,E,n,a)],t.prev=3,t.next=4,d.updater.update([],i);case 4:t.next=6;break;case 5:t.prev=5,s=t.catch(3),o="Error adding to unordered multiple: "+s,h.appendChild(lt(e,o)),X.z3(o);case 6:U();case 7:case"end":return t.stop()}},t,null,[[3,5]])})),c.apply(this,arguments)}function u(t){function i(){return(i=b(w().mark(function n(){var i,o;return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!_){n.next=5;break}X.Rm("pre delete: "+s(R.elements)),i=0;case 1:if(!(i<R.elements.length)){n.next=4;break}if(!R.elements[i].sameTerm(t)){n.next=3;break}return R.elements.splice(i,1),n.next=2,j();case 2:return n.abrupt("return");case 3:i++,n.next=1;break;case 4:n.next=6;break;case 5:d.holds(r,E,t,a)&&(o=[m.st(r,E,t,a)],d.updater.update(o,[],function(t,n,r){n?F.removeChild(u):F.appendChild(lt(e,"Multiple: delete failed: "+r))}));case 6:case"end":return n.stop()}},n)}))).apply(this,arguments)}function l(e,t){return c.apply(this,arguments)}function c(){return(c=b(w().mark(function e(n,r){var i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:X.Rm("pre move: "+s(R.elements)),i=0;case 1:if(!(i<R.elements.length)){e.next=3;break}if(!R.elements[i].sameTerm(t)){e.next=2;break}return e.abrupt("continue",3);case 2:i++,e.next=1;break;case 3:if(i===R.elements.length&&alert("list move: not found element for "+t),!r){e.next=5;break}if(0!==i){e.next=4;break}return alert("@@ boop - already at top   -temp message"),e.abrupt("return");case 4:R.elements.splice(i-1,2,R.elements[i],R.elements[i-1]),e.next=7;break;case 5:if(i!==R.elements.length-1){e.next=6;break}return alert("@@ boop - already at bottom   -temp message"),e.abrupt("return");case 6:R.elements.splice(i,2,R.elements[i+1],R.elements[i]);case 7:return e.next=8,j();case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}M("Multiple: render object: "+t);var u=hn(0,T)(e,null,n,t,T,a,function(e,n){X.Rm("Item done callback for item ".concat(t.toString())),e||X.z3("  Item done callback: Error: "+n),o(e,n)});if(u.subject=t,d.updater.editable(a.uri)&&(Nt(e,u,S,function(){return i.apply(this,arguments)}),_)){var p=e.createElement("div");p.style.display="grid",p.style.gridTemplateColumns="auto 3em",p.style.gridTemplateRows="50% 50%";var f=Ot(e,Fe.Pt.iconBase+"noun_1369237.svg","Move Up",function(){var e=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,!0));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),h=Ot(e,Fe.Pt.iconBase+"noun_1369241.svg","Move Down",function(){var e=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,!1));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),g=e.createElement("div");return g.appendChild(u),p.appendChild(g),p.appendChild(f),p.appendChild(h),f.style.gridColumn=2,h.style.gridColumn=2,f.style.gridRow=1,h.style.padding="0em",f.style.padding="0em",h.style.gridRow=2,g.style.gridColumn=1,g.style.gridRowStart="span 2",p}return u}var p=Fe.Pt.iconBase+"noun_19460_green.svg",d=x.store,f=i.doc?i.doc():null,h=e.createElement("div"),v=h,y=g.ui;t&&t.appendChild(h);var k=d.any(i,y("ordered")),_=!!k&&m.Node.toJS(k),E=d.any(i,y("property")),C=d.anyJS(i,y("reverse"),null,f);if(!E)return h.appendChild(lt(e,"No property to multiple: "+i)),v;var S=d.any(i,y("label"));S||(S=Q(E));var A=d.any(i,y("min"));A=A?0+A.value:0;var T=d.any(i,y("part"));if(!T)return h.appendChild(lt(e,"No part to multiple: "+i)),v;var R,P,F=h.appendChild(e.createElement("div"));if(F.style.display="flex",F.style.flexDirection="column",P=C?d.any(null,E,r,a):d.any(r,E,null,a),_?(R=C?d.any(null,E,r,a):d.any(r,E,null,a),P=R?R.elements:[]):(P=C?d.each(null,E,r,a):d.each(r,E,null,a),R=null),d.updater.editable(a.uri)){var I=h.appendChild(e.createElement("div"));I.style.padding="0.5em";var N=I.appendChild(e.createElement("img"));N.setAttribute("src",p),N.setAttribute("style","margin: 0.2em; width: 1.5em; height:1.5em"),N.title="Click to add another "+S;var O=e.createElement("span");O.textContent=(0===P.length?"Add another ":"Add ")+S,I.addEventListener("click",function(){var e=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,l();case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!0),I.appendChild(O)}function L(){R||(R=new m.Collection,C?d.add(R,E,r,a):d.add(r,E,R,a))}function j(){return D.apply(this,arguments)}function D(){return(D=b(w().mark(function t(){var n;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return X.Rm("save list: "+s(R.elements)),L(),t.prev=1,t.next=2,d.fetcher.putBack(a);case 2:t.next=4;break;case 3:return t.prev=3,n=t.catch(1),h.appendChild(lt(e,"Error trying to put back a list: "+n)),t.abrupt("return");case 4:U();case 5:case"end":return t.stop()}},t,null,[[1,3]])}))).apply(this,arguments)}function U(){var e;if(_){var t=C?d.the(null,E,r,a):d.the(r,E,null,a);e=t?t.elements:[]}else(e=C?d.each(null,E,r,a):d.each(r,E,null,a)).sort();Be(F,e,u)}function B(){return(B=b(w().mark(function e(){var t,n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=A-P.length)>0)){e.next=4;break}n=0;case 1:if(!(n<t)){e.next=3;break}return X.Rm("Adding extra: min "+A),e.next=2,l();case 2:n++,e.next=1;break;case 3:return e.next=4,j();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return F.refresh=U,U(),function(){return B.apply(this,arguments)}().then(function(){X.Rm(" Multiple render: async stuff ok")},function(e){X.z3(" Multiple render: async stuff fails. #### ",e)}),v},dn[g.ui("PhoneField").uri]=wn,dn[g.ui("EmailField").uri]=wn,dn[g.ui("ColorField").uri]=wn,dn[g.ui("DateField").uri]=wn,dn[g.ui("DateTimeField").uri]=wn,dn[g.ui("TimeField").uri]=wn,dn[g.ui("NumericField").uri]=wn,dn[g.ui("IntegerField").uri]=wn,dn[g.ui("DecimalField").uri]=wn,dn[g.ui("FloatField").uri]=wn,dn[g.ui("TextField").uri]=wn,dn[g.ui("SingleLineTextField").uri]=wn,dn[g.ui("NamedNodeURIField").uri]=wn,dn[g.ui("MultiLineTextField").uri]=function(e,t,n,r,i,a,o){var s=g.ui,l=x.store,c=i.doc?i.doc():null,u=l.any(i,s("property"));if(!u)return lt(e,"No property to text field: "+i);var p=e.createElement("div");p.style.display="flex",p.style.flexDirection="row";var d=p.appendChild(e.createElement("div"));d.style.width=Ce.formFieldNameBoxWidth;var f=p.appendChild(e.createElement("div"));d.appendChild(bn(e,u,i)),a=yn(r,u,a);var h=l.anyJS(r,u,null,a)||"",m=l.updater.editable(a.uri),v=i&&l.anyJS(i,g.ui("suppressEmptyUneditable"),null,c);!m&&v&&""===h&&(p.style.display="none");var b=Hr(e,l,r,u,a,o);return f.appendChild(b),t&&t.appendChild(p),p},dn[g.ui("BooleanField").uri]=function(e,t,n,r,i,a,o){return Fr(e,t,0,r,i,a,0,!1)},dn[g.ui("TristateField").uri]=function(e,t,n,r,i,a,o){return Fr(e,t,0,r,i,a,0,!0)},dn[g.ui("Classifier").uri]=function(e,t,n,r,i,a,o){var s=x.store,l=g.ui,c=s.any(i,l("category"));if(!c)return lt(e,"No category for classifier: "+i);M("Classifier: dataDoc="+a);var u=Vr(e,s,r,c,a,function(e,t){return o(e,t)});return t&&t.appendChild(u),u},dn[g.ui("Choice").uri]=function(e,t,n,r,i,a,o){var s,l=g.ui,c=x.store,u=i.doc?i.doc():null,p=e.createElement("div");p.setAttribute("class","choiceBox"),t&&t.appendChild(p);var d=e.createElement("div");d.setAttribute("class","formFieldName choiceBox-label"),p.appendChild(d);var f=e.createElement("div");f.setAttribute("class","formFieldValue choiceBox-selectBox"),p.appendChild(f);var h=c.any(i,l("property"));if(!h)return p.appendChild(lt(e,"No property for Choice: "+i));d.appendChild(bn(e,h,i));var v=c.any(i,l("from"));if(!v)return lt(e,"No 'from' for Choice: "+i);var b=c.any(i,l("use")),y={form:i,subForm:b,disambiguate:!1};c.any(i,l("canMintNew"))&&(y.mint="* Create new *");var w=c.any(i,l("multiselect"));w&&(y.multiSelect=!0);var k,_=c.each(i,l("search-full-store")).length?null:a;return f.refresh=function(){var t=c.each(r,h,null,a).map(function(e){return e.value}),n=function(e){var t,n=[];for(var r in n=c.each(void 0,g.rdf("type"),v,u),function(e,t,n){var r,i,a,o,s,l,c,u,p,d,f,h={};h[t.toNT()]=!0;var m={},g=e.transitiveClosure(h,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var v in g){for(var b=0,y=(s=e.statementsMatching(null,e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),e.fromNT(v),n)).length;b<y;b++)m[(d=s[b]).subject.toNT()]=d;for(var w=0,x=(l=e.each(null,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),e.fromNT(v),n)).length;w<x;w++)for(o=l[w],a=0,r=(c=e.statementsMatching(null,o,null,n)).length;a<r;a++)m[(d=c[a]).subject.toNT()]=d;for(var k=0,_=(u=e.each(null,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),e.fromNT(v),n)).length;k<_;k++)for(o=u[k],f=0,i=(p=e.statementsMatching(null,o,null,n)).length;f<i;f++)m[(d=p[f]).object.toNT()]=d}return m}(c,v,e))n.push(c.fromNT(r));if(v.sameTerm(g.rdfs("Class")))for(s in Gt())n.push(c.sym(s));else if(v.sameTerm(g.rdf("Property"))){for(s in(t=Kt(c)).op)n.push(c.fromNT(s));for(s in t.dp)n.push(c.fromNT(s));y.disambiguate=!0}else if(v.sameTerm(g.owl("ObjectProperty"))){for(s in(t=Kt(c)).op)n.push(c.fromNT(s));y.disambiguate=!0}else if(v.sameTerm(g.owl("DatatypeProperty"))){for(s in(t=Kt(c)).dp)n.push(c.fromNT(s));y.disambiguate=!0}return n}(_);if(n.push(t),n=Ur(n),k=Jr(e,f,c,r,h,n,t,v,y,a,o),f.innerHTML="",f.appendChild(k),w){var i=new _r({placeholder:k.selected,select:k,container:f,textField:"textField",valueField:"valueField"});i.init(),i.subscribe(function(n){if("REMOVE_OPTION"===n.action&&(t=t.filter(function(e){return e!==n.value})),"CLEAR_ALL_OPTIONS"===n.action&&(t=[]),"ADD_OPTION"===n.action)if((n.value+"").includes("Create new")){var i=Kr(a),s=[];s.push(m.st(r,h,c.sym(i),a)),v&&s.push(m.st(i,g.rdf("type"),c.sym(v),a)),b&&Ir(e,f,{},m.sym(i),b,a,function(n,r){n?(c.updater.update([],s,function(t,n,r){n||f.appendChild(lt(e,"Error updating select: "+r))}),t.push(i),o&&o(n,{widget:"select",event:"new"})):f.appendChild(lt(e,"Error updating data in field of select: "+r))})}else t.push(n.value);k.update(t)})}},f.refresh(),k&&k.refresh&&k.refresh(),p},dn[g.ui("Comment").uri]=dn[g.ui("Heading").uri]=function(e,t,n,r,i,a,o){var s=g.ui,l=x.store,c=l.any(i,s("contents"));c||(c="Error: No contents in comment field.");var u=i.doc?i.doc():null,p=fn(i),d=un[p]||{},f=e.createElement("div");t&&t.appendChild(f);var h=f.appendChild(e.createElement(d.element));h.textContent=c,function(e,t){var n=fn(t),r=un[n]||{},i=x.store.any(t,g.ui("style"));i?"Literal"===i.termType?i&&e.setAttribute("style",i.value):x.store.statementsMatching(i,null,null,t.doc()).forEach(function(t){if(t.predicate.uri&&t.predicate.uri.startsWith(mn)){var n=t.predicate.uri.slice(26);try{e.style[n]=t.object.value}catch(e){}}}):r.style&&e.setAttribute("style",r.style)}(h,i);var m=l.anyJS(i,g.ui("suppressIfUneditable"),null,u),v=l.updater.editable(a.uri);return m&&!v&&(f.style.display="none"),f},x.solidLogicSingleton.store;var Zr=x.solidLogicSingleton.profile,ei=Zr.loadPreferences,ti=Zr.loadProfile,ni=x.solidLogicSingleton.typeIndex,ri=ni.getScopedAppInstances,ii=ni.getRegistrations,ai=ni.loadAllTypeIndexes,oi=ni.getScopedAppsFromIndex,si=ni.deleteTypeIndexRegistration;function li(e){var t=x.authn.currentUser();return t?(x.authn.saveUser(t,e),Promise.resolve(e)):new Promise(function(t){x.authn.checkUser().then(function(n){if(n)return X.Rm("logIn: Already logged in as ".concat(n)),t(e);if(!e.div||!e.dom)return t(e);var r=ki(e.dom,function(n){x.authn.saveUser(n,e),t(e)});e.div.appendChild(r)})})}function ci(e){return ui.apply(this,arguments)}function ui(){return(ui=b(w().mark(function e(t){var n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.preferencesFile){e.next=1;break}return e.abrupt("return",Promise.resolve(t));case 1:return e.prev=1,e.next=2,pi(t);case 2:return t=e.sent,e.next=3,ei(t.me);case 3:n=e.sent,t.preferencesFile=n,e.next=11;break;case 4:if(e.prev=4,!((i=e.catch(1))instanceof x.UnauthorizedError)){e.next=5;break}z(r="Oops — you are not authenticated (properly logged in), so SolidOS cannot read your preferences file. Try logging out and then logging back in."),e.next=11;break;case 5:if(!(i instanceof x.CrossOriginForbiddenError)){e.next=6;break}return r="Unauthorized: Assuming preference file blocked for origin ".concat(window.location.origin),t.preferencesFileError=r,e.abrupt("return",t);case 6:if(!(i instanceof x.SameOriginForbiddenError)){e.next=7;break}return r="You are not authorized to read your preference file. This may be because you are using an untrusted web app.",X.R8(r),e.abrupt("return",t);case 7:if(!(i instanceof x.NotEditableError)){e.next=8;break}return r="You are not authorized to edit your preference file. This may be because you are using an untrusted web app.",X.R8(r),e.abrupt("return",t);case 8:if(!(i instanceof x.WebOperationError)){e.next=9;break}r="You are not authorized to edit your preference file. This may be because you are using an untrusted web app.",X.R8(r),e.next=11;break;case 9:if(!(i instanceof x.FetchError)){e.next=10;break}z(r="Strange: Error ".concat(i.status," trying to read your preference file.").concat(i.message)),e.next=11;break;case 10:throw new Error("(via loadPrefs) ".concat(i));case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e,null,[[1,4]])}))).apply(this,arguments)}function pi(e){return di.apply(this,arguments)}function di(){return(di=b(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.publicProfile){e.next=1;break}return e.abrupt("return",t);case 1:return e.prev=1,e.next=2,li(t);case 2:if((n=e.sent).me){e.next=3;break}throw new Error("Could not log in");case 3:return e.next=4,ti(n.me);case 4:t.publicProfile=e.sent,e.next=6;break;case 5:throw e.prev=5,r=e.catch(1),t.div&&t.dom&&t.div.appendChild(lt(t.dom,r.message)),new Error("Can't log in: ".concat(r));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,null,[[1,5]])}))).apply(this,arguments)}function fi(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.me){e.next=2;break}return e.next=1,ri(n,t.me);case 1:a=e.sent,e.next=3;break;case 2:a=[];case 3:return i=a,!0===r?i=i.filter(function(e){return"public"===e.scope.label}):!1===r&&(i=i.filter(function(e){return"private"===e.scope.label})),t.instances=i.map(function(e){return e.instance}),e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mi(e,t){var n=e.me&&e.me.sameTerm(t.agent)?"":Q(t.agent)+" ";return"".concat(n).concat(t.label)}function gi(e,t,n){return vi.apply(this,arguments)}function vi(){return vi=b(w().mark(function e(t,n,r){var i,a,o,s,l,c,u,p,d,f,h,v,b;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){var n=i(e.index),r=mi(t,e),a="".concat(r," link to this ").concat(t.noun);return Gr(t.dom,x.solidLogicSingleton.store,a,null,n,d,e.index)},i=function(e){var t=ii(n,r),i=t.length?t[0]:Kr(e);return[(0,m.st)(i,g.solid("instance"),n,e),(0,m.st)(i,g.solid("forClass"),r,e)]},(o=t.dom)&&t.div){e.next=1;break}throw new Error("registrationControl: need dom and div");case 1:if(s=o.createElement("div"),t.div.appendChild(s),t.me=x.authn.currentUser(),l=t.me){e.next=2;break}return s.innerHTML='<p style="margin:2em;">(Log in to save a link to this)</p>',e.abrupt("return",t);case 2:return e.prev=2,e.next=3,ai(l);case 3:c=e.sent,e.next=5;break;case 4:return e.prev=4,b=e.catch(2),t.div&&t.preferencesFileError?(u="(Lists of stuff not available)",t.div.appendChild(o.createElement("p")).textContent=u):t.div&&(u="registrationControl: Type indexes not available: ".concat(b),t.div.appendChild(lt(t.dom,b))),X.Rm(u),e.abrupt("return",t);case 5:s.innerHTML="<table><tbody></tbody></table>",s.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid gray 0.05em;"),p=s.children[0].children[0],d=new m.BlankNode,f=Yr(c);try{for(f.s();!(h=f.n()).done;)v=h.value,p.appendChild(o.createElement("tr")).appendChild(a(v))}catch(e){f.e(e)}finally{f.f()}return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,null,[[2,4]])})),vi.apply(this,arguments)}function bi(e,t,n){var r=e.dom,i=mi(e,n),a=r.createElement("tr"),o=a.appendChild(r.createElement("td"));o.setAttribute("colspan","3"),o.style.backgoundColor={private:"#fee",public:"#efe"}[n.label]||"white";var s=o.appendChild(r.createElement("h3"));return s.textContent=i+" links",s.style.textAlign="left",a}function yi(e,t){return wi.apply(this,arguments)}function wi(){return wi=b(w().mark(function e(t,n){var r,i,a,o,s,l,c,u,p,d,f,h,m,v,y,k;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dom,i=t.div,a=r.createElement("div"),i.appendChild(a),t.me=x.authn.currentUser(),t.me){e.next=1;break}return a.innerHTML='<p style="margin:2em;">(Log in list your stuff)</p>',e.abrupt("return",t);case 1:return e.next=2,ai(t.me);case 2:o=e.sent,a.innerHTML="<table><tbody></tbody></table>",a.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid #eee 0.5em;"),s=a.firstChild,l=s.firstChild,c=Yr(o),e.prev=3,c.s();case 4:if((u=c.n()).done){e.next=13;break}return p=u.value,d=bi(t,0,p),l.appendChild(d),e.next=5,oi(p,n.type||null);case 5:0===(f=e.sent).length&&(d.style.display="none"),h=Yr(f),e.prev=6,v=w().mark(function e(){var t,n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=m.value,n=Dt(r,g.solid("instance"),t.instance,{deleteFunction:function(){var e=b(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,si(t);case 1:l.removeChild(n);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}),n.children[0].style.paddingLeft="3em",l.appendChild(n);case 1:case"end":return e.stop()}},e)}),h.s();case 7:if((m=h.n()).done){e.next=9;break}return e.delegateYield(v(),"t0",8);case 8:e.next=7;break;case 9:e.next=11;break;case 10:e.prev=10,y=e.catch(6),h.e(y);case 11:return e.prev=11,h.f(),e.finish(11);case 12:e.next=4;break;case 13:e.next=15;break;case 14:e.prev=14,k=e.catch(3),c.e(k);case 15:return e.prev=15,c.f(),e.finish(15);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,null,[[3,14,15,16],[6,10,11,12]])})),wi.apply(this,arguments)}function xi(e){var t=e.createElement("div");t.setAttribute("style","position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center;"),e.body.appendChild(t);var n=e.createElement("div");n.setAttribute("style","\n      background-color: white;\n      box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -webkit-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -moz-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -o-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      border-radius: 4px;\n      min-width: 400px;\n      padding: 10px;\n      z-index : 10;\n    "),t.appendChild(n);var r=e.createElement("div");r.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n    "),n.appendChild(r);var i=e.createElement("label");i.setAttribute("style","margin-right: 5px; font-weight: 800"),i.innerText="Select an identity provider";var a=e.createElement("button");a.innerHTML='<img src="https://solidos.github.io/solid-ui/src/icons/noun_1180156.svg" style="width: 2em; height: 2em;" title="Cancel">',a.setAttribute("style","background-color: transparent; border: none;"),a.addEventListener("click",function(){t.remove()}),r.appendChild(i),r.appendChild(a);var o=function(){var e=b(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x.solidLogicSingleton.store.updater.flagAuthorizationMetadata(),(n=new URL(window.location.href).hash)&&window.localStorage.setItem("preLoginRedirectHash",n),window.localStorage.setItem("loginIssuer",t),(r=new URL(window.location.href)).hash="",e.next=1,x.authSession.login({redirectUrl:r.href,oidcIssuer:t});case 1:e.next=3;break;case 2:e.prev=2,z(e.catch(0).message);case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),s=e.createElement("div");s.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var l=e.createElement("div");l.setAttribute("style","\n      display: flex;\n      flex-direction: row;\n    ");var c=e.createElement("label");c.innerText="Enter the URL of your identity provider:",c.setAttribute("style","color: #888");var u=e.createElement("input");u.setAttribute("type","text"),u.setAttribute("style","margin-left: 0 !important; flex: 1; margin-right: 5px !important"),u.setAttribute("placeholder","https://example.com"),u.value=localStorage.getItem("loginIssuer")||"";var p=e.createElement("button");p.innerText="Go",p.setAttribute("style","margin-top: 12px; margin-bottom: 12px;"),p.addEventListener("click",function(){o(u.value)}),s.appendChild(c),l.appendChild(u),l.appendChild(p),s.appendChild(l),n.appendChild(s);var d=e.createElement("div");d.setAttribute("style","\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var f=e.createElement("label");f.innerText="Or pick an identity provider from the list below:",f.setAttribute("style","color: #888"),d.appendChild(f),(0,x.getSuggestedIssuers)().forEach(function(t){var n=e.createElement("button");n.innerText=t.name,n.setAttribute("style","height: 38px; margin-top: 10px"),n.addEventListener("click",function(){o(t.uri)}),d.appendChild(n)}),n.appendChild(d)}function ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,x.offlineTestID)(),i=e.createElement("div");function a(e){e&&(r=x.authn.saveUser(e),i.refresh(),t&&t(r.uri))}function o(e){var n=r;x.authSession.logout().then(function(){var e="Your WebID was ".concat(n,". It has been forgotten.");r=null;try{z(e)}catch(t){window.alert(e)}i.refresh(),t&&t(null)},function(e){z("Fail to log out:"+e)})}function s(){r=x.authn.currentUser(),i.refresh()}return i.refresh=function(){var t=x.authSession.info;((r=t&&t.webId&&t.isLoggedIn?x.solidLogicSingleton.store.sym(t.webId):null)&&i.me!==r.uri||!r&&i.me)&&(bt(i),r?i.appendChild(function(t,n){var r=n.buttonStyle||Se.signInAndUpButtonStyle,i="WebID logout";if(t){var a=x.solidLogicSingleton.store.any(t,g.foaf("nick"))||x.solidLogicSingleton.store.any(t,g.foaf("name"));a&&(i="Logout "+a.value)}var s=e.createElement("input");return s.setAttribute("type","button"),s.setAttribute("value",i),s.setAttribute("style","".concat(r)),s.addEventListener("click",o,!1),s}(r,n)):i.appendChild(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=n||{}).buttonStyle||Se.signInAndUpButtonStyle,i=e.createElement("div"),a="SolidSignInOrSignUpBox";X.Rm("widgets.signInOrSignUpBox"),i.setUserCallback=t,i.setAttribute("class",a),i.setAttribute("style","display:flex;");var o=e.createElement("input");i.appendChild(o),o.setAttribute("type","button"),o.setAttribute("value","Log in"),o.setAttribute("style","".concat(r).concat(Se.headerBannerLoginInput)+Se.signUpBackground),x.authSession.events.on("login",function(){var t=x.authn.currentUser();if(t){var n=t.uri,r=e.getElementsByClassName(a);X.Rm("Logged in, ".concat(r.length," panels to be serviced"));for(var i=0;i<r.length;i++){var o=r[i];if(o.setUserCallback)try{o.setUserCallback(n);var s=o.parentNode;s&&s.removeChild(o)}catch(t){X.Rm("## Error satisfying login box: ".concat(t)),o.appendChild(lt(e,t))}}}}),o.addEventListener("click",function(){var n=(0,x.offlineTestID)();if(n)return t(n.uri);xi(e)},!1);var s=e.createElement("input");return i.appendChild(s),s.setAttribute("type","button"),s.setAttribute("value","Sign Up for Solid"),s.setAttribute("style","".concat(r).concat(Se.headerBannerLoginInput)+Se.signInBackground),s.addEventListener("click",function(e){(new ln).signup().then(function(e){X.Rm("signInOrSignUpBox signed up "+e),t(e)})},!1),i}(e,a,n))),i.me=r?r.uri:null},i.refresh(),s(),x.authSession.events.on("login",s),x.authSession.events.on("logout",s),i.me="99999",i.refresh(),i}function _i(e,t,n){var r=t.noun,i=t.appPathSegment,a=(0,x.offlineTestID)(),o=e.createElement("div"),s={me:a,dom:e,div:o};function l(t,n){o.appendChild(lt(e,t,n))}function c(e){var t,n=x.solidLogicSingleton.store.any(e,g.space("uriPrefix"));"/"!==(t=n?n.value:e.uri.split("#")[0]).slice(-1)&&(X.Rm("".concat(i,": No / at end of uriPrefix ").concat(t)),t="".concat(t,"/"));var r=new Date;return t+="".concat(i,"/id").concat(r.getTime(),"/")}return ci(s).then(function(t){function i(){return i=b(w().mark(function n(r){var i,a,o,s,l,c;return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=f.appendChild(e.createElement("tr")),(a=i.appendChild(e.createElement("td"))).setAttribute("colspan","3"),a.style.padding="0.5em",c=encodeURI,n.next=1,Mt(e,x.solidLogicSingleton.store,a,g.solid("URL"),g.space("Workspace"),"Workspace");case 1:if(o=c(n.sent),s=Kr(t.preferencesFile),l=[(0,m.st)(t.me,g.space("workspace"),s,t.preferencesFile),(0,m.st)(s,g.space("uriPrefix"),o,t.preferencesFile)],x.solidLogicSingleton.store.updater){n.next=2;break}throw new Error("store has no updater");case 2:return n.next=3,x.solidLogicSingleton.store.updater.update([],l);case 3:case"end":return n.stop()}},n)})),i.apply(this,arguments)}var a=t.me,s=t.preferencesFile,u=null,p=x.solidLogicSingleton.store.each(a,g.space("workspace"),void 0,s),d=x.solidLogicSingleton.store.each(a,g.space("storage"));0===p.length&&d&&(l("You don't seem to have any workspaces. You have ".concat(d.length," storage spaces."),"white"),d.map(function(e){return p=p.concat(x.solidLogicSingleton.store.each(e,g.ldp("contains")))}).filter(function(e){return e.id?["public","private"].includes(e.id().toLowerCase()):""})),1===p.length&&(l("Workspace used: ".concat(p[0].uri),"white"),u=c(p[0]));var f=e.createElement("table");f.setAttribute("style","border-collapse:separate; border-spacing: 0.5em;"),o.appendChild(f),o.appendChild(e.createElement("hr"));var h=o.appendChild(e.createElement("p"));h.setAttribute("style",Se.commentStyle),h.textContent="Where would you like to store the data for the ".concat(r,"?\n    Give the URL of the folder where you would like the data stored.\n    It can be anywhere in solid world - this URI is just an idea.");var v=o.appendChild(e.createElement("input"));v.setAttribute("type","text"),v.setAttribute("style",Se.textInputStyle),v.size=80,v.label="base URL",v.autocomplete="on",u&&(v.value=u),t.baseField=v,o.appendChild(e.createElement("br"));var y,k,_,E,C,S,A,T=o.appendChild(e.createElement("button"));T.setAttribute("style",Se.buttonStyle),T.textContent="Start new ".concat(r," at this URI"),T.addEventListener("click",function(e){var t=v.value.replace(" ","%20");"/"!==t.slice(-1)&&(t+="/"),n(null,t)}),p=p.filter(function(e){return!x.solidLogicSingleton.store.holds(e,g.rdf("type"),g.space("MasterWorkspace"))});for(var R="height: 3em; margin: 1em; padding: 1em white; border-radius: 0.3em;",P="".concat(R,"border: 0px;"),F=0;F<p.length;F++){if(C=p[F],E=e.createElement("tr"),0===F&&((y=e.createElement("td")).setAttribute("rowspan","".concat(p.length)),y.textContent="Choose a workspace for this:",y.setAttribute("style","vertical-align:middle;"),E.appendChild(y)),k=e.createElement("td"),!(S=x.solidLogicSingleton.store.anyValue(C,g.ui("style")))){var I="#".concat((16777215&function(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)}(C.uri)|12632256).toString(16));S="color: black ; background-color: ".concat(I,";")}k.setAttribute("style",P+S),E.target=C.uri;var N=x.solidLogicSingleton.store.any(C,g.rdfs("label"));N||(N=C.uri.split("/").slice(-1)[0]||C.uri.split("/").slice(-2)[0]),k.textContent=N||"???",E.appendChild(k),0===F&&((_=e.createElement("td")).setAttribute("rowspan","".concat(p.length,"1")),_.setAttribute("style","width:50%;"),E.appendChild(_)),f.appendChild(E),A=(A=x.solidLogicSingleton.store.any(C,g.rdfs("comment")))?A.value:"Use this workspace",k.addEventListener("click",function(t){_.textContent=A?A.value:"",_.setAttribute("style",P+S);var r=e.createElement("button");r.textContent="Continue";var i=c(C);v.value=i,r.addEventListener("click",function(e){r.disabled=!0,n(C,i),r.textContent="----\x3e"},!0),_.appendChild(r)},!0)}var O=e.createElement("tr");(k=e.createElement("td")).setAttribute("style",R),k.textContent="+ Make a new workspace",k.addEventListener("click",function(e){return i.apply(this,arguments)}),O.appendChild(k),f.appendChild(O)}).catch(function(e){o.appendChild(lt(s.dom,e))}),o}function Ei(e,t,n){var r=function(e,t){n(e,t)},i=e.createElement("div"),a=e.createElement("button");return a.setAttribute("type","button"),i.appendChild(a),a.innerHTML="Make new ".concat(t.noun),a.addEventListener("click",function(n){i.appendChild(_i(e,t,r))},!1),i.appendChild(a),i}function Ci(){return Si.apply(this,arguments)}function Si(){return(Si=b(w().mark(function e(){var t,n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,ci({});case 1:if(t=e.sent,n=t.me,r=t.preferencesFile,i=t.preferencesFileError,r&&!i){e.next=2;break}throw new Error(i);case 2:return e.abrupt("return",x.solidLogicSingleton.store.each(n,g.rdf("type"),null,r.doc()));case 3:return e.prev=3,a=e.catch(0),X.R8("Unable to fetch your preferences - this was the error: ",a),e.abrupt("return",[]);case 4:case"end":return e.stop()}},e,null,[[0,3]])}))).apply(this,arguments)}function Ai(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=b(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Ci();case 1:return n=e.sent,e.abrupt("return",t.filter(function(e){return Ri(e,n)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ri(e,t){return(e.audience||[]).reduce(function(e,n){return e&&!!t.find(function(e){return e.equals(n)})},!0)}x.authSession.events.on("logout",b(w().mark(function e(){var t,n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.localStorage.getItem("loginIssuer"))){e.next=6;break}return e.prev=1,x.solidLogicSingleton.store.updater.flagAuthorizationMetadata(),(n=new URL(t)).pathname="/.well-known/openid-configuration",e.next=2,fetch(n.toString());case 2:if(200!==(r=e.sent).status){e.next=4;break}return e.next=3,r.json();case 3:if(!(i=e.sent)||!i.end_session_endpoint){e.next=4;break}return e.next=4,fetch(i.end_session_endpoint,{credentials:"include"});case 4:e.next=6;break;case 5:e.prev=5,e.catch(1);case 6:window.location.reload();case 7:case"end":return e.stop()}},e,null,[[1,5]])})));var Pi=function(){return we(function e(t){ge(this,e),on(this,"isExpanded",!1),this.groupList=t,this.rootElement=t.controller.dom.createElement("div"),this.barElement=t.controller.dom.createElement("div")},[{key:"render",value:function(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.renderAddButton()),this.rootElement.appendChild(this.barElement),this.rootElement}},{key:"renderAddButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,"".concat(Fe.Pt.iconBase,"noun_34653_green.svg"),"Add ...",function(){e.toggleBar(),e.renderBar()})}},{key:"renderBar",value:function(){this.barElement.innerHTML="",this.isExpanded&&(this.barElement.appendChild(this.renderPersonButton()),this.barElement.appendChild(this.renderGroupButton()),this.barElement.appendChild(this.renderPublicButton()),this.barElement.appendChild(this.renderAuthenticatedAgentButton()),this.barElement.appendChild(this.renderBotButton()),this.barElement.appendChild(this.renderAppsButton()))}},{key:"renderSimplifiedBar",value:function(e){var t=this;Array.from(this.barElement.children).filter(function(t){return t!==e}).forEach(function(e){return t.barElement.removeChild(e)})}},{key:"renderPersonButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,Fe.Pt.iconBase+St["vcard:Individual"],"Add Person",function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(g.vcard("Individual"),"person").then(function(t){return e.addPerson(t)}).then(function(){return e.renderCleanup()}).catch(function(t){return e.groupList.controller.renderStatus(t)})})}},{key:"renderGroupButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,Fe.Pt.iconBase+St["vcard:Group"],"Add Group",function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(g.vcard("Group"),"group").then(function(t){return e.addGroup(t)}).then(function(){return e.renderCleanup()}).catch(function(t){return e.groupList.controller.renderStatus(t)})})}},{key:"renderNameForm",value:function(e,t){return Mt(this.groupList.controller.dom,this.groupList.store,this.barElement,g.vcard("URI"),e,t)}},{key:"renderPublicButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,Fe.Pt.iconBase+St["foaf:Agent"],"Add Everyone",function(){return e.addAgent(g.foaf("Agent").uri).then(function(){return e.groupList.controller.renderTemporaryStatus("Adding the general public to those who can read. Drag the globe to a different level to give them more access.")}).then(function(){return e.renderCleanup()})})}},{key:"renderAuthenticatedAgentButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,"".concat(Fe.Pt.iconBase,"noun_99101.svg"),"Anyone logged In",function(){return e.addAgent(g.acl("AuthenticatedAgent").uri).then(function(){return e.groupList.controller.renderTemporaryStatus("Adding anyone logged in to those who can read. Drag the ID icon to a different level to give them more access.")}).then(function(){return e.renderCleanup()})})}},{key:"renderBotButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,Fe.Pt.iconBase+"noun_Robot_849764.svg","A Software Agent (bot)",function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(g.schema("Application"),"bot").then(function(t){return e.addBot(t)}).then(function(){return e.renderCleanup()})})}},{key:"renderAppsButton",value:function(){var e=this;return Ot(this.groupList.controller.dom,"".concat(Fe.Pt.iconBase,"noun_15177.svg"),"A Web App (origin)",function(t){e.renderSimplifiedBar(t.target);var n={div:e.barElement,dom:e.groupList.controller.dom},r=e.renderAppsTable(n).catch(function(t){return e.groupList.controller.renderStatus(t)});e.renderAppsView();var i=e.renderNameForm(g.schema("WebApplication"),"webapp domain").then(function(t){return e.getOriginFromName(t)});Promise.race([r,i]).then(function(t){t&&e.groupList.addNewURI(t)}).then(function(){return e.renderCleanup()})})}},{key:"renderAppsView",value:function(){var e=this,t=this.groupList.controller.context.session.paneRegistry.byName("trustedApplications");if(t){var n=t.render(null,this.groupList.controller.context);n.setAttribute("style",Se.trustedAppController);var r=Lt(this.groupList.controller.dom,function(){return e.renderCleanup()});r.setAttribute("style",Se.trustedAppCancelButton),n.insertBefore(r,n.firstChild),this.barElement.appendChild(n)}}},{key:"renderAppsTable",value:(a=b(w().mark(function e(t){var n,r,i=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,pi(t);case 1:return n=this.groupList.store.each(t.me,g.acl("trustedApp")),r=n.flatMap(function(e){return i.groupList.store.each(e,g.acl("origin"))}),this.barElement.appendChild(this.groupList.controller.dom.createElement("p")).textContent="You have ".concat(r.length," selected web apps."),e.abrupt("return",new Promise(function(e,t){var r=i.barElement.appendChild(i.groupList.controller.dom.createElement("table"));r.setAttribute("style",Se.trustedAppAddApplicationsTable),n.forEach(function(n){var a=i.groupList.store.any(n,g.acl("origin"));a||t(new Error("Unable to pick app: ".concat(n.value)));var o=Dt(i.groupList.controller.dom,g.acl("origin"),a,{}),s=i.groupList.controller.dom.createElement("table"),l=s.appendChild(i.groupList.controller.dom.createElement("tr"));l.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(o),l.appendChild(i.groupList.controller.dom.createElement("td")).textContent="Give access to ".concat(i.groupList.controller.noun," ").concat(Q(i.groupList.controller.subject),"?"),l.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(jt(i.groupList.controller.dom,function(){return e(a.value)})),r.appendChild(s)})}));case 2:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"renderCleanup",value:function(){this.renderBar(),this.groupList.render()}},{key:"addPerson",value:(i=b(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",this.toggleBar());case 1:if(n=/^https?:/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 2:return X.Rm("Adding to ACL person: ".concat(t)),e.next=3,this.groupList.addNewURI(t);case 3:this.toggleBar();case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"addGroup",value:(r=b(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",this.toggleBar());case 1:if(n=/^https?:/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 2:return X.Rm("Adding to ACL group: "+t),e.next=3,this.groupList.addNewURI(t);case 3:this.toggleBar();case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"addAgent",value:(n=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.groupList.addNewURI(t);case 1:this.toggleBar();case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"addBot",value:(t=b(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",this.toggleBar());case 1:if(n=/^https?:/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 2:return X.Rm("Adding to ACL bot: "+t),e.next=3,this.groupList.addNewURI(t);case 3:this.toggleBar();case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getOriginFromName",value:(e=b(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",Promise.resolve());case 1:if(n=/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a domain name")));case 2:return r="https://"+t,X.Rm("Adding to ACL origin: "+r),this.toggleBar(),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"toggleBar",value:function(){this.isExpanded=!this.isExpanded}}]);var e,t,n,r,i,a}(),Fi=g.acl,Ii={13:"Owners",9:"Owners (write locked)",5:"Editors",3:"Posters",2:"Submitters",1:"Viewers"},Ni={13:!0,5:!0,3:!0,2:!0,1:!0},Oi={13:"can read, write, and control sharing.",9:"can read and control sharing, currently write-locked.",5:"can read and change information",3:"can add new information, and read but not change existing information",2:"can add new information but not read any",1:"can read but not change information"},Li=function(){return we(function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};ge(this,e),this.doc=t,this.aclDoc=n,this.controller=r,this._options=a,this.defaults=this._options.defaults||!1,this._store=i,this.aclMap=te(t,n,i,this.defaults),this.byCombo=ae(this.aclMap),this.addAgentButton=new Pi(this),this.rootElement=this.controller.dom.createElement("div"),this.rootElement.setAttribute("style",Se.accessGroupList)},[{key:"store",get:function(){return this._store},set:function(e){this._store=e,this.aclMap=te(this.doc,this.aclDoc,e,this.defaults),this.byCombo=ae(this.aclMap)}},{key:"render",value:function(){var e=this;return this.rootElement.innerHTML="",this.renderGroups().forEach(function(t){return e.rootElement.appendChild(t)}),this.controller.isEditable&&this.rootElement.appendChild(this.addAgentButton.render()),this.rootElement}},{key:"renderGroups",value:function(){for(var e=[],t=15;t>0;t--){var n=ji(t);(this.controller.isEditable&&Ni[t]||this.byCombo[n])&&e.push(this.renderGroup(t,n))}return e}},{key:"renderGroup",value:function(e,t){var n=this,r=this.controller.dom.createElement("div");return r.setAttribute("style",Se.accessGroupListItem),Ae(r,function(e){return n.handleDroppedUris(e,t).then(function(){return n.controller.render()}).catch(function(e){return n.controller.renderStatus(e)})}),this.renderGroupElements(e,t).forEach(function(e){return r.appendChild(e)}),r}},{key:"renderGroupElements",value:function(e,t){var n=this,r=this.controller.dom.createElement("div");if(r.setAttribute("style",Se.group),this.controller.isEditable)switch(e){case 1:r.setAttribute("style",Se.group1);break;case 2:r.setAttribute("style",Se.group2);break;case 3:r.setAttribute("style",Se.group3);break;case 5:r.setAttribute("style",Se.group5);break;case 9:r.setAttribute("style",Se.group9);break;case 13:r.setAttribute("style",Se.group13);break;default:r.setAttribute("style",Se.group)}r.innerText=Ii[e]||function(e){for(var t="",n=["Read","Append","Write","Control"],r=0;r<4;r++)e&1<<r&&(t+=n[r]);return t}(e);var i=this.controller.dom.createElement("div");if(i.setAttribute("style",Se.group),this.controller.isEditable)switch(e){case 1:i.setAttribute("style",Se.group1);break;case 2:i.setAttribute("style",Se.group2);break;case 3:i.setAttribute("style",Se.group3);break;case 5:i.setAttribute("style",Se.group5);break;case 9:i.setAttribute("style",Se.group9);break;case 13:i.setAttribute("style",Se.group13);break;default:i.setAttribute("style",Se.group)}var a=i.appendChild(this.controller.dom.createElement("table"));(this.byCombo[t]||[]).map(function(e){var r=_e(e,2),i=r[0],o=r[1];return n.renderAgent(a,t,i,o)}).forEach(function(e){return a.appendChild(e)});var o=this.controller.dom.createElement("div");if(o.setAttribute("style",Se.group),this.controller.isEditable)switch(e){case 1:o.setAttribute("style",Se.group1);break;case 2:o.setAttribute("style",Se.group2);break;case 3:o.setAttribute("style",Se.group3);break;case 5:o.setAttribute("style",Se.group5);break;case 9:o.setAttribute("style",Se.group9);break;case 13:o.setAttribute("style",Se.group13);break;default:o.setAttribute("style",Se.group)}return o.innerText=Oi[e]||"Unusual combination",[r,i,o]}},{key:"renderAgent",value:function(e,t,n,r){var i=this,a=Dt(this.controller.dom,Fi(n),(0,m.sym)(r),this.controller.isEditable?{deleteFunction:function(){return i.deleteAgent(t,n,r).then(function(){return e.removeChild(a)}).catch(function(e){return i.controller.renderStatus(e)})}}:{});return a}},{key:"deleteAgent",value:(r=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.byCombo[t]||[],(a=i.find(function(e){var t=_e(e,2),i=t[0],a=t[1];return i===n&&a===r}))&&i.splice(i.indexOf(a),1),e.next=1,this.controller.save();case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"addNewURI",value:(n=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.handleDroppedUri(t,ji(1));case 1:return e.next=2,this.controller.save();case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"handleDroppedUris",value:(t=b(w().mark(function e(t,n){var r,i=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Promise.all(t.map(function(e){return i.handleDroppedUri(e,n)}));case 1:return e.next=2,this.controller.save();case 2:e.next=4;break;case 3:return e.prev=3,r=e.catch(0),e.abrupt("return",Promise.reject(r));case 4:case"end":return e.stop()}},e,this,[[0,3]])})),function(e,n){return t.apply(this,arguments)})},{key:"handleDroppedUri",value:(e=b(w().mark(function e(t,n){var r,i,a,o,s,l,c,u=arguments;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],i=Mi(t,this.store),a=(0,m.sym)(t),i||r){e.next=5;break}return X.Rm("   Not obvious: looking up dropped thing ".concat(a)),e.prev=1,e.next=2,null===(o=this._store)||void 0===o||null===(o=o.fetcher)||void 0===o?void 0:o.load(a.doc());case 2:e.next=4;break;case 3:return e.prev=3,c=e.catch(1),s="Ignore error looking up dropped thing: ".concat(c),X.z3(s),e.abrupt("return",Promise.reject(new Error(s)));case 4:return e.abrupt("return",this.handleDroppedUri(t,n,!0));case 5:if(i){e.next=6;break}return l="   Error: Drop fails to drop appropriate thing! ".concat(t),X.z3(l),e.abrupt("return",Promise.reject(new Error(l)));case 6:this.setACLCombo(n,t,i,this.controller.subject);case 7:case"end":return e.stop()}},e,this,[[1,3]])})),function(t,n){return e.apply(this,arguments)})},{key:"setACLCombo",value:function(e,t,n,r){e in this.byCombo||(this.byCombo[e]=[]),this.removeAgentFromCombos(t),this.byCombo[e].push([n.pred,n.obj.uri]),X.Rm("ACL: setting access to ".concat(r," by ").concat(n.pred,": ").concat(n.obj))}},{key:"removeAgentFromCombos",value:function(e){for(var t=0;t<16;t++){var n=this.byCombo[ji(t)];if(n)for(var r=0;r<n.length;r++)for(;r<n.length&&n[r][1]===e;)n.splice(r,1)}}}]);var e,t,n,r}();function ji(e){for(var t=["Read","Append","Write","Control"],n=[],r=0;r<4;r++)e&1<<r&&n.push("http://www.w3.org/ns/auth/acl#"+t[r]);return n.sort(),n.join("\n")}function Mi(e,t){var n=(0,m.sym)(e),r=t.findTypeURIs(n);for(var i in r)X.Rm("    drop object type includes: "+i);if(e.startsWith("http")&&3===e.split("/").length)return{pred:"origin",obj:n};if(e.startsWith("http")&&4===e.split("/").length&&e.endsWith("/"))return X.Rm("Assuming final slash on dragged origin URI was unintended!"),{pred:"origin",obj:(0,m.sym)(e.slice(0,-1))};if(g.vcard("WebID").uri in r)return{pred:"agent",obj:n};if(g.vcard("Group").uri in r)return{pred:"agentGroup",obj:n};if(n.sameTerm(g.foaf("Agent"))||n.sameTerm(g.acl("AuthenticatedAgent"))||n.sameTerm(g.rdf("Resource"))||n.sameTerm(g.owl("Thing")))return{pred:"agentClass",obj:n};if(g.vcard("Individual").uri in r||g.foaf("Person").uri in r||g.foaf("Agent").uri in r){var a=t.any(n,g.foaf("preferredURI"));return a?{pred:"agent",obj:(0,m.sym)(a)}:{pred:"agent",obj:n}}return g.solid("AppProvider").uri in r?{pred:"origin",obj:n}:g.solid("AppProviderClass").uri in r?{pred:"originClass",obj:n}:(X.Rm("    Triage fails for "+e),null)}var Di=function(){return we(function e(t,n,r,i,a,o,s,l,c,u,p,d){if(ge(this,e),this.subject=t,this.noun=n,this.context=r,this.statusElement=i,this.targetIsProtected=a,this.targetDoc=o,this.targetACLDoc=s,this.defaultHolder=l,this.defaultACLDoc=c,this.prospectiveDefaultHolder=u,this.store=p,this.dom=d,this.rootElement=d.createElement("div"),this.rootElement.setAttribute("style",Se.aclGroupContent),this.isContainer="/"===o.uri.slice(-1),l&&c){this.isUsingDefaults=!0;var f=ee(this.targetDoc,s,l,c);this.mainCombo=new Li(o,s,this,f,{defaults:this.isContainer}),this.defaultsCombo=null,this.defaultsDiffer=!1}else this.isUsingDefaults=!1,this.mainCombo=new Li(o,s,this,p),this.defaultsCombo=new Li(o,s,this,p,{defaults:this.isContainer}),this.defaultsDiffer=!ne(this.mainCombo.aclMap,this.defaultsCombo.aclMap)},[{key:"isEditable",get:function(){return!this.isUsingDefaults}},{key:"render",value:function(){if(this.rootElement.innerHTML="",this.isUsingDefaults){if(this.renderStatus("The sharing for this ".concat(this.noun," is the default for folder ")),this.defaultHolder){var e=this.statusElement.appendChild(this.dom.createElement("a"));e.href=this.defaultHolder.uri,e.innerText=qi(this.defaultHolder)}}else!this.defaultsDiffer&&this.isContainer?this.renderStatus("This is also the default for things in this folder."):this.renderStatus("");return this.rootElement.appendChild(this.mainCombo.render()),this.defaultsCombo&&this.defaultsDiffer?(this.rootElement.appendChild(this.renderRemoveDefaultsController()),this.rootElement.appendChild(this.defaultsCombo.render())):this.isEditable&&this.isContainer&&this.rootElement.appendChild(this.renderAddDefaultsController()),!this.targetIsProtected&&this.isUsingDefaults?this.rootElement.appendChild(this.renderAddAclsController()):this.targetIsProtected||this.rootElement.appendChild(this.renderRemoveAclsController()),this.rootElement}},{key:"renderRemoveAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Remove custom sharing settings for this ".concat(this.noun," -- just use default").concat(this.prospectiveDefaultHolder?" for ".concat(Q(this.prospectiveDefaultHolder)):""),t.setAttribute("style",Se.bigButton),t.addEventListener("click",function(){return e.removeAcls().then(function(){return e.render()}).catch(function(t){return e.renderStatus(t)})}),t}},{key:"renderAddAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Set specific sharing for this ".concat(this.noun),t.setAttribute("style",Se.bigButton),t.addEventListener("click",function(){return e.addAcls().then(function(){return e.render()}).catch(function(t){return e.renderStatus(t)})}),t}},{key:"renderAddDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.setAttribute("style",Se.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Sharing for things within the folder currently tracks sharing for the folder.",n.setAttribute("style",Se.defaultsControllerNotice);var r=t.appendChild(this.dom.createElement("button"));return r.innerText="Set the sharing of folder contents separately from the sharing for the folder",r.setAttribute("style",Se.bigButton),r.addEventListener("click",function(){return e.addDefaults().then(function(){return e.render()})}),t}},{key:"renderRemoveDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.setAttribute("style",Se.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Access to things within this folder:",n.setAttribute("style",Se.defaultsControllerNotice);var r=t.appendChild(this.dom.createElement("button"));return r.innerText="Set default for folder contents to just track the sharing for the folder",r.setAttribute("style",Se.bigButton),r.addEventListener("click",function(){return e.removeDefaults().then(function(){return e.render()}).catch(function(t){return e.renderStatus(t)})}),t}},{key:"renderTemporaryStatus",value:function(e){var t=this;this.statusElement.setAttribute("style",Se.aclControlBoxStatusRevealed),this.statusElement.innerText=e,this.statusElement.setAttribute("style",Se.temporaryStatusInit),setTimeout(function(){t.statusElement.setAttribute("style",Se.temporaryStatusEnd)}),setTimeout(function(){t.statusElement.innerText=""},5e3)}},{key:"renderStatus",value:function(e){e||this.statusElement.setAttribute("style",Se.aclControlBoxStatusRevealed),this.statusElement.innerText=e}},{key:"addAcls",value:(r=b(w().mark(function e(){var t,n,r,i=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.defaultHolder&&this.defaultACLDoc){e.next=1;break}return t="Unable to find defaults to copy",X.z3(t),e.abrupt("return",Promise.reject(t));case 1:return ee(this.targetDoc,this.targetACLDoc,this.defaultHolder,this.defaultACLDoc).statements.forEach(function(e){return i.store.add(e.subject,e.predicate,e.object,i.targetACLDoc)}),e.prev=2,e.next=3,this.store.fetcher.putBack(this.targetACLDoc);case 3:return this.isUsingDefaults=!1,e.abrupt("return",Promise.resolve());case 4:return e.prev=4,r=e.catch(2),n=" Error writing back access control file! ".concat(r),X.z3(n),e.abrupt("return",Promise.reject(n));case 5:case"end":return e.stop()}},e,this,[[2,4]])})),function(){return r.apply(this,arguments)})},{key:"addDefaults",value:(n=b(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.defaultsCombo=new Li(this.targetDoc,this.targetACLDoc,this,this.store,{defaults:!0}),this.defaultsDiffer=!0;case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"removeAcls",value:(t=b(w().mark(function e(){var t,n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,this.store.fetcher.delete(this.targetACLDoc.uri,{});case 1:return this.isUsingDefaults=!0,e.prev=2,e.next=3,he(this.targetDoc.uri);case 3:this.prospectiveDefaultHolder=e.sent,e.next=5;break;case 4:e.prev=4,n=e.catch(2),X.R8(n);case 5:e.next=7;break;case 6:return e.prev=6,r=e.catch(0),t="Error deleting access control file: ".concat(this.targetACLDoc,": ").concat(r),X.z3(t),e.abrupt("return",Promise.reject(t));case 7:case"end":return e.stop()}},e,this,[[0,6],[2,4]])})),function(){return t.apply(this,arguments)})},{key:"removeDefaults",value:(e=b(w().mark(function e(){var t,n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.defaultsCombo,e.prev=1,this.defaultsCombo=null,this.defaultsDiffer=!1,e.next=2,this.save();case 2:e.next=4;break;case 3:return e.prev=3,n=e.catch(1),this.defaultsCombo=t,this.defaultsDiffer=!0,X.z3(n),e.abrupt("return",Promise.reject(n));case 4:case"end":return e.stop()}},e,this,[[1,3]])})),function(){return e.apply(this,arguments)})},{key:"save",value:function(){var e=this,t=(0,m.graph)();this.isContainer?this.defaultsCombo&&this.defaultsDiffer?(se(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),se(t,this.targetDoc,this.defaultsCombo.byCombo,this.targetACLDoc,!1,!0)):se(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0,!0):se(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),t.fetcher=(0,m.fetcher)(t,{fetch:this.store.fetcher._fetch});var n=t.updater||new m.UpdateManager(t);return new Promise(function(r,i){n.put(e.targetACLDoc,t.statementsMatching(void 0,void 0,void 0,e.targetACLDoc),"text/turtle",function(n,a,o){if(!a)return i(new Error("ACL file save failed: ".concat(o)));e.store.fetcher.unload(e.targetACLDoc),e.store.add(t.statements),e.store.fetcher.requested[e.targetACLDoc.uri]="done",e.mainCombo.store=e.store,e.defaultsCombo&&(e.defaultsCombo.store=e.store),e.defaultsDiffer=!!e.defaultsCombo&&!ne(e.mainCombo.aclMap,e.defaultsCombo.aclMap),X.Rm("ACL modification: success!"),r()})})}}]);var e,t,n,r}(),Ui=window,Bi=Symbol("prevent double triggering of drop event");function zi(e){e.stopPropagation(),e.preventDefault()}function Hi(e){e.dataTransfer.files.length>0&&(Ui.confirm("Are you sure you want to drop this file here? (Cancel opens it in a new tab)")||(e.stopPropagation(),e.preventDefault(),(0,X.Rm)("@@@@ document-level DROP suppressed: "+e.dataTransfer.dropEffect)))}function qi(e){var t=e.uri;"/"===t.slice(-1)&&(t=t.slice(0,-1));var n=t.lastIndexOf("/");return n>=0&&(t=t.slice(n+1)),t||"/"}function $i(){return $i=b(w().mark(function e(t,n,r,i,a,o,s){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,l){return de(t,function(){var t=b(w().mark(function t(c,u,p,d,f,h){var m,g,v,b,y;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(b=function(e){return new Di(r,i,a,s,g,p,d,f,h,e,n,o)},c){t.next=1;break}return t.abrupt("return",l(new Error("Error reading ".concat(u?"":" default ","ACL. status ").concat(p,": ").concat(d))));case 1:if(m=Wi(p),(g=Vi(p,d,n)||Gi(p))||!m){t.next=5;break}return t.prev=2,t.next=3,he(m);case 3:return v=t.sent,t.abrupt("return",e(b(v)));case 4:t.prev=4,y=t.catch(2),(0,X.R8)(y);case 5:return t.abrupt("return",e(b()));case 6:case"end":return t.stop()}},t,null,[[2,4]])}));return function(e,n,r,i,a,o){return t.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}},e)})),$i.apply(this,arguments)}function Wi(e){var t=e.uri.split("#")[0],n=t.slice(0,-1).lastIndexOf("/"),r=t.indexOf("//");return r>=0&&n<r+2||n<0?null:t.slice(0,n+1)}function Vi(e,t,n){return n.holds(e,g.rdf("type"),g.space("Storage"),t)}function Gi(e){return e.uri===e.site().uri}var Ki={adoptACLDefault:ee,readACL:te,sameACL:ne,ACLunion:re,loadUnionACL:ie,ACLbyCombination:ae,makeACLGraph:oe,makeACLGraphbyCombo:se,ACLToString:function(e){return le(ae(e))},comboToString:le,makeACLString:function(e,t,n){var r=(0,m.graph)();return oe(r,e,t,n),(0,m.serialize)(n,r,n.uri,"text/turtle")||""},putACLObject:ce,putACLbyCombo:ue,fixIndividualCardACL:function(e,t,n){var r=Z.each(void 0,g.vcard("hasMember"),e);r?pe(e,r,t,n):(t("This card is in no groups"),n(!0))},fixIndividualACL:pe,setACL:function(e,t,n){var r=Z.any(e,x.ACL_LINK);if(!Z.fetcher)throw new Error("Store has no fetcher");r?Z.fetcher.webOperation("PUT",r.value,{data:t,contentType:"text/turtle"}).then(function(e){n(e.ok,e.error||"")}):Z.fetcher.nowOrWhenFetched(e,void 0,function(r,i){if(!r)return n(r,"Gettting headers for ACL: "+i);var a=Z.any(e,x.ACL_LINK);if(a){if(!Z.fetcher)throw new Error("Store has no fetcher");Z.fetcher.webOperation("PUT",a.value,{data:t,contentType:"text/turtle"}).then(function(e){n(e.ok,e.error||"")})}else n(!1,"No Link rel=ACL header for "+e)})},getACLorDefault:de,getACL:fe},Ji={preventBrowserDropEvents:function(e){if((0,X.Rm)("preventBrowserDropEvents called."),void 0!==Ui){if(Ui[Bi])return;Ui[Bi]=!0}e.addEventListener("drop",Hi,!1),e.addEventListener("dragenter",zi,!1),e.addEventListener("dragover",zi,!1)},shortNameForFolder:qi,ACLControlBox5:function(e,t,n,r){var i=t.dom,a=e.doc(),o=i.createElement("div");o.setAttribute("style",Se.aclControlBoxContainer);var s=o.appendChild(i.createElement("h1"));s.textContent="Sharing for ".concat(n," ").concat(Q(e)),s.setAttribute("style",Se.aclControlBoxHeader);var l=o.appendChild(i.createElement("div"));l.setAttribute("style",Se.aclControlBoxStatus);try{(function(e,t,n,r,i,a,o){return $i.apply(this,arguments)})(a,r,e,n,t,i,l).then(function(e){return o.appendChild(e.render())})}catch(e){l.innerText=e}return o}},Qi=x.solidLogicSingleton.store,Yi={newThingUI:function(e,t,n){var r=e.dom,i=e.div;if(e.me&&!e.me.uri)throw new Error("newThingUI:  Invalid userid: "+e.me);var a="padding: 0.7em; width: 2em; height: 2em;",o=i.appendChild(r.createElement("img")),s=!1;o.setAttribute("src",Fe.Pt.iconBase+"noun_34653_green.svg"),o.setAttribute("style",a),o.setAttribute("title","Add another tool");var l=function(e){var t=i.appendChild(r.createElement("pre"));t.setAttribute("style","background-color: pink"),t.appendChild(r.createTextNode(e))};function c(e){for(var t=0;t<p.length;t++){var n=a+e;p[t].disabled&&(n+="opacity: 0.3;"),p[t].setAttribute("style",n)}}function u(e){s=!s,o.setAttribute("style",a+(s?"background-color: yellow;":"")),c(s?"":"display: none;")}o.addEventListener("click",u);var p=[],d=Object.values(n).filter(function(e){return e.mintNew}),f=d.reduce(function(e,t){return t.mintClass&&(e[t.mintClass.uri]=(e[t.mintClass.uri]||0)+1),e},{});d.forEach(function(n){var i=e.div.appendChild(r.createElement("img"));i.setAttribute("src",n.icon);var o=n.mintClass?f[n.mintClass.uri]>1?"".concat(Q(n.mintClass)," (using ").concat(n.name," pane)"):Q(n.mintClass):n.name+" @@";i.setAttribute("title","Make new "+o),i.setAttribute("style",a+"display: none;"),p.push(i),i.disabled||i.addEventListener("click",function(s){var p;!function(e){c("display: none;"),e.setAttribute("style",a+"background-color: yellow;")}(i),p={event:s,folder:e.folder||null,iconEle:i,pane:n,noun:o,noIndexHTML:!0,div:e.div,me:e.me,dom:e.dom,refreshTarget:e.refreshTarget},new Promise(function(n,i){var a;function o(n,a){pi(e).then(function(e){var o=Object.assign({newBase:a,folder:p.folder||void 0,workspace:n},p);for(var s in p)o[s]=p[s];X.Rm("newThingUI: Minting new ".concat(o.pane.name," at ").concat(o.newBase)),p.pane.mintNew(t,o).then(function(e){if(!e||!e.newInstance)throw new Error("Cannot mint new - missing newInstance");if(e.folder){var t=e.newInstance.uri.slice(e.folder.uri.length).includes("/");X.Rm("  new thing is packge? "+t),t?Qi.add(e.folder,g.ldp("contains"),Qi.sym(e.newBase),e.folder.doc()):Qi.add(e.folder,g.ldp("contains"),e.newInstance,e.folder.doc()),e.refreshTarget&&e.refreshTarget.refresh&&e.refreshTarget.refresh()}else{var n=p.div.appendChild(r.createElement("p"));n.setAttribute("style","font-size: 120%;"),n.innerHTML="Your <a target='_blank' href='"+e.newInstance.uri+"'><b>new "+p.noun+"</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+e.newInstance.uri+"'>Go to your new "+p.noun+".</a>"}u()}).catch(function(e){l(e),i(e)})},function(e){l("Error logging on: "+e)})}var s=p.pane;p.noun=s.mintClass?Q(s.mintClass):s.name,p.appPathSegment=p.noun.slice(0,1).toUpperCase()+p.noun.slice(1),p.folder?Mt(r,0,p.div,g.foaf("name"),null,p.noun).then(function(e){if(e){var t=p.folder.uri;t.endsWith("/")||(t+="/"),o(null,t=t+encodeURIComponent(e)+"/")}else u()}):(a=_i(r,{noun:p.noun,appPathSegment:p.appPathSegment},o),p.div.appendChild(a))})})})}},Xi=x.solidLogicSingleton.store,Zi={matrixForQuery:function(e,t,n,r,i,a,o){var s=e.createElement("table"),l=e.createElement("tr");l.appendChild(e.createElement("td")).setAttribute("class","MatrixCorner"),s.appendChild(l),s.lastHeader=l;var c=[],u=[],p=function(e,t,n,r){for(;e.firstChild;)e.removeChild(e.firstChild);e.setAttribute("style",""),e.style.textAlign="center",a.cellFunction?a.cellFunction(e,t,n,r):(e.textContent=Q(r),e.setAttribute("style","padding: 0.3em")),delete e.old},d=function(t){var n=t.toNT();if(u[n])return u[n];var r=e.createElement("tr"),i=r.appendChild(e.createElement("td"));i.setAttribute("style","padding: 0.3em;"),i.textContent=Q(t),"NamedNode"===t.termType&&Xi.fetcher.nowOrWhenFetched(t.uri.split("#")[0],void 0,function(e,n,r){e&&(i.textContent=Q(t))});for(var o=0;o<c.length;o++)p(r.appendChild(e.createElement("td")),m.fromNT(c[o]),t,null);r.dataValueNT=n,u[n]=r;for(var l=s.lastHeader.nextSibling;l;l=l.nextSibling)if(n>l.dataValueNT&&a&&a.yDecreasing||n<l.dataValueNT&&(!a||!a.yDecreasing))return s.insertBefore(r,l);return s.appendChild(r)},f=function(t){for(var n=t.toNT(),r=null,i=0;i<c.length;i++){if(c[i]===n)return i;if(n>c[i]&&a.xDecreasing||n<c[i]&&!a.xDecreasing){c=c.slice(0,i).concat([n]).concat(c.slice(i)),r=i;break}}null===r&&(r=c.length,c.push(n));for(var o=s.firstChild;o;o=o.nextSibling){var l=o.dataValueNT,u=e.createElement("td");if(u.style.textAlign="center",o===s.firstChild?u.textContent=Q(t):p(u,t,m.fromNT(l),null),r===c.length-1)o.appendChild(u);else{for(var d=o.firstChild,f=0;f<r+1;f++)d=d.nextSibling;o.insertBefore(u,d)}}return r},h=function(){var e,t,n=[],r=[];if(a.set_y)for(var i=0;i<a.set_y.length;i++)r[a.set_y[i]]=!0;if(a.set_x)for(var o=0;o<a.set_x.length;o++)n[f(a.set_x[o])+1]=!0;for(var l=1;l<s.children.length;l++){e=s.children[l];for(var d=1;d<e.children.length;d++)if((t=e.children[d]).old){var h=m.fromNT(e.dataValueNT),g=m.fromNT(c[d-1]);p(t,g,h,null)}else r[e.dataValueNT]=!0,n[d]=!0}for(var v=0;v<s.children.length;v++)if(e=s.children[v],v>0&&!r[e.dataValueNT])delete u[e.dataValueNT],s.removeChild(e);else for(var b=e.children.length-1;b>0;b--){var y=e.children[b];n[b]||e.removeChild(y)}for(var w=[],x=0;x<c.length;x++)n[x+1]&&w.push(c[x]);c=w};s.refresh=function(){!function(){for(var e=1;e<s.children.length;e++)for(var t=s.children[e],n=1;n<t.children.length;n++)t.children[n].old=!0}(),Xi.query(t,g,void 0,h)};var g=function(e){var t=e[n.toString()],a=e[r.toString()],o=e[i.toString()],s=d(a),l=f(t),c=s.children[l+1];p(c,t,a,o)};if(a.set_y)for(var v=0;v<a.set_y.length;v++)d(a.set_y[v]);if(a.set_x)for(var b=0;b<a.set_x.length;b++)f(a.set_x[b]);return Xi.query(t,g,void 0,o),s}},ea=Fe.Pt.iconBase+"noun_Camera_1618446_000000.svg",ta=Fe.Pt.iconBase+"noun_479395.svg";function na(e,t,n,r){var i,a,o,s,l=e.createElement("div"),c=l.appendChild(e.createElement("table")),u=c.appendChild(e.createElement("tr")).appendChild(e.createElement("td"));u.setAttribute("colspan","4");var p=c.appendChild(e.createElement("tr"));p.appendChild(e.createElement("td")).appendChild(Lt(e)).addEventListener("click",function(e){v(),r(null)});var d=p.appendChild(e.createElement("td")).appendChild(Ot(e,ta,"Retake"));d.addEventListener("click",function(e){u.removeChild(s),m()}),d.style.visibility="collapse";var f=p.appendChild(e.createElement("td")).appendChild(Ot(e,Fe.Pt.iconBase+"noun_10636.svg","Snap"));f.addEventListener("click",function(){(s=e.createElement("canvas")).setAttribute("width",Se.canvasWidth),s.setAttribute("height",Se.canvasHeight),s.setAttribute("style",Se.controlStyle),u.appendChild(s),s.getContext("2d").drawImage(o,0,0,s.width,s.height),o.parentNode.removeChild(o),s.toBlob(function(e){var t="got blob type ".concat(e.type," size ").concat(e.size);X.Rm(t),i=n(),a=e,h.style.visibility="visible",d.style.visibility="visible",f.style.visibility="collapse"},"image/png")}),f.style.visibility="collapse";var h=p.appendChild(e.createElement("td")).appendChild(jt(e));function m(){if((o=u.appendChild(e.createElement("video"))).setAttribute("controls","1"),o.setAttribute("autoplay","1"),o.setAttribute("style",Se.controlStyle),!navigator.mediaDevices)throw new Error("navigator.mediaDevices not available");navigator.mediaDevices.getUserMedia(g).then(function(e){o.srcObject=e,f.style.visibility="visible",h.style.visibility="collapse",d.style.visibility="collapse"})}h.addEventListener("click",function(e){!function(e,n){var i=e.type;X.Rm("Putting "+e.size+" bytes of "+i+" to "+n),t.fetcher.webOperation("PUT",n.uri,{data:e,contentType:i}).then(function(e){X.Rm("ok saved "+n),v(),r(n)},function(e){v(),alert(e)})}(a,i)}),h.style.visibility="collapse";var g={video:!0};function v(){o&&o.srcObject&&o.srcObject.getVideoTracks().forEach(function(e){return e.stop()})}return m(),l}var ra={cameraCaptureControl:na,cameraButton:function(e,t,n,r){var i,a=e.createElement("div"),o=Ot(e,ea,"Take picture");function s(e){return l.apply(this,arguments)}function l(){return(l=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.removeChild(i),a.appendChild(o),r(t);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.appendChild(o),o.addEventListener("click",function(r){a.removeChild(o),i=na(e,t,n,s),a.appendChild(i)}),a}},ia=i(580),aa=i.n(ia);const oa={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let sa;const la=new Uint8Array(16),ca=[];for(let e=0;e<256;++e)ca.push((e+256).toString(16).slice(1));function ua(e,t=0){return(ca[e[t+0]]+ca[e[t+1]]+ca[e[t+2]]+ca[e[t+3]]+"-"+ca[e[t+4]]+ca[e[t+5]]+"-"+ca[e[t+6]]+ca[e[t+7]]+"-"+ca[e[t+8]]+ca[e[t+9]]+"-"+ca[e[t+10]]+ca[e[t+11]]+ca[e[t+12]]+ca[e[t+13]]+ca[e[t+14]]+ca[e[t+15]]).toLowerCase()}const pa=function(e,t,n){if(oa.randomUUID&&!t&&!e)return oa.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!sa){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sa=crypto.getRandomValues.bind(crypto)}return sa(la)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return ua(r)};var da,fa=x.solidLogicSingleton.store,ha=function(){return we(function e(t,n,r,i){ge(this,e),this.options=i||{},this.element=t,this.typeIndex=n,this.groupPickedCb=r,this.selectedgroup=this.options.selectedgroup,this.onSelectGroup=this.onSelectGroup.bind(this)},[{key:"render",value:function(){var e=this,t=document.createElement("div");if(t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",this.selectedgroup){t.style.flexDirection="column";var n=document.createElement("div");new ga(n,this.selectedgroup).render();var r=document.createElement("button");r.textContent=aa()("Change group"),r.addEventListener("click",function(t){e.selectedgroup=null,e.render()}),t.appendChild(n),t.appendChild(r)}else this.findAddressBook(this.typeIndex).then(function(n){var r=n.book,i=document.createElement("button");i.textContent=aa()("Pick an existing group"),i.style.margin="auto",i.addEventListener("click",function(n){new ma(t,r,e.onSelectGroup).render()});var a=document.createElement("button");a.textContent=aa()("Create a new group"),a.style.margin="auto",a.addEventListener("click",function(t){e.createNewGroup(r,e.options.defaultNewGroupName).then(function(t){var n=t.group;new va(e.element,r,n,e.onSelectGroup).render()}).catch(function(t){e.element.appendChild(lt(document,aa()("Error creating a new group. (".concat(t,")"))))})}),t.appendChild(i),t.appendChild(a),e.element.innerHTML="",e.element.appendChild(t)}).catch(function(t){e.element.appendChild(lt(document,aa()("Could find your groups. (".concat(t,")"))))});return this.element.innerHTML="",this.element.appendChild(t),this}},{key:"findAddressBook",value:function(e){return new Promise(function(t,n){fa.fetcher.nowOrWhenFetched(e,function(r,i){if(!r)return n(i);var a=fa.any(null,g.solid("forClass"),g.vcard("AddressBook"));if(!a)return n(new Error("no address book registered in the solid type index "+e));var o=fa.any(a,g.solid("instance"));if(!o)return n(new Error("incomplete address book registration"));fa.fetcher.load(o).then(function(e){return t({book:o})}).catch(function(e){return n(new Error("Could not load address book "+e))})})})}},{key:"createNewGroup",value:function(e,t){var n=xa(e),r=n.groupIndex,i=n.groupContainer,a=m.sym("".concat(i.uri).concat(pa().slice(0,8),".ttl#this")),o=t||"Untitled Group",s=[a.doc(),r].map(function(t){var n=m.st(a,g.rdf("type"),g.vcard("Group"),t),i=m.st(a,g.vcard("fn"),o,a.doc(),t),s=m.st(e,g.vcard("includesGroup"),a,t),l=t.equals(r)?[n,i,s]:[n,i];return wa(t.uri,{toIns:l}).then(function(){l.forEach(function(e){fa.add(e)})})});return Promise.all(s).then(function(){return{group:a}}).catch(function(e){throw X.Rm("Could not create new group.  PATCH failed "+e),new Error("Couldn't create new group.  PATCH failed for (".concat(e.xhr?e.xhr.responseURL:""," )"))})}},{key:"onSelectGroup",value:function(e){this.selectedgroup=e,this.groupPickedCb(e),this.render()}}])}(),ma=function(){return we(function e(t,n,r){ge(this,e),this.element=t,this.book=n,this.onSelectGroup=r},[{key:"render",value:function(){var e=this;return this.loadGroups().then(function(t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",t.forEach(function(t){var r=document.createElement("button");r.addEventListener("click",e.handleClickGroup(t)),new ga(r,t).render(),n.appendChild(r)}),e.element.innerHTML="",e.element.appendChild(n)}).catch(function(t){e.element.appendChild(lt(document,aa()("There was an error loading your groups. (".concat(t,")"))))}),this}},{key:"loadGroups",value:function(){var e=this;return new Promise(function(t,n){var r=xa(e.book).groupIndex;fa.fetcher.nowOrWhenFetched(r,function(r,i){if(!r)return n(i);var a=fa.each(e.book,g.vcard("includesGroup"));return t(a)})})}},{key:"handleClickGroup",value:function(e){var t=this;return function(n){t.onSelectGroup(e)}}}])}(),ga=function(){return we(function e(t,n){ge(this,e),this.element=t,this.group=n},[{key:"render",value:function(){var e=document.createElement("div");return e.textContent=aa()(ya(this.group,g.vcard("fn"),"[".concat(this.group.value,"]"))),this.element.innerHTML="",this.element.appendChild(e),this}}])}(),va=function(){return we(function e(t,n,r,i,a){ge(this,e),this.element=t,this.book=n,this.group=r,this.onGroupChanged=function(e,t,n){a&&a(e,t,n)},this.groupChangedCb=a,this.doneBuildingCb=i},[{key:"refresh",value:function(){}},{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",t.style.flexDirection="column",Ae(t,function(t){t.forEach(function(t){e.add(t).catch(function(t){e.element.appendChild(lt(document,aa()("Could not add the given WebId. (".concat(t,")"))))})})});var n=document.createElement("input");n.type="text",n.value=ya(this.group,g.vcard("fn"),"Untitled Group"),n.addEventListener("change",function(t){e.setGroupName(t.target.value).catch(function(t){e.element.appendChild(lt(document,"Error changing group name. (".concat(t,")")))})});var r,i,a=document.createElement("label");if(a.textContent=aa()("Group Name:"),a.appendChild(n),t.appendChild(a),fa.any(this.group,g.vcard("hasMember")))fa.match(this.group,g.vcard("hasMember")).forEach(function(n){var r=n.object,i=document.createElement("div");new ba(i,r,e.handleRemove(r)).render(),t.appendChild(i)});else{var o=document.createElement("p");o.textContent=aa()(da||(r=["\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      "],i||(i=r.slice(0)),da=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),t.appendChild(o)}var s=document.createElement("button");return s.textContent=aa()("Done"),s.addEventListener("click",function(t){e.doneBuildingCb(e.group)}),t.appendChild(s),this.element.innerHTML="",this.element.appendChild(t),this}},{key:"add",value:function(e){var t=this;return new Promise(function(n,r){fa.fetcher.nowOrWhenFetched(e,function(i,a){if(!i)return t.onGroupChanged(a),r(a);var o=m.namedNode(e),s=fa.any(o,g.rdf("type"));return s&&s.equals(g.foaf("Person"))?n(o):r(new Error("Only people supported right now. (tried to add something of type ".concat(s.value,")")))})}).then(function(e){var n=m.st(t.group,g.vcard("hasMember"),e);return fa.holdsStatement(n)?e:wa(t.group.doc().uri,{toIns:[n]}).then(function(){n.why=t.group.doc(),fa.add(n),t.onGroupChanged(null,"added",e),t.render()})})}},{key:"handleRemove",value:function(e){var t=this;return function(n){var r=m.st(t.group,g.vcard("hasMember"),e);return wa(t.group.doc().uri,{toDel:[r]}).then(function(){return fa.remove(r),t.onGroupChanged(null,"removed",e),t.render(),!0}).catch(function(t){var n=fa.any(e,g.foaf("name")),r=n&&n.value?"Could not remove ".concat(n.value,". (").concat(t,")"):"Could not remove ".concat(e.value,". (").concat(t,")");throw new Error(r)})}}},{key:"setGroupName",value:function(e){var t=this,n=xa(this.book).groupIndex,r=[this.group.doc(),n].map(function(n){var r=fa.match(t.group,g.vcard("fn"),null,n),i=m.st(t.group,g.vcard("fn"),m.literal(e));return wa(n.value,{toDel:r,toIns:[i]}).then(function(e){fa.removeStatements(r),i.why=n,fa.add(i)})});return Promise.all(r)}}])}(),ba=function(){return we(function e(t,n,r){ge(this,e),this.webIdNode=n,this.element=t,this.handleRemove=r},[{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.display="flex";var n=ya(this.webIdNode,g.foaf("img"),Fe.LN+"noun_15059.svg"),r=document.createElement("img");r.src=aa()(n),r.width="50",r.height="50",r.style.margin="5px";var i=ya(this.webIdNode,g.foaf("name"),"[".concat(this.webIdNode,"]")),a=document.createElement("span");a.innerHTML=aa()(i),a.style.flexGrow="1",a.style.margin="auto 0";var o=document.createElement("button");return o.textContent="Remove",o.addEventListener("click",function(t){return e.handleRemove().catch(function(t){e.element.appendChild(lt(document,aa()("".concat(t))))})}),o.style.margin="5px",t.appendChild(r),t.appendChild(a),t.appendChild(o),this.element.innerHTML="",this.element.appendChild(t),this}}])}();function ya(e,t,n){var r=fa.any(e,t);return r?r.value:n}function wa(e,t){var n=t.toDel,r=t.toIns;return new Promise(function(e,t){fa.updater.update(n,r,function(n,r,i){if(!r)return t(new Error("PATCH failed for resource <".concat(n,">: ").concat(i)));e()})})}function xa(e){return{groupIndex:fa.any(e,g.vcard("groupIndex")),groupContainer:fa.sym(e.dir().uri+"Group/")}}var ka={icons:Fe.Pt,ns:g,rdf:m,style:Se,widgets:s};function _a(e,t,n,r,i){t=t||x.solidLogicSingleton.store,r=r.doc();var a,o,s=ka.ns,l=m.Namespace("http://www.w3.org/2005/01/wf/flow#"),c=m.Namespace("http://purl.org/dc/terms/"),u=!!(i=i||{}).newestFirst,p="white-space: pre-wrap; width: 90%; font-size:100%; border: 0.07em solid #eee; padding: .2em 0.5em; margin: 0.1em 1em 0.1em 1em;",d=e.createElement("div"),f=x.solidLogicSingleton.store.updater,h=function(t,n){var r=e.createElement("a");return n&&n.uri&&(r.setAttribute("href",n.uri),r.addEventListener("click",ka.widgets.openHrefInOutlineMode,!0),r.setAttribute("style","color: #3B5998; text-decoration: none; ")),r.textContent=t,r},g=function(t,n){var r=e.createElement("pre");return r.setAttribute("style",n||"color: grey"),d.appendChild(r),r.appendChild(e.createTextNode(t)),r},v=function(e){g(e,"color: #800;")};function b(e){var t=x.solidLogicSingleton.store.any(e,ka.ns.foaf("nick"));return t?""+t.value:""+Q(e)}function y(t,n,r,i){var a=t.appendChild(h(b(n),n));n.uri&&x.solidLogicSingleton.store.fetcher.nowOrWhenFetched(n.doc(),void 0,function(e,t){a.textContent=b(n)}),t.appendChild(e.createElement("br")),t.appendChild(h(r,i))}function w(e,n){var r,i,a={};for(r=n.firstChild;r;r=r.nextSibling)r.AJAR_subject&&(a[r.AJAR_subject.uri]=!0);var o=t.each(e,s.wf("message")),l={};for(o.forEach(function(e){l[e.uri]=!0,a[e.uri]||k(e)}),r=n.firstChild;r;)i=r.nextSibling,r.AJAR_subject&&!l[r.AJAR_subject.uri]&&n.removeChild(r),r=i}var k=function(e){var n={"?msg":e,"?creator":t.any(e,s.foaf("maker")),"?date":t.any(e,c("created")),"?content":t.any(e,s.sioc("content"))};_(n,!0)},_=function(r,i){var o=r["?creator"],s=r["?msg"],l=r["?date"],c=r["?content"],d=l.value,h=e.createElement("tr");h.AJAR_date=d,h.AJAR_subject=s;for(var m=!1,g=a.firstChild;g;g=g.nextSibling)if(d>g.AJAR_date&&u||d<g.AJAR_date&&!u){a.insertBefore(h,g),m=!0;break}m||a.appendChild(h);var b=e.createElement("td");h.appendChild(b),y(b,o,ka.widgets.shortDate(d),s);var x=e.createElement("td");h.appendChild(x);var k=e.createElement("p");k.setAttribute("style",p+(i?"background-color: #e8ffe8;":"background-color: #white;")),x.appendChild(k),k.textContent=c.value;var _=e.createElement("td");h.appendChild(_);var E=e.createElement("button");_.appendChild(E),E.textContent="-",h.setAttribute("class","hoverControl"),E.setAttribute("class","hoverControlHide"),E.setAttribute("style","color: red;"),E.addEventListener("click",function(r){_.removeChild(E);var i=e.createElement("button");i.textContent="cancel",_.appendChild(i).addEventListener("click",function(e){_.removeChild(o),_.removeChild(i),_.appendChild(E)},!1);var o=e.createElement("button");o.textContent="Delete message",_.appendChild(o).addEventListener("click",function(e){_.removeChild(o),_.removeChild(i),function(e){var r=t.statementsMatching(e).concat(t.statementsMatching(void 0,void 0,e));f.update(r,[],function(e,t,r){t?w(n,a):v("Cant delete messages:"+r)})}(s)},!1)},!1)};(a=e.createElement("table")).fresh=!1,d.appendChild(a),a.setAttribute("style","width: 100%;");var E,C=function(){var i=e.createElement("tr"),a=e.createElement("td"),l=e.createElement("td"),u=e.createElement("td");i.appendChild(a),i.appendChild(l),i.appendChild(u),i.AJAR_date="9999-01-01T00:00:00Z";var d,h,g=function(){d.setAttribute("class","pendingedit"),d.disabled=!0;var a=[],l=new Date,u=""+l.getTime(),p=m.term(l),h=t.sym(r.uri+"#Msg"+u);a.push(new m.Statement(n,s.wf("message"),h,r)),a.push(new m.Statement(h,s.sioc("content"),t.literal(d.value),r)),a.push(new m.Statement(h,c("created"),p,r)),o&&a.push(new m.Statement(h,s.foaf("maker"),o,r)),f.update([],a,function(n,r,a){if(r){var s={"?msg":h,"?content":t.literal(d.value),"?date":p,"?creator":o};_(s,!1),d.value="",d.setAttribute("class",""),d.disabled=!1}else i.appendChild(ka.widgets.errorMessageBlock(e,"Error writing message: "+a))})};return i.appendChild(e.createElement("br")),li({div:l,dom:e}).then(function(t){o=t.me,y(a,o,"",null),d=e.createElement("textarea"),l.innerHTML="",l.appendChild(d),d.rows=3,d.setAttribute("style",p+"background-color: #eef;"),d.addEventListener("keyup",function(e){13===e.keyCode&&(e.altKey||g())},!1),u.innerHTML="",(h=ka.widgets.button(e,ka.icons.iconBase+"noun_383448.svg","Send")).setAttribute("style",ka.style.buttonStyle+"float: right;"),h.addEventListener("click",g,!1),u.appendChild(h)}),i}();if(u?a.insertBefore(C,a.firstChild):a.appendChild(C),i.query)E=i.query;else{E=new m.Query("Messages");var S={};["msg","date","creator","content"].forEach(function(e){E.vars.push(S[e]=m.variable(e))}),E.pat.add(n,l("message"),S.msg),E.pat.add(S.msg,s.dct("created"),S.date),E.pat.add(S.msg,s.foaf("maker"),S.creator),E.pat.add(S.msg,s.sioc("content"),S.content)}return t.query(E,_,void 0,function(){a.fresh=!0}),d.refresh=function(){w(n,a)},d}function Ea(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t);case 1:return e.abrupt("return",!(x.store.statementsMatching(null,g.dct("created"),null,t).length>0));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Sa=function(){return we(function e(t,n,r){ge(this,e),this.root=t,this.rootFolder=t.dir(),this.leafFileName=n||"index.ttl",this.membershipProperty=r||g.wf("leafObject")},[{key:"leafDocumentFromDate",value:function(e){var t=e.toISOString().split("T")[0].replace(/-/g,"/");return t=this.root.dir().uri+t+"/"+this.leafFileName,x.store.sym(t)}},{key:"dateFromLeafDocument",value:function(e){var t=this.rootFolder.uri.length,n=e.uri.slice(t,t+10).replace(/\//g,"-");return new Date(n)}},{key:"loadPrevious",value:(t=b(w().mark(function e(t,n){var r,i,a,o,s,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){return(i=b(w().mark(function e(t,i){var a,o,s,l,c,u,p,d,f,h;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){return(e=e.filter(o)).sort(),n||e.reverse(),e.pop()},o=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},a=function(e){return!(n?e.uri>=t.uri:e.uri<=t.uri)},l=t.dir(),e.prev=1,e.next=2,x.store.fetcher.load(l);case 2:if(c=(c=x.store.each(l,g.ldp("contains"))).filter(a),!(u=s(c))){e.next=3;break}return e.abrupt("return",u);case 3:e.next=6;break;case 4:if(e.prev=4,!(h=e.catch(1)).response||!h.response.status||404!==h.response.status){e.next=5;break}X.Rm("Error 404 for chat parent file "+l),e.next=6;break;case 5:throw X.Rm("*** Error NON 404 for chat parent file "+l),new Error("*** ".concat(h.message," for chat folder ").concat(l));case 6:if(0!==i){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=8,r(l,i-1);case 8:if(p=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=10,x.store.fetcher.load(p);case 10:return d=x.store.each(p,g.ldp("contains")),f=s(d),e.abrupt("return",f);case 11:case"end":return e.stop()}},e,null,[[1,4]])}))).apply(this,arguments)},r=function(e,t){return i.apply(this,arguments)},a=this.leafDocumentFromDate(t).dir();case 1:return e.next=2,r(a,3);case 2:if(!(o=e.sent)){e.next=6;break}return s=x.store.sym(o.uri+this.leafFileName),l=this.dateFromLeafDocument(s),e.next=3,Ea(s);case 3:if(e.sent){e.next=4;break}return e.abrupt("return",l);case 4:t=l,a=this.leafDocumentFromDate(t).dir();case 5:e.next=7;break;case 6:return e.abrupt("return",null);case 7:e.next=1;break;case 8:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"firstLeaf",value:(e=b(w().mark(function e(t){var n,r,i,a,o,s,l,c,u,p,d;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=b(w().mark(function e(i){var a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},delete r.requested[i.uri],e.next=1,r.load(i,{force:!0});case 1:if(0!==(o=(o=n.each(i,g.ldp("contains"))).filter(a)).length){e.next=2;break}throw new Error(" @@@  No children to         parent2 "+i);case 2:return o.sort(),t&&o.reverse(),e.abrupt("return",o[0]);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},n=m.graph(),r=new m.Fetcher(n),e.next=1,i(this.root.dir());case 1:return o=e.sent,e.next=2,i(o);case 2:return s=e.sent,e.next=3,i(s);case 3:return l=e.sent,c=m.sym(l.uri+"chat.ttl"),e.next=4,r.load(c);case 4:if(0!==(u=n.each(this.root,this.membershipProperty,null,c)).length){e.next=5;break}throw p="  INCONSISTENCY -- no chat leafObject in file "+c,X.uP(p),new Error(p);case 5:return(d=u.map(function(e){return[n.any(e,g.dct("created")),e]})).sort(),t&&d.reverse(),e.abrupt("return",d[0][1]);case 6:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})}]);var e,t}();const Aa="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function Ta(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ra(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Pa(e,...t){if(!Ta(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Fa(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Ra(e.outputLen),Ra(e.blockLen)}function Ia(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Na(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Oa(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function La(e,t){return e<<32-t|e>>>t}const ja=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),Ma=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Da(e){if(Pa(e),ja)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Ma[e[n]];return t}const Ua=48,Ba=57,za=65,Ha=70,qa=97,$a=102;function Wa(e){return e>=Ua&&e<=Ba?e-Ua:e>=za&&e<=Ha?e-(za-10):e>=qa&&e<=$a?e-(qa-10):void 0}function Va(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(ja)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Wa(e.charCodeAt(i)),a=Wa(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function Ga(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function Ka(e){return"string"==typeof e&&(e=Ga(e)),Pa(e),e}function Ja(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Pa(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class Qa{}function Ya(e){const t=t=>e().update(Ka(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Xa(e=32){if(Aa&&"function"==typeof Aa.getRandomValues)return Aa.getRandomValues(new Uint8Array(e));if(Aa&&"function"==typeof Aa.randomBytes)return Uint8Array.from(Aa.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Za(e,t,n){return e&t^~e&n}function eo(e,t,n){return e&t^e&n^t&n}class to extends Qa{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=Oa(this.buffer)}update(e){Ia(this),Pa(e=Ka(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(r-this.pos,i-a);if(o===r){const t=Oa(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ia(this),function(e,t){Pa(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;t[a++]=128,Na(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Oa(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const no=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ro=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),io=new Uint32Array(64);class ao extends to{constructor(e=32){super(64,e,8,!1),this.A=0|no[0],this.B=0|no[1],this.C=0|no[2],this.D=0|no[3],this.E=0|no[4],this.F=0|no[5],this.G=0|no[6],this.H=0|no[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:s}=this;return[e,t,n,r,i,a,o,s]}set(e,t,n,r,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)io[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=io[e-15],n=io[e-2],r=La(t,7)^La(t,18)^t>>>3,i=La(n,17)^La(n,19)^n>>>10;io[e]=i+io[e-7]+r+io[e-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:s,G:l,H:c}=this;for(let e=0;e<64;e++){const t=c+(La(o,6)^La(o,11)^La(o,25))+Za(o,s,l)+ro[e]+io[e]|0,u=(La(n,2)^La(n,13)^La(n,22))+eo(n,r,i)|0;c=l,l=s,s=o,o=a+t|0,a=i,i=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,a,o,s,l,c)}roundClean(){Na(io)}destroy(){this.set(0,0,0,0,0,0,0,0),Na(this.buffer)}}const oo=Ya(()=>new ao);class so extends Qa{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Fa(e);const n=Ka(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),Na(i)}update(e){return Ia(this),this.iHash.update(e),this}digestInto(e){Ia(this),Pa(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lo=(e,t,n)=>new so(e,t).update(n).digest();lo.create=(e,t)=>new so(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const co=BigInt(0),uo=BigInt(1);function po(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function fo(e,t,n=""){const r=Ta(e),i=e?.length,a=void 0!==t;if(!r||a&&i!==t)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(r?`length=${i}`:"type="+typeof e));return e}function ho(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function mo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?co:BigInt("0x"+e)}function go(e){return mo(Da(e))}function vo(e){return Pa(e),mo(Da(Uint8Array.from(e).reverse()))}function bo(e,t){return Va(e.toString(16).padStart(2*t,"0"))}function yo(e,t){return bo(e,t).reverse()}function wo(e,t,n){let r;if("string"==typeof t)try{r=Va(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!Ta(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const xo=e=>"bigint"==typeof e&&co<=e;function ko(e,t,n){return xo(e)&&xo(t)&&xo(n)&&t<=e&&e<n}function _o(e){let t;for(t=0;e>co;e>>=uo,t+=1);return t}const Eo=e=>(uo<<BigInt(e))-uo;function Co(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const a=typeof i;if(a!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${a}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function So(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ao=BigInt(0),To=BigInt(1),Ro=BigInt(2),Po=BigInt(3),Fo=BigInt(4),Io=BigInt(5),No=BigInt(7),Oo=BigInt(8),Lo=BigInt(9),jo=BigInt(16);function Mo(e,t){const n=e%t;return n>=Ao?n:t+n}function Do(e,t,n){let r=e;for(;t-- >Ao;)r*=r,r%=n;return r}function Uo(e,t){if(e===Ao)throw new Error("invert: expected non-zero number");if(t<=Ao)throw new Error("invert: expected positive modulus, got "+t);let n=Mo(e,t),r=t,i=Ao,a=To,o=To,s=Ao;for(;n!==Ao;){const e=r/n,t=r%n,l=i-o*e,c=a-s*e;r=n,n=t,i=o,a=s,o=l,s=c}if(r!==To)throw new Error("invert: does not exist");return Mo(i,t)}function Bo(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function zo(e,t){const n=(e.ORDER+To)/Fo,r=e.pow(t,n);return Bo(e,r,t),r}function Ho(e,t){const n=(e.ORDER-Io)/Oo,r=e.mul(t,Ro),i=e.pow(r,n),a=e.mul(t,i),o=e.mul(e.mul(a,Ro),i),s=e.mul(a,e.sub(o,e.ONE));return Bo(e,s,t),s}function qo(e){if(e<Po)throw new Error("sqrt is not defined for small field");let t=e-To,n=0;for(;t%Ro===Ao;)t/=Ro,n++;let r=Ro;const i=Qo(e);for(;1===Ko(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return zo;let a=i.pow(r,t);const o=(t+To)/Ro;return function(e,r){if(e.is0(r))return r;if(1!==Ko(e,r))throw new Error("Cannot find square root");let i=n,s=e.mul(e.ONE,a),l=e.pow(r,t),c=e.pow(r,o);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,n=e.sqr(l);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=To<<BigInt(i-t-1),a=e.pow(s,r);i=t,s=e.sqr(a),l=e.mul(l,s),c=e.mul(c,a)}return c}}function $o(e){return e%Fo===Po?zo:e%Oo===Io?Ho:e%jo===Lo?function(e){const t=Qo(e),n=qo(e),r=n(t,t.neg(t.ONE)),i=n(t,r),a=n(t,t.neg(r)),o=(e+No)/jo;return(e,t)=>{let n=e.pow(t,o),s=e.mul(n,r);const l=e.mul(n,i),c=e.mul(n,a),u=e.eql(e.sqr(s),t),p=e.eql(e.sqr(l),t);n=e.cmov(n,s,u),s=e.cmov(c,l,p);const d=e.eql(e.sqr(s),t),f=e.cmov(n,s,d);return Bo(e,f,t),f}}(e):qo(e)}const Wo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vo(e,t,n){if(n<Ao)throw new Error("invalid exponent, negatives unsupported");if(n===Ao)return e.ONE;if(n===To)return t;let r=e.ONE,i=t;for(;n>Ao;)n&To&&(r=e.mul(r,i)),i=e.sqr(i),n>>=To;return r}function Go(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function Ko(e,t){const n=(e.ORDER-To)/Ro,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!o)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function Jo(e,t){void 0!==t&&Ra(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Qo(e,t,n=!1,r={}){if(e<=Ao)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,a,o,s=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(a=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(s=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(a=r.sqrt);const{nBitLength:l,nByteLength:c}=Jo(e,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const p=Object.freeze({ORDER:e,isLE:n,BITS:l,BYTES:c,MASK:Eo(l),ZERO:Ao,ONE:To,allowedLengths:o,create:t=>Mo(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Ao<=t&&t<e},is0:e=>e===Ao,isValidNot0:e=>!p.is0(e)&&p.isValid(e),isOdd:e=>(e&To)===To,neg:t=>Mo(-t,e),eql:(e,t)=>e===t,sqr:t=>Mo(t*t,e),add:(t,n)=>Mo(t+n,e),sub:(t,n)=>Mo(t-n,e),mul:(t,n)=>Mo(t*n,e),pow:(e,t)=>Vo(p,e,t),div:(t,n)=>Mo(t*Uo(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Uo(t,e),sqrt:a||(t=>(u||(u=$o(e)),u(p,t))),toBytes:e=>n?yo(e,c):bo(e,c),fromBytes:(t,r=!0)=>{if(o){if(!o.includes(t.length)||t.length>c)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(c);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let i=n?vo(t):go(t);if(s&&(i=Mo(i,e)),!r&&!p.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>Go(p,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(p)}function Yo(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Xo(e){const t=Yo(e);return t+Math.ceil(t/2)}function Zo(e,t,n=!1){const r=e.length,i=Yo(t),a=Xo(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=Mo(n?vo(e):go(e),t-To)+To;return n?yo(o,i):bo(o,i)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const es=BigInt(0),ts=BigInt(1);function ns(e,t){const n=t.negate();return e?n:t}function rs(e,t){const n=Go(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function is(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function as(e,t){is(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Eo(e),maxNumber:n,shiftBy:BigInt(e)}}function os(e,t,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:o}=n;let s=Number(e&i),l=e>>o;s>r&&(s-=a,l+=ts);const c=t*r;return{nextN:l,offset:c+Math.abs(s)-1,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:c}}function ss(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function ls(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const cs=new WeakMap,us=new WeakMap;function ps(e){return us.get(e)||1}function ds(e){if(e!==es)throw new Error("invalid wNAF")}class fs{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>es;)t&ts&&(n=n.add(r)),r=r.double(),t>>=ts;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=as(t,this.bits),i=[];let a=e,o=a;for(let e=0;e<n;e++){o=a,i.push(o);for(let e=1;e<r;e++)o=o.add(a),i.push(o);a=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const a=as(e,this.bits);for(let e=0;e<a.windows;e++){const{nextN:o,offset:s,isZero:l,isNeg:c,isNegF:u,offsetF:p}=os(n,e,a);n=o,l?i=i.add(ns(u,t[p])):r=r.add(ns(c,t[s]))}return ds(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=as(e,this.bits);for(let e=0;e<i.windows&&n!==es;e++){const{nextN:a,offset:o,isZero:s,isNeg:l}=os(n,e,i);if(n=a,!s){const e=t[o];r=r.add(l?e.negate():e)}}return ds(n),r}getPrecomputes(e,t,n){let r=cs.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),cs.set(t,r))),r}cached(e,t,n){const r=ps(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=ps(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){is(t,this.bits),us.set(e,t),cs.delete(e)}hasCache(e){return 1!==ps(e)}}function hs(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Co(e,Wo.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Qo(e,{isLE:n})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ms=(e,t)=>(e+(e>=0?t:-t)/ks)/t;function gs(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function vs(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return po(n.lowS,"lowS"),po(n.prehash,"prehash"),void 0!==n.format&&gs(n.format),n}class bs extends Error{constructor(e=""){super(e)}}const ys={Err:bs,_tlv:{encode:(e,t)=>{const{Err:n}=ys;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=ho(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?ho(i.length/2|128):"";return ho(e)+a+i+t},decode(e,t){const{Err:n}=ys;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let a=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;const o=t.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=ys;if(e<ws)throw new t("integer: negative integers are not allowed");let n=ho(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ys;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return go(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ys,i=wo("signature",e),{v:a,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:s,l}=r.decode(2,a),{v:c,l:u}=r.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=ys,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},ws=BigInt(0),xs=BigInt(1),ks=BigInt(2),_s=BigInt(3),Es=BigInt(4);function Cs(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=wo("private key",t);try{r=e.fromBytes(i)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Ss(e,t={}){const n=function(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>es))throw new Error(`CURVE.${e} must be positive bigint`)}const i=hs(t.p,n.Fp,r),a=hs(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:a}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let a=n.CURVE;const{h:o,n:s}=a;Co(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=t;if(l&&(!r.is0(a.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Ts(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const p=t.toBytes||function(e,t,n){const{x:i,y:a}=t.toAffine(),o=r.toBytes(i);return po(n,"isCompressed"),n?(u(),Ja(As(!r.isOdd(a)),o)):Ja(Uint8Array.of(4),o,r.toBytes(a))},d=t.fromBytes||function(e){fo(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=c,i=e.length,a=e[0],o=e.subarray(1);if(i!==t||2!==a&&3!==a){if(i===n&&4===a){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!h(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return u(),!(1&~a)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,a.a)),a.b)}function h(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!h(a.Gx,a.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(a.a,_s),Es),g=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function v(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof _))throw new Error("ProjectivePoint expected")}function y(e){if(!l||!l.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[a,o]]=t,s=ms(o*e,n),l=ms(-i*e,n);let c=e-s*r-l*a,u=-s*i-l*o;const p=c<ws,d=u<ws;p&&(c=-c),d&&(u=-u);const f=Eo(Math.ceil(_o(n)/2))+xs;if(c<ws||c>=f||u<ws||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:p,k1:c,k2neg:d,k2:u}}(e,l.basises,i.ORDER)}const w=So((e,t)=>{const{X:n,Y:i,Z:a}=e;if(r.eql(a,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(a));const s=r.mul(n,t),l=r.mul(i,t),c=r.mul(a,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:l}}),x=So(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!h(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(e,t,n,i,a){return n=new _(r.mul(n.X,e),n.Y,n.Z),t=ns(i,t),n=ns(a,n),t.add(n)}class _{constructor(e,t,n){this.X=v("x",e),this.Y=v("y",t,!0),this.Z=v("z",n),Object.freeze(this)}static CURVE(){return a}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof _)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?_.ZERO:new _(t,n,r.ONE)}static fromBytes(e){const t=_.fromAffine(d(fo(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return _.fromBytes(wo("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return C.createCache(this,e),t||this.multiply(_s),this}assertValidity(){x(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){b(e);const{X:t,Y:n,Z:i}=this,{X:a,Y:o,Z:s}=e,l=r.eql(r.mul(t,s),r.mul(a,i)),c=r.eql(r.mul(n,s),r.mul(o,i));return l&&c}negate(){return new _(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=a,n=r.mul(t,_s),{X:i,Y:o,Z:s}=this;let l=r.ZERO,c=r.ZERO,u=r.ZERO,p=r.mul(i,i),d=r.mul(o,o),f=r.mul(s,s),h=r.mul(i,o);return h=r.add(h,h),u=r.mul(i,s),u=r.add(u,u),l=r.mul(e,u),c=r.mul(n,f),c=r.add(l,c),l=r.sub(d,c),c=r.add(d,c),c=r.mul(l,c),l=r.mul(h,l),u=r.mul(n,u),f=r.mul(e,f),h=r.sub(p,f),h=r.mul(e,h),h=r.add(h,u),u=r.add(p,p),p=r.add(u,p),p=r.add(p,f),p=r.mul(p,h),c=r.add(c,p),f=r.mul(o,s),f=r.add(f,f),p=r.mul(f,h),l=r.sub(l,p),u=r.mul(f,d),u=r.add(u,u),u=r.add(u,u),new _(l,c,u)}add(e){b(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:s,Z:l}=e;let c=r.ZERO,u=r.ZERO,p=r.ZERO;const d=a.a,f=r.mul(a.b,_s);let h=r.mul(t,o),m=r.mul(n,s),g=r.mul(i,l),v=r.add(t,n),y=r.add(o,s);v=r.mul(v,y),y=r.add(h,m),v=r.sub(v,y),y=r.add(t,i);let w=r.add(o,l);return y=r.mul(y,w),w=r.add(h,g),y=r.sub(y,w),w=r.add(n,i),c=r.add(s,l),w=r.mul(w,c),c=r.add(m,g),w=r.sub(w,c),p=r.mul(d,y),c=r.mul(f,g),p=r.add(c,p),c=r.sub(m,p),p=r.add(m,p),u=r.mul(c,p),m=r.add(h,h),m=r.add(m,h),g=r.mul(d,g),y=r.mul(f,y),m=r.add(m,g),g=r.sub(h,g),g=r.mul(d,g),y=r.add(y,g),h=r.mul(m,y),u=r.add(u,h),h=r.mul(w,y),c=r.mul(v,c),c=r.sub(c,h),h=r.mul(v,m),p=r.mul(w,p),p=r.add(p,h),new _(c,u,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(_.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,a;const o=e=>C.cached(this,e,e=>rs(_,e));if(n){const{k1neg:t,k1:i,k2neg:s,k2:l}=y(e),{p:c,f:u}=o(i),{p,f:d}=o(l);a=u.add(d),r=k(n.beta,c,p,t,s)}else{const{p:t,f:n}=o(e);r=t,a=n}return rs(_,[r,a])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===ws||r.is0())return _.ZERO;if(e===xs)return r;if(C.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:a,k2:o}=y(e),{p1:s,p2:l}=function(e,t,n,r){let i=t,a=e.ZERO,o=e.ZERO;for(;n>es||r>es;)n&ts&&(a=a.add(i)),r&ts&&(o=o.add(i)),i=i.double(),n>>=ts,r>>=ts;return{p1:a,p2:o}}(_,r,i,o);return k(n.beta,s,l,t,a)}return C.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return w(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===xs||(e?e(_,this):C.unsafe(this,s).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===xs?this:e?e(_,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return po(e,"isCompressed"),this.assertValidity(),p(_,this,e)}toHex(e=!0){return Da(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return rs(_,e)}static msm(e,t){return function(e,t,n,r){ss(n,e),ls(r,t);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,s=_o(BigInt(i));let l=1;s>12?l=s-3:s>4?l=s-2:s>0&&(l=2);const c=Eo(l),u=new Array(Number(c)+1).fill(o);let p=o;for(let e=Math.floor((t.BITS-1)/l)*l;e>=0;e-=l){u.fill(o);for(let t=0;t<a;t++){const i=r[t],a=Number(i>>BigInt(e)&c);u[a]=u[a].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(p=p.add(t),0!==e)for(let e=0;e<l;e++)p=p.double()}return p}(_,i,e,t)}static fromPrivateKey(e){return _.BASE.multiply(Cs(i,e))}}_.BASE=new _(a.Gx,a.Gy,r.ONE),_.ZERO=new _(r.ZERO,r.ONE,r.ZERO),_.Fp=r,_.Fn=i;const E=i.BITS,C=new fs(_,t.endo?Math.ceil(E/2):E);return _.BASE.precompute(8),_}function As(e){return Uint8Array.of(e?2:3)}function Ts(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Rs(e,t,n={}){Fa(t),Co(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Xa,i=n.hmac||((e,...n)=>lo(t,e,Ja(...n))),{Fp:a,Fn:o}=e,{ORDER:s,BITS:l}=o,{keygen:c,getPublicKey:u,getSharedSecret:p,utils:d,lengths:f}=function(e,t={}){const{Fn:n}=e,r=t.randomBytes||Xa,i=Object.assign(Ts(e.Fp,n),{seed:Xo(n.ORDER)});function a(e){try{return!!Cs(n,e)}catch(e){return!1}}function o(e=r(i.seed)){return Zo(fo(e,i.seed,"seed"),n.ORDER)}function s(t,r=!0){return e.BASE.multiply(Cs(n,t)).toBytes(r)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:a,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===a)return;const s=wo("key",t).length;return s===a||s===o}const c={isValidSecretKey:a,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:a}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==a||!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:o,isValidPrivateKey:a,randomPrivateKey:o,normPrivateKeyToScalar:e=>Cs(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:s,getSharedSecret:function(t,r,i=!0){if(!0===l(t))throw new Error("first arg must be private key");if(!1===l(r))throw new Error("second arg must be public key");const a=Cs(n,t);return e.fromHex(r).multiply(a).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:s(t)}},Point:e,utils:c,lengths:i})}(e,n),h={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},m="compact";function g(e){return e>s>>xs}function v(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class b{constructor(e,t,n){this.r=v("r",e),this.s=v("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=m){let n;if(function(e,t){gs(t);const n=f.signature;fo(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=ys.toSig(fo(e));return new b(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),a=e.subarray(r,2*r);return new b(o.fromBytes(i),o.fromBytes(a),n)}static fromHex(e,t){return this.fromBytes(Va(e),t)}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(t){const n=a.ORDER,{r,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw new Error("recovery id invalid");if(s*ks<n&&l>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===l||3===l?r+s:r;if(!a.isValid(c))throw new Error("recovery id 2 or 3 invalid");const u=a.toBytes(c),p=e.fromBytes(Ja(As(!(1&l)),u)),d=o.inv(c),f=w(wo("msgHash",t)),h=o.create(-f*d),m=o.create(i*d),g=e.BASE.multiplyUnsafe(h).add(p.multiplyUnsafe(m));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return g(this.s)}toBytes(e=m){if(gs(e),"der"===e)return Va(ys.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Ja(Uint8Array.of(this.recovery),t,n)}return Ja(t,n)}toHex(e){return Da(this.toBytes(e))}assertValidity(){}static fromCompact(e){return b.fromBytes(wo("sig",e),"compact")}static fromDER(e){return b.fromBytes(wo("sig",e),"der")}normalizeS(){return this.hasHighS()?new b(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Da(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Da(this.toBytes("compact"))}}const y=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=go(e),n=8*e.length-l;return n>0?t>>BigInt(n):t},w=n.bits2int_modN||function(e){return o.create(y(e))},x=Eo(l);function k(e){return function(e,t,n,r){if(!ko(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}("num < 2^"+l,e,ws,x),o.toBytes(e)}function _(e,n){return fo(e,void 0,"message"),n?fo(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:p,utils:d,lengths:f,Point:e,sign:function(n,a,s={}){n=wo("message",n);const{seed:l,k2sig:c}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:a,prehash:s,extraEntropy:l}=vs(i,h);t=_(t,s);const c=w(t),u=Cs(o,n),p=[k(u),k(c)];if(null!=l&&!1!==l){const e=!0===l?r(f.secretKey):l;p.push(wo("extraEntropy",e))}const d=Ja(...p),m=c;return{seed:d,k2sig:function(t){const n=y(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),s=o.create(i.x);if(s===ws)return;const l=o.create(r*o.create(m+s*u));if(l===ws)return;let c=(i.x===s?0:2)|Number(i.y&xs),p=l;return a&&g(l)&&(p=o.neg(l),c^=1),new b(s,p,c)}}}(n,a,s);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let a=r(e),o=r(e),s=0;const l=()=>{a.fill(1),o.fill(0),s=0},c=(...e)=>n(o,a,...e),u=(e=r(0))=>{o=c(i(0),e),a=c(),0!==e.length&&(o=c(i(1),e),a=c())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){a=c();const t=a.slice();n.push(t),e+=a.length}return Ja(...n)};return(e,t)=>{let n;for(l(),u(e);!(n=t(p()));)u();return l(),n}}(t.outputLen,o.BYTES,i)(l,c)},verify:function(t,n,r,i={}){const{lowS:a,prehash:s,format:l}=vs(i,h);if(r=wo("publicKey",r),n=_(wo("message",n),s),"strict"in i)throw new Error("options.strict was renamed to lowS");const c=void 0===l?function(e){let t;const n="string"==typeof e||Ta(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new b(e.r,e.s);else if(n){try{t=b.fromBytes(wo("sig",e),"der")}catch(e){if(!(e instanceof ys.Err))throw e}if(!t)try{t=b.fromBytes(wo("sig",e),"compact")}catch(e){return!1}}return t||!1}(t):b.fromBytes(wo("sig",t),l);if(!1===c)return!1;try{const t=e.fromBytes(r);if(a&&c.hasHighS())return!1;const{r:i,s}=c,l=w(n),u=o.inv(s),p=o.create(l*u),d=o.create(i*u),f=e.BASE.multiplyUnsafe(p).add(t.multiplyUnsafe(d));return!f.is0()&&o.create(f.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=vs(n,h);return t=_(t,r),b.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:b,hash:t})}function Ps(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:Qo(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}function Fs(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=Ps(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Jo(n.Fn.ORDER,n.Fn.BITS))})}(e,Rs(Ss(t,n),r,i))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Is={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Ns={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Os=BigInt(0),Ls=BigInt(1),js=BigInt(2),Ms=Qo(Is.p,{sqrt:function(e){const t=Is.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,p=Do(u,n,t)*u%t,d=Do(p,n,t)*u%t,f=Do(d,js,t)*c%t,h=Do(f,i,t)*f%t,m=Do(h,a,t)*h%t,g=Do(m,s,t)*m%t,v=Do(g,l,t)*g%t,b=Do(v,s,t)*m%t,y=Do(b,n,t)*u%t,w=Do(y,o,t)*h%t,x=Do(w,r,t)*c%t,k=Do(x,js,t);if(!Ms.eql(Ms.sqr(k),e))throw new Error("Cannot find square root");return k}}),Ds=function(e,t){const n=t=>Fs({...e,hash:t});return{...n(t),create:n}}({...Is,Fp:Ms,lowS:!0,endo:Ns},oo),Us={};function Bs(e,...t){let n=Us[e];if(void 0===n){const t=oo(Ga(e));n=Ja(t,t),Us[e]=n}return oo(Ja(n,...t))}const zs=e=>e.toBytes(!0).slice(1),Hs=(()=>Ds.Point)(),qs=e=>e%js===Os;function $s(e){const{Fn:t,BASE:n}=Hs,r=Cs(t,e),i=n.multiply(r);return{scalar:qs(i.y)?r:t.neg(r),bytes:zs(i)}}function Ws(e){const t=Ms;if(!t.isValidNot0(e))throw new Error("invalid x: Fail if x ≥ p");const n=t.create(e*e),r=t.create(n*e+BigInt(7));let i=t.sqrt(r);qs(i)||(i=t.neg(i));const a=Hs.fromAffine({x:e,y:i});return a.assertValidity(),a}const Vs=go;function Gs(...e){return Hs.Fn.create(Vs(Bs("BIP0340/challenge",...e)))}function Ks(e){return $s(e).bytes}function Js(e,t,n=Xa(32)){const{Fn:r}=Hs,i=wo("message",e),{bytes:a,scalar:o}=$s(t),s=wo("auxRand",n,32),l=r.toBytes(o^Vs(Bs("BIP0340/aux",s))),c=Bs("BIP0340/nonce",l,a,i),{bytes:u,scalar:p}=$s(c),d=Gs(u,a,i),f=new Uint8Array(64);if(f.set(u,0),f.set(r.toBytes(r.create(p+d*o)),32),!Qs(f,i,a))throw new Error("sign: Invalid signature produced");return f}function Qs(e,t,n){const{Fn:r,BASE:i}=Hs,a=wo("signature",e,64),o=wo("message",t),s=wo("publicKey",n,32);try{const e=Ws(Vs(s)),t=Vs(a.subarray(0,32));if(!ko(t,Ls,Is.p))return!1;const n=Vs(a.subarray(32,64));if(!ko(n,Ls,Is.n))return!1;const l=Gs(r.toBytes(t),zs(e),o),c=i.multiplyUnsafe(n).add(e.multiplyUnsafe(r.neg(l))),{x:u,y:p}=c.toAffine();return!(c.is0()||!qs(p)||u!==t)}catch(e){return!1}}const Ys=(()=>{const e=(e=Xa(48))=>Zo(e,Is.n);return Ds.utils.randomSecretKey,{keygen:function(t){const n=e(t);return{secretKey:n,publicKey:Ks(n)}},getPublicKey:Ks,sign:Js,verify:Qs,Point:Hs,utils:{randomSecretKey:e,randomPrivateKey:e,taggedHash:Bs,lift_x:Ws,pointToBytes:zs,numberToBytesBE:bo,bytesToNumberBE:go,mod:Mo},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})(),Xs=oo;new TextDecoder("utf-8");var Zs=new TextEncoder,el="https://w3id.org/security#";function tl(){return{id:"",created:"",dateDeleted:"",content:"",maker:"",sig:""}}function nl(e){var t=Xs(Zs.encode(function(e){return JSON.stringify(e)}(e)));return Da(t)}function rl(e,t,n){return Ys.verify(e,nl(t),n)}function il(e,t){return Da(Ys.sign(nl(e),t))}var al=function(e){var t,n,r=null===(t=x.store.any(e,g.space("preferencesFile"),null,e.doc()))||void 0===t?void 0:t.value;if(!(r=null===(n=r)||void 0===n?void 0:n.split("/").slice(0,-2).join("/")))throw new Error("prefererencesFile is expected to exist in ".concat(e));return r},ol=function(e){var t;try{var n=al(e);t="".concat(n,"/profile/keys/publicKey.ttl")}catch(e){X.z3(e)}return t},sl=function(e){var t;try{var n=al(e);t="".concat(n,"/settings/keys/privateKey.ttl")}catch(e){X.z3(e)}return t};function ll(e,t){return cl.apply(this,arguments)}function cl(){return(cl=b(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,dl(t,n,"publicKey");case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ul(e,t){return pl.apply(this,arguments)}function pl(){return(pl=b(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,dl(t,n,"privateKey");case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dl(e,t,n){return fl.apply(this,arguments)}function fl(){return(fl=b(w().mark(function e(t,n,r){var i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,x.store.fetcher.load(n);case 1:return i=x.store.any(t,g.solid(r)),e.abrupt("return",null==i?void 0:i.value);case 2:if(e.prev=2,404!==(a=e.catch(0)).response.status){e.next=7;break}return X.Rm("createIfNotExists: doc does NOT exist, will create... "+n),e.prev=3,e.next=4,x.store.fetcher.webOperation("PUT",n,{data:"",contentType:"text/turtle"});case 4:e.next=6;break;case 5:throw e.prev=5,o=e.catch(3),X.Rm("createIfNotExists doc FAILED: "+n+": "+o),o;case 6:return delete x.store.fetcher.requested[n],e.abrupt("return",void 0);case 7:throw X.Rm("createIfNotExists doc FAILED: "+n+": "+a),a;case 8:case"end":return e.stop()}},e,null,[[0,2],[3,5]])}))).apply(this,arguments)}function hl(e,t){return ml.apply(this,arguments)}function ml(){return(ml=b(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t);case 1:if(r=x.store.any(x.store.sym(t),x.store.sym("http://www.iana.org/assignments/link-relations/acl"))){e.next=2;break}throw new Error("Key ACL doc not found!");case 2:return e.prev=2,e.next=3,x.store.fetcher.webOperation("PUT",r.value,{data:n,contentType:"text/turtle"});case 3:e.next=6;break;case 4:if(e.prev=4,404===(null==(a=e.catch(2))||null===(i=a.response)||void 0===i?void 0:i.status)){e.next=5;break}throw new Error(a);case 5:X.Rm("delete "+r.value+" "+a.response.status);case 6:case"end":return e.stop()}},e,null,[[2,4]])}))).apply(this,arguments)}var gl=function(e){return"\n@prefix : <#>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix key: <./>.\n\n:ReadWrite\n    a acl:Authorization;\n    acl:accessTo key:;\n    acl:default key:;\n    acl:agent <".concat(e,">;\n    acl:mode acl:Read, acl:Write.\n")},vl=function(e,t){var n="acl:agentClass foaf:Agent";return null!=t&&t.length&&(n="acl:agent <".concat(t,">")),"\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#Read>\n    a acl:Authorization;\n    ".concat(n,";\n    acl:accessTo <").concat(e.split("/").pop(),">;\n    acl:mode acl:Read.\n")};function bl(){return Da(Ys.utils.randomPrivateKey())}function yl(e){return Da(Ys.getPublicKey(e))}function wl(e){return xl.apply(this,arguments)}function xl(){return(xl=b(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t);case 1:return e.next=2,ol(t);case 2:return n=e.sent,e.prev=3,e.next=4,x.store.fetcher.load(n);case 4:return r=x.store.any(t,g.solid("publicKey")),e.abrupt("return",null==r?void 0:r.value);case 5:return e.prev=5,e.catch(3),e.abrupt("return",void 0);case 6:case"end":return e.stop()}},e,null,[[3,5]])}))).apply(this,arguments)}function kl(e){return _l.apply(this,arguments)}function _l(){return _l=b(w().mark(function e(t){var n,r,i,a,o,s,l,c,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t);case 1:return e.next=2,ol(t);case 2:return n=e.sent,e.next=3,sl(t);case 3:return r=e.sent,e.next=4,ll(t,n);case 4:return i=e.sent,e.next=5,ul(t,r);case 5:if(a=e.sent,o=!0,a&&i!==yl(a)&&confirm("This is strange the publicKey is not valid for\n"+(null==t?void 0:t.uri)+"'shall we repair keeping the private key ?")&&(o=!1),a&&i&&o){e.next=8;break}if(s=[],l=[],a){e.next=6;break}return a=bl(),l=[m.st(t,g.solid("privateKey"),m.literal(a),x.store.sym(r))],e.next=6,Cl(r,[],l,t.uri);case 6:if(i&&o){e.next=7;break}return s=[],i&&(s=[m.st(t,g.solid("publicKey"),m.lit(i),x.store.sym(n))],X.Rm("delete invalid publicKey "+s)),c=yl(a),l=[m.st(t,g.solid("publicKey"),m.literal(c),x.store.sym(n))],e.next=7,Cl(n,s,l);case 7:return u=r.substring(0,r.lastIndexOf("/")+1),e.next=8,hl(u,gl(t.uri));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),_l.apply(this,arguments)}var El=function(){var e=b(w().mark(function e(t){var n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t);case 1:if(!(n=x.store.any(x.store.sym(t),x.store.sym("http://www.iana.org/assignments/link-relations/acl")))){e.next=6;break}return e.prev=2,e.next=3,x.store.fetcher.webOperation("DELETE",n.value);case 3:r=e.sent,X.Rm("delete keyAcl"+n.value+" "+r.status),e.next=6;break;case 4:if(e.prev=4,404===(i=e.catch(2)).response.status){e.next=5;break}throw new Error(i);case 5:X.Rm("delete keyAcl"+n.value+" "+i.response.status);case 6:case"end":return e.stop()}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}();function Cl(e,t,n){return Sl.apply(this,arguments)}function Sl(){return Sl=b(w().mark(function e(t,n,r){var i,a,o=arguments;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:"",e.next=1,El(t);case 1:return e.next=2,x.store.updater.updateMany(n,r);case 2:return a=vl(t,i),e.next=3,hl(t,a);case 3:case"end":return e.stop()}},e)})),Sl.apply(this,arguments)}var Al=function(){return we(function e(t,n){ge(this,e),this.channel=t,this.channelRoot=t.doc(),this.options=n,this.dateFolder=new Sa(this.channelRoot,"chat.ttl"),this.div=null},[{key:"createMessage",value:(r=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateMessage(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"updateMessage",value:(n=b(w().mark(function e(t){var n,r,i,a,o,s,l,c,u,p,d,f,h,v,b,y,k,_,E,C=arguments;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C.length>1&&void 0!==C[1]?C[1]:null,r=C.length>2?C[2]:void 0,i=C.length>3&&void 0!==C[3]?C[3]:null,a=[],o=new Date,s=""+o.getTime(),l=m.term(o),c=n?n.doc():this.dateFolder.leafDocumentFromDate(o),u=x.store.sym(c.uri+"#Msg"+s),p=x.authn.currentUser(),(d=tl()).id=u.uri,!n){e.next=4;break}if((f=x.store.any(n,g.foaf("maker"))).uri!==p.uri){e.next=2;break}return e.next=1,Il(n);case 1:h=e.sent,a.push(m.st(h,g.dct("isReplacedBy"),u,c)),(v=x.store.any(h,g.sioc("has_reply")))&&a.push(m.st(u,g.sioc("has_reply"),v,c)),r&&a.push(m.st(u,g.schema("dateDeleted"),l,c)),e.next=3;break;case 2:throw b="Error you cannot delete/edit a message from someone else : \n"+f.uri,X.R8(b),alert(b),new Error(b);case 3:e.next=5;break;case 4:a.push(m.st(this.channel,g.wf("message"),u,c));case 5:if(a.push(m.st(u,g.sioc("content"),x.store.literal(t),c)),d.content=t,a.push(m.st(u,g.dct("created"),l,c)),d.created=l.value,!p){e.next=7;break}return a.push(m.st(u,g.foaf("maker"),p,c)),d.maker=p.uri,e.next=6,kl(p);case 6:y=e.sent,k=il(d,y),a.push(m.st(u,m.sym("".concat(el,"proofValue")),m.lit(k),c));case 7:return i&&(a.push(m.st(i,g.sioc("has_member"),u,c)),i.doc().sameTerm(u.doc())||a.push(m.st(i,g.sioc("has_member"),u,i.doc()))),e.prev=8,e.next=9,x.store.updater.updateMany([],a);case 9:e.next=11;break;case 10:throw e.prev=10,E=e.catch(8),_="Error saving chat message: "+E,X.R8(_),alert(_),new Error(_);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this,[[8,10]])})),function(e){return n.apply(this,arguments)})},{key:"deleteMessage",value:(t=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateMessage("(message deleted)",t,!0));case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"createThread",value:(e=b(w().mark(function e(t){var n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=x.store.each(t,g.sioc("has_reply"),null,t.doc()).filter(function(e){return x.store.holds(e,g.rdf("type"),g.sioc("Thread"),e.doc())}),!(n.length>0)){e.next=1;break}return e.abrupt("return",n[0]);case 1:return r=m.sym(t.uri+"-thread"),i=[m.st(r,g.rdf("type"),g.sioc("Thread"),r.doc()),m.st(t,g.sioc("has_reply"),r,r.doc())],e.next=2,x.store.updater.update([],i);case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})}]);var e,t,n,r}();function Tl(e){return Rl.apply(this,arguments)}function Rl(){return(Rl=b(w().mark(function e(t){var n,r,i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[t],(r={})[t.uri]=!0,i=t;case 1:if((a=x.store.any(null,g.dct("isReplacedBy"),i,i.doc()))&&!r[a.uri]){e.next=2;break}return e.abrupt("continue",4);case 2:return e.next=3,x.store.fetcher.load(a);case 3:n.unshift(a),r[a.uri]=!0,i=a,e.next=1;break;case 4:i=t;case 5:if((o=x.store.any(i,g.dct("isReplacedBy"),null,i.doc()))&&!r[o.uri]){e.next=6;break}return e.abrupt("continue",7);case 6:n.push(o),r[o.uri]=!0,i=o,e.next=5;break;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pl(e){return Fl.apply(this,arguments)}function Fl(){return Fl=b(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r={};case 1:if(!n){e.next=4;break}if(!r[n.uri]){e.next=2;break}return X.z3("originalVersion: verion loop"+t),e.abrupt("return",t);case 2:return r[n.uri]=!0,t=n,e.next=3,x.store.fetcher.load(t);case 3:n=x.store.any(null,g.dct("isReplacedBy"),t,t.doc()),e.next=1;break;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),Fl.apply(this,arguments)}function Il(e){return Nl.apply(this,arguments)}function Nl(){return Nl=b(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r={};case 1:if(!n){e.next=4;break}if(!r[n.uri]){e.next=2;break}return X.z3("mostRecentVersion: verion loop"+t),e.abrupt("return",t);case 2:return r[n.uri]=!0,t=n,e.next=3,x.store.fetcher.load(t);case 3:n=x.store.any(t,g.dct("isReplacedBy"),null,t.doc()),e.next=1;break;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),Nl.apply(this,arguments)}function Ol(e){return x.store.holds(e,g.schema("dateDeleted"),null,e.doc())}function Ll(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ml=x.solidLogicSingleton.store;function Dl(e,t,n,r,i,a){t.setAttribute("style",Se.participantsStyle);var o=function(n){var r,i=Ml.any(n,g.wf("participant"));if(!i)return(r=e.createElement("tr")).textContent="???",r;var o=Ml.anyValue(n,g.ui("backgroundColor"))||Ce.participationDefaultBackground,s=e.createElement("div");s.setAttribute("style",Se.participantsBlock),s.style.backgroundColor=o,r=Dt(e,null,i,a),t.appendChild(r);var l=e.createElement("td");return l.setAttribute("style",Se.personTableTD),l.appendChild(s),r.insertBefore(l,r.firstChild),r},s=function(){var e=Ml.each(r,g.wf("participation")).map(function(e){return(0,X.Rm)("in participants"),[Ml.anyValue(e,g.cal("dtstart"))||"9999-12-31",e]});e.sort();var n=e.map(function(e){return e[1]});Ue(t,n,o)};return t.refresh=s,s(),t}function Ul(e,t,n){return new Promise(function(r,i){if(!n)throw new Error("No user id");var a=Ml.each(e,g.wf("participation")).filter(function(e){return Ml.holds(e,g.wf("participant"),n)});if(a.length>1){var o,s=[],l=Ll(a);try{for(l.s();!(o=l.n()).done;){var c=o.value,u=Ml.anyValue(c,g.cal("dtstart"));u&&s.push([u,c])}}catch(e){l.e(e)}finally{l.f()}s.sort(),X.R8("Multiple participation objects, picking earliest, in "+t),r(s[0][1])}if(a.length)r(a[0]);else{var p=Kr(t),d=[(0,m.st)(e,g.wf("participation"),p,t),(0,m.st)(p,g.wf("participant"),n,t),(0,m.st)(p,g.cal("dtstart"),new Date,t),(0,m.st)(p,g.ui("backgroundColor"),$l(n),t)];Ml.updater.update([],d,function(e,t,n){t?r(p):i(new Error("Error recording your participation: "+n))}),r(p)}})}function Bl(e,t,n){var r=x.authn.currentUser();if(r){var i=Ml.each(e,g.wf("participation")).filter(function(e){return Ml.holds(e,g.wf("participant"),r)});if(i.length>1)throw new Error("Multiple records of your participation");if(i.length)return i[0];if(!Ml.updater.editable(t))return X.Rm("Not recording participation, as no write access as "+r+" to "+t),null;var a=Kr(t),o=[(0,m.st)(e,g.wf("participation"),a,t),(0,m.st)(a,g.wf("participant"),r,t),(0,m.st)(a,g.cal("dtstart"),new Date,t),(0,m.st)(a,g.ui("backgroundColor"),$l(r),t)];return Ml.updater.update([],o,function(e,t,r){if(!t)throw new Error("Error recording your participation: "+r);n&&n.refresh&&n.refresh()}),a}}function zl(e,t,n,r,i,a){var o=e.createElement("table");t.appendChild(o),Dl(e,o,0,r,0,a);try{Bl(r,n,o)}catch(n){t.appendChild(lt(e,"Error recording your participation: "+n))}return o}var Hl=x.solidLogicSingleton.store,ql=(0,m.Namespace)("http://www.w3.org/ns/pim/pad#");function $l(e){var t;return e&&e.uri?"#"+(16777215&(t=e.uri,t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0))|12632256).toString(16):"#ffffff"}function Wl(e,t,n,r,i){var a=(i=i||{}).exists,o=e.createElement("table"),s=Hl;if(r&&!r.uri)throw new Error("UI.pad.notepad:  Invalid userid");var l=Hl.updater,c=(0,m.Namespace)("http://www.w3.org/ns/pim/pad#");o.setAttribute("style",Se.notepadStyle);var u=null,p=null;if(i.statusArea){var d=i.statusArea.appendChild(e.createElement("table")).appendChild(e.createElement("tr"));u=d.appendChild(e.createElement("td")),p=d.appendChild(e.createElement("td")),u&&u.setAttribute("style",Se.upstreamStatus),p&&p.setAttribute("style",Se.downstreamStatus)}var f=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,X.Rm)(t),i.statusArea&&(n?u:p).appendChild(lt(e,t,"pink"))},h=function(e){i.statusArea&&(i.statusArea.innerHTML="")},v=function(e,t,n){var r=e.subject;t=t||"";var i=Se.baseStyle,a=Se.headingCore,o=Se.headingStyle,l=s.any(r,g.dc("author"));!t&&l&&(t="color: "+(n?"#888":"black")+"; background-color: "+$l(l)+";");var u=s.any(r,c("indent")),p=(u=u?u.value:0)>=0?i+"text-indent: "+3*u+"em;":a+o[-1-u];e.setAttribute("style",p+t)},b=function(e){var r=e.subject;if(!r)throw new Error("No chunk for line to be deleted!");var i=s.any(void 0,c("next"),r),a=s.any(r,c("next"));if(i.sameTerm(n)&&a.sameTerm(n))(0,X.Rm)("You can't delete the only line.");else{var o=s.statementsMatching(r,void 0,void 0,t).concat(s.statementsMatching(void 0,void 0,r,t)),u=[(0,m.st)(i,c("next"),a,t)];if(r instanceof m.NamedNode){var p=r.uri.slice(-4);(0,X.Rm)("Deleting line "+p)}if(!l)throw new Error("have no updater");l.update(o,u,function(t,n,i,a){if(n){var s=e.parentNode;if(s){var l=s.previousSibling;s.parentNode&&s.parentNode.removeChild(s),l&&l.firstChild&&l.firstChild.focus()}}else if(a&&409===a.status)v(e,"color: black;  background-color: #ffd;"),e.state=0,je(),setTimeout(function(){S()},1e3);else{(0,X.Rm)("    removePart FAILED "+r+": "+i),(0,X.Rm)("    removePart was deleteing :'"+o),v(e,"color: black;  background-color: #fdd;");var c=a?a.status:" [no response field] ";f("Error "+c+" saving changes: "+i.true)}})}},y=function(e,n){e.addEventListener("keydown",function(r){if(!l)throw new Error("no updater");var i,a;switch(r.keyCode){case 13:var o=r.shiftKey;if((0,X.Rm)("enter"),o?(a=s.any(void 0,c("next"),n),i="newlinesAfter"):(a=s.any(n,c("next")),i="newlinesBefore"),a[i]=a[i]||0,a[i]+=1,a[i]>1)return void(0,X.Rm)("    queueing newline queue = "+a[i]);(0,X.Rm)("    go ahead line before "+a[i]),x(e,o);break;case 8:if(0===e.value.length)switch((0,X.Rm)("Delete key line "+n.uri.slice(-4)+" state "+e.state),e.state){case 1:case 2:return void(e.state=4);case 3:case 4:return;case void 0:case 0:e.state=3,b(e),r.preventDefault();break;default:throw new Error("pad: Unexpected state "+e)}break;case 9:var u=r.shiftKey?-1:1;!function(e,n,r){var i=s.statementsMatching(n,c("indent")),a=i.length?Number(i[0].object.value):0;if(!(a+r<-3)){var o=a+r,u=(0,m.st)(n,c("indent"),o,t);if(!l)throw new Error("no updater");l.update(i,u,function(n,r,i){r?v(e):((0,X.Rm)("Indent change FAILED '"+o+"' for "+t+": "+i),v(e,"color: black;  background-color: #fdd;"),l.requestDownstreamAction(t,S))})}}(e,n,u),r.preventDefault();break;case 27:(0,X.Rm)("escape"),l.requestDownstreamAction(t,S),r.preventDefault();break;case 38:e.parentNode.previousSibling&&(e.parentNode.previousSibling.firstChild.focus(),r.preventDefault());break;case 40:e.parentNode.nextSibling&&(e.parentNode.nextSibling.firstChild.focus(),r.preventDefault())}});var r=function(e){var n=e.subject;v(e,void 0,!0);var i,a=s.any(n,g.sioc("content")).value,o=[(0,m.st)(n,g.sioc("content"),a,t)];e.value&&(i=[(0,m.st)(n,g.sioc("content"),e.value,t)]);var c=e.value;if(e.lastSent&&a!==e.lastSent)throw new Error("Out of order, last sent expected '"+a+"' but found '"+e.lastSent+"'");if(e.lastSent=c,!l)throw new Error("no updater");l.update(o,i,function(n,i,o,s){i?(h(),v(e),(0,X.Rm)("    Patch ok '"+a+"' -> '"+c+"' "),4===e.state?(e.state=3,b(e)):3===e.state||(2===e.state?(e.state=1,r(e)):e.state=0)):((0,X.Rm)("    patch FAILED "+s.status+" for '"+a+"' -> '"+c+"': "+o),409===s.status?(v(e,"color: black;  background-color: #fdd;"),e.state=0,je(),setTimeout(function(){l.requestDownstreamAction(t,S)},1e3)):(v(e,"color: black;  background-color: #fdd;"),e.state=0,f("    Error "+s.status+" sending data: "+o,!0),je()))})};e.addEventListener("input",function(t){switch(v(e,void 0,!0),(0,X.Rm)("Input event state "+e.state+" value '"+e.value+"'"),e.state){case 3:case 4:case 2:return;case 1:return void(e.state=2);case 0:case void 0:e.state=1,r(e)}})},w=function(t,n,i){var a=s.any(n,g.sioc("content"));a=a?a.value:"";var l=e.createElement("tr");i?o.insertBefore(l,t):t&&t.nextSibling?o.insertBefore(l,t.nextSibling):o.appendChild(l);var c=l.appendChild(e.createElement("input"));return c.subject=n,c.setAttribute("type","text"),c.value=a,r?(v(c,""),y(c,n)):(v(c,"color: #222; background-color: #fff"),(0,X.Rm)("Note can't add listeners - not logged in")),c},x=function(e,i){var a,o,s,u,p,d=Hl,f=0,h=null;e?("input"!==e.tagName.toLowerCase()&&(0,X.Rm)("return pressed when current document is: "+e.tagName),a=e.subject,f=(f=d.any(a,c("indent")))?Number(f.value):0,i?(o=d.any(void 0,c("next"),a),s=a,u=o,h="newlinesAfter"):(o=a,s=d.any(a,c("next")),u=s,h="newlinesBefore"),p=e.parentNode):(o=n,s=n,p=void 0);var b=Kr(t),y=b.uri.slice(-4),k=[(0,m.st)(o,c("next"),s,t)],_=[(0,m.st)(o,c("next"),b,t),(0,m.st)(b,c("next"),s,t),(0,m.st)(b,g.dc("author"),r,t),(0,m.st)(b,g.sioc("content"),"",t)];if(f>0&&_.push((0,m.st)(b,c("indent"),f,t)),(0,X.Rm)("    Fresh chunk "+y+" proposed"),!l)throw new Error("no updater");l.update(k,_,function(e,t,n,r){if(t){var a=w(p,b,i);v(a),a.focus(),h&&((0,X.Rm)("    Fresh chunk "+y+" updated, queue = "+u[h]),u[h]-=1,u[h]>0&&((0,X.Rm)("    Implementing queued newlines = "+s.newLinesBefore),x(a,i)))}else(0,X.Rm)("    ERROR writing new line "+y+": "+n)})},k=function(){var e={},t=0;function r(e){f(e),t++}if(!s.the(n,c("next")))return r("No initial next pointer"),!1;for(var i,a=n;(i=s.the(a,c("next")))||r("No next pointer from "+a),!i.sameTerm(n);){a=i;var o=i.uri.split("#")[1];if(e[i.uri])return r("Loop!"),!1;e[i.uri]=!0;var l=s.each(i,c("next")).length;1!==l&&r("Should be 1 not "+l+" next pointer for "+o),(l=s.each(i,c("indent")).length)>1&&r("Should be 0 or 1 not "+l+" indent for "+o),1!==(l=s.each(i,g.sioc("content")).length)&&r("Should be 1 not "+l+" contents for "+o),1!==(l=s.each(i,g.dc("author")).length)&&r("Should be 1 not "+l+" author for "+o),s.statementsMatching(void 0,g.sioc("contents")).forEach(function(t){e[t.subject.value]||r("Loose chunk! "+t.subject.value)})}return!t},_=function(){if(1!==s.each(n,c("next")).length){var e="Pad: Inconsistent data - NEXT pointers: "+s.each(n,c("next")).length;return(0,X.Rm)(e),void(i.statusArea&&(i.statusArea.textContent+=e))}for(var t,r=[],a=s.the(n,c("next"));!a.sameTerm(n);a=s.the(a,c("next")))for(var l=0;l<o.children.length;l++){var u=o.children[l];u.firstChild&&u.firstChild.subject.sameTerm(a)&&(r[a.uri]=u.firstChild)}for(var p=o.children.length-1;p>=0;p--)r[(t=o.children[p]).firstChild.subject.uri]||o.removeChild(t);t=o.firstChild;for(var d=s.the(n,c("next"));!d.sameTerm(n);d=s.the(d,c("next"))){var f=s.any(d,g.sioc("content")).value;if(t&&r[d.uri]){var h=t.firstChild;f!==h.value&&(h.value=f),v(h),h.state=0,delete h.lastSent,t=t.nextSibling}else w(t,d,!0)}},E=function(e){if(e.refresh)e.refresh();else for(var t=0;t<e.children.length;t++)E(e.children[t])},C=!1,S=function(){if(C)(0,X.Rm)("   Already reloading - stop");else{C=!0;var e=1e3,n=function(){if((0,X.Rm)("try reload - timeout = "+e),!l)throw new Error("no updater");l.reload(l.store,t,function(r,i,a){C=!1,r?((0,X.Rm)("    reloaded OK"),h(),k()?E(o):f("CONSISTENCY CHECK FAILED")):0===a.status?(f("Network error refreshing the pad. Retrying in "+e/1e3),C=!0,e*=2,setTimeout(n,e)):f("Error "+a.status+"refreshing the pad:"+i+". Stopped. "+t)})};n()}};if(o.refresh=_,o.reloadAndSync=S,r||(0,X.Rm)("Warning: must be logged in for pad to be edited"),a)(0,X.Rm)("Existing pad."),k()?(_(),s.holds(n,c("next"),n)&&x()):(0,X.Rm)(o.textContent="Inconsistent data. Abort");else{(0,X.Rm)("No pad exists - making new one.");var A=[(0,m.st)(n,g.rdf("type"),c("Notepad"),t),(0,m.st)(n,g.dc("author"),r,t),(0,m.st)(n,g.dc("created"),new Date,t),(0,m.st)(n,c("next"),n,t)];if(!l)throw new Error("no updater");l.update([],A,function(e,t,n){t?((0,X.Rm)("Initial pad created"),x()):f(n||"")})}return o}function Vl(e,t){for(var n=[],r=t.the(e,ql("next"));!r.sameTerm(e);r=t.the(r,ql("next")))n.push(r);return n}function Gl(e){return e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")}function Kl(e,t){var n=Vl(e,t),r="<html>\n  <head>\n",i=t.anyValue(e,g.dct("title"));i&&(r+="    <title>".concat(Gl(i),"</title>\n")),r+="  </head>\n  <body>\n";var a=0;function o(e){for(;a>e;a--)r+="</ul>\n"}return n.forEach(function(e){var n=t.anyJS(e,ql("indent")),i=t.anyJS(e,g.sioc("content"));if(i){var s=Gl(i);if(n<0){o(0);var l=n>=-3?4+n:1;r+="\n<h".concat(l,">").concat(s,"</h").concat(l,">\n")}else n>0?(o(n),function(e){for(;a<e;a++)r+="<ul>\n"}(n),r+="<li>".concat(s,"</li>\n")):(o(n),r+="<p>".concat(s,"</p>\n"))}}),o(0),r+="  </body>\n</html>\n"}var Jl={icons:Fe.Pt,ns:g,media:ra,pad:c,style:Se,utils:t,widgets:s},Ql=m.Namespace("http://www.w3.org/2002/01/bookmark#"),Yl=Q,Xl=window.document||null;function Zl(e,t){return new Promise(function(n,r){x.store.updater.update(e,t,function(e,t,i){t?n():r(new Error(i))})})}function ec(){return(ec=b(w().mark(function e(t){var n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ql("Bookmark"),r="bookmarks.ttl",e.next=1,fi(t,n,!0);case 1:if(!(t.instances&&t.instances.length>0)){e.next=2;break}t.bookmarkDocument=t.instances[0],t.instances.length>1&&X.R8("More than one bookmark file! "+t.instances),e.next=9;break;case 2:if(!t.publicProfile){e.next=8;break}return i=m.sym(t.publicProfile.dir().uri+r),e.prev=3,X.Rm("Creating new bookmark file "+i),e.next=4,x.store.fetcher.createIfNotExists(i);case 4:e.next=6;break;case 5:return e.prev=5,a=e.catch(3),X.R8("Can't make fresh bookmark file:"+a),e.abrupt("return",t);case 6:return e.next=7,x.createTypeIndexLogic.registerInTypeIndex(i,t.index,n);case 7:t.bookmarkDocument=i,e.next=9;break;case 8:X.R8("You seem to have no bookmark file, nor even a profile file!");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e,null,[[3,5]])}))).apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=b(w().mark(function e(t,n){var r,i,a,o,s,l,c,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",i=x.authn.currentUser()){e.next=1;break}throw new Error("Must be logged on to add Bookmark");case 1:return a=x.store.any(n,g.foaf("maker")),r=Yl(a)+": "+x.store.anyValue(n,g.sioc("content")).slice(0,80),o=t.bookmarkDocument,s=Jl.widgets.newThing(o,r),l=[m.st(o,Jl.ns.dct("references"),s,o),m.st(s,Jl.ns.rdf("type"),Ql("Bookmark"),o),m.st(s,Jl.ns.dct("created"),new Date,o),m.st(s,Ql("recalls"),n,o),m.st(s,Jl.ns.foaf("maker"),i,o),m.st(s,Jl.ns.dct("title"),r,o)],e.prev=2,e.next=3,Zl([],l);case 3:e.next=5;break;case 4:return e.prev=4,u=e.catch(2),c="Making bookmark: "+u,X.R8(c),e.abrupt("return",null);case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}},e,null,[[2,4]])})),nc.apply(this,arguments)}function rc(e,t,n){return ic.apply(this,arguments)}function ic(){return(ic=b(w().mark(function e(t,n,r){var i,a,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t.bookmarkDocument);case 1:if(!(i=x.store.each(null,Ql("recalls"),n,t.bookmarkDocument)).length){e.next=9;break}if(confirm("Delete bookmark on this?"+i.length)){e.next=2;break}return e.abrupt("return");case 2:a=0;case 3:if(!(a<i.length)){e.next=8;break}return e.prev=4,e.next=5,Zl(x.store.connectedStatements(i[a]),[]);case 5:r.style.backgroundColor="white",X.Rm("Bookmark deleted: "+i[a]),e.next=7;break;case 6:e.prev=6,s=e.catch(4),X.z3("Cant delete bookmark:"+s),X.R8("Cannot delete bookmark:"+s);case 7:a++,e.next=3;break;case 8:e.next=11;break;case 9:return e.next=10,tc(t,n);case 10:o=e.sent,r.style.backgroundColor="yellow",X.Rm("Bookmark added: "+o);case 11:case"end":return e.stop()}},e,null,[[4,6]])}))).apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=b(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return i=b(w().mark(function e(n){var r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.fetcher.load(t.bookmarkDocument);case 1:r=x.store.any(null,Ql("recalls"),n.target,t.bookmarkDocument),n.style=Jl.style.buttonStyle,r&&(n.style.backgroundColor="yellow");case 2:case"end":return e.stop()}},e)})),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},!t.bookmarkDocument){e.next=2;break}return(a=Jl.widgets.button(Xl,Jl.icons.iconBase+"noun_45961.svg",Yl(Ql("Bookmark")),function(){rc(t,n,a)})).target=n,e.next=1,r(a);case 1:return e.abrupt("return",a);case 2:case"end":return e.stop()}},e)})),oc.apply(this,arguments)}var sc=window.document,lc={};function cc(e,t){return uc.apply(this,arguments)}function uc(){return uc=b(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=b(w().mark(function e(){var i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.innerHTML="",!Ol(t)){e.next=1;break}return e.abrupt("return",r);case 1:return e.next=2,Tl(t);case 2:if(i=e.sent,0!==(a=i.map(function(e){return x.store.each(null,g.schema("target"),e,n)}).flat()).length){e.next=3;break}return e.abrupt("return",r);case 3:(o=a.map(function(e){return[x.store.any(e,g.rdf("type"),null,n),x.store.any(e,g.sioc("content"),null,n),x.store.any(e,g.schema("agent"),null,n)]})).sort(),o.forEach(function(e){var t,n=_e(e,3),i=n[0],a=n[1],o=n[2];o?(t=sc.createElement("a")).setAttribute("href",o.uri):t=sc.createTextNode(""),t.textContent=a||lc[i]||"⬜️",r.appendChild(t)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(){return a.apply(this,arguments)},r=sc.createElement("span"),i().then(X.Rm("sentimentStripLinked: sentimentStripLinked async refreshed")),r.refresh=i,e.abrupt("return",r);case 1:case"end":return e.stop()}},e)})),uc.apply(this,arguments)}function pc(e,t,n,r){return dc.apply(this,arguments)}function dc(){return dc=b(w().mark(function e(t,n,r,i){var a,o,s,l,c,u,p,d,f,h,v,y,k,_,E,C,S,A,T;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y=function(e,t,r,i,a,o){function s(){c.style.backgroundColor=l?"yellow":"white"}var l,c=Ot(sc,r,Q(i),function(){var r=b(w().mark(function r(c){var p,d,h,v;return w().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!l){r.next=2;break}return r.next=1,f(l);case 1:l=null,s(),r.next=8;break;case 2:return l=Kr(a),p=[m.st(l,g.schema("agent"),e.me,a),m.st(l,g.rdf("type"),i,a),m.st(l,g.schema("target"),t,a)],r.next=3,x.store.updater.update([],p);case 3:if(s(),!o){r.next=8;break}d=!1,h=0;case 4:if(!(h<o.length)){r.next=7;break}if(!(v=u(o[h]))){r.next=6;break}return r.next=5,f(v);case 5:d=!0;case 6:h++,r.next=4;break;case 7:d&&qt(n);case 8:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}());function u(n){var r=x.store.each(null,g.schema("agent"),e.me,a).filter(function(e){return x.store.holds(e,g.rdf("type"),n,a)}).filter(function(e){return x.store.holds(e,g.schema("target"),t,a)});return r.length?r[0]:null}function p(){l=u(i),s()}return c.refresh=p,p(),c},h=function(){return(h=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,x.store.updater.update(x.store.connectedStatements(t),[]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},f=function(e){return h.apply(this,arguments)},d=function(){p.parentElement.parentElement.removeChild(p.parentElement)},u=function(){return(u=b(w().mark(function e(){var n,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,i.createThread(t);case 1:if(n=e.sent,a=r.chatOptions){e.next=2;break}throw new Error("replyInThread: missing options");case 2:a.showThread(n,a),d();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},c=function(){return u.apply(this,arguments)},l=function(){return l=b(w().mark(function e(n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.value!==x.store.any(t,g.foaf("maker")).value){e.next=1;break}return d(),e.next=1,Ac(n,t,i,r);case 1:case"end":return e.stop()}},e)})),l.apply(this,arguments)},s=function(e){return l.apply(this,arguments)},o=function(){return o=b(w().mark(function e(){var a,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x.store.any(t,g.foaf("maker")),v){e.next=1;break}alert("You can't delete the message, you are not logged in."),e.next=7;break;case 1:if(!v.sameTerm(a)){e.next=6;break}return e.prev=2,e.next=3,i.deleteMessage(t);case 3:e.next=5;break;case 4:e.prev=4,s=e.catch(2),o="Error deleting messaage "+s,X.R8(o),alert(o),(r.statusArea||n.parentNode).appendChild(lt(sc,o));case 5:n.parentNode.removeChild(n),e.next=7;break;case 6:alert("You can't delete the message, you are not logged in as the author, "+a);case 7:d();case 8:case"end":return e.stop()}},e,null,[[2,4]])})),o.apply(this,arguments)},a=function(){return o.apply(this,arguments)},p=sc.createElement("div"),e.next=1,Il(t).value;case 1:if(E=e.sent,C=g.schema("dateDeleted").value,E!==C){e.next=2;break}return e.abrupt("return",p);case 2:if((v=x.authn.currentUser())&&x.store.holds(t,g.foaf("maker"),v)&&(p.appendChild(Nt(sc,p,"message",a)),p.appendChild(Ot(sc,Fe.Pt.iconBase+"noun_253504.svg","edit",function(){return s(n)}))),ac(r).then(function(e){e&&p.appendChild(e)}),v=x.authn.currentUser(),!(S=v)){e.next=4;break}return e.next=3,Il(t).value;case 3:A=e.sent,T=g.schema("dateDeleted").value,S=A!==T;case 4:if(!S){e.next=5;break}k={me:v,dom:sc,div:p},p.appendChild(y(k,t,Fe.Pt.iconBase+"noun_1384132.svg",g.schema("AgreeAction"),t.doc(),[g.schema("DisagreeAction")])),p.appendChild(y(k,t,Fe.Pt.iconBase+"noun_1384135.svg",g.schema("DisagreeAction"),t.doc(),[g.schema("AgreeAction")]));case 5:return x.store.any(t,g.dct("created"))&&p.appendChild(Ot(sc,Fe.Pt.iconBase+"noun-reply-5506924.svg","Reply in thread",b(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,c();case 1:case"end":return e.stop()}},e)})))),(_=p.appendChild(Lt(sc))).style.float="right",_.firstChild.style.opacity="0.3",_.addEventListener("click",d),e.abrupt("return",p);case 6:case"end":return e.stop()}},e)})),dc.apply(this,arguments)}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach(function(t){on(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}lc[g.schema("AgreeAction")]="👍",lc[g.schema("DisagreeAction")]="👎",lc[g.schema("EndorseAction")]="⭐️",lc[g.schema("LikeAction")]="❤️";var vc=window.document,bc=Se.messageBodyStyle,yc=Q;function wc(e,t){var n=vc.createElement("img"),r="10";t.inlineImageHeightEms&&(r=(""+t.inlineImageHeightEms).trim()),n.setAttribute("style","max-height: "+r+"em; border-radius: 1em; margin: 0.7em;"),e&&n.setAttribute("src",e);var i=vc.createElement("a");return i.setAttribute("href",e),i.setAttribute("target","images"),i.appendChild(n),Te(n,$rdf.sym(e)),i}var xc=function(e,t){var n=vc.createElement("a");return t&&t.uri&&(n.setAttribute("href",t.uri),n.addEventListener("click",Wt,!0),n.setAttribute("style","color: #3B5998; text-decoration: none; ")),n.textContent=e,n};function kc(e){var t=x.store.any(e,g.foaf("nick"));return t?""+t.value:""+yc(e)}function _c(e,t,n,r){var i=e.appendChild(xc(kc(t),t));t.uri&&x.store.fetcher.nowOrWhenFetched(t.doc(),void 0,function(e,n){i.textContent=kc(t)}),e.appendChild(vc.createElement("br")),e.appendChild(xc(n,r))}function Ec(e,t,n,r){var i=e.appendChild(xc(yc(t),t));t.uri&&x.store.fetcher.nowOrWhenFetched(t.doc(),void 0,function(e,n){i.textContent=kc(t)});var a=e.appendChild(xc(n,r));a.style.fontSize="80%",a.style.marginLeft="1em",e.appendChild(vc.createElement("br"))}function Cc(e,t,n,r,i){return Sc.apply(this,arguments)}function Sc(){return Sc=b(w().mark(function e(t,n,r,i,a){var o,s,l,c,u,p,d,f,h,m,v,y,k,_,E,C,S,A,T,R,P,F,I,N,O,L,j,M,D,U,B,z,H,q,$;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return z=function(e){return e?"#e8ffe8":"white"},o=!1,s="1"===i.colorizeByAuthor||!0===i.colorizeByAuthor,l=x.store.any(n,g.foaf("maker")),c=x.store.any(n,g.dct("created")),e.next=1,Il(n);case 1:return u=e.sent,p=x.store.any(u,g.foaf("maker")),d=l.uri===(null==p?void 0:p.uri)?u:n,f=x.store.any(d,g.sioc("content")),e.next=2,Tl(d);case 2:(h=e.sent).length>1&&X.Rm("renderMessageRow versions: ",h.join(",  ")),m=h.map(function(e){return x.store.each(e,g.sioc("has_reply"))}).flat(),v=null,y=[],k=mc(m);try{for(k.s();!(_=k.n()).done;)E=_.value,x.store.holds(E,g.rdf("type"),g.sioc("Thread"))?(v=E,X.Rm("renderMessageRow: found thread: "+v)):y.push(E)}catch(e){k.e(e)}finally{k.f()}return y.length>1&&X.Rm("renderMessageRow: found normal replies: ",y),v||(v=x.store.any(null,g.sioc("has_member"),n)),C=x.store.any(d,$rdf.sym("".concat(el,"proofValue"))),(S=tl()).id=d.uri,S.created=x.store.any(d,g.dct("created")).value,S.content=f.value,S.maker=l.uri,null!=C&&C.value?wl(l).then(function(e){e||X.R8("message is signed but "+l.uri+" is missing publicKey"),null!=e&&e.match(/[0-9A-Fa-f]{6}/g)?null!=C&&C.value&&!rl(null==C?void 0:C.value,S,e)&&X.R8("invalid signature\n"+S.id):X.R8("invalid publicKey hex string\n"+l.uri+"\n"+e)}):(o=!0,X.R8(d.uri+" is unsigned")),e.next=3,Pl(n);case 3:return A=e.sent,T=!n.sameTerm(A),R=x.store.the(A,g.dct("created"),null,A.doc())||x.store.the(n,g.dct("created"),null,n.doc()),P=vc.createElement("tr"),o&&P.setAttribute("style","background-color: red"),P.AJAR_date=R.value,P.AJAR_subject=n,F=vc.createElement("td"),P.appendChild(F),i.authorDateOnLeft?_c(F,l,wt(R.value),n):((I=vc.createElement("img")).setAttribute("style","max-height: 2.5em; max-width: 2.5em; border-radius: 0.5em; margin: auto;"),Ft(I,l),F.appendChild(I)),N=wt(R.value),T&&(N+=" ... "+wt(c.value)),O=P.appendChild(vc.createElement("td")),i.authorDateOnLeft||Ec(O,l,N,n),L=f?f.value.trim():"??? no content?",j=/^https?:\/[^ <>]*$/i.test(L),M=null,j?/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test(L)&&i.expandImagesInline?(D=wc(L,i),O.appendChild(D)):(U=O.appendChild(vc.createElement("a")),M=U.appendChild(vc.createElement("p")),U.href=L,M.textContent=L,O.appendChild(U)):(M=vc.createElement("p"),O.appendChild(M),M.textContent=L),M&&(B=s?$l(l):z(r),M.setAttribute("style",bc+"background-color: "+B+";")),e.next=4,cc(n,n.doc());case 4:return(H=e.sent).children.length&&(O.appendChild(vc.createElement("br")),O.appendChild(H)),q=vc.createElement("td"),P.appendChild(q),$=Ot(vc,Fe.Pt.iconBase+"noun_243787.svg","..."),q.appendChild($),$.addEventListener("click",function(){var e=b(w().mark(function e(r){var o,s,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!P.toolTR){e.next=1;break}return P.parentNode.removeChild(P.toolTR),delete P.toolTR,e.abrupt("return");case 1:return o=vc.createElement("tr"),e.next=2,pc(n,P,hc(hc({},a),{},{chatOptions:i}),t);case 2:(s=e.sent).style="border: 0.05em solid #888; border-radius: 0 0 0.7em 0.7em;  border-top: 0; height:3.5em; background-color: #fff;",P.nextSibling?P.parentElement.insertBefore(o,P.nextSibling):P.parentElement.appendChild(o),P.toolTR=o,o.appendChild(vc.createElement("td")),l=o.appendChild(vc.createElement("td")),o.appendChild(vc.createElement("td")),l.appendChild(s);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),v&&i.showThread&&q.appendChild(Ot(vc,Fe.Pt.iconBase+"noun_1180164.svg","see thread",function(e){i.showThread(v,i)})),e.abrupt("return",P);case 5:case"end":return e.stop()}},e)})),Sc.apply(this,arguments)}function Ac(e,t,n,r){return Tc.apply(this,arguments)}function Tc(){return(Tc=b(w().mark(function e(t,n,r,i){var a,o,s,l,c,u,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.parentNode,s=Rc,l=r,c=a,u=i,p=r.options,e.next=1,Il(n);case 1:o=s(l,c,u,p,e.sent),a.insertBefore(o,t),o.originalRow=t,t.style.visibility="hidden";case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rc(e,t,n,r,i){function a(e){return o.apply(this,arguments)}function o(){return(o=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,s(f.value,!0);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e,t){return l.apply(this,arguments)}function l(){return l=b(w().mark(function a(o,s){var l,c,u,p;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(){return c=b(w().mark(function a(o,l){var c;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=1,Nc(e,t,o,!1,r,n);case 1:i?((c=m.originalRow).parentNode?c.parentNode.removeChild(c):(X.R8("No parentNode on old message "+c.textContent),c.style.backgroundColor="#fee",c.style.visibility="hidden"),m.parentNode.removeChild(m)):s&&(f.value="",f.setAttribute("style",bc),f.disabled=!1,f.scrollIntoView(r.newestFirst),f.focus(),f.select());case 2:case"end":return a.stop()}},a)})),c.apply(this,arguments)},l=function(e,t){return c.apply(this,arguments)},s&&(f.setAttribute("style",bc+"color: #bbb;"),f.disabled=!0),a.prev=1,a.next=2,e.updateMessage(o,i,null,r.thread);case 2:u=a.sent,a.next=4;break;case 3:return a.prev=3,p=a.catch(1),(n.statusArea||m).appendChild(lt(vc,"Error writing message: "+p)),a.abrupt("return");case 4:return a.next=5,l(u,o);case 5:case"end":return a.stop()}},a,null,[[1,3]])})),l.apply(this,arguments)}function c(e){var n=t.chatDocument.dir().uri;Re(x.store.fetcher,e,n+"Files",n+"Pictures",function(){var e=b(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,s(n);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}var u,p,d=function(){var e=b(w().mark(function e(t){var n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=mc(t),e.prev=1,n.s();case 2:if((r=n.n()).done){e.next=4;break}return i=r.value,e.next=3,s(i);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,a=e.catch(1),n.e(a);case 6:return e.prev=6,n.f(),e.finish(6);case 7:case"end":return e.stop()}},e,null,[[1,5,6,7]])}));return function(t){return e.apply(this,arguments)}}();i?(u=x.store.anyValue(i,g.dct("created"),null,i.doc()),p=Fe.Pt.iconBase+"noun_1180158.svg"):(p=Fe.Pt.iconBase+"noun_383448.svg",u="9999-01-01T00:00:00Z");var f,h,m=vc.createElement("tr"),v=vc.createElement("td"),y=vc.createElement("td"),k=vc.createElement("td");return m.appendChild(v),m.appendChild(y),m.appendChild(k),m.AJAR_date=u,li({div:y,dom:vc}).then(function(t){!function(){function t(){return(t=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=1;break}return e.next=1,s(t.uri);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}if(r.menuHandler){var n=Ot(vc,Fe.Pt.iconBase+"noun_243787.svg","More");n.setAttribute("style",Se.buttonStyle+"float: right;"),k.appendChild(n)}r.menuHandler;var o=x.authn.currentUser();if(_c(v,o,"",null),f=vc.createElement("textarea"),y.innerHTML="",y.appendChild(f),f.rows=3,i&&(f.value=x.store.anyValue(i,g.sioc("content"),null,i.doc())),f.setAttribute("style",bc+"background-color: #eef;"),f.addEventListener("keydown",function(){var e=b(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.code){e.next=1;break}if(!(!t.shiftKey&&!r.shiftEnterSendsMessage||t.shiftKey&&r.shiftEnterSendsMessage)){e.next=1;break}return e.next=1,a(t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!1),Ae(f,d,c),k.innerHTML="",(h=Ot(vc,p,"Send")).style.float="right",h.addEventListener("click",function(e){return a()},!1),k.appendChild(h),i){var l=k.appendChild(Lt(vc));l.style.float="left",l.addEventListener("click",function(e){return function(e){e.originalRow.style.visibility="visible",e.parentNode.removeChild(e)}(m)},!1),k.appendChild(l)}var u=e.dateFolder.leafDocumentFromDate(new Date);y.appendChild(ra.cameraButton(vc,x.store,function(){return $rdf.sym(u.dir().uri+"Image_"+Date.now()+".png")},function(e){return t.apply(this,arguments)})),Bl(e.channel,e.channel.doc())}(),Object.assign(t,n),function(e){return ec.apply(this,arguments)}(t).then(function(e){})}),m}function Pc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ic(e){"Notification"in window?"granted"===Notification.permission?new Notification(e):"denied"!==Notification.permission&&Notification.requestPermission().then(function(t){"granted"===t&&new Notification(e)}):X.R8("This browser does no t support desktop notification")}function Nc(e,t,n,r,i,a){return Oc.apply(this,arguments)}function Oc(){return(Oc=b(w().mark(function e(t,n,r,i,a,o){var s,l,c,u,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Cc(t,r,i,a,o);case 1:s=e.sent,a.selectedMessage&&a.selectedMessage.sameTerm(r)&&(s.style.backgroundColor="yellow",a.selectedElement=s,n.selectedElement=s),l=!1,c=n.firstChild;case 2:if(c){e.next=3;break}return e.abrupt("continue",5);case 3:if(u=!0===a.newestfirst,!((p=s.AJAR_date)>c.AJAR_date&&u||p<c.AJAR_date&&!u)){e.next=4;break}return n.insertBefore(s,c),l=!0,e.abrupt("continue",5);case 4:c=c.nextSibling,e.next=2;break;case 5:l||n.appendChild(s);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lc(e,t,n,r){return jc.apply(this,arguments)}function jc(){return jc=b(w().mark(function e(t,n,r,i){var a,o,s,l,c,u,p,d,f,h,v,y,k,_,E,C,S,A,T,R,P,F,I,N,O,L,j,M,D,U,B;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(){return(A=b(w().mark(function e(){var t,n,r,a,o,s,l,c,u,d;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){i.selectedElement?i.selectedElement.scrollIntoView({block:"center"}):O.inputRow.scrollIntoView&&O.inputRow.scrollIntoView(T)},t=function(){u&&u.selectedElement&&u.selectedElement.scrollIntoView({block:"center"})},i.selectedMessage&&(a=i.selectedMessage.doc()),L&&(o=L.doc()),(s=a||o)&&(l=new Date,c=P.leafDocumentFromDate(l),r=c.sameTerm(s)),!s||r){e.next=2;break}return d=P.dateFromLeafDocument(s),e.next=1,p(d,r);case 1:u=e.sent,F.appendChild(u),j.messageTable=u,M.messageTable=u,t(),setTimeout(t,1e3),e.next=4;break;case 2:return e.next=3,k();case 3:j.messageTable=O,M.messageTable=O;case 4:return e.next=5,E(null,n);case 5:F.addEventListener("scroll",E),i.solo&&document.body.addEventListener("scroll",E);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)},S=function(){return A.apply(this,arguments)},C=function(){return(C=b(w().mark(function e(t,n){var r,a,o,s,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=1;break}return e.abrupt("return");case 1:B=!0,r=!n,a=150;case 2:if(!(F.scrollTop<a&&j.messageTable&&!j.messageTable.initial&&j.messageTable.extendBackwards)){e.next=6;break}if(0!==F.scrollHeight){e.next=3;break}return setTimeout(E,2e3),B=!1,e.abrupt("return");case 3:return s=F.scrollHeight-F.scrollTop,e.next=4,j.messageTable.extendBackwards();case 4:if(o=e.sent,r&&(F.scrollTop=F.scrollHeight-s),n&&n(),!o){e.next=5;break}return e.abrupt("continue",6);case 5:e.next=2;break;case 6:if(!(i.selectedMessage&&F.scrollHeight-F.scrollTop-F.clientHeight<a&&M.messageTable&&!M.messageTable.final&&M.messageTable.extendForwards)){e.next=9;break}return l=F.scrollTop,e.next=7,M.messageTable.extendForwards();case 7:if(o=e.sent,r&&(F.scrollTop=l),n&&n(),!o){e.next=8;break}return e.abrupt("continue",9);case 8:e.next=6;break;case 9:B=!1;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)},E=function(e,t){return C.apply(this,arguments)},_=function(){return(_=b(w().mark(function e(){var t,n,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=P.leafDocumentFromDate(t),e.next=1,p(t,!0);case 1:return i=e.sent,F.appendChild(i),F.refresh=b(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,v(new Date);case 1:return e.next=2,a(r,i);case 2:Ic(r);case 3:case"end":return e.stop()}},e)})),x.store.updater.addDownstreamChangeListener(n,F.refresh),O=i,M.messageTable=O,e.abrupt("return",i);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},k=function(){return _.apply(this,arguments)},y=function(){return(y=b(w().mark(function e(){var t,n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=P.leafDocumentFromDate(new Date)).sameTerm(M.messageTable.chatDocument)){e.next=2;break}return O.inputRow&&(O.removeChild(O.inputRow),delete O.inputRow),n=M.messageTable.chatDocument,e.next=1,k();case 1:if(!x.store.holds(n,g.rdfs("seeAlso"),t,n)){r=[m.st(n,g.rdfs("seeAlso"),t,n)];try{x.store.updater.update([],r)}catch(e){alert("Unable to link old chat file to new one:"+e)}}case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},v=function(){return y.apply(this,arguments)},h=function(){return h=b(w().mark(function e(n,r){var a,o,l,u,p,d,f,h,m,v,y,k,_,E,C,S,A,I,L;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h=function(){if(o){var e=m.extendedForwards?!T:T,t=m.final?"noun_T-Block_1114657_000000.svg":function(e){return e?"noun_1369237.svg":"noun_1369241.svg"}(e);o.firstChild.setAttribute("src",Fe.Pt.iconBase+t)}},f=function(){return(f=b(w().mark(function e(){var t;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,c(!1);case 1:return t=e.sent,e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},d=function(){return f.apply(this,arguments)},p=function(){if(a){var e=m.extendedBack?!T:T,t=m.initial?"noun_T-Block_1114655_000000.svg":function(e){return e?"noun_1369241.svg":"noun_1369237.svg"}(e);a.firstChild.setAttribute("src",Fe.Pt.iconBase+t)}},u=function(){return(u=b(w().mark(function e(){var t;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,c(!0);case 1:return(t=e.sent)?(a&&(a.firstChild.setAttribute("src",Fe.Pt.iconBase+"noun_T-Block_1114655_000000.svg"),a.disabled=!0),m.initial=!0):m.extendedBack=!0,p(),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},l=function(){return u.apply(this,arguments)},a=null,o=null,(m=t.createElement("table")).style.width="100%",m.extendBackwards=l,m.extendForwards=d,m.date=n,v=P.leafDocumentFromDate(n),m.chatDocument=v,m.fresh=!1,m.setAttribute("style","width: 100%;"),r&&(m.final=!0,O=m,M.messageTable=m,y=Rc(R,m,N,i),T?m.insertBefore(y,m.firstChild):m.appendChild(y),m.inputRow=y),k=t.createElement("tr"),(_=k.appendChild(t.createElement("td"))).style="text-align: center; vertical-align: middle; color: #888; font-style: italic;",_.textContent=wt(n.toISOString(),!0),E=k.appendChild(t.createElement("td")),i.includeRemoveButton&&E.appendChild(Lt(t,function(e){F.parentNode.removeChild(F)})),m.extendedForwards=!1,T?m.appendChild(k):m.insertBefore(k,m.firstChild),C=x.store.statementsMatching(null,g.wf("message"),null,v),!r&&C.length,S=Pc(C),e.prev=1,S.s();case 2:if((A=S.n()).done){e.next=4;break}return I=A.value,e.next=3,s(I.object,m);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,L=e.catch(1),S.e(L);case 6:return e.prev=6,S.f(),e.finish(6);case 7:return m.fresh=!0,e.abrupt("return",m);case 8:case"end":return e.stop()}},e,null,[[1,5,6,7]])})),h.apply(this,arguments)},f=function(e,t){return h.apply(this,arguments)},d=function(){return(d=b(w().mark(function e(n,r){var i,a,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=P.leafDocumentFromDate(n),e.prev=1,e.next=2,x.store.fetcher.createIfNotExists(i);case 2:e.next=7;break;case 3:if(e.prev=3,s=e.catch(1),a=t.createElement("table"),o=a.appendChild(t.createElement("tr")),!s.response||!s.response.status||404!==s.response.status){e.next=5;break}return e.next=4,f(n,r);case 4:return e.abrupt("return",e.sent);case 5:X.Rm("*** Error NON 404 for chat file "+i),o.appendChild(lt(t,s,"pink"));case 6:return e.abrupt("return",o);case 7:return e.next=8,f(n,r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,null,[[1,3]])}))).apply(this,arguments)},p=function(e,t){return d.apply(this,arguments)},u=function(){return(u=b(w().mark(function e(t){var n,r,i,a,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t?j:M).messageTable.date,!(t&&j.limit&&r<=j.limit)){e.next=2;break}if(O){e.next=1;break}return e.next=1,k();case 1:return e.abrupt("return",!0);case 2:return e.next=3,P.loadPrevious(r,t);case 3:if((r=e.sent)||t||O){e.next=4;break}return e.next=4,k();case 4:if(r){e.next=5;break}return e.abrupt("return",!0);case 5:return i=!1,t||(a=P.leafDocumentFromDate(new Date),o=P.leafDocumentFromDate(r),i=o.sameTerm(a)),e.next=6,p(r,i);case 6:return s=e.sent,n.messageTable=s,(t?T:!T)?F.appendChild(s):F.insertBefore(s,F.firstChild),e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},c=function(e){return u.apply(this,arguments)},l=function(){return l=b(w().mark(function e(t,n){var r,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ol(t)||i.showDeletedMessages){e.next=1;break}return e.abrupt("return");case 1:if(r=x.store.any(null,g.sioc("has_member"),t,t.doc()),(a=x.store.any(t,g.sioc("id"),null,t.doc()))&&!r&&(r=x.store.any(null,g.sioc("has_member"),a,t.doc())),!i.thread){e.next=5;break}if(!x.store.holds(t,g.sioc("has_reply"),i.thread)){e.next=2;break}e.next=4;break;case 2:if(!r||!r.sameTerm(i.thread)){e.next=3;break}e.next=4;break;case 3:return e.abrupt("return");case 4:e.next=6;break;case 5:if(!r){e.next=6;break}return e.abrupt("return");case 6:if(n.fresh){e.next=7;break}return e.next=7,Nc(R,n,t,n.fresh,i,N);case 7:case"end":return e.stop()}},e)})),l.apply(this,arguments)},s=function(e,t){return l.apply(this,arguments)},o=function(){return o=b(w().mark(function e(t,n){var r,i,a,o,l,c,u,p,d;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r={},i=n.firstChild;i;i=i.nextSibling)i.AJAR_subject&&(r[i.AJAR_subject.uri]=!0);o=x.store.each(t,g.wf("message"),null,n.chatDocument),l={},c=Pc(o),e.prev=1,c.s();case 2:if((u=c.n()).done){e.next=4;break}if(p=u.value,l[p.uri]=!0,r[p.uri]){e.next=3;break}return e.next=3,s(p,n);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,d=e.catch(1),c.e(d);case 6:return e.prev=6,c.f(),e.finish(6);case 7:for(i=n.firstChild;i;)a=i.nextSibling,i.AJAR_subject&&!l[i.AJAR_subject.uri]&&n.removeChild(i),i=a;for(i=n.firstChild;i;i=i.nextSibling)i.AJAR_subject&&qt(i);case 8:case"end":return e.stop()}},e,null,[[1,5,6,7]])})),o.apply(this,arguments)},a=function(e,t){return o.apply(this,arguments)},(i=i||{}).authorDateOnLeft=!1,T="1"===i.newestFirst||!0===i.newestFirst,R=new Al(r,i),P=R.dateFolder,F=t.createElement("div"),R.div=F,I=F.appendChild(t.createElement("div")),N={dom:t,statusArea:I,div:I},j={messageTable:null},M={messageTable:null},i.thread&&(D=i.thread,(L=x.store.any(null,g.sioc("has_reply"),D,D.doc()))&&(U=x.store.any(L,g.dct("created"),null,L.doc()))&&(j.limit=new Date(U.value))),B=!1,e.next=1,S();case 1:return e.abrupt("return",F);case 2:case"end":return e.stop()}},e)})),jc.apply(this,arguments)}var Mc=x.store,Dc=[];function Uc(e){return Dc[e]}function Bc(e,t){if("string"!=typeof t)throw X.Rm("Non-string value of preference "+e+": "+t),new Error("Non-string value of preference "+e+": "+t);this.value[e]=t}function zc(e,t){return new Promise(function(n,r){var i=Mc.any(e,g.ui("sharedPreferences"));if(i)t.sharedPreferences=i,n(t);else{Mc.updater.editable(e.doc())||(X.Rm(" Cant make shared preferences, may not change ".concat(e.doc)),n(t));var a=m.sym(e.doc().uri+"#SharedPreferences"),o=[m.st(e,g.ui("sharedPreferences"),a,e.doc())];X.Rm("Creating shared preferences "+a),Mc.updater.update([],o,function(e,i,o){i?(t.sharedPreferences=a,n(t)):r(new Error("Error creating shared prefs: "+o))})}})}function Hc(e,t){return new Promise(function(n,r){ci(t).then(function(t){if(t.preferencesFile){var i,a,o=Mc.each(null,g.solid("forClass"),e,t.preferencesFile),s=[];if(o.length){if(o.forEach(function(e){i=i||Mc.any(e,g.solid("personalDefaults"))}),i)return t.personalDefaults=i,void n(t);i=Kr(t.preferencesFile),a=o[0]}else a=Kr(t.preferencesFile),s=[m.st(a,g.rdf("type"),g.solid("TypeRegistration"),t.preferencesFile),m.st(a,g.solid("forClass"),e,t.preferencesFile)];i=Kr(t.preferencesFile),s.push(m.st(a,g.solid("personalDefaults"),i,t.preferencesFile)),Mc.updater.update([],s,function(a,o,s){o?(t.personalDefaults=i,n(t)):r(new Error("Setting preferences for "+e+": "+s))})}else X.Rm("Not doing private class preferences as no access to preferences file. "+t.preferencesFileError)},function(e){r(e)})})}function qc(e,t,n,r){var i=r.dom.createElement("div");return Ul(e,e.doc(),r.me).then(function(a){var o=r.dom;function s(e){i.appendChild(o.createElement("h5")).textContent=e}s("My view of this "+r.noun),Or(o,i,{},a,n,e.doc(),function(e,t){e||vt(r,t)}),s("Everyone's  view of this "+r.noun),zc(e,r).then(function(r){var a=r.sharedPreferences;Or(o,i,{},a,n,e.doc(),function(e,t){e||vt(r,t)}),s("My default view of any "+r.noun),Hc(t,r).then(function(e){Or(o,i,{},e.personalDefaults,n,e.preferencesFile,function(t,n){t||vt(e,n)})},function(e){vt(r,e)})})},function(e){i.appendChild(lt(r.dom,e))}),i}function $c(e){return e.datatype?e.datatype.equals(g.xsd("boolean"))?"1"===e.value:e.datatype.equals(g.xsd("dateTime"))||e.datatype.equals(g.xsd("date"))?new Date(e.value):e.datatype.equals(g.xsd("integer"))||e.datatype.equals(g.xsd("float"))||e.datatype.equals(g.xsd("decimal"))?Number(e.value):e.value:e}function Wc(e,t,n,r){return new Promise(function(i,a){zc(e,r).then(function(r){var o=r.sharedPreferences;if(r.me)Ul(e,e.doc(),r.me).then(function(e){Hc(t,r).then(function(t){var r=[],a=t.personalDefaults;n.forEach(function(t){var n=Mc.any(e,t)||Mc.any(o,t)||Mc.any(a,t);n&&(r[t.uri]=$c(n))}),i(r)},a)},a);else{var s=[];n.forEach(function(e){var t=Mc.any(o,e);t&&(s[e.uri]=$c(t))}),i(s)}})})}var Vc={icons:Fe.Pt,log:e,ns:g,utils:t,widgets:s};function Gc(e,t){var n,r,i,a,o=t.sourceDocument,s=t.tableClass,l=t.query,c=Vc.ns,u=x.store,p={},d={"http://www.w3.org/2002/07/owl#sameAs":!0,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":!0},f={"http://www.w3.org/2001/XMLSchema#decimal":!0,"http://www.w3.org/2001/XMLSchema#float":!0,"http://www.w3.org/2001/XMLSchema#double":!0,"http://www.w3.org/2001/XMLSchema#integer":!0,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":!0,"http://www.w3.org/2001/XMLSchema#positiveInteger":!0,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":!0,"http://www.w3.org/2001/XMLSchema#negativeInteger":!0,"http://www.w3.org/2001/XMLSchema#long":!0,"http://www.w3.org/2001/XMLSchema#int":!0,"http://www.w3.org/2001/XMLSchema#short":!0,"http://www.w3.org/2001/XMLSchema#byte":!0,"http://www.w3.org/2001/XMLSchema#unsignedLong":!0,"http://www.w3.org/2001/XMLSchema#unsignedInt":!0,"http://www.w3.org/2001/XMLSchema#unsignedShort":!0,"http://www.w3.org/2001/XMLSchema#unsignedByte":!0},h={"http://www.w3.org/2001/XMLSchema#dateTime":!0,"http://www.w3.org/2001/XMLSchema#date":!0},g={"http://xmlns.com/foaf/0.1/Image":!0,"http://purl.org/dc/terms/Image":!0},v=t.keyVariable||"?_row",b=0,y=null,w=null,k=e.createElement("div");k.className="tableViewPane",k.appendChild(function(){var t=e.createElement("table");t.setAttribute("class","toolbar");var n=e.createElement("tr");return i=e.createElement("td"),n.appendChild(i),a=e.createElement("td"),n.appendChild(a),t.appendChild(n),t}());var _,E=e.createElement("div");if(k.appendChild(E),k.refresh=function(){Z(_.query,_.logicalRows,_.columns,_)},l)_=ne(l),E.appendChild(_);else{var C=function(){var e,t,n=function(){for(var e={},t=u.statementsMatching(void 0,Vc.ns.rdf("type"),s,o),n={},r=0;r<t.length;++r){var i=t[r].object;if("NamedNode"===i.termType){var a=O(e,i);i.uri in n||(n[i.uri]=[]),n[i.uri].push(t[r].subject),a.addUse()}}return[n,e]}();for(var r in e=n[0],t=n[1],e){var i=e[r];j(t[r],i)}var a=new R(null);return[a,F(t)]}();n=C[0],r=C[1],s||i.appendChild(function(t,n){var r=e.createElement("div");r.appendChild(e.createTextNode("Select type: "));var i=e.createElement("select");for(var a in i.appendChild(I("All types","null")),n)i.appendChild(I(n[a].getLabel(),a));return i.addEventListener("click",function(){A("null"===i.value?t:n[i.value])},!1),r.appendChild(i),r}(n,r)),w=function(e){var t,n=-1,r=null;for(t in e){var i=e[t];i.useCount>n&&(r=i,n=i.useCount)}return r}(r),A(w||n)}return k;function S(e){var t=new m.Query,n=u.variable(v.slice(1));return function(e,t){for(var n=t.getColumns(),r=0;r<n.length;++r){var i=u.variable("_col"+r);e.vars.push(i),n[r].setVariable(i)}}(t,e),function(e,t,n){var r=n.type;r||(r=u.variable("_any")),e.pat.add(t,Vc.ns.rdf("type"),r)}(t,n,e),function(e,t,n){for(var r=n.getColumns(),i=0;i<r.length;++i){var a=r[i],o=u.formula();o.add(t,a.predicate,a.getVariable()),e.pat.optional.push(o)}}(t,n,e),t}function A(t){T(a),a.appendChild(function(t){var n=e.createElement("div"),r=t.getUnusedColumns();if(r.sort(function(e,t){var n=e.sortKey(),r=t.sortKey();return(n>r)-(n<r)}),r.length>0){n.appendChild(e.createTextNode("Add column: "));var i=e.createElement("select");i.appendChild(I("","-1"));for(var a=0;a<r.length;++a){var o=r[a];i.appendChild(I(o.getLabel(),""+a))}n.appendChild(i),i.addEventListener("click",function(){var e=Number(i.value);e>=0&&(t.addColumn(r[e]),A(t))},!1)}return n}(t)),function(e,t){y&&(y.running=!1);var n=ne(e,t);T(E),E.appendChild(n),y=e}(S(t),t)}function T(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}function R(e){this.type=e,this.columns=null,this.allColumns=[],this.useCount=0,this.getAllColumns=function(){return this.allColumns},this.getColumns=function(){if(!this.columns){var e=this.getAllColumns();this.columns=e.slice(0,7)}return this.columns},this.getUnusedColumns=function(){for(var e=this.getAllColumns(),t=this.getColumns(),n=[],r=0;r<e.length;++r)-1===t.indexOf(e[r])&&n.push(e[r]);return n},this.addColumn=function(e){this.columns.push(e)},this.removeColumn=function(e){this.columns=this.columns.filter(function(t){return t!==e})},this.getLabel=function(){return Q(this.type)},this.addUse=function(){this.useCount+=1}}function P(){this.useCount=0,this.checkedAnyValues=!1,this.possiblyLiteral=!0,this.possiblyNumber=!0,this.constraints=[],this.checkValue=function(e){var t=e.termType;this.possiblyLiteral&&"Literal"!==t&&"NamedNode"!==t?(this.possiblyNumber=!1,this.possiblyLiteral=!1):this.possiblyNumber&&("Literal"!==t?this.possiblyNumber=!1:e.value.match(/^-?\d+(\.\d*)?$/)||(this.possiblyNumber=!1)),this.checkedAnyValues=!0},this.getVariable=function(){return this.variable},this.setVariable=function(e){this.variable=e},this.getKey=function(){return this.variable.toString()},this.addUse=function(){this.useCount+=1},this.getHints=function(){return t&&t.hints&&this.variable&&t.hints[this.variable.toNT()]?t.hints[this.variable.toNT()]:{}},this.getLabel=function(){return this.getHints().label?this.getHints().label:this.predicate?this.predicate.sameTerm(c.rdf("type"))&&this.superClass?Q(this.superClass,!0):Q(this.predicate):this.variable?this.variable.toString():"unlabeled column?"},this.setPredicate=function(e,t,n){t?(this.inverse=e,this.constraints=this.constraints.concat(u.each(e,Vc.ns.rdfs("domain"))),e.sameTerm(c.rdfs("subClassOf"))&&"NamedNode"===n.termType&&(this.superClass=n,this.alternatives=u.each(void 0,c.rdfs("subClassOf"),n))):(this.predicate=e,this.constraints=this.constraints.concat(u.each(e,Vc.ns.rdfs("range"))))},this.getConstraints=function(){return this.constraints},this.filterFunction=function(){return!0},this.sortKey=function(){return this.getLabel().toLowerCase()},this.isImageColumn=function(){for(var e=0;e<this.constraints.length;e++)if(this.constraints[e].uri in g)return!0;return!1}}function F(e,t){var n=[];for(var r in e){var i=e[r];t&&!t(r,i)||n.push(i)}return n}function I(t,n){var r=e.createElement("option");return r.setAttribute("value",n),r.appendChild(e.createTextNode(t)),r}function N(e,t){var n;return t.uri in e?n=e[t.uri]:((n=new P).setPredicate(t),e[t.uri]=n),n}function O(e,t){var n;return t.uri in e?n=e[t.uri]:(n=new R(t),e[t.uri]=n),n}function L(e,t){for(var n=u.statementsMatching(e,void 0,void 0,o),r={},i=0;i<n.length;++i){var a=n[i].predicate;if(!(a.uri in d)){var s=N(t,a);s.checkValue(n[i].object),r[a.uri]=s}}return r}function j(e,t){for(var n={},r=0;r<t.length;++r){var i=L(t[r],n);for(var a in i)i[a].addUse()}var o=F(n);!function(e){function t(e,t){return(e.useCount<t.useCount)-(e.useCount>t.useCount)}e.sort(t)}(o),e.allColumns=o}function M(t,n){var r=e.createElement("a");return r.appendChild(e.createTextNode("[x]")),r.addEventListener("click",function(){t.removeColumn(n),A(t)},!1),r}function D(e,t){for(var n=!0,r=0;r<t.length;++r){var i=t[r],a=i.getKey(),o=null;if(a in e.values&&(o=e.values[a][0]),!i.filterFunction(o)){n=!1;break}}var s=e._htmlRow;s.style.display=n?"":"none"}function U(e,t){for(var n=0;n<e.length;++n)D(e[n],t)}function B(e,t,n){function r(e){return e?"Literal"===e.termType?e.value.toLowerCase():"NamedNode"===e.termType?Q(e).toLowerCase():e.value.toLowerCase():""}!function(e,t,n,r){var i=t.getKey();if(e.sort(function(e,t){var a=null,o=null;i in e.values&&(a=e.values[i][0]),i in t.values&&(o=t.values[i][0]);var s=n(a,o);return r?-s:s}),e.length){for(var a=e[0]._htmlRow.parentNode,o=0;o<e.length;++o)a.removeChild(e[o]._htmlRow);for(var s=0;s<e.length;++s)a.appendChild(e[s]._htmlRow)}}(e,t,function(e,t){var n=r(e),i=r(t);return n<i?-1:n>i?1:0},n)}function z(t,n,r){var i=e.createElement("div"),a=e.createElement("input");a.setAttribute("type","text"),a.style.width="70%",i.appendChild(a);var o=e.createElement("span");o.appendChild(e.createTextNode("▼")),o.addEventListener("click",function(){B(t,r,!1)},!1),i.appendChild(o);var s=e.createElement("span");s.appendChild(e.createTextNode("▲")),s.addEventListener("click",function(){B(t,r,!0)},!1),i.appendChild(s);var l=null;return r.filterFunction=function(e){return!l||!!e&&("Literal"===e.termType?e.value:"NamedNode"===e.termType?Q(e):"").toLowerCase().indexOf(l)>=0},a.addEventListener("keyup",function(){l=""!==a.value?a.value.toLowerCase():null,U(t,n)},!1),i}function H(t,n,r,i){for(var a=e.createElement("div"),o=e.createElement("select"),s={},l=0;l<i.length;++l){var c=i[l];s[c.uri]=!0}var u=V(r).initialSelection;u&&(s=u),o.setAttribute("multiple","true");for(var p=0;p<i.length;++p){var d=i[p],f=I(Q(d),p);s[d.uri]&&(f.selected=!0),o.appendChild(f)}return a.appendChild(o),r.filterFunction=function(e){return!s||e&&s[e.uri]},o.addEventListener("click",function(){s={};for(var e=o.options,r=0;r<e.length;r++){var a=e[r],l=Number(a.value);e[r].selected&&(s[i[l].uri]=!0)}U(t,n)},!0),a}function q(t,n,r){var i=e.createElement("div"),a=e.createElement("input");a.setAttribute("type","text"),a.style.width="40px",i.appendChild(a);var o=e.createElement("input");o.setAttribute("type","text"),o.style.width="40px",i.appendChild(o);var s=null,l=null;function c(){s=""===a.value?null:Number(a.value),l=""===o.value?null:Number(o.value),U(t,n)}return r.filterFunction=function(e){return e&&(e=Number(e)),!(s&&(!e||e<s)||l&&(!e||e>l))},a.addEventListener("keyup",c,!1),o.addEventListener("keyup",c,!1),i}function $(e,t,n){if(n.superClass&&n.alternatives.length>0)return H(e,t,n,n.alternatives);for(var r,i=n.getConstraints(),a=0;a<i.length;a++){if(r=i[a],n.checkedAnyValues&&n.possiblyNumber||r.uri in f)return q(e,t,n);if("http://www.w3.org/2000/01/rdf-schema#Literal"===r.uri)return z(e,t,n);var o=u.each(r,Vc.ns.owl("oneOf"));if(o.length>0)return H(e,t,n,o.elements)}return function(e,t,n){return n.checkedAnyValues&&n.possiblyNumber?q(e,t,n):n.possiblyLiteral?z(e,t,n):null}(e,t,n)}function W(t,n,r){r=r||{};var i=e.createElement("a"),a=r.linkFunction;return i.setAttribute("href",t),i.appendChild(e.createTextNode(n)),a?i.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=qe(e).getAttribute("href");t||X.Rm("No href found \n"),a(t)},!0):i.addEventListener("click",Vc.widgets.openHrefInOutlineMode,!0),i}function V(e){return t&&t.hints&&e.variable&&t.hints[e.variable.toNT()]?t.hints[e.variable.toNT()]:{}}function G(t,n){var r=V(n),i=r.cellFormat;if(!i){if("Literal"===t.termType){if(t.datatype){if(h[t.datatype.uri])return e.createTextNode(Vc.widgets.shortDate(t.value));if(f[t.datatype.uri]){var a=e.createElement("span");return a.textContent=t.value,a.setAttribute("style","text-align: right"),a}}return e.createTextNode(t.value)}if("NamedNode"===t.termType&&n.isImageColumn())return function(t){var n=e.createElement("img");return n.setAttribute("src",t.uri),n.style.height="40px",n}(t);if("NamedNode"===t.termType||"BlankNode"===t.termType)return function(e,t){var n=!1;return e.uri&&(n=e.uri.match(/^mailto:(.*)/)),W(e.uri,n?n[1]:Q(e),t)}(t,r);if("Collection"===t.termType){var o=e.createElement("span");return o.appendChild(e.createTextNode("[")),t.elements.forEach(function(t){o.appendChild(G(t,n)),o.appendChild(e.createTextNode(", "))}),o.removeChild(o.lastChild),o.appendChild(e.createTextNode("]")),o}return e.createTextNode("unknown termtype '"+t.termType+"'!")}if("shortDate"===i)return e.createTextNode(Vc.widgets.shortDate(t.value))}function K(e,t){var n,r=null;if("Literal"===e.termType)r="value";else{if("NamedNode"!==e.termType)return t.indexOf(e)>=0;r="uri"}for(n=0;n<t.length;++n)if(t[n].termType===e.termType&&t[n][r]===e[r])return!0;return!1}function J(t,n,r){var i,a=!1;for(i in r){var o=r[i];i in t.values||(t.values[i]=[]),K(o,t.values[i])||(t.values[i].push(o),a=!0)}a&&(T(t._htmlRow),function(t,n,r){var i=e.createElement("td");n._subject&&"uri"in n._subject&&i.appendChild(W(n._subject.uri,"→")),t.appendChild(i);for(var a=0;a<r.length;++a){var o=r[a],s=e.createElement("td"),l=void 0,c=o.getKey();if(c in n.values){var u=n.values[c],p=!1;n.originalValues&&n.originalValues[c]&&u.length!==n.originalValues[c].length&&(p=!0);for(var d=0;d<u.length;++d){var f=u[d];n.originalValues&&n.originalValues[c]&&n.originalValues[c].length>d&&(l=n.originalValues[c][d],f.toString()!==l.toString()&&(p=!0)),s.appendChild(G(f,o)),d!==u.length-1&&s.appendChild(e.createTextNode(",\n")),p&&(s.style.background="#efe")}}t.appendChild(s)}n._htmlRow=t}(t._htmlRow,t,n)),D(t,n)}function Y(e){if("uri"in e)return e.uri;if("_subject_id"in e)return e._subject_id;var t=""+b;return e._subject_id=t,++b,t}function Z(n,r,i,a){n.running=!0;var o=Date.now(),s=e.createElement("tr");a.appendChild(s),s.textContent="Loading ...";for(var l=0;l<r.length;l++)r[l].original=!0,r[l].originalValues||(r[l].originalValues=r[l].values),r[l].values={};u.query(n,function(t){if(n.running){s.textContent+=".";var o,l=null,c=null;if(v in t&&(o=Y(c=t[v]))in p&&(l=p[o]),!l){var u=e.createElement("tr");a.appendChild(u),l={_htmlRow:u,_subject:c,values:{}},r.push(l),c&&(p[o]=l)}delete l.original,J(l,i,t)}},void 0,function(){s&&s.parentNode&&s.parentNode.removeChild&&(s.parentNode.removeChild(s),s=null);var e=Date.now()-o;X.Rm("Query done: "+r.length+" rows, "+e+"ms");for(var n=r.length-1;n>=0;n--)if(r[n].original){X.Rm("   deleting row "+r[n]._subject);var a=r[n]._htmlRow;a.parentNode.removeChild(a),delete p[Y(r[n]._subject)],r.splice(n,1)}if(t.sortBy){var l=function(e,t){for(var n in e){var r=e[n];if(r.variable.toNT()===t)return r}throw new Error("getColumnForVariable: no column for variable ".concat(t))}(i,t.sortBy);B(r,l,t.sortReverse)}t.onDone&&t.onDone(k)})}function ee(e,t){Vc.log.debug(">> processing formula");for(var n=0;n<t.statements.length;++n){var r=t.statements[n];if("NamedNode"===r.predicate.termType&&"Variable"===r.object.termType){var i=r.object.toString();i in e&&e[i].setPredicate(r.predicate,!1,r.subject)}if("NamedNode"===r.predicate.termType&&"Variable"===r.subject.termType){var a=r.subject.toString();a in e&&e[a].setPredicate(r.predicate,!0,r.object)}}for(var o=0;o<t.optional.length;++o)Vc.log.debug("recurse to optional subformula "+o),ee(e,t.optional[o]);Vc.log.debug("<< finished processing formula")}function te(e){for(var t=[],n={},r=0;r<e.vars.length;++r){var i=new P,a=e.vars[r];Vc.log.debug("column "+r+" : "+a),i.setVariable(a),n[a]=i,t.push(i)}return ee(n,e.pat),t}function ne(t,n){var r;r=l?te(t):n.getColumns();var i=[],a=e.createElement("table");return a.appendChild(function(t,n){var r=e.createElement("tr"),i=e.createElement("th");r.appendChild(i);for(var a=0;a<t.length;++a){var o=e.createElement("th"),s=t[a];o.appendChild(e.createTextNode(s.getLabel())),n&&o.appendChild(M(n,s)),r.appendChild(o)}return r}(r,n)),a.appendChild(function(t,n){var r=e.createElement("tr");r.className="selectors",r.appendChild(e.createElement("td"));for(var i=0;i<n.length;++i){var a=e.createElement("td"),o=$(t,n,n[i]);o&&a.appendChild(o),r.appendChild(a)}return r}(i,r)),a.logicalRows=i,a.columns=r,a.query=t,Z(t,i,r,a),a}}function Kc(e,t){if(t&&("object"==ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jc(e){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jc(e)}function Qc(e,t){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qc(e,t)}function Yc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yc=function(){return!!e})()}function Xc(e){var t="function"==typeof Map?new Map:void 0;return Xc=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Yc())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Qc(i,n.prototype),i}(e,arguments,Jc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qc(n,e)},Xc(e)}function Zc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zc=function(){return!!e})()}var eu=function(e){function t(){return ge(this,t),e=this,r=arguments,n=Jc(n=t),Kc(e,Zc()?Reflect.construct(n,r||[],Jc(e).constructor):n.apply(e,r));var e,n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qc(e,t)}(t,e),we(t)}(Xc(HTMLElement)),tu="#ddddcc";function nu(e){var t=e.subject,n=e.dom||document,r=parseInt(e.orientation||"0"),i=e.backgroundColor||tu,a=2&r,o=1&r,s=e.onClose,l=function(e){return function(e){for(var t=0,n=0;n<3;n++)t+=parseInt(e.slice(2*n+1,2*n+3),16);return t>384}(e)?[ru(e,"#ffffff",.3),"#000000"]:[ru(e,"#000000",.3),"#ffffff"]}(i),c=_e(l,2),u=c[0],p=c[1],d="flex: 2; width: auto; height: 100%; border: 0.1em; border-style: solid; border-color: ".concat(u,"; padding: 1em;"),f=n.createElement("div");f.setAttribute("style",Se.tabsRootElement),f.style.flexDirection=(o?"row":"column")+(a?"-reverse":"");var h=f.appendChild(n.createElement("nav"));h.setAttribute("style",Se.tabsNavElement);var m=f.appendChild(n.createElement("main"));m.setAttribute("style",Se.tabsMainElement);var g=h.appendChild(n.createElement("ul"));g.setAttribute("style",Se.tabContainer),g.style.flexDirection="".concat(o?"column":"row");var v=m;f.tabContainer=g,f.bodyContainer=v;var b=["0.2em","0.2em","0","0"],y=b.concat(b).slice(r,r+4),w="border-radius: ".concat(y.join(" "),";"),k=["0.3em","0.3em","0","0.3em"],_=k.concat(k).slice(r,r+4),E="margin: ".concat(_.join(" "),";"),C="padding: ".concat(_.join(" "),";"),S=w+"position: relative; padding: 0.7em; max-width: 20em; color: ".concat(p,";"),A="".concat(S+E," opacity: 50%; background-color: ").concat(i,";"),T="".concat(S+E," background-color: ").concat(u,";"),R="height: 100%; width: 100%;",P=R+"display: none;";if(f.refresh=j,j(),!e.startEmpty&&g.children.length&&e.selectedTab){var F=Array.from(g.children).map(function(e){return e.firstChild}).find(function(t){return t.dataset.name===e.selectedTab}),I=e.selectedTab.uri,N=Array.from(g.children).find(function(e){return e.subject&&e.subject.uri&&e.subject.uri===I}),O=(N||F||g.children[0]).firstChild;O&&O.click()}else e.startEmpty||g.children[0].firstChild.click();return f;function L(t){var r=n.createElement("li");r.setAttribute("style",A),r.subject=t;var i=r.appendChild(n.createElement("button"));if(i.setAttribute("style",Se.makeNewSlot),i.onclick=function(){if(M(),D(),r.setAttribute("style",T),r.bodyTR){r.bodyTR.setAttribute("style",R);var n=o(r);e.renderMain&&r.subject&&!1!==n.asSettings&&(n.innerHTML="loading item ..."+t,e.renderMain(n,r.subject),n.asSettings=!1)}},e.renderTabSettings&&r.subject){var a=n.createElement("button");a.textContent="...",a.setAttribute("style",Se.ellipsis),a.onclick=function(){if(M(),D(),r.setAttribute("style",T),r.bodyTR){r.bodyTR.setAttribute("style",R);var n=o(r);e.renderTabSettings&&r.subject&&!0!==n.asSettings&&(n.innerHTML="loading settings ..."+t,e.renderTabSettings(n,r.subject),n.asSettings=!0)}},r.appendChild(a)}return e.renderTab?e.renderTab(i,t):i.innerHTML=Q(t),r;function o(e){var t,r=null===(t=e.bodyTR)||void 0===t?void 0:t.children[0];if(r)return r;var i=e.bodyTR.appendChild(n.createElement("main"));return i.setAttribute("style",d),i}}function j(){var r,i,a,o,l,c=e.items?e.items:!1!==e.ordered?x.store.the(t,e.predicate).elements:x.store.each(t,e.predicate),u=!1;for(o=0;o<g.children.length;o++)if(r=g.children[o],o>=c.length||r.subject&&!r.subject.sameTerm(c[o])){u=!0;break}if(u||c.length!==g.children.length){for(l=g.children.length-1;l>=0&&(r=g.children[l],a=l-g.children.length+c.length,!r.subject||r.subject.sameTerm(c[a]));l--);for(var p=c.slice(o,l-g.children.length+c.length+1);l>=o;)g.removeChild(g.children[o]),v.removeChild(v.children[o]),l-=1;for(i=0;i<p.length;i++){var d=L(p[i]),f=n.createElement("div");d.bodyTR=f,o===g.children.length?(g.appendChild(d),v.appendChild(f)):(g.insertBefore(d,g.children[o+i]),v.insertBefore(f,v.children[o+i]))}s&&function(e){if(e.dataset.onCloseSet){var t=e.querySelector(".unstyled");e.removeChild(t)}var r=n.createElement("li");r.classList.add("unstyled");var i=Lt(n,s);i.setAttribute("style",i.getAttribute("style")+C),r.appendChild(i),e.appendChild(r),e.dataset.onCloseSet="true"}(g)}}function M(){for(var e=0;e<g.children.length;e++){var t=g.children[e];t.classList.contains("unstyled")||t.setAttribute("style",A)}}function D(){for(var e=0;e<v.children.length;e++)v.children[e].setAttribute("style",P)}}function ru(e,t,n){for(var r,i,a="#",o="0123456789abcdef",s=0;s<3;s++){r=parseInt(e.slice(2*s+1,2*s+3),16),i=parseInt(t.slice(2*s+1,2*s+3),16);var l=parseInt((""+(r*(1-n)+i*n)).split(".")[0]),c=parseInt((""+l/16).split(".")[0]),u=parseInt((""+l%16).split(".")[0]);a+=o[c]+o[u]}return a}var iu='\n<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="#D8D8D8" stroke="#8B8B8B"/>\n    <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="white" stroke="white"/>\n    </mask>\n    <g mask="url(#mask0)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0468 10.4586C17.0468 14.4979 15.4281 16.9214 12.9999 16.9214C10.5718 16.9214 8.95298 14.4979 8.95298 10.4586C8.95298 6.41931 12.9999 6.41931 12.9999 6.41931C12.9999 6.41931 17.0468 6.41931 17.0468 10.4586ZM4.09668 23.3842C6.52483 17.7293 12.9999 17.7293 12.9999 17.7293C12.9999 17.7293 19.475 17.7293 21.9031 23.3842C21.9031 23.3842 17.8481 25 12.9999 25C8.15169 25 4.09668 23.3842 4.09668 23.3842Z" fill="#8B8B8B"/>\n    </g>\n</svg>';function au(){return(0,m.sym)(document.location.origin).site()}function ou(e,t){return su.apply(this,arguments)}function su(){return(su=b(w().mark(function e(t,n){var r,i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.any(t,null,g.ldp("Container"),t)){e.next=2;break}return e.next=1,n.fetcher.webOperation("GET",t.uri,n.fetcher.initFetchOptions(t.uri,{headers:{accept:"text/turtle"}}));case 1:r=e.sent,i=r.responseText,(0,m.parse)(i,n,t.uri,"text/turtle");case 2:e.next=4;break;case 3:return e.prev=3,e.catch(0),e.abrupt("return",null);case 4:if(n.holds(t,g.rdf("type"),g.space("Storage"),t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(a=n.any(t,g.solid("owner"),null,t)||n.any(null,g.space("storage"),t,t))){e.next=10;break}return e.prev=6,e.next=7,n.fetcher.load(a.doc());case 7:e.next=9;break;case 8:return e.prev=8,e.catch(6),e.abrupt("return",null);case 9:return n.holds(a,g.space("storage"),t,a.doc()),e.abrupt("return",a);case 10:return o=(0,m.sym)("".concat(t.uri,"profile/card#me")),e.prev=11,e.next=12,n.fetcher.load(o);case 12:e.next=14;break;case 13:return e.prev=13,e.catch(11),e.abrupt("return",null);case 14:if(!n.holds(o,g.space("storage"),t,o.doc())){e.next=15;break}return e.abrupt("return",o);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,null,[[0,3],[6,8],[11,13]])}))).apply(this,arguments)}function lu(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,s=0,l=function(){s=a.leading?Date.now():0,o=null,i=e.apply(n,r),o||(n=r=null)};return function(){var c=Date.now();s||a.leading||(s=c);var u=t-(c-s);return n=this,r=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,i=e.apply(n,r),o||(n=r=null)):o||!1===a.trailing||(o=setTimeout(l,u)),i}}var cu=Fe.Pt.iconBase+"noun_help.svg";function uu(e,t,n){return pu.apply(this,arguments)}function pu(){return(pu=b(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.getElementById("PageHeader")){e.next=1;break}return e.abrupt("return");case 1:a=au(),du(i,t,a,n,r)(),x.authSession.events.on("logout",du(i,t,a,n,r)),x.authSession.events.on("login",du(i,t,a,n,r));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function du(e,t,n,r,i){return b(w().mark(function a(){var o,s;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=x.authn.currentUser(),e.innerHTML="",s=e,a.next=1,fu(t,n,o,r,i);case 1:s.appendChild.call(s,a.sent);case 2:case"end":return a.stop()}},a)}))}function fu(e,t,n,r,i){return hu.apply(this,arguments)}function hu(){return(hu=b(w().mark(function e(t,n,r,i,a){var o,s,l,c,u,p,d;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=document.createElement("a")).href=n.uri,o.setAttribute("style",Se.headerBannerLink),s=document.createElement("img"),a&&(s.src=a.logo?a.logo:"https://solidproject.org/assets/img/solid-emblem.svg"),s.setAttribute("style",Se.headerBannerIcon),o.appendChild(s),!r){e.next=2;break}return e.next=1,yu(t,r,i);case 1:d=e.sent,e.next=3;break;case 2:d=gu();case 3:return l=d,(c=document.createElement("div")).setAttribute("style",Se.headerBanner),c.appendChild(o),(u=document.createElement("div")).setAttribute("style",Se.headerBannerRightMenu),u.appendChild(l),a&&a.helpMenuList&&(p=mu(a,a.helpMenuList),u.appendChild(p)),c.appendChild(u),e.abrupt("return",c);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mu(e,t){if(t){var n=document.createElement("ul");n.setAttribute("style",Se.headerUserMenuList),t.forEach(function(e){"url"==(e.url?"url":"onclick")?n.appendChild(xu(bu(e.label,e.url,e.target))):n.appendChild(xu(vu(e.label,e.onclick)))});var r=document.createElement("nav");r.setAttribute("style",Se.headerUserMenuNavigationMenuNotDisplayed),r.setAttribute("aria-hidden","true"),r.setAttribute("id","helperNav"),r.appendChild(n);var i=document.createElement("div");i.setAttribute("style",Se.headerBannerUserMenu),i.appendChild(r);var a=document.createElement("button");a.setAttribute("style",Se.headerUserMenuTrigger),a.type="button";var o=document.createElement("img");o.src=e&&e.helpIcon?e.helpIcon:Fe.Pt.iconBase+cu,o.setAttribute("style",Se.headerUserMenuTriggerImg),i.appendChild(a),a.appendChild(o);var s=lu(function(e){return _u(e,a,r)},50);a.addEventListener("click",s);var l=setTimeout(function(){return null},0);return i.addEventListener("mouseover",function(e){clearTimeout(l),s(e);var t=document.getElementById("helperNav");null==t||t.setAttribute("style",Se.headerUserMenuNavigationMenu)}),i.addEventListener("mouseout",function(e){l=setTimeout(function(){return s(e)},200);var t=document.getElementById("helperNav");null==t||t.setAttribute("style",Se.headerUserMenuNavigationMenuNotDisplayed)}),i}}function gu(){var e=document.createElement("div");return e.setAttribute("style",Se.headerBannerLogin),e.appendChild(ki(document,null,{})),e}function vu(e,t){var n=document.createElement("button");return n.setAttribute("style",Se.headerUserMenuButton),n.onmouseover=function(){n.setAttribute("style",Se.headerUserMenuButtonHover)},n.onmouseout=function(){n.setAttribute("style",Se.headerUserMenuButton)},n.addEventListener("click",t),n.innerText=e,n}function bu(e,t,n){var r=document.createElement("a");return r.setAttribute("style",Se.headerUserMenuLink),r.onmouseover=function(){r.setAttribute("style",Se.headerUserMenuLinkHover)},r.onmouseout=function(){r.setAttribute("style",Se.headerUserMenuLink)},r.href=t,r.innerText=e,n&&(r.target=n),r}function yu(e,t,n){return wu.apply(this,arguments)}function wu(){return(wu=b(w().mark(function e(t,n,r){var i,a,o,s,l,c,u,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.fetcher)){e.next=1;break}return e.next=1,i.load(n);case 1:return(a=document.createElement("ul")).setAttribute("style",Se.headerUserMenuList),r&&r.forEach(function(e){"url"==(e.url?"url":"onclick")?a.appendChild(xu(bu(e.label,e.url,e.target))):a.appendChild(xu(vu(e.label,e.onclick)))}),(o=document.createElement("nav")).setAttribute("style",Se.headerUserMenuNavigationMenuNotDisplayed),o.setAttribute("aria-hidden","true"),o.setAttribute("id","loggedInNav"),o.appendChild(a),(s=document.createElement("button")).setAttribute("style",Se.headerUserMenuTrigger),s.type="button","string"==typeof(l=ku(0,n))?s.innerHTML=l:s.appendChild(l),(c=document.createElement("div")).setAttribute("style",Se.headerBannerUserMenuNotDisplayed),c.appendChild(s),c.appendChild(o),u=lu(function(e){return _u(e,s,o)},50),s.addEventListener("click",u),p=setTimeout(function(){return null},0),c.addEventListener("mouseover",function(e){clearTimeout(p),u(e);var t=document.getElementById("loggedInNav");null==t||t.setAttribute("style",Se.headerUserMenuNavigationMenu)}),c.addEventListener("mouseout",function(e){p=setTimeout(function(){return u(e)},200);var t=document.getElementById("loggedInNav");null==t||t.setAttribute("style",Se.headerUserMenuNavigationMenuNotDisplayed)}),e.abrupt("return",c);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xu(e){var t=document.createElement("li");return t.setAttribute("style",Se.headerUserMenuListItem),t.appendChild(e),t}function ku(e,t){var n=null;try{if(!(n=Rt(t)))return iu}catch(e){return iu}var r=document.createElement("div");return r.setAttribute("style",Se.headerUserMenuPhoto),r.style.backgroundImage="url(".concat(n,")"),r}function _u(e,t,n){var r="true"===t.getAttribute("aria-expanded"),i="mouseover"===e.type,a="mouseout"===e.type;r&&i||!r&&a||(t.setAttribute("aria-expanded",(!r).toString()),n.setAttribute("aria-hidden",r.toString()))}function Eu(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=b(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("PageFooter")){e.next=1;break}return e.abrupt("return");case 1:return i=au(),e.next=2,ou(i,t);case 2:a=e.sent,Su(r,t,i,a,n)(),x.authSession.events.on("login",Su(r,t,i,a,n)),x.authSession.events.on("logout",Su(r,t,i,a,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Su(e,t,n,r,i){return b(w().mark(function a(){var o,s;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=x.authn.currentUser(),e.innerHTML="",s=e,a.next=1,Au(t,o,n,r,i);case 1:s.appendChild.call(s,a.sent);case 2:case"end":return a.stop()}},a)}))}function Au(e,t,n,r,i){var a=document.createElement("div");if(!n||!r||t&&t.equals(r))return a;a.setAttribute("style",Se.footer);var o=document.createElement("span");o.innerText="You're visiting ";var s=document.createElement("a");s.href=n.uri,s.innerText="the Pod";var l=document.createElement("span");l.innerText=" controlled by ";var c=document.createElement("a");c.href=r.uri,c.innerText=function(e,t){return e.anyValue(t,g.vcard("fn"),null,t.doc())||e.anyValue(t,g.foaf("name"),null,t.doc())||t.uri}(e,r);var u=document.createElement("span");u.innerText=". For more info, check out ";var p=document.createElement("a");p.href=i&&i.solidProjectUrl?i.solidProjectUrl:"https://solidproject.org",p.innerText=i&&i.solidProjectName?i.solidProjectName:"solidproject.org";var d=document.createElement("span");return d.innerText=".",a.appendChild(o),a.appendChild(s),a.appendChild(l),a.appendChild(c),a.appendChild(u),a.appendChild(p),a.appendChild(d),a}var Tu=window?window.document:null;"undefined"!=typeof window&&(window.UI={ns:g,acl:Ki,aclControl:Ji,create:Yi,createTypes:d,dom:Tu,icons:Fe.Pt,language:n,log:e,login:o,matrix:Zi,media:ra,messageArea:_a,infiniteMessageArea:Lc,pad:c,participation:l,preferences:u,style:Se,table:Gc,tabs:p,utils:t,widgets:s,initHeader:uu,initFooter:Eu})})(),a})(),e.exports=r(n(8230),n(9332))},547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadTurtleText=m,t.renderIndividual=async function(e,t,n,c){function g(n){t.appendChild(r.widgets.errorMessageBlock(e,n,"pink"))}function v(){t.appendChild(e.createElement("div")).setAttribute("style","height: 1em")}const b=f.findTypeURIs(n),y=!(!b[d.vcard("Organization").uri]&&!b[d.schema("Organization").uri]),w=f.updater.editable(n.doc().uri,f),x=f.sym("https://solid.github.io/solid-panes/contact/individualForm.ttl#form1");m(f,x,u);const k=f.sym("https://solid.github.io/solid-panes/contact/individualForm.ttl#orgDetailsForm"),_=r.ns.vcard("Type").doc();f.holds(void 0,void 0,void 0,_)||l.parse(p,f,_.uri,"text/turtle");try{await f.fetcher.load(n.doc())}catch(e){g("Error: Failed to load contact card: "+e)}t.style=h.paneDivStyle||"padding: 0.5em 1.5em 1em 1.5em;",i.authn.checkUser(),t.appendChild((0,a.renderMugshotGallery)(e,n));const E=y?k:x;r.widgets.appendForm(e,t,{},n,E,n.doc(),function(e,t){e||g("Error: "+t)}),v(),t.appendChild(await(0,s.renderGroupMemberships)(n,c)),v(),r.widgets.attachmentList(e,n,t,{modify:w}),v(),y?t.appendChild(await(0,o.renderPublicIdControl)(n,c)):t.appendChild(await(0,o.renderWebIdControl)(n,c))};var r=c(n(500)),i=n(9332),a=n(8223),o=n(4416),s=n(9208),l=c(n(8230));function c(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(c=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const u='# This turtle file defined the forms usied in the contacts management\n#\n#  Indivduals and orgs are in one file as they both\n# share some forms (address etc) and also interact (roles)\n\n# Now hand-edited, was originally made using form editor.\n# Forms documentaion: https://solid.github.io/solid-ui/Documentation/forms-intro.html\n\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix prov: <http://www.w3.org/ns/prov#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix : <#>.\n\n# Ontology additions or interpretations needed for the form to work well\n\n# The ontology file doesn\'t make them disjoint.  This makes the selector be a choice.\nvcard:TelephoneType   owl:disjointUnionOf ( vcard:Cell vcard:Home vcard:Work) .\nvcard:Type   owl:disjointUnionOf (vcard:Home vcard:Work) . # for email\n\n# Better field labels\nvcard:Cell ui:label "mobile"@en . # app will imake nitial caps if nec\nvcard:hasAddress ui:label "address"@en .\nvcard:bday ui:label "born"@en.\nvcard:hasEmail ui:label "email"@en .\nvcard:hasTelephone ui:label "phone"@en .\nvcard:note ui:label "notes"@en .\n\n\n\n# Ontology data to drive a top classifier\n\nfoaf:Agent owl:disjointUnionOf  (\n  vcard:Individual\n  # @@  schema:robot @@  schem:SoftwareApplication, n0:Agent, n0:Person,\n  prov:SoftwareAgent\n  # vcard:Group     a group of agents is not (currently) an agent itself.\n  # You can\'t get a decision out of it so it can\'t own a bank account\n  vcard:Organization\n).\n\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corpration\n# Consortium - a Corporation or a NGO\n  schema:Corporation\n  schema:EducationalOrganization\n  schema:ResearchOrganization\n# FundingScheme - eh?\n  schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n  schema:MedicalOrganization\n  schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\n  schema:MusicGroup # e.g. a band\n  schema:Project # like Solid\n  schema:SportsOrganization # a Team\n ) .\n\n#########################################################\n#  The forms themselves\n\nfoaf:Agent ui:creationForm :AgentForm .\n\n:AgentForm a ui:Form; schema:name "Form for editing a agent" ;\n  ui:parts ( :AgentClassifier :AgentOptions  ) .\n\n  :AgentClassifier a ui:Classifier; ui:label "What sort of agent?"@en;\n    ui:category foaf:Agent .\n\n:AgentOptions  a ui:Options; ui:dependingon rdf:type;\n   ui:case [ ui:for vcard:Individual; ui:use :form1 ],\n           [ ui:for vcard:Organization; ui:use :orgDetailsForm ],\n           [ ui:for prov:SoftwareAgent; ui:use :robotDetailsForm ] .\n\n# Robots\n\n:robotDetailsForm a ui:Form; ui:parts ( ) . # @@@@\n\n#  Individual-specific form\n\nvcard:Individual\n    ui:creationForm :form1 .\n\n# The addressComment, etc., fields with a comment before each type of field\n# were originally partly because the labels on the fields were clumsy like "hasAddress".\n# This is fixed by adding the ui:label to the properties above, so let\'s try\n# removing the little micro-headings\n\n# For org:\n:orgDetailsForm a ui:Form ; dct:title "Contact details for an organozation";\n  ui:parts (\n    :OrgClassifier\n\n    :fullNameField\n    :addresses\n    :eMails\n    :telephones\n    :noteField ) .\n# For individual:\n:form1\n    dct:title "Contact Details for a person" ;\n    a ui:Form ;\n    ui:part\n        :fullNameField,   :roleField,   :orgNameField,\n         # :addressesComment,\n         :addresses,\n      #  :emailComment,\n         :eMails,\n#        :telephoneComment,\n         :telephones,\n#         :noteComment,\n         :noteField ;\n    ui:parts (\n                :fullNameField  :roleField :orgNameField\n                # :addressesComment\n                  :addresses\n                # :emailComment\n                 :eMails\n                # :telephoneComment\n                 :telephones  :birthdayField\n                 # :noteComment\n                  :noteField ) .\n\n    :fullNameField\n        a ui:SingleLineTextField ;\n        ui:label "Name";\n        ui:maxLength "128" ;\n        ui:property vcard:fn ;\n        ui:size "40" .\n\n    :roleField\n        a ui:SingleLineTextField ;\n        ui:suppressEmptyUneditable true;\n        ui:maxLength "128" ;\n        ui:property vcard:role ;\n        ui:size "40" .\n\n      :orgNameField\n          a ui:SingleLineTextField ;\n          ui:suppressEmptyUneditable true;\n          ui:maxLength "128" ;\n          ui:property vcard:organization-name ;\n          ui:size "40" .\n\n\n:addressesComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "Address" .\n\n\n:addresses\n    dct:title "Address details" ;\n    a ui:Multiple ;\n    ui:part :oneAddress ;\n    ui:property vcard:hasAddress .\n\n:oneAddress\n    a ui:Group ;\n    ui:parts ( :id1409437207443 :id1409437292400 :id1409437421996 :id1409437467649 :id1409437569420 ). # :id1409437646712\n\n:id1409437207443\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:street-address ;\n    ui:size "40" .\n\n:id1409437292400\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:locality ;\n    ui:size "40" .\n\n:id1409437421996\n    a ui:SingleLineTextField ;\n    ui:maxLength "25" ;\n    ui:property vcard:postal-code ;\n    ui:size "25" .\n\n:id1409437467649\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:region ;\n    ui:size "40" .\n\n:id1409437569420\n    a ui:SingleLineTextField ;\n    ui:maxLength "128" ;\n    ui:property vcard:country-name ;\n    ui:size "40" .\n\n:id1409437646712\n    a ui:Classifier ;\n    ui:from rdf:Class ;\n    ui:property rdf:type .\n\n\n##############################\n\n:emailComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n\n    ui:contents "Email" .\n\n\n:eMails\n    a ui:Multiple ;\n    ui:part :oneEMail ;\n    ui:property vcard:hasEmail .\n\n:oneEMail\n    a ui:Group ; # hint: side by side is good\n    ui:part :emailValue, :emailType ;\n    ui:parts ( :emailType  :emailValue ).\n\n:emailValue\n    a ui:EmailField ; ui:label "email";\n    ui:property vcard:value ;\n    ui:size "50" .\n\n:emailType\n    a ui:Classifier ;\n    ui:canMintNew "0" ;\n    ui:category vcard:Type ;\n    ui:from vcard:Type ;\n    ui:property rdf:type .\n\n\n##############################\n\n:telephoneComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "Phones" .\n\n\n:telephones\n    a ui:Multiple ;\n    ui:part :onetelephone ;\n    ui:property vcard:hasTelephone .\n\n:onetelephone\n    a ui:Group ;\n    ui:part :telephoneValue, :telephoneType ;\n    ui:parts (  :telephoneType :telephoneValue ).\n\n:telephoneValue\n    a ui:PhoneField ;\n    ui:property vcard:value ;\n    ui:size "50" .\n\n:telephoneType\n    a ui:Classifier ;\n    ui:canMintNew "0" ;\n    ui:category vcard:TelephoneType ;\n    ui:from vcard:Type ;\n    ui:property rdf:type .\n\n##############################\n\n:birthdayField\n    a ui:DateField;\n    ui:label "Born";\n    ui:suppressEmptyUneditable true;\n    ui:property vcard:bday .\n\n##############################\n\n:noteComment\n    a ui:Comment ;\n    ui:suppressIfUneditable true;\n    ui:contents "General Notes" .\n\n:noteField\n    a ui:MultiLineTextField ;\n    ui:suppressEmptyUneditable true;\n\n    ui:property vcard:note .\n\n\n############ organization forms\n\n:OrganinizatioCreationForm a ui:Form; schema:name "Form for editing contact details of an organization" ;\n  ui:parts ( :OrgClassifier :homePageURIField  ) .\n\n\n:OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n  ui:category solid:InterestingOrganization .\n\n\n:instituteNameField\n    a ui:SingleLineTextField ;\n    ui:label "Intitute Name";\n    ui:maxLength "200" ;\n    ui:property schema:name ;\n    ui:size "80" .\n\n :homePageURIField a ui:NamedNodeURIField;\n    ui:property  schema:url . # @@ ??\n\n  :initituteTypeField a ui:Classifier;\n  ui:label "What sort of organization";\n  ui:category solid:InterestingOrganization .\n',p='@prefix : <http://www.w3.org/2006/vcard/ns#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xml: <http://www.w3.org/XML/1998/namespace> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n:Acquaintance a owl:Class ;\n    rdfs:label "Acquaintance"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Agent a owl:Class ;\n    rdfs:label "Agent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:BBS a owl:Class ;\n    rdfs:label "BBS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Car a owl:Class ;\n    rdfs:label "Car"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Cell a owl:Class ;\n    rdfs:label "Cell"@en ;\n    rdfs:comment "Also called mobile telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Child a owl:Class ;\n    rdfs:label "Child"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Colleague a owl:Class ;\n    rdfs:label "Colleague"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Contact a owl:Class ;\n    rdfs:label "Contact"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coresident a owl:Class ;\n    rdfs:label "Coresident"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coworker a owl:Class ;\n    rdfs:label "Coworker"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Crush a owl:Class ;\n    rdfs:label "Crush"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Date a owl:Class ;\n    rdfs:label "Date"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Dom a owl:Class ;\n    rdfs:label "Dom"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Emergency a owl:Class ;\n    rdfs:label "Emergency"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Fax a owl:Class ;\n    rdfs:label "Fax"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Female a owl:Class ;\n    rdfs:label "Female"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Friend a owl:Class ;\n    rdfs:label "Friend"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Home a owl:Class ;\n    rdfs:label "Home"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s personal life"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:ISDN a owl:Class ;\n    rdfs:label "ISDN"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Internet a owl:Class ;\n    rdfs:label "Internet"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Intl a owl:Class ;\n    rdfs:label "Intl"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Kin a owl:Class ;\n    rdfs:label "Kin"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Label a owl:Class ;\n    rdfs:label "Label"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Male a owl:Class ;\n    rdfs:label "Male"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Me a owl:Class ;\n    rdfs:label "Me"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Met a owl:Class ;\n    rdfs:label "Met"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Modem a owl:Class ;\n    rdfs:label "Modem"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Msg a owl:Class ;\n    rdfs:label "Msg"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Muse a owl:Class ;\n    rdfs:label "Muse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Neighbor a owl:Class ;\n    rdfs:label "Neighbor"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:None a owl:Class ;\n    rdfs:label "None"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Other a owl:Class ;\n    rdfs:label "Other"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:PCS a owl:Class ;\n    rdfs:label "PCS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Pager a owl:Class ;\n    rdfs:label "Pager"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Parcel a owl:Class ;\n    rdfs:label "Parcel"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Parent a owl:Class ;\n    rdfs:label "Parent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Postal a owl:Class ;\n    rdfs:label "Postal"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Pref a owl:Class ;\n    rdfs:label "Pref"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Sibling a owl:Class ;\n    rdfs:label "Sibling"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Spouse a owl:Class ;\n    rdfs:label "Spouse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Sweetheart a owl:Class ;\n    rdfs:label "Sweetheart"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Tel a owl:Class ;\n    rdfs:label "Tel"@en ;\n    rdfs:comment "This class is deprecated. Use the hasTelephone object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Text a owl:Class ;\n    rdfs:label "Text"@en ;\n    rdfs:comment "Also called sms telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:TextPhone a owl:Class ;\n    rdfs:label "Text phone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Unknown a owl:Class ;\n    rdfs:label "Unknown"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Video a owl:Class ;\n    rdfs:label "Video"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Voice a owl:Class ;\n    rdfs:label "Voice"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Work a owl:Class ;\n    rdfs:label "Work"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s work place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:X400 a owl:Class ;\n    rdfs:label "X400"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:adr a owl:ObjectProperty ;\n    rdfs:label "address"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasAddress .\n\n:agent a owl:ObjectProperty ;\n    rdfs:label "agent"@en ;\n    rdfs:comment "This object property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:anniversary a owl:DatatypeProperty ;\n    rdfs:label "anniversary"@en ;\n    rdfs:comment "The date of marriage, or equivalent, of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:gYear ) ] .\n\n:bday a owl:DatatypeProperty ;\n    rdfs:label "birth date"@en ;\n    rdfs:comment "To specify the birth date of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:dateTimeStamp xsd:gYear ) ] .\n\n:category a owl:DatatypeProperty ;\n    rdfs:label "category"@en ;\n    rdfs:comment "The category information about the object, also known as tags"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:class a owl:DatatypeProperty ;\n    rdfs:label "class"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:email a owl:ObjectProperty ;\n    rdfs:label "email"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasEmail .\n\n:extended-address a owl:DatatypeProperty ;\n    rdfs:label "extended address"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:geo a owl:ObjectProperty ;\n    rdfs:label "geo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasGeo .\n\n:hasAdditionalName a owl:ObjectProperty ;\n    rdfs:label "has additional name"@en ;\n    rdfs:comment "Used to support property parameters for the additional name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarBusy a owl:ObjectProperty ;\n    rdfs:label "has calendar busy"@en ;\n    rdfs:comment "To specify the busy time associated with the object. (Was called FBURL in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarLink a owl:ObjectProperty ;\n    rdfs:label "has calendar link"@en ;\n    rdfs:comment "To specify the calendar associated with the object. (Was called CALURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarRequest a owl:ObjectProperty ;\n    rdfs:label "has calendar request"@en ;\n    rdfs:comment "To specify the calendar user address to which a scheduling request be sent for the object. (Was called CALADRURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCategory a owl:ObjectProperty ;\n    rdfs:label "has category"@en ;\n    rdfs:comment "Used to support property parameters for the category data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCountryName a owl:ObjectProperty ;\n    rdfs:label "has country name"@en ;\n    rdfs:comment "Used to support property parameters for the country name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFN a owl:ObjectProperty ;\n    rdfs:label "has formatted name"@en ;\n    rdfs:comment "Used to support property parameters for the formatted name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFamilyName a owl:ObjectProperty ;\n    rdfs:label "has family name"@en ;\n    rdfs:comment "Used to support property parameters for the family name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGender a owl:ObjectProperty ;\n    rdfs:label "has gender"@en ;\n    rdfs:comment "To specify  the sex or gender identity of the object. URIs are recommended to enable interoperable sex and gender codes to be used."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGivenName a owl:ObjectProperty ;\n    rdfs:label "has given name"@en ;\n    rdfs:comment "Used to support property parameters for the given name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificPrefix a owl:ObjectProperty ;\n    rdfs:label "has honorific prefix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific prefix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificSuffix a owl:ObjectProperty ;\n    rdfs:label "has honorific suffix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific suffix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasInstantMessage a owl:ObjectProperty ;\n    rdfs:label "has messaging"@en ;\n    rdfs:comment "To specify the instant messaging and presence protocol communications with the object. (Was called IMPP in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLanguage a owl:ObjectProperty ;\n    rdfs:label "has language"@en ;\n    rdfs:comment "Used to support property parameters for the language data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLocality a owl:ObjectProperty ;\n    rdfs:label "has locality"@en ;\n    rdfs:comment "Used to support property parameters for the locality data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasNickname a owl:ObjectProperty ;\n    rdfs:label "has nickname"@en ;\n    rdfs:comment "Used to support property parameters for the nickname data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:seeAlso :nickname .\n\n:hasNote a owl:ObjectProperty ;\n    rdfs:label "has note"@en ;\n    rdfs:comment "Used to support property parameters for the note data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationName a owl:ObjectProperty ;\n    rdfs:label "has organization name"@en ;\n    rdfs:comment "Used to support property parameters for the organization name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationUnit a owl:ObjectProperty ;\n    rdfs:label "has organization unit name"@en ;\n    rdfs:comment "Used to support property parameters for the organization unit name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasPostalCode a owl:ObjectProperty ;\n    rdfs:label "has postal code"@en ;\n    rdfs:comment "Used to support property parameters for the postal code data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRegion a owl:ObjectProperty ;\n    rdfs:label "has region"@en ;\n    rdfs:comment "Used to support property parameters for the region data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRelated a owl:ObjectProperty ;\n    rdfs:label "has related"@en ;\n    rdfs:comment "To specify a relationship between another entity and the entity represented by this object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRole a owl:ObjectProperty ;\n    rdfs:label "has role"@en ;\n    rdfs:comment "Used to support property parameters for the role data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasSource a owl:ObjectProperty ;\n    rdfs:label "has source"@en ;\n    rdfs:comment "To identify the source of directory information of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasStreetAddress a owl:ObjectProperty ;\n    rdfs:label "has street address"@en ;\n    rdfs:comment "Used to support property parameters for the street address data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasTitle a owl:ObjectProperty ;\n    rdfs:label "has title"@en ;\n    rdfs:comment "Used to support property parameters for the title data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasUID a owl:ObjectProperty ;\n    rdfs:label "has uid"@en ;\n    rdfs:comment "To specify a value that represents a globally unique identifier corresponding to the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasValue a owl:ObjectProperty ;\n    rdfs:label "has value"@en ;\n    rdfs:comment "Used to indicate the resource value of an object property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:label a owl:DatatypeProperty ;\n    rdfs:label "label"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:language a owl:DatatypeProperty ;\n    rdfs:label "language"@en ;\n    rdfs:comment "To specify the language that may be used for contacting the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:latitude a owl:DatatypeProperty ;\n    rdfs:label "latitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:longitude a owl:DatatypeProperty ;\n    rdfs:label "longitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:mailer a owl:DatatypeProperty ;\n    rdfs:label "mailer"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:note a owl:DatatypeProperty ;\n    rdfs:label "note"@en ;\n    rdfs:comment "A note associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:org a owl:ObjectProperty ;\n    rdfs:label "organization"@en ;\n    rdfs:comment "This object property has been mapped. Use the organization-name data property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :organization-name .\n\n:organization-unit a owl:DatatypeProperty ;\n    rdfs:label "organizational unit name"@en ;\n    rdfs:comment "To specify the organizational unit name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string ;\n    rdfs:subPropertyOf :organization-name .\n\n:post-office-box a owl:DatatypeProperty ;\n    rdfs:label "post office box"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:prodid a owl:DatatypeProperty ;\n    rdfs:label "product id"@en ;\n    rdfs:comment "To specify the identifier for the product that created the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:rev a owl:DatatypeProperty ;\n    rdfs:label "revision"@en ;\n    rdfs:comment "To specify revision information about the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:dateTime .\n\n:role a owl:DatatypeProperty ;\n    rdfs:label "role"@en ;\n    rdfs:comment "To specify the function or part played in a particular situation by the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:sort-string a owl:DatatypeProperty ;\n    rdfs:label "sort as"@en ;\n    rdfs:comment "To specify the string to be used for national-language-specific sorting. Used as a property parameter only."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:title a owl:DatatypeProperty ;\n    rdfs:label "title"@en ;\n    rdfs:comment "To specify the position or job of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:tz a owl:DatatypeProperty ;\n    rdfs:label "time zone"@en ;\n    rdfs:comment "To indicate time zone information that is specific to the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:value a owl:DatatypeProperty ;\n    rdfs:label "value"@en ;\n    rdfs:comment "Used to indicate the literal value of a data property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Address a owl:Class ;\n    rdfs:label "Address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the  object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :country-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :country-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :locality ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :locality ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :postal-code ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :postal-code ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :region ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :region ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :street-address ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :street-address ] ) ] ) ] .\n\n:Email a owl:Class ;\n    rdfs:label "Email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object the vCard represents. Use the hasEmail object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Group a owl:Class ;\n    rdfs:label "Group"@en ;\n    rdfs:comment "Object representing a group of persons or entities.  A group object will usually contain hasMember properties to specify the members of the group."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Individual,\n        :Location,\n        :Organization ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:intersectionOf ( [ a owl:Restriction ;\n                        owl:onProperty :hasMember ;\n                        owl:someValuesFrom :Kind ] [ a owl:Restriction ;\n                        owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n                        owl:onClass :Kind ;\n                        owl:onProperty :hasMember ] ) ] .\n\n:Individual a owl:Class ;\n    rdfs:label "Individual"@en ;\n    rdfs:comment "An object representing a single person or entity"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Location,\n        :Organization .\n\n:Name a owl:Class ;\n    rdfs:label "Name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :additional-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :additional-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :family-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :family-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :given-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :given-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-prefix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-prefix ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-suffix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-suffix ] ) ] ) ] .\n\n:VCard a owl:Class ;\n    rdfs:label "VCard"@en ;\n    rdfs:comment "The vCard class is  equivalent to the new Kind class, which is the parent for the four explicit types of vCards (Individual, Organization, Location, Group)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass :Kind .\n\n:fn a owl:DatatypeProperty ;\n    rdfs:label "formatted name"@en ;\n    rdfs:comment "The formatted text corresponding to the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasAddress a owl:ObjectProperty ;\n    rdfs:label "has address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Address .\n\n:hasEmail a owl:ObjectProperty ;\n    rdfs:label "has email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Email .\n\n:hasGeo a owl:ObjectProperty ;\n    rdfs:label "has geo"@en ;\n    rdfs:comment "To specify information related to the global positioning of the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasKey a owl:ObjectProperty ;\n    rdfs:label "has key"@en ;\n    rdfs:comment "To specify a public key or authentication certificate associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :key .\n\n:hasLogo a owl:ObjectProperty ;\n    rdfs:label "has logo"@en ;\n    rdfs:comment "To specify a graphic image of a logo associated with the object "@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :logo .\n\n:hasName a owl:ObjectProperty ;\n    rdfs:label "has name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Name ;\n    owl:equivalentProperty :n .\n\n:hasPhoto a owl:ObjectProperty ;\n    rdfs:label "has photo"@en ;\n    rdfs:comment "To specify an image or photograph information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :photo .\n\n:hasSound a owl:ObjectProperty ;\n    rdfs:label "has sound"@en ;\n    rdfs:comment "To specify a digital sound content information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :sound .\n\n:hasTelephone a owl:ObjectProperty ;\n    rdfs:label "has telephone"@en ;\n    rdfs:comment "To specify the telephone number for telephony communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :tel .\n\n:hasURL a owl:ObjectProperty ;\n    rdfs:label "has url"@en ;\n    rdfs:comment "To specify a uniform resource locator associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :url .\n\n:key a owl:ObjectProperty ;\n    rdfs:label "key"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasKey .\n\n:logo a owl:ObjectProperty ;\n    rdfs:label "logo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasLogo .\n\n:n a owl:ObjectProperty ;\n    rdfs:label "name"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasName .\n\n:nickname a owl:DatatypeProperty ;\n    rdfs:label "nickname"@en ;\n    rdfs:comment "The nick name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:photo a owl:ObjectProperty ;\n    rdfs:label "photo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasPhoto .\n\n:sound a owl:ObjectProperty ;\n    rdfs:label "sound"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasSound .\n\n:tel a owl:ObjectProperty ;\n    rdfs:label "telephone"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasTelephone .\n\n:url a owl:ObjectProperty ;\n    rdfs:label "url"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasURL .\n\n:Location a owl:Class ;\n    rdfs:label "Location"@en ;\n    rdfs:comment "An object representing a named geographical place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Organization .\n\n:additional-name a owl:DatatypeProperty ;\n    rdfs:label "additional name"@en ;\n    rdfs:comment "The additional name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:country-name a owl:DatatypeProperty ;\n    rdfs:label "country name"@en ;\n    rdfs:comment "The country name associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:family-name a owl:DatatypeProperty ;\n    rdfs:label "family name"@en ;\n    rdfs:comment "The family name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:given-name a owl:DatatypeProperty ;\n    rdfs:label "given name"@en ;\n    rdfs:comment "The given name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasMember a owl:ObjectProperty ;\n    rdfs:label "has member"@en ;\n    rdfs:comment "To include a member in the group this object represents. (This property can only be used by Group individuals)"@en ;\n    rdfs:domain :Group ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Kind .\n\n:honorific-prefix a owl:DatatypeProperty ;\n    rdfs:label "honorific prefix"@en ;\n    rdfs:comment "The honorific prefix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:honorific-suffix a owl:DatatypeProperty ;\n    rdfs:label "honorific suffix"@en ;\n    rdfs:comment "The honorific suffix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:locality a owl:DatatypeProperty ;\n    rdfs:label "locality"@en ;\n    rdfs:comment "The locality (e.g. city or town) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:organization-name a owl:DatatypeProperty ;\n    rdfs:label "organization name"@en ;\n    rdfs:comment "To specify the organizational name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:postal-code a owl:DatatypeProperty ;\n    rdfs:label "postal code"@en ;\n    rdfs:comment "The postal code associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:region a owl:DatatypeProperty ;\n    rdfs:label "region"@en ;\n    rdfs:comment "The region (e.g. state or province) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:street-address a owl:DatatypeProperty ;\n    rdfs:label "street address"@en ;\n    rdfs:comment "The street address associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:Organization a owl:Class ;\n    rdfs:label "Organization"@en ;\n    rdfs:comment """An object representing an organization.  An organization is a single entity, and might represent a business or government, a department or division within a business or government, a club, an association, or the like.\n"""@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind .\n\n:Gender a owl:Class ;\n    rdfs:label "Gender"@en ;\n    rdfs:comment "Used for gender codes. The URI of the gender code must be used as the value for Gender."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Kind a owl:Class ;\n    rdfs:label "Kind"@en ;\n    rdfs:comment "The parent class for all objects"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Restriction ;\n            owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n            owl:onDataRange xsd:string ;\n            owl:onProperty :fn ],\n        :VCard .\n\n:Type a owl:Class ;\n    rdfs:label "Type"@en ;\n    rdfs:comment "Used for type codes. The URI of the type code must be used as the value for Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:TelephoneType a owl:Class ;\n    rdfs:label "Phone"@en ;\n    rdfs:comment "Used for telephone type codes. The URI of the telephone type code must be used as the value for the Telephone Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:RelatedType a owl:Class ;\n    rdfs:label "Relation Type"@en ;\n    rdfs:comment "Used for relation type codes. The URI of the relation type code must be used as the value for the Relation Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n<http://www.w3.org/2006/vcard/ns> a owl:Ontology ;\n    rdfs:label "Ontology for vCard"@en ;\n    rdfs:comment "Ontology for vCard based on RFC6350"@en ;\n    owl:versionInfo "Final"@en .\n\n\n',d=r.ns,f=i.store,h=r.style;function m(e,t,n){const r=t.doc();e.holds(void 0,void 0,void 0,r)||l.parse(n,e,r.uri,"text/turtle")}},701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findChat=s,t.getChat=async function(e,t=!0){const{me:n,chatContainer:l,exists:c}=await s(e);if(c)return new a.NamedNode(l.value+o.longChatPane.CHAT_LOCATION_IN_CONTAINER);if(t){const t=await async function(e,t){const n=await o.longChatPane.mintNew({session:{store:i.store}},{me:t,newBase:e.value});return n.newInstance}(l,n);return await async function(e,t){await i.store.fetcher.load(e.doc());const n=i.store.any(e,r.ns.ldp("inbox"),void 0,e.doc());if(!n)throw new Error(`Invitee inbox not found! ${e.value}`);const a=`\n<> a <http://www.w3.org/ns/pim/meeting#LongChatInvite> ;\n${r.ns.rdf("seeAlso")} <${t.value}> . \n  `,o=await i.store.fetcher.webOperation("POST",n.value,{data:a,contentType:"text/turtle"});if(!o.headers.get("location"))throw new Error(`Invite sending returned a ${o.status}`)}(e,t),await async function(e,t,n){await i.store.fetcher.load(e);const r=i.store.any(e,new a.NamedNode("http://www.iana.org/assignments/link-relations/acl"));if(!r)throw new Error("Chat ACL doc not found!");const o=`\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#owner>\n    a acl:Authorization;\n    acl:agent <${t.value}>;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Write, acl:Control.\n<#invitee>\n    a acl:Authorization;\n    acl:agent <${n.value}>;\n    acl:accessTo <.>;\n    acl:default <.>;\n    acl:mode\n        acl:Read, acl:Append.\n`;await i.store.fetcher.webOperation("PUT",r.value,{data:o,contentType:"text/turtle"})}(l,n,e),await async function(e,t){const n=i.store.any(t,r.ns.solid("privateTypeIndex"));if(!n)throw new Error("Private type index not found!");await i.store.fetcher.load(n);const o=r.widgets.newThing(n),s=[(0,a.st)(o,r.ns.rdf("type"),r.ns.solid("TypeRegistration"),n.doc()),(0,a.st)(o,r.ns.solid("forClass"),r.ns.meeting("LongChat"),n.doc()),(0,a.st)(o,r.ns.solid("instance"),e,n.doc())];await new Promise((e,t)=>{i.store.updater.update([],s,function(n,r,i){r?e():t(new Error(i))})})}(t,n),t}throw new Error("Chat does not exist and createIfMissing is false")};var r=n(500),i=n(9332),a=n(8230),o=n(8055);async function s(e){const t=await async function(){const e=i.authn.currentUser();if(null===e)throw new Error("Current user not found! Not logged in?");return await i.store.fetcher.load(e.doc()),e}(),n=await async function(e){const t=i.store.any(e,r.ns.space("storage"),void 0,e.doc());if(!t)throw new Error("Current user pod root not found!");return t}(t),s=function(e,t){const n=new URL(`IndividualChats/${new URL(e.value).host}/`,t.value).toString();return new a.NamedNode(n)}(e,n);let l=!0;try{await i.store.fetcher.load(new a.NamedNode(s.value+o.longChatPane.CHAT_LOCATION_IN_CONTAINER))}catch(e){l=!1}return{me:t,chatContainer:s,exists:l}}},730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHomepage=async function(e,t,n){const a=await async function(e,t){const n=e.site().uri,i=(0,r.sym)(`${n}profile/card#me`);return await t.load(i),i}(e,n),o=function(e,t){return e.anyValue(t,i.ns.vcard("fn"),null,t.doc())||e.anyValue(t,i.ns.foaf("name"),null,t.doc())||new URL(t.uri).host.split(".")[0]}(t,a),s=document.createElement("div");return s.classList.add("container"),s.appendChild(function(e,t){const n=document.createElement("a");n.href=e,n.innerText=t;const r=document.createElement("span");r.innerText="'s Pod";const i=document.createElement("h1");return i.appendChild(n),i.appendChild(r),i}(a.uri,o)),s.appendChild(function(e){const t=document.createElement("section"),n=document.createElement("h2");n.innerText="Data",t.appendChild(n);const r=document.createElement("div");r.classList.add("list-group"),t.appendChild(r);const i=document.createElement("a");return i.classList.add("list-group-item"),i.href=window.document.location.href+"public/",i.innerText=`View ${e}'s files`,r.appendChild(i),t}(o)),s};var r=n(8230),i=n(500)},764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncReplaceDirective:()=>m,asyncReplace:()=>g});var r=n(6752);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const{I:i}=r._$LH;var a=n(7804);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const o=(e,t)=>{const n=e._$AN;if(void 0===n)return!1;for(const e of n)e._$AO?.(t,!1),o(e,t);return!0},s=e=>{let t,n;do{if(void 0===(t=e._$AM))break;n=t._$AN,n.delete(e),e=t}while(0===n?.size)},l=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),p(t)}};function c(e){void 0!==this._$AN?(s(this),this._$AM=e,l(this)):this._$AM=e}function u(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(r))for(let e=n;e<r.length;e++)o(r[e],!1),s(r[e]);else null!=r&&(o(r,!1),s(r));else o(this,e)}const p=e=>{e.type==a.OA.CHILD&&(e._$AP??=u,e._$AQ??=c)};class d extends a.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),l(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(o(this,e),s(this))}setValue(e){if((e=>void 0===e.strings)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}class f{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class h{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(e=>this.Z=e)}resume(){this.Z?.(),this.Y=this.Z=void 0}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class m extends d{constructor(){super(...arguments),this._$CK=new f(this),this._$CX=new h}render(e,t){return r.noChange}update(e,[t,n]){if(this.isConnected||this.disconnected(),t===this._$CJ)return r.noChange;this._$CJ=t;let i=0;const{_$CK:a,_$CX:o}=this;return(async(e,t)=>{for await(const n of e)if(!1===await t(n))return})(t,async e=>{for(;o.get();)await o.get();const r=a.deref();if(void 0!==r){if(r._$CJ!==t)return!1;void 0!==n&&(e=n(e,i)),r.commitValue(e,i),i++}return!0}),r.noChange}commitValue(e,t){this.setValue(e)}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const g=(0,a.u$)(m)},799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPreviousMessage=function(e){for(;e.childNodes.length>1;)e.removeChild(e.lastChild)},t.complain=function(e,t,n){e.appendChild(r.widgets.errorMessageBlock(t.dom,n))},t.mention=function(e,t){const n=document.createElement("div");n.setAttribute("style","margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; background-color: #efe; color:black;"),n.innerHTML=t,e.appendChild(n)};var r=n(500)},810:(e,t,n)=>{"use strict";const{SymbolDispose:r}=n(4641),{AbortError:i,codes:a}=n(8526),{isNodeStream:o,isWebStream:s,kControllerErrorFunction:l}=n(136),c=n(9365),{ERR_INVALID_ARG_TYPE:u}=a;let p;e.exports.addAbortSignal=function(t,n){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)})(t,"signal"),!o(n)&&!s(n))throw new u("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const a=o(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[l](new i(void 0,{cause:e.reason}))};if(e.aborted)a();else{p=p||n(6017).addAbortListener;const i=p(e,a);c(t,i[r])}return t}},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(6221)},983:e=>{var t={"prs.":100,"x-":200,"x.":300,"vnd.":400,default:900},n={nginx:10,apache:20,iana:40,default:30},r={application:1,font:2,audio:2,video:3,default:0};e.exports=function(e,i="default"){if("application/octet-stream"===e)return 0;const[a,o]=e.split("/"),s=o.replace(/(\.|x-).*/,"$1");return(t[s]||t.default)+(n[i]||n.default)+(r[a]||r.default)+(1-e.length/100)}},1038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocialCard=void 0;var r=n(6752),i=n(4572),a=n(2378);(0,a.styleMap)((0,i.fullWidth)()),(0,a.styleMap)({...(0,i.textGray)(),...(0,i.textCenter)()});const o=(0,a.styleMap)((0,i.card)()),s=(0,a.styleMap)({...(0,i.paddingSmall)(),...(0,i.textCenter)()});(0,a.styleMap)({...(0,i.paddingSmall)(),...(0,i.textRight)()});function l(e){if(e.length>0)return r.html`${t=e[0],t.homepage&&t.name&&t.icon?r.html`<div class="textButton-0-1-3" style="margin-top: 0.3em; margin-bottom: 0.3em;">

        <a href="${t.homepage}" style="text-decoration: none;" target="social"> 
                <img style="width: 2em; height: 2em; margin: 1em; vertical-align:middle;" src="${t.icon}" alt="${t.name}"> 

                <span style="font-size: 1.2rem;">${t.name}</span> 
        </a>
      </div> `:r.html``}${e.length>1?l(e.slice(1)):r.html``}`;var t}t.SocialCard=(e,t)=>{const{accounts:n}=t,c=(0,a.styleMap)({...(0,i.heading)(),color:e.highlightColor});return n.length?r.html`
  <div>
    <div data-testid="social-media" style="${o}">
      <div style=${s+"margin: auto;"}>
        <h3 style=${c}>Follow me on</h3>

        <div style=${s}>${l(n)}</div>
      </div>
    </div>
  </div>
  `:r.html``}},1059:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},1119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendList=void 0;var r=n(500),i=n(6752),a=n(2378),o=n(4572);const s=(0,a.styleMap)((0,o.padding)()),l=((0,a.styleMap)((0,o.headingLight)()),(0,a.styleMap)((0,o.card)()));t.FriendList=(e,t,n)=>{const r=(0,a.styleMap)({...(0,o.heading)(),color:e.highlightColor});return c(t,n)?i.html`
    <div data-testid="friend-list" style="${l}">
      <div style=${s}>
        <h3 style=${r}>Friends</h3>
        ${c(t,n)}
      </div>
    </div>
    `:i.html``};const c=(e,{dom:t})=>{const n=t.createElement("div");return r.widgets.attachmentList(t,e,n,{doc:e.doc(),modify:!1,predicate:r.ns.foaf("knows"),noun:"friend"}),""===n.textContent?null:n}},1247:(e,t,n)=>{"use strict";var r=n(9982),i=n(6540),a=n(961);
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function p(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===F?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case E:return"SuspenseList";case A:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return I(e(t))}catch(e){}}return null}var N=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},M=[],D=-1;function U(e){return{current:e}}function B(e){0>D||(e.current=M[D],M[D]=null,D--)}function z(e,t){D++,M[D]=e.current,e.current=t}var H,q,$=U(null),W=U(null),V=U(null),G=U(null);function K(e,t){switch(z(V,t),z(W,e),z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bp(t=vp(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),z($,e)}function J(){B($),B(W),B(V)}function Q(e){null!==e.memoizedState&&z(G,e);var t=$.current,n=bp(t,e.type);t!==n&&(z(W,e),z($,n))}function Y(e){W.current===e&&(B($),B(W)),G.current===e&&(B(G),ud._currentValue=j)}function X(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",q=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,pe=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,he=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,be=null;function ye(e){if("function"==typeof me&&ge(e),be&&"function"==typeof be.setStrictMode)try{be.setStrictMode(ve,e)}catch(e){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var _e=256,Ee=262144,Ce=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=Se(r):0!==(o&=s)?i=Se(o):n||0!==(n=s&~e)&&(i=Se(n)):0!==(s=r&~a)?i=Se(s):0!==o?i=Se(o):n||0!==(n=r&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ce;return!(62914560&(Ce<<=1))&&(Ce=4194304),e}function Fe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=42&n?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function De(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Sd(e.type)}function Ue(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Be=Math.random().toString(36).slice(2),ze="__reactFiber$"+Be,He="__reactProps$"+Be,qe="__reactContainer$"+Be,$e="__reactEvents$"+Be,We="__reactListeners$"+Be,Ve="__reactHandles$"+Be,Ge="__reactResources$"+Be,Ke="__reactMarker$"+Be;function Je(e){delete e[ze],delete e[He],delete e[$e],delete e[We],delete e[Ve]}function Qe(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=jp(e);null!==e;){if(n=e[ze])return n;e=jp(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[ze]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(i=t,re.call(st,i)||!re.call(ot,i)&&(at.test(i)?st[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+pt(t)):e.value!==""+pt(t)&&(e.value=""+pt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,pt(t)):null!=n?wt(e,o,pt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+pt(s):e.removeAttribute("name")}function yt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return void ft(e);n=null!=n?""+pt(n):"",t=null!=t?""+pt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+pt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+pt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(N(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=pt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&St(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Nt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,jt=null;function Mt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[He]||null;if(!i)throw Error(o(90));bt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ut(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Lt||null!==jt)&&(Zc(),Lt&&(t=Lt,e=jt,jt=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ht=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(e){Ht=!1}var $t=null,Wt=null,Vt=null;function Gt(){if(Vt)return Vt;var e,t,n=Wt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Jt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Yt(tn),rn=f({},tn,{view:0,detail:0}),an=Yt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Yt(on),ln=Yt(f({},on,{dataTransfer:0})),cn=Yt(f({},rn,{relatedTarget:0})),un=Yt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=Yt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Yt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var bn=Yt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Yt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Yt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=Yt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Yt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Yt(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],Cn=zt&&"CompositionEvent"in window,Sn=null;zt&&"documentMode"in document&&(Sn=document.documentMode);var An=zt&&"TextEvent"in window&&!Sn,Tn=zt&&(!Cn||Sn&&8<Sn&&11>=Sn),Rn=String.fromCharCode(32),Pn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function jn(e,t,n,r){Lt?jt?jt.push(r):jt=[r]:Lt=r,0<(t=rp(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Un(e){Ju(e,0)}function Bn(e){if(ht(Xe(e)))return e}function zn(e,t){if("change"===e)return t}var Hn=!1;if(zt){var qn;if(zt){var $n="oninput"in document;if(!$n){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),$n="function"==typeof Wn.oninput}qn=$n}else qn=!1;Hn=qn&&(!document.documentMode||9<document.documentMode)}function Vn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Dn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Bn(Dn)){var t=[];jn(t,Dn,e,Ot(e)),Ut(Un,t)}}function Kn(e,t,n){"focusin"===e?(Vn(),Dn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Vn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Dn)}function Qn(e,t){if("click"===e)return Bn(t)}function Yn(e,t){if("input"===e||"change"===e)return Bn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=zt&&"documentMode"in document&&11>=document.documentMode,or=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rp(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},fr={},hr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return fr[e]=n[t];return e}zt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),br=mr("animationstart"),yr=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),kr=mr("transitionend"),_r=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){_r.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Sr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Ar=[],Tr=0,Rr=0;function Pr(){for(var e=Tr,t=Rr=Tr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var a=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Or(n,i,a)}}function Fr(e,t,n,r){Ar[Tr++]=e,Ar[Tr++]=t,Ar[Tr++]=n,Ar[Tr++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Fr(e,t,n,r),Lr(e)}function Nr(e,t){return Fr(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Lr(e){if(50<$c)throw $c=0,Wc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Mr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,a){var s=0;if(r=e,"function"==typeof e)Ur(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Dr(31,n,t,i)).elementType=A,e.lanes=a,e;case v:return qr(n.children,i,a,t);case b:s=8,i|=24;break;case y:return(e=Dr(12,n,t,2|i)).elementType=y,e.lanes=a,e;case _:return(e=Dr(13,n,t,i)).elementType=_,e.lanes=a,e;case E:return(e=Dr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case w:s=9;break e;case k:s=11;break e;case C:s=14;break e;case S:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function qr(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Dr(18,null,null,0);return t.stateNode=e,t}function Vr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Kr(e,t){if("object"==typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],Qr=0,Yr=null,Xr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Jr[Qr++]=Xr,Jr[Qr++]=Yr,Yr=e,Xr=t}function ai(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var a=32-we(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-we(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),ai(e,1,0))}function si(e){for(;e===Yr;)Yr=Jr[--Qr],Jr[Qr]=null,Xr=Jr[--Qr],Jr[Qr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,pi=!1,di=null,fi=!1,hi=Error(o(519));function mi(e){throw xi(Kr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),hi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[He]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Qu(Gu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cp(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||mi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function bi(e){if(e!==ci)return!1;if(!pi)return vi(e),pi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yp(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Lp(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Lp(e)}else 27===n?(n=ui,Sp(e.type)?(e=Op,Op=null,ui=e):ui=n):ui=ci?Np(e.stateNode.nextSibling):null;return!0}function yi(){ui=ci=null,pi=!1}function wi(){var e=di;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),di=null),e}function xi(e){null===di?di=[e]:di.push(e)}var ki=U(null),_i=null,Ei=null;function Ci(e,t,n){z(ki,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=ki.current,B(ki)}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ai(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ai(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ri(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(ud):e=[ud])}i=i.return}null!==e&&Ti(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){_i=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Oi(_i,e)}function Ni(e,t){return null===_i&&Fi(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(o(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Li="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,Di={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&ji(Mi,function(){e.controller.abort()})}var zi=null,Hi=0,qi=0,$i=null;function Wi(){if(0===--Hi&&null!==zi){null!==$i&&($i.status="fulfilled");var e=zi;zi=null,qi=0,$i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=O.S;O.S=function(e,t){Nc=le(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Hi=0,qi=Hu(),$i={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Wi,Wi)}(0,t),null!==Vi&&Vi(e,t)};var Gi=U(null);function Ki(){var e=Gi.current;return null!==e?e:hc.pooledCache}function Ji(e,t){z(Gi,null===t?Gi.current:t.pool)}function Qi(){var e=Ki();return null===e?null:{parent:Di._currentValue,pool:e}}var Yi=Error(o(460)),Xi=Error(o(474)),Zi=Error(o(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"==typeof t.status)t.then(It,It);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw ia=t,Yi}}function ra(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw ia=e,Yi;throw e}}var ia=null;function aa(){if(null===ia)throw Error(o(459));var e=ia;return ia=null,e}function oa(e){if(e===Yi||e===Zi)throw Error(o(483))}var sa=null,la=0;function ca(e){var t=la;return la+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pa(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function da(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===S&&ra(a)===t.type)?(ua(t=i(t,n.props),n),t.return=e,t):(ua(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=qr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return ua(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Vr(t,e.mode,n)).return=e,t;case S:return d(e,t=ra(t),n)}if(N(t)||P(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,ca(t),n);if(t.$$typeof===x)return d(e,Ni(e,t),n);pa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case S:return f(e,t,n=ra(n),r)}if(N(n)||P(n))return null!==i?null:p(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,ca(n),r);if(n.$$typeof===x)return f(e,t,Ni(e,n),r);pa(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return h(e,t,n,r=ra(r),i)}if(N(r)||P(r))return p(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return h(e,t,n,ca(r),i);if(r.$$typeof===x)return h(e,t,n,Ni(t,r),i);pa(t,r)}return null}function b(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===v){if(7===c.tag){n(l,c.sibling),(p=i(c,u.props.children)).return=l,l=p;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===S&&ra(y)===c.type){n(l,c.sibling),ua(p=i(c,u.props),u),p.return=l,l=p;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((p=qr(u.props.children,l.mode,p,u.key)).return=l,l=p):(ua(p=Hr(u.type,u.key,u.props,null,l.mode,p),u),p.return=l,l=p)}return s(l);case g:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(p=i(c,u.children||[])).return=l,l=p;break e}n(l,c);break}t(l,c),c=c.sibling}(p=Vr(u,l.mode,p)).return=l,l=p}return s(l);case S:return b(l,c,u=ra(u),p)}if(N(u))return function(i,o,s,l){for(var c=null,u=null,p=o,m=o=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=f(i,p,s[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,p=g}if(m===s.length)return n(i,p),pi&&ii(i,m),c;if(null===p){for(;m<s.length;m++)null!==(p=d(i,s[m],l))&&(o=a(p,o,m),null===u?c=p:u.sibling=p,u=p);return pi&&ii(i,m),c}for(p=r(p);m<s.length;m++)null!==(g=h(p,i,m,s[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(i,e)}),pi&&ii(i,m),c}(l,c,u,p);if(P(u)){if("function"!=typeof(y=P(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,p=null,m=s,g=s=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(i,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=a(y,s,g),null===p?u=y:p.sibling=y,p=y,m=v}if(b.done)return n(i,m),pi&&ii(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=d(i,b.value,c))&&(s=a(b,s,g),null===p?u=b:p.sibling=b,p=b);return pi&&ii(i,g),u}for(m=r(m);!b.done;g++,b=l.next())null!==(b=h(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=a(b,s,g),null===p?u=b:p.sibling=b,p=b);return e&&m.forEach(function(e){return t(i,e)}),pi&&ii(i,g),u}(l,c,u=y.call(u),p)}if("function"==typeof u.then)return b(l,c,ca(u),p);if(u.$$typeof===x)return b(l,c,Ni(l,u),p);pa(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(p=i(c,u)).return=l,l=p):(n(l,c),(p=$r(u,l.mode,p)).return=l,l=p),s(l)):n(l,c)}return function(e,t,n,r){try{la=0;var i=b(e,t,n,r);return sa=null,i}catch(t){if(t===Yi||t===Zi)throw t;var a=Dr(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var fa=da(!0),ha=da(!1),ma=!1;function ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&fc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return Fr(e,r,t,n),Lr(e)}function wa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function xa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ka=!1;function _a(){if(ka){if(null!==$i)throw $i}}function Ea(e,t,n,r){ka=!1;var i=e.updateQueue;ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var p=i.baseState;for(o=0,u=c=l=null,s=a;;){var d=-536870913&s.lane,h=d!==s.lane;if(h?(gc&d)===d:(r&d)===d){0!==d&&d===qi&&(ka=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;d=t;var v=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){p=m.call(v,p,d);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(d="function"==typeof(m=g.payload)?m.call(v,p,d):m))break e;p=f({},p,d);break e;case 2:ma=!0}}null!==(d=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=i.callbacks)?i.callbacks=[d]:h.push(d))}else h={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=p):u=u.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}null===u&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Ec|=o,e.lanes=o,e.memoizedState=p}}function Ca(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function Sa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ca(n[e],t)}var Aa=U(null),Ta=U(0);function Ra(e,t){z(Ta,e=kc),z(Aa,t),kc=e|t.baseLanes}function Pa(){z(Ta,kc),z(Aa,Aa.current)}function Fa(){kc=Ta.current,B(Aa),B(Ta)}var Ia=U(null),Na=null;function Oa(e){var t=e.alternate;z(Ua,1&Ua.current),z(Ia,e),null===Na&&(null===t||null!==Aa.current||null!==t.memoizedState)&&(Na=e)}function La(e){z(Ua,Ua.current),z(Ia,e),null===Na&&(Na=e)}function ja(e){22===e.tag?(z(Ua,Ua.current),z(Ia,e),null===Na&&(Na=e)):Ma()}function Ma(){z(Ua,Ua.current),z(Ia,Ia.current)}function Da(e){B(Ia),Na===e&&(Na=null),B(Ua)}var Ua=U(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Fp(n)||Ip(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=0,Ha=null,qa=null,$a=null,Wa=!1,Va=!1,Ga=!1,Ka=0,Ja=0,Qa=null,Ya=0;function Xa(){throw Error(o(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,a){return za=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?gs:vs,Ga=!1,a=n(r,i),Ga=!1,Va&&(a=no(t,n,r,i)),to(e),a}function to(e){O.H=ms;var t=null!==qa&&null!==qa.next;if(za=0,$a=qa=Ha=null,Wa=!1,Ja=0,Qa=null,t)throw Error(o(300));null===e||Ns||null!==(e=e.dependencies)&&Pi(e)&&(Ns=!0)}function no(e,t,n,r){Ha=e;var i=0;do{if(Va&&(Qa=null),Ja=0,Va=!1,25<=i)throw Error(o(301));if(i+=1,$a=qa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=bs,a=t(n,r)}while(Va);return a}function ro(){var e=O.H,t=e.useState()[0];return t="function"==typeof t.then?co(t):t,e=e.useState()[0],(null!==qa?qa.memoizedState:null)!==e&&(Ha.flags|=1024),t}function io(){var e=0!==Ka;return Ka=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Wa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wa=!1}za=0,$a=qa=Ha=null,Va=!1,Ja=Ka=0,Qa=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$a?Ha.memoizedState=$a=e:$a=$a.next=e,$a}function lo(){if(null===qa){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=qa.next;var t=null===$a?Ha.memoizedState:$a.next;if(null!==t)$a=t,qa=e;else{if(null===e){if(null===Ha.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qa=e).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===$a?Ha.memoizedState=$a=e:$a=$a.next=e}return $a}function co(e){var t=Ja;return Ja+=1,null===Qa&&(Qa=[]),e=na(Qa,e,t),t=Ha,null===(null===$a?t.memoizedState:$a.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?gs:vs),e}function uo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return co(e);if(e.$$typeof===x)return Ii(e)}throw Error(o(438,String(e)))}function po(e){var t=null,n=Ha.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ha.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function fo(e,t){return"function"==typeof t?t(e):t}function ho(e){return mo(lo(),qa,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,p=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(gc&d)===d:(za&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===qi&&(p=!0);else{if((za&f)===f){u=u.next,f===qi&&(p=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=a):c=c.next=d,Ha.lanes|=f,Ec|=f}d=u.action,Ga&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,Ha.lanes|=d,Ec|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Xn(a,e.memoizedState)&&(Ns=!0,p&&null!==(n=$i)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xn(a,t.memoizedState)||(Ns=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vo(e,t,n){var r=Ha,i=lo(),a=pi;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((qa||i).memoizedState,n);if(s&&(i.memoizedState=n,Ns=!0),i=i.queue,Ho(wo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==$a&&1&$a.memoizedState.tag){if(r.flags|=2048,Mo(9,{destroy:void 0},yo.bind(null,r,i,n,t),null),null===hc)throw Error(o(349));a||127&za||bo(r,t,n)}return n}function bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ha.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function yo(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&ko(e)}function wo(e,t,n){return n(function(){xo(t)&&ko(e)})}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return!0}}function ko(e){var t=Nr(e,2);null!==t&&Kc(t,e,2)}function _o(e){var t=so();if("function"==typeof e){var n=e;if(e=n(),Ga){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function Eo(e,t,n,r){return e.baseState=n,mo(e,qa,"function"==typeof r?r:fo)}function Co(e,t,n,r,i){if(ds(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,So(t,a)):(a.next=n.next,t.pending=n.next=a)}}function So(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,o={};O.T=o;try{var s=n(i,r),l=O.S;null!==l&&l(o,s),Ao(e,t,s)}catch(n){Ro(e,t,n)}finally{null!==a&&null!==o.types&&(a.types=o.types),O.T=a}}else try{Ao(e,t,a=n(i,r))}catch(n){Ro(e,t,n)}}function Ao(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){To(e,t,n)},function(n){return Ro(e,t,n)}):To(e,t,n)}function To(e,t,n){t.status="fulfilled",t.value=n,Po(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,So(e,n)))}function Ro(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Po(t),t=t.next}while(t!==r)}e.action=null}function Po(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fo(e,t){return t}function Io(e,t){if(pi){var n=hc.formState;if(null!==n){e:{var r=Ha;if(pi){if(ui){t:{for(var i=ui,a=fi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Np(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Np(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},n.queue=r,n=cs.bind(null,Ha,r),r.dispatch=n,r=_o(!1),a=ps.bind(null,Ha,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=so()).queue=i,n=Co.bind(null,Ha,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function No(e){return Oo(lo(),qa,e)}function Oo(e,t,n){if(t=mo(e,t,Fo)[0],e=ho(fo)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=co(t)}catch(e){if(e===Yi)throw Zi;throw e}else r=t;var i=(t=lo()).queue,a=i.dispatch;return n!==t.memoizedState&&(Ha.flags|=2048,Mo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,a,e]}function Lo(e,t){e.action=t}function jo(e){var t=lo(),n=qa;if(null!==n)return Oo(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ha.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return lo().memoizedState}function Uo(e,t,n,r){var i=so();Ha.flags|=e,i.memoizedState=Mo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Bo(e,t,n,r){var i=lo();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==qa&&null!==r&&Za(r,qa.memoizedState.deps)?i.memoizedState=Mo(t,a,n,r):(Ha.flags|=e,i.memoizedState=Mo(1|t,a,n,r))}function zo(e,t){Uo(8390656,8,e,t)}function Ho(e,t){Bo(2048,8,e,t)}function qo(e){var t=lo().memoizedState;return function(e){Ha.flags|=4;var t=Ha.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fc)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function $o(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Vo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!=n?n.concat([e]):null,Bo(4,4,Vo.bind(null,t,e),n)}function Ko(){}function Jo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Za(t,r[1]))return r[0];if(r=e(),Ga){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r}function Yo(e,t,n){return void 0===n||1073741824&za&&!(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Ha.lanes|=e,Ec|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Aa.current?(e=Yo(e,n,r),Xn(e,t)||(Ns=!0),e):42&za&&(!(1073741824&za)||261930&gc)?(e=Gc(),Ha.lanes|=e,Ec|=e,t):(Ns=!0,e.memoizedState=n)}function Zo(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var o,s,l,c=O.T,u={};O.T=u,ps(e,!1,t,n);try{var p=i(),d=O.S;if(null!==d&&d(u,p),null!==p&&"object"==typeof p&&"function"==typeof p.then)us(e,t,(o=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},p.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<s.length;e++)(0,s[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l),Vc());else us(e,t,r,Vc())}catch(n){us(e,t,{then:function(){},status:"rejected",reason:n},Vc())}finally{L.p=a,null!==c&&null!==u.types&&(c.types=u.types),O.T=c}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ns(e).queue;Zo(e,i,t,j,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Vc())}function is(){return Ii(ud)}function as(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vc(),r=ya(t,e=ba(n),n);return null!==r&&(Kc(r,t,n),wa(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Vc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ds(e)?fs(t,n):null!==(n=Ir(e,t,n,r))&&(Kc(n,e,r),hs(n,t,r))}function cs(e,t,n){us(e,t,n,Vc())}function us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ds(e))fs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,o))return Fr(e,t,i,0),null===hc&&Pr(),!1}catch(e){}if(null!==(n=Ir(e,t,i,r)))return Kc(n,e,r),hs(n,t,r),!0}return!1}function ps(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(o(479))}else null!==(t=Ir(e,n,r,2))&&Kc(t,e,2)}function ds(e){var t=e.alternate;return e===Ha||null!==t&&t===Ha}function fs(e,t){Va=Wa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var ms={readContext:Ii,use:uo,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useLayoutEffect:Xa,useInsertionEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useDeferredValue:Xa,useTransition:Xa,useSyncExternalStore:Xa,useId:Xa,useHostTransitionStatus:Xa,useFormState:Xa,useActionState:Xa,useOptimistic:Xa,useMemoCache:Xa,useCacheRefresh:Xa};ms.useEffectEvent=Xa;var gs={readContext:Ii,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Uo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var r=e();if(Ga){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=so();if(void 0!==n){var i=n(t);if(Ga){ye(!0);try{n(t)}finally{ye(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ls.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=_o(e)).queue,n=cs.bind(null,Ha,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ko,useDeferredValue:function(e,t){return Yo(so(),e,t)},useTransition:function(){var e=_o(!1);return e=Zo.bind(null,Ha,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ha,i=so();if(pi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===hc)throw Error(o(349));127&gc||bo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,zo(wo.bind(null,r,a,e),[e]),r.flags|=2048,Mo(9,{destroy:void 0},yo.bind(null,r,a,n,t),null),n},useId:function(){var e=so(),t=hc.identifierPrefix;if(pi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Ka++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ya++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Io,useActionState:Io,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ps.bind(null,Ha,!0,n),n.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Ha)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(2&fc)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Ii,use:uo,useCallback:Jo,useContext:Ii,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:$o,useLayoutEffect:Wo,useMemo:Qo,useReducer:ho,useRef:Do,useState:function(){return ho(fo)},useDebugValue:Ko,useDeferredValue:function(e,t){return Xo(lo(),qa.memoizedState,e,t)},useTransition:function(){var e=ho(fo)[0],t=lo().memoizedState;return["boolean"==typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:as,useHostTransitionStatus:is,useFormState:No,useActionState:No,useOptimistic:function(e,t){return Eo(lo(),0,e,t)},useMemoCache:po,useCacheRefresh:os};vs.useEffectEvent=qo;var bs={readContext:Ii,use:uo,useCallback:Jo,useContext:Ii,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:$o,useLayoutEffect:Wo,useMemo:Qo,useReducer:go,useRef:Do,useState:function(){return go(fo)},useDebugValue:Ko,useDeferredValue:function(e,t){var n=lo();return null===qa?Yo(n,e,t):Xo(n,qa.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"==typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:as,useHostTransitionStatus:is,useFormState:jo,useActionState:jo,useOptimistic:function(e,t){var n=lo();return null!==qa?Eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:po,useCacheRefresh:os};function ys(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bs.useEffectEvent=qo;var ws={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vc(),i=ba(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=ya(e,i,r))&&(Kc(t,e,r),wa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vc(),i=ba(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=ya(e,i,r))&&(Kc(t,e,r),wa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vc(),r=ba(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ya(e,r,n))&&(Kc(t,e,n),wa(t,e,n))}};function xs(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function ks(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Es(e){Sr(e)}function Cs(e){}function Ss(e){Sr(e)}function As(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Ts(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Rs(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){As(e,t)},n}function Ps(e){return(e=ba(e)).tag=3,e}function Fs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ts(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Ts(t,n,r),"function"!=typeof i&&(null===jc?jc=new Set([this]):jc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Is=Error(o(461)),Ns=!1;function Os(e,t,n,r){t.child=null===e?ha(t,null,n,r):fa(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Fi(t),r=eo(e,t,n,o,a,i),s=io(),null===e||Ns?(pi&&s&&oi(t),t.flags|=1,Os(e,t,r,i),t.child):(ao(e,t,i),il(e,t,i))}function js(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,i))}if(a=e.child,!al(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Ns=!1,t.pendingProps=r=a,!al(e,i))return t.lanes=e.lanes,il(e,t,i);131072&e.flags&&(Ns=!0)}}return $s(e,t,n,r,i)}function Ds(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Bs(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Bs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==a?a.cachePool:null),null!==a?Ra(t,a):Pa(),ja(t)}else null!==a?(Ji(0,a.cachePool),Ra(t,a),Ma(),t.memoizedState=null):(null!==e&&Ji(0,null),Pa(),Ma());return Os(e,t,i,n),t.child}function Us(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bs(e,t,n,r,i){var a=Ki();return a=null===a?null:{parent:Di._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ji(0,null),Pa(),ja(t),null!==e&&Ri(e,t,r,!0),t.childLanes=i,null}function zs(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Hs(e,t,n){return fa(t,e.child,null,n),(e=zs(t,t.pendingProps)).flags|=2,Da(t),t.memoizedState=null,e}function qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function $s(e,t,n,r,i){return Fi(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Ns?(pi&&r&&oi(t),t.flags|=1,Os(e,t,n,i),t.child):(ao(e,t,i),il(e,t,i))}function Ws(e,t,n,r,i,a){return Fi(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Ns?(pi&&r&&oi(t),t.flags|=1,Os(e,t,n,a),t.child):(ao(e,t,a),il(e,t,a))}function Vs(e,t,n,r,i){if(Fi(t),null===t.stateNode){var a=jr,o=n.contextType;"object"==typeof o&&null!==o&&(a=Ii(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ws,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ga(t),o=n.contextType,a.context="object"==typeof o&&null!==o?Ii(o):jr,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(ys(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ws.enqueueReplaceState(a,a.state,null),Ea(t,r,a,i),_a(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=_s(n,s);a.props=l;var c=a.context,u=n.contextType;o=jr,"object"==typeof u&&null!==u&&(o=Ii(u));var p=n.getDerivedStateFromProps;u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s||c!==o)&&ks(t,a,r,o),ma=!1;var d=t.memoizedState;a.state=d,Ea(t,r,a,i),_a(),c=t.memoizedState,s||d!==c||ma?("function"==typeof p&&(ys(t,n,p,r),c=t.memoizedState),(l=ma||xs(t,n,l,r,d,c,o))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,va(e,t),u=_s(n,o=t.memoizedProps),a.props=u,p=t.pendingProps,d=a.context,c=n.contextType,l=jr,"object"==typeof c&&null!==c&&(l=Ii(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==p||d!==l)&&ks(t,a,r,l),ma=!1,d=t.memoizedState,a.state=d,Ea(t,r,a,i),_a();var f=t.memoizedState;o!==p||d!==f||ma||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"==typeof s&&(ys(t,n,s,r),f=t.memoizedState),(u=ma||xs(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,qs(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,n,i)):Os(e,t,n,i),t.memoizedState=a.state,e=t.child):e=il(e,t,i),e}function Gs(e,t,n,r){return yi(),t.flags|=256,Os(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Js(e){return{baseLanes:e,cachePool:Qi()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function Ys(e,t,n){var r,i=t.pendingProps,a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(pi){if(a?Oa(t):Ma(),(e=ui)?null!==(e=null!==(e=Pp(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Ip(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Ma(),l=Zs({mode:"hidden",children:l},a=t.mode),i=qr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Js(n),i.childLanes=Qs(e,r,n),t.memoizedState=Ks,Us(null,i)):(Oa(t),Xs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Oa(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),l=i.fallback,a=t.mode,i=Zs({mode:"visible",children:i.children},a),(l=qr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fa(t,e.child,null,n),(i=t.child).memoizedState=Js(n),i.childLanes=Qs(e,r,n),t.memoizedState=Ks,t=Us(null,i));else if(Oa(t),Ip(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,xi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ns||Ri(e,t,n,!1),r=0!==(n&e.childLanes),Ns||r){if(null!==(r=hc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Nr(e,i),Kc(r,e,i),Is;Fp(l)||ou(),t=el(e,t,n)}else Fp(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Np(l.nextSibling),ci=t,pi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Xs(t,i.children)).flags|=4096);return t}return a?(Ma(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=qr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Us(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Js(n):(null!==(a=l.cachePool)?(c=Di._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Qi(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Qs(e,r,n),t.memoizedState=Ks,Us(e.child,i)):(Oa(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xs(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=Dr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fa(t,e.child,null,n),(e=Xs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function nl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Ua.current,s=!!(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,z(Ua,o),Os(e,t,r,n),r=pi?Xr:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ri(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ns=!0;else{if(!(al(e,n)||128&t.flags))return Ns=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Ci(0,Di,e.memoizedState.cache),yi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ys(e,t,n):(Oa(t),null!==(e=il(e,t,n))?e.sibling:null);Oa(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ri(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,Ds(e,t,n,t.pendingProps);case 24:Ci(0,Di,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ns=!!(131072&e.flags)}else Ns=!1,pi&&1048576&t.flags&&ai(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ra(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===k){t.tag=11,t=Ls(null,t,e,r,n);break e}if(i===C){t.tag=14,t=js(null,t,e,r,n);break e}}throw t=I(e)||e,Error(o(306,t,""))}Ur(e)?(r=_s(e,r),t.tag=1,t=Vs(null,t,e,r,n)):(t.tag=0,t=$s(null,t,e,r,n))}return t;case 0:return $s(e,t,t.type,t.pendingProps,n);case 1:return Vs(e,t,r=t.type,i=_s(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,va(e,t),Ea(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ci(0,Di,r),r!==a.cache&&Ti(t,[Di],n,!0),_a(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Gs(e,t,r,n);break e}if(r!==i){xi(i=Kr(Error(o(424)),t)),t=Gs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Np(e.firstChild),ci=t,pi=!0,di=null,fi=!0,n=ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yi(),r===i){t=il(e,t,n);break e}Os(e,t,r,n)}t=t.child}return t;case 26:return qs(e,t),null===e?(n=Wp(t.type,null,t.pendingProps,null))?t.memoizedState=n:pi||(n=t.type,e=t.pendingProps,(r=gp(V.current).createElement(n))[ze]=t,r[He]=e,dp(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&pi&&(r=t.stateNode=Mp(t.type,t.pendingProps,V.current),ci=t,fi=!0,i=ui,Sp(t.type)?(Op=i,ui=Np(r.firstChild)):ui=i),Os(e,t,t.pendingProps.children,n),qs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&pi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Np(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Np(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),Q(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,yp(i,a)?r=null:null!==s&&yp(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),ud._currentValue=i),qs(e,t),Os(e,t,r,n),t.child;case 6:return null===e&&pi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Np(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Ys(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fa(t,null,r,n):Os(e,t,r,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return Os(e,t,t.pendingProps,n),t.child;case 8:case 12:return Os(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ci(0,t.type,r.value),Os(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Fi(t),r=r(i=Ii(i)),t.flags|=1,Os(e,t,r,n),t.child;case 14:return js(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(pi){if("hidden"===r.mode)return e=zs(t,r),t.lanes=536870912,Us(null,e);if(La(t),(e=ui)?null!==(e=null!==(e=Pp(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return zs(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=Hs(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ns||Ri(e,t,n,!1),i=0!==(n&e.childLanes),Ns||i){if(null!==(r=hc)&&0!==(s=Le(r,n))&&s!==a.retryLane)throw a.retryLane=s,Nr(e,s),Kc(r,e,s),Is;ou(),t=Hs(e,t,n)}else e=a.treeContext,ui=Np(s.nextSibling),ci=t,pi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=zs(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ds(e,t,n,t.pendingProps);case 24:return Fi(t),r=Ii(Di),null===e?(null===(i=Ki())&&(i=hc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ga(t),Ci(0,Di,i)):(0!==(e.lanes&n)&&(va(e,t),Ea(t,null,null,n),_a()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ci(0,Di,r)):(r=a.cache,Ci(0,Di,r),r!==i.cache&&Ti(t,[Di],n,!0))),Os(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw ia=ea,Xi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!ru())throw ia=ea,Xi;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Tc|=t)}function pl(e,t){if(!pi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Di),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?sl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,wi())),dl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(sl(t),null!==a?(dl(t),cl(t,a)):(dl(t),ll(t,i,0,0,n))):a?a!==e.memoizedState?(sl(t),dl(t),cl(t,a)):(dl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sl(t),dl(t),ll(t,i,0,0,n)),null;case 27:if(Y(t),n=V.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}e=$.current,bi(t)?gi(t):(e=Mp(i,r,n),t.stateNode=e,sl(t))}return dl(t),null;case 5:if(Y(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}if(a=$.current,bi(t))gi(t);else{var s=gp(V.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"==typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}a[ze]=t,a[He]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(dp(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sl(t)}}return dl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=V.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cp(e.nodeValue,n)))||mi(t,!0)}else(e=gp(e).createTextNode(r))[ze]=t,t.stateNode=e}return dl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else yi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Da(t),t):(Da(t),null);if(128&t.flags)throw Error(o(558))}return dl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else yi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Da(t),t):(Da(t),null)}return Da(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),dl(t),null);case 4:return J(),null===e&&Zu(t.stateNode.containerInfo),dl(t),null;case 10:return Si(t.type),dl(t),null;case 19:if(B(Ua),null===(r=t.memoizedState))return dl(t),null;if(i=!!(128&t.flags),null===(a=r.rendering))if(i)pl(r,!1);else{if(0!==_c||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Ba(e))){for(t.flags|=128,pl(r,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Ua,1&Ua.current|2),pi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,pl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Ba(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),pl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!pi)return dl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,pl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ua.current,z(Ua,i?1&n|2:1&n),pi&&ii(t,r.treeForkCount),e):(dl(t),null);case 22:case 23:return Da(t),Fa(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(dl(t),6&t.subtreeFlags&&(t.flags|=8192)):dl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Di),dl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function hl(e,t){switch(si(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Di),J(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Da(t),null===t.alternate)throw Error(o(340));yi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Da(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));yi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Ua),null;case 4:return J(),null;case 10:return Si(t.type),null;case 22:case 23:return Da(t),Fa(),null!==e&&B(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Di),null;default:return null}}function ml(e,t){switch(si(t),t.tag){case 3:Si(Di),J();break;case 26:case 27:case 5:Y(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Da(t);break;case 13:Da(t);break;case 19:B(Ua);break;case 10:Si(t.type);break;case 22:case 23:Da(t),Fa(),null!==e&&B(Gi);break;case 24:Si(Di)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){_u(t,t.return,e)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(e){_u(i,l,e)}}}r=r.next}while(r!==a)}}catch(e){_u(t,t.return,e)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Sa(t,n)}catch(t){_u(e,e.return,t)}}}function yl(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){_u(e,t,n)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){_u(e,t,n)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){_u(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){_u(e,t,n)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){_u(e,e.return,t)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,p=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&null!=d)switch(h){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(h)||up(e,t,h,null,r,d)}}for(var f in r){var h=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=h||null!=d))switch(f){case"type":a=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":p=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:h!==d&&up(e,t,f,h,r,d)}}return void bt(e,s,l,c,u,p,a,i);case"select":for(a in h=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(a)||up(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&up(e,t,i,a,r,c)}return t=l,n=s,r=h,void(null!=f?xt(e,!!n,f,!1):!!r!=!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in h=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:up(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&up(e,t,s,i,r,a)}return void kt(e,f,h);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else up(e,t,m,null,r,f);for(c in r)if(f=r[c],h=n[c],r.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else up(e,t,c,f,r,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&up(e,t,g,null,r,f);for(u in r)if(f=r[u],h=n[u],r.hasOwnProperty(u)&&f!==h&&(null!=f||null!=h))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:up(e,t,u,f,r,h)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&pp(e,t,v,void 0,r,f);for(p in r)f=r[p],h=n[p],!r.hasOwnProperty(p)||f===h||void 0===f&&void 0===h||pp(e,t,p,f,r,h);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!r.hasOwnProperty(b)&&up(e,t,b,null,r,f);for(d in r)f=r[d],h=n[d],!r.hasOwnProperty(d)||f===h||null==f&&null==h||up(e,t,d,f,r,h)}(r,e.type,n,t),r[He]=t}catch(t){_u(e,e.return,t)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sp(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sp(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&Sp(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Sl(e,t,n),e=e.sibling;null!==e;)Sl(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Sp(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function Tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dp(t,r,n),t[ze]=e,t[He]=n}catch(t){_u(e,e.return,t)}}var Rl=!1,Pl=!1,Fl=!1,Il="function"==typeof WeakSet?WeakSet:Set,Nl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&gl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){_u(n,n.return,e)}else{var i=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){_u(n,n.return,e)}}64&r&&bl(n),512&r&&wl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Sa(e,t)}catch(e){_u(n,n.return,e)}}break;case 27:null===t&&4&r&&Tl(n);case 26:case 5:Kl(e,n),null===t&&4&r&&kl(n),512&r&&wl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&Bl(e,n);break;case 13:Kl(e,n),4&r&&zl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Au.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||Pl,i=Rl;var a=Pl;Rl=r,(Pl=t)&&!a?Ql(e,n,!!(8772&n.subtreeFlags)):Kl(e,n),Rl=i,Pl=a}break;case 30:break;default:Kl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Ml=!1;function Dl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(be&&"function"==typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ve,n)}catch(e){}switch(n.tag){case 26:Pl||xl(n,t),Dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||xl(n,t);var r=jl,i=Ml;Sp(n.type)&&(jl=n.stateNode,Ml=!1),Dl(e,t,n),Dp(n.stateNode),jl=r,Ml=i;break;case 5:Pl||xl(n,t);case 6:if(r=jl,i=Ml,jl=null,Dl(e,t,n),Ml=i,null!==(jl=r))if(Ml)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(e){_u(n,t,e)}else try{jl.removeChild(n.stateNode)}catch(e){_u(n,t,e)}break;case 18:null!==jl&&(Ml?(Ap(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),$d(e)):Ap(jl,n.stateNode));break;case 4:r=jl,i=Ml,jl=n.stateNode.containerInfo,Ml=!0,Dl(e,t,n),jl=r,Ml=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),Dl(e,t,n);break;case 1:Pl||(xl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&yl(n,t,r)),Dl(e,t,n);break;case 21:Dl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Dl(e,t,n),Pl=r;break;default:Dl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{$d(e)}catch(e){_u(t,t.return,e)}}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{$d(e)}catch(e){_u(t,t.return,e)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Il),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Il),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Sp(l.type)){jl=l.stateNode,Ml=!1;break e}break;case 5:jl=l.stateNode,Ml=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===jl)throw Error(o(160));Ul(a,s,i),jl=null,Ml=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var $l=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Vl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:ql(t,e),Vl(e),512&r&&(Pl||null===n||xl(n,n.return)),64&r&&Rl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=$l;if(ql(t,e),Vl(e),512&r&&(Pl||null===n||xl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ke]||a[ze]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),dp(a,r,n),a[ze]=e,et(a),r=a;break e;case"link":var s=nd("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}dp(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=nd("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}dp(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[ze]=e,et(a),r=a}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=Yp(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?rd(i,e.type,e.stateNode):Yp(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Vl(e),512&r&&(Pl||null===n||xl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Vl(e),512&r&&(Pl||null===n||xl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(t){_u(e,e.return,t)}}4&r&&null!=e.stateNode&&_l(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Fl=!0);break;case 6:if(ql(t,e),Vl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){_u(e,e.return,t)}}break;case 3:if(td=null,i=$l,$l=zp(t.containerInfo),ql(t,e),$l=i,Vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$d(t.containerInfo)}catch(t){_u(e,e.return,t)}Fl&&(Fl=!1,Gl(e));break;case 4:r=$l,$l=zp(e.stateNode.containerInfo),ql(t,e),Vl(e),$l=r;break;case 12:default:ql(t,e),Vl(e);break;case 31:case 19:ql(t,e),Vl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:ql(t,e),Vl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Ic=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Rl,p=Pl;if(Rl=u||i,Pl=p||c,ql(t,e),Pl=p,Rl=u,Vl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Rl||Pl||Jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){_u(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){_u(c,c.return,e)}}}else if(18===t.tag){if(null===n){c=t;try{var h=c.stateNode;i?Tp(h,!0):Tp(c.stateNode,!1)}catch(e){_u(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Vl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Al(e,Cl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),Al(e,Cl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Sl(e,Cl(e),s);break;default:throw Error(o(161))}}catch(t){_u(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Jl(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&yl(t,t.return,n),Jl(t);break;case 27:Dp(t.stateNode);case 26:case 5:xl(t,t.return),Jl(t);break;case 22:null===t.memoizedState&&Jl(t);break;default:Jl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(i,a,n),gl(4,a);break;case 1:if(Ql(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){_u(r,r.return,e)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ca(l[i],s)}catch(e){_u(r,r.return,e)}}n&&64&o&&bl(a),wl(a,a.return);break;case 27:Tl(a);case 26:case 5:Ql(i,a,n),n&&null===r&&4&o&&kl(a),wl(a,a.return);break;case 12:Ql(i,a,n);break;case 31:Ql(i,a,n),n&&4&o&&Bl(i,a);break;case 13:Ql(i,a,n),n&&4&o&&zl(i,a);break;case 22:null===a.memoizedState&&Ql(i,a,n),wl(a,a.return);break;case 30:break;default:Ql(i,a,n)}t=t.sibling}}function Yl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){_u(t,t.return,e)}}else Zl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Zl(e,t,n,r):nc(e,t):2&a._visibility?Zl(e,t,n,r):(a._visibility|=2,tc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Yl(o,t);break;case 24:Zl(e,t,n,r),2048&i&&Xl(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(a,o,s,l,i),gl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tc(a,o,s,l,i):nc(a,o):(u._visibility|=2,tc(a,o,s,l,i)),i&&2048&c&&Yl(o.alternate,o);break;case 24:tc(a,o,s,l,i),i&&2048&c&&Xl(o.alternate,o);break;default:tc(a,o,s,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Yl(r.alternate,r);break;case 24:nc(n,r),2048&i&&Xl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Vp(r.href),a=t.querySelector(Gp(i));if(a)return null!==(t=a._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Kp(r),(i=Up.get(i))&&Zp(r,i),et(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),dp(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,$l,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=$l;$l=zp(e.stateNode.containerInfo),ic(e,t,n),$l=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,uc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,uc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var i=(r=Nl).sibling,a=r.return;if(Ll(r),r===n){Nl=null;break e}if(null!==i){i.return=a,Nl=i;break e}Nl=a}}}var pc={getCacheForType:function(e){var t=Ii(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ii(Di).controller.signal}},dc="function"==typeof WeakMap?WeakMap:Map,fc=0,hc=null,mc=null,gc=0,vc=0,bc=null,yc=!1,wc=!1,xc=!1,kc=0,_c=0,Ec=0,Cc=0,Sc=0,Ac=0,Tc=0,Rc=null,Pc=null,Fc=!1,Ic=0,Nc=0,Oc=1/0,Lc=null,jc=null,Mc=0,Dc=null,Uc=null,Bc=0,zc=0,Hc=null,qc=null,$c=0,Wc=null;function Vc(){return 2&fc&&0!==gc?gc&-gc:null!==O.T?Hu():De()}function Gc(){if(0===Ac)if(536870912&gc&&!pi)Ac=536870912;else{var e=Ee;!(3932160&(Ee<<=1))&&(Ee=262144),Ac=e}return null!==(e=Ia.current)&&(e.flags|=32),Ac}function Kc(e,t,n){(e!==hc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,gc,Ac,!1)),Ie(e,n),2&fc&&e===hc||(e===hc&&(!(2&fc)&&(Cc|=n),4===_c&&Xc(e,gc,Ac,!1)),Lu(e))}function Jc(e,t,n){if(6&fc)throw Error(o(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=iu(),i=au();hc!==e||gc!==t?(Lc=null,Oc=le()+500,tu(e,t)):wc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var a=bc;t:switch(vc){case 1:vc=0,bc=null,du(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,bc=null,pu(t);break}t=function(){2!==vc&&9!==vc||hc!==e||(vc=7),Lu(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,bc=null,pu(t)):(vc=0,bc=null,du(e,t,a,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?id(s):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,bc=null,du(e,t,a,5);break;case 6:vc=0,bc=null,du(e,t,a,6);break;case 8:eu(),_c=6;break e;default:throw Error(o(462))}}cu();break}catch(t){nu(e,t)}return Ei=_i=null,O.H=r,O.A=i,fc=n,null!==mc?0:(hc=null,gc=0,Pr(),_c)}(e,t):su(e,t,!0),a=r;;){if(0===i){wc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!a||Yc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(xc&&!c){l.errorRecoveryDisabledLanes|=a,Cc|=a,i=4;break e}a=Pc,Pc=i,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){tu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Ac,!yc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Ic+300-le())){if(Xc(r,t,Ac,!yc),0!==Ae(r,0,!0))break e;Bc=t,r.timeoutHandle=xp(Qc.bind(null,r,n,Pc,Lc,Fc,t,Ac,Cc,Tc,yc,a,"Throttled",-0,0),i)}else Qc(r,n,Pc,Lc,Fc,t,Ac,Cc,Tc,yc,a,null,-0,0)}break}i=su(e,t,!1),a=!1}Lu(e)}function Qc(e,t,n,r,i,a,o,s,l,c,u,p,d,f){if(e.timeoutHandle=-1,8192&(p=t.subtreeFlags)||!(16785408&~p)){ac(t,a,p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var h=(62914560&a)===a?Ic-le():(4194048&a)===a?Nc-le():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&ld(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ad&&(ad=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&fp(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,p=l.initiatorType;u&&fp(p)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ad?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(p,h)))return Bc=a,e.cancelPendingCommit=h(mu.bind(null,e,t,a,n,r,i,o,s,l,u,p,null,d,f)),void Xc(e,a,o,!c)}mu(e,t,a,n,r,i,o,s,l)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Sc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-we(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Ne(e,n,t)}function Zc(){return!!(6&fc)||(ju(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Ei=_i=null,oo(e=mc),sa=null,la=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kp(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,eu(),hc=e,mc=n=Br(e.current,null),gc=t,vc=0,bc=null,yc=!1,wc=Te(e,t),xc=!1,Tc=Ac=Sc=Cc=Ec=_c=0,Pc=Rc=null,Fc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),a=1<<i;t|=e[i],r&=~a}return kc=t,Pr(),n}function nu(e,t){Ha=null,O.H=ms,t===Yi||t===Zi?(t=aa(),vc=3):t===Xi?(t=aa(),vc=4):vc=t===Is?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,bc=t,null===mc&&(_c=1,As(e,Kr(t,e.current)))}function ru(){var e=Ia.current;return null===e||((4194048&gc)===gc?null===Na:!!((62914560&gc)===gc||536870912&gc)&&e===Na)}function iu(){var e=O.H;return O.H=ms,null===e?ms:e}function au(){var e=O.A;return O.A=pc,e}function ou(){_c=4,yc||(4194048&gc)!==gc&&null!==Ia.current||(wc=!0),!(134217727&Ec)&&!(134217727&Cc)||null===hc||Xc(hc,gc,Ac,!1)}function su(e,t,n){var r=fc;fc|=2;var i=iu(),a=au();hc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var o=_c;e:for(;;)try{if(0!==vc&&null!==mc){var s=mc,l=bc;switch(vc){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Ia.current&&(t=!0);var c=vc;if(vc=0,bc=null,du(e,s,l,c),n&&wc){o=0;break e}break;default:c=vc,vc=0,bc=null,du(e,s,l,c)}}lu(),o=_c;break}catch(t){nu(e,t)}return t&&e.shellSuspendCounter++,Ei=_i=null,fc=r,O.H=i,O.A=a,null===mc&&(hc=null,gc=0,Pr()),o}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!oe();)uu(mc)}function uu(e){var t=ol(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ws(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Ws(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:ml(n,t),t=ol(n,t=mc=zr(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e,t,n,r){Ei=_i=null,oo(t),sa=null,la=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ri(t,n,i,!0),null!==(n=Ia.current)){switch(n.tag){case 31:case 13:return null===Na?ou():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(o(435,n.tag))}return Eu(e,r,i),ou(),!1}if(pi)return null!==(t=Ia.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==hi&&xi(Kr(e=Error(o(422),{cause:r}),n))):(r!==hi&&xi(Kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Kr(r,n),xa(e,i=Rs(e.stateNode,r,i)),4!==_c&&(_c=2)),!1;var a=Error(o(520),{cause:r});if(a=Kr(a,n),null===Rc?Rc=[a]:Rc.push(a),4!==_c&&(_c=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xa(n,e=Rs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==jc&&jc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Fs(i=Ps(i),e,n,r),xa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return _c=1,As(e,Kr(n,e.current)),void(mc=null)}catch(t){if(null!==i)throw mc=i,t;return _c=1,As(e,Kr(n,e.current)),void(mc=null)}32768&t.flags?(pi||1===r?e=!0:wc||536870912&gc?e=!1:(yc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ia.current)&&13===r.tag&&(r.flags|=16384))),hu(t,e)):fu(t)}function fu(e){var t=e;do{if(32768&t.flags)return void hu(t,yc);e=t.return;var n=fl(t.alternate,t,kc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===_c&&(_c=5)}function hu(e,t){do{var n=hl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);_c=6,mc=null}function mu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Mc);if(6&fc)throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-we(n),p=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~p}0!==r&&Ne(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Rr,s,l,c),e===hc&&(mc=hc=null,gc=0),Uc=t,Dc=e,Bc=n,zc=a,Hc=i,qc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=O.T,O.T=null,i=L.p,L.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,hp=yd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,p=0,d=e,f=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++p===r&&(c=s),null!==(h=d.nextSibling))break;f=(d=f).parentNode}d=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mp={focusedElem:e,selectionRange:n},yd=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(a=(t=Nl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=_s(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){_u(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rp(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rp(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{fc=s,L.p=i,O.T=r}}Mc=1,gu(),vu(),bu()}}function gu(){if(1===Mc){Mc=0;var e=Dc,t=Uc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fc;fc|=4;try{Wl(t,e);var a=mp,o=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ir(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var p=s.ownerDocument||document,d=p&&p.defaultView||window;if(d.getSelection){var f=d.getSelection(),h=s.textContent.length,m=Math.min(l.start,h),g=void 0===l.end?m:Math.min(l.end,h);!f.extend&&m>g&&(o=g,g=m,m=o);var v=tr(s,m),b=tr(s,g);if(v&&b&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var y=p.createRange();y.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(y),f.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),f.addRange(y))}}}}for(p=[],f=s;f=f.parentNode;)1===f.nodeType&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<p.length;s++){var w=p[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}yd=!!hp,mp=hp=null}finally{fc=i,L.p=r,O.T=n}}e.current=t,Mc=2}}function vu(){if(2===Mc){Mc=0;var e=Dc,t=Uc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fc;fc|=4;try{Ol(e,t.alternate,t)}finally{fc=i,L.p=r,O.T=n}}Mc=3}}function bu(){if(4===Mc||3===Mc){Mc=0,se();var e=Dc,t=Uc,n=Bc,r=qc;10256&t.subtreeFlags||10256&t.flags?Mc=5:(Mc=0,Uc=Dc=null,yu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(jc=null),Me(n),t=t.stateNode,be&&"function"==typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ve,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{O.T=t,L.p=i}}3&Bc&&wu(),Lu(e),i=e.pendingLanes,261930&n&&42&i?e===Wc?$c++:($c=0,Wc=e):$c=0,ju(0,!1)}}function yu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function wu(){return gu(),vu(),bu(),xu()}function xu(){if(5!==Mc)return!1;var e=Dc,t=zc;zc=0;var n=Me(Bc),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=Hc,Hc=null;var a=Dc,s=Bc;if(Mc=0,Uc=Dc=null,Bc=0,6&fc)throw Error(o(331));var l=fc;if(fc|=4,lc(a.current),ec(a,a.current,s,n),fc=l,ju(0,!1),be&&"function"==typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ve,a)}catch(e){}return!0}finally{L.p=i,O.T=r,yu(e,t)}}function ku(e,t,n){t=Kr(n,t),null!==(e=ya(e,t=Rs(e.stateNode,t,2),2))&&(Ie(e,2),Lu(e))}function _u(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===jc||!jc.has(r))){e=Kr(n,e),null!==(r=ya(t,n=Ps(2),2))&&(Fs(n,r,t,e),Ie(r,2),Lu(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(xc=!0,i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hc===e&&(gc&n)===n&&(4===_c||3===_c&&(62914560&gc)===gc&&300>le()-Ic?!(2&fc)&&tu(e,0):Sc|=n,Tc===gc&&(Tc=0)),Lu(e)}function Su(e,t){0===t&&(t=Pe()),null!==(e=Nr(e,t))&&(Ie(e,t),Lu(e))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Su(e,n)}var Ru=null,Pu=null,Fu=!1,Iu=!1,Nu=!1,Ou=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?Ru=Pu=e:Pu=Pu.next=e),Iu=!0,Fu||(Fu=!0,Ep(function(){6&fc?ie(ue,Mu):Du()}))}function ju(e,t){if(!Nu&&Iu){Nu=!0;do{for(var n=!1,r=Ru;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,zu(r,a))}else a=gc,!(3&(a=Ae(r,r===hc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,a)||(n=!0,zu(r,a));r=r.next}}while(n);Nu=!1}}function Mu(){Du()}function Du(){Iu=Fu=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wp&&(wp=e,!0);return wp=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Ru;null!==r;){var i=r.next,a=Uu(r,t);0===a?(r.next=null,null===n?Ru=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||3&a)&&(Iu=!0)),r=i}0!==Mc&&5!==Mc||ju(e,!1),0!==Ou&&(Ou=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-we(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Re(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=gc,n=Ae(e,e===(t=hc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Me(n)){case 2:case 8:n=pe;break;case 32:default:n=de;break;case 268435456:n=he}return r=Bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ae(e,e===hc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function zu(e,t){if(wu())return null;Jc(e,t,!0)}function Hu(){if(0===Ou){var e=qi;0===e&&(e=_e,!(261888&(_e<<=1))&&(_e=256)),Ou=e}return Ou}function qu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ft(""+e)}function $u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Er.length;Wu++){var Vu=Er[Wu];Cr(Vu.toLowerCase(),"on"+(Vu[0].toUpperCase()+Vu.slice(1)))}Cr(gr,"onAnimationEnd"),Cr(vr,"onAnimationIteration"),Cr(br,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(yr,"onTransitionRun"),Cr(wr,"onTransitionStart"),Cr(xr,"onTransitionCancel"),Cr(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Ju(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(e){Sr(e)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(e){Sr(e)}i.currentTarget=null,a=l}}}}function Qu(e,t){var n=t[$e];void 0===n&&(n=t[$e]=new Set);var r=e+"__bubble";n.has(r)||(ep(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),ep(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Yu(t,!1,e),Yu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Yu("selectionchange",!1,t))}}function ep(e,t,n,r){switch(Sd(t)){case 2:var i=wd;break;case 8:i=xd;break;default:i=kd}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tp(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Qe(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Ut(function(){var r=a,i=Ot(n),o=[];e:{var s=_r.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case vr:case br:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=_n}var p=!!(4&t),d=!p&&("scroll"===e||"scrollend"===e),f=p?null!==s?s+"Capture":null:s;p=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Bt(m,f))&&p.push(np(m,g,h)),d)break;m=m.return}0<p.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:p}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[qe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(d=l(u),p=u.tag,u!==d||5!==p&&27!==p&&6!==p)&&(u=null)):(c=null,u=r),c!==u)){if(p=sn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(p=yn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?s:Xe(c),h=null==u?s:Xe(u),(s=new p(g,m+"leave",c,n,i)).target=d,s.relatedTarget=h,g=null,Qe(i)===r&&((p=new p(f,m+"enter",u,n,i)).target=h,p.relatedTarget=d,g=p),d=g,c&&u)e:{for(p=ip,m=u,h=0,g=f=c;g;g=p(g))h++;g=0;for(var v=m;v;v=p(v))g++;for(;0<h-g;)f=p(f),h--;for(;0<g-h;)m=p(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){p=f;break e}f=p(f),m=p(m)}p=null}else p=null;null!==c&&ap(o,s,c,p,!1),null!==u&&null!==d&&ap(o,d,u,p,!0)}if("select"===(c=(s=r?Xe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var b=zn;else if(Ln(s))if(Hn)b=Yn;else{b=Jn;var y=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(b=zn):b=Qn;switch(b&&(b=b(e,r))?jn(o,b,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),y=r?Xe(r):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(or=y,sr=r,lr=null);break;case"focusout":lr=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(o,n,i)}var w;if(Cn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Nn?Fn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Tn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Nn&&(w=Gt()):(Wt="value"in($t=i)?$t.value:$t.textContent,Nn=!0)),0<(y=rp(r,x)).length&&(x=new dn(x,e,null,n,i),o.push({event:x,listeners:y}),w?x.data=w:null!==(w=In(n))&&(x.data=w))),(w=An?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Pn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!Cn&&Fn(e,t)?(e=Gt(),Vt=Wt=$t=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=rp(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:x}),y.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=qu((i[He]||null).action),o=r.submitter;o&&null!==(t=(t=o[He]||null)?qu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new nn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=o?$u(i,o):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(s.preventDefault(),e=o?$u(i,o):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ju(o,t)})}function np(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rp(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Bt(e,n))&&r.unshift(np(e,i,a)),null!=(i=Bt(e,t))&&r.push(np(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ip(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ap(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Bt(n,a))&&o.unshift(np(n,c,l)):i||null!=(c=Bt(n,a))&&o.push(np(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var op=/\r\n?/g,sp=/\u0000|\uFFFD/g;function lp(e){return("string"==typeof e?e:""+e).replace(op,"\n").replace(sp,"")}function cp(e,t){return t=lp(t),lp(e)===t}function up(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ft(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&up(e,t,"name",i.name,i,null),up(e,t,"formEncType",i.formEncType,i,null),up(e,t,"formMethod",i.formMethod,i,null),up(e,t,"formTarget",i.formTarget,i,null)):(up(e,t,"encType",i.encType,i,null),up(e,t,"method",i.method,i,null),up(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ft(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=It);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Ft(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Rt.get(n)||n,r)}}function pp(e,t,n,r,i,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Et(e,r):("number"==typeof r||"bigint"==typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[He]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dp(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:up(e,t,r,s,n,null)}}return a&&up(e,t,"srcSet",n.srcSet,n,null),void(i&&up(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(null!=p)switch(i){case"name":a=p;break;case"type":s=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":r=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:up(e,t,i,p,n,null)}}return void yt(e,r,l,c,u,s,a,!1);case"select":for(a in Qu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:up(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(s in Qu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:up(e,t,s,l,n,null)}return void _t(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else up(e,t,c,i,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Qu(Gu[i],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:up(e,t,u,i,n,null)}return;default:if(Tt(t)){for(p in n)n.hasOwnProperty(p)&&(void 0!==(i=n[p])&&pp(e,t,p,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&up(e,t,l,i,n,null))}function fp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hp=null,mp=null;function gp(e){return 9===e.nodeType?e:e.ownerDocument}function vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yp(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wp=null;var xp="function"==typeof setTimeout?setTimeout:void 0,kp="function"==typeof clearTimeout?clearTimeout:void 0,_p="function"==typeof Promise?Promise:void 0,Ep="function"==typeof queueMicrotask?queueMicrotask:void 0!==_p?function(e){return _p.resolve(null).then(e).catch(Cp)}:xp;function Cp(e){setTimeout(function(){throw e})}function Sp(e){return"head"===e}function Ap(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void $d(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Dp(e.ownerDocument.documentElement);else if("head"===n){Dp(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ke]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Dp(e.ownerDocument.body);n=i}while(n);$d(t)}function Tp(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rp(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rp(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pp(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Np(e.nextSibling)))return null}return e}function Fp(e){return"$?"===e.data||"$~"===e.data}function Ip(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Np(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Op=null;function Lp(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Np(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function jp(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Mp(e,t,n){switch(t=gp(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Dp(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Up=new Map,Bp=new Set;function zp(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hp=L.d;L.d={f:function(){var e=Hp.f(),t=Zc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Hp.r(e)},D:function(e){Hp.D(e),$p("dns-prefetch",e,null)},C:function(e,t){Hp.C(e,t),$p("preconnect",e,t)},L:function(e,t,n){Hp.L(e,t,n);var r=qp;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Vp(e);break;case"script":a=Jp(e)}Up.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Up.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gp(a))||"script"===t&&r.querySelector(Qp(a))||(dp(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hp.m(e,t);var n=qp;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Jp(e)}if(!Up.has(a)&&(e=f({rel:"modulepreload",href:e},t),Up.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qp(a)))return}dp(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hp.X(e,t);var n=qp;if(n&&e){var r=Ze(n).hoistableScripts,i=Jp(e),a=r.get(i);a||((a=n.querySelector(Qp(i)))||(e=f({src:e,async:!0},t),(t=Up.get(i))&&ed(e,t),et(a=n.createElement("script")),dp(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Hp.S(e,t,n);var r=qp;if(r&&e){var i=Ze(r).hoistableStyles,a=Vp(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gp(a)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Up.get(a))&&Zp(e,n);var l=o=r.createElement("link");et(l),dp(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Xp(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Hp.M(e,t);var n=qp;if(n&&e){var r=Ze(n).hoistableScripts,i=Jp(e),a=r.get(i);a||((a=n.querySelector(Qp(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Up.get(i))&&ed(e,t),et(a=n.createElement("script")),dp(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var qp="undefined"==typeof document?null:document;function $p(e,t,n){var r=qp;if(r&&"string"==typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Bp.has(i)||(Bp.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dp(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wp(e,t,n,r){var i,a,s,l,c=(c=V.current)?zp(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Vp(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Vp(n.href);var u=Ze(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(Gp(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Up.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Up.set(e,n),u||(i=c,a=e,s=n,l=p.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),dp(a,"link",s),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return p}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Jp(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Vp(e){return'href="'+vt(e)+'"'}function Gp(e){return'link[rel="stylesheet"]['+e+"]"}function Kp(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Jp(e){return'[src="'+vt(e)+'"]'}function Qp(e){return"script[async]"+e}function Yp(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dp(r,"style",i),Xp(r,n.precedence,e),t.instance=r;case"stylesheet":i=Vp(n.href);var a=e.querySelector(Gp(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Kp(n),(i=Up.get(i))&&Zp(r,i),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),dp(a,"link",r),t.state.loading|=4,Xp(a,n.precedence,e),t.instance=a;case"script":return a=Jp(n.src),(i=e.querySelector(Qp(a)))?(t.instance=i,et(i),i):(r=n,(i=Up.get(a))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dp(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xp(r,n.precedence,e));return t.instance}function Xp(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ke]||a[ze]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var ad=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sd=null;function ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sd=new Map,t.forEach(cd,e),sd=null,od.call(e))}function cd(e,t){if(!(4&t.state.loading)){var n=sd.get(e);if(n)var r=n.get(null);else{n=new Map,sd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var ud={$$typeof:x,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function pd(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,a,o,s,l,c,u,p){return e=new pd(e,t,n,o,l,c,u,p,s),t=1,!0===a&&(t|=24),a=Dr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ga(a),e}function fd(e){return e?e=jr:jr}function hd(e,t,n,r,i,a){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ya(e,r,t))&&(Kc(n,0,t),wa(n,e,t))}function md(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gd(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Nr(e,67108864);null!==t&&Kc(t,0,67108864),gd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Vc(),n=Nr(e,t=je(t));null!==n&&Kc(n,0,t),gd(e,t)}}var yd=!0;function wd(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=2,kd(e,t,n,r)}finally{L.p=a,O.T=i}}function xd(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=8,kd(e,t,n,r)}finally{L.p=a,O.T=i}}function kd(e,t,n,r){if(yd){var i=_d(r);if(null===i)tp(e,t,r,Ed,n),Ld(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Td=jd(Td,e,t,n,r,i),!0;case"dragenter":return Rd=jd(Rd,e,t,n,r,i),!0;case"mouseover":return Pd=jd(Pd,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Fd.set(a,jd(Fd.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Id.set(a,jd(Id.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ld(e,r),4&t&&-1<Od.indexOf(e)){for(;null!==i;){var a=Ye(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Se(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-we(o);s.entanglements[1]|=l,o&=~l}Lu(a),!(6&fc)&&(Oc=le()+500,ju(0,!1))}}break;case 31:case 13:null!==(s=Nr(a,2))&&Kc(s,0,2),Zc(),gd(a,2)}if(null===(a=_d(r))&&tp(e,t,r,Ed,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else tp(e,t,r,null,n)}}function _d(e){return Cd(e=Ot(e))}var Ed=null;function Cd(e){if(Ed=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ed=e,null}function Sd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case pe:return 8;case de:case fe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Ad=!1,Td=null,Rd=null,Pd=null,Fd=new Map,Id=new Map,Nd=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Td=null;break;case"dragenter":case"dragleave":Rd=null;break;case"mouseover":case"mouseout":Pd=null;break;case"pointerover":case"pointerout":Fd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(t.pointerId)}}function jd(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ye(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Md(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_d(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Ud(e,t,n){Dd(e)&&n.delete(t)}function Bd(){Ad=!1,null!==Td&&Dd(Td)&&(Td=null),null!==Rd&&Dd(Rd)&&(Rd=null),null!==Pd&&Dd(Pd)&&(Pd=null),Fd.forEach(Ud),Id.forEach(Ud)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bd)))}var Hd=null;function qd(e){Hd!==e&&(Hd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hd===e&&(Hd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===Cd(r||n))continue;break}var a=Ye(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function $d(e){function t(t){return zd(t,e)}null!==Td&&zd(Td,e),null!==Rd&&zd(Rd,e),null!==Pd&&zd(Pd,e),Fd.forEach(t),Id.forEach(t);for(var n=0;n<Nd.length;n++){var r=Nd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Nd.length&&null===(n=Nd[0]).blockedOn;)Md(n),null===n.blockedOn&&Nd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[He]||null;if("function"==typeof a)o||qd(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[He]||null)s=o.formAction;else if(null!==Cd(i))continue}else s=o.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),qd(n)}}}function Wd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Vd(e){this._internalRoot=e}function Gd(e){this._internalRoot=e}Gd.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));hd(t.current,Vc(),e,t,null,null)},Gd.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hd(e.current,2,null,e,null,null),Zc(),t[qe]=null}},Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nd.length&&0!==t&&t<Nd[n].priority;n++);Nd.splice(n,0,e),0===n&&Md(e)}};var Kd=i.version;if("19.2.0"!==Kd)throw Error(o(527,Kd,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return p(i),e;if(a===r)return p(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Jd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{ve=Qd.inject(Jd),be=Qd}catch(e){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=Es,a=Cs,l=Ss;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,a,l,Wd),e[qe]=t.current,Zu(e),new Vd(t)}},1284:(e,t,n)=>{"use strict";const r=globalThis.AbortController||n(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:l}=n(8526),{validateAbortSignal:c,validateInteger:u,validateObject:p}=n(2224),d=n(4641).Symbol("kWeak"),f=n(4641).Symbol("kResistStopPropagation"),{finished:h}=n(9365),m=n(8489),{addAbortSignalNoValidate:g}=n(810),{isWritable:v,isNodeStream:b}=n(136),{deprecate:y}=n(6017),{ArrayPrototypePush:w,Boolean:x,MathFloor:k,Number:_,NumberIsNaN:E,Promise:C,PromiseReject:S,PromiseResolve:A,PromisePrototypeThen:T,Symbol:R}=n(4641),P=R("kEmpty"),F=R("kEof");function I(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);null!=t&&p(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal");let r=1;null!=(null==t?void 0:t.concurrency)&&(r=k(t.concurrency));let i=r-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=k(t.highWaterMark)),u(r,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=r,async function*(){const a=n(6017).AbortSignalAny([null==t?void 0:t.signal].filter(x)),o=this,s=[],c={signal:a};let u,p,d=!1,f=0;function h(){d=!0,m()}function m(){f-=1,g()}function g(){p&&!d&&f<r&&s.length<i&&(p(),p=null)}!async function(){try{for await(let t of o){if(d)return;if(a.aborted)throw new l;try{if(t=e(t,c),t===P)continue;t=A(t)}catch(e){t=S(e)}f+=1,T(t,m,h),s.push(t),u&&(u(),u=null),!d&&(s.length>=i||f>=r)&&await new C(e=>{p=e})}s.push(F)}catch(e){const t=S(e);T(t,m,h),s.push(t)}finally{d=!0,u&&(u(),u=null)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===F)return;if(a.aborted)throw new l;e!==P&&(yield e),s.shift(),g()}await new C(e=>{u=e})}}finally{d=!0,p&&(p(),p=null)}}.call(this)}async function N(e,t=void 0){for await(const n of O.call(this,e,t))return!0;return!1}function O(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return I.call(this,async function(t,n){return await e(t,n)?t:P},t)}class L extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=_(e),E(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:y(function(e=void 0){return null!=e&&p(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&p(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=j(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield n)}}.call(this)},filter:O,flatMap:function(e,t){const n=I.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:I,take:function(e,t=void 0){return null!=t&&p(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=j(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(e-- >0&&(yield n),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&p(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),b(e)&&!v(e))throw new i("stream",e,"must be writable");const n=m(this,e);return null!=t&&t.signal&&g(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return!await N.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);for await(const n of I.call(this,async function(t,n){return await e(t,n),P},t));},reduce:async function(e,t,n){var i;if("function"!=typeof e)throw new a("reducer",["Function","AsyncFunction"],e);null!=n&&p(n,"options"),null!=(null==n?void 0:n.signal)&&c(n.signal,"options.signal");let o=arguments.length>1;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(e)),e}const s=new r,u=s.signal;if(null!=n&&n.signal){const e={once:!0,[d]:this,[f]:!0};n.signal.addEventListener("abort",()=>s.abort(),e)}let m=!1;try{for await(const r of this){var g;if(m=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new l;o?t=await e(t,r,{signal:u}):(t=r,o=!0)}if(!m&&!o)throw new L}finally{s.abort()}return t},toArray:async function(e){null!=e&&p(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,r)}return t},some:N,find:async function(e,t){for await(const n of O.call(this,e,t))return n}}},1332:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,i=40,a=10;function o(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,i=0,a=0,o=null,s=null;for(let l=0;l<t;l++){i=a=0,o=s=null;for(let c=0;c<t;c++){let t=e.get(l,c);t===o?i++:(i>=5&&(r+=n+(i-5)),o=t,i=1),t=e.get(c,l),t===s?a++:(a>=5&&(r+=n+(a-5)),s=t,a=1)}i>=5&&(r+=n+(i-5)),a>=5&&(r+=n+(a-5))}return r},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==t&&0!==t||n++}return n*r},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,a=0;for(let i=0;i<t;i++){r=a=0;for(let o=0;o<t;o++)r=r<<1&2047|e.get(i,o),o>=10&&(1488===r||93===r)&&n++,a=a<<1&2047|e.get(o,i),o>=10&&(1488===a||93===a)&&n++}return n*i},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*a},t.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,a=1/0;for(let o=0;o<r;o++){n(o),t.applyMask(o,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),r<a&&(a=r,i=o)}return i}},1333:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userNotLoggedInErrorMessage=t.logInAddMeToYourFriendsButtonText=t.loadingMessage=t.internalErrorMessage=t.friendWasAddedSuccesMessage=t.friendExistsMessage=t.friendExistsAlreadyButtonText=t.chatWithMeButtonText=t.addMeToYourFriendsButtonText=void 0;t.userNotLoggedInErrorMessage="Current user not found! Not logged in?",t.internalErrorMessage="An internal error occured!",t.friendWasAddedSuccesMessage="Friend was added!",t.friendExistsMessage="Friend already exists",t.loadingMessage="Loading...",t.addMeToYourFriendsButtonText="Add me to your friend list",t.logInAddMeToYourFriendsButtonText="Login to add me to your friend list",t.friendExistsAlreadyButtonText="Already part of friend list",t.chatWithMeButtonText="Chat with me"},1424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataContentPane=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.dataContentPane={icon:r.icons.originalIconBase+"rdf_flyer.24.gif",name:"dataContents",audience:[o.solid("Developer")],label:function(e,t){if("http://www.w3.org/2007/ont/link#ProtocolEvent"in t.session.store.findTypeURIs(e))return null;const n=t.session.store.statementsMatching(void 0,void 0,void 0,e).length;return 0===n?null:"Data ("+n+")"},statementsAsTables:function(e,t,n){const a=t.dom,o=a.createElement("table"),s=i.Serializer(t.session.store),l=s.rootSubjects(e);let c=l.roots;const u=l.subjects,p=l.loopBreakers;for(const e in p);const d={},f={};function h(e){const t=a.createElement("table");let n=null;const i=u[s.toStr(e)];if(!i)return t.appendChild(a.createTextNode("...")),t;i.sort();let o,l=0;for(let e=0;e<i.length;e++){const s=i[e],c=a.createElement("tr");if(s.predicate.uri!==n){n&&l>1&&o.setAttribute("rowspan",""+l),o=a.createElement("td"),o.setAttribute("class","pred");const e=a.createElement("a");e.setAttribute("href",s.predicate.uri),e.addEventListener("click",r.widgets.openHrefInOutlineMode,!0),e.appendChild(a.createTextNode(r.utils.predicateLabelForXML(s.predicate))),o.appendChild(e),c.appendChild(o),n=s.predicate.uri,l=0}l++;const u=a.createElement("td");u.appendChild(m(s.object)),c.appendChild(u),t.appendChild(c)}return n&&l>1&&o.setAttribute("rowspan",""+l),t}function m(e){let n,i;switch(e.termType){case"NamedNode":return i=a.createElement("a"),i.setAttribute("href",e.uri),i.addEventListener("click",r.widgets.openHrefInOutlineMode,!0),i.appendChild(a.createTextNode(r.utils.label(e))),i;case"Literal":return e.datatype&&e.datatype.uri?"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===e.datatype.uri?(n=a.createElement("div"),n.setAttribute("class","embeddedXHTML"),n.innerHTML=e.value,n):a.createTextNode(e.value):(n=a.createElement("div"),n.setAttribute("style","white-space: pre-wrap;"),n.textContent=e.value,n);case"BlankNode":{if(e.toNT()in d){f[e.toNT()]=!0;const t=a.createElement("a");return t.setAttribute("href","#"+e.toNT().slice(2)),t.setAttribute("class","bnodeRef"),t.textContent="*"+e.toNT().slice(3),t}d[e.toNT()]=!0;const t=h(e);return d[e.toNT()]=t,r.utils.ancestor(t,"TABLE")&&"white"===r.utils.ancestor(t,"TABLE").style.backgroundColor?t.style.backgroundColor="#eee":t.style.backgroundColor="white",t}case"Collection":n=a.createElement("table"),n.setAttribute("class","collectionAsTables");for(let t=0;t<e.elements.length;t++){const r=a.createElement("tr");n.appendChild(r),r.appendChild(m(e.elements[t]))}return n;case"Graph":return n=t.session.paneRegistry.byName("dataContents").statementsAsTables(e.statements,t),n.setAttribute("class","nestedFormula"),n;case"Variable":return n=a.createTextNode("?"+e.uri),n}throw new Error("Unhandled node type: "+e.termType)}n&&(c=n.concat(c.filter(function(e){for(let t=0;t<n.length;t++)if(e.sameTerm(n[t]))return!1;return!0})));for(let e=0;e<c.length;e++){const t=a.createElement("tr");t.setAttribute("style",`background-color: ${e%2==0?"#f0f0f0":"white"};`),o.appendChild(t);const n=a.createElement("td");t.appendChild(n);const i=a.createElement("td");t.appendChild(i);const s=c[e];"BlankNode"===s.termType?n.appendChild(a.createTextNode(r.utils.label(s))):n.appendChild(m(s)),i.appendChild(h(s))}for(const e in f){const t=d[e],n=a.createElement("a");n.setAttribute("id",e.slice(2)),n.setAttribute("class","bnodeDef"),n.textContent=e.slice(3)+")",t.insertBefore(n,t.firstChild)}return o},render:function(e,t){const n=t.dom;t.getOutliner(n);const i=t.session.store,a=n.createElement("div");a.setAttribute("class","dataContentPane");const o=i.statementsMatching(void 0,void 0,void 0,e);return function(){const n=[];i.holds(e,void 0,void 0,e)&&n.push(e);const s=i.any(e,r.ns.foaf("primaryTopic"),void 0,e);s&&n.push(s),a.appendChild(t.session.paneRegistry.byName("dataContents").statementsAsTables(o,t,n))}(),a}}},1427:(e,t,n)=>{const r=n(6886),i=n(7518),a=n(9953),o=n(208),s=n(1878),l=r.getBCHDigit(7973);function c(e,t){return o.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach(function(e){const r=c(e.mode,t);n+=r+e.getBitsLength()}),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);const a=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return a;const l=a-c(n,e);switch(n){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let r;const i=a.from(n,a.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},1433:(e,t,n)=>{const r=n(208),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=r.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},1813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/ace+json":{"source":"iana","compressible":true},"application/ace-groupcomm+cbor":{"source":"iana"},"application/ace-trl+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/aif+cbor":{"source":"iana"},"application/aif+json":{"source":"iana","compressible":true},"application/alto-cdni+json":{"source":"iana","compressible":true},"application/alto-cdnifilter+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-propmap+json":{"source":"iana","compressible":true},"application/alto-propmapparams+json":{"source":"iana","compressible":true},"application/alto-tips+json":{"source":"iana","compressible":true},"application/alto-tipsparams+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/appinstaller":{"compressible":false,"extensions":["appinstaller"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/appx":{"compressible":false,"extensions":["appx"]},"application/appxbundle":{"compressible":false,"extensions":["appxbundle"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/automationml-aml+xml":{"source":"iana","compressible":true,"extensions":["aml"]},"application/automationml-amlx+zip":{"source":"iana","compressible":false,"extensions":["amlx"]},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/bufr":{"source":"iana"},"application/c2pa":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/ce+cbor":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/cid-edhoc+cbor-seq":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/city+json-seq":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-eap":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/concise-problem-details+cbor":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cose-x509":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwl":{"source":"iana","extensions":["cwl"]},"application/cwl+json":{"source":"iana","compressible":true},"application/cwl+yaml":{"source":"iana"},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana","extensions":["dcm"]},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dpop+jwt":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/eat+cwt":{"source":"iana"},"application/eat+jwt":{"source":"iana"},"application/eat-bun+cbor":{"source":"iana"},"application/eat-bun+json":{"source":"iana","compressible":true},"application/eat-ucs+cbor":{"source":"iana"},"application/eat-ucs+json":{"source":"iana","compressible":true},"application/ecmascript":{"source":"apache","compressible":true,"extensions":["ecma"]},"application/edhoc+cbor-seq":{"source":"iana"},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.legacyesn+json":{"source":"iana","compressible":true},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/entity-statement+jwt":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdf":{"source":"iana","extensions":["fdf"]},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geopose+json":{"source":"iana","compressible":true},"application/geoxacml+json":{"source":"iana","compressible":true},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gnap-binding-jws":{"source":"iana"},"application/gnap-binding-jwsd":{"source":"iana"},"application/gnap-binding-rotation-jws":{"source":"iana"},"application/gnap-binding-rotation-jwsd":{"source":"iana"},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/grib":{"source":"iana"},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"iana","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"apache","charset":"UTF-8","compressible":true,"extensions":["js"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/jscontact+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jsonpath":{"source":"iana"},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwk-set+jwt":{"source":"iana"},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/linkset":{"source":"iana"},"application/linkset+json":{"source":"iana","compressible":true},"application/load-control+xml":{"source":"iana","compressible":true},"application/logout+jwt":{"source":"iana"},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4","mpg4","mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msix":{"compressible":false,"extensions":["msix"]},"application/msixbundle":{"compressible":false,"extensions":["msixbundle"]},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":true,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/ohttp-keys":{"source":"iana"},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg","one","onea"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["sig","asc"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/private-token-issuer-directory":{"source":"iana"},"application/private-token-request":{"source":"iana"},"application/private-token-response":{"source":"iana"},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/provided-claims+jwt":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.implied-document+xml":{"source":"iana","compressible":true},"application/prs.implied-executable":{"source":"iana"},"application/prs.implied-object+json":{"source":"iana","compressible":true},"application/prs.implied-object+json-seq":{"source":"iana"},"application/prs.implied-object+yaml":{"source":"iana"},"application/prs.implied-structure":{"source":"iana"},"application/prs.mayfile":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.vcfbzip2":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true,"extensions":["xsf"]},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"apache"},"application/reputon+json":{"source":"iana","compressible":true},"application/resolve-response+jwt":{"source":"iana"},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-checklist":{"source":"iana"},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-signed-tal":{"source":"iana"},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"apache"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana","extensions":["sql"]},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/sslkeylogfile":{"source":"iana"},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/st2110-41":{"source":"iana"},"application/stix+json":{"source":"iana","compressible":true},"application/stratum":{"source":"iana"},"application/swid+cbor":{"source":"iana"},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tm+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toc+cbor":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"source":"iana","compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/trust-chain+json":{"source":"iana","compressible":true},"application/trust-mark+jwt":{"source":"iana"},"application/trust-mark-delegation+jwt":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/uccs+cbor":{"source":"iana"},"application/ujcs+json":{"source":"iana","compressible":true},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vc":{"source":"iana"},"application/vc+cose":{"source":"iana"},"application/vc+jwt":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.1ob":{"source":"iana"},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3a+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ach+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc8+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.5gsa2x":{"source":"iana"},"application/vnd.3gpp.5gsa2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gsv2x":{"source":"iana"},"application/vnd.3gpp.5gsv2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.crs+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.current-location-discovery+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.pinapp-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.seal-group-doc+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-network-qos-management-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-ue-config-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-unicast-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-user-profile-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.v2x":{"source":"iana"},"application/vnd.3gpp.vae-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acm.addressxfer+json":{"source":"iana","compressible":true},"application/vnd.acm.chatbot+json":{"source":"iana","compressible":true},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"apache","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"apache"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.parquet":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.apexlang":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"apache"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autodesk.fbx":{"extensions":["fbx"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.belightsoft.lhzd+zip":{"source":"iana","compressible":false},"application/vnd.belightsoft.lhzl+zip":{"source":"iana","compressible":false},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.bzip3":{"source":"iana"},"application/vnd.c3voc.schedule+xml":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.cncf.helm.chart.content.v1.tar+gzip":{"source":"iana"},"application/vnd.cncf.helm.chart.provenance.v1.prov":{"source":"iana"},"application/vnd.cncf.helm.config.v1+json":{"source":"iana","compressible":true},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datalog":{"source":"iana"},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.dcmp+xml":{"source":"iana","compressible":true,"extensions":["dcmp"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.eln+zip":{"source":"iana","compressible":false},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.erofs":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"apache","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.fdsn.stationxml+xml":{"source":"iana","charset":"XML-BASED","compressible":true},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.freelog.comic":{"source":"iana"},"application/vnd.frogans.fnc":{"source":"apache","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"apache","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.ga4gh.passport+jwt":{"source":"iana"},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.genozip":{"source":"iana"},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.gentoo.catmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.ebuild":{"source":"iana"},"application/vnd.gentoo.eclass":{"source":"iana"},"application/vnd.gentoo.gpkg":{"source":"iana"},"application/vnd.gentoo.manifest":{"source":"iana"},"application/vnd.gentoo.pkgmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.xpak":{"source":"iana"},"application/vnd.geo+json":{"source":"apache","compressible":true},"application/vnd.geocube+xml":{"source":"apache","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.pinboard":{"source":"iana"},"application/vnd.geogebra.slides":{"source":"iana","extensions":["ggs"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.gnu.taler.exchange+json":{"source":"iana","compressible":true},"application/vnd.gnu.taler.merchant+json":{"source":"iana","compressible":true},"application/vnd.google-apps.audio":{},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.drawing":{"compressible":false,"extensions":["gdraw"]},"application/vnd.google-apps.drive-sdk":{"compressible":false},"application/vnd.google-apps.file":{},"application/vnd.google-apps.folder":{"compressible":false},"application/vnd.google-apps.form":{"compressible":false,"extensions":["gform"]},"application/vnd.google-apps.fusiontable":{},"application/vnd.google-apps.jam":{"compressible":false,"extensions":["gjam"]},"application/vnd.google-apps.mail-layout":{},"application/vnd.google-apps.map":{"compressible":false,"extensions":["gmap"]},"application/vnd.google-apps.photo":{},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.script":{"compressible":false,"extensions":["gscript"]},"application/vnd.google-apps.shortcut":{},"application/vnd.google-apps.site":{"compressible":false,"extensions":["gsite"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-apps.unknown":{},"application/vnd.google-apps.video":{},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"apache","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true,"extensions":["xdcf"]},"application/vnd.gpxsee.map+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.hsl":{"source":"iana"},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"apache"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"apache","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"apache"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.ipfs.ipns-record":{"source":"iana"},"application/vnd.ipld.car":{"source":"iana"},"application/vnd.ipld.dag-cbor":{"source":"iana"},"application/vnd.ipld.dag-json":{"source":"iana"},"application/vnd.ipld.raw":{"source":"iana"},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kdl":{"source":"iana"},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.keyman.kmp+zip":{"source":"iana","compressible":false},"application/vnd.keyman.kmx":{"source":"iana"},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.ldev.productlicensing":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.mdl":{"source":"iana"},"application/vnd.mdl-mbsdf":{"source":"iana"},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.medicalholodeck.recordxr":{"source":"iana"},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mermaid":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.modl":{"source":"iana"},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-visio.viewer":{"extensions":["vdx"]},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msgpack":{"source":"iana"},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+cbor":{"source":"iana"},"application/vnd.nato.bindingdataobject+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+xml":{"source":"iana","compressible":true,"extensions":["bdo"]},"application/vnd.nato.openxmlformats-package.iepd+zip":{"source":"iana","compressible":false},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"apache","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oai.workflows":{"source":"iana"},"application/vnd.oai.workflows+json":{"source":"iana","compressible":true},"application/vnd.oai.workflows+yaml":{"source":"iana"},"application/vnd.oasis.opendocument.base":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"apache","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-master-template":{"source":"iana"},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.onvif.metadata":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openvpi.dspx+json":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.procrate.brushset":{"extensions":["brushset"]},"application/vnd.procreate.brush":{"extensions":["brush"]},"application/vnd.procreate.dream":{"extensions":["drm"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.pt.mundusmundi":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true,"extensions":["xhtm"]},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.relpipe":{"source":"iana"},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.sketchometry":{"source":"iana"},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.smintio.portals.archive":{"source":"iana"},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sybyl.mol2":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uic.osdm+json":{"source":"iana","compressible":true},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml","uo"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.veraison.tsm-report+cbor":{"source":"iana"},"application/vnd.veraison.tsm-report+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw","vsdx","vtx"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vocalshaper.vsp4":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.wasmflow.wafl":{"source":"iana"},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordlift":{"source":"iana"},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xarin.cpj":{"source":"iana"},"application/vnd.xecrets-encrypted":{"source":"iana"},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/voucher-jws+json":{"source":"iana","compressible":true},"application/vp":{"source":"iana"},"application/vp+cose":{"source":"iana"},"application/vp+jwt":{"source":"iana"},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blender":{"extensions":["blend"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-compressed":{"extensions":["rar"]},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-ipynb+json":{"compressible":true,"extensions":["ipynb"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zip-compressed":{"extensions":["zip"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xfdf":{"source":"iana","extensions":["xfdf"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yaml":{"source":"iana"},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+cbor":{"source":"iana"},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yang-sid+json":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zip+dotlottie":{"extensions":["lottie"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana","extensions":["adts","aac"]},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flac":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/matroska":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/midi-clip":{"source":"iana"},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a","m4b"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"apache"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"source":"iana","compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp","dib"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/dpx":{"source":"iana","extensions":["dpx"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/j2c":{"source":"iana"},"image/jaii":{"source":"iana","extensions":["jaii"]},"image/jais":{"source":"iana","extensions":["jais"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpg","jpeg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm","jpgm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxl":{"source":"iana","extensions":["jxl"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false,"extensions":["jfif"]},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif","btf"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.clip":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"iana","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-adobe-dng":{"extensions":["dng"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-emf":{"source":"iana"},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-wmf":{"source":"iana"},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/bhttp":{"source":"iana"},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/mls":{"source":"iana"},"message/news":{"source":"apache"},"message/ohttp-req":{"source":"iana"},"message/ohttp-res":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime","mht","mhtml"]},"message/s-http":{"source":"apache"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"apache"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/jt":{"source":"iana","extensions":["jt"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/prc":{"source":"iana","extensions":["prc"]},"model/step":{"source":"iana","extensions":["step","stp","stpnc","p21","210"]},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/u3d":{"source":"iana","extensions":["u3d"]},"model/vnd.bary":{"source":"iana","extensions":["bary"]},"model/vnd.cld":{"source":"iana","extensions":["cld"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana","extensions":["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usda":{"source":"iana","extensions":["usda"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"apache"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hl7v2":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["md","markdown"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/prs.texi":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.exchangeable":{"source":"iana"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"apache"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.vcf":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vnd.zoo.kcl":{"source":"iana"},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/wgsl":{"source":"iana","extensions":["wgsl"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/evc":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/h266":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/lottie+json":{"source":"iana","compressible":true},"video/matroska":{"source":"iana"},"video/matroska-3d":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts","m2t","m2ts","mts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.planar":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"apache"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},1830:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutoComplete=async function(e,t,n){function u(e,t){n(e,t)}async function p(e,n){if(t.acceptButton)return t.acceptButton.disabled=!1,T.value=n,E=n,void(C=e);u(e,n)}async function d(e){T.value===E?u(C,E):t.acceptButton.disabled=!0}function f(e,t){const n=e.split(" ");for(let e=0;e<n.length;e++){const r=n[e];if(t.toLowerCase().indexOf(r)<0)return!1}return!0}function h(){for(;S.children.length>1&&S.lastChild;)S.removeChild(S.lastChild)}async function m(){if(y)return;y=!0;const n=await(0,a.getPreferredLanguages)(),c=T.value.trim().toLowerCase();if(c.length<o)h(),v=!1,k=s;else{if(w&&x&&c.startsWith(x))return function(e){let t=0,n=null,i="";for(let r=S.children.length-1;r>0;r--){const a=S.children[r];f(e,a.textContent)?(t+=1,n=a.getAttribute("subject"),i=a.textContent,a.style.display="",a.style.color="blue"):a.style.display="none"}1===t&&n&&p(r.store.sym(n),i)}(c),void(y=!1);let o;try{o=await(0,a.queryPublicDataByName)(c,g,t.queryParams)}catch(t){return function(t){const n=S.appendChild(e.createElement("tr"));n.appendChild(i.widgets.errorMessageBlock(e,t,"pink")),i.style.setStyle(n,"autocompleteRowStyle"),n.style.padding="1em"}("Error querying db of organizations: "+t),void(y=!1)}v=!0;const s=o.length<a.AUTOCOMPLETE_LIMIT;x=s?c:null,h();const u=(0,a.filterByLanguage)(o,n);s&&u.length<=l&&(k=u.length),w=s&&u.length<=k,u.slice(0,k).forEach(t=>{const n=S.appendChild(e.createElement("tr"));i.style.setStyle(n,"autocompleteRowStyle");const a=t.subject.value,o=t.name?.value;n.setAttribute("style","padding: 0.3em;"),n.setAttribute("subject",a),n.style.color=w?"#080":"#000",n.textContent=o||"",n.addEventListener("click",async e=>{p(r.store.sym(a),o||"")})})}y=!1}const g=t.class;t.acceptButton&&t.acceptButton.addEventListener("click",d,!1);t.cancelButton;let v=!1;const b=null;let y=!1,w=!1;var x=null,k=s;const _=e.createElement("div");var E=null,C=null,S=_.appendChild(e.createElement("table"));S.setAttribute("style","max-width: 30em; margin: 0.5em;");const A=S.appendChild(e.createElement("tr"));i.style.setStyle(A,"autocompleteRowStyle");const T=A.appendChild(e.createElement("td")).appendChild(e.createElement("input"));T.setAttribute("type","text");const R=i.style.searchInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em";return T.setAttribute("style",R),T.addEventListener("keyup",function(e){13===e.keyCode&&d(e)},!1),T.addEventListener("input",async function(e){b&&clearTimeout(b);setTimeout(m,c)}),_};var r=n(9332),i=n(500),a=n(3705);const o=4,s=20,l=40,c=300},1838:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(9332),i=n(500);const a={icon:i.icons.iconBase+"noun_973694_expanded.svg",name:"folder",mintNew:function(e,t){const n=e.session.store,r=t.newInstance||n.sym(t.newBase);let i=r.uri;return i.endsWith("/")&&(i=i.slice(0,-1)),t.newInstance=n.sym(i+"/"),n.fetcher.webOperation("PUT",r.uri).then(function(){return t})},label:function(e,t){const n=t.session.store,r=n.each(e,i.ns.ldp("contains")).length;return r>0?"Contents ("+r+")":n.holds(e,i.ns.rdf("type"),i.ns.ldp("Container"))?"Container (0)":null},render:function(e,t){function n(e){const t=e.uri.slice(e.dir().uri.length);return!(t.startsWith(".")||t.endsWith(".acl")||t.endsWith("~"))}function a(){let t=l.each(e,i.ns.ldp("contains")).filter(n);t=t.map(e=>[i.utils.label(e).toLowerCase(),e]),t.sort(),t=t.map(e=>e[1]),i.utils.syncTableToArray(c,t,function(t){const n=l.statementsMatching(e,i.ns.ldp("contains"),t)[0],r=s.VIEWAS_boring_default,a=s.propertyTR(o,n,!1);return a.firstChild.textContent="",a.firstChild.style.cssText+="min-width: 3em;",a.appendChild(s.outlineObjectTD(t,r,void 0,n)),a})}const o=t.dom,s=t.getOutliner(o),l=t.session.store;let c;const u=o.createElement("div");u.setAttribute("class","instancePane");const p=i.style.folderPaneStyle||"border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em;";u.setAttribute("style",p);const d=e.uri.endsWith("/")?e.uri:e.uri+"/",f=l.sym(d+"index.ttl#this");if(l.holds(e,i.ns.ldp("contains"),f.doc())){const e=u.appendChild(o.createElement("div"));return e.style.cssText="border-top: 0.2em solid #ccc;",l.fetcher.load(f.doc()).then(function(){c=e.appendChild(o.createElement("table")),t.getOutliner(o).GotoSubject(f,!0,void 0,!1,void 0,c)}),u}c=u.appendChild(o.createElement("table")),c.refresh=a,a(),l.updater.addDownstreamChangeListener(e,a);const h=u.appendChild(o.createElement("div")),m=r.authn.currentUser();if(!m)return u;const g={folder:e,div:h,dom:o,statusArea:h,me:m};return g.refreshTarget=c,i.login.filterAvailablePanes(t.session.paneRegistry.list).then(function(e){i.create.newThingUI(g,t,e),i.aclControl.preventBrowserDropEvents(o);let n;n=h.firstChild,i.widgets.makeDropTarget(n,null,v)}),u;function v(t){i.widgets.uploadFiles(l.fetcher,t,e.uri,e.uri,function(t,n){const r=l.sym(n);l.add(e,i.ns.ldp("contains"),r,e.doc()),c.refresh()})}}}},1878:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(500),i=n(9332),a=n(5438);const o={global:!0,icon:`${r.icons.iconBase}noun_15177.svg`,name:"trustedApplications",label:()=>null,render:(e,t)=>{const n=t.dom,o=n.createElement("div");o.classList.add("trusted-applications-pane"),o.setAttribute("style","border: 0.3em solid #418d99; border-radius: 0.5em; padding: 0.7em; margin-top:0.7em;");const s=o.appendChild(n.createElement("table")),l=s.appendChild(n.createElement("tr")),c=s.appendChild(n.createElement("tr")).appendChild(n.createElement("div"));return c.setAttribute("style","padding: 0.7em;"),async function(e,t,n){const o=await r.login.ensureLoadedProfile({dom:e,div:t,statusArea:n,me:null}),s=o.me,l=s.doc();if(!i.store.updater)throw new Error("Store has no updater");const c=i.store.updater.editable(l.uri,i.store);if(t.appendChild((0,a.createText)("h3","Manage your trusted applications")),!c)return void t.appendChild(r.widgets.errorMessageBlock(e,`Your profile ${s.doc().uri} is not editable, so we cannot do much here.`));t.appendChild((0,a.createText)("p","Here you can manage the applications you trust."));const u=(0,a.createApplicationTable)(s);t.appendChild(u),t.appendChild((0,a.createText)("h4","Notes")),t.appendChild((0,a.createContainer)("ol",[t.appendChild((0,a.createText)("li","Trusted applications will get access to all resources that you have access to.")),t.appendChild((0,a.createText)("li","You can limit which modes they have by default.")),t.appendChild((0,a.createText)("li","They will not gain more access than you have."))])),t.appendChild((0,a.createText)("p","Application URLs must be valid URL. Examples are http://localhost:3000, https://trusted.app, and https://sub.trusted.app."))}(n,l,c).catch(e=>c.appendChild(r.widgets.errorMessageBlock(n,e))),o}};t.default=o},1927:function(e,t,n){var r;r=(e,t,n)=>(()=>{"use strict";var r={264:e=>{e.exports=t},426:t=>{t.exports=e},663:e=>{e.exports=n}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{default:()=>f});var s=a(426),l=a(264),c=a(663);const{typeIndex:u}=c.solidLogicSingleton,{loadTypeIndexesFor:p}=u,d=s.ns,f={icon:s.icons.iconBase+"noun_66617.svg",name:"meeting",audience:[d.solid("PowerUser")],label:function(e,t){const n=t.session.store,r=s.ns;return n.holds(e,r.rdf("type"),r.meeting("Meeting"))?"Meeting":null},mintClass:s.ns.meeting("Meeting"),mintNew:function(e,t){return new Promise(function(n,r){const i=e.session.store,a=s.ns;t.newInstance=t.newInstance||i.sym(t.newBase+"index.ttl#this");const o=t.newInstance,u=o.doc(),p=c.authn.currentUser();p&&i.add(o,a.dc("author"),p,u),i.add(o,a.rdf("type"),a.meeting("Meeting"),u),i.add(o,a.dc("created"),new Date,u),i.add(o,a.ui("backgroundColor"),new l.Literal("#ddddcc",void 0,a.xsd("color")),u);const d=new l.Collection;i.add(o,a.meeting("toolList"),d,u),d.elements.push(o),i.updater.put(u,i.statementsMatching(void 0,void 0,void 0,u),"text/turtle",function(e,i,a){i?n(t):r(new Error("Error writing meeting configuration: "+a))})})},render:function(e,t){const n=t.dom,r=t.session.store,i=s.ns,a=r.updater,o=this,u=function(e,t){const r=n.createElement("pre");r.setAttribute("style","background-color: "+t||0),g.appendChild(r),r.appendChild(n.createTextNode(e))},d=function(e,t){e||u(t)},f=e,h=e.doc(),m=e.dir().uri,g=n.createElement("div"),v=g.appendChild(n.createElement("table"));v.style="width: 100%; height: 100%; margin:0;";const b=v.appendChild(n.createElement("tr"));b.appendChild(n.createElement("div"));const y=v.appendChild(n.createElement("tr")),w=v.appendChild(n.createElement("td")).appendChild(n.createElement("table")).appendChild(n.createElement("tr"));b.setAttribute("style","height: 2em;");let x=null;const k=function(){a.put(h,r.statementsMatching(void 0,void 0,void 0,h),"text/turtle",function(e,t,n){t?(G.refresh(),$()):u(n="FAILED to save new thing at: "+h+" : "+n)})},_=function(e,t,n){const o=t.doc();n&&r.add(f,n,t,o),r.add(t,i.meeting("parentMeeting"),f,o),a.put(o,r.statementsMatching(void 0,void 0,void 0,o),"text/turtle",function(e,n,r){n?k():u("FAILED to save new tool at: "+t+" : "+r)})},E=function(e,t,n,a){t&&r.add(f,t,e,h);const o=s.widgets.newThing(h);return n&&r.add(o,i.rdfs("label"),n,h),a&&r.add(o,i.meeting("icon"),r.sym(a),h),r.add(o,i.rdf("type"),i.meeting("Tool"),h),r.add(o,i.meeting("target"),e,h),r.the(f,i.meeting("toolList")).elements.push(o),o};function C(e){const t=/https:\/\/www\.google\..*\/maps\//,n="https://www.google.com/maps/embed/v1/",r=e.uri;if(!r.match(t))return e;if(r.startsWith(n))return e;const i=r.replace(t,n)+"&key=AIzaSyB8aaT6bY9tcLCmc2oPCkdUYLmTOWM8R54";return l.sym(i)}const S=function(n){Promise.all(n.map(function(n){return function(n){return new Promise(function(a){const o=n.uri;if(o.startsWith("http:")&&o.indexOf("#")<0)return function(n){const a=i.wf("attachment");r.add(e,a,n,e.doc()),F({icon:"noun_160581.svg",limit:1,shareTab:!0},{newInstance:e,pane:t.session.paneRegistry.byName("link"),predicate:i.meeting("attachmentTool"),tabTitle:"Links",view:"link",noIndexHTML:!0})}(n),a(n);r.fetcher.nowOrWhenFetched(n,function(e,t){function c(e){e=C(e);const t=E(e,s.ns.wf("attachment"),s.utils.label(e),null);return r.add(t,s.ns.meeting("view"),"iframe",h),a(e)}if(e){const e=n,t=r.findTypeURIs(e);for(const e in t);if(i.vcard("Individual").uri in t||i.foaf("Person").uri in t||i.foaf("Agent").uri in t)return function(e){const t=r.any(e,i.foaf("preferredURI")),n=t?r.sym(t):e,a=r.any(f,i.meeting("attendeeGroup")),o=function(e,t){const n=[l.st(t,s.ns.vcard("hasMember"),e,t.doc())],a=r.any(e,i.vcard("fn"))||r.any(e,i.foaf("name"));a&&n.push(l.st(e,s.ns.vcard("fn"),a,t.doc())),r.fetcher.nowOrWhenFetched(t.doc(),void 0,function(e,i){e?r.updater.update([],n,function(e,t,n){d(t,n)}):u("Can't read group to add person"+t)})};a?o(n,a):P().then(function(e){const t=e.newInstance;o(n,t),r.fetcher.putBack(h,{contentType:"text/turtle"}).then(function(e){})}).catch(function(e){u(e)})}(n),a(n);if(o.startsWith("https:")&&o.indexOf("#")<0){const e=r.fetcher.getHeader(n,"x-frame-options");let t=!0;if(e)for(let n=0;n<e.length;n++)e[n].indexOf("sameorigin")<0&&(t=!1),e[n].indexOf("deny")<0&&(t=!1);if(t)return function(e){const t=E(e,s.ns.wf("attachment"),s.utils.label(e),null);r.add(t,s.ns.meeting("view"),"iframe",h)}(n=C(n)),a(n)}return c(n)}return c(n)})})}(l.sym(n))})).then(function(e){k()})},A=function(e){s.widgets.uploadFiles(r.fetcher,e,f.dir().uri+"Files",f.dir().uri+"Pictures",function(e,t){e.type.startsWith("image/")?T("Files"):R("Pictures")})},T=function(e){return F({icon:"noun_598334.svg",limit:1,shareTab:!0},{newInstance:r.sym(f.dir().uri+e+"/"),pane:t.session.paneRegistry.byName("folder"),predicate:i.meeting("pictures"),shareTab:!0,tabTitle:e,view:"slideshow",noIndexHTML:!0})},R=function(e){return F({icon:"noun_681601.svg",limit:1,shareTab:!0},{newInstance:r.sym(f.dir().uri+"Files/"),pane:t.session.paneRegistry.byName("folder"),predicate:i.meeting("materialsFolder"),tabTitle:"Materials",noIndexHTML:!0})},P=function(){return F({icon:"noun_339237.svg",limit:1,shareTab:!0},{newInstance:r.sym(f.dir().uri+"Attendees/index.ttl#this"),pane:t.session.paneRegistry.byName("contact"),predicate:i.meeting("attendeeGroup"),tabTitle:"Attendees",instanceClass:i.vcard("Group"),instanceName:s.utils.label(e)+" attendees",noIndexHTML:!0})};function F(e,n){return new Promise(function(r,i){const a=t.session.store;if(!n.useExisting){const t=a.any(f,n.predicate);if(t){if(e.limit&&1===e.limit&&!e.shareTab)return u("Already have "+t+" as "+s.utils.label(n.predicate)),u("Cant have two"),r(null);if(e.shareTab)return r({me:x,newInstance:t,instanceClass:n.instanceClass})}}x||n.me||i(new Error("Username not defined for new tool")),n.me=n.me||x,n.newInstance=n.useExisting||n.newInstance||a.sym(n.newBase+"index.ttl#this"),n.pane.mintNew(t,n).then(function(e){const t=E(e.newInstance,e.predicate,e.tabTitle,e.pane.icon);e.view&&a.add(t,s.ns.meeting("view"),e.view,h),k(),a.fetcher.putBack(h,{contentType:"text/turtle"}).then(function(t){r(e)}).catch(function(e){i(e)})}).catch(function(e){u(e),i(e)})})}const I=function(){const e=s.login.selectWorkspace(n,{noun:"meeting"},function(r,i){o.mintNew(t,{newBase:i}).then(function(t){const r=t.newInstance;M.removeChild(e);const i=M.appendChild(n.createElement("p"));i.setAttribute("style","font-size: 140%;"),i.innerHTML="Your <a target='_blank' href='"+r.uri+"'><b>new meeting</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+r.uri+"'>Go to your new meeting.</a>"}).catch(function(t){M.removeChild(e),M.appendChild(s.widgets.errorMessageBlock(n,t))})});M.appendChild(e)},N=[{icon:"noun_339237.svg",maker:function(e){const n=m+"Group/",r=t.session.store;let a=r.any(f,i.meeting("particpants"));a||(a=l.sym(n+"index.ttl#this"));const o=E(a,i.meeting("particpants"),"Particpants",s.icons.iconBase+"noun_339237.svg");r.add(o,s.ns.meeting("view"),"peoplePicker",h),k()},hint:"Make a group of people",limit:1},{icon:"noun_346777.svg",maker:function(e){return F(e,{useExisting:f,pane:t.session.paneRegistry.byName("schedule"),view:"schedule",tabTitle:"Schedule poll",noIndexHTML:!0})},hint:"Make a poll to schedule the meeting"},{icon:"noun_48218.svg",maker:function(e){},limit:1,hint:"Add an agenda list",disabled:!0},{icon:"noun_79217.svg",maker:function(e){return F(e,{newBase:m+"SharedNotes/",predicate:s.ns.meeting("sharedNotes"),tabTitle:"Shared Notes",pane:t.session.paneRegistry.byName("pad")})},hint:"Add a shared notepad"},{icon:"noun_346319.svg",maker:function(e){const n=m+"Chat/",r=t.session.store;if(r.holds(f,i.meeting("chat")))return;const a=r.sym(n+"chat.ttl");r.add(a,i.rdf("type"),i.meeting("Chat"),a),E(a,i.meeting("chat"),"Chat",s.icons.iconBase+"noun_346319.svg"),_(0,a,i.meeting("chat"))},limit:1,hint:"Add a chat channel for the meeting"},{icon:"noun_17020.svg",maker:function(e){const n=m+"Actions/",r=t.session.store;if(r.holds(f,i.meeting("actions")))return;const a=r.sym(n+"config.ttl"),o=r.sym(n+"config.ttl#this"),l=r.sym(n+"state.ttl");r.add(o,i.dc("title"),(r.anyValue(f,i.cal("summary"))||"Meeting ")+" actions",a),r.add(o,i.wf("issueClass"),i.wf("Task"),a),r.add(o,i.wf("initialState"),i.wf("Open"),a),r.add(o,i.wf("stateStore"),l,a),r.add(o,i.wf("assigneeClass"),i.foaf("Person"),a),r.add(o,i.rdf("type"),i.wf("Tracker"),a),r.add(o,i.rdf("type"),i.wf("Tracker"),a),E(o,i.meeting("actions"),"Actions",s.icons.iconBase+"noun_17020.svg"),_(0,o,i.meeting("actions"))},limit:1,hint:"Add a list of action items"},{icon:"noun_260227.svg",maker:function(e){const n=t.session.store,r=l.sym("https://meet.jit.si/"+s.utils.genUuid());if(n.holds(f,i.meeting("videoCallPage")))return;n.add(r,i.rdf("type"),i.meeting("VideoCallPage"),h);const a=E(r,i.meeting("videoCallPage"),"Video call",s.icons.iconBase+"noun_260227.svg");n.add(a,i.meeting("view"),"iframe",h),k()},limit:1,hint:"Add a video call for the meeting"},{icon:"noun_25830.svg",maker:function(e){s.widgets.askName(n,r,M,i.log("uri"),s.ns.rdf("Resource")).then(function(e){if(!e)return $();const n=t.session.store,r=s.ns,i=n.sym(e),a=E(i,r.wf("attachment"),s.utils.label(i),null);n.add(a,r.meeting("view"),"iframe",h),k()}).catch(function(e){u("Error making new sub-meeting: "+e)})},hint:"Attach meeting materials",disabled:!1},{icon:"noun_123691.svg",maker:function(e){const n=t.session.store,r=s.ns,i=f.dir();if(e.limit&&1===e.limit&&n.holds(f,r.wf("sharingControl")))return void u("Ignored - already have "+s.utils.label(V.predicate));const a=E(i,r.wf("sharingControl"),"Sharing",s.icons.iconBase+"noun_123691.svg");n.add(a,r.meeting("view"),"sharing",h),k()},limit:1,hint:"Control Sharing",disabled:!1},{icon:"noun_66617.svg",maker:function(e){s.widgets.askName(n,r,M,i.foaf("name"),s.ns.meeting("Meeting")).then(function(n){if(!n)return $();const r=encodeURIComponent(n),i={newBase:m+r+"/",predicate:s.ns.meeting("subMeeting"),tabTitle:n,pane:t.session.paneRegistry.byName("meeting")};return F(e,i)}).catch(function(e){u("Error making new sub-meeting: "+e)})},hint:"Make a sub meeting",disabled:!1}],O=l.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#settings");l.parse('@prefix : <http://www.w3.org/ns/ui#> .\n@prefix f: <#> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix cal: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix meeting: <http://www.w3.org/ns/pim/meeting#>.\n@prefix ns: <http://www.w3.org/2006/vcard/ns#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix te: <http://purl.org/dc/terms/> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n  f:main    a :Form;\n      cal:summary "Meeting Details";\n      :part f:titleField, f:locationField, f:startField,\n                    f:endField, f:eventComment, f:colorField .\n\n  f:titleField     a :SingleLineTextField;\n       :maxLength 256;\n       :property cal:summary;\n       :label "Name of meeting";\n       :size 80 .\n\n   f:locationField     a :SingleLineTextField;\n        :maxLength 128;\n        :property cal:location;\n        :size 40 .\n\n    f:startField     a :DateField;\n        :label "Start";\n         :property cal:dtstart .\n\n   f:endField     a :DateField;\n       :label "End";\n          :property cal:dtend .\n\n    f:colorField     a :ColorField;\n        :label "Tab color";\n  #      :default "#ddddcc"^^xsd:color;\n           :property ui:backgroundColor .\n\n      f:eventComment\n           a    ui:MultiLineTextField;\n       #    ui:maxLength\n       #       "1048";\n       #    ui:size\n       #       "40".\n           ui:property\n              cal:comment.\n\n###################################################\n\nf:settings a :Form;\n    dc:title "Tab settings";\n    :part f:labelField, f:targetField, f:viewField.\n\n    f:labelField     a :SingleLineTextField;\n         :maxLength 128;\n         :property rdfs:label;\n         :label "Label on tab";\n         :size 40 .\n\n   f:targetField     a :NamedNodeURIField;\n     :maxLength 1024;  # Longer?\n     :property meeting:target;\n     :label "URL of resource";\n     :size 80 .\n\n   f:colorField2     a :ColorField;\n       :label "Tab color";\n #      :default "#ddddcc"^^xsd:color;\n          :property ui:backgroundColor .\n\n   f:viewField     a :SingleLineTextField;\n        :maxLength 128;\n        :property meeting:view;\n        :label "View mode (experts only)";\n        :size 40 .\n\n#\n',r,O.doc().uri,"text/turtle");const L="padding: 1em; width: 3em; height: 3em;",j=w.appendChild(n.createElement("td")),M=w.appendChild(n.createElement("td")),D=j.appendChild(n.createElement("img"));let U=!1;D.setAttribute("src",s.icons.iconBase+"noun_19460_green.svg"),D.setAttribute("style",L+"opacity: 50%;"),D.setAttribute("title","Add another tool to the meeting");const B=function(e){U=!U,D.setAttribute("style",L+(U?"background-color: yellow;":"")),q(U?"":"display: none;")};let z;c.authn.checkUser().then(e=>{if(e)return x=e,D.addEventListener("click",B),void D.setAttribute("style",L);z=s.login.loginStatusBox(n,e=>{e?(x=r.sym(e),M.removeChild(z),D.addEventListener("click",B),D.setAttribute("style",L)):x=null}),z.setAttribute("style","margin: 0.5em 1em;"),M.appendChild(z)});const H=[];for(let e=0;e<N.length;e++)(function(){const t=N[e],r=j.appendChild(n.createElement("img"));r.setAttribute("src",s.icons.iconBase+t.icon),r.setAttribute("style",L+"display: none;"),H.push(r),r.tool=t;const i=t.maker;t.disabled||r.addEventListener("click",function(e){W(r),i(t)})})();const q=function(e){for(let t=0;t<H.length;t++){let n=L+e;N[t].disabled&&(n+="opacity: 0.3;"),H[t].setAttribute("style",n)}},$=function(){q("display: none;"),D.setAttribute("style",L)},W=function(e){q("display: none;"),e.setAttribute("style",L+"background-color: yellow;")},V={dom:n};V.predicate=i.meeting("toolList"),V.subject=e,V.ordered=!0,V.orientation=1,V.renderMain=function(e,a){let o,d=null,m=null;e.innerHTML="";const g=function(t,n){t||(e.textContent=""+n)},v=function(){e.appendChild(n.createElement("h3")).textContent="Details of meeting";const t=l.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#main");s.widgets.appendForm(document,e,{},f,t,f.doc(),g),e.appendChild(function(){const e=n.createElement("div"),t=e.appendChild(n.createElement("p"));return t.setAttribute("style","margin: 0em; padding:3em; color: #888;"),t.textContent="Tip: Drag URL-bar icons of web pages into the tab bar on the left to add new meeting materials.",e}()),x=c.authn.currentUser(),x&&r.add(f,i.dc("author"),x,h);const a={noun:"meeting",me:x,statusArea:e,div:e,dom:n};s.login.registrationControl(a,f,i.meeting("Meeting")).then(function(e){}),s.pad.manageParticipation(n,e,h,f,x,{});const o="height: 2em; width: 2em; margin:0.5em;",u=e.appendChild(n.createElement("div")),p=u.appendChild(n.createElement("img"));p.setAttribute("src",s.icons.iconBase+"noun_145978.svg"),p.setAttribute("title","Make a fresh new meeting"),p.addEventListener("click",I),p.setAttribute("style",o);const d=u.appendChild(n.createElement("a"));d.setAttribute("href","https://github.com/solid/solid-panes"),d.setAttribute("target","_blank");const m=d.appendChild(n.createElement("img"));m.setAttribute("src",s.icons.iconBase+"noun_368567.svg"),m.setAttribute("title","Fork me on github"),m.setAttribute("style",o+"opacity: 50%;")};if(r.holds(a,i.rdf("type"),i.meeting("Tool"))){const h=r.any(a,i.meeting("target"));if(h.sameTerm(f)&&!r.any(a,i.meeting("view")))v();else{let g=r.any(a,i.meeting("view"));g=g?g.value:null,"details"===g?v():"peoplePicker"===g?function(){const t={div:e,dom:n};e.appendChild(n.createElement("h4")).textContent="Meeting Participants";const a=function(e){const t=[l.st(f,i.meeting("particpantGroup"),e,f.doc())];r.updater.update([],t,function(t,n,r){n?m=e:u("Cant save participants group: "+r)})};m=r.any(f,i.meeting("particpantGroup")),c.authn.checkUser().then(e=>{e&&p(r.sym(e)).then(function(){const e={defaultNewGroupName:"Meeting Participants",selectedGroup:m};new s.widgets.PeoplePicker(t.div,t.index.private[0],a,e).render()})})}():"iframe"===g?function(t){const r=e.appendChild(n.createElement("iframe"));r.setAttribute("src",t.uri),r.setAttribute("style","border: none; margin: 0; padding: 0; height: 100%; width: 100%;"),r.setAttribute("allow","microphone camera"),r.setAttribute("name","disable-x-frame-options"),e.style.padding=0}(h):(d=g?t.session.paneRegistry.byName(g):null,o=e.appendChild(n.createElement("table")),o.style.width="100%",t.getOutliner(n).GotoSubject(h,!0,d,!1,void 0,o))}}else a.sameTerm(f)?v():(!a.sameTerm(a.doc())||r.holds(a,s.ns.rdf("type"),s.ns.meeting("Chat"))||r.holds(a,s.ns.rdf("type"),s.ns.meeting("PaneView")))&&(o=e.appendChild(n.createElement("table")),t.getOutliner(n).GotoSubject(a,!0,void 0,!1,void 0,o))},V.renderTab=function(e,t){if(r.holds(t,i.rdf("type"),i.meeting("Tool"))){const a=r.any(t,i.meeting("target"));let o=r.any(t,i.rdfs("label"));o=o?o.value:s.utils.label(a);const l=e.appendChild(n.createElement("div"));l.textContent=o,l.setAttribute("style","margin-left: 0.7em");const c=r.any(t,i.meeting("icon"));if(c){const t=e.appendChild(n.createElement("table")).appendChild(n.createElement("tr")),r=t.appendChild(n.createElement("td")),i=t.appendChild(n.createElement("td")),a=r.appendChild(n.createElement("img"));a.setAttribute("src",c.uri),a.setAttribute("style","width: 1.5em; height: 1.5em;"),a.setAttribute("title",o),i.appendChild(l)}else e.appendChild(l)}else e.textContent=s.utils.label(t)},V.renderTabSettings=function(e,t){if(e.innerHTML="",e.style+="border-color: #eed;",e.appendChild(n.createElement("h3")).textContent="Adjust this tab",r.holds(t,i.rdf("type"),i.meeting("Tool"))){const a=l.sym("https://solid.github.io/solid-panes/meeting/meetingDetailsForm.ttl#settings");s.widgets.appendForm(document,e,{},t,a,f.doc(),d),s.widgets.deleteButtonWithCheck(n,e,"tab",function(){const e=r.the(f,i.meeting("toolList"));for(let n=0;n<e.elements.length;n++)if(e.elements[n].sameTerm(t)){e.elements.splice(n,1);break}const n=r.any(t,i.meeting("target")),a=r.statementsMatching(t).concat(r.statementsMatching(void 0,void 0,t)).concat(r.statementsMatching(f,void 0,n));r.remove(a),k()}).setAttribute("style","width: 1.5em; height: 1.5em;")}else e.appendChild(n.createElement("h4")).textContent="(No adjustments available)"},V.backgroundColor=r.anyValue(e,i.ui("backgroundColor"))||"#ddddcc";const G=y.appendChild(s.tabs.tabWidget(V));return s.aclControl.preventBrowserDropEvents(n),s.widgets.makeDropTarget(G.tabContainer,S,A),s.widgets.makeDropTarget(j,S,A),g}};return o})(),e.exports=r(n(500),n(8230),n(9332))},1973:(e,t,n)=>{const r=n(5606),i=n(5576),{isReadable:a,isWritable:o,isIterable:s,isNodeStream:l,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:p,isReadableStream:d,isWritableStream:f}=n(136),h=n(9365),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:v}}=n(8526),{destroyer:b}=n(7647),y=n(3559),w=n(3125),x=n(7221),{createDeferredPromise:k}=n(6017),_=n(333),E=globalThis.Blob||i.Blob,C=void 0!==E?function(e){return e instanceof E}:function(e){return!1},S=globalThis.AbortController||n(5568).AbortController,{FunctionPrototypeCall:A}=n(4641);class T extends y{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function R(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,n=e.writable;let r,i,s,l,c,u=!!a(t),p=!!o(n);function d(e){const t=l;l=null,t?t(e):e&&c.destroy(e)}return c=new T({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:u,writable:p}),p&&(h(n,e=>{p=!1,e&&b(t,e),d(e)}),c._write=function(e,t,i){n.write(e,t)?i():r=i},c._final=function(e){n.end(),i=e},n.on("drain",function(){if(r){const e=r;r=null,e()}}),n.on("finish",function(){if(i){const e=i;i=null,e()}})),u&&(h(t,e=>{u=!1,e&&b(t,e),d(e)}),t.on("readable",function(){if(s){const e=s;s=null,e()}}),t.on("end",function(){c.push(null)}),c._read=function(){for(;;){const e=t.read();if(null===e)return void(s=c._read);if(!c.push(e))return}}),c._destroy=function(e,a){e||null===l||(e=new m),s=null,r=null,i=null,null===l?a(e):(l=a,b(n,e),b(t,e))},c}e.exports=function e(t,n){if(p(t))return t;if(c(t))return R({readable:t});if(u(t))return R({writable:t});if(l(t))return R({writable:!1,readable:!1});if(d(t))return R({readable:w.fromWeb(t)});if(f(t))return R({writable:x.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:a,destroy:o}=function(e){let{promise:t,resolve:n}=k();const i=new S,a=i.signal,o=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:o,cb:s}=await e;if(r.nextTick(s),o)return;if(a.aborted)throw new m(void 0,{cause:a.reason});({promise:t,resolve:n}=k()),yield i}}(),{signal:a});return{value:o,write(e,t,r){const i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(T,e,{objectMode:!0,write:i,final:a,destroy:o});const l=null==e?void 0:e.then;if("function"==typeof l){let t;const n=A(l,e,e=>{if(null!=e)throw new v("nully","body",e)},e=>{b(t,e)});return t=new T({objectMode:!0,readable:!1,write:i,final(e){a(async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}})},destroy:o})}throw new v("Iterable, AsyncIterable or AsyncFunction",n,e)}if(C(t))return e(t.arrayBuffer());if(s(t))return _(T,t,{objectMode:!0,writable:!1});if(d(null==t?void 0:t.readable)&&f(null==t?void 0:t.writable))return T.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable)){return R({readable:null!=t&&t.readable?c(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0})}const i=null==t?void 0:t.then;if("function"==typeof i){let e;return A(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new T({objectMode:!0,writable:!1,read(){}})}throw new g(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},2091:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(4641);e.exports=a;const i=n(8649);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r(a.prototype,i.prototype),r(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},2168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imagePane=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));t.imagePane={icon:r.icons.originalIconBase+"tango/22-image-x-generic.png",name:"image",label:function(e,t){const n=t.session.store;if(!n.anyStatementMatching(e,r.ns.rdf("type"),n.sym("http://purl.org/dc/terms/Image")))return null;return function(e,t,n){const r=e.fetcher.getHeader(t,"content-type");if(r)for(let e=0;e<r.length;e++)for(let t=0;t<n.length;t++)if(r[e].indexOf(n[t])>=0)return!0;return!1}(n,e,["application/pdf"])?null:"view"},render:function(e,t){const n=t.dom,r=t.session.store,i=n.createElement("div");i.setAttribute("class","imageView");const a=n.createElement("IMG");r.fetcher._fetch(e.uri).then(function(e){return e.blob()}).then(function(e){const t=URL.createObjectURL(e);a.setAttribute("src",t)}),a.setAttribute("style","max-width: 100%; max-height: 100%;");const o=n.createElement("TR");return o.appendChild(a),i.appendChild(o),i}}},2224:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:a,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:p,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:h,StringPrototypeToUpperCase:m,StringPrototypeTrim:g}=n(4641),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:k}}=n(8526),{normalizeEncoding:_}=n(6017),{isAsyncFunction:E,isArrayBufferView:C}=n(6017).types,S={};const A=/^[0-7]+$/;const T=v((e,t,n=u,r=c)=>{if("number"!=typeof e)throw new y(t,"number",e);if(!s(e))throw new x(t,"an integer",e);if(e<n||e>r)throw new x(t,`>= ${n} && <= ${r}`,e)}),R=v((e,t,n=-2147483648,r=2147483647)=>{if("number"!=typeof e)throw new y(t,"number",e);if(!s(e))throw new x(t,"an integer",e);if(e<n||e>r)throw new x(t,`>= ${n} && <= ${r}`,e)}),P=v((e,t,n=!1)=>{if("number"!=typeof e)throw new y(t,"number",e);if(!s(e))throw new x(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new x(t,`>= ${r} && <= ${i}`,e)});function F(e,t){if("string"!=typeof e)throw new y(t,"string",e)}const I=v((e,t,n)=>{if(!i(n,e)){const r=a(o(n,e=>"string"==typeof e?`'${e}'`:h(e)),", ");throw new w(t,e,"must be one of: "+r)}});function N(e,t){if("boolean"!=typeof e)throw new y(t,"boolean",e)}function O(e,t,n){return null!=e&&d(e,t)?e[t]:n}const L=v((e,t,n=null)=>{const i=O(n,"allowArray",!1),a=O(n,"allowFunction",!1);if(!O(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!a||"function"!=typeof e))throw new y(t,"Object",e)}),j=v((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new y(t,"a dictionary",e)}),M=v((e,t,n=0)=>{if(!r(e))throw new y(t,"Array",e);if(e.length<n){throw new w(t,e,`must be longer than ${n}`)}});const D=v((e,t="buffer")=>{if(!C(e))throw new y(t,["Buffer","TypedArray","DataView"],e)});const U=v((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new y(t,"AbortSignal",e)}),B=v((e,t)=>{if("function"!=typeof e)throw new y(t,"Function",e)}),z=v((e,t)=>{if("function"!=typeof e||E(e))throw new y(t,"Function",e)}),H=v((e,t)=>{if(void 0!==e)throw new y(t,"undefined",e)});const q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function $(e,t){if(void 0===e||!f(q,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if(void 0===e&&(e=n),"string"==typeof e){if(null===f(A,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=p(e,8)}return P(e,t),e},validateArray:M,validateStringArray:function(e,t){M(e,t);for(let n=0;n<e.length;n++)F(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){M(e,t);for(let n=0;n<e.length;n++)N(e[n],`${t}[${n}]`)},validateAbortSignalArray:function(e,t){M(e,t);for(let n=0;n<e.length;n++){const r=e[n],i=`${t}[${n}]`;if(null==r)throw new y(i,"AbortSignal",r);U(r,i)}},validateBoolean:N,validateBuffer:D,validateDictionary:j,validateEncoding:function(e,t){const n=_(t),r=e.length;if("hex"===n&&r%2!=0)throw new w("encoding",t,`is invalid for data of length ${r}`)},validateFunction:B,validateInt32:R,validateInteger:T,validateNumber:function(e,t,n=void 0,r){if("number"!=typeof e)throw new y(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new x(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:L,validateOneOf:I,validatePlainFunction:z,validatePort:function(e,t="Port",n=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new b(t,e,n);return 0|e},validateSignalName:function(e,t="signal"){if(F(e,t),void 0===S[e]){if(void 0!==S[m(e)])throw new k(e+" (signals must use all capital letters)");throw new k(e)}},validateString:F,validateUint32:P,validateUndefined:H,validateUnion:function(e,t,n){if(!i(n,e))throw new y(t,`('${a(n,"|")}')`,e)},validateAbortSignal:U,validateLinkHeaderValue:function(e){if("string"==typeof e)return $(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const i=e[r];$(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},2368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.default={icon:r.icons.iconBase+"noun_106746.svg",name:"transaction",audience:[o.solid("PowerUser")],label:function(e,t){const n=t.session.store,i=n.findTypeURIs(e);return i["http://www.w3.org/2000/10/swap/pim/qif#Transaction"]?"$$":n.any(e,r.ns.qu("amount"))?"$$$":i["http://www.w3.org/ns/pim/trip#Trip"]?"Trip $":null},render:function(e,t){const n=t.dom,a=t.session.store,s=a.fetcher,l=i.Namespace("http://www.w3.org/2000/10/swap/pim/qif#"),c=i.Namespace("http://www.w3.org/ns/pim/trip#"),u=n.createElement("div");u.setAttribute("class","transactionPane");const p=function(e){return function(e,t){void 0===t&&(t="color: grey");const r=n.createElement("pre");r.setAttribute("style",t),u.appendChild(r),r.appendChild(n.createTextNode(e))}(e,"color: #100; background-color: #fee")},d=a.statementsMatching(e),f=a.statementsMatching(void 0,void 0,e),h=a.findTypeURIs(e),m={},g=function(e){m[e.uri]=!0},v=function(e){if(void 0===e)return"";const t=""+e;return t.indexOf(".")>=0?t.split(".")[0]+"."+(t.split(".")[1]+"00").slice(0,2):t+".00"},b=function(e,t){const r=n.createElement("td");return 0+e===0&&t||(r.textContent=v(e)),r.setAttribute("style","width: 6em; text-align: right; "),r},y=function(e){const t=n.createElement("th");return t.textContent=e,t.setAttribute("style","text-align: right; "),t},w=function(e,t){const n=a.any(e,o.qu("date")),r=a.any(t,o.qu("date"));if(void 0!==n&&void 0!==r){if(n.value<r.value)return-1;if(n.value>r.value)return 1}return e.uri<t.uri?-1:e.uri>t.uri?1:0},x=function(e,n,r,i,a){n.expanded?(n.parentNode.removeChild(n.expanded),n.expanded=!1):function(e,n,r,i,a){const o=n.parentNode.children;if(a)for(let e=o.length-1;e>=0;e--)o[e].expanded&&(o[e].parentNode.removeChild(o[e].expanded),o[e].expanded=!1);const s=e.createElement("tr"),l=s.appendChild(e.createElement("td"));l.setAttribute("style","width: 98%; padding: 1em; border: 0.1em solid grey;");const c=n.children.length;n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s),n.expanded=s,l.setAttribute("colspan",""+c),l.appendChild(function(e,t,n){const r=e.session.paneRegistry.byName(n).render(t,e);return r.setAttribute("style","border: 0.1em solid green;"),r}(t,r,i))}(e,n,r,i,a)};if(h["http://www.w3.org/2000/10/swap/pim/qif#Transaction"]||a.any(e,o.qu("toAccount"))){g(o.rdf("type"));const h=a.any(e,r.ns.qu("toAccount"));!function(e){let t="padding: 0.5em 1.5em 1em 1.5em; ";if(e){const n=a.any(e,r.ns.ui("backgroundColor"));n&&(t+="background-color: "+n.value+"; ")}u.setAttribute("style",t)}(h),h||p("(Error: There is no bank account known for this transaction <"+e.uri+">,\n -- every transaction needs one.)");let v=null;const b=a.any(e,r.ns.qu("accordingTo"));void 0===b?p("(Error: There is no back link to the original data source foir this transaction <"+e.uri+">,\nso I can't tell how to annotate it.)"):(v=void 0!==b?a.any(b,r.ns.qu("annotationStore")):null,void 0===v&&p("(There is no annotation document for this statement\n<"+b.uri+">,\nso you cannot classify this transaction.)"));const y=n.createElement("div");y.setAttribute("style","float:right"),u.appendChild(y);const w=function(t,i){g(t);const o=a.any(e,t);if(!o)return;const s=n.createElement("a");s.setAttribute("href",o.uri),s.setAttribute("style","float:right"),y.appendChild(s).textContent=i||r.utils.label(o),y.appendChild(n.createElement("br"))};w(r.ns.qu("toAccount")),w(r.ns.qu("accordingTo"),"Statement"),w(c("trip"));const x=n.createElement("table");u.appendChild(x);const k=["date","payee","amount","in_USD","currency"].map(l).map(function(t){g(t);const n=a.any(e,t),i=n?r.utils.labelForXML(n):"";return'<tr><td style="text-align: right; padding-right: 0.6em">'+r.utils.labelForXML(t)+'</td><td style="font-weight: bold;">'+i+"</td></tr>"}).join("\n");x.innerHTML=k;const _=function(e,t){e||p("Sorry, failed to save your change:\n"+t)};v&&a.fetcher.nowOrWhenFetched(v.uri,e,function(l,h){l||p("Cannot load store "+v+" "+h);const b=a.any(v,o.qu("calendarYear")),y=function(){u.insertBefore(r.widgets.makeSelectForNestedCategory(n,a,e,r.ns.qu("Classified"),v,_),x.nextSibling)};a.any(void 0,o.rdfs("subClassOf"),o.qu.Classified)?y():b&&s.load(b).then(function(e){s.load(a.each(b,o.rdfs("seeAlso"))).then(function(){y()}).catch(function(e){})}).catch(function(e){}),u.appendChild(r.widgets.makeDescription(n,a,e,r.ns.rdfs("comment"),v,_));let w=a.statementsMatching(void 0,c("trip"),void 0,v).map(function(e){return e.object});const k=a.each(void 0,r.ns.rdf("type"),c("Trip"));w=w.concat(k).sort();w=function(e,t,n,r){const i=t.map(function(t){let r=e.any(t,n);return r=r?r.value:"9999-12-31",[r,t]});return i.sort(),r&&i.reverse(),i.map(function(e){return e[1]})}(a,w,r.ns.cal("dtstart"),!0),w.length>1&&u.appendChild(r.widgets.makeSelectForOptions(n,a,e,c("trip"),w,{multiple:!1,nullLabel:"-- what trip? --",mint:"New Trip *",mintClass:c("Trip"),mintStatementsFun:function(e){const t=[];return t.push(i.st(e,r.ns.rdf("type"),c("Trip"),e.doc())),t}},v,_)),u.appendChild(n.createElement("br"));const E=t.getOutliner(n);g(o.rdfs("comment")),r.widgets.attachmentList(n,e,u),g(o.wf("attachment")),u.appendChild(n.createElement("tr")).setAttribute("style","height: 1em"),E.appendPropertyTRs(u,d,!1,function(e,t){return!(e.uri in m)}),E.appendPropertyTRs(u,f,!0,function(e,t){return!(e.uri in m)})})}else if(h["http://www.w3.org/ns/pim/trip#Trip"]){const t=function(){const t={},i={},s={},l=a.each(void 0,c("trip"),e),d=l.map(function(e){return e.doc()});a.fetcher.load(d).then(function(){l.forEach(function(e){const n=a.the(e,o.qu("date")),l=n?(""+n.value).slice(0,4):"????";let c=a.the(e,o.rdf("type"));if(c||(c=r.ns.qu("ErrorNoType")),c&&c.uri){const n=c.uri;i[l]||(i[l]=0),s[l]||(s[l]={}),t[n]||(t[n]=0),s[l][n]||(s[l][n]=0);const o=a.any(e,r.ns.qu("in_USD"));if(o||p("@@ No amount in USD: "+o+" for "+e),o){const e=parseFloat(o.value);t[n]+=e,s[l][n]+=e,i[l]+=e}}});const c=[];let d=0;const f=[];let h;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&f.push(e);f.sort();const m=f.length;let g;const k=u.appendChild(n.createElement("table"));if(k.setAttribute("style","font-size: 120%; margin-left:auto; margin-right:1em; margin-top: 1em; border: 0.05em solid gray; padding: 1em;"),m>1){const e=k.appendChild(n.createElement("tr"));for(e.appendChild(y("")),h=0;h<m;h++)e.appendChild(y(f[h]));e.appendChild(y("total"))}for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(c.push(e),d+=t[e]);let _,E,C;c.sort();for(let e=0;e<c.length;e++){const i=a.sym(c[e]);if(_=k.appendChild(n.createElement("tr")),E=_.appendChild(n.createElement("td")),E.textContent=r.utils.label(i),m>1)for(h=0;h<m;h++)C=s[f[h]][c[e]],g=_.appendChild(b(C,!0));_.appendChild(b(t[c[e]],!0))}if(c.length>1){if(_=k.appendChild(n.createElement("tr")),_.appendChild(y("total")),m>1)for(h=0;h<m;h++)C=i[f[h]],g=_.appendChild(b(C?v(C):""));g=_.appendChild(b(d)),g.setAttribute("style","font-weight: bold; text-align: right;")}const S=function(e,t,n){const i=e.createElement("table");i.setAttribute("style","padding-left: 0.5em; padding-right: 0.5em; font-size: 9pt; width: 85%;");const s=function(e,t){const n=e.createElement("tr"),i=a.any(t,o.qu("toAccount"));!function(e,t){let n="'padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.1em;";if(t){const e=a.any(t,r.ns.ui("backgroundColor"));e&&(n+="background-color: "+e.value+"; ")}e.setAttribute("style",n)}(n,i);const s=n.appendChild(e.createElement("td")),l=a.any(t,o.qu("date"));s.textContent=l?l.value.slice(0,10):"???",s.setAttribute("style","width: 7em;");const c=n.appendChild(e.createElement("td"));c.setAttribute("style","width: 36em;");const u=a.any(t,o.qu("payee"));c.textContent=u?u.value:"???";const p=c.appendChild(e.createElement("a"));p.textContent=" ➜",p.setAttribute("href",t.uri);const d=n.appendChild(e.createElement("td")),f=a.any(t,o.qu("in_USD"));return d.textContent=f?v(f.value):"???",d.setAttribute("style","width: 6em; text-align: right; "),n.addEventListener("click",function(r){x(e,n,t,"transaction",!r.shiftKey)},!1),n},l=n?t.filter(n):t.slice();l.sort(w);for(let t=0;t<l.length;t++)i.appendChild(s(e,l[t]));return i}(n,l);S.setAttribute("style","margin-left:auto; margin-right:1em; margin-top: 1em; border: padding: 1em;"),u.appendChild(S),r.widgets.attachmentList(n,e,u)}).catch(function(e){p("Error loading transactions: "+e)})};t()}return u}}},2371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerPanes=function(e){e(r.default);const t=r.default.editor;e(t),e(i.default),e(a.default),e(o.default),e(s.default),e(l.default),e(c.default),e(u.default),e(p.default),e(d.default),e(f.default),e(h.default),e(m.longChatPane),e(m.shortChatPane),e(g.schedulePane),e(v.default),e(b.imagePane),e(y.default),e(w.default),e(x.default),e(k.default),e(_.default),e(E.classInstancePane),e(C.slideshowPane),e(S.socialPane),e(A.default),e(T.dataContentPane),e(R.default),e(P.n3Pane),e(F.RDFXMLPane),e(I.formPane),e(N.tableViewPane),e(O.defaultPane),e(L.default),e(j.default),e(M.default),e(D.default)};var r=U(n(2643)),i=U(n(1917)),a=U(n(5682)),o=U(n(6106)),s=U(n(3931)),l=U(n(3955)),c=U(n(8938)),u=U(n(9370)),p=U(n(2368)),d=U(n(8131)),f=U(n(1927)),h=U(n(4036)),m=n(7052),g=n(9814),v=U(n(5130)),b=n(2168),y=U(n(8912)),w=U(n(6778)),x=U(n(6686)),k=U(n(2970)),_=U(n(1838)),E=n(5382),C=n(7978),S=n(7350),A=U(n(6380)),T=n(1424),R=U(n(3385)),P=n(7334),F=n(8236),I=n(5238),N=n(3472),O=n(4064),L=U(n(6682)),j=U(n(6298)),M=U(n(4930)),D=U(n(8426));function U(e){return e&&e.__esModule?e:{default:e}}},2378:(e,t,n)=>{"use strict";n.r(t),n.d(t,{styleMap:()=>s});var r=n(6752),i=n(7804);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const a="important",o=" !"+a,s=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.ATTRIBUTE||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null==r?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const e of this.ft)null==t[e]&&(this.ft.delete(e),e.includes("-")?n.removeProperty(e):n[e]=null);for(const e in t){const r=t[e];if(null!=r){this.ft.add(e);const t="string"==typeof r&&r.endsWith(o);e.includes("-")||t?n.setProperty(e,t?r.slice(0,-11):r,t?a:""):n[e]=r}}return r.noChange}})},2643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(6752),a=n(3447),o=(r=n(2687))&&r.__esModule?r:{default:r},s=n(500),l=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(7583));const c={global:!1,icon:s.icons.iconBase+"noun_15059.svg",name:"profile",label:function(e,t){const n=t.session.store.findTypeURIs(e);return n[s.ns.vcard("Individual").uri]||n[s.ns.foaf("Person").uri]||n[s.ns.schema("Person").uri]?"Profile":null},editor:o.default,render:(e,t)=>{const n=t.dom.createElement("div");return async function(e,t){const n=e.each(t,s.ns.rdfs("seeAlso"),null,t.doc());n.length>0&&await e.fetcher.load(n)}(t.session.store,e).then(async()=>{(0,i.render)(await(0,a.ProfileView)(e,t),n);const r=Array.from(n.getElementsByClassName("QRCode"));if(r.length)for(const e of r){const t=e.getAttribute("data-value");if(!t)return;const n={type:"svg",color:{dark:e.getAttribute("highlightColor")||"#000000",light:e.getAttribute("backgroundColor")||"#ffffff"}};l.toString(t,n,function(t,n){t||(e.innerHTML=n,e.style.width="80%",e.style.height="80%",e.style.margin="10%")})}}),n}};t.default=c},2687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8230),i=n(500),a=n(4596);const o=i.style.highlightColor||"#7C4DFF",s={global:!0,icon:i.icons.iconBase+"noun_492246.svg",name:"editProfile",label:()=>null,render:function(e,t){const n=t.dom,s=t.session.store;function l(e,t){e||c.appendChild(i.widgets.errorMessageBlock(n,t,"#fee"))}const c=n.createElement("div");let u;c.setAttribute("data-testid","profile-editor"),c.setAttribute("style",`border: 0.3em solid ${o}; border-radius: 0.5em; padding: 0.7em; margin-top:0.7em;`);const p=c.appendChild(n.createElement("table")),d=p.appendChild(n.createElement("tr")),f=p.appendChild(n.createElement("tr")).appendChild(n.createElement("div"));function h(e){const t=d.appendChild(n.createElement("p"));return t.setAttribute("style","padding: 1em;"),t.textContent=e,t}function m(e){const t=d.appendChild(n.createElement("h3"));return t.setAttribute("style","color:"+o+";"),t.textContent=e,t}f.setAttribute("style","padding: 0.7em;");const g={dom:n,div:d,statusArea:f,me:null};return i.login.ensureLoadedProfile(g).then(e=>{const o=e.me;m("Edit your public profile");const c=o.doc();if(!s.updater)throw new Error("Store has no updater");if(s.any(o,i.ns.solid("editableProfile")))u=s.any(o,i.ns.solid("editableProfile"));else{if(!s.updater.editable(c.uri,s))return void f.appendChild(i.widgets.errorMessageBlock(n,`⚠️ Your profile ${c} is not editable, so we cannot do much here.`,"straw"));u=c}h("Everything you put here will be public.\n        There will be other places to record private things."),m("Your contact information"),d.appendChild((0,a.paneDiv)(t,o,"contact")),m("People you know who have WebIDs"),h("This is your public social network.\n        Only put people here to whom you are happy to be publicly connected.\n        (You can always keep private track of friends and family in your contacts.)"),u&&h("Drag people onto the target below to add people."),i.widgets.attachmentList(n,o,d,{doc:c,modify:!!u,predicate:i.ns.foaf("knows"),noun:"friend"}),m("Communities you participate in"),h("These are organizations and projects (etc) whose stuff you share"),u&&h("Drag organizations onto the target below to add organizations."),i.widgets.attachmentList(n,o,d,{doc:c,modify:!!u,predicate:i.ns.solid("community"),noun:"community"}),function(e,t){const a=(0,r.sym)("https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this"),o=a.doc();s.holds(void 0,void 0,void 0,o)||(0,r.parse)('@prefix os: <http://www.w3.org/2000/10/swap/os#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n\n@prefix org: <http://www.w3.org/ns/org#>.\n@prefix esco: <http://data.europa.eu/esco/model#>.\n@prefix wd: <http://www.wikidata.org/entity/>.\n@prefix wdt: <http://www.wikidata.org/prop/direct/>.\n\n@prefix : <https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#>.\n@prefix soc: <https://solidos.github.io/profile-pane/src/ontology/socialMedia.ttl#>.\n\n# was: https://solidos.github.io/solid-panes/dashboard/profileStyle.ttl#this\n# moved to:  https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this\n\n\n\n\n# About forms: https://solidos.github.io/solid-ui/Documentation/forms-intro.html\n# About personal public data:  https://www.w3.org/DesignIssues/PersonalPublic.html\n#\n\n:this\n    <http://purl.org/dc/elements/1.1/title> "Profile form" ;\n    a ui:Form ;\n    # ui:part :backgroundColor, :highlightColor;\n    ui:parts (\n      :styleGroup\n      :nicknameField\n      :pronounsForm\n      :LanguagesPrompt :LanguagesForm\n      :SocialsPrompt :SocialsForm\n      :CVGroup\n      :SkillsPrompt :SkillsForm\n      ).\n\n:styleGroup a ui:Group; ui:weight 0; ui:parts ( :styleHeading :backgroundColor :highlightColor ).\n    :styleHeading a ui:Heading; ui:contents "The style of your public profile.".\n    :backgroundColor a ui:ColorField; ui:property solid:profileBackgroundColor;\n      ui:label "Background color"; ui:default "#ffffff".\n    :highlightColor a ui:ColorField; ui:property solid:profileHighlightColor;\n      ui:label "Highlight color"; ui:default "#000000".\n\n# Nickname\n\n:nicknameField a ui:SingleLineTextField; ui:size 12; ui:property foaf:nick;\n      ui:label "Short name for chats, etc."@en, "nom court"@fr.\n\n # Pronouns\n\n :pronounsForm a ui:Group; ui:weight 0; ui:parts ( :pronounsPrompt :subjectPronounForm :objectPronounForm :relativePronounForm) .\n\n    :pronounsPrompt a ui:Comment; ui:contents  "What are your pronouns?" .\n\n    :subjectPronounForm a ui:SingleLineTextField; ui:property solid:preferredSubjectPronoun;\n        ui:size 10; ui:label "he/she/they..." .\n    :objectPronounForm a ui:SingleLineTextField; ui:property solid:preferredObjectPronoun;\n        ui:size 10; ui:label "him/her/them..." .\n    :relativePronounForm a ui:SingleLineTextField; ui:property solid:preferredRelativePronoun;\n        ui:size 10; ui:label "his/hers/theirs..." .\n\n  # Curriculum Vitae: membership of organizations\n\n  :CVHeading a ui:Heading; ui:contents "Public Curriculum Vitae".\n  :CVPrompt a ui:Comment; ui:contents  "What organizations have you been involved with?" .\n\n    :CVGroup a ui:Group; ui:weight 1; ui:parts ( :CVHeading :CVPrompt :involvementWithOrganizationsForm ).\n\n\n  solid:Role a rdfs:Class; owl:oneOf ( solid:CurrentRole solid:FormerRole solid:FutureRole ). # Future Role too?\n\n  org:member owl:inverse [ ui:label "involvement with company, org etc" ]. # timelimited involvement\n\n  :involvementWithOrganizationsForm a ui:Multiple;\n      ui:label "Involvement with Organization";\n      ui:property org:member; ui:reverse true; # link back from role to member\n      ui:ordered false; # Allow user to order CV secions rather than force date order? No.\n      ui:part :RoleMembershipForm.\n\n# This is a big important form for one of a series of roles in the list.\n\n  :RoleMembershipForm a ui:Group; ui:weight 3; ui:parts ( :MembershipFormHeading :roleNameField\n        :escoOccupationField :orgField :RoleClassifier :RoleDatesForm :RoleDescriptionForm).\n\n     :MembershipFormHeading a ui:Heading; ui:contents "Details of this role"@en, "Détailes de ce rôle"@fr .\n\n     :orgField a ui:Choice; ui:label "Organization"@en, "Organization"@fr;\n          ui:canMintNew true; ui:use :OrganizationCreationForm ;\n          ui:property org:organization;\n          ui:from vcard:Organization .\n     :roleNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 60 .\n\n    :escoOccupationField a ui:AutocompleteField;\n          ui:label "occupation"; ui:size 60;\n          ui:property org:role;\n          ui:dataSource :ESCO_Occupation_DataSource;\n           ui:targetClass schema:Occupation .\n\n         :ESCO_Occupation_DataSource a ui:DataSource;\n            schema:name "ESCO";\n            ui:targetClass schema:Occupation ;\n            schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n            ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)".\n\n     :instituteIdentityField a ui:AutocompleteField; ui:label "in wikidata";\n          ui:size 60;\n          ui:property solid:publicId; ui:dataSource :WikidataOnOrganizations.\n\n     :WikidataOnOrganizations a ui:DataSource ;\n       schema:name "Wikidata";\n       ui:endpoint "https://query.wikidata.org/sparql" ;\n       ui:targetClass  <http://www.wikidata.org/entity/Q43229>; # Use if nothing else\n       ui:searchByNameQuery """SELECT ?subject ?name\n       WHERE {\n         ?klass wdt:P279* $(targetClass) .\n         ?subject wdt:P31 ?klass .\n         ?subject rdfs:label ?name.\n         FILTER regex(?name, "$(name)", "i")\n       } LIMIT $(limit) """ .\n\n      :WikidataOnOrganizations ui:classMap\n       [ ui:internalClass schema:Corporation; ui:externalClass <http://www.wikidata.org/entity/Q6881511>], #Enterprise is for-profit\n       [ ui:internalClass schema:EducationalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q178706>], #insitution\n       [ ui:internalClass schema:ResearchOrganization; ui:externalClass <http://www.wikidata.org/entity/Q31855>], # reearch insitutie\n       [ ui:internalClass schema:GovernmentOrganization; ui:externalClass <http://www.wikidata.org/entity/Q327333>], #government agency\n       [ ui:internalClass schema:MedicalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4287745>],\n       [ ui:internalClass schema:MusicGroup; ui:externalClass <http://www.wikidata.org/entity/Q32178211>], #music organization\n       [ ui:internalClass schema:NGO; ui:externalClass <http://www.wikidata.org/entity/Q163740>], #nonprofit organization @@\n       [ ui:internalClass schema:Occupation; ui:externalClass <http://www.wikidata.org/entity/Q28640>], # superclass: Profession\n       [ ui:internalClass schema:Organization; ui:externalClass <http://www.wikidata.org/entity/Q43229>], # Superclass; Organization\n       [ ui:internalClass schema:Project; ui:externalClass <http://www.wikidata.org/entity/Q170584>],\n       [ ui:internalClass schema:SportsOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4438121>] .\n\n\n# eposodes in one\'s career - Roles\n\nsolid:Role owl:disjointUnionOf ( solid:PastRole solid:CurrentRole solid:FutureRole ) .\nsolid:PastRole a rdfs:Class; rdfs:label "former role"@en, "ancien rôle"@fr, "vergangene Rolle"@de, "rol anterior"@es .\nsolid:CurrentRole a rdfs:Class; rdfs:label "current role"@en, "rôle actuel"@fr, "momentane Rolle"@de , "rol actual"@es .\nsolid:FutureRole a rdfs:Class; rdfs:label "future role"@en, "rôle à venir"@fr, "zukünftige Rolle"@de, "rol futuro"@es .\n\n:RoleDatesGroup a ui:Group; ui:weight 0; ui:parts ( :RoleClassifier :RoleDatesForm ) .\n  :RoleClassifier a ui:Classifier; ui:label "What sort of role?"@en;\n      ui:category solid:Role .\n\n  :RoleDatesForm a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for solid:PastRole; ui:use :TwoDateForm ],\n     [ ui:for solid:CurrentRole; ui:use :StartDateForm ],\n     [ ui:for solid:FutureRole; ui:use :StartDateForm ].\n\n      :StartDateForm a ui:DateField; ui:label "start"@en,"début"@fr;\n          ui:property schema:startDate .\n      :TwoDateForm a ui:Group; ui:weight 0; ui:parts ( :StartDateForm :EndDateForm ) .\n      :EndDateForm a ui:DateField; ui:label "end"@en,"fin"@fr;\n          ui:property schema:endDate .\n\n:RoleDescriptionForm a ui:MultiLineTextField; ui:property schema:description;\n  ui:label "Describe your role" .\n\n# Organizations\n\n vcard:Organization ui:creationForm :OrganizationCreationForm  .\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corporation\n# Consortium - a Corporation or a NGO\n schema:Corporation\n schema:EducationalOrganization\n schema:ResearchOrganization  # Proposed. https://github.com/schemaorg/schemaorg/issues/2877\n# FundingScheme - eh?\n schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n# MedicalOrganization - a Corporation or a NGO\n schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\nschema:PerformingGroup # a band\nschema:Project # like Solid\nschema:SportsOrganization # a Team\nsolid:OtherOrganization\n ) .\n\n# This until the schema.org ontology adopts it\nschema:ResearchOrganization a rdfs:Class; rdfs:label "Research Organization"@en, "Organization de Recherche"@fr ,\n   "organización de investigación"@es, "منظمة البحث"@ar, "अनुसंधान संगठन"@hi, "Forschungsorganisation"@de, "shirika la utafiti"@sw .\n\n  :OrganizationCreationForm a ui:Form; schema:name "Form for editing an organization using public data" ;\n    ui:parts ( :OrgClassifier :OrgSwitch   :OrganizationNameField :homePageURIField  ) .\n\n\n :OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n    ui:category solid:InterestingOrganization .\n\n  :OrganizationNameField\n      a ui:SingleLineTextField ;\n      ui:label "Organization Name";\n      ui:maxLength "200" ;\n      ui:property schema:name ;\n      ui:size    80 .\n\n   :homePageURIField a ui:NamedNodeURIField; ui:size 80;\n      ui:label "Home page URI"@en;\n      ui:property  schema:uri . # @@ ??\n\n    :initituteTypeField a ui:Classifier;\n    ui:label "What sort of organization";\n    ui:category solid:InterestingOrganization .\n\n#  Depending on the type of org, chose a different form\n\n :OrgSwitch a ui:Options; ui:dependingOn rdf:type;\n   ui:case\n   [ ui:for schema:Corporation; ui:use :CorporationForm ],\n   [ ui:for schema:GovernmentOrganization; ui:use :GovernmentOrganizationForm ],\n   [ ui:for schema:PerformingGroup; ui:use :PerformingGroupForm ],\n   [ ui:for schema:Project; ui:use :ProjectForm ],\n   [ ui:for schema:NGO; ui:use :NGOForm ],\n   [ ui:for schema:EducationalOrganization; ui:use :EducationalOrganizationForm ],\n   [ ui:for schema:ResearchOrganization; ui:use :ResearchOrganizationForm ],\n   [ ui:for :SportsOrganization; ui:use :SportsOrganizationForm ],\n   [ ui:for solid:OtherOrganization; ui:use :OtherOrganizationForm ].\n\n\n  :CorporationForm a ui:Group; ui:weight 0; ui:parts ( :CorporationPrompt :CorporationAutocomplete ) .\n\n      :CorporationPrompt a ui:Comment; ui:contents "Which corporation?".\n\n      :CorporationAutocomplete a ui:AutocompleteField;\n      a ui:AutocompleteField; ui:label "Corporation in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q6881511>; # Enterprise\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n      :WikidataInstancesByName a ui:DataSource ;\n        schema:name "Wikidata instances by name";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:searchByNameQuery """SELECT ?subject ?name\n        WHERE {\n          ?klass wdt:P279* $(targetClass) .\n          ?subject wdt:P31 ?klass .\n          ?subject rdfs:label ?name.\n          FILTER regex(?name, "$(name)", "i")\n        } LIMIT $(limit) """ ;\n\n        # Note this form of the query is very experimental\n        ui:searchByName [   ui:construct { ?subject schema:name ?name } ;\n                            ui:where { ?klass wdt:P279 ?targetClass .\n                                       ?subject wdt:P31 ?klass; rdfs:label ?name .\n                                     };\n                        ].\n\n  :GovernmentOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :GovernmentOrganizationPrompt :GovernmentOrganizationAutocomplete ) .\n\n      :GovernmentOrganizationPrompt a ui:Comment; ui:contents "Which GovernmentOrganization?".\n\n      :GovernmentOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "GovernmentOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q327333>; # GovernmentOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n    :EducationalOrganizationForm a ui:Group; ui:weight 1; ui:parts ( :EducationalOrganizationPrompt :EducationalOrganizationAutocomplete ) .\n\n        :EducationalOrganizationPrompt a ui:Comment; ui:contents "Which Educational Organization?".\n\n        :EducationalOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Educational Organization in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q2385804>; # EducationalOrganization\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n    :ResearchOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :ResearchOrganizationPrompt :ResearchOrganizationAutocomplete ) .\n\n        :ResearchOrganizationPrompt a ui:Comment; ui:contents "Which Research Organization?".\n\n        :ResearchOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Research Insitute in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q31855>; # research institute\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :NGOForm a ui:Group; ui:weight 0; ui:parts ( :NGOPrompt :NGOAutocomplete ) .\n\n      :NGOPrompt a ui:Comment; ui:contents "Which NGO?".\n\n      :NGOAutocomplete\n      a ui:AutocompleteField; ui:label "NGO in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q163740>; # Non-profit org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :PerformingGroupForm a ui:Group; ui:weight 0; ui:parts ( :PerformingGroupPrompt :PerformingGroupAutocomplete ) .\n\n      :PerformingGroupPrompt a ui:Comment; ui:contents "Which PerformingGroup?".\n\n      :PerformingGroupAutocomplete\n      a ui:AutocompleteField; ui:label "PerformingGroup in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q32178211>; # Music Org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :ProjectForm a ui:Group; ui:weight 0; ui:parts ( :ProjectPrompt :ProjectAutocomplete ) . #  :ProjectAutocomplete - no: supress, as not in WD\n\n      :ProjectPrompt a ui:Comment; ui:contents "Which Project?".\n\n      :ProjectAutocomplete\n      a ui:AutocompleteField; ui:label "Project in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q170584>; # Project\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :SportsOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :SportsOrganizationPrompt :SportsOrganizationAutocomplete ) .\n\n      :SportsOrganizationPrompt a ui:Comment; ui:contents "Which Sports Organization?".\n\n      :SportsOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "SportsOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q4438121>; # SportsOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n   :OtherOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :OrganizationNameField :homePageURIField ) .\n\n  #################### Skills\n\n  :SkillsPrompt a ui:Comment; ui:contents  "Skills?" .\n\n  :SkillsForm a ui:Multiple;\n      ui:label "Skills";\n      ui:property schema:skills;\n      ui:ordered false; # Allow reader to order skills\n      ui:part :SkillForm.\n\n  :SkillForm a ui:Group; ui:weight 1; ui:parts ( :escoSkillField ).\n\n        # :skillNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 30 .\n\n        :escoSkillField a ui:AutocompleteField;\n              ui:label "skill"; ui:size 30;\n              ui:property solid:publicId;\n              ui:dataSource :ESCO_Skill_DataSource;\n               ui:targetClass schema:Skill .\n\n        :ESCO_Skill_DataSource a ui:DataSource;\n           schema:name "ESCO Skill";\n           ui:targetClass esco:Skill ;\n           schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n           ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&limit=$(limit)&type=skill&text=$(name)".\n\n# Language\n\n:LanguagesPrompt a ui:Comment; ui:contents  "Languages?" .\n\n:LanguagesForm a ui:Multiple;\n    ui:label "Languages";\n    ui:property schema:knowsLanguage; # @@@\n    ui:ordered true; # Allow user to order languages most important first.\n    ui:part :LanguageForm.\n\n:LanguageForm a ui:Group; ui:weight 1; ui:parts ( :WikidataLanguageField ).\n\n    :WikidataLanguageField a ui:AutocompleteField;\n          ui:label "Language"; ui:size 30;\n          ui:property solid:publicId; # @@\n          ui:dataSource :WikidataLanguageDataSource;\n           ui:targetClass schema:Language .\n\n    :WikidataLanguageDataSource\n        schema:name "Wikidata languages";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:objectURIBase <https://www.w3.org/ns/iana/language-code/>;\n        # Add this to any literal string returned as ?subject\n\n         ui:searchByNameQuery """SELECT ?item ?subject ?name\nWHERE\n{ ?item wdt:P305 ?subject .\n  OPTIONAL {?item rdfs:label ?name}\n  OPTIONAL {?item wdt:P1705 ?name}\n  FILTER regex(?name, "$(name)", "i")\n  FILTER regex(?subject, "^..$", "i")\n}""" .\n # Note we restrict code to two-letter codes with the second regex, so as to limit the deluge of languages\n # Hope there are not any important ones which have three-letter codes.\n # Omitted: SERVICE wikibase:label { bd:serviceParam wikibase:language "$(languages)". }\n\n########### Social Media - other accounts\n#\n# Twitter, Linked In, Orkid, Mastodon, Matrix, Bluesky, Instagram, Facebook, Github,\n# Snapchat, TikTok, etc\n\n:SocialsPrompt a ui:Heading; ui:contents  "Social Media etc?" .\n:SocialsPrompt a ui:Comment; ui:contents  "Link to accounts in social media sites, etc" .\n\n:SocialsForm a ui:Multiple;\n    ui:label "online account";\n    ui:property foaf:account;\n    ui:ordered true; # Allow user to order occounts most important first.\n    ui:part :AccountsForm.\n\n:AccountsForm a ui:Group; ui:weight 1; ui:parts ( :AccountField :AccountIdField ).\n\n:AccountField a ui:Classifier; ui:label "What sort of account?"@en;\n      ui:multiple false ; \n      ui:category foaf:Account  .\n\n:AccountIdField a ui:Options . \n\n  :AccountIdField a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for soc:BlueSkyAccount; ui:use :BlueSkyIdField ],\n     [ ui:for soc:FacebookAccount; ui:use :FacebookIdField ],\n     [ ui:for soc:GithubAccount; ui:use :GithubIdField ],\n     [ ui:for soc:InstagramAccount; ui:use :InstagramIdField ],\n     [ ui:for soc:LinkedInAccount; ui:use :LinkedInIdField ],\n     [ ui:for soc:MastodonAccount; ui:use :MastodonIdField ],\n     [ ui:for soc:MatrixAccount; ui:use :MatrixIdField ],\n     [ ui:for soc:MediumAccount; ui:use :MediumIdField ],\n     [ ui:for soc:NostrAccount; ui:use :NostrIdField ],\n     [ ui:for soc:OrcidAccount; ui:use :OrcidIdField ],\n     [ ui:for soc:PinterestAccount; ui:use :PinterestIdField ],\n     [ ui:for soc:RedditAccount; ui:use :RedditIdField ],\n     [ ui:for soc:StravaAccount; ui:use :StravaIdField ],\n     [ ui:for soc:SnapchatAccount; ui:use :SnapchatIdField ],\n     [ ui:for soc:TiktokAccount; ui:use :TiktokIdField ],\n     [ ui:for soc:TumblrAccount; ui:use :TumblrIdField ],\n     [ ui:for soc:TwitterAccount; ui:use :TwitterIdField ],\n     [ ui:for soc:OtherAccount; ui:use :OtherIdForm  ] .\n\n  :BlueSkyIdField\n      a ui:SingleLineTextField ;\n      ui:label "Bluesky Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-](.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :FacebookIdField\n      a ui:SingleLineTextField ;\n      ui:label "Facebook Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :GithubIdField\n      a ui:SingleLineTextField ;\n      ui:label "Github Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :InstagramIdField\n      a ui:SingleLineTextField ;\n      ui:label "Instagram Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :LinkedInIdField\n      a ui:SingleLineTextField ;\n      ui:label "Linked In Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MastodonIdField\n      a ui:SingleLineTextField ;\n      ui:label "Mastodon (Activity Pub) Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MatrixIdField\n      a ui:SingleLineTextField ;\n      ui:label "Matrix Username";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MediumIdField\n      a ui:SingleLineTextField ;\n      ui:label "Medium Username";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :NostrIdField\n      a ui:SingleLineTextField ;\n      ui:label "Nostr public key";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    70 .\n\n  :OrcidIdField\n      a ui:SingleLineTextField ;\n      ui:label "ORCiD id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :PinterestIdField\n      a ui:SingleLineTextField ;\n      ui:label "Pinterest id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :RedditIdField\n      a ui:SingleLineTextField ;\n      ui:label "Reddit Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :StravaIdField\n      a ui:SingleLineTextField ;\n      ui:label "Strava Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :SnapchatIdField\n      a ui:SingleLineTextField ;\n      ui:label "Snapchat Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TiktokIdField\n      a ui:SingleLineTextField ;\n      ui:label "Tiktok Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TumblrIdField\n      a ui:SingleLineTextField ;\n      ui:label "Tumblr user name";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TwitterIdField\n      a ui:SingleLineTextField ;\n      ui:label "Twitter Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n# an unknown SN account needs more info\n\n  :OtherIdForm a ui:Group; ui:weight 0; ui:parts ( :OtherIdField :OtherIconField :OtherLabelield ).\n\n  :OtherIdField\n      a ui:NamedNodeURIField ;\n      ui:label "URL of account to link to";\n      ui:maxLength "200" ;\n      ui:property foaf:homepage ; \n      ui:size    60 .\n\n  :OtherLabelield\n      a ui:SingleLineTextField ;\n      ui:label "Label";\n      ui:maxLength "200" ;\n      ui:property rdfs:label ; \n      ui:size    40 .\n\n  :OtherIconField\n      a ui:NamedNodeURIField ;\n      ui:label "URL of icon to display";\n      ui:maxLength "200" ;\n      ui:property foaf:icon ;\n      ui:size    60 .\n\n\n\n\n\n# ENDS\n',s,o.uri,"text/turtle",()=>null),e.setAttribute("data-testid","profile-editor"),i.widgets.appendForm(n,e,{},t,a,u,l)}(d,o),m("Thank you for filling your profile.")}).catch(e=>{f.appendChild(i.widgets.errorMessageBlock(n,e,"#fee"))}),c}};t.default=s},2694:(e,t,n)=>{"use strict";var r=n(6925);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySource=function(){this.queries=[],this.listeners=[],this.addQuery=function(e){let t;for(null!==e.name&&""!==e.name||(e.name="Query #"+(this.queries.length+1)),e.id=this.queries.length,this.queries.push(e),t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].addQuery(e)},this.removeQuery=function(e){let t;for(t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].removeQuery(e);null!==this.queries[e.id]&&delete this.queries[e.id]},this.addListener=function(e){let t;for(this.listeners.push(e),t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.addQuery(this.queries[t])},this.removeListener=function(e){let t;for(t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.removeQuery(this.queries[t]);for(t=0;t<this.listeners.length;t++)this.listeners[t]===e&&delete this.listeners[t]}},t.makeQueryRow=c,t.viewAndSaveQuery=function(e,t){const n=e.qs;i.log.info("outline.doucment is now "+e.document.location);const r=function(e,t){const n=new a.Query,r=e.length;let o,s,l,u;for(o=0;o<r;o++)s=e[o],u=s.parentNode,l=u.AJAR_statement,i.log.debug("Statement "+l),s.getAttribute("class").indexOf("pred")>=0&&(i.log.info("   We have a predicate"),c(n,u)),s.getAttribute("class").indexOf("obj")>=0&&(i.log.info("   We have an object"),c(n,u,!0));function p(e){const t=e.statements.length;let n,r;for(let i=0;i<t;i++)n=e.statements[i],r=n.tr,void 0!==r&&(r.AJAR_pattern=null,r.AJAR_variable=null);for(const t in e.optional)p(e.optional[t])}return t.addQuery(n),p(n.pat),n}(t,n);for(let e=0;e<n.listeners.length;e++)n.listeners[e].getActiveView().view.drawQuery(r),n.listeners[e].updateQueryControls(n.listeners[e].getActiveView())};var r=n(9332),i=o(n(500)),a=o(n(8230));function o(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const s=[];function l(e){let t=e;for(;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return e;t=t.previousSibling}}function c(e,t,n){const o=t.AJAR_inverse;let u,p,d;let f=null;for(p=t.parentNode;p;p=p.parentNode)if(void 0!==p.AJAR_statement){p.setAttribute("bla",p.AJAR_statement),p.AJAR_variable||c(e,p),u=p.AJAR_variable;const t=l(p);t.getAttribute("optionalSubqueriesIndex")&&(f=t.getAttribute("optionalSubqueriesIndex"),d=s[f]);break}d||(d=e.pat);const h=l(t),m=h.getAttribute("optional");if(m||(f?h.setAttribute("optionalSubqueriesIndex",f):h.removeAttribute("optionalSubqueriesIndex")),m){const e=r.store.formula();s.push(e),h.setAttribute("optionalSubqueriesIndex",s.length-1),d.optional.push(e),d=e}const g=t.AJAR_statement,v=t.AJAR_inverse?g.subject:g.object;let b=!0;v.isBlank&&n&&window.alert("You cannot constrain a query with a blank node. No constraint will be added."),u||(b=!1,u=o?g.object:g.subject);const y=t.AJAR_variable?t.AJAR_variable:r.store.variable(i.utils.newVariableName());e.vars.push(y),y.label=b?u.label:i.utils.label(u),y.label+=" "+i.utils.predicateLabelForXML(g.predicate,o);const w=(x=y,k=u,o?new a.Statement(x,g.predicate,k):new a.Statement(k,g.predicate,x));var x,k;return y.label=y.label.slice(0,1).toUpperCase()+y.label.slice(1),n&&(d.constraints[y]=new function(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.sameTerm(t)},this}(v)),i.log.info("Pattern: "+w),w.tr=t,t.AJAR_pattern=w,t.AJAR_variable=y,i.log.debug("Query pattern: "+w),d.statements.push(w),y}},2726:(e,t)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,a=n.modules.data,o=t.getScale(i,r),s=Math.floor((i+2*r.margin)*o),l=r.margin*o,c=[r.color.light,r.color.dark];for(let t=0;t<s;t++)for(let n=0;n<s;n++){let u=4*(t*s+n),p=r.color.light;if(t>=l&&n>=l&&t<s-l&&n<s-l){p=c[a[Math.floor((t-l)/o)*i+Math.floor((n-l)/o)]?1:0]}e[u++]=p.r,e[u++]=p.g,e[u++]=p.b,e[u]=p.a}}},2727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{docpart:()=>a,document:()=>o,hostpart:()=>s,join:()=>l,protocol:()=>c,refTo:()=>u});var r=n(5108),i=i||console.log;function a(e){var t;return(t=e.indexOf("#"))<0?e:e.slice(0,t)}function o(e){return new r.A(a(e))}function s(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function l(e,t){var n,r,a,o,s,l=t.indexOf("#");if(l>0&&(t=t.slice(0,l)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(n<0)return i("Invalid base: "+t+" in join with given: "+e),e;if(r=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return r+e;if(t.indexOf("//",n)===n+1){if((a=t.indexOf("/",n+3))<0)return t.length-n-3>0?t+"/"+e:r+e}else if((a=t.indexOf("/",n+1))<0)return t.length-n-1>0?t+"/"+e:r+e;if(0===e.indexOf("/"))return t.slice(0,a)+e;if((o=(s=t.slice(a)).lastIndexOf("/"))<0)return r+e;for(o>=0&&o<s.length-1&&(s=s.slice(0,+o+1||9e9)),s+=e;s.match(/[^\/]*\/\.\.\//);)s=s.replace(/[^\/]*\/\.\.\//,"");return s=(s=s.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,a)+s}function c(e){const t=e.indexOf(":");return t<0?null:e.slice(0,t)}function u(e,t){var n,r,i,a,o,s,l,c,u,p,d,f,h=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=l=0,a=t.length;l<a;n=++l){if(t[n]!==e[n])break}if(e.slice(0,n).match(h)&&((r=t.indexOf("//"))<0&&(r=-2),i=t.indexOf("/",r+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[n]&&e.length===n)return t.slice(n);for(;n>0&&"/"!==t[n-1];)n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(s=0,c=0,o=(p=e.slice(n)).length;c<o;c++)"/"===p[c]&&s++;if(0===s&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===s&&n===t.length)return"./";if(f="",s>0)for(u=1,d=s;d>=1?u<=d:u>=d;d>=1?++u:--u)f+="../";return f+t.slice(n)}},2731:(e,t)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},2799:(e,t)=>{"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case p:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function k(e){return x(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||x(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===o||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},2825:(e,t,n)=>{"use strict";const{Buffer:r}=n(5576),{ObjectDefineProperty:i,ObjectKeys:a,ReflectApply:o}=n(4641),{promisify:{custom:s}}=n(6017),{streamReturningOperators:l,promiseReturningOperators:c}=n(1284),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=n(8526),p=n(8489),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=n(3920),{pipeline:h}=n(8431),{destroyer:m}=n(7647),g=n(9365),v=n(5018),b=n(136),y=e.exports=n(334).Stream;y.isDestroyed=b.isDestroyed,y.isDisturbed=b.isDisturbed,y.isErrored=b.isErrored,y.isReadable=b.isReadable,y.isWritable=b.isWritable,y.Readable=n(3125);for(const x of a(l)){const k=l[x];function _(...e){if(new.target)throw u();return y.Readable.from(o(k,this,e))}i(_,"name",{__proto__:null,value:k.name}),i(_,"length",{__proto__:null,value:k.length}),i(y.Readable.prototype,x,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const E of a(c)){const C=c[E];function S(...e){if(new.target)throw u();return o(C,this,e)}i(S,"name",{__proto__:null,value:C.name}),i(S,"length",{__proto__:null,value:C.length}),i(y.Readable.prototype,E,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}y.Writable=n(7221),y.Duplex=n(3559),y.Transform=n(8649),y.PassThrough=n(2091),y.pipeline=h;const{addAbortSignal:w}=n(810);y.addAbortSignal=w,y.finished=g,y.destroy=m,y.compose=p,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=f,i(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>v}),i(h,s,{__proto__:null,enumerable:!0,get:()=>v.pipeline}),i(g,s,{__proto__:null,enumerable:!0,get:()=>v.finished}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},2861:(e,t,n)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(8287),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},2865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIconForClass=u,t.iconForClassMap=void 0,t.presentStuff=async function(e){const t=await l(null,e);return{stuff:t.map(e=>{const t=u(e.type||i.ns.rdf("Resource"));return{href:e.instance.uri,name:i.utils.label(e.instance),icon:t,instance:e.instance}})}};var r=n(8230),i=n(500),a=n(9332);const{iconForClass:o}=i.widgets,{typeIndex:s}=a.solidLogicSingleton,{getScopedAppInstances:l}=s,c=t.iconForClassMap={};for(const e in o){const t=e.split(":")[0],n=e.split(":")[1],a=i.ns[t](n);c[a.uri]=r.uri.join(o[e],i.icons.iconBase)}function u(e){return c[e.uri]||i.icons.iconBase+"noun_10636.svg"}},2915:(e,t,n)=>{"use strict";n.d(t,{CZ:()=>l,D0:()=>p,DJ:()=>s,DZ:()=>u,GE:()=>b,P3:()=>o,RN:()=>y,SH:()=>i,Y2:()=>h,YC:()=>v,aF:()=>f,c$:()=>d,fY:()=>c,hr:()=>g,jt:()=>m,ok:()=>a});var r=n(9403);function i(e){return"object"==typeof e&&null!==e&&"subject"in e}function a(e){return"object"==typeof e&&null!==e&&"statements"in e}function o(e){return p(e)&&e.termType===r.r0}function s(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.r0||e.termType===r.QW||e.termType===r.bD)}function l(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.r0||e.termType===r.QW||e.termType===r.bD)}function c(e){return p(e)&&(e.termType===r.Kk||e.termType===r.$Q||e.termType===r.P2)}function u(e){return p(e)&&e.termType===r.P2}function p(e){return"object"==typeof e&&null!==e&&"termType"in e}function d(e){return e.termType===r.QW}function f(e){return"object"==typeof e&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function h(e){return p(e)&&"NamedNode"===e.termType}function m(e){return p(e)&&"termType"in e&&"BlankNode"===e.termType}function g(e){return p(e)&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q)}function v(e){return p(e)&&(e.termType===r.Kk||e.termType===r.P2)}function b(e){return p(e)&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.QW)}function y(e){return p(e)&&(e.termType===r.Kk||e.termType===r.P2||e.termType===r.$Q||e.termType===r.ic)}},2931:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?e:e.value}n.d(t,{E:()=>r})},2970:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=l(n(500)),a=l(n(8230)),o=l(n(6049)),s=(r=n(3505))&&r.__esModule?r:{default:r};function l(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}t.default={icon:i.icons.iconBase+"dokieli-logo.png",name:"Dokieli",mintClass:i.ns.solid("DokieliDocument"),label:function(e,t){const n=t.session.store,r=i.ns,o=["text/html","application/xhtml+xml"];if(!e.uri)return null;return n.findTypeURIs(e)[r.link("WebPage").uri]?"view":function(e,t,n){const r=e.fetcher.getHeader(t,"content-type");if(r)for(let e=0;e<r.length;e++)for(let t=0;t<n.length;t++)if(r[e].indexOf(n[t])>=0)return!0;return!1}(n,e,o)||function(e,t,n){const r=e.findTypeURIs(t);for(let e=0;e<n.length;e++)if(a.Util.mediaTypeClass(n[e]).uri in r)return!0;return!1}(n,e,o)?"Dok":null},mintNew:function(e,t){const n=e.session.store;let r=t.newInstance;if(!r){let e=t.newBase;e.endsWith("/")&&(e=e.slice(0,-1),t.newBase=e),r=n.sym(e)}const i=o.lookup(r.uri);i&&i.includes("html")||(r=a.sym(r.uri+".html")),t.newInstance=r;let l=s.default,c=r.uri.split("/").slice(-1)[0];c=decodeURIComponent(c.split(".")[0]);const u=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return l=l.replace("<title>","<title>"+u),l=l.replace("</article>","<h1>"+u+"</h1></article>"),new Promise(function(e){n.fetcher.webOperation("PUT",r.uri,{data:l,contentType:"text/html"}).then(function(){e(t)}).catch(function(e){})})},render:function(e,t){const n=t.dom,r=n.createElement("div"),i=t.session.store;r.setAttribute("class","docView");const a=n.createElement("IFRAME");i.fetcher._fetch(e.uri).then(e=>e.blob()).then(e=>(e.type.startsWith("text")?e.text():Promise.resolve("")).then(t=>({blob:e,blobText:t}))).then(({blob:e,blobText:t})=>{const n=t.includes('<script src="https://dokie.li/scripts/dokieli.js">')?-10:5,r=Math.min(30,t.split(/\n/).length+n);((e,t,n)=>{const r=URL.createObjectURL(t);e.setAttribute("src",r),e.setAttribute("type",t.type),e.setAttribute("class","doc"),e.setAttribute("style",`border: 1px solid; padding: 1em; height:${n}em; width:800px; resize: both; overflow: auto;`),"text/html"!==t.type&&"application/xhtml+xml"!==t.type||e.setAttribute("sandbox","allow-scripts allow-same-origin")})(a,e,r)}).catch(e=>{});const o=i.fetcher.getHeader(e.doc(),"content-type"),s=(o&&o[0].split(";",1)[0].trim(),n.createElement("tr"));return s.appendChild(a),r.appendChild(s),r}}},3125:(e,t,n)=>{"use strict";const r=n(5606),{ArrayPrototypeIndexOf:i,NumberIsInteger:a,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:c,ObjectSetPrototypeOf:u,Promise:p,SafeSet:d,SymbolAsyncDispose:f,SymbolAsyncIterator:h,Symbol:m}=n(4641);e.exports=G,G.ReadableState=V;const{EventEmitter:g}=n(7007),{Stream:v,prependListener:b}=n(334),{Buffer:y}=n(5576),{addAbortSignal:w}=n(810),x=n(9365);let k=n(6017).debuglog("stream",e=>{k=e});const _=n(5586),E=n(7647),{getHighWaterMark:C,getDefaultHighWaterMark:S}=n(3920),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:I},AbortError:N}=n(8526),{validateObject:O}=n(2224),L=m("kPaused"),{StringDecoder:j}=n(3141),M=n(333);u(G.prototype,v.prototype),u(G,v);const D=()=>{},{errorOrDestroy:U}=E,B=1,z=16,H=32,q=2048,$=4096;function W(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function V(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(3559)),this.state=q|$|z|H,e&&e.objectMode&&(this.state|=B),r&&e&&e.readableObjectMode&&(this.state|=B),this.highWaterMark=e?C(this,e,"readableHighWaterMark",r):S(!1),this.buffer=new _,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=~q),e&&!1===e.autoDestroy&&(this.state&=~$),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function G(e){if(!(this instanceof G))return new G(e);const t=this instanceof n(3559);this._readableState=new V(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),v.call(this,e),E.construct(this,()=>{this._readableState.needReadable&&Z(this,this._readableState)})}function K(e,t,n,r){k("readableAddChunk",t);const i=e._readableState;let a;if(0===(i.state&B)&&("string"==typeof t?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?t=y.from(t,n).toString(i.encoding):(t=y.from(t,n),n=""))):t instanceof y?n="":v._isUint8Array(t)?(t=v._uint8ArrayToBuffer(t),n=""):null!=t&&(a=new T("chunk",["string","Buffer","Uint8Array"],t))),a)U(e,a);else if(null===t)i.state&=-9,function(e,t){if(k("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Y(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}(e,i);else if(0!==(i.state&B)||t&&t.length>0)if(r)if(4&i.state)U(e,new I);else{if(i.destroyed||i.errored)return!1;J(e,i,t,!0)}else if(i.ended)U(e,new F);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?J(e,i,t,!1):Z(e,i)):J(e,i,t,!1)}else r||(i.state&=-9,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function J(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),64&t.state&&Y(e)),Z(e,t)}l(V.prototype,{objectMode:W(B),ended:W(2),endEmitted:W(4),reading:W(8),constructed:W(z),sync:W(H),needReadable:W(64),emittedReadable:W(128),readableListening:W(256),resumeScheduled:W(512),errorEmitted:W(1024),emitClose:W(q),autoDestroy:W($),destroyed:W(8192),closed:W(16384),closeEmitted:W(32768),multiAwaitDrain:W(65536),readingMore:W(1<<17),dataEmitted:W(1<<18)}),G.prototype.destroy=E.destroy,G.prototype._undestroy=E.undestroy,G.prototype._destroy=function(e,t){t(e)},G.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},G.prototype[f]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new N,this.destroy(e)),new p((t,n)=>x(this,r=>r&&r!==e?n(r):t(null)))},G.prototype.push=function(e,t){return K(this,e,t,!1)},G.prototype.unshift=function(e,t){return K(this,e,t,!0)},G.prototype.isPaused=function(){const e=this._readableState;return!0===e[L]||!1===e.flowing},G.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const e of n)r+=t.write(e);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function Q(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&B)?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Y(e){const t=e._readableState;k("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(k("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(X,e))}function X(e){const t=e._readableState;k("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(k("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ne(e){k("readable nexttick read 0"),e.read(0)}function re(e,t){k("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(k("flow",t.flowing);t.flowing&&null!==e.read(););}function ae(e,t){"function"!=typeof e.read&&(e=G.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,r=D;function i(t){this===e?(r(),r=D):r=t}e.on("readable",i);const a=x(e,{writable:!1},e=>{n=e?A(n,e):null,r(),r=D});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new p(i)}}}catch(e){throw n=A(n,e),n}finally{!n&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),a()):E.destroyer(e,null)}}(e,t);return n.stream=e,n}function oe(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function se(e){const t=e._readableState;k("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(le,t,e))}function le(e,t){if(k("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(ce,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ce(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ue;function pe(){return void 0===ue&&(ue={}),ue}G.prototype.read=function(e){k("read",e),void 0===e?e=NaN:a(e)||(e=s(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return k("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?se(this):Y(this),null;if(0===(e=Q(e,t))&&t.ended)return 0===t.length&&se(this),null;let r,i=!!(64&t.state);if(k("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,k("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,k("reading, ended or constructing",i);else if(i){k("do read"),t.state|=8|H,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){U(this,e)}t.state&=~H,t.reading||(e=Q(n,t))}return r=e>0?oe(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&se(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},G.prototype._read=function(e){throw new R("_read()")},G.prototype.pipe=function(e,t){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new d(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),k("pipe count=%d opts=%j",i.pipes.length,t);const a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?s:g;function o(t,r){k("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){k("cleanup"),e.removeListener("close",h),e.removeListener("finish",m),l&&e.removeListener("drain",l);e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",p),c=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){k("onend"),e.end()}let l;i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",o);let c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(k("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(k("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(k("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(k("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",l))}function p(t){k("ondata");const n=e.write(t);k("dest.write",n),!1===n&&u()}function f(t){if(k("onerror",t),g(),e.removeListener("error",f),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?U(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",m),g()}function m(){k("onfinish"),e.removeListener("close",h),g()}function g(){k("unpipe"),n.unpipe(e)}return n.on("data",p),b(e,"error",f),e.once("close",h),e.once("finish",m),e.emit("pipe",n),!0===e.writableNeedDrain?u():i.flowing||(k("pipe resume"),n.resume()),e},G.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},G.prototype.on=function(e,t){const n=v.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,k("on readable",i.length,i.reading),i.length?Y(this):i.reading||r.nextTick(ne,this))),n},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(e,t){const n=v.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(te,this),n},G.prototype.off=G.prototype.removeListener,G.prototype.removeAllListeners=function(e){const t=v.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(te,this),t},G.prototype.resume=function(){const e=this._readableState;return e.flowing||(k("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(re,e,t))}(this,e)),e[L]=!1,this},G.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},G.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=c(e);for(let t=1;t<n.length;t++){const r=n[t];void 0===this[r]&&"function"==typeof e[r]&&(this[r]=e[r].bind(e))}return this},G.prototype[h]=function(){return ae(this)},G.prototype.iterator=function(e){return void 0!==e&&O(e,"options"),ae(this,e)},l(G.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(V.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),G._fromList=oe,G.from=function(e,t){return M(G,e,t)},G.fromWeb=function(e,t){return pe().newStreamReadableFromReadableStream(e,t)},G.toWeb=function(e,t){return pe().newReadableStreamFromStreamReadable(e,t)},G.wrap=function(e,t){var n,r;return new G({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){E.destroyer(e,t),n(t)}}).wrap(e)}},3141:(e,t,n)=>{"use strict";var r=n(2861).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=p,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=o(t[r]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=o(t[r]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3172:(e,t)=>{"use strict"},3311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderAutocompleteControl=async function(e,t,n,p){async function d(e,n){const r=e.uri;return f(),p(t,r)}function f(){y&&(w.removeChild(y),y=null)}const h=n.queryParameters||o.wikidataParameters,m=i.widgets.continueButton(e),g=i.widgets.cancelButton(e,f),v=n.class,b={queryParams:h,class:v,acceptButton:m,cancelButton:g};var y=null;(n=n||{}).editable=l.updater.editable(t.doc().uri,l);const w=e.createElement("div");if(w.setAttribute("style","display: flex; flex-flow: wrap;"),n.editable){w.style.width="100%";const o=w.appendChild(i.widgets.button(e,c,n.idNoun,async function(n){const a=await i.widgets.askName(e,r.store,w,i.ns.vcard("url"),null,s);if(a)return p(t,a)}));i.widgets.makeDropTarget(o,async function(e){for(const n of e)await p(t,n)},null),n.dbLookup&&w.appendChild(i.widgets.button(e,u,n.idNoun,async function(t){y?(w.removeChild(y),y=null):((y=e.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),y.appendChild(await(0,a.renderAutoComplete)(e,b,d)),y.appendChild(m),y.appendChild(g),w.appendChild(y))}))}return w};var r=n(9332),i=n(500),a=n(1830),o=n(3705);const s="Solid ID",l=r.store,c=i.icons.iconBase+"noun_34653_green.svg",u=i.icons.iconBase+"noun_Search_875351.svg"},3385:(e,t,n)=>{const r=n(8230),i=n(500),a=n(6049);e.exports={icon:i.icons.iconBase+"noun_109873.svg",name:"source",label:function(e,t){const n=t.session.store.findTypeURIs(e),i=r.Util.mediaTypeClass("text/*").uri.split("*")[0];for(const e in n){if(e.startsWith(i))return"Source";if(e.includes("xml"))return"XML Source";if(e.includes("json"))return"JSON Source";if(e.includes("javascript"))return"Javascript Source"}return null},mintNew:function(e,t){const n=e.session.store;let r=t.newInstance;if(!r){let e=t.newBase;e.endsWith("/")&&(e=e.slice(0,-1),t.newBase=e),r=n.sym(e),t.newInstance=r}const i=a.lookup(r.uri);if(!i||!(i.startsWith("text")||i.includes("xml")||i.includes("json")||i.includes("javascript"))){const e="A new text file has to have an file extension like .txt .ttl .json etc.";throw alert(e),new Error(e)}function o(e){let t="\n";return e.includes("json")?t="{}\n":e.includes("rdf+xml")&&(t='<rdf:RDF\n xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n\n</rdf:RDF>'),t}return new Promise(function(e,a){n.fetcher.webOperation("PUT",r.uri,{data:o(i),contentType:i}).then(function(n){t.newInstance=r,e(t)},e=>{alert("Cant make new file: "+e),a(e)})})},render:function(e,t){const n=t.dom,a=t.session.store,o=a.fetcher;let s,l,c,u=!0,p=!1,d=!1;const f=n.createElement("div");f.setAttribute("class","sourcePane");const h=f.appendChild(n.createElement("table")),m=h.appendChild(n.createElement("tr")),g=h.appendChild(n.createElement("tr")),v=h.appendChild(n.createElement("tr"));v.setAttribute("style","text-align: right;");const b=m.appendChild(n.createElement("textarea"));b.setAttribute("style","font-family: monospace; font-size: 100%; min-width:60em; margin: 1em 0.2em 1em 0.2em; padding: 1em; border: 0.1em solid #888; border-radius: 0.5em;");const y=v.appendChild(function(e){return i.widgets.button(e,void 0,"Compact",R,{needsBorder:!0})}(n)),w=v.appendChild(i.widgets.cancelButton(n)),x=v.appendChild(i.widgets.continueButton(n)),k=v.appendChild(function(e){return i.widgets.button(e,i.icons.iconBase+"noun_253504.svg","Edit")}(n));function _(){d||(p=!1,k.style.visibility=e.uri.endsWith("/")?"collapse":"visible",b.style.color="#888",w.style.visibility="visible",x.style.visibility="collapse",y.style="visibility: visible; width: 100px; padding: 10.2px; transform: translate(0, -30%)",T[s.split(";")]||(y.style.visibility="collapse"),b.setAttribute("readonly","true"))}function E(e){!d&&p&&(b.style.color="green",w.style.visibility="visible",x.style.visibility="visible",k.style.visibility="collapse",y.style.visibility="collapse",b.removeAttribute("readonly"))}const C={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/json":!0,"application/ld+json":!0};function S(e,t){if(null!=e){-1===t.characterInFile&&t.lineNo&&(t.lineNo+=1);const n=(t.lineNo?e.value.split("\n",t.lineNo).join("\n").length:0)+t.characterInFile;if(e.createTextRange){const t=e.createTextRange();t.move("character",n),t.select()}else e.focus(),e.selectionStart&&e.setSelectionRange(n,n)}}function A(e,t){if(!e.ok){let r="HTTP error on "+t+"! Status: "+e.status;412===e.status&&(r="Error: File changed by someone else"),g.appendChild(i.widgets.errorMessageBlock(n,r))}return e.ok}const T={"text/n3":!0,"text/turtle":!0,"application/ld+json":!0};function R(t){if(T[s])try{r.parse(b.value,a,e.uri,s);Promise.resolve(r.serialize(a.sym(e.uri),a,e.uri,s)).then(e=>{b.value=e}),w.style.visibility="visible"}catch(e){g.appendChild(i.widgets.errorMessageBlock(n,e))}}function P(t){if(t.headers&&t.headers.get("content-type"))s=t.headers.get("content-type").split(";")[0],l=t.headers.get("allow"),c=t.headers.get("etag");else{a.each(null,a.sym("http://www.w3.org/2007/ont/link#requestedURI"),e.uri).forEach(e=>{const t=a.any(e,a.sym("http://www.w3.org/2007/ont/link#response"));t&&"NamedNode"===t.termType&&(s=a.anyValue(t,i.ns.httph("content-type")),l=a.anyValue(t,i.ns.httph("allow")),c=a.anyValue(t,i.ns.httph("etag")))})}}function F(t){o.webOperation("GET",e.uri).then(function(e){if(!A(e,"GET"))return;const t=e.responseText;if(void 0===t){const e="source pane: No text in response object!!";return void g.appendChild(i.widgets.errorMessageBlock(n,e))}if(b.rows=t.split("\n").length+2,b.cols=80,b.value=t,P(e),!s)return u=!0,d=!0,void g.appendChild(i.widgets.errorMessageBlock(n,"Error: No content-type available!"));_(),u=!!l&&l.indexOf("PUT")<0,b.readonly=u}).catch(e=>{f.appendChild(i.widgets.errorMessageBlock(n,"Error reading file: "+e))})}return b.addEventListener("keyup",E),y.addEventListener("click",R),k.addEventListener("click",function(){d||(p=!0,b.style.color="black",w.style.visibility="visible",x.style.visibility="collapse",k.style.visibility="collapse",y.style.visibility="collapse",b.removeAttribute("readonly"))}),w.addEventListener("click",F),x.addEventListener("click",async function(t){const l=b.value;if(!function(t,s,l){if(!C[s])return!0;let c;if("text/html"===s&&([t,s,c]=function(e){let t="",n="";const r=e.split("</script");if(r&&r.length)for(let e of r){e="<script"+e.split("<script")[1]+"<\/script>";const r=["text/turtle","text/n3","application/ld+json","application/rdf+xml"].find(t=>e.includes(`type="${t}"`));if(r){n=e.replace(/^<script(.*?)>/gm,"").replace(/<\/script>$/gm,""),t=r;break}}return[n,t,0]}(t),!s))return!0;try{if(g.innerHTML="","application/json"===s)return JSON.parse(t);try{a.removeDocument(e)}catch(e){if(!e.message.includes("Statement to be removed is not on store"))throw e}return delete o.requested[e.value],"application/ld+json"===s?(JSON.parse(t),r.parse(t,a,l.uri,s,(e,a)=>{if(e)throw e;const o=r.serialize(l,a,l.uri,s);if(t.includes("@id")&&!o.includes("@id")){const e=new Error("Invalid jsonld : predicate do not expand to an absolute IRI");return g.appendChild(i.widgets.errorMessageBlock(n,e)),!1}return!0})):r.parse(t,a,l.uri,s),!0}catch(e){g.appendChild(i.widgets.errorMessageBlock(n,e));for(let t=e;t=t.cause;t)t.characterInFile&&S(b,t);return!1}}(l,s,e))return E(),void(b.style.color="red");const u={data:l,contentType:s};c&&(u.headers={"if-match":c});try{if(!A(await o.webOperation("PUT",e.uri,u),"PUT"))return;try{const t=await o.webOperation("HEAD",e.uri);if(!A(t,"HEAD"))return;P(t),_()}catch(e){throw e}}catch(e){f.appendChild(i.widgets.errorMessageBlock(n,"Error saving back: "+e))}}),F(),f}}},3430:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,n]){const r=t.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"===n&&"object"==typeof r){return`${r.constructor!==Object?r.constructor.name:""} {}`.trim()}return r.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},3447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileView=async function(e,t){const n=(0,l.presentProfile)(e,t.session.store),b=(0,c.presentCV)(e,t.session.store),y=(0,u.presentSocial)(e,t.session.store),w=await(0,p.presentStuff)(e),x={grid:(0,i.styleMap)({...(0,a.responsiveGrid)(),...(0,a.paddingSmall)(),background:`radial-gradient(circle, ${n.backgroundColor} 80%, ${n.highlightColor} 100%)`}),card:(0,i.styleMap)((0,a.card)()),chat:(0,i.styleMap)({...(0,a.card)(),...(0,a.padding)()})};return r.html`
    <div style="${x.grid}">
      <div>
        <div data-testid="profile-card" style="${x.card}">
          ${(0,d.ProfileCard)(n)}
          ${(0,v.addMeToYourFriendsDiv)(e,t)}
        </div>
      </div>
        ${(0,f.CVCard)(n,b)}
        ${(0,h.SocialCard)(n,y)}
        ${(0,m.StuffCard)(n,t,e,w)}
        ${(0,s.FriendList)(n,e,t)}
      <div style="${x.chat}">${(0,o.ChatWithMe)(e,t)}</div>
      <div data-testid="qrcode-display" class="qrcode-display" style="${x.card}">
        ${(0,g.QRCodeCard)(n,e)}
         
      </div>
    </div>
  `};var r=n(6752),i=n(2378),a=n(4572),o=n(4799),s=n(1119),l=n(4887),c=n(7408),u=n(6294),p=n(2865),d=n(8348),f=n(5956),h=n(1038),m=n(135),g=n(7983),v=n(4695)},3469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHeader=async function(e,t){(0,i.initHeader)(e,await async function(e){const t={label:c,onclick:()=>{r.authSession.logout()}};let n=[];return n=n.concat(await async function(e){const t=await e.getDashboardItems();return t.map(t=>({label:t.label,onclick:()=>async function(e,t){e.showDashboard({pane:t})}(e,t.tabName||t.paneName)}))}(e)),n.push(t),n}(t),{logo:o,helpIcon:a,helpMenuList:[{label:s,url:u,target:"_blank"},{label:l,url:p,target:"_blank"}]})};var r=n(9332),i=n(500);const a=i.icons.iconBase+"noun_help.svg",o="https://solidproject.org/assets/img/solid-emblem.svg",s="User guide",l="Report a problem",c="Log out",u="https://solidos.github.io/userguide/",p="https://github.com/solidos/solidos/issues"},3472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableViewPane=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));t.tableViewPane={icon:r.icons.originalIconBase+"table.png",name:"tableOfClass",label:function(e,t){const n=t.session.store;if(!n.any(void 0,r.ns.rdf("type"),e))return null;const i=n.statementsMatching(void 0,r.ns.rdf("type"),e).length;return 0===i||i>15?null:r.utils.label(e)+" table"},render:function(e,t){const n=t.dom,i=n.createElement("div");return i.setAttribute("class","tablePane"),i.appendChild(r.table(n,{tableClass:e})),i}}},3505:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default='\n<!DOCTYPE html>\n<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">\n  <head>\n    <meta charset="utf-8" />\n    <title></title>\n    <meta content="width=device-width, initial-scale=1" name="viewport" />\n    <link href="https://dokie.li/media/css/basic.css" media="all" rel="stylesheet" title="Basic" />\n    <link href="https://dokie.li/media/css/dokieli.css" media="all" rel="stylesheet" />\n    <script src="https://dokie.li/scripts/dokieli.js"><\/script>\n  </head>\n\n  <body about="" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# rdfa: http://www.w3.org/ns/rdfa# dcterms: http://purl.org/dc/terms/ dctypes: http://purl.org/dc/dcmitype/ foaf: http://xmlns.com/foaf/0.1/ pimspace: http://www.w3.org/ns/pim/space# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# mem: http://mementoweb.org/ns# qb: http://purl.org/linked-data/cube# schema: http://schema.org/ void: http://rdfs.org/ns/void# rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# bibo: http://purl.org/ontology/bibo/ sioc: http://rdfs.org/sioc/ns# doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: https://www.w3.org/ns/activitystreams# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms# acl: http://www.w3.org/ns/auth/acl# earl: http://www.w3.org/ns/earl# spec: http://www.w3.org/ns/spec# odrl: http://www.w3.org/ns/odrl/2/ dio: https://w3id.org/dio# rel: https://www.w3.org/ns/iana/link-relations/relation#" typeof="schema:CreativeWork prov:Entity">\n    <main>\n      <article about="" typeof="schema:Article">\n\n      </article>\n    </main>\n  </body>\n</html>'},3559:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:a,ObjectSetPrototypeOf:o}=n(4641);e.exports=c;const s=n(3125),l=n(7221);o(c.prototype,s.prototype),o(c,s);{const e=a(l.prototype);for(let t=0;t<e.length;t++){const n=e[t];c.prototype[n]||(c.prototype[n]=l.prototype[n])}}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,p;function d(){return void 0===u&&(u={}),u}r(c.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),c.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},c.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},c.from=function(e){return p||(p=n(1973)),p(e,"body")}},3660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));t.default=e=>function(t){const n=r.utils.AJARImage(t.uri,r.utils.label(t),r.utils.label(t),e);return n.setAttribute("class","outlineImage"),n}},3705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escoParameters=t.dbpediaParameters=t.AUTOCOMPLETE_LIMIT=void 0,t.filterByLanguage=function(e,t){const n={};e.forEach(e=>{const t=e.subject.value;n[t]=n[t]||[],n[t].push(e)});const r=t;r.reverse();const i=[];for(const e in n){const t=n[e].map(e=>[r.indexOf(e.name?.["xml:lang"]||""),e]);t.sort(),t.reverse(),i.push(t[0][1])}return i},t.getDbpediaDetails=v,t.getPreferredLanguages=async function(){return["fr","en","de","it"]},t.getWikidataDetails=g,t.getWikidataDetailsOld=async function(e,t,n){const r='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?class } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(l,n.uri),i=await h(r,u);f(e,n,i,n.doc())},t.getWikidataLocation=async function(e,t,n){const r='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(l,n.uri);const i=await h(r,u);f(e,n,i,n.doc())},t.loadFromBindings=f,t.loadPublicDataThing=async function(e,t,n){if(n.uri.startsWith("https://dbpedia.org/resource/"))return v(e,t,n);if(!n.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){const t=n.uri.startsWith("http:")?e.sym("https:"+n.uri.slice(5)):n;return e.fetcher.load(t,{credentials:"omit",headers:{Accept:"text/turtle"}})}await g(e,t,n)},t.predMap=void 0,t.queryESCODataByName=async function(e,t,n){if(!n.searchByNameURI)throw new Error("Query target searchByNameURI is required for ESCO queries");const r=n.searchByNameURI.replace("$(name)",e).replace("$(limit)",""+s).replace("$(class)",t.uri);const a=(await i.store.fetcher.webOperation("GET",r,{credentials:"omit",headers:{Accept:"application/json"}})).responseText;if(!a)throw new Error("No response text from ESCO query "+r);if(0===a.length)throw new Error("Wot no text back from ESCO query "+r);const o=JSON.parse(a)._embedded.results;return o.map(e=>({name:{value:e.title,type:"literal"},uri:{type:"IRI",value:e.uri}}))},t.queryPublicDataByName=async function(e,t,n){return h(n.searchByNameQuery.replace("$(name)",e).replace("$(limit)",""+s).replace("$(class)",t.uri),n)},t.queryPublicDataConstruct=m,t.queryPublicDataSelect=h,t.wikidataParameters=t.wikidataClasses=t.wikidataClassMap=void 0;var r=n(8230),i=n(9332),a=n(500);const o='prefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}\n',s=t.AUTOCOMPLETE_LIMIT=3e3,l=/\$\(subject\)/g;t.wikidataClasses={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"};t.escoParameters={label:"ESCO",logo:"https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif",searchByNameQuery:void 0,searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)",endpoint:void 0,class:{}};const c=t.dbpediaParameters={label:"DBPedia",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png",searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(class); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/",class:{AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"}},u=t.wikidataParameters={label:"WikiData",logo:"https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png",endpoint:"https://query.wikidata.org/sparql",class:{AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"},searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(class) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'};var p=t.wikidataClassMap={"http://www.wikidata.org/entity/Q15936437":a.ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":a.ns.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":a.ns.schema("Organization"),"http://www.wikidata.org/entity/Q3918":a.ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":a.ns.schema("Project"),"http://www.wikidata.org/entity/Q327333":a.ns.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":a.ns.schema("Place")},d=t.predMap={class:a.ns.rdf("type"),sealImage:a.ns.schema("logo"),shortName:a.ns.foaf("nick"),subsidiary:a.ns.schema("subOrganization")};function f(e,t,n,i){const o={};n.forEach(e=>{for(const t in e){const n=e[t],r=JSON.stringify(n);o[t]=o[t]||new Set,o[t].add(r)}});for(const n in o){o[n].forEach(o=>{const s=JSON.parse(o),{type:l,value:c}=s;let u;if("uri"===l)u=e.sym(c);else{if("literal"!==l)throw new Error(`loadFromBindings:  unexpected type: ${l}`);u=new r.Literal(c,s.language,s.datatype)}if("type"===n)p[c]&&(u=p[c]);else if("coordinates"===n){const n=/.*\(([-0-9\.-]*) ([-0-9\.-]*)\)/.exec(c);if(n){const o=a.ns.xsd("float"),s=new r.Literal(n[1],null,o),l=new r.Literal(n[2],null,o);e.add(t,a.ns.schema("longitude"),l,i),e.add(t,a.ns.schema("latitude"),s,i)}}else if(d[n]){const r=d[n]||a.ns.schema(n);e.add(t,r,u,i)}})}}async function h(e,t){if(!t.endpoint)throw new Error("Query target endpoint is required");const n=new URL(t.endpoint);n.searchParams.append("query",e);const r=n.href,a=(await i.store.fetcher.webOperation("GET",r,{credentials:"omit",headers:{Accept:"application/json"}})).responseText;if(a&&0!==a.length){return JSON.parse(a).results.bindings}throw new Error("Wot no text back from query "+r)}async function m(e,t,n){if(!n.endpoint)throw new Error("Query target endpoint is required");const a=new URL(n.endpoint);a.searchParams.append("query",e);const o=a.href,s=(await i.store.fetcher.webOperation("GET",o,{credentials:"omit",headers:{Accept:"text/turtle"}})).responseText;s&&s.length>500&&(s.slice(0,200),s.slice(-200));if(!s||0===s.length)throw new Error("queryPublicDataConstruct: No text back from construct query:"+o);(0,r.parse)(s,i.store,t.uri,"text/turtle")}async function g(e,t,n){const r=o.replace(/wd:Q49108/g,n.value);await m(r,n,u)}async function v(e,t,n){const r=`select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <${n}> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ${n} <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ${n} <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ${n} foaf:homepage ?homepage }\n    OPTIONAL { ${n} foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ${n} <http://dbpedia.org/ontology/country> ?country }\n   }`;return(await h(r,c)).map(e=>{const t=e.subject.value,n=e.name?.value;return{uri:t,name:n}})}},3920:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(4641),{validateInteger:a}=n(2224),{ERR_INVALID_ARG_VALUE:o}=n(8526).codes;let s=16384,l=16;function c(e){return e?l:s}e.exports={getHighWaterMark:function(e,t,n,a){const s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,a,n);if(null!=s){if(!i(s)||s<0){throw new o(a?`options.${n}`:"options.highWaterMark",s)}return r(s)}return c(e.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(e,t){a(t,"value",0),e?l=t:s=t}}},3931:function(e,t,n){var r,i,a;e.exports=(r=n(500),i=n(9332),a=n(8230),(()=>{"use strict";var e={85:(e,t,n)=>{n.d(t,{board:()=>o});var r=n(426),i=n(663),a=n(264);function o(e,t,n,o){const s=e.createElement("div");s.style="width: 100%;",s.style.margin="1em";const l=s.appendChild(e.createElement("table"));l.style="width: 100%;",l.style.borderCollapse="collapse";const c=l.appendChild(e.createElement("tr")),u=l.appendChild(e.createElement("tr"));function p(t,n){const a=e.createElement("div"),o=a.appendChild(e.createElement("table")),s=i.store.each(t,r.ns.rdf("type")).map(e=>i.store.any(e,r.ns.ui("backgroundColor"))).filter(e=>e);o.appendChild(r.widgets.personTR(e,null,t)),o.subject=t,o.style="margin: 1em;";const l=s[0]||i.store.any(n,r.ns.ui("backgroundColor"));return a.style.backgroundColor=l?l.value:"#fff",a}function d(e,t,n,r){const a=e.map(e=>[i.store.any(e,t)||n,e]);return a.sort(),r&&a.reverse(),a.map(e=>e[1])}return t.forEach(t=>{const n=c.appendChild(e.createElement("th"));n.textContent=r.utils.label(t,!0),n.subject=t,n.style="margin: 0.3em; padding: 0.5em 1em; font-treatment: bold; font-size: 120%;";const a=u.appendChild(e.createElement("td"));a.subject=t,a.style="border: 0.01em solid white; padding: 0.1em;",o.columnDropHandler&&r.widgets.makeDropTarget(a,function(e){e.forEach(function(e){const n=i.store.sym(e);o.columnDropHandler(n,t)})})}),s.refresh=function(){const e=new a.Literal(new Date),t=n||o.renderItem||p;function s(e){const n=t(e);return r.widgets.makeDraggable(n,e),n.subject=e,n}for(let t=u.firstChild;t;t=t.nextSibling){const n=t.subject;let a=i.store.each(null,r.ns.rdf("type"),n);const l=o.sortBy||r.ns.dct("created");o.filter&&(a=a.filter(o.filter));const c=d(a,l,e,!0);r.utils.syncTableToArrayReOrdered(t,c,s)}},s.refresh(),s}},178:(e,t,n)=>{n.d(t,{exposeOverlay:()=>h,getState:()=>p,renderIssue:()=>g,renderIssueCard:()=>f});var r=n(426),i=n(663),a=n(324),o=n(264);const s=i.store,l=!1,c=r.icons.iconBase+"noun_17020_gray-tick.svg",u=(r.icons.iconBase,r.icons.iconBase+"noun_17020.svg");function p(e,t){const n=s.the(e,r.ns.wf("tracker"),null,e.doc()),i=s.any(n,r.ns.wf("issueClass"));t=t||i;const a=s.each(e,r.ns.rdf("type")).filter(e=>s.holds(e,r.ns.rdfs("subClassOf"),t));if(1!==a.length)throw new Error("Issue must have one type as state: "+a.length);return a[0]}function d(e){const t=s.each(e,r.ns.rdf("type")).map(e=>s.any(e,r.ns.ui("backgroundColor"))).filter(e=>!!e);return t.length?t[0].value:null}function f(e,t){function n(){const t=d(e)||"white";o.style.backgroundColor=t,u.style.backgroundColor=t}const i=t.dom,a=!d(e),o=i.createElement("div"),l=o.appendChild(i.createElement("table"));l.style.width="100%",l.appendChild(r.widgets.personTR(i,null,e,{draggable:!1})),l.subject=e,o.style="border-radius: 0.4em; border: 0.05em solid grey; margin: 0.3em;",o.firstChild.firstChild.firstChild.firstChild.setAttribute("src",r.icons.iconBase+"noun_Danger_1259514.svg");const c=o.firstChild.firstChild.children[2],u=r.widgets.button(i,r.icons.iconBase+"noun_253504.svg","edit",async n=>{h(e,t)}),p=u.firstChild;if(p.style.width=p.style.height="1.5em",c.appendChild(u),a){const n=r.widgets.deleteButtonWithCheck(i,c,"issue",async function(){try{await s.updater.update(s.connectedStatements(e))}catch(e){!function(e,t){t.paneDiv.appendChild(r.widgets.errorMessageBlock(t.dom,e))}(`Unable to delete issue: ${e}`,t)}o.parentNode.removeChild(o),r.widgets.refreshTree(t.paneDiv)});c.appendChild(n)}return o.style.maxWidth="24em",o.refresh=n,n(),o}function h(e,t){const n=t.overlay;n.innerHTML="";const i=n.appendChild(r.widgets.button(t.dom,r.icons.iconBase+"noun_1180156.svg","close",function(){n.innerHTML="",n.style.visibility="hidden"}));i.style.float="right",i.style.margin="0.7em",delete i.style.backgroundColor,n.style.visibility="visible",n.appendChild(g(e,t)),n.firstChild.style.overflow="auto"}function m(e,t){const n=e.createElement("div");return n.setAttribute("style","height: 1em; margin: 0.5em;"),n.style.backgroundColor=t,n}function g(e,t){function n(t,n,i){if(l){if(!g(b,"trackLastModified"))return;const t=n.statementsMatching(e,r.ns.dct("modified")).concat(n.statementsMatching(e,r.ns.wf("modifiedBy"))),a=[o.st(e,r.ns.dct("modified"),new Date,i)];k&&a.push(o.st(e,r.ns.wf("modifiedBy"),k,i)),n.updater.update(t,a,function(e,t,n){})}}function p(e,t){const n=v.createElement("pre");return n.setAttribute("style",t||"color: grey"),x.appendChild(n),n.appendChild(v.createTextNode(e)),n}function f(e){x.appendChild(r.widgets.errorMessageBlock(v,e))}function h(e,t){e||f("Sorry, failed to save your change:\n"+t)}function g(e,t){const n=s.any(e,r.ns.ui(t));return!(!n||!n.value)}const v=t.dom,b=s.the(e,r.ns.wf("tracker"),null,e.doc());if(!b)throw new Error("No tracker");const y=s.any(b,r.ns.wf("stateStore")),w=e.doc(),x=v.createElement("div"),k=i.authn.currentUser(),_=d(e)||"white";!function(){const t="padding: 0.5em 1.5em 1em 1.5em; border: 0.7em;border-color: "+(d(e)||"#eee")+"; ";x.setAttribute("style",t),x.style.backgroundColor="white"}(),i.authn.checkUser();const E=x.appendChild(r.widgets.button(v,function(e){return function(e){return!!s.findTypeURIs(e)[r.ns.wf("Open").uri]}(e)?c:u}(e)));r.widgets.makeDraggable(E,e);const C=s.any(b,r.ns.wf("issueClass"));if(!C)throw new Error("This tracker "+b+" has no issueClass");const S=r.widgets.makeSelectForCategory(v,s,e,C,y,function(e,t){e&&(n(0,s,w),r.widgets.refreshTree(x))});x.appendChild(S);const A=s.each(b,r.ns.wf("issueCategory"));for(const t of A)x.appendChild(r.widgets.makeSelectForCategory(v,s,e,t,y,function(e,t){e&&(n(0,s,w),r.widgets.refreshTree(x))}));const T=v.createElement("a");T.setAttribute("href",b.uri),T.setAttribute("style","float:right"),x.appendChild(T).textContent=r.utils.label(b),T.addEventListener("click",r.widgets.openHrefInOutlineMode,!0);const R=r.ns.wf("coreIsueForm");o.parse('\n    @prefix : <http://www.w3.org/ns/ui#> .\n    @prefix core: <http://www.w3.org/2005/01/wf/flow#>.\n    @prefix dc: <http://purl.org/dc/elements/1.1/>.\n    @prefix wf: <http://www.w3.org/2005/01/wf/flow#> .\n\n    core:coreIsueForm     a :Form;\n         <http://purl.org/dc/elements/1.1/title> "Core issue data";\n         :parts  (\n        core:titleField\n        core:descriptionField ) .\n\n    core:descriptionField     a :MultiLineTextField;\n         :label "Description";\n         :property wf:description;\n         :size "40" .\n\n    core:titleField     a :SingleLineTextField;\n         :label "Title";\n         :maxLength "128";\n         :property dc:title; # @@ Should move to dct or schema\n         :size "40" .\n\n    wf:Task     :creationForm core:coreIsueForm .\n',s,R.doc().uri,"text/turtle");const P=r.widgets.appendForm(v,null,{},e,R,y,h);x.appendChild(P),P.style.backgroundColor=_;const F=s.statementsMatching(e,r.ns.wf("assignee"));if(F.length>1){p("Weird, was assigned to more than one person. Fixing ..");const e=F.slice(1);s.updater.update(e,[],function(e,t,n){t?p("Now fixed."):f("Fixed failed: "+n)})}function I(e){return r.widgets.personTR(v,r.ns.wf("dependent"),e,{link:!1})}function N(e,t){t=t||[];const n=s.any(null,r.ns.wf("dependent"),e,e.doc());return n?N(n,[n].concat(t)):t}if(async function(){const t=s.each(e,r.ns.wf("assigneeGroup"));await s.fetcher.load(t);const n=t.map(e=>s.each(e,r.ns.vcard("member"),null,e.doc())).flat(),i=s.any(null,r.ns.doap("bug-database"),b);i&&await s.fetcher.load(i);const a=i?s.each(i,r.ns.doap("developer")):[];return n.concat(a)}().then(t=>{if(t.length){t.forEach(function(e){s.fetcher.lookUpThing(e)});const i={nullLabel:"(unassigned)"};x.appendChild(r.widgets.makeSelectForOptions(v,s,e,r.ns.wf("assignee"),t,i,w,function(e,t){e&&n(0,s,w)}))}}),g(b,"allowSubIssues")){const t=x.appendChild(v.createElement("div"));t.style="margin: 1em; padding: 1em;",t.appendChild(v.createElement("h4")).textContent="Super Issues";const n=t.appendChild(v.createElement("div"));n.style.display="flex",n.refresh=function(){const t=N(e);r.utils.syncTableToArrayReOrdered(n,t,I)},n.refresh(),t.appendChild(v.createElement("h4")).textContent="Sub Issues";const i=t.appendChild(v.createElement("div"));i.style.display="flex",i.style.flexDirection="reverse",i.refresh=function(){const t=s.each(e,r.ns.wf("dependent"),null,e.doc());r.utils.syncTableToArrayReOrdered(i,t,I)},i.refresh();const o=v.createElement("button");o.setAttribute("type","button"),t.appendChild(o);const l=r.utils.label(C);o.innerHTML="New sub "+l,o.setAttribute("style","float: right; margin: 0.5em 1em;"),o.addEventListener("click",function(n){t.insertBefore((0,a.newIssueForm)(v,s,b,e,i.refresh),o.nextSibling)},!1)}x.appendChild(v.createElement("br"));const O=s.any(b,r.ns.wf("extrasEntryForm"));O&&r.widgets.appendForm(v,x,{},e,O,y,h);const L=x.appendChild(m(v,_));let j;s.anyValue(b,r.ns.wf("issueURITemplate"))?j=e.doc():(j=s.any(b,r.ns.wf("messageStore")),j||(j=s.any(b,r.ns.wf("stateStore"))),s.sym(j.uri+"#Chat"+(new Date).getTime())),s.fetcher.nowOrWhenFetched(j,function(t,n,i){if(t){const t=(0,r.messageArea)(v,s,e,j);x.insertBefore(t,L),x.insertBefore(m(v,_),t)}else{const e=v.createElement("p");e.textContent=n,x.insertBefore(e,L)}}),x.appendChild(v.createElement("div")).innerHTML="<h4>Attachments</h4>\n    <p>Drag files, emails,\n    web pages onto the paper clip, or click the file upload button.</p>";const M=e.uri.endsWith("/index.ttl#this")?e.uri.slice(0,14)+"Files/":e.dir().uri+"Files/"+e.uri.split("#")[1]+"/";r.widgets.attachmentList(v,e,x,{doc:y,promptIcon:r.icons.iconBase+"noun_25830.svg",uploadFolder:s.sym(M),predicate:r.ns.wf("attachment")}),r.widgets.deleteButtonWithCheck(v,x,"issue",async function(){try{await s.updater.update(s.connectedStatements(e))}catch(e){f(`Unable to delete issue: ${e}`)}f("DELETED OK"),x.style.backgroundColor="#eee",x.style.fontColor="orange"}).style.float="right";const D=v.createElement("button");return D.textContent="refresh messages",D.addEventListener("click",async function(e){try{await s.fetcher.load(j,{force:!0,clearPreviousData:!0})}catch(e){return void alert(e)}r.widgets.refreshTree(x)},!1),D.setAttribute("style",r.style.button),x.appendChild(D),x}},197:e=>{e.exports='#  Ontology for user interface hints and forms\n#\n#  See also related: the Fresnel language\n#\n@prefix contact: <http://www.w3.org/2000/10/swap/pim/contact#>.\n@prefix dc:  <http://purl.org/dc/elements/1.1/>.\n@prefix doc: <http://www.w3.org/2000/10/swap/pim/doc#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix r: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix s: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix tt: <http://dig.csail.mit.edu/2010/issues/track#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <http://www.w3.org/ns/ui#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n@keywords is, of, a.\n\n<> dc:title "An ontology for User Interface description, Hints and Forms.";\n    dc:description """The User Interface ontology allows the definition\n    of forms for processing RDF model data, and include a bootstrap form for\n    editing forms. It allows user interface hints such as background colors,\n    can be associated with objects and classes.\n    """;\n    dc:created 2010-08-07;\n    dc:license <https://creativecommons.org/publicdomain/zero/1.0/>;\n    dc:modified """$Date: 2020/03/22 16:53:21 $""";\n    dc:author <https://www.w3.org/People/Berners-Lee/card#i>.\n\nstyle a r:Property, owl:DatatypeProperty;\n    s:label "style";\n        prompt "CSS style";\n    s:comment """Must be a valid CSS style string such as one could put in\n        an HTML style attribute.  Depending on the user interface system, this can\n        by given to individuals, classes or properties. It is up to a user interface\n        which wants to draw on them to pick how it uses styles from which parts\n        of the data it has.  For example, the style of a class may be picked\n        to distinguish information about things in that class.""".\n\nbackgroundColor a r:Property, owl:DatatypeProperty;\n    s:label "background color"@en;\n        s:range ui:Color;\n    s:comment """Must be a valid CSS color string such as one could put in\n        an HTML style attribute.  This should be in the #xxxxxx form,\n        (with 6 digits of hex)  so that it\n        can work with Graphviz.""".\n\nbackgroundImage a r:Property, owl:DatatypeProperty;\n    s:label "background image"@en;\n    s:comment """URI or base64 representation of an image""".\n\ncolor a r:Property, owl:DatatypeProperty;\n    s:label "color"@en;\n    s:range ui:Color;\n    s:comment """Must be a valid CSS color string such as one could put in\n        an HTML style attribute.  This should be in the #xxxxxx form,\n        (with 6 digits of hex)  so that it\n        can work with Graphviz.""".\n\n\n\nsortPriority a r:Property, owl:DatatypeProperty;\n        s:label "sort priority";\n        s:range xsd:integer;\n        s:comment """When individuals or classes must be sorted, then\n        if they are given different values of sortPriority a user agent can\n        use this as a hint to how to present information.""".\n\nsortBy a r:Property;\n        s:label "sort by";\n        s:domain s:Class;\n        s:range r:Property;\n        s:comment """A property which typically is used to sort\n        members of a given class.""".\n\nseqeunce a r:Property;\n    s:label "sequence number";\n    s:range xsd:integer;\n    s:comment """The sequence in which this item is arranged with repect to other parts.""".\n\ninitialProperties a r:Property;\n        s:label "initial properties";\n        s:domain s:Class;\n        s:range r:List; # List of r:Property\n        s:comment """A really simple way of enabling user interfaces to\n            create new information about a class of things is to make a define of properties\n            to be specified when a information about a new item\n            ("New item" here means an item which the system\n            does not have prvious information about yet,\n            not an items which has just been created,\n            like new friend as opposed to new baby)""";\n            prompt "Properties to be specified for new ones".\n\ntableProperties a r:Property;\n        s:domain s:Class;\n        s:label "table properties";\n        s:range r:List; # List of r:Property\n        s:comment """This  is a crude way of specifying a table-based\n            view for objects of this class.""";\n            prompt "Properties to be given in a default table view".\n\nprompt  a r:Property;\n        s:label "user prompt";\n        s:comment """A string for the UI to use if the user needs a longer\n        prompts than just a field name, the rdfs:label. """;\n        ui:prompt "A longer prompt for a user inputting this property".\n\n\n#  A Taxonomy of Field types\n\nui:Form owl:disjointUnionOf ( ui:ValueField  ui:Group ui:Choice ui:Classifier ui:Options ui:Multiple ui:Heading ui:Comment);\n    s:comment """A form can be any type of single field, or typically a Group of several fields,\n    including interspersed headings and comments.  """.\nui:Single owl:disjointUnionOf ( ui:ValueField  ui:Group ui:Choice ui:Classifier ui:Options ui:Heading ui:Comment).\nui:ValueField owl:disjointUnionOf ( ui:TextField ui:NumericField ui:ColorField ui:DateField ui:DateTimeField ui:PhoneField ui:EmailField).\nui:NumericField owl:disjointUnionOf (ui:BooleanField ui:TriStateField ui:IntegerField ui:DecimalField ui:FloatField).\n# ui:Multiple owl:disjointUnionOf ( ui:ZeroOrMore ui:OneOrMore ).\nui:TextField owl:disjointUnionOf (ui:SingleLineTextField ui:MultiLineTextField).\n\nui:Form a s:Class; is s:subClassOf of ui:ValueField, ui:Group, ui:Choice,  ui:Heading, ui:Comment, ui:Classifier, ui:Options, ui:Multiple.\nui:Single a s:Class; is s:subClassOf of ui:ValueField, ui:Group, ui:Choice, ui:Heading, ui:Comment, ui:Classifier, ui:Options.\nui:ValueField a s:Class; is s:subClassOf of  ui:TextField, ui:NumericField, ui:ColorField, ui:DateField, ui:DateTimeField, ui:PhoneField, ui:EmailField.\nui:NumericField a s:Class; is s:subClassOf of ui:BooleanField, ui:TriStateField, ui:IntegerField, ui:DecimalField, ui:FloatField.\nui:TextField a s:Class; is s:subClassOf of ui:SingleLineTextField, ui:MultiLineTextField.\n\nui:Classifier a s:Class; s:label "classifier";\n    s:comment """A classifier allows the user to select the type of an object.\n    The possible types must be subclasses of some overall class, the "category".\n    (Ideally, the superclass is also set up as the disjoint union of the subclasses,\n    if they are disjoint.)\n\n    The form normally stores the resulting classes using an rdf:type triple,\n    but a different predicate can be used if required, so the classifier field\n    needs is \'property\' defined too.\n\n    If the subclass selected itself is has subclasses defined, the user can\n    recursively select from them in turn, as many levels as needed.""".\n\nui:property a r:Property; s:domain ui:Form; s:range r:Property;\n    s:label "property to be stored"@en;\n    s:comment """Many fields prompt for information about a given property of the subject.\n    When field is filled in, this gives which property is written into the data.""".\n\nui:category  a r:Property; s:domain ui:Classifier; s:range s:Class;\n    s:label "overall superclass"@en;\n    s:comment """The superclass subclasses of which will be selected.""".\n\nui:dependingOn a r:Property; s:domain ui:Options; s:range r:Property;\n    s:label "depending on"@en;\n    s:comment """Many fields prompt for information about a given property of the subject""".\n\nui:for a r:Property; s:label "for"@en; s:comment "The value for which this case is selected.".\nui:use a r:Property; s:range ui:Form.\n\nui:part a r:Property; s:label "part"@en ; s:domain ui:Form; s:range ui:Form. # Used for Multiple field - the subform for each item\nui:parts a r:Property; s:label "parts"@en ; s:domain ui:Form; s:range r:Collection. # (of Forms) The ordered set of fields in a group\nui:ordered e r:Property; s:label "ordered"; s:range xsd:Boolean . # Could be useful for all kinds of things in future so not restricted to Multiple\n\nui:from a r:Property; s:domain ui:Choice; s:range r:Class;\n    s:label "from"; ui:prompt "from what class".\n\nui:size a r:Property; s:domain ui:ValueField; s:range xsd:integer;\n    s:label "size of field";\n    ui:prompt "size of field in characters".\n\nui:maxLength a r:Property; s:domain ui:TextField; s:range xsd:integer;\n    s:label "max length of value".\n\nui:minValue a r:Property; s:domain ui:ValueField; s:label "min".  # @@ range?\nui:maxValue a r:Property; s:domain ui:ValueField; s:label "max".\n\n ui:creationForm a r:Property; s:domain s:Class; s:range ui:Form;\n    s:label "creation form";\n    s:comment """A form which may be used to collect information about a\n    hitherto locally undocumented instance instance of this class.""".\n\n ui:annotationForm a r:Property; s:domain s:Class; s:range ui:Form;\n    s:label "annotation form";\n    s:comment """A form which may be used to add more infromation to an\ninstance of this class which we know something about.  Anything from\nadding just add one more fact, to adding a whole lot of information about a specific\nfacet of the thing.\n""".\n\n\n#############################################\n#\n# Form for editing Forms\n#\n\nFormForm a ui:Form;\n    dc:title "Form for editing Forms";\n    is ui:creationForm of Form;\n    a ui:Group; ui:parts (FF1 FF2 FF3 FieldList) .\n\n    FF1 ui:sequence 1; a ui:Heading;  ui:contents "Edit Form"@en .\n    FF2 ui:sequence 2; a ui:SingleLineTextField; ui:property dc:title; ui:size 60 .\n    FF3 ui:sequence 3; a ui:Comment;  ui:contents\n        """To add a field to the form, press the plus at the bottom,\n        and then select what sort of field you want."""@en; ui:style "background-color: #ffe;" .\n\n    FieldList  ui:sequence 10; a ui:Multiple; ui:ordered true; ui:property ui:parts; ui:part FieldForm .\n\nFieldForm a ui:Group;\n    dc:title "Form for selecting a type of field";\n    ui:parts (\n\n        [ ui:sequence 1; a ui:Classifier; ui:property r:type; ui:category ui:Form]\n\n        [ a ui:Options; ui:sequence 2; ui:dependingOn r:type;\n\n            ui:case [ ui:for ui:TextField; ui:use [a ui:Group; ui:parts (\n                [ a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]  # @@@ Needs inference on current web\n                [ a ui:IntegerField; ui:property ui:size; ui:label "field size"; ui:min 1; ui:max 4096]\n                [ a ui:IntegerField; ui:property ui:maxLength; ui:label "Max. length of string"; ui:min 1]\n            )]];\n\n            ui:case [ ui:for ui:IntegerField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:IntegerField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:IntegerField; ui:property ui:max; ui:label "maximum value"] ) ]];\n\n            ui:case [ ui:for ui:DecimalField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DecimalField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:DecimalField; ui:property ui:max; ui:label "maximum value"] )  ]];\n\n            ui:case [ ui:for ui:FloatField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:FloatField; ui:property ui:min; ui:label "minimum value"]\n                [ ui:sequence 3; a ui:FloatField; ui:property ui:max; ui:label "maximum value"] ) ]];\n\n            ui:case [ ui:for ui:ColorField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty] )\n            ]];\n\n            ui:case [ ui:for ui:DateField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DateField; ui:property ui:min; ui:label "min"]\n                [ ui:sequence 3; a ui:DateField; ui:property ui:max ; ui:label "max"]\n            ) ]];\n\n            ui:case [ ui:for ui:DateTimeField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:DatatypeProperty]\n                [ ui:sequence 2; a ui:DateTimeField; ui:property ui:min; ui:label "min"]\n                [ ui:sequence 3; a ui:DateTimeField; ui:property ui:max ; ui:label "max"]\n            ) ]];\n\n            ui:case [ ui:for ui:EmailField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:ObjectProperty]\n            ) ]];\n\n            ui:case [ ui:for ui:PhoneField; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from owl:ObjectProperty]\n            )]];\n\n            ui:case [ ui:for ui:Group; ui:use FieldList];\n\n            ui:case [ ui:for ui:Options; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:dependingOn; ui:label "depending on"; ui:from r:Property; ui:default r:type]\n                [ ui:sequence 2; a ui:Multiple; ui:property ui:case; ui:part CaseForm]\n                                ) ]];\n\n            ui:case [ ui:for ui:Choice; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property";\n                    ui:canMintNew true; ui:from owl:ObjectProperty]\n                [ ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:from; ui:label "destination class";\n                                    ui:from s:Class; ui:canMintNew true; ]\n                [ ui:sequence 3; a ui:BooleanField; ui:property ui:canMintNew; # No class form yet\n                            ui:label "user can add new"]\n                [ ui:sequence 4; a ui:Choice;  ui:canMintNew true; ui:property ui:use; ui:label "Nested Form (if any)";\n                            ui:from ui:Form; ui:optional true; ui:use FormForm] # @@ optional\n\n            ) ]];\n\n            ui:case [ ui:for ui:Classifier; ui:use [a ui:Group; ui:parts (\n                [ ui:sequence 2; a ui:Comment; ui:contents """A classifier allows the user to which classes the item belongs to, given a common superclass of the allowed classes.  Give the superclass here:""" ]\n\n                [ ui:sequence 4; a ui:Choice;  ui:canMintNew true; ui:property ui:category; ui:label "superclass"; ui:from s:Class]\n\n                [ ui:sequence 6; a ui:Comment; ui:contents """(When the choice is made normally the item is given a rdf:type. Set this to rdf:type unless you want the form to set a different property.)""" ]\n\n                [ ui:sequence 8; a ui:Choice;  ui:canMintNew true; ui:property ui:property;\n                        ui:label "property"; ui:from owl:ObjectProperty; ui:default r:type] # @@ restriction\n\n            ) ]];\n\n            ui:case [ ui:for ui:Multiple; ui:use [a ui:Group; ui:parts (\n                        [ui:sequence 0; a ui:BooleanField;  ui:property ui:ordered; ui:label "ordered"] # If this an ordered array or an unordered set?\n                        [ui:sequence 0; a ui:IntegerField;  ui:property ui:min; ui:label "minimum number"] # If this an ordered array or an unordered set?\n                        [ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:property; ui:label "property"; ui:from r:Property]\n                [ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:part; ui:from ui:Form; ui:use FieldForm]   # Form for details of the field part of the multiple\n            ) ]];\n\n            ui:case [ ui:for ui:Heading; ui:use [a ui:SingleLineTextField; ui:property ui:contents]];\n\n            ui:case [ ui:for ui:Comment; ui:use [a ui:MultiLineTextField; ui:property ui:contents]]\n        ]).\n\n\nCaseForm a ui:Group;\n   dc:title "Form for a conditional case in a form";\n   ui:parts (\n        [ ui:sequence 1; a ui:Choice;  ui:canMintNew true; ui:property ui:for; ui:label "when it is"; ui:canMintNew true; ui:from s:Class]\n        [ui:sequence 2; a ui:Choice;  ui:canMintNew true; ui:property ui:use; ui:from ui:Form; ui:canMintNew true; ui:use FieldForm] ). # Form for details of the field part of the multiple\n\n# ENDS\n'},240:e=>{e.exports='#   Issue tracking - Workflow application definition ontology\n#\n# Finite state automaton ontology\n#\n# See requirements for tracking tools http://www.w3.org/2005/01/06-tool-req.html\n#\n@keywords a, is, of.\n\n@prefix :   <http://www.w3.org/2005/01/wf/flow#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#>.\n\n@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix s: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n@prefix doc: <http://www.w3.org/2000/10/swap/pim/doc#> .\n@prefix log: <http://www.w3.org/2000/10/swap/log#> .\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix contact: <http://www.w3.org/2000/10/swap/pim/contact#> .\n@prefix doap: <http://usefulinc.com/ns/doap#>.\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n<> dc:title "Issue Tracking Ontology";\n\n    dct:creator <http://www.w3.org/People/Berners-Lee/card#i>;\n\n    s:comment """This ontology defines a very general class (Task)\n    which can used for any kind of bug tracking, issue tracking,\n    to-do-list management, action items, goal dependency, and so on.\n    It captures the state of a task as a subclass, so that\n    subsumption can be used.\n    It captures a discussion thread about a task.\n    It captures subtasks structure if necessary.\n    A "Tracker" defines actual set of states, categories, etc.,\n    which  a task can be in. The data about the tracker\n    guides the software managing the task.\n\n    There is some workflow modeling finite state machine\n    terms which are optional for  more complex definition\n    of the transitions allowed.\n    """.\n\nTask a s:Class;\n    s:label "task"@en; owl:disjointUnionOf (Open Closed);\n    s:comment """Something to be done in a wide sense,\n    an agenda item at a meeting is one example, but any\n    issue, task, action item, goal, product, deliverable, milestone, can such a thing.\n    The requirement for this framework was that it would allow\n    one to customize ontologies for things such as agenda items,\n    action items, working group issues with a spec, w3c Last Call issues,\n    software bugs and administrative requests.\n    In π-calculus, a process.\n    Make your type of issue a subclass of Task.\n    """.\n\nOpen a s:Class; s:subClassOf Task;\n    s:label "open"@en, "ouvert"@fr;\n  ui:backgroundColor "#d6f5d6"; # green like github for some reason\n    s:comment """A task which needs attention. The very crude states of Open and Closed all\n        interoperability between different systems if the states for a given\n        application are made subclasses of either Open or Closed. This allows\n        tasks from different systems to be mixed and treated together with\n        limited but valuable functionality.\n    """.\n\nClosed a s:Class; s:subClassOf Task;\n    s:label "closed"@en, "fermé"@fr;\n  ui:backgroundColor "#f5d6d6"; # pink\n    s:comment """A task which does not need attention. It may be closed because\n        has been abandoned or completed, for example.\n    """.\n\n\n  ActionItem a s:Class;\n    s:subClassOf Task;\n    s:label "action item"@en; owl:disjointUnionOf (Open Closed);\n    s:comment """An obligation taken on by a person, typically at a meeting.\n    """.\n\n\ndescription a rdf:Property;\n        s:label "description";\n        s:comment """The description, definition,\n        or abstract. Information explaining what this is.\n        Not arbitrary comment about anything, only about the subject.\n        (Use this property for anything. There is no domain restriction.).""".\n\ndependent a rdf:Property;\n        s:label "how";  owl:inverseOf [ s:label "why"];\n        s:domain Task; s:range Task;\n        s:comment """Another task upon which this depends, in the sense that\n        this task cannot be completed without that task being done.\n        You can\'t use this for dependencies on anything other than other tasks.\n        (Note the US spelling of the URI. In the UK, a dependant is a something\n        which is dependent on somehing else.)""".\n\nassignee    a       rdf:Property;\n        s:label     "assigned to"; owl:inverseOf [s:label "assignment"];\n#       s:domain    Task;\n        s:range     foaf:Agent;\n        s:comment   """The person or group to whom this has been assigned.""".\n\n# use dct:modified\n#modified        a               rdf:Property;\n#                s:label         "last changed".\n\nmodifiedBy      a               rdf:Property;\n                s:range         foaf:Agent;\n                s:label         "changed by".\n\n# use dct:created instead\n#created         a               rdf:Property;\n#                s:range         xsd:dateTime;\n#\n# Use foaf:maker instead\n#creator         a               rdf:Property;\n#                s:range         foaf:Agent;\n#                s:label         "changed by".\n\nsubscriber      a               rdf:Property;\n                s:label         "subscriber";\n                s:range         foaf:Agent.\n\n\n################## Products\n#\n#\n# History:  The Tracker system included a cocept of a product,\n# such that an action  could be associated with *either* an issue *or* a product.\n# Noah Mendelsohn for the TAG needed to be able make\n# and to give products: Goals, scuuess criteria,\n#  deliverables with dates, schedules, TAG members assigned, related issues.\n#\n\n\nProduct         a s:Class; s:subClassOf Task;\n                s:label "product";\n                s:comment """A product is a task which monitors something\n                which must be produced.""".\n\ndeliverable     a rdf:Property; s:subPropertyOf dependent;\n                s:range Product;\n                s:label "deliverable"@en;\n                s:comment """Something which must be delivered to accomplish this""".\n\ngoalDescription a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:string;\n                s:label "goals";\n                s:comment """A textual description of the goals of this product, etc.""".\n\nsuccessCriteria a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:string;\n                s:label "success criteria";\n                s:comment """A textual description of the successs critera.\n                How when we know this is done?""".\n\ndateDue         a rdf:Property, owl:DatatypeProperty;\n                s:domain Task; s:range xsd:date;\n                s:label "due"@en;\n                s:comment """The date this task is due.\n                """.\n\n##################  Attachments\n\nattachment      a rdf:Property;\n                s:label "attachment";\n                s:comment """Something related is attached for information.""".\n\nscreenShot      a rdf:Property; s:subPropertyOf attachment;\n                s:label "screen shot"@en;\n                s:comment """An image taken by capturing the state of a\n                 computer screen, for example to demonstrate a problem""".\n\ntestData        a rdf:Property; s:subPropertyOf attachment;\n                s:label "test data"@en;\n                s:comment """A file which can be used as inpiut to a test\n                or to demonstrate a problem. """.\n\n\nterminalOutput      a rdf:Property; s:subPropertyOf attachment;\n                s:label "terminal output"@en;\n                s:comment """A file showing user interaction from a\n                text terminal or console etc. """.\n\n\nmessage         a rdf:Property; s:subPropertyOf attachment;\n                s:label "message"@en;\n                s:comment """A message about this. Attached for information.""".\n\n\nMessage         a s:Class; s:label "message"@en.\nrecipent a rdf:Property; s:label "to"; s:domain Message; s:range foaf:Agent.\nsender a rdf:Property; s:label "from"; s:domain Message; s:range foaf:Agent.\n\n############################# A Tracker connects and manages issues\n\ntracker         a rdf:Property;\n                s:label "tracker";\n                owl:inverseOf [ s:label "issue"];\n                s:domain Task;\n                s:range Tracker.\n\nTracker         a s:Class;\n                s:label "tracker";\n                s:comment """A set of issues and\n                the constraints on how they evolve.\n                To use this ontology, craete a new tracker.\n                Copy an existing one or make up your own.""".\n\nissueClass      a rdf:Property;\n                s:label "all issues must be in";\n                s:domain Tracker;\n                s:range s:Class, State;\n                s:comment """The class of issues which are allowed in this tracker.\n                This is essemtial to the operation of the tracker,\n                as it defines which states an issue can be in.\n                (The issueClass must be a disjointUnionOf the state classes)""".\n\nissueCategory   a rdf:Property;\n                s:label "issue category";\n                s:domain Tracker;\n                s:range s:Class;\n                s:comment """Issues may be categorized according to the\n                subclasses of this class""".\n\nstateStore      a rdf:Property;\n                s:label "state store";\n                s:domain Tracker;\n                s:range doc:Document;\n                s:comment """A read-write document.\n                The state of the issues is modified here.\n                When you set up a trcaker, thgis must be set to point\n                to a writeble data resource on the web.""".\n\ntransactionStore\n                a rdf:Property;\n                s:label "transaction store";\n                s:domain Tracker;\n                s:range doc:Document;\n                s:comment """An appendable document. Transactions and messsages\n                    can be written into here""".\n\nasigneeClass\n                a rdf:Property;\n                s:label "assignees must be";\n                s:domain Tracker;\n                s:range s:Class;  # Subclass of foaf:Agent\n                s:comment """When an issue is assigned, the assignee must be from this class""".\n\ninitialState\n                a rdf:Property;\n                s:label "initial state"@en;\n                s:label "état initial"@fr;\n                s:domain Tracker;\n                s:range State;\n                s:comment """The initial state for a new issue""".\n\n# Use this to link a project to a tracker\ndoap:bug-database owl:inverseOf [ s:label "project"@en ].\n\n\n\n\n############################################################\n#\n#           Finite state machines\n#\nChange      a s:Class;\n        s:label "change";\n        s:comment """The universal class of things which\nchange the state of a task.\nIncluded now: Creation, Transition. (Maybe in the future\nmore π-calculus constructions such as splitting & merging tasks,\nand import/export of obligations to a foreign opaque system.)\n""".\n\nTransition  a s:Class; s:subClassOf Change;\n        s:label     "transition";\n        s:comment """A transition is a change of state of\na task. Typical properties include date and/or source\n(a document causing the transition), and a final state.""".\n\nCreation    a s:Class; s:subClassOf Change;\n        s:label     "creation";\n        s:comment """A creation is a change from existence\nto non-existence\na task. Typical properties include date and/or source\n(a document causing the transition), and a final state.""".\n\n\ndate    s:range DateTime.\n\nfinal   a       rdf:Property;\n        s:label     "to";\n        s:domain    Transition;\n        s:range State.\n\ntask        a       rdf:Property;\n        s:range     Task;\n        s:label     "task".\n\nrequires    a rdf:Property;\n        s:label "requires";\n        s:domain    Transition;\n        s:range     rdf:List; # Of properties for validation\n        s:comment   """To be a valid transition,\n        a necessary (but not necessarily sufficuent) condition\n        is that there be recorded these properties for the record""".\n\naffects     a rdf:Property;\n        s:label "affects";\n        s:domain    doc:Work;\n        s:range     Task.\n\n\n# { ?x a Transition; task ?t; source ?doc } => { ?doc affects ?t }.\n\n\ncreates     a rdf:Property;\n        s:label "creates";\n        s:domain    doc:Work;\n        s:range     Task.\n\n\nallowedTransitions a rdf:Property;\n        s:domain    State;\n        s:range     rdf:List; # @@@ of Action\n        s:label     "allowed transitions";\n        s:comment   """The state machine is defined\n    by these lists of transition allowed for each issue.\n    (An interesting option in the Web is to make an allowed transition\n    to a state in soemone else\'s ontology, which in turn allows\n    transitions into many ontologies.  So a finite state maxchine\n    may become very large. In practice this means that a task handed\n    off to another organization may be processed on all kinds of ways.)""".\n\n#   { ?x a TerminalState} => { ?x allowedTransitions () }.\n\nfinal       a rdf:Property;\n        s:label     "to";\n        s:range State.\n\nissue       a       rdf:Property;\n        s:label     "issue";\n        s:comment\n        """A transition changes the state of the given issue.""".\n\nsource  a       rdf:Property;\n        s:label     "source";\n        s:comment   """The source of a transition is\n                the document by which it happened""";\n        s:range     doc:Work.\nTerminalState a s:Class;\n    s:subClassOf State;\n    s:label "terminal state";\n    s:comment """A state from which there are no transitions.""".\n\nNonTerminalState a s:Class;\n    s:label "non-terminal state";\n    owl:disjointWith TerminalState;\n    s:comment """A state from which there are transitions.""".\n\n######################################################\n\n#ends\n'},264:e=>{e.exports=a},324:(e,t,n)=>{n.d(t,{newIssueForm:()=>a});var r=n(426),i=n(264);function a(e,t,n,a,o){const s=e.createElement("div"),l=t.any(n,r.ns.wf("stateStore")),c=t.any(n,r.ns.wf("issueClass")),u=r.utils.label(c);s.innerHTML="<h2>Add new "+(a?"sub ":"")+u+"</h2><p>Title of new "+u+":</p>";const p=e.createElement("input");return p.setAttribute("type","text"),p.setAttribute("style","margin: 0.5em; font-size: 100%; padding: 0.3em;"),p.setAttribute("size","100"),p.setAttribute("maxLength","2048"),p.select(),p.addEventListener("keyup",function(e){13===e.keyCode&&function(){p.setAttribute("class","pendingedit"),p.disabled=!0;const e=[],c=t.anyValue(n,r.ns.wf("issueURITemplate")),u=c?t.sym(function(e){const t=new i.Literal(new Date),n=""+(new Date).getTime(),r=t.value.slice(0,4),a=t.value.slice(5,7),o=t.value.slice(8,10);return e.replace("{N}",n).replace("{YYYY}",r).replace("{MM}",a).replace("{DD}",o)}(i.uri.join(c,l.uri))):t.sym(l.uri+"#Iss"+(new Date).getTime()),d=u.doc(),f=t.literal(p.value);e.push(new i.Statement(u,r.ns.wf("tracker"),n,l)),e.push(new i.Statement(u,r.ns.dc("title"),f,l)),e.push(new i.Statement(u,r.ns.dct("created"),new Date,l));const h=a?t.each(a,r.ns.rdf("type"),null,a.doc()):t.each(n,r.ns.wf("initialState"));for(const t of h)e.push(new i.Statement(u,r.ns.rdf("type"),t,l));a&&e.push(new i.Statement(a,r.ns.wf("dependent"),u,l)),c&&(e.push(new i.Statement(u,r.ns.wf("tracker"),n,d)),e.push(new i.Statement(u,r.ns.rdfs("seeAlso"),l,d))),t.updater.update([],e,function(e,t,n){t&&(s.parentNode.removeChild(s),o(u))})}()},!1),s.appendChild(p),p.focus(),s}},426:e=>{e.exports=r},663:e=>{e.exports=i},685:(e,t,n)=>{n.d(t,{csvButton:()=>o});var r=n(426),i=n(663);function a(e){const t=e.replaceAll("\n"," ");if(!t.includes(","))return t;const n='"'+t.replaceAll('"','""')+'"';if(n.slice(1,-1).replaceAll('""',"").includes('"'))throw new Error("CSV inconsistecy");return n}function o(e,t){const n=e.createElement("div"),o=r.widgets.button(e,r.icons.iconBase+"noun_Document_998605.svg","Copy as CSV",async e=>{o.parentNode.parentNode.addEventListener("copy",e=>{const n=function(e,t){const n=e.any(t,r.ns.wf("stateStore")),i=e.each(null,r.ns.wf("tracker"),t,n),o=[{label:"Name",predicate:r.ns.dc("title")}],s={label:"State",category:e.any(t,r.ns.wf("issueClass"))};o.push(s);const l=e.each(t,r.ns.wf("issueCategory"));for(const e of l){const t={label:r.utils.label(e),category:e};o.push(t)}const c=e.any(t,r.ns.wf("extrasEntryForm"),null,null);if(c){const t=e.any(c,r.ns.ui("parts"),null,c.doc()).elements;for(const n of t){const t=e.any(n,r.ns.ui("property"));if(t){const e={label:r.utils.label(t),predicate:t};o.push(e)}}}o.push({label:"Description",predicate:r.ns.wf("description")});const u=o.map(e=>e.label).join(",")+"\n";return u+i.map(function(t){return o.map(n=>function(t,n){let i;if(n.predicate)return i=e.any(t,n.predicate),i?i.value:"--";if(!n.category)throw new Error("wot no pred or cat",n);{const a=e.each(t,r.ns.rdf("type"));for(const t of a)e.holds(t,r.ns.rdfs("subClassOf"),n.category)&&(i=t);if(!i)return"?"+r.utils.label(n.category)}return r.utils.label(i)}(t,n)).map(a).join(",")+"\n"}).join("")}(i.store,t);e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/csv",n),alert("Copy data: "+n),e.preventDefault()})});return n.appendChild(o),n}},719:(e,t,n)=>{n.d(t,{newTrackerButton:()=>l});var r=n(426),i=n(264),a=n(663);const o=r.ns,s=a.store.updater;function l(e,t){const n=r.login.newAppInstance(t.dom,{noun:"tracker"},function(n,a){function l(e){if(void 0!==e.elements)return e.elements.map(l);if(void 0===e.uri)return e;let t=e.uri;return t===d.uri?f:(t.slice(0,m.length)===m&&(t=a+t.slice(m.length)),p.sym(t))}const c="issuetracker.w3.org",u=r.ns.space,p=t.session.store;if(!a&&("/"!==(a=p.any(n,u("uriPrefix")).value).slice(-1)&&(i.log.error(c+": No / at end of uriPrefix "+a),a+="/"),a+=c+"/"+(new Date).getTime()+"/",!confirm("Make new tracker at "+a+"?")))return;const d=p.any(e,o.wf("stateStore")),f=p.sym(a+"store.ttl"),h=e.doc(),m=h.uri.slice(0,h.uri.lastIndexOf("/")+1),g=l(h),v=l(e),b=p.statementsMatching(void 0,void 0,void 0,h);for(let e=0;e<b.length;e++){const t=b[e];p.add(l(t.subject),l(t.predicate),l(t.object),g)}p.add(v,r.ns.space("inspiration"),e,d),p.add(v,r.ns.space("inspiration"),e,g),s.put(g,p.statementsMatching(void 0,void 0,void 0,g),"text/turtle",function(e,t,n){t&&s.put(f,[],"text/turtle",function(e,t,n){})})});return n.setAttribute("style","margin: 0.5em 1em;"),n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};n.r(o),n.d(o,{default:()=>g});var s=n(426),l=n(663),c=n(85),u=n(178),p=n(719),d=n(324),f=n(685),h=n(264);const m=l.store,g={icon:s.icons.iconBase+"noun_122196.svg",name:"issue",audience:[],label:function(e,t){const n=m.findTypeURIs(e);return n["http://www.w3.org/2005/01/wf/flow#Task"]||m.holds(e,s.ns.wf("tracker"))?"issue":n["http://www.w3.org/2005/01/wf/flow#Tracker"]?"tracker":null},mintClass:s.ns.wf("Tracker"),mintNew:async function(e,t){const n=e.session.store;let r;t.newInstance?r=n.sym(t.newInstance.doc().uri+"_state.ttl"):(t.newInstance=n.sym(t.newBase+"index.ttl#this"),r=n.sym(t.newBase+"state.ttl"));const i=t.newInstance,a=i.doc(),o=l.authn.currentUser();o&&n.add(i,s.ns.dc("author"),o,a),n.add(i,s.ns.rdf("type"),s.ns.wf("Tracker"),a),n.add(i,s.ns.dc("created"),new Date,a),n.add(i,s.ns.wf("issueClass"),s.ns.wf("Task"),a),n.add(i,s.ns.wf("initialState"),s.ns.wf("Open"),a),n.add(i,s.ns.wf("stateStore"),r,a),n.add(i,s.ns.wf("assigneeClass"),s.ns.foaf("Person"),a),n.add(i,s.ns.wf("stateStore"),r,r);const c=n.statementsMatching(void 0,void 0,void 0,a).concat(n.statementsMatching(void 0,void 0,void 0,r));try{await async function(e,t){const r=e.concat(t).map(e=>e.why),i=Array.from(new Set(r)).map(r=>n.updater.update(e.filter(e=>e.why.sameTerm(r)),t.filter(e=>e.why.sameTerm(r))));return Promise.all(i)}([],c)}catch(t){return s.widgets.complain(e,"Error writing tracker configuration: "+t)}const u=e.dom;return t.div.appendChild(u.createElement("div")).innerHTML=`<h4>Success</h4>\n    <p>Your <a href="${i.uri}">new tracker</a> has been made.\n    Use the settings tab to configure it.\n    </p>\n    `,t},render:function(e,t){const r=t.dom,i=r.createElement("div");function a(e){i.appendChild(s.widgets.errorMessageBlock(r,e))}function o(e,t){e||a(t)}function g(e,n){const i=m.any(e,s.ns.wf("issueClass")),o=(n=n||i).sameTerm(i),l=m.any(n,s.ns.owl("disjointUnionOf"));if(!l)return a(`Configuration error: state ${i} does not have substates`);let p=l.elements;o&&p.length>2&&(p=p.filter(e=>m.holds(e,s.ns.rdfs("subClassOf"),s.ns.wf("Open"))||e.sameTerm(s.ns.wf("Open"))));const d={columnDropHandler:async function(e,r){const i=(0,u.getState)(e,n),a=m.the(e,s.ns.wf("tracker"),null,e.doc()),o=m.any(a,s.ns.wf("stateStore"));if(!r.sameTerm(i)){try{await m.updater.update([h.st(e,s.ns.rdf("type"),i,o)],[h.st(e,s.ns.rdf("type"),r,o)])}catch(e){s.widgets.complain(t,"Unable to change issue state: "+e)}f.refresh()}},filter:o?null:function(e){return!!m.findTypeURIs(e)[s.ns.wf("Open").uri]}};d.sortBy=s.ns.dct("created"),d.sortReverse=!0;const f=(0,c.board)(r,p,function(e){return(0,u.renderIssueCard)(e,t)},d);return f}function v(e){const n=r.createElement("div"),i=l.authn.currentUser(),a={div:n,dom:r,noun:"tracker",statusArea:n,me:i,refreshTarget:e},o=[t.session.paneRegistry.byName("issue")];return s.create.newThingUI(a,t,o),n}function b(){const n=m.any(C,s.ns.wf("issueClass")),i=[k,w,n].concat(m.each(C,s.ns.wf("issueCategory")));i.push(x);const a={renderMain:function(n,i){if(n.innerHTML="",i.sameTerm(y))n.appendChild(g(C));else if(i.sameTerm(w))n.appendChild(function(n){function i(){const e=new h.IndexedFormula;return c.pat.optional.push(e),e}const a=m.any(e,s.ns.wf("issueClass")),o=m.each(n,s.ns.wf("issueCategory")),l=["issue","state","created"],c=new h.Query(s.utils.label(e));for(let e=0;e<o.length;e++)l.push("_cat_"+e);const p={};l.forEach(function(e){c.vars.push(p[e]=h.variable(e))}),c.pat.add(p.issue,s.ns.wf("tracker"),n),c.pat.add(p.issue,s.ns.dct("created"),p.created),c.pat.add(p.issue,s.ns.rdf("type"),p.state),c.pat.add(p.state,s.ns.rdfs("subClassOf"),a),c.pat.optional=[];for(let e=0;e<o.length;e++){const t=i();t.add(p.issue,s.ns.rdf("type"),p["_cat_"+e]),t.add(p["_cat_"+e],s.ns.rdfs("subClassOf"),o[e])}const d=m.any(n,s.ns.wf("propertyList"));if(d){const e=d.elements;for(let t=0;t<e.length;t++){const n=e[t];let r="_prop_"+t;n.uri.indexOf("#")>=0&&(r=n.uri.split("#")[1]);const a=i();c.vars.push(p[r]=h.variable(r)),a.add(p.issue,n,p[r])}}const f={};m.each(void 0,s.ns.rdfs("subClassOf"),a).forEach(function(e){(m.holds(e,s.ns.rdfs("subClassOf"),s.ns.wf("Open"))||e.sameTerm(s.ns.wf("Open")))&&(f[e.uri]=!0)});const g=(0,s.table)(r,{query:c,keyVariable:"?issue",sortBy:"?created",sortReverse:!0,hints:{"?issue":{linkFunction:function(e){const n=h.sym(e);(0,u.exposeOverlay)(n,t)},label:"Title"},"?created":{cellFormat:"shortDate"},"?state":{initialSelection:f,label:"Status"}}}),v=m.any(e,s.ns.wf("stateStore"));return g.appendChild(function(e,t){return s.widgets.button(r,s.icons.iconBase+"noun_479395.svg","refresh table",async n=>{try{await m.fetcher.load(e,{force:!0,clearPreviousData:!0})}catch(e){return void alert(e)}s.widgets.refreshTree(t)})}(v,g)),g}(C));else if(i.sameTerm(x))n.appendChild(function(e){const t=r.createElement("div");t.appendChild((0,f.csvButton)(r,e));const n=m.any(e,s.ns.wf("issueClass")),i=[w,n].concat(m.each(e,s.ns.wf("issueCategory"))),a=t.appendChild(r.createElement("div"));s.widgets.renderNameValuePair(r,m,a,null,"Default view").appendChild(s.widgets.makeSelectForOptions(r,m,e,s.ns.wf("defaultView"),i,{},e.doc()));const l={dom:r,div:t,noun:"tracker"};return s.login.registrationControl(l,e,s.ns.wf("Tracker")).then(n=>{const i=s.ns.wf("TrackerSettingsForm");h.parse('@prefix : <http://www.w3.org/ns/ui#> .\n@prefix core: <http://www.w3.org/2005/01/wf/flow#>.\n@prefix dct: <http://purl.org/dc/terms/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix ui: <http://www.w3.org/ns/ui#> .\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix wf: <http://www.w3.org/2005/01/wf/flow#> .\n\n  core:TrackerSettingsForm     a :Form;\n     <http://purl.org/dc/elements/1.1/title> "Tracker Configuration Form";\n     :parts  (\n\n      [   a ui:Heading;  ui:contents "About the tracker"@en ]\n\n      [ a :SingleLineTextField;\n                 :label "Title of issue tracker";\n                 :maxLength "128";\n                 :property dct:title;\n                 :size "40" ]\n\n      [ a :MultiLineTextField; :label "Description"; :property wf:description; :size "40" ]\n\n      [ a ui:Choice;  ui:canMintNew true; ui:use core:SuperClassForm; ui:follow true;\n          ui:property  wf:issueClass;\n          ui:label "What states can an issue be in?";\n          ui:from rdfs:Class;\n          ui:default wf:Task ]\n\n      [   a ui:Comment;  ui:contents """You can optionally sort issues using (one or more) classification systems"""@en ]\n\n\n      [ a ui:Multiple;  ui:canMintNew true;  ui:part core:ClassificationForm;\n          ui:property  wf:issueCategory; ui:label "Sort them into which category?"; ui:from rdfs:Class ]\n\n      [ a :BooleanField;\n              :label "Allow issues to have sub-issues";\n              :property wf:allowSubIssues;\n              :default false ]\n\n      [ a ui:Heading;  ui:contents "Table view:"@en ]\n\n      [ a ui:Comment;  ui:contents "Any extra properties to include?"@en ]\n\n\n    [a ui:Multiple; ui:property wf:propertyList; ui:ordered true; ui:part core:PropertyForm; ui:follow true ]\n\n      [ a ui:Heading;  ui:contents "Details of issues"@en ]\n\n      # Use a people picker ideally\n      [ a ui:Choice;  ui:canMintNew true; ui:use core:GroupForm;\n          ui:property wf:assigneeGroup;\n          ui:label "Assign issues to people from which group?";\n          ui:from vcard:Group;\n          ]\n\n       # Optionally one form for extras\n\n       [ a ui:Choice;  ui:canMintNew true; ui:use ui:FormForm;\n           ui:property wf:extrasEntryForm;\n           ui:label "Other things to save about each issue?";\n           ui:from ui:Form;\n           ]\n\n\n    ) .\n\n    # Form for the superclass of all states\n    # @@ also We must require each state class to be stated to be a subclass of EITHER Open OR Closed.\n    core:SuperClassForm a ui:Form; dct:title "Form for managing states";\n      ui:parts (\n        [ a :SingleLineTextField;\n                   :label "Name of set of states";\n                   :defualt "States";\n                   :maxLength "128";\n                   :property rdfs:label;\n                   :size "40" ]\n          [a ui:Multiple; ui:property owl:disjointUnionOf; ui:ordered true; ui:part core:StateForm ]\n  #      [ a ui:Multiple; ui:property rdfs:subClassOf; ui:reverse true; ui:part core:StateForm ]\n    ) .\n\n    core:StateForm a ui:Form; dct:title "Form for one state";\n      ui:parts (\n                [ a :SingleLineTextField;\n                         :label "Name of state";\n                         :maxLength "128";\n                         :property rdfs:label;\n                         :size "40" ]\n                 [ a :ColorField; :label "Background color"; :property :backgroundColor ]\n                  # @@ add icon for state\n\n                 ).\n\n\n    # Form for Classification\n\n    core:ClassificationForm a ui:Form; dct:title "Form for a classification by categpry";\n      ui:parts (\n        [ a :SingleLineTextField;\n                   :label "Name of classification:";\n                   :maxLength "128";\n                   :property rdfs:label;\n                   :size "40" ]\n         [a ui:Multiple; ui:property owl:disjointUnionOf; ui:ordered true; ui:part core:CategoryForm ]\n    ) .\n\n    core:CategoryForm a ui:Form; dct:title "Form for a category";\n      ui:parts (\n                [ a :SingleLineTextField;\n                         :label "Name of category";\n                         :maxLength "128";\n                         :property rdfs:label;\n                         :size "40" ]\n                 [ a :ColorField; :label "Background color"; :property :backgroundColor ]\n\n                 ).\n\n   core:PropertyForm a ui:Form; ui:parts ( # Internded for raed only only marking the\n     [ a :SingleLineTextField;\n                :label "(property name)";\n                :maxLength "128";\n                :property rdfs:label;\n                :size "40" ]\n     ).\n\n\n    # Other ontology stuff we are otherwis missing\n\n    # we can usde ui:label to give a decent abel when the ontology uses a really bad one\n    rdfs:subClassOf ui:label "super class" .\n    # We can also add a specific nice label for the inverse\n    [] owl:inverse rdfs:subClassOf; rdfs:label "sub class" .\n    owl:disjointUnionOf ui:label "option" .\n\n    # Form for new group\n\n\n    core:GroupForm a ui:Form; dct:title "Form for new contacts group"; ui:parts (\n      [ a :SingleLineTextField;\n                 :label "Name of new group";\n                 :maxLength "128";\n                 :property vcard:fn;\n                 :size "60" ]\n\n      [ a ui:Heading;  ui:contents "Members of group"@en ]\n\n      [ a ui:Multiple; ui:label "contacts in group"; ui:property vcard:member; ui:part core:PersonForm ]\n\n      ).\n\n  core:PersonForm a ui:Form; dct:title "New contact details form"; ui:parts (\n\n  [ a :NamedNodeURIField; ui:label "Solid ID"; ui:property owl:sameAs; ui:size 60 ]\n\n  [ a :SingleLineTextField;\n             :label "Name of contact";\n             :maxLength "128";\n             :property vcard:fn;\n             :size "60" ]\n\n  [ a ui:PhoneField; :label "Phone"; :property vcard:phone; ] # @@ check property]\n\n  [ a :EmailField; :label "Email"; :property vcard:email ] # @@ check property\n\n ).\n\n# classificattion owl:disjointUnionOf ()\n        wf:Tracker     :creationForm core:SettingsForm .\n',m,i.doc().uri,"text/turtle"),s.widgets.appendForm(r,t,{},e,i,e.doc(),o)}),t}(C));else if(i.sameTerm(k))n.appendChild(function(e){const t=r.createElement("div"),n={dom:r,div:t,noun:"tracker"};return s.login.registrationList(n,{public:!0,private:!0,type:e}).then(e=>{t.appendChild(v(t))}),t}(s.ns.wf("Tracker")));else{if(!m.holds(C,s.ns.wf("issueCategory"),i)&&!m.holds(C,s.ns.wf("issueClass"),i))throw new Error("Unexpected tab type: "+i);n.appendChild(g(C,i))}},items:i,selectedTab:m.any(C,s.ns.wf("defaultView"),null,C.doc())||w},l=k.doc();return m.add(k,s.ns.rdfs("label"),"My Trackers",l),m.add(x,s.ns.rdfs("label"),"Settings",l),m.add(n,s.ns.rdfs("label"),"By State",l),s.tabs.tabWidget(a)}t.paneDiv=i,i.setAttribute("class","issuePane");const y=s.ns.wf("BoardView"),w=s.ns.wf("TableView"),x=s.ns.wf("SettingsView"),k=s.ns.wf("InstancesView"),_=m.updater,E=m.findTypeURIs(e);let C;const S=s.ns.wf("").doc();m.holds(void 0,void 0,void 0,S)||h.parse(n(240),m,S.uri,"text/turtle");const A=s.ns.ui("").doc();let T;m.holds(void 0,void 0,void 0,A)||h.parse(n(197),m,A.uri,"text/turtle"),E["http://www.w3.org/2005/01/wf/flow#Task"]||m.holds(e,s.ns.wf("tracker"))?async function(){if(C=m.any(e,s.ns.wf("tracker")),!C)throw new Error("This issue "+e+"has no tracker");try{await t.session.store.fetcher.load(C.doc())}catch(e){return a("Failed to load tracker config "+C.doc()+": "+e)}const n=m.any(C,s.ns.wf("stateStore"));if(!n)return a("Tracker has no state store: "+C);try{await t.session.store.fetcher.load(e)}catch(e){return a("Failed to load issue state "+n+": "+e)}i.appendChild((0,u.renderIssue)(e,t)),_.addDownstreamChangeListener(n,function(){s.widgets.refreshTree(i)})}().then(()=>{}):E["http://www.w3.org/2005/01/wf/flow#Tracker"]&&async function(){function n(e){s.widgets.refreshTree(i),(0,u.exposeOverlay)(e,t),f.disabled=!1}C=e;try{await async function(e,t){async function n(t){const n=e.any(t,s.ns.owl("disjointUnionOf"),null,r);if(!n)throw new Error(`Classification ${t} has no disjointUnionOf`);if(!n.elements)throw new Error(`Classification ${t} has no array`);const i=new Set(n.elements.map(e=>e.uri)),a=new Set(e.each(null,s.ns.rdfs("subClassOf"),t,r).map(e=>e.uri)),o=[...a].filter(e=>!i.has(e)).map(n=>({action:"delete",st:h.st(e.sym(n),s.ns.rdfs("subClassOf"),t,r)})),l=[...i].filter(e=>!a.has(e)).map(n=>({action:"insert",st:h.st(e.sym(n),s.ns.rdfs("subClassOf"),t,r)}));return o.concat(l)}const r=t.doc(),i=e.any(t,s.ns.wf("issueClass")),a=e.each(t,s.ns.wf("issueCategory")).concat([i]);let o=[];for(const e of a)o=o.concat(await n(e));if(o.length){const t=o.filter(e=>"insert"===e.action).map(e=>e.st),n=o.filter(e=>"delete"===e.action).map(e=>e.st);confirm(`Fix ${o} inconsistent subclasses in tracker config?`)&&await e.updater.update(n,t)}}(m,C)}catch(e){}const a=m.any(e,s.ns.wf("issueClass"));if(!a)throw new Error("This tracker has no issueClass");const o=m.any(e,s.ns.wf("stateStore"));if(!o)throw new Error("This tracker has no stateStore");const l=r.createElement("h2");l.setAttribute("style","font-size: 150%"),i.appendChild(l);const c=s.utils.label(a);l.appendChild(r.createTextNode(c+" list"));const f=r.createElement("button"),g=r.createElement("div");f.setAttribute("type","button"),f.setAttribute("style","padding: 0.3em; font-size: 100%; margin: 0.5em;"),g.appendChild(f),i.appendChild(g);const v=r.createElement("img");v.setAttribute("src",s.icons.iconBase+"noun_19460_green.svg"),v.setAttribute("style","width: 1em; height: 1em; margin: 0.2em;"),f.appendChild(v);const y=r.createElement("span");y.innerHTML="New "+c,f.appendChild(y),f.addEventListener("click",function(e){f.disabled=!0,g.appendChild((0,d.newIssueForm)(r,m,C,null,n))},!1),t.session.store.fetcher.load([o]).then(function(n){const r=b();i.appendChild(r),r.refresh,i.appendChild((0,p.newTrackerButton)(e,t)),_.addDownstreamChangeListener(o,r.refresh)}).catch(function(e){})}().then(()=>{});const R=i.appendChild(r.createElement("div"));return t.overlay=R,R.style="position: fixed; z-index: 100; top: 1.51em; right: 2em; left: 2em; bottom:1.5em; border: 0.1em grey; overflow: scroll;",R.style.visibility="hidden",l.authn.checkUser().then(e=>{e?t.me=e:(T=s.login.loginStatusBox(r,e=>{e?(t.me=m.sym(e),i.removeChild(T)):t.me=null}),T.setAttribute("style","margin: 0.5em 1em;"),i.appendChild(T),t.statusArea||(t.statusArea=i.appendChild(r.createElement("div"))))}),i}};return o})())},3955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getSameAs=f;var r=n(9332),i=n(466),a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500)),o=n(7587),s=n(547),l=n(4195),c=n(9208);const u=a.ns,p=a.utils,d=a.style;t.default={icon:a.icons.iconBase+"noun_99101.svg",name:"contact",label:function(e,t){const n=t.session.store.findTypeURIs(e);return n[u.vcard("Individual").uri]?"Contact":n[u.vcard("Organization").uri]?"contact":n[u.foaf("Person").uri]||n[u.schema("Person").uri]?"Person":n[u.vcard("Group").uri]?"Group":n[u.vcard("AddressBook").uri]?"Address book":null},mintClass:a.ns.vcard("AddressBook"),mintNew:o.mintNewAddressBook,render:function(e,t,n={}){const o=this;function h(e){y.appendChild(a.widgets.errorMessageBlock(v,e,"pink"))}function m(e,t){e||h("Error: "+t)}function g(e){return a.login.newAppInstance(v,{noun:"address book",appPathSegment:"contactorator.timbl.com"},function(t,n){o.clone(e,n,{me:w,div:y,dom:v})})}const v=t.dom,b=t.session.store,y=v.createElement("div"),w=r.authn.currentUser();return a.aclControl.preventBrowserDropEvents(v),y.setAttribute("class","contactPane"),async function(){a.aclControl.preventBrowserDropEvents(v);const o=b.findTypeURIs(e);let w=r.authn.currentUser();const x={target:e,me:w,noun:"address book",div:y,dom:v};function k(e,o,s){b.fetcher.load(e).then(function(o){!function(e,o,s){const x=p.label(u.vcard("AddressBook"));let k=e[0];const _=b.any(k,u.vcard("groupIndex"));let E={},C={};const S=s.foreignGroup||k;let A=b.any(S,u.dc("title"))||b.any(S,u.vcard("fn"));n.solo&&A&&"undefined"!=typeof document&&(document.title=A.value);function T(e){if(e)return e;let t;for(const e in E){t=b.sym(e);const n=b.any(void 0,u.vcard("includesGroup"),t);if(n)return n}throw new Error("findBookFromGroups: Cant find address book which this group is part of")}function R(e){const t=b.any(e,u.vcard("fn"))||b.any(e,u.foaf("name"))||b.any(e,u.vcard("organization-name"));return t?t.value:"???"}function P(e){const t=le.value.trim().toLowerCase();if(0===t.length)return!0;const n=t.split(" ");for(let t=0;t<n.length;t++){const r=n[t];if(e.toLowerCase().indexOf(r)<0)return!1}return!0}function F(e){ce.innerHTML="loading...",C={},C[e.uri]=!0,I();const t=k?B(e):e;b.fetcher.nowOrWhenFetched(t.doc(),void 0,function(n,r){if(ce.innerHTML="",!n)return m(n,"Can't load card: "+t+": "+r);ce.appendChild(j(v,t,"contact")),ce.appendChild(v.createElement("br")),ce.appendChild(a.widgets.linkIcon(v,t));const i=a.widgets.deleteButtonWithCheck(v,ce,"contact",async function(){const t=e.dir(),n=b.any(e,u.vcard("fn"));if(confirm("Delete contact "+n+" completely?? "+t)){await O();const n=b.any(k,u.vcard("nameEmailIndex"));await b.fetcher.load(n);const r=(0,c.groupMembership)(e);let i=[];r.forEach(t=>{f(b,e,t.doc()).forEach(e=>{1===f(b,e,t.doc()).length&&(i=i.concat(b.statementsMatching(t,u.vcard("hasMember"),e,t.doc())))})}),await b.updater.updateMany(i),await D(e),await U(b,t),z(),ce.innerHTML="Contact Data Deleted."}});i.style="height: 2em;"})}function I(e){let t=0,n=null;for(let e=0;e<ie.children.length;e++){const r=ie.children[e],i=P(R(r.subject));i&&(t++,n=r),r.setAttribute("style",i?C[r.subject.uri]?"background-color: #cce;":"":"display: none;")}if(1===t&&e){F(n.subject)}}function N(e,t,n){function r(t,r){r.setAttribute("style","background-color: #ffe;"),b.fetcher.nowOrWhenFetched(t.doc(),void 0,function(o,s){if(!o){const e="Can't load group file: "+t+": "+s;return a.push(e),m(o,e)}r.setAttribute("style","background-color: #cce;"),e[t.uri]=!0,q(),z(),i-=1,i||n&&n(0===a.length,a)})}let i=t.children.length;var a=[];for(let e=0;e<t.children.length;e++){const n=t.children[e];r(n.subject,n)}}async function O(){await b.fetcher.load(_);const e=k?b.each(k,u.vcard("includesGroup"),null,_):[];return await b.fetcher.load(e),e}function L(){let t=[];return s.foreignGroup&&t.push(["",b.any(s.foreignGroup,u.vcard("fn")),s.foreignGroup]),k&&(e.forEach(function(e){const n=(e?b.each(e,u.vcard("includesGroup"),null,_):[]).map(function(t){return[e,b.any(t,u.vcard("fn")),t]});t=t.concat(n)}),t.sort()),t.map(e=>e[2])}function j(e,n,r){const i=t.session.paneRegistry.byName(r).render(n,t);return i.setAttribute("style","border: 0.1em solid #444; border-radius: 0.5em"),i}function M(e,t){let n=R(e),r=R(t);if(n&&r){if(n=n.toLowerCase(),r=r.toLowerCase(),n>r)return 1;if(n<r)return-1}return e.uri>t.uri?1:e.uri<t.uri?-1:0}async function D(e){const t=b.statementsMatching(e).concat(b.statementsMatching(void 0,void 0,e));try{await b.updater.updateMany(t),await b.fetcher.delete(e.doc())}catch(t){h("Error deleting thing "+e+": "+t)}}function U(e,t){return new Promise(function(n){e.fetcher.load(t).then(function(){const r=e.each(t,u.ldp("contains")).map(t=>{if(e.holds(t,u.rdf("type"),u.ldp("BasicContainer")))return U(e,t);if(!confirm(" Really DELETE File "+t))throw new Error("User aborted delete file");return e.fetcher.webOperation("DELETE",t.uri)});if(!confirm(" Really DELETE folder "+t))throw new Error("User aborted delete file");r.push(e.fetcher.webOperation("DELETE",t.uri)),Promise.all(r).then(e=>{n()})})})}function B(e,t){const n=b.allAliases(e),r=k.dir().uri;for(let e=0;e<n.length;e++)if(n[e].uri.slice(0,r.length)===r)return n[e];throw new Error("No local URI for "+e)}function z(){function e(e,t){e.addEventListener("click",function(e){e.preventDefault(),F(t)})}let t=[];Object.keys(E).map(e=>b.sym(e)).forEach(e=>{E[e.value]&&(t=t.concat((0,i.groupMembers)(b,e)))}),t.sort(M);for(let e=0;e<t.length-1;)t[e].uri===t[e+1].uri?t.splice(e,1):e++;function n(t){const n=v.createElement("tr"),r=n.appendChild(v.createElement("td"));r.setAttribute("style",ue),n.subject=t;const i=R(t);return r.textContent=i,n.subject=t,a.widgets.makeDraggable(n,t),e(n,t),n}Z.textContent=t.length>5?t.length+" contacts":"contact",p.syncTableToArrayReOrdered(ie,t,n),I()}function H(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];r.subject&&r.setAttribute("style",t[r.subject.uri]?"background-color: #cce;":"")}}function q(){return H(ne,E)}function $(){function e(e){async function n(t){t.forEach(function(t){const n=b.sym(t);try{(0,i.addPersonToGroup)(n,e)}catch(e){h(e)}z()})}function r(n){n.preventDefault();const r=b.sym(e.uri.split("#")[0]);n.metaKey||(E={}),E[e.uri]=!E[e.uri],q(),ie.innerHTML="",b.fetcher.nowOrWhenFetched(r.uri,void 0,function(i,o){if(!i)return m(i,"Can't load group file: "+r+": "+o);if(z(),!n.metaKey){ce.innerHTML="";let n=!1;const r=a.aclControl.ACLControlBox5(e,t,"group",b,function(e,t,n){e||(n&&n.status&&403===n.status?ce.innerHTML="No control access.":ce.innerHTML="Failed to load access control: "+t)}),i=ce.appendChild(v.createElement("button"));i.style.cssText="padding: 1em; margin: 1em";const o=i.appendChild(v.createElement("img"));o.style.cssText="width: 1.5em; height: 1.5em",o.setAttribute("src",a.icons.iconBase+"noun_123691.svg"),i.addEventListener("click",function(){n=!n,n?ce.appendChild(r):ce.removeChild(r)})}})}const o=b.any(e,u.vcard("fn")),s=v.createElement("tr");return s.subject=e,a.widgets.makeDraggable(s,e),s.setAttribute("style",ue),s.textContent=o,a.widgets.makeDropTarget(s,n),a.widgets.deleteButtonWithCheck(v,s,"group "+o,async function(){await D(e),$()}),s.addEventListener("click",r,!0),s}const n=L();p.syncTableToArrayReOrdered(ne,n,e),q()}async function W(){const e=await O(),{del:t,ins:n}=await(0,i.getDataModelIssues)(e);t.length&&confirm(`Groups data model need to be updated? (${t.length})`)&&(await b.updater.updateMany(t,n),alert("Update done"))}async function V(e){ce.innerHTML="";const n=b.any(k,u.vcard("groupIndex"));try{await b.fetcher.load(n)}catch(e){}const r=await a.widgets.askName(v,b,ce,a.ns.foaf("name"),u.vcard("Group"),"group");if(!r)return;let o;try{o=await(0,i.saveNewGroup)(k,r)}catch(e){return void(ce.innerHTML="Failed to save group"+e)}E={},E[o.uri]=!0,$(),ce.innerHTML="",ce.appendChild(a.aclControl.ACLControlBox5(o.doc(),t,"group",b,function(e,t){e||(ce.innerHTML="Group sharing setup failed: "+t)}))}async function G(e){ce.innerHTML="";const t=T(k);try{await b.fetcher.load(t)}catch(e){throw new Error("Book won't load:"+t)}const n=b.any(t,u.vcard("nameEmailIndex"));if(!n)throw new Error("Wot no nameEmailIndex?");await b.fetcher.load(n);const r=await a.widgets.askName(v,b,ce,a.ns.foaf("name"),e);if(!r)return;let o;ce.innerHTML="indexing...",k=T(k);try{o=await(0,i.saveNewContact)(k,r,E,e)}catch(e){alert("Error: can't save new contact: "+e)}C={},C[o.uri]=!0,z(),ce.innerHTML="",ce.appendChild(j(v,o,"contact"))}A=A?A.value:x;const K=v.createElement("table");K.setAttribute("style","border-collapse: collapse; margin-right: 0; max-height: 9in;"),y.appendChild(K);const J=K.appendChild(v.createElement("tr")),Q=K.appendChild(v.createElement("tr")),Y=K.appendChild(v.createElement("tr")),X=J.appendChild(v.createElement("td")),Z=J.appendChild(v.createElement("td")),ee=J.appendChild(v.createElement("td")),te=Q.appendChild(v.createElement("td")),ne=te.appendChild(v.createElement("table")),re=Q.appendChild(v.createElement("td")),ie=re.appendChild(v.createElement("table")),ae=Y.appendChild(v.createElement("td")),oe=Y.appendChild(v.createElement("td")),se=Y.appendChild(v.createElement("td"));ee.appendChild(v.createElement("div"));const le=ee.appendChild(v.createElement("input"));le.setAttribute("type","text"),le.style=d.searchInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",le.addEventListener("input",function(e){I(!0)});const ce=Q.appendChild(v.createElement("td"));ce.setAttribute("style","margin: 0;");const ue="padding: 0.1em;";function pe(e){const t=e?"":"display: none;";X.setAttribute("style","min-width: 10em; padding-bottom 0.2em;"+t);const n="padding: 0.1em;";te.setAttribute("style",n+t),ae.setAttribute("style",n+t)}X.textContent="groups",X.setAttribute("style","min-width: 10em; padding-bottom 0.2em;"),pe(!0),s.foreignGroup&&(E[s.foreignGroup.uri]=!0);if(k){const e=X.appendChild(v.createElement("button"));e.textContent="All";const t="margin-left: 1em; font-size: 100%;";e.setAttribute("style",t),e.addEventListener("click",function(n){e.state=e.state?0:1,ie.innerHTML="",e.state?(e.setAttribute("style",t+"background-color: #ff8;"),N(E,ne,function(n,r){if(!n)return h(r);e.setAttribute("style",t+"background-color: black; color: white"),q()})):(e.setAttribute("style",t+"background-color: #cfc;"),E={},q())}),b.fetcher.nowOrWhenFetched(_.uri,k,function(e,t){e&&($(),z())})}else $(),z(),pe(!1);Z.textContent="name",Z.setAttribute("style","min-width: 18em;"),re.setAttribute("style","overflow:scroll;");const de=v.createElement("button"),fe=v.createElement("div");de.setAttribute("type","button"),w||de.setAttribute("disabled","true");r.authn.checkUser().then(e=>{e&&(w=e,de.removeAttribute("disabled"))}),fe.appendChild(de),de.innerHTML="New Contact",oe.appendChild(fe),de.addEventListener("click",async e=>G(u.vcard("Individual")),!1);const he=v.createElement("button"),me=v.createElement("div");he.setAttribute("type","button"),w||he.setAttribute("disabled","true");if(r.authn.checkUser().then(e=>{e&&(w=e,he.removeAttribute("disabled"))}),me.appendChild(he),he.innerHTML="New Organization",oe.appendChild(me),he.addEventListener("click",async e=>G(u.vcard("Organization")),!1),k){const e=ae.appendChild(v.createElement("button"));e.setAttribute("type","button"),e.innerHTML="New Group",e.addEventListener("click",V,!1);const n=se.appendChild(v.createElement("button"));n.setAttribute("type","button"),n.innerHTML="Tools",n.addEventListener("click",function(e){ce.innerHTML="",ce.appendChild((0,l.toolsPane)(N,E,ne,k,t,w))})}se.appendChild(g(k)),y.appendChild(v.createElement("hr")),W().then(()=>{})}(e,0,s)}).catch(function(e){h(e)})}o[u.vcard("Individual").uri]||o[u.foaf("Person").uri]||o[u.schema("Person").uri]||o[u.vcard("Organization").uri]||o[u.schema("Organization").uri]?(0,s.renderIndividual)(v,y,e,t).then(()=>{}):o[u.vcard("Group").uri]?a.login.findAppInstances(x,u.vcard("AddressBook")).then(function(t){const n=t.instances,r={foreignGroup:e};n.length>0?k(n,0,r):k([],0,r)}).catch(function(e){a.widgets.complain(x,e)}):o[u.vcard("AddressBook").uri]&&k([e],0,{});w=r.authn.currentUser(),w||a.login.ensureLoadedProfile(x).then(e=>{w=e.me},e=>{y.appendChild(a.widgets.errorMessageBlock(e))});"undefined"!=typeof document&&document.location&&"http://localhost"===(""+document.location).slice(0,16)&&(w=b.any(e,a.ns.acl("owner")));return y}().then(()=>{},e=>h(""+e)),y}};function f(e,t,n){return e.each(t,u.owl("sameAs"),null,n).concat(e.each(null,u.owl("sameAs"),t,n))}},4011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DOMParserFactory:()=>p,RDFArrayRemove:()=>y,callbackify:()=>u,domToString:()=>d,dtstamp:()=>h,dumpNode:()=>f,heavyCompare:()=>m,heavyCompareSPO:()=>g,linkRelationProperty:()=>c,log:()=>i.A,mediaTypeClass:()=>l,output:()=>v,parseXML:()=>b,stackString:()=>x,string:()=>s,string_startswith:()=>w,uri:()=>r});var r=n(2727),i=n(4940),a=n(5108),o=n(8392);e=n.hmd(e);const s={template:function(e,t){for(var n=e.split("%s"),r="",i=0;i<t.length;i++)t[i]+="",r+=n[i]+t[i];return r+n.slice(t.length).join()}};function l(e){return e=e.split(";")[0].trim(),new a.A("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function c(e){return new a.A("http://www.w3.org/ns/iana/link-relations/relation#"+e.trim())}function u(e,t){e.callbacks={};for(var n=t.length-1;n>=0;n--)e.callbacks[t[n]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,n){e.callbacks[t].push(n)},e.removeCallback=function(t,n){for(var r=0;r<e.callbacks[t].length;r++)if(e.callbacks[t][r].name===n)return e.callbacks[t].splice(r,1),!0;return!1},e.insertCallback=function(t,n){e.callbacks[t].unshift(n)},e.fireCallbacks=function(t,n){var r,i=[],a=[],o=e.callbacks[t].length;let s;for(r=o-1;r>=0;r--)s=e.callbacks[t][r],s&&s.apply(e,n)&&i.push(s);for(r=i.length-1;r>=0;r--)a.push(i[r]);for(r=o;r<e.callbacks[t].length;r++)a.push(e.callbacks[t][r]);e.callbacks[t]=a}}function p(){return window.DOMParser?new o.DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function d(e,t){var n=[];(t=t||{})&&t.selfClosing&&t.selfClosing.split(" ").forEach(function(e){n[e]=!0});var r=[];return t&&t.skipAttributes&&t.skipAttributes.split(" ").forEach(function(e){r[e]=!0}),f(e,t,n,r)}function f(e,t,n,r){var i,a="",o=[!1];if(void 0===e.nodeType)return a;if(1===e.nodeType){if(e.hasAttribute("class")&&t&&t.classWithChildText&&e.matches(t.classWithChildText.class))a+=e.querySelector(t.classWithChildText.element).textContent;else if(!(t&&t.skipNodeWithClass&&e.matches("."+t.skipNodeWithClass))){var s=e.nodeName.toLowerCase();a+="<"+s;var l=[];for(i=e.attributes.length-1;i>=0;i--){var c=e.attributes[i];if(!(r&&r.length>0&&r[c.name])&&!/^\d+$/.test(c.name)){if("class"===c.name&&t&&t.replaceClassItemWith&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var u=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(u,t.replaceClassItemWith.target).trim()}"class"===c.name&&t&&t.skipClassWithValue&&t.skipClassWithValue===c.value||l.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(l.length>0&&(t&&t.sortAttributes&&l.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),a+=" "+l.join(" ")),n&&n.ename)a+=" />";else{for(a+=">",a+="html"===s?"\n  ":"",o.push("style"===s||"script"===s),i=0;i<e.childNodes.length;i++)a+=f(e.childNodes[i]);o.pop(),a+="body"===s?"</"+s+">\n":"</"+s+">"}}}else if(8===e.nodeType)a+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var p=e.nodeValue.replace(/\n+$/,"");a+=o[o.length-1]?p:p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return a}function h(){var e=new Date,t=e.getYear()+1900,n=e.getMonth()+1,r=e.getDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),o=e.getSeconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),a<10&&(a="0"+a),o<10&&(o="0"+o),t+"-"+n+"-"+r+"T"+i+":"+a+":"+o+"Z"}function m(e,t,n,r){var i=function(e){return"BlankNode"===e.termType?null:e},a=function(e){var t=n.statementsMatching(e).map(function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)}).concat(n.statementsMatching(void 0,void 0,e).map(function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)}));return t.sort(),t.join("\n")};const o=Object.prototype.hasOwnProperty.call(n,"compareTerms")?n.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===o?0:a(e)>a(t)?1:a(e)<a(t)?-1:o:r&&e.uri&&t.uri?(r[e.uri]||e.uri).localeCompare(r[t.uri]||t.uri):o}function g(e,t,n,r){return m(e.subject,t.subject,n,r)||m(e.predicate,t.predicate,n,r)||m(e.object,t.object,n,r)}function v(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function b(t,n){return n=n||{},e&&e.exports?(new o.DOMParser).parseFromString(t,n.contentType||"application/xhtml+xml"):("undefined"!=typeof window&&window.DOMParser?new window.DOMParser:new o.DOMParser).parseFromString(t,"application/xml")}function y(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.equals(t.subject)&&e[n].predicate.equals(t.predicate)&&e[n].object.equals(t.object)&&e[n].why.equals(t.why))return void e.splice(n,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function w(e,t){return e.slice(0,t.length)===t}function x(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var n=e.stack.toString().split("\n"),r=[],i=0;i<n.length;i++){var a=n[i];if(a.indexOf("ecmaunit.js")>-1)break;"("==a.charAt(0)&&(a="function"+a);var o=a.split("@");r.push(o)}for(i=0;i<r.length;i++)t+="  "+r[i][1]+"\n    "+r[i][0];return t}},4036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(500);const i={icon:r.icons.iconBase+"noun_688606.svg",name:"tabbed",audience:[r.ns.solid("PowerUser")],label:(e,t)=>{const n=t.session.store.findTypeURIs(e);return r.ns.meeting("Cluster").uri in n?"Tabbed":null},render:(e,t)=>{const n=t.dom,i=t.session.store,a=n.createElement("div");return(async()=>{if(!i.fetcher)throw new Error("Store has no fetcher");await i.fetcher.load(e),a.appendChild(r.tabs.tabWidget({dom:n,subject:e,predicate:i.any(e,r.ns.meeting("predicate"))||r.ns.meeting("toolList"),ordered:!0,orientation:i.anyValue(e,r.ns.meeting("orientation"))||"0",renderMain:(e,n)=>{e.innerHTML="";const r=e.appendChild(t.dom.createElement("table"));t.getOutliner(t.dom).GotoSubject(n,!0,null,!1,void 0,r)},renderTab:(n,a)=>{const o=i.the(e,r.ns.meeting("predicate"));n.appendChild(r.widgets.personTR(t.dom,o,a,{}))},backgroundColor:i.anyValue(e,r.ns.ui("backgroundColor"))||"#ddddcc"}))})(),a}};t.default=i},4059:e=>{const t=e.exports={};t.list=[],t.paneForIcon=[],t.paneForPredicate=[],t.register=function(e,n){if(e.requireQueryButton=n,e.name&&e.label&&(t.list.push(e),e.name in t||(t[e.name]=e),e.icon&&(t.paneForIcon[e.icon]=e),e.predicates))for(const n in e.predicates)t.paneForPredicate[n]={pred:n,code:e.predicates[n]}},t.byName=function(e){for(let n=0;n<t.list.length;n++)if(t.list[n].name===e)return t.list[n];return null}},4064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPane=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.defaultPane={icon:r.icons.originalIconBase+"about.png",name:"default",audience:[o.solid("Developer")],label:function(e){return"about "},render:function(e,t){const n=t.dom,a=function(e,n){return void 0===t.session.paneRegistry.byName("internal").predicates[e.uri]&&(!n||"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==e.uri)},o=t.getOutliner(n),s=t.session.store;r.log.info("@defaultPane.render, dom is now "+n.location),e=s.canon(e);const l=n.createElement("div");l.setAttribute("class","defaultPane");let c=s.statementsMatching(e);if(o.appendPropertyTRs(l,c,!1,a),c=s.statementsMatching(void 0,void 0,e),o.appendPropertyTRs(l,c,!0,a),"Literal"===e.termType&&"http://"===e.value.slice(0,7)&&o.appendPropertyTRs(l,[i.st(s.sym(e.value),r.ns.link("uri"),e)],!0,a),"NamedNode"===e.termType&&s.updater.editable(i.Util.uri.docpart(e.uri),s)||"BlankNode"===e.termType&&s.anyStatementMatching(e)&&s.anyStatementMatching(e).why&&s.anyStatementMatching(e).why.uri&&s.updater.editable(s.anyStatementMatching(e).why.uri)){const e=n.createElement("tr"),t=n.createElement("td");t.setAttribute("colspan","2"),t.setAttribute("notSelectable","true");const i=n.createElement("img");i.src=r.icons.originalIconBase+"tango/22-list-add-new.png",i.addEventListener("click",function(e){o.UserInput.addNewPredicateObject(e),e.stopPropagation(),e.preventDefault()}),i.className="bottom-border-active",l.appendChild(e).appendChild(t).appendChild(i)}return l}}},4146:(e,t,n)=>{"use strict";var r=n(4363),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=u(n);p&&(o=o.concat(p(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!(a[v]||r&&r[v]||m&&m[v]||s&&s[v])){var b=d(n,v);try{c(t,v,b)}catch(e){}}}}return t}},4195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolsPane=function(e,t,n,o,s,l){const c=s.dom,u=i.store,p=r.ns,d=p.vcard,f="font-size: 100%; margin: 0.8em; padding:0.5em;",h=c.createElement("div"),m=h.appendChild(c.createElement("table"));m.setAttribute("style","font-size:120%; margin: 1em; border: 0.1em #ccc ;");const g=m.appendChild(c.createElement("tr"));g.textContent=r.utils.label(o)+" - tools",g.setAttribute("style","min-width: 20em; padding: 1em; font-size: 150%; border-bottom: 0.1em solid red; margin-bottom: 2em;");const v=m.appendChild(c.createElement("tr")).appendChild(c.createElement("div"));v.setAttribute("style","padding: 2em;");const b=m.appendChild(c.createElement("tr")),y=b.appendChild(c.createElement("table"));m.appendChild(c.createElement("tr"));const w={target:o,me:l,noun:"address book",div:h,dom:c,statusRegion:v};function x(e){v.appendChild(r.widgets.errorMessageBlock(c,e,"pink"))}return async function(){y.appendChild(r.aclControl.ACLControlBox5(o.dir(),s,"book",u,function(e,t){e||(y.innerHTML="ACL control box Failed: "+t)}));try{await r.login.registrationControl(w,o,p.vcard("AddressBook"))}catch(e){r.widgets.complain(w,"registrationControl: "+e)}const l=b.appendChild(c.createElement("pre"));function m(e){l.textContent+=e+"\n"}function g(){m(u.each(void 0,d("inAddressBook"),o).length+" cards loaded. ");let e=u.each(o,d("includesGroup"));const n=new Set(e.map(e=>e.uri));e=[...n].map(e=>u.sym(e)),m(e.length+" total groups. ");const r=[];for(const e in t)r.push(e);m(r.length+" selected groups. ")}async function v(e){k.setAttribute("style","background-color: #ffc;");const t=u.any(o,p.vcard("nameEmailIndex"));try{await u.fetcher.load(t)}catch(e){k.setAttribute("style","background-color: #fcc;"),m("Error: People index has NOT been loaded"+e+"\n")}k.setAttribute("style","background-color: #cfc;"),m(" People index has been loaded\n")}const k=h.appendChild(c.createElement("button"));k.textContent="Load main index",k.style.cssText=f,k.addEventListener("click",v);const _=h.appendChild(c.createElement("button"));_.textContent="Statistics",_.style.cssText=f,_.addEventListener("click",g);const E=h.appendChild(c.createElement("button"));async function C(e){function n(e){r.acl.fixIndividualCardACL(e,m,function(t,n){m(t?"Success for "+r.utils.label(e):"Failure for "+r.utils.label(e)+": "+n)})}const i=[];for(const e in t)i.push(e);for(let e=0;e<i.length;e++){const t=u.sym(i[e]),o=(0,a.groupMembers)(u,t);m(r.utils.label(t)+": "+o.length+" members");for(let e=0;e<o.length;e++){const t=o[e];m(r.utils.label(t)),n(t)}}}E.textContent="Check individual card access of selected groups",E.style.cssText=f,E.addEventListener("click",C);const S=h.appendChild(c.createElement("button"));async function A(e){const t=await T(e);if(0===t.length)return void m("No groupless cards found.");const n=await(0,a.saveNewGroup)(e,"ZSortThese");if(confirm(`Add the ${t.length} cards without groups to a ZSortThese group?`))for(const e of t)m("   adding "+e),await(0,a.addPersonToGroup)(e,n);m("People moved to group.")}async function T(e){const t=u.any(e,p.vcard("groupIndex")),n=u.any(e,p.vcard("nameEmailIndex"));try{await u.fetcher.load([n,t]);const r=u.each(e,p.vcard("includesGroup"));await u.fetcher.load(r)}catch(e){x("Error loading stuff:"+e)}const i={},o=[];let s=u.each(e,d("includesGroup"));const l=new Set(s.map(e=>e.uri));s=[...l].map(e=>u.sym(e)),m(s.length+" total groups. ");for(let e=0;e<s.length;e++){const t=s[e],n=(0,a.groupMembers)(u,t);m(r.utils.label(t)+": "+n.length+" members");for(let e=0;e<n.length;e++)u.allAliases(n[e]).forEach(function(e){i[e.uri]=t})}const c=u.each(void 0,d("inAddressBook"),e);m(c.length+" total cards");for(let e=0;e<c.length;e++)i[c[e].uri]||(o.push(c[e]),m("   groupless "+r.utils.label(c[e])));return m(o.length+" groupless cards."),o}S.textContent="Find duplicate cards",S.style.cssText=f,S.addEventListener("click",function(e){const t={};t.book=o,t.nameEmailIndex=u.any(o,p.vcard("nameEmailIndex")),m("Loading name index..."),i.store.fetcher.nowOrWhenFetched(t.nameEmailIndex,void 0,function(e,n){function r(e){return new Promise(function(n){u.fetcher.load(e).then(function(r){m(" Nameless check "+e);const i={};function a(e){return u.statementsMatching(null,null,null,e.doc()).filter(function(e){return!i[e.predicate.uri]})}i[p.vcard("hasUID").uri]=!0,i[p.dc("created").uri]=!0,i[p.dc("modified").uri]=!0;const o=a(e);if(!o.length)return m("  Zero length "+e),t.nameLessZeroData.push(e),n(!1);const s=new $rdf.Serializer(u).setBase(e.doc().uri).statementsToN3(o),l=t.nameLessIndex[s];if(l){m("  Matches with "+l);const r=u.each(null,p.vcard("hasMember"),e),i=u.each(null,p.vcard("hasMember"),l);for(let a=0;a<r.length;a++){let o=!1;for(let e=0;e<i.length;e++)i[e].sameTerm(r[a])&&(o=!0);if(!o)return m("This one groups: "+r),m("Other one groups: "+i),m("Cant skip this one because it has a group, "+r[a]+", which the other does not."),t.nameOnlyDuplicatesGroupDiff.push(e),n(!1)}}else m("First nameless like: "+e.doc()),m("___________________________________________"),m(s),m("___________________________________________"),t.nameLessIndex[s]=e,t.namelessUniques.push(e);n(!0)}).catch(function(r){m("Cant load a nameless card!: "+r),t.nameOnlyErrors.push(e),n(!1)})})}function i(){return t.namelessToCheck=t.namelessToCheck||t.nameless.slice(),m("Nameless check left: "+t.namelessToCheck.length),new Promise(function(e){const n=t.namelessToCheck.shift();if(!n){if(m("namelessUniques: "+t.namelessUniques.length),m("namelessUniques: "+t.namelessUniques),t.namelessUniques.length>0&&confirm("Add all "+t.namelessUniques.length+" nameless cards to the rescued set?")){t.uniques=t.uniques.concat(t.namelessUniques);for(let e=0;e<t.namelessUniques.length;e++)t.uniqueSet[t.namelessUniques[e].uri]=!0}return e(!0)}r(n).then(function(e){m("    Nameless check returns "+e),i()})})}function s(){return new Promise(function(e){m("Groups loaded");for(let e=0;e<t.uniques.length;e++)t.uniquesSet[t.uniques[e].uri]=!0;t.groupMembers=[],u.each(null,p.vcard("hasMember")).forEach(e=>{t.groupMembers=t.groupMembers.concat((0,a.groupMembers)(u,e))}),m("  Naive group members "+t.groupMembers.length),t.groupMemberSet=[];for(let e=0;e<t.groupMembers.length;e++)t.groupMemberSet[t.groupMembers[e].uri]=t.groupMembers[e];t.groupMembers2=[];for(const e in t.groupMemberSet)t.groupMembers2.push(t.groupMemberSet[e]);if(m("  Compact group members "+t.groupMembers2.length),$rdf.keepThisCodeForLaterButDisableFerossConstantConditionPolice){for(let e=0;e<t.groupMembers.length;e++){const n=t.groupMembers[e];t.uniquesSet[n.uri]||(m("  Not in uniques: "+n),t.groupProblems.push(n),t.duplicateSet[n.uri]?m("    ** IN duplicates alas:"+n):m("   **** WTF?"))}m("Problem cards: "+t.groupProblems.length)}e(!0)})}function l(){return new Promise(function(e){let n,r,i;for(t.cards=u.each(void 0,d("inAddressBook"),t.book),m(t.cards.length+" total cards"),n=0;n<t.cards.length;n++)if(r=t.cards[n],i=u.anyValue(r,p.vcard("fn")),i)if(t.definitive[i]===r);else if(t.definitive[i]){t.duplicates.length;t.duplicates.push(r)}else t.definitive[i]=r;else t.nameless.push(r);t.duplicateSet=[];for(let e=0;e<t.duplicates.length;e++)t.duplicateSet[t.duplicates[e].uri]=t.duplicates[e];t.namelessSet=[];for(let e=0;e<t.nameless.length;e++)t.namelessSet[t.nameless[e].uri]=t.nameless[e];t.uniques=[],t.uniqueSet=[];for(let e=0;e<t.cards.length;e++){const n=t.cards[e].uri;t.duplicateSet[n]||t.namelessSet[n]||(t.uniques.push(t.cards[e]),t.uniqueSet[n]=t.cards[e])}m("Uniques: "+t.uniques.length),m(t.nameless.length+" nameless cards."),m(t.duplicates.length+" name-duplicate cards, leaving "+(t.cards.length-t.duplicates.length)),e(!0)})}function c(){let e;return Promise.resolve().then(()=>{e=u.sym(t.book.dir().uri+"clean-people.ttl");let n=[];for(let e=0;e<t.uniques.length;e++)n=n.concat(u.connectedStatements(t.uniques[e],t.nameEmailIndex));const r=new $rdf.Serializer(u).setBase(t.nameEmailIndex.uri);m("Serializing index of uniques...");const i=r.statementsToN3(n);return u.fetcher.webOperation("PUT",e,{data:i,contentType:"text/turtle"})}).then(function(){return m("Done uniques log "+e),!0}).catch(function(e){m("Error saving uniques: "+e)})}function f(e){let n;return Promise.resolve().then(()=>{const r=e.uri.replace("/Group/","/NewGroup/");n=u.sym(r);let i=[];for(let n=0;n<t.uniques.length;n++)i=i.concat(u.connectedStatements(t.uniques[n],e.doc()));const a=new $rdf.Serializer(u).setBase(e.uri);m("   Regenerating group of uniques..."+n);const o=a.statementsToN3(i);return u.fetcher.webOperation("PUT",n,{data:o,contentType:"text/turtle"})}).then(()=>(m("     Done uniques group "+n),!0)).catch(e=>{m("Error saving : "+e)})}function h(){return m("Saving ALL GROUPS"),Promise.all(t.groupObjects.map(f))}m("Loaded name index."),t.cards=[],t.duplicates=[],t.definitive=[],t.nameless=[],t.exactDuplicates=[],t.nameOnlyDuplicates=[],t.uniquesSet=[],t.groupProblems=[],t.nameDupLog=u.sym(o.dir().uri+"dedup-nameDupLog.ttl"),t.exactDupLog=u.sym(o.dir().uri+"dedup-exactDupLog.ttl"),t.nameOnlyErrors=[],t.nameLessZeroData=[],t.nameLessIndex=[],t.namelessUniques=[],t.nameOnlyDuplicatesGroupDiff=[];const g=function(){let e=[];if(t.book){[t.book].forEach(function(t){const n=(t?u.each(t,p.vcard("includesGroup")):[]).map(function(e){return[t,u.any(e,p.vcard("fn")),e]});e=e.concat(n)}),e.sort()}return e},v=g();t.groupObjects=v.map(e=>e[2]),m("Loading "+t.groupObjects.length+" groups... "),u.fetcher.load(t.groupObjects).then(l).then(s).then(i).then(()=>new Promise(function(e,t){confirm("Write new clean versions?")?e(!0):t(new Error("User cancelled writing clean versions"))})).then(c).then(h).then(function(){m("Done!")})})});const R=h.appendChild(c.createElement("button"));R.style.cssText=f,R.textContent="Find individuals with no group",R.addEventListener("click",function(r){m("Loading groups..."),e(t,n,async function(e,t){if(!e)return void m("Load all groups: failed: "+t);const n=u.any(o,p.vcard("nameEmailIndex"));try{await u.fetcher.load(n)}catch(e){x(e)}m("Loaded groups and name index."),T(o),m("Groupless list finished..")})});const P=h.appendChild(c.createElement("button"));async function F(e){async function t(e){let t=[],n=[];e.forEach(e=>{let r=u.statementsMatching(null,p.owl("sameAs"),null,e.doc()).map(e=>e.subject);const i=new Set(r.map(e=>e.uri));r=[...i].map(e=>u.sym(e)),r.forEach(r=>{if(!u.each(r,p.vcard("fn"),null,e.doc()).length){t=t.concat(u.statementsMatching(r,p.owl("sameAs"),null,e.doc()).concat(u.statementsMatching(void 0,void 0,r,e.doc())));u.each(r,p.owl("sameAs"),null,e.doc()).forEach(t=>{n=n.concat($rdf.st(t,p.owl("sameAs"),r,e.doc())).concat($rdf.st(e,p.vcard("hasMember"),t,e.doc()))})}})}),t.length&&confirm("Groups can be updated to old data model ?")?(await u.updater.updateMany(t,n),alert("Update done")):t.length||alert("Nothing to update.\nAll Groups already use the old data model.")}let n=u.each(e,d("includesGroup"));const r=new Set(n.map(e=>e.uri));n=[...r].map(e=>u.sym(e)),t(n)}P.style.cssText=f,P.textContent="Put all individuals with no group in a new group",P.addEventListener("click",e=>A(o));const I=h.appendChild(c.createElement("button"));I.style.cssText=f,I.textContent="Revert groups to old data model",I.addEventListener("click",e=>F(o))}(),h};var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500)),i=n(9332),a=n(466)},4357:(e,t,n)=>{const r=n(208);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},4363:(e,t,n)=>{"use strict";e.exports=n(2799)},4416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addWebIDToContacts=x,t.getPersonas=E,t.getSameAs=_,t.isOrganization=S,t.removeWebIDFromContacts=k,t.renderIdControl=T,t.renderNamedPane=A,t.renderPublicIdControl=async function(e,t){let n=d.sym("http://www.wikidata.org/wiki/Q43229"),r="Organization";for(const t in h)d.holds(e,c.rdf("type"),c.schema(t),e.doc())&&(n=d.sym(h[t]),r=t);const i={longPrompt:`If you know the ${v} of this ${r}, you can do more stuff with it.\n    To record its ${v}, drag it onto the plus, or click the magnifyinng glass\n    to search for it in WikiData.`,idNoun:v,urlType:c.vcard("PublicId"),dbLookup:!0,class:n,queryParams:m};return T(e,t,i)},t.renderWebIdControl=async function(e,t){const n={longPrompt:`If you know someone's ${g}, you can do more stuff with them.\n    To record their ${g}, drag it onto the plus, or click the plus\n    to enter it by hand.`,idNoun:g,urlType:c.vcard("WebID")};return T(e,t,n)},t.vcardWebIDs=C;var r=l(n(500)),i=n(9332),a=n(466),o=n(3311),s=l(n(8230));function l(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const c=r.ns,u=r.widgets,p=r.utils,d=i.store,f=r.style,h=u.publicData.wikidataClasses,m=u.publicData.wikidataParameters,g="Solid ID",v="In public data",b=r.icons.iconBase+"noun_1369241.svg",y=r.icons.iconBase+"noun_1369237.svg",w="#ffe6ff";async function x(e,t,n,r){try{new URL(t)}catch(e){throw new Error(`${g}: ${t} is not a valid url.`)}const i=r.bnode(),o=[s.st(e,c.vcard("url"),i,e.doc()),s.st(i,c.rdf("type"),n,e.doc()),s.st(i,c.vcard("value"),t,e.doc())],l=r.each(null,c.vcard("hasMember"),e);let u=[];l.forEach(n=>{u=u.concat(r.statementsMatching(n,c.vcard("hasMember"),e,n.doc())),o.push(s.st(n,c.vcard("hasMember"),r.sym(t),n.doc())),o.push(s.st(r.sym(t),c.owl("sameAs"),e,n.doc()))});try{await(0,a.updateMany)(u,o)}catch(e){throw new Error(`Could not create webId ${g}: ${t}.`)}}async function k(e,t,n,r){const i=r.each(e,c.vcard("url"),null,e.doc()).filter(t=>r.holds(t,c.rdf("type"),n,e.doc())).filter(n=>r.holds(n,c.vcard("value"),t,e.doc()));if(!i.length)throw new Error(`Person ${e} does not have ${g} ${t}.`);const o=i[0],l=[s.st(e,c.vcard("url"),o,e.doc()),s.st(o,c.rdf("type"),n,e.doc()),s.st(o,c.vcard("value"),t,e.doc())];await r.updater.update(l,[]);const u=r.each(null,c.vcard("hasMember"),r.sym(t));let p=[];const d=[];u.forEach(async n=>{p=p.concat(r.statementsMatching(r.sym(t),c.owl("sameAs"),e,n.doc())),d.push(s.st(n,c.vcard("hasMember"),e,n.doc())),r.statementsMatching(r.sym(t),c.owl("sameAs"),null,n.doc()).length<2&&(p=p.concat(r.statementsMatching(n,c.vcard("hasMember"),r.sym(t),n.doc())))}),await(0,a.updateMany)(p,d)}function _(e,t,n){const r=new Set,i=new Set([t.uri]);for(;i.size;){const t=Array.from(i)[0];if(i.delete(t),r.has(t))continue;r.add(t);const a=e.sym(t);e.each(a,c.owl("sameAs"),null,n).concat(e.each(null,c.owl("sameAs"),a,n)).forEach(e=>{i.add(e.uri)}),e.each(a,c.schema("sameAs"),null,n).concat(e.each(null,c.schema("sameAs"),a,n)).forEach(e=>{i.add(e.uri)})}return r.delete(t.uri),Array.from(r).map(t=>e.sym(t))}function E(e,t){const n=C(e,t).concat(_(e,t,t.doc())),r=[...new Set(n.map(e=>e.value))].map(t=>e.sym(t));return r.sort(),r.filter(e=>!e.sameTerm(t)),r}function C(e,t,n){return e.each(t,c.vcard("url"),null,t.doc()).filter(r=>e.holds(r,c.rdf("type"),n,t.doc())).map(n=>e.any(n,c.vcard("value"),null,t.doc())).filter(e=>!!e)}function S(e){const t=e.doc();return d.holds(e,c.rdf("type"),c.vcard("Organization"),t)||d.holds(e,c.rdf("type"),c.schema("Organization"),t)}function A(e,t,n,r){const i=r.session.paneRegistry.byName(n).render(t,r);return i.setAttribute("style","border: 0.1em solid #444; border-radius: 0.5em"),i}async function T(e,t,n){async function i(){const o=E(d,e);g.style.display=o.length?"none":"",p.syncTableToArrayReOrdered(v,o,o=>function(a,o,l){const p=a.createElement("div");p.style.width="100%";const d=p.appendChild(a.createElement("table"));d.style.width="100%";const f=d.appendChild(function(t){const o=new s.Literal(t.uri),d=n.urlType.sameTerm(c.vcard("WebID")),f={deleteFunction:n.editable?async function(){try{await k(e,o,n.urlType,l)}catch(t){p.appendChild(u.errorMessageBlock(a,`Error removing Id ${o} from ${e}: ${t}`))}await i()}:null,draggable:!0};d&&(f.title=t.uri.split("/")[2],f.image=u.faviconOrDefault(a,t.site()));const h=u.personTR(a,r.ns.foaf("knows"),t,f);return d&&(h.children[1].textConent=f.title,h.style.backgroundColor=w),h.style.padding="0.2em",h}(o));f.style.width="100%";const h=d.appendChild(a.createElement("tr")).appendChild(a.createElement("td"));let m;h.setAttribute("colspan",3);let g=!0;const v=f.children[2].appendChild(u.button(a,b,"View",function(e){g=!g,m.style.visibility=g?"visible":"collapse",v.children[0].src=g?y:b}));v.style.float="right",delete v.style.backgroundColor,delete v.style.border;const x=(S(e)||S(o),"profile");return u.publicData.loadPublicDataThing(l,e,o).then(e=>{try{m=A(0,o,x,t),m.style.width="100%",h.appendChild(m)}catch(e){m=u.errorMessageBlock(a,`Problem displaying persona ${o}: ${e}`),h.appendChild(m)}},e=>{m=u.errorMessageBlock(a,`Error loading persona ${o}: ${e}`),h.appendChild(m)}),p}(a,o,d))}const{dom:a}=t;(n=n||{}).editable=d.updater.editable(e.doc().uri,d);const l=a.createElement("div");if(l.style="border-radius:0.3em; border: 0.1em solid #888;",0===E(d,e).length&&!n.editable)return l.style.display="none",l;const h=l.appendChild(a.createElement("h4"));h.textContent=n.idNoun,h.style=f.formHeadingStyle,h.style.color=f.highlightColor;const g=l.appendChild(a.createElement("p"));g.style=f.commentStyle,g.textContent=n.longPrompt;l.appendChild(a.createElement("table")).style.width="100%",n.editable&&(n.manualURIEntry=!0,n.queryParams=n.queryParams||m,l.appendChild(await(0,o.renderAutocompleteControl)(a,e,n,async function(e,t){try{await x(e,t,n.urlType,d)}catch(n){l.appendChild(u.errorMessageBlock(a,`Error adding Id ${t} to ${e}: ${n}`))}await i()})));const v=l.appendChild(a.createElement("div"));return await i(),l}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9526);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4477:(e,t)=>{"use strict";
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],p=1,d=null,f=3,h=!1,m=!1,g=!1,v=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,_());else{var t=r(u);null!==t&&I(k,t.startTime-e)}}var _,E=!1,C=-1,S=5,A=-1;function T(){return!!v||!(t.unstable_now()-A<S)}function R(){if(v=!1,E){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(C),C=-1),h=!0;var a=f;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&T());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){d.callback=s,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&I(k,l.startTime-e),n=!1}}break e}finally{d=null,f=a,h=!1}n=void 0}}finally{n?_():E=!1}}}if("function"==typeof w)_=function(){w(R)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,F=P.port2;P.port1.onmessage=R,_=function(){F.postMessage(null)}}else _=function(){b(R,0)};function I(e,n){C=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:p++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,I(k,a-o))):(e.sortIndex=s,n(c,e),m||h||(m=!0,E||(E=!0,_()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},4565:(e,t,n)=>{const r=n(6886),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let a=n<<10;for(;r.getBCHDigit(a)-i>=0;)a^=1335<<r.getBCHDigit(a)-i;return 21522^(n<<10|a)}},4572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textXl=t.textRight=t.textLeft=t.textGray=t.textDarkGray=t.textCenter=t.responsiveGrid=t.paddingSmall=t.padding=t.marginVerticalSmall=t.label=t.headingLight=t.heading=t.fullWidth=t.fontThin=t.fontSemibold=t.card=void 0;t.responsiveGrid=()=>({"--auto-grid-min-size":"30rem",display:"grid","grid-template-columns":"repeat(auto-fill, minmax(var(--auto-grid-min-size), 1fr))","grid-gap":"1rem"});t.card=()=>({backgroundColor:"white",borderRadius:"4px",boxShadow:"0 1px 5px rgba(0,0,0,0.2)",padding:"0"});t.fullWidth=()=>({width:"100%","max-width":"100vw"});t.padding=()=>({padding:"1rem"});t.paddingSmall=()=>({padding:"0.25rem"});t.marginVerticalSmall=()=>({marginTop:"0.25rem",marginBottom:"0.25rem"});const n=()=>({textAlign:"center"});t.textCenter=n;t.textLeft=()=>({textAlign:"left"});t.textRight=()=>({textAlign:"right"});const r=()=>({fontSize:"1.25rem",lineHeight:"1.75rem"});t.textXl=r;const i=()=>({fontWeight:"100"});t.fontThin=i;const a=()=>({fontWeight:"600"});t.fontSemibold=a;const o=()=>({color:"rgb(55, 65, 81,)"});t.textDarkGray=o;const s=()=>({color:"rgb(107, 114, 128)"});t.textGray=s;t.heading=()=>({textAlign:"center",fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"600",color:"rgb(55, 65, 81,)",margin:"0"});t.headingLight=()=>({color:"rgb(107, 114, 128)",fontWeight:"100",fontSize:"1.25rem",lineHeight:"1.75rem",margin:"0"});t.label=()=>({color:"rgb(107, 114, 128)",fontWeight:"600"})},4596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneDiv=function(e,t,n){const r=e.session.paneRegistry.byName(n);if(!r){const t=e.dom.createElement("div");return t.innerText=`Unable to load view: ${n}`,t}const i=r.render(t,e);let a;i&&"function"==typeof i.setAttribute?a=i:i&&i.nodeType===Node.TEXT_NODE?(a=e.dom.createElement("div"),a.appendChild(i)):(a=e.dom.createElement("div"),a.innerText=`View render did not return a valid Node for: ${n}`);return a.setAttribute("style","border: 0.3em solid #444; border-radius: 0.5em"),a}},4641:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error,FunctionPrototypeCall:(e,t,...n)=>e.call(t,...n),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Boolean,Uint8Array}},4695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMeToYourFriendsDiv=void 0,t.checkIfAnyUserLoggedIn=m,t.checkIfFriendExists=g,t.createAddMeToYourFriendsButton=void 0,t.saveNewFriend=h;var r=n(6752),i=n(2378),a=n(9332),o=n(8230),s=n(500),l=n(799),c=n(4572),u=n(1363);let p=document.createElement("div");const d=(0,i.styleMap)({...(0,c.textCenter)(),...(0,c.padding)()});t.addMeToYourFriendsDiv=(e,t)=>{p=t.dom.createElement("div");const n=f(e,t);return p.appendChild(n),r.html` <div style="${d}">${p}</div> `};const f=(e,t)=>{const n=s.widgets.button(t.dom,void 0,u.logInAddMeToYourFriendsButtonText,function(n){n.preventDefault(),h(e,t).then(()=>{(0,l.clearPreviousMessage)(p),(0,l.mention)(p,u.friendWasAddedSuccesMessage),r()}).catch(e=>{(0,l.clearPreviousMessage)(p),(0,l.complain)(p,t,e)})},{needsBorder:!0});function r(){const r=a.authn.currentUser(),i=t.session.store;m(r)?g(i,r,e).then(e=>{e?(n.innerHTML=u.friendExistsAlreadyButtonText.toUpperCase(),n.setAttribute("class","textButton-0-1-3")):(n.innerHTML=u.addMeToYourFriendsButtonText.toUpperCase(),n.setAttribute("class","textButton-0-1-2"))}):(n.innerHTML=u.logInAddMeToYourFriendsButtonText.toUpperCase(),n.setAttribute("class","textButton-0-1-3"))}return n.refresh=r(),n};async function h(e,t){const n=a.authn.currentUser(),r=t.session.store;if(!m(n))throw new Error(u.userNotLoggedInErrorMessage);if(await g(r,n,e))throw new Error(u.friendExistsMessage);{await r.fetcher.load(n);const t=r.updater,i=[(0,o.st)(n,s.ns.foaf("knows"),e,n.doc())];try{await t.update([],i)}catch(e){let t=e;throw t.toString().includes("Unauthenticated")&&(t=u.userNotLoggedInErrorMessage),new Error(t)}}}function m(e){return!!e}async function g(e,t,n){return await e.fetcher.load(t),0!==e.whether(t,s.ns.foaf("knows"),n,t.doc())}t.createAddMeToYourFriendsButton=f},4713:(e,t,n)=>{const r=n(2731);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<t.length;a++)n[i+a]^=r.mul(e[i],t[a]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let i=0;i<t.length;i++)n[i]^=r.mul(t[i],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},4764:(e,t,n)=>{const r=n(4713);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},4799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatWithMe=void 0;var r=n(6752),i=n(500),a=n(764),o=n(1363);t.ChatWithMe=(e,t)=>{const n=t.session.logic,s=t.session.paneRegistry.byName("long chat");return r.html` ${(0,a.asyncReplace)(async function*(){const r=t.dom.createElement("div");let a;try{yield o.loadingMessage,a=await n.chat.getChat(e,!1)}catch(e){a=!1}if(a)r.appendChild(s.render(a,t,{})),yield r;else{const a=i.widgets.button(t.dom,void 0,o.chatWithMeButtonText,async()=>{try{const i=await n.chat.getChat(e,!0);r.innerHTML="",r.appendChild(s.render(i,t,{}))}catch(e){r.appendChild(i.widgets.errorMessageBlock(t.dom,e.message))}},{needsBorder:!0});r.appendChild(a),yield r}}())} `}},4861:(e,t,n)=>{const r=n(208),i=n(6886);function a(e){this.mode=r.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=a},4887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presentProfile=void 0,t.pronounsAsText=o;var r=n(500),i=n(9332),a=n(6077);function o(e){let t=i.store.anyJS(e,r.ns.solid("preferredSubjectPronoun"))||"";if(t){const n=i.store.anyJS(e,r.ns.solid("preferredObjectPronoun"));if(n){t+="/"+n;const a=i.store.anyJS(e,r.ns.solid("preferredRelativePronoun"));a&&(t+="/"+a)}t=" ("+t+") "}return t||""}function s(e,t){return e&&t?`${t}, ${e}`:e||t||null}function l(e,t){return e&&t?`${e} at ${t}`:t||e||null}function c(e,t){return e&&(0,a.validateHTMLColorHex)(e)?e:t}t.presentProfile=(e,t)=>{const n=r.utils.label(e),i=r.widgets.findImage(e),a=t.anyValue(e,r.ns.vcard("role")),u=t.anyValue(e,r.ns.vcard("organization-name")),p=t.any(e,r.ns.vcard("hasAddress")),d=null!=p?t.anyValue(p,r.ns.vcard("country-name")):null,f=null!=p?t.anyValue(p,r.ns.vcard("locality")):null,{backgroundColor:h,highlightColor:m}=function(e,t){const n=t.anyValue(e,r.ns.solid("profileBackgroundColor"),null,e.doc()),i=t.anyValue(e,r.ns.solid("profileHighlightColor"),null,e.doc());return{backgroundColor:c(n,"#eee"),highlightColor:c(i,"#090")}}(e,t),g=o(e);return{name:n,imageSrc:i,introduction:l(a,u),location:s(d,f),backgroundColor:h,pronouns:g,highlightColor:m}}},4930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(500),i=n(8230);const a={icon:r.icons.originalIconBase+"tango/22-emblem-system.png",name:"internal",label:function(){return"under the hood"},render:function(e,t){const n=t.dom,a=t.session.store,o=a.canon(e),s=a.findTypeURIs(o);function l(e){if(s["http://www.w3.org/2007/ont/link#ProtocolEvent"])return!0;const n=t.session.paneRegistry.byName("internal");return n&&n.predicates&&!(void 0===n.predicates[e.uri])}const c=n.createElement("div");function u(e,t){const n=e.fetcher;if(n)return new Promise(function(i,a){n.load(t).then(function(){const o=e.each(t,r.ns.ldp("contains")).map(t=>e.holds(t,r.ns.rdf("type"),r.ns.ldp("BasicContainer"))?u(e,t):n.webOperation("DELETE",t.uri));Promise.all(o).then(()=>{n.webOperation("DELETE",t.uri).then(()=>{i(void 0)}).catch(e=>{a(new Error("Unable to delete "+t+": "+e))}),i(void 0)},e=>{alert(e),a(e)})})})}c.setAttribute("class","internalPane"),c.setAttribute("style","background-color: #ddddff; padding: 0.5em; border-radius: 1em;");if(e.uri&&!e.uri.includes("#")){const t=c.appendChild(n.createElement("table"));t.style.width="100%",t.style.margin="1em";const i=t.appendChild(n.createElement("tr")),o=i.appendChild(n.createElement("td")),s=e.uri&&e.uri.endsWith("/")||a.holds(e,r.ns.rdf("type"),r.ns.ldp("Container")),l=s?"folder":"file";if(!function(e){const t=e.site().uri;return e.uri===t||e.uri===t+"profile/"||e.uri===t+"profile/card"||e.uri===t+"settings/"||e.uri===t+"settings/prefs.ttl"||e.uri===t+"settings/privateTypeIndex.ttl"||e.uri===t+"settings/publicTypeIndex.ttl"||e.uri===t+"settings/serverSide.ttl"}(e)){const t=r.widgets.deleteButtonWithCheck(n,o,l,function(){if(!confirm(`Are you sure you want to delete ${e}? This cannot be undone.`))return;if(!a.fetcher)throw new Error("Store has no fetcher");(s?u(a,e)||Promise.resolve():a.fetcher.webOperation("DELETE",e.uri)||Promise.resolve()).then(()=>{}).catch(t=>{alert("Unable to delete "+e+": "+t)})});t.style="height: 2em;",t.class="",o.appendChild(t)}const p=i.appendChild(n.createElement("td")),d=r.widgets.button(n,r.icons.iconBase+"noun_479395.svg","refresh");p.appendChild(d),d.addEventListener("click",()=>{if(!a.fetcher)throw new Error("Store has no fetcher");a.fetcher.refresh(e,function(t,n){let r;r=t?"Refreshed OK: "+e:"Error refreshing: "+e+": "+n,alert(r)})})}let p=a.statementsMatching(e),d="";if(!a.fetcher)throw new Error("Store has no fetcher");if(e.uri&&(p.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#uri"),e.uri,a.fetcher.appNode)),e.uri.indexOf("#")>=0?(d=e.uri.split("#")[0],p.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#documentURI"),e.uri.split("#")[0],a.fetcher.appNode)),p.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/2007/ont/link#document"),(0,i.sym)(e.uri.split("#")[0]),a.fetcher.appNode))):d=e.uri),d){if(!a.updater)throw new Error("Store has no updater");const t=a.updater.editable(d);t&&p.push((0,i.st)(e,(0,i.sym)("http://www.w3.org/ns/rww#editable"),(0,i.literal)(t.toString()),a.fetcher.appNode))}const f=t.getOutliner(n);return f.appendPropertyTRs(c,p,!1,l),p=a.statementsMatching(void 0,void 0,e),f.appendPropertyTRs(c,p,!0,l),c},predicates:{"http://www.w3.org/2007/ont/link#request":1,"http://www.w3.org/2007/ont/link#requestedBy":1,"http://www.w3.org/2007/ont/link#source":1,"http://www.w3.org/2007/ont/link#session":2,"http://www.w3.org/2007/ont/link#uri":1,"http://www.w3.org/2007/ont/link#documentURI":1,"http://www.w3.org/2007/ont/link#document":1,"http://www.w3.org/2007/ont/link#all":1,"http://www.w3.org/2007/ont/link#Document":1,"http://www.w3.org/ns/rww#editable":1,"http://www.w3.org/2000/01/rdf-schema#seeAlso":1,"http://www.w3.org/2002/07/owl#":1},classes:{"http://www.w3.org/2007/ont/link#ProtocolEvent":1}};t.default=a},4940:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={debug(e){},warn(e){},info(e){},error(e){},success(e){},msg(e){}}},4945:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i="URLSearchParams"in r,a="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,l="ArrayBuffer"in r;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function p(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function m(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function g(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=m(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,a=m(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=p(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[p(e)]},h.prototype.get=function(e){return e=p(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(p(e))},h.prototype.set=function(e,t){this.map[p(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},h.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},a&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,a=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),w.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function k(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},y.call(x.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];_.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function C(e,n){return new Promise(function(i,a){var s=new x(e,n);if(s.signal&&s.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function u(){c.abort()}if(c.onload=function(){var e,t,n={statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(e){}}}),t)};0===s.url.indexOf("file://")&&(c.status<200||c.status>599)?n.status=200:n.status=c.status,n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var r="response"in c?c.response:c.responseText;setTimeout(function(){i(new _(r,n))},0)},c.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request timed out"))},0)},c.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},c.open(s.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?c.withCredentials=!0:"omit"===s.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":l&&(c.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof h||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){f.push(p(e)),c.setRequestHeader(e,d(n.headers[e]))}),s.headers.forEach(function(e,t){-1===f.indexOf(t)&&c.setRequestHeader(t,e)})}else s.headers.forEach(function(e,t){c.setRequestHeader(t,e)});s.signal&&(s.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&s.signal.removeEventListener("abort",u)}),c.send(void 0===s._bodyInit?null:s._bodyInit)})}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=h,r.Request=x,r.Response=_),t.Headers=h,t.Request=x,t.Response=_,t.fetch=C}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=r.fetch?r:i;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},4959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={buildTime:"2025-11-29T22:13:34Z",commit:"60467249fb751e622e12523bef6efcde99da2543",npmInfo:{"'solid-panes'":"'4.0.0',",npm:"'10.8.2',",node:"'20.19.5',",acorn:"'8.15.0',",ada:"'2.9.2',",ares:"'1.34.5',",brotli:"'1.1.0',",cjs_module_lexer:"'2.1.0',",cldr:"'47.0',",icu:"'77.1',",llhttp:"'9.3.0',",modules:"'115',",napi:"'9',",nghttp2:"'1.61.0',",openssl:"'3.0.16',",simdutf:"'6.4.2',",tz:"'2025b',",undici:"'6.21.2',",unicode:"'16.0',",uv:"'1.46.0',",uvwasi:"'0.0.21',",v8:"'11.3.244.8-node.30',",zlib:"'1.3.1-470d3a2'","}":"}"}}},5018:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(4641),{isIterable:a,isNodeStream:o,isWebStream:s}=n(136),{pipelineImpl:l}=n(8431),{finished:c}=n(9365);n(2825),e.exports={finished:c,pipeline:function(...e){return new i((t,n)=>{let i,c;const u=e[e.length-1];if(u&&"object"==typeof u&&!o(u)&&!a(u)&&!s(u)){const t=r(e);i=t.signal,c=t.end}l(e,(e,r)=>{e?n(e):t(r)},{signal:i,end:c})})}}},5108:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(4467),i=n(1059),a=n(8936),o=n(9403),s=n(2931),l=n(2915);class c extends a.A{constructor(e){if(super((0,s.E)(e)),(0,r.A)(this,"termType",o.Kk),(0,r.A)(this,"classOrder",i.A.NamedNode),!this.value)throw new Error("Missing IRI for NamedNode");if(!this.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(this.value.includes(" "))throw new Error('Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.')}dir(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new c(e.slice(0,t+1))}site(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",t+2);return new c(n<0?e.slice(0)+"/":e.slice(0,n+1))}doc(){return this.value.indexOf("#")<0?this:new c(this.value.split("#")[0])}toString(){return"<"+this.value+">"}id(){return this.value.split("#")[1]}get uri(){return this.value}set uri(e){this.value=e}static fromValue(e){return null==e||(0,l.D0)(e)?e:new c(e)}}},5130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.default={icon:r.icons.iconBase+"noun_62007.svg",name:"travel expenses",audience:[o.solid("PowerUser")],label:function(e,t){const n=t.session.store,i=n.findTypeURIs(e);return r.ns.qu("Transaction")in n.findSuperClassesNT(e)?"by Trip":i["http://www.w3.org/ns/pim/trip#Trip"]?"Trip $":null},render:function(e,t){const n=t.dom,a=t.store,o=r.ns,s=i.Namespace("http://www.w3.org/2002/12/cal/ical#"),l=i.Namespace("http://www.w3.org/ns/pim/trip#"),c=n.createElement("div");c.setAttribute("class","transactionPane"),c.innerHTML="<h2>Trip transactions</h2>";const u=function(e,t){void 0===t&&(t="color: grey");const r=n.createElement("pre");r.setAttribute("style",t),c.appendChild(r),r.appendChild(n.createTextNode(e))},p=a.findTypeURIs(e),d=function(e,t){const s=new i.Query(r.utils.label(e)),c={};["date","transaction","comment","type","in_USD"].forEach(function(e){s.vars.push(c[e]=i.variable(e))}),s.pat.add(c.transaction,l("trip"),e);const p=a.formula();p.add(c.transaction,o.rdf("type"),c.type),s.pat.optional.push(p),s.pat.add(c.transaction,r.ns.qu("date"),c.date),p.add(c.transaction,o.rdfs("comment"),c.comment),s.pat.optional.push(p),s.pat.add(c.transaction,r.ns.qu("in_USD"),c.in_USD);const d=r.table(n,{query:s,onDone:function(){const t={},n=a.each(void 0,l("trip"),e);n.forEach(function(e){let n=a.the(e,o.rdf("type"));if(n||(n=r.ns.qu("ErrorNoType")),n&&n.uri){const i=n.uri;t[i]||(t[i]=0);const o=a.any(e,r.ns.qu("in_USD"));o||u("    @@ No amount in USD: "+o+" for "+e),o&&(t[i]=t[i]+parseFloat(o.value))}});let i="",s=0,c=0;for(const e in t)i+=r.utils.label(a.sym(e))+": "+t[e]+"; ",s++,c+=t[e];u("Totals of "+n.length+" transactions: "+i,""),s>1&&u("Overall net: "+c,"text-treatment: bold;")}});t.appendChild(d)};if(r.ns.qu("Transaction")in a.findSuperClassesNT(e)){const t=a.each(void 0,o.rdf("type"),e),n=[],i=[];for(let e=0;e<t.length;e++){const o=t[e],s=a.any(o,l("trip"));if(s){o in i||(i[s]={total:0,transactions:[]});const e=a.any(o,r.ns.qu("in_USD"));e&&(i[s].total+=e);const t=a.any(o,r.ns.qu("date"));i[s.toNT()].transactions.push([t,o])}else n.push(o)}const u=[];for(const e in i){const t=a.fromNT(e);u.push([a.any(t,s("dtstart")),t])}u.sort();for(let e=0;e<u.length;e++){d(u[e][1],c)}}else p["http://www.w3.org/ns/pim/trip#Trip"]&&d(e,c);return c}}},5218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const n=(0,r.getOutliner)(document);let o=t=t||window.location.href;"string"==typeof t&&(o=e.sym(t));n.GotoSubject(o,!0,void 0,!0,void 0);const s=await(0,i.createHeader)(e,n),l=(0,a.createFooter)(e);return Promise.all([s,l])};var r=n(7523),i=n(3469),a=n(8399)},5238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formPane=void 0;var r=o(n(500)),i=n(9332),a=o(n(8230));function o(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const s=r.ns;t.formPane={icon:r.icons.iconBase+"noun_122196.svg",name:"form",audience:[s.solid("PowerUser")],label:function(e){const t=r.widgets.formsFor(e).length;return r.log.debug("Form pane: forms for "+e+": "+t),t?t+" forms":null},render:function(e,t){const n=t.session.store,o=t.dom,l=function(e,t){const n=o.createElement("p");return n.setAttribute("style",t||"color: grey; background-color: white"),d.appendChild(n).textContent=e,n},c=function(e,t){l(e,"style")},u=function(e,t){e||c("Sorry, failed to save your change:\n"+t)},p=i.authn.currentUser(),d=o.createElement("div");if(d.setAttribute("class","formPane"),p){0===n.each(p,s.ui("workspace")).length&&l("You don't seem to have any workspaces defined.  A workspace is a place on the web (http://..) or in the file system (file:///) to store application data.\n")}else l("You are not logged in. If you log in and have workspaces then you would be able to select workspace in which to put this new information");const f=function(e,t){n.fetcher.nowOrWhenFetched(e.uri,t,function(n,i){if(!n)return c("Cannot load store "+e.uri+": "+i);const s=r.widgets.formsFor(t);for(let n=0;n<s.length;n++){const i=s[n],l=o.createElement("h4");if(d.appendChild(l),i.uri){const e=a.Util.uri.document(i.uri);if(e.uri!==i.uri){d.appendChild(r.widgets.editFormButton(o,d,i,e,u)).setAttribute("style","float: right;")}}const c=o.createElement("a");c.setAttribute("href",i.uri),l.appendChild(c),c.textContent=r.utils.label(i,!0),r.widgets.appendForm(o,d,{},t,i,e,u)}})};let h=null;const m=a.Util.uri.docpart(e.uri);if(e.uri!==m&&n.updater.editable(m,n)&&(h=e.doc()),h=h||n.any(n.sym(m),s.link("annotationStore")),!h){const t={},n=[];h.statementsMatching(e).forEach(function(e){t[e.why.uri]=1}),h.statementsMatching(void 0,void 0,e).forEach(function(e){t[e.why.uri]=2});for(const e in t)n.push(t[e],e);n.sort();for(let e=0;e<n.length;e++){const t=n[e][1];if(t&&h.updater.editable(t)){h=h.sym(t);break}}}const g="2014";if(h)f(h,e);else{c("No suitable store is known, to edit <"+e.uri+">.");const t=r.login.selectWorkspace(o,function(t){l("Workspace selected OK: "+t);const n=h.each(void 0,s.space("workspace"),t);for(let r=0;r<n.length;r++){const i=n[r],a=h.any(t,s.space("store")),o=h.any(t,s.cal("dtstart")).value(),l=h.any(t,s.cal("dtend")).value();if(a&&o&&l&&o<=g&&l>g){f(a,e);break}c("Note no suitable annotation store in activity: "+i)}});d.appendChild(t)}return d}}},5306:function(e,t){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){"use strict";function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function n(e,n){n=void 0!==n?n:{};var r,i={},a={turtleDoc:Xn},o=Xn,s=function(e){var t=ei.toJSON();return t["@graph"]=[],e.filter(e=>Array.isArray(e)).forEach(e=>{e.forEach(e=>{t["@graph"].push(e)})}),1===t["@graph"].length&&(Object.assign(t,t["@graph"][0]),delete t["@graph"]),t},l="\ufeff",c=$n("\ufeff",!1),u=".",p=$n(".",!1),d=function(e){return e},f="#",h=$n("#",!1),m=/^[^\n]/,g=Wn(["\n"],!0,!1),v="\n",b=$n("\n",!1),y=function(e){return e.join("")},w="@prefix",x=$n("@prefix",!1),k=function(e,t){return ei.addPrefix(""===e?"0":e,t),{}},_="@base",E=$n("@base",!1),C=function(e){return ei.addBase(e),{}},S=/^[Bb]/,A=Wn(["B","b"],!1,!1),T=/^[Aa]/,R=Wn(["A","a"],!1,!1),P=/^[Ss]/,F=Wn(["S","s"],!1,!1),I=/^[Ee]/,N=Wn(["E","e"],!1,!1),O=/^[Pp]/,L=Wn(["P","p"],!1,!1),j=/^[Rr]/,M=Wn(["R","r"],!1,!1),D=/^[Ff]/,U=Wn(["F","f"],!1,!1),B=/^[Ii]/,z=Wn(["I","i"],!1,!1),H=/^[Xx]/,q=Wn(["X","x"],!1,!1),$=function(e,t){var n={};return"string"==typeof e&&"[]"!==e?n["@id"]=e:"object"==typeof e&&Object.assign(n,e),t&&Object.assign(n,t),[n]},W=function(e,t){var n={};return e&&Object.assign(n,e),t&&Object.assign(n,t),[n]},V=";",G=$n(";",!1),K=function(e,t,n,r){var i={};return i[n]=r,i},J=function(e,t,n){return n},Q=function(e,t,n){var r={};return n.unshift(Zr(e,t)),n.forEach(e=>{e&&Object.keys(e).forEach(t=>{e[t].forEach(e=>{"@type"===t&&void 0!==e["@id"]&&(e=e["@id"]),void 0===r[t]?r[t]=e:Array.isArray(r[t])?r[t].push(e):r[t]=[r[t],e]})})}),r},Y=",",X=$n(",",!1),Z=function(e,t){return t},ee=function(e,t){return t.unshift(e),t},te="a",ne=$n("a",!1),re=function(){return"@type"},ie=function(e){return ti(e,!0)},ae=function(e){return ti(e,!1)},oe=function(e){return"[]"===e?{}:{"@id":e}},se=function(e){return{"@id":e}},le="[",ce=$n("[",!1),ue="]",pe=$n("]",!1),de="(",fe=$n("(",!1),he=")",me=$n(")",!1),ge=function(e){return{"@list":e}},ve=function(e,t){return{"@value":e,"@language":t}},be="^^",ye=$n("^^",!1),we=function(e,t){if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"true"===e)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"false"===e)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===t)return parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===t)return parseFloat(e);const n=ei.resolve(t,!0);if(n){const r=t.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===n&&"true"===e)return ei.decrement(r),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===n&&"false"===e)return ei.decrement(r),!1;if("http://www.w3.org/2001/XMLSchema#integer"===n)return ei.decrement(r),parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===n)return ei.decrement(r),parseFloat(e)}return{"@value":e,"@type":t}},xe="true",ke=$n("true",!1),_e=function(){return!0},Ee="false",Ce=$n("false",!1),Se=function(){return!1},Ae=function(e){return e+":"},Te="<",Re=$n("<",!1),Pe=/^[^\0- <>"{}|\^`\\]/,Fe=Wn([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Ie=">",Ne=$n(">",!1),Oe=function(e){const t=e.map(e=>65536<=e.codePointAt(0)&&e.codePointAt(0)<=983039?"a":1===e.length?e:6===e.length?String.fromCharCode("0x"+e.substring(2)):10===e.length?String.fromCodePoint("0x"+e.substring(2)):e).join("");if(t.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var n=e.join("");try{return ei.resolve(n)}catch(e){qn("Invalid IRIREF "+n)}}else qn("Invalid IRIREF "+e.join("")+" / "+t)},Le=":",je=$n(":",!1),Me=function(e){return e=e||"0",!1===ei.hasPrefix(e)&&qn("undefined prefix "+e),e},De=function(e){return e||""},Ue=function(e,t){return ei.increment(e),ei.resolve(e+":"+t)},Be="_:",ze=$n("_:",!1),He=/^[0-9]/,qe=Wn([["0","9"]],!1,!1),$e="@",We=$n("@",!1),Ve=/^[a-zA-Z]/,Ge=Wn([["a","z"],["A","Z"]],!1,!1),Ke="-",Je=$n("-",!1),Qe=/^[a-zA-Z0-9]/,Ye=Wn([["a","z"],["A","Z"],["0","9"]],!1,!1),Xe=function(e,t){return"-"+t.join("")},Ze=function(e,t){return e.join("")+t.join("")},et=/^[+\-]/,tt=Wn(["+","-"],!1,!1),nt=function(e){return e.match(/^[0+][0-9]+$/)?{"@value":e,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(e)},rt=function(e){return{"@value":e,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},it=function(e){return{"@value":e,"@type":"http://www.w3.org/2001/XMLSchema#double"}},at=/^[eE]/,ot=Wn(["e","E"],!1,!1),st='"',lt=$n('"',!1),ct=/^[^"\\\n\r]/,ut=Wn(['"',"\\","\n","\r"],!0,!1),pt="'",dt=$n("'",!1),ft=/^[^'\\\n\r]/,ht=Wn(["'","\\","\n","\r"],!0,!1),mt="'''",gt=$n("'''",!1),vt=/^[^'\\]/,bt=Wn(["'","\\"],!0,!1),yt="''",wt=$n("''",!1),xt=function(e,t){return"''"+t.join("")},kt=function(e,t){return"'"+t.join("")},_t=function(e,t){return e.join("")+t.join("")},Et='"""',Ct=$n('"""',!1),St=/^[^"\\]/,At=Wn(['"',"\\"],!0,!1),Tt='""',Rt=$n('""',!1),Pt=function(e,t){return'""'+t.join("")},Ft=function(e,t){return'"'+t.join("")},It="\\U",Nt=$n("\\U",!1),Ot=function(e){return String.fromCodePoint(parseInt(e.join(""),16))},Lt="\\u",jt=$n("\\u",!1),Mt=function(e){return String.fromCharCode(parseInt(e.join(""),16))},Dt="\\t",Ut=$n("\\t",!1),Bt=function(){return"\t"},zt="\\b",Ht=$n("\\b",!1),qt=function(){return"\b"},$t="\\n",Wt=$n("\\n",!1),Vt=function(){return"\n"},Gt="\\r",Kt=$n("\\r",!1),Jt=function(){return"\r"},Qt="\\f",Yt=$n("\\f",!1),Xt=function(){return"\f"},Zt='\\"',en=$n('\\"',!1),tn=function(){return'"'},nn="\\'",rn=$n("\\'",!1),an=function(){return"'"},on="\\\\",sn=$n("\\\\",!1),ln=function(){return"\\"},cn=/^[ \t\r\n]/,un=Wn([" ","\t","\r","\n"],!1,!1),pn=function(){return"[]"},dn=/^[\uD800-\uDBFF]/,fn=Wn([["\ud800","\udbff"]],!1,!1),hn=/^[\uDC00-\uDFFF]/,mn=Wn([["\udc00","\udfff"]],!1,!1),gn=function(e,t){return e+t},vn=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,bn=Wn([["A","Z"],["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),yn="_",wn=$n("_",!1),xn="·",kn=$n("·",!1),_n=/^[\u0300-\u036F]/,En=Wn([["̀","ͯ"]],!1,!1),Cn=/^[\u203F-\u2040]/,Sn=Wn([["‿","⁀"]],!1,!1),An=function(e,t,n,r){return n.join("")+r.join("")},Tn=function(e,t,n){return e+t.join("")+n.join("")},Rn="%",Pn=$n("%",!1),Fn=/^[0-9A-Fa-f]/,In=Wn([["0","9"],["A","F"],["a","f"]],!1,!1),Nn="\\",On=$n("\\",!1),Ln=/^[_~.!$&'()*+,;=\/?#@%\-]/,jn=Wn(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),Mn=0,Dn=0,Un=[{line:1,column:1}],Bn=0,zn=[],Hn=0;if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=a[n.startRule]}function qn(e,t){throw Qn(e,t=void 0!==t?t:Kn(Dn,Mn))}function $n(e,t){return{type:"literal",text:e,ignoreCase:t}}function Wn(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Vn(){return{type:"end"}}function Gn(t){var n,r=Un[t];if(r)return r;for(n=t-1;!Un[n];)n--;for(r={line:(r=Un[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Un[t]=r,r}function Kn(e,t){var n=Gn(e),r=Gn(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Jn(e){Mn<Bn||(Mn>Bn&&(Bn=Mn,zn=[]),zn.push(e))}function Qn(e,n){return new t(e,null,null,n)}function Yn(e,n,r){return new t(t.buildMessage(e,n),e,n,r)}function Xn(){var e,t,n,r,a;for(e=Mn,t=[],n=Zn();n!==i;)t.push(n),n=Zn();if(t!==i){for(n=[],r=er();r!==i;)n.push(r),r=er();if(n!==i){for(r=[],a=nr();a!==i;)r.push(a),a=nr();r!==i?(Dn=e,e=t=s(n)):(Mn=e,e=i)}else Mn=e,e=i}else Mn=e,e=i;return e}function Zn(){var t;return 65279===e.charCodeAt(Mn)?(t=l,Mn++):(t=i,0===Hn&&Jn(c)),t}function er(){var t,n,r,a;if((t=rr())===i)if(t=Mn,(n=lr())!==i){for(r=[],a=nr();a!==i;)r.push(a),a=nr();r!==i?(46===e.charCodeAt(Mn)?(a=u,Mn++):(a=i,0===Hn&&Jn(p)),a!==i?(Dn=t,t=n=d(n)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;return t}function tr(){var t,n,r,a;if(t=Mn,35===e.charCodeAt(Mn)?(n=f,Mn++):(n=i,0===Hn&&Jn(h)),n!==i){for(r=[],m.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(g));a!==i;)r.push(a),m.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(g));r!==i?(10===e.charCodeAt(Mn)?(a=v,Mn++):(a=i,0===Hn&&Jn(b)),a!==i?(Dn=t,t=n=y(r)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;return t}function nr(){var e;return(e=zr())===i&&(e=tr()),e}function rr(){var e;return(e=ir())===i&&(e=ar())===i&&(e=sr())===i&&(e=or()),e}function ir(){var t,n,r,a,o,s,l,c,d;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if(e.substr(Mn,7)===w?(r=w,Mn+=7):(r=i,0===Hn&&Jn(x)),r!==i){for(a=[],o=nr();o!==i;)a.push(o),o=nr();if(a!==i)if((o=Ar())!==i){for(s=[],l=nr();l!==i;)s.push(l),l=nr();if(s!==i)if((l=Cr())!==i){for(c=[],d=nr();d!==i;)c.push(d),d=nr();c!==i?(46===e.charCodeAt(Mn)?(d=u,Mn++):(d=i,0===Hn&&Jn(p)),d!==i?(Dn=t,t=n=k(o,l)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i}else Mn=t,t=i;else Mn=t,t=i}else Mn=t,t=i;else Mn=t,t=i;return t}function ar(){var t,n,r,a,o,s,l;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if(e.substr(Mn,5)===_?(r=_,Mn+=5):(r=i,0===Hn&&Jn(E)),r!==i){for(a=[],o=nr();o!==i;)a.push(o),o=nr();if(a!==i)if((o=Cr())!==i){for(s=[],l=nr();l!==i;)s.push(l),l=nr();s!==i?(46===e.charCodeAt(Mn)?(l=u,Mn++):(l=i,0===Hn&&Jn(p)),l!==i?(Dn=t,t=n=C(o)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i}else Mn=t,t=i;else Mn=t,t=i;return t}function or(){var t,n,r,a,o,s,l,c;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if(S.test(e.charAt(Mn))?(r=e.charAt(Mn),Mn++):(r=i,0===Hn&&Jn(A)),r!==i)if(T.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(R)),a!==i)if(P.test(e.charAt(Mn))?(o=e.charAt(Mn),Mn++):(o=i,0===Hn&&Jn(F)),o!==i)if(I.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(N)),s!==i){for(l=[],c=nr();c!==i;)l.push(c),c=nr();l!==i&&(c=Cr())!==i?(Dn=t,t=n=C(c)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;return t}function sr(){var t,n,r,a,o,s,l,c,u,p,d,f;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if(O.test(e.charAt(Mn))?(r=e.charAt(Mn),Mn++):(r=i,0===Hn&&Jn(L)),r!==i)if(j.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(M)),a!==i)if(I.test(e.charAt(Mn))?(o=e.charAt(Mn),Mn++):(o=i,0===Hn&&Jn(N)),o!==i)if(D.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(U)),s!==i)if(B.test(e.charAt(Mn))?(l=e.charAt(Mn),Mn++):(l=i,0===Hn&&Jn(z)),l!==i)if(H.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(q)),c!==i){for(u=[],p=nr();p!==i;)u.push(p),p=nr();if(u!==i)if((p=Ar())!==i){for(d=[],f=nr();f!==i;)d.push(f),f=nr();d!==i&&(f=Cr())!==i?(Dn=t,t=n=k(p,f)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i}else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;return t}function lr(){var e,t,n;return e=Mn,(t=dr())!==i&&(n=cr())!==i?(Dn=e,e=t=$(t,n)):(Mn=e,e=i),e===i&&(e=Mn,(t=gr())!==i?((n=cr())===i&&(n=null),n!==i?(Dn=e,e=t=W(t,n)):(Mn=e,e=i)):(Mn=e,e=i)),e}function cr(){var t,n,r,a,o,s,l,c,u,p;if(t=Mn,(n=pr())!==i)if((r=ur())!==i){for(a=[],o=Mn,s=[],l=nr();l!==i;)s.push(l),l=nr();for(s!==i?(59===e.charCodeAt(Mn)?(l=V,Mn++):(l=i,0===Hn&&Jn(G)),l!==i?(c=Mn,(u=pr())!==i&&(p=ur())!==i?(Dn=c,c=u=K(n,r,u,p)):(Mn=c,c=i),c===i&&(c=null),c!==i?(Dn=o,o=s=J(n,r,c)):(Mn=o,o=i)):(Mn=o,o=i)):(Mn=o,o=i);o!==i;){for(a.push(o),o=Mn,s=[],l=nr();l!==i;)s.push(l),l=nr();s!==i?(59===e.charCodeAt(Mn)?(l=V,Mn++):(l=i,0===Hn&&Jn(G)),l!==i?(c=Mn,(u=pr())!==i&&(p=ur())!==i?(Dn=c,c=u=K(n,r,u,p)):(Mn=c,c=i),c===i&&(c=null),c!==i?(Dn=o,o=s=J(n,r,c)):(Mn=o,o=i)):(Mn=o,o=i)):(Mn=o,o=i)}a!==i?(Dn=t,t=n=Q(n,r,a)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i;return t}function ur(){var t,n,r,a,o,s,l;if(t=Mn,(n=hr())!==i){for(r=[],a=Mn,o=[],s=nr();s!==i;)o.push(s),s=nr();for(o!==i?(44===e.charCodeAt(Mn)?(s=Y,Mn++):(s=i,0===Hn&&Jn(X)),s!==i&&(l=hr())!==i?(Dn=a,a=o=Z(n,l)):(Mn=a,a=i)):(Mn=a,a=i);a!==i;){for(r.push(a),a=Mn,o=[],s=nr();s!==i;)o.push(s),s=nr();o!==i?(44===e.charCodeAt(Mn)?(s=Y,Mn++):(s=i,0===Hn&&Jn(X)),s!==i&&(l=hr())!==i?(Dn=a,a=o=Z(n,l)):(Mn=a,a=i)):(Mn=a,a=i)}r!==i?(Dn=t,t=n=ee(n,r)):(Mn=t,t=i)}else Mn=t,t=i;return t}function pr(){var t,n,r;if(t=Mn,(n=fr())!==i&&(Dn=t,n=d(n)),(t=n)===i){for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();n!==i?(97===e.charCodeAt(Mn)?(r=te,Mn++):(r=i,0===Hn&&Jn(ne)),r!==i?(Dn=t,t=n=re()):(Mn=t,t=i)):(Mn=t,t=i)}return t}function dr(){var e,t;return e=Mn,(t=vr())!==i&&(Dn=e,t=ie(t)),(e=t)===i&&(e=Er())===i&&(e=kr()),e}function fr(){var e,t,n;for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();return t!==i&&(n=kr())!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i),e}function hr(){var e,t;return(e=mr())===i&&(e=Mn,(t=vr())!==i&&(Dn=e,t=ae(t)),(e=t)===i&&(e=Mn,(t=Er())!==i&&(Dn=e,t=oe(t)),(e=t)===i&&(e=Mn,(t=gr())!==i&&(Dn=e,t=d(t)),(e=t)===i&&(e=Mn,(t=kr())!==i&&(Dn=e,t=se(t)),e=t)))),e}function mr(){var e;return(e=yr())===i&&(e=br())===i&&(e=wr()),e}function gr(){var t,n,r,a,o,s;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if(91===e.charCodeAt(Mn)?(r=le,Mn++):(r=i,0===Hn&&Jn(ce)),r!==i)if((a=cr())!==i){for(o=[],s=nr();s!==i;)o.push(s),s=nr();o!==i?(93===e.charCodeAt(Mn)?(s=ue,Mn++):(s=i,0===Hn&&Jn(pe)),s!==i?(Dn=t,t=n=d(a)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i;else Mn=t,t=i;return t}function vr(){var t,n,r,a,o,s;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if(40===e.charCodeAt(Mn)?(r=de,Mn++):(r=i,0===Hn&&Jn(fe)),r!==i){for(a=[],o=hr();o!==i;)a.push(o),o=hr();if(a!==i){for(o=[],s=nr();s!==i;)o.push(s),s=nr();o!==i?(41===e.charCodeAt(Mn)?(s=he,Mn++):(s=i,0===Hn&&Jn(me)),s!==i?(Dn=t,t=n=ge(a)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i}else Mn=t,t=i;else Mn=t,t=i;return t}function br(){var e,t,n;for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();return t!==i?((n=Nr())===i&&(n=Ir())===i&&(n=Fr()),n!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i)):(Mn=e,e=i),e}function yr(){var t,n,r,a,o,s,l;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if((r=xr())!==i){for(a=[],o=nr();o!==i;)a.push(o),o=nr();a!==i&&(o=Pr())!==i?(Dn=t,t=n=ve(r,o)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i;if(t===i){for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i)if((r=xr())!==i){for(a=[],o=nr();o!==i;)a.push(o),o=nr();if(a!==i)if(e.substr(Mn,2)===be?(o=be,Mn+=2):(o=i,0===Hn&&Jn(ye)),o!==i){for(s=[],l=nr();l!==i;)s.push(l),l=nr();s!==i&&(l=kr())!==i?(Dn=t,t=n=we(r,l)):(Mn=t,t=i)}else Mn=t,t=i;else Mn=t,t=i}else Mn=t,t=i;else Mn=t,t=i;if(t===i){for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();n!==i&&(r=xr())!==i?(Dn=t,t=n=d(r)):(Mn=t,t=i)}}return t}function wr(){var t,n,r;for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();if(n!==i?(e.substr(Mn,4)===xe?(r=xe,Mn+=4):(r=i,0===Hn&&Jn(ke)),r!==i?(Dn=t,t=n=_e()):(Mn=t,t=i)):(Mn=t,t=i),t===i){for(t=Mn,n=[],r=nr();r!==i;)n.push(r),r=nr();n!==i?(e.substr(Mn,5)===Ee?(r=Ee,Mn+=5):(r=i,0===Hn&&Jn(Ce)),r!==i?(Dn=t,t=n=Se()):(Mn=t,t=i)):(Mn=t,t=i)}return t}function xr(){var e,t,n;for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();return t!==i?((n=Mr())===i&&(n=Dr())===i&&(n=jr())===i&&(n=Lr()),n!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i)):(Mn=e,e=i),e}function kr(){var e,t,n;for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();if(t!==i&&(n=Cr())!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i),e===i){for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();t!==i&&(n=_r())!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i)}return e}function _r(){var e,t;return(e=Tr())===i&&(e=Mn,(t=Sr())!==i&&(Dn=e,t=Ae(t)),e=t),e}function Er(){var e,t,n;for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();if(t!==i&&(n=Rr())!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i),e===i){for(e=Mn,t=[],n=nr();n!==i;)t.push(n),n=nr();t!==i&&(n=Hr())!==i?(Dn=e,e=t=d(n)):(Mn=e,e=i)}return e}function Cr(){var t,n,r,a;if(t=Mn,60===e.charCodeAt(Mn)?(n=Te,Mn++):(n=i,0===Hn&&Jn(Re)),n!==i){for(r=[],Pe.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(Fe)),a===i&&(a=Ur());a!==i;)r.push(a),Pe.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(Fe)),a===i&&(a=Ur());r!==i?(62===e.charCodeAt(Mn)?(a=Ie,Mn++):(a=i,0===Hn&&Jn(Ne)),a!==i?(Dn=t,t=n=Oe(r)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;return t}function Sr(){var t,n,r;return t=Mn,(n=Vr())===i&&(n=null),n!==i?(58===e.charCodeAt(Mn)?(r=Le,Mn++):(r=i,0===Hn&&Jn(je)),r!==i?(Dn=t,t=n=Me(n)):(Mn=t,t=i)):(Mn=t,t=i),t}function Ar(){var t,n,r;return t=Mn,(n=Vr())===i&&(n=null),n!==i?(58===e.charCodeAt(Mn)?(r=Le,Mn++):(r=i,0===Hn&&Jn(je)),r!==i?(Dn=t,t=n=De(n)):(Mn=t,t=i)):(Mn=t,t=i),t}function Tr(){var e,t,n;return e=Mn,(t=Sr())!==i&&(n=Gr())!==i?(Dn=e,e=t=Ue(t,n)):(Mn=e,e=i),e}function Rr(){var t,n,r,a,o,s,l,c,d,f;if(t=Mn,n=Mn,e.substr(Mn,2)===Be?(r=Be,Mn+=2):(r=i,0===Hn&&Jn(ze)),r!==i)if((a=$r())===i&&(He.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(qe))),a!==i){for(o=[],s=Wr();s!==i;)o.push(s),s=Wr();if(o!==i){if(s=[],l=Mn,c=[],46===e.charCodeAt(Mn)?(d=u,Mn++):(d=i,0===Hn&&Jn(p)),d!==i)for(;d!==i;)c.push(d),46===e.charCodeAt(Mn)?(d=u,Mn++):(d=i,0===Hn&&Jn(p));else c=i;if(c!==i){if(d=[],(f=Wr())!==i)for(;f!==i;)d.push(f),f=Wr();else d=i;d!==i?l=c=[c,d]:(Mn=l,l=i)}else Mn=l,l=i;for(;l!==i;){if(s.push(l),l=Mn,c=[],46===e.charCodeAt(Mn)?(d=u,Mn++):(d=i,0===Hn&&Jn(p)),d!==i)for(;d!==i;)c.push(d),46===e.charCodeAt(Mn)?(d=u,Mn++):(d=i,0===Hn&&Jn(p));else c=i;if(c!==i){if(d=[],(f=Wr())!==i)for(;f!==i;)d.push(f),f=Wr();else d=i;d!==i?l=c=[c,d]:(Mn=l,l=i)}else Mn=l,l=i}s!==i?n=r=[r,a,o,s]:(Mn=n,n=i)}else Mn=n,n=i}else Mn=n,n=i;else Mn=n,n=i;return t=n!==i?e.substring(t,Mn):n}function Pr(){var t,n,r,a,o,s,l,c;if(t=Mn,64===e.charCodeAt(Mn)?(n=$e,Mn++):(n=i,0===Hn&&Jn(We)),n!==i){if(r=[],Ve.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(Ge)),a!==i)for(;a!==i;)r.push(a),Ve.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(Ge));else r=i;if(r!==i){if(a=[],o=Mn,45===e.charCodeAt(Mn)?(s=Ke,Mn++):(s=i,0===Hn&&Jn(Je)),s!==i){if(l=[],Qe.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(Ye)),c!==i)for(;c!==i;)l.push(c),Qe.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(Ye));else l=i;l!==i?(Dn=o,o=s=Xe(r,l)):(Mn=o,o=i)}else Mn=o,o=i;for(;o!==i;)if(a.push(o),o=Mn,45===e.charCodeAt(Mn)?(s=Ke,Mn++):(s=i,0===Hn&&Jn(Je)),s!==i){if(l=[],Qe.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(Ye)),c!==i)for(;c!==i;)l.push(c),Qe.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(Ye));else l=i;l!==i?(Dn=o,o=s=Xe(r,l)):(Mn=o,o=i)}else Mn=o,o=i;a!==i?(Dn=t,t=n=Ze(r,a)):(Mn=t,t=i)}else Mn=t,t=i}else Mn=t,t=i;return t}function Fr(){var t,n,r,a,o,s;if(t=Mn,n=Mn,r=Mn,et.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(tt)),a===i&&(a=null),a!==i){if(o=[],He.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(qe)),s!==i)for(;s!==i;)o.push(s),He.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(qe));else o=i;o!==i?r=a=[a,o]:(Mn=r,r=i)}else Mn=r,r=i;return(n=r!==i?e.substring(n,Mn):r)!==i&&(Dn=t,n=nt(n)),t=n}function Ir(){var t,n,r,a,o,s,l,c;if(t=Mn,n=Mn,r=Mn,et.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(tt)),a===i&&(a=null),a!==i){for(o=[],He.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(qe));s!==i;)o.push(s),He.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(qe));if(o!==i)if(46===e.charCodeAt(Mn)?(s=u,Mn++):(s=i,0===Hn&&Jn(p)),s!==i){if(l=[],He.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(qe)),c!==i)for(;c!==i;)l.push(c),He.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(qe));else l=i;l!==i?r=a=[a,o,s,l]:(Mn=r,r=i)}else Mn=r,r=i;else Mn=r,r=i}else Mn=r,r=i;return(n=r!==i?e.substring(n,Mn):r)!==i&&(Dn=t,n=rt(n)),t=n}function Nr(){var t,n,r,a,o,s,l,c,d;if(t=Mn,n=Mn,r=Mn,et.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(tt)),a===i&&(a=null),a!==i){if(o=Mn,s=[],He.test(e.charAt(Mn))?(l=e.charAt(Mn),Mn++):(l=i,0===Hn&&Jn(qe)),l!==i)for(;l!==i;)s.push(l),He.test(e.charAt(Mn))?(l=e.charAt(Mn),Mn++):(l=i,0===Hn&&Jn(qe));else s=i;if(s!==i)if(46===e.charCodeAt(Mn)?(l=u,Mn++):(l=i,0===Hn&&Jn(p)),l!==i){for(c=[],He.test(e.charAt(Mn))?(d=e.charAt(Mn),Mn++):(d=i,0===Hn&&Jn(qe));d!==i;)c.push(d),He.test(e.charAt(Mn))?(d=e.charAt(Mn),Mn++):(d=i,0===Hn&&Jn(qe));c!==i&&(d=Or())!==i?o=s=[s,l,c,d]:(Mn=o,o=i)}else Mn=o,o=i;else Mn=o,o=i;if(o===i){if(o=Mn,46===e.charCodeAt(Mn)?(s=u,Mn++):(s=i,0===Hn&&Jn(p)),s!==i){if(l=[],He.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(qe)),c!==i)for(;c!==i;)l.push(c),He.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(qe));else l=i;l!==i&&(c=Or())!==i?o=s=[s,l,c]:(Mn=o,o=i)}else Mn=o,o=i;if(o===i){if(o=Mn,s=[],He.test(e.charAt(Mn))?(l=e.charAt(Mn),Mn++):(l=i,0===Hn&&Jn(qe)),l!==i)for(;l!==i;)s.push(l),He.test(e.charAt(Mn))?(l=e.charAt(Mn),Mn++):(l=i,0===Hn&&Jn(qe));else s=i;s!==i&&(l=Or())!==i?o=s=[s,l]:(Mn=o,o=i)}}o!==i?r=a=[a,o]:(Mn=r,r=i)}else Mn=r,r=i;return(n=r!==i?e.substring(n,Mn):r)!==i&&(Dn=t,n=it(n)),t=n}function Or(){var t,n,r,a,o,s;if(t=Mn,n=Mn,at.test(e.charAt(Mn))?(r=e.charAt(Mn),Mn++):(r=i,0===Hn&&Jn(ot)),r!==i)if(et.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(tt)),a===i&&(a=null),a!==i){if(o=[],He.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(qe)),s!==i)for(;s!==i;)o.push(s),He.test(e.charAt(Mn))?(s=e.charAt(Mn),Mn++):(s=i,0===Hn&&Jn(qe));else o=i;o!==i?n=r=[r,a,o]:(Mn=n,n=i)}else Mn=n,n=i;else Mn=n,n=i;return t=n!==i?e.substring(t,Mn):n}function Lr(){var t,n,r,a;if(t=Mn,34===e.charCodeAt(Mn)?(n=st,Mn++):(n=i,0===Hn&&Jn(lt)),n!==i){for(r=[],ct.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(ut)),a===i&&(a=Br())===i&&(a=Ur());a!==i;)r.push(a),ct.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(ut)),a===i&&(a=Br())===i&&(a=Ur());r!==i?(34===e.charCodeAt(Mn)?(a=st,Mn++):(a=i,0===Hn&&Jn(lt)),a!==i?(Dn=t,t=n=y(r)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;return t}function jr(){var t,n,r,a;if(t=Mn,39===e.charCodeAt(Mn)?(n=pt,Mn++):(n=i,0===Hn&&Jn(dt)),n!==i){for(r=[],ft.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(ht)),a===i&&(a=Br())===i&&(a=Ur());a!==i;)r.push(a),ft.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(ht)),a===i&&(a=Br())===i&&(a=Ur());r!==i?(39===e.charCodeAt(Mn)?(a=pt,Mn++):(a=i,0===Hn&&Jn(dt)),a!==i?(Dn=t,t=n=y(r)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;return t}function Mr(){var t,n,r,a,o,s,l,c;if(t=Mn,e.substr(Mn,3)===mt?(n=mt,Mn+=3):(n=i,0===Hn&&Jn(gt)),n!==i){for(r=[],vt.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(bt)),a===i&&(a=Br())===i&&(a=Ur());a!==i;)r.push(a),vt.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(bt)),a===i&&(a=Br())===i&&(a=Ur());if(r!==i){if(a=[],o=Mn,e.substr(Mn,2)===yt?(s=yt,Mn+=2):(s=i,0===Hn&&Jn(wt)),s!==i){if(l=[],vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=xt(r,l)):(Mn=o,o=i)}else Mn=o,o=i;if(o===i)if(o=Mn,39===e.charCodeAt(Mn)?(s=pt,Mn++):(s=i,0===Hn&&Jn(dt)),s!==i){if(l=[],vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=kt(r,l)):(Mn=o,o=i)}else Mn=o,o=i;for(;o!==i;){if(a.push(o),o=Mn,e.substr(Mn,2)===yt?(s=yt,Mn+=2):(s=i,0===Hn&&Jn(wt)),s!==i){if(l=[],vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=xt(r,l)):(Mn=o,o=i)}else Mn=o,o=i;if(o===i)if(o=Mn,39===e.charCodeAt(Mn)?(s=pt,Mn++):(s=i,0===Hn&&Jn(dt)),s!==i){if(l=[],vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),vt.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(bt)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=kt(r,l)):(Mn=o,o=i)}else Mn=o,o=i}a!==i?(e.substr(Mn,3)===mt?(o=mt,Mn+=3):(o=i,0===Hn&&Jn(gt)),o!==i?(Dn=t,t=n=_t(r,a)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i}else Mn=t,t=i;return t}function Dr(){var t,n,r,a,o,s,l,c;if(t=Mn,e.substr(Mn,3)===Et?(n=Et,Mn+=3):(n=i,0===Hn&&Jn(Ct)),n!==i){for(r=[],St.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(At)),a===i&&(a=Br())===i&&(a=Ur());a!==i;)r.push(a),St.test(e.charAt(Mn))?(a=e.charAt(Mn),Mn++):(a=i,0===Hn&&Jn(At)),a===i&&(a=Br())===i&&(a=Ur());if(r!==i){if(a=[],o=Mn,e.substr(Mn,2)===Tt?(s=Tt,Mn+=2):(s=i,0===Hn&&Jn(Rt)),s!==i){if(l=[],St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=Pt(r,l)):(Mn=o,o=i)}else Mn=o,o=i;if(o===i)if(o=Mn,34===e.charCodeAt(Mn)?(s=st,Mn++):(s=i,0===Hn&&Jn(lt)),s!==i){if(l=[],St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=Ft(r,l)):(Mn=o,o=i)}else Mn=o,o=i;for(;o!==i;){if(a.push(o),o=Mn,e.substr(Mn,2)===Tt?(s=Tt,Mn+=2):(s=i,0===Hn&&Jn(Rt)),s!==i){if(l=[],St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=Pt(r,l)):(Mn=o,o=i)}else Mn=o,o=i;if(o===i)if(o=Mn,34===e.charCodeAt(Mn)?(s=st,Mn++):(s=i,0===Hn&&Jn(lt)),s!==i){if(l=[],St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur()),c!==i)for(;c!==i;)l.push(c),St.test(e.charAt(Mn))?(c=e.charAt(Mn),Mn++):(c=i,0===Hn&&Jn(At)),c===i&&(c=Br())===i&&(c=Ur());else l=i;l!==i?(Dn=o,o=s=Ft(r,l)):(Mn=o,o=i)}else Mn=o,o=i}a!==i?(e.substr(Mn,3)===Et?(o=Et,Mn+=3):(o=i,0===Hn&&Jn(Ct)),o!==i?(Dn=t,t=n=_t(r,a)):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i}else Mn=t,t=i;return t}function Ur(){var t,n,r,a,o,s,l,c,u,p,d;return t=Mn,e.substr(Mn,2)===It?(n=It,Mn+=2):(n=i,0===Hn&&Jn(Nt)),n!==i?(r=Mn,(a=Qr())!==i&&(o=Qr())!==i&&(s=Qr())!==i&&(l=Qr())!==i&&(c=Qr())!==i&&(u=Qr())!==i&&(p=Qr())!==i&&(d=Qr())!==i?r=a=[a,o,s,l,c,u,p,d]:(Mn=r,r=i),r!==i?(Dn=t,t=n=Ot(r)):(Mn=t,t=i)):(Mn=t,t=i),t===i&&(t=Mn,e.substr(Mn,2)===Lt?(n=Lt,Mn+=2):(n=i,0===Hn&&Jn(jt)),n!==i?(r=Mn,(a=Qr())!==i&&(o=Qr())!==i&&(s=Qr())!==i&&(l=Qr())!==i?r=a=[a,o,s,l]:(Mn=r,r=i),r!==i?(Dn=t,t=n=Mt(r)):(Mn=t,t=i)):(Mn=t,t=i)),t}function Br(){var t,n;return t=Mn,e.substr(Mn,2)===Dt?(n=Dt,Mn+=2):(n=i,0===Hn&&Jn(Ut)),n!==i&&(Dn=t,n=Bt()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===zt?(n=zt,Mn+=2):(n=i,0===Hn&&Jn(Ht)),n!==i&&(Dn=t,n=qt()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===$t?(n=$t,Mn+=2):(n=i,0===Hn&&Jn(Wt)),n!==i&&(Dn=t,n=Vt()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===Gt?(n=Gt,Mn+=2):(n=i,0===Hn&&Jn(Kt)),n!==i&&(Dn=t,n=Jt()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===Qt?(n=Qt,Mn+=2):(n=i,0===Hn&&Jn(Yt)),n!==i&&(Dn=t,n=Xt()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===Zt?(n=Zt,Mn+=2):(n=i,0===Hn&&Jn(en)),n!==i&&(Dn=t,n=tn()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===nn?(n=nn,Mn+=2):(n=i,0===Hn&&Jn(rn)),n!==i&&(Dn=t,n=an()),(t=n)===i&&(t=Mn,e.substr(Mn,2)===on?(n=on,Mn+=2):(n=i,0===Hn&&Jn(sn)),n!==i&&(Dn=t,n=ln()),t=n))))))),t}function zr(){var t;return cn.test(e.charAt(Mn))?(t=e.charAt(Mn),Mn++):(t=i,0===Hn&&Jn(un)),t}function Hr(){var t,n,r,a;if(t=Mn,91===e.charCodeAt(Mn)?(n=le,Mn++):(n=i,0===Hn&&Jn(ce)),n!==i){for(r=[],a=nr();a!==i;)r.push(a),a=nr();r!==i?(93===e.charCodeAt(Mn)?(a=ue,Mn++):(a=i,0===Hn&&Jn(pe)),a!==i?(Dn=t,t=n=pn()):(Mn=t,t=i)):(Mn=t,t=i)}else Mn=t,t=i;return t}function qr(){var t,n,r;return t=Mn,dn.test(e.charAt(Mn))?(n=e.charAt(Mn),Mn++):(n=i,0===Hn&&Jn(fn)),n!==i?(hn.test(e.charAt(Mn))?(r=e.charAt(Mn),Mn++):(r=i,0===Hn&&Jn(mn)),r!==i?(Dn=t,t=n=gn(n,r)):(Mn=t,t=i)):(Mn=t,t=i),t===i&&(vn.test(e.charAt(Mn))?(t=e.charAt(Mn),Mn++):(t=i,0===Hn&&Jn(bn))),t}function $r(){var t;return(t=qr())===i&&(95===e.charCodeAt(Mn)?(t=yn,Mn++):(t=i,0===Hn&&Jn(wn))),t}function Wr(){var t;return(t=$r())===i&&(45===e.charCodeAt(Mn)?(t=Ke,Mn++):(t=i,0===Hn&&Jn(Je)),t===i&&(He.test(e.charAt(Mn))?(t=e.charAt(Mn),Mn++):(t=i,0===Hn&&Jn(qe)),t===i&&(183===e.charCodeAt(Mn)?(t=xn,Mn++):(t=i,0===Hn&&Jn(kn)),t===i&&(_n.test(e.charAt(Mn))?(t=e.charAt(Mn),Mn++):(t=i,0===Hn&&Jn(En)),t===i&&(Cn.test(e.charAt(Mn))?(t=e.charAt(Mn),Mn++):(t=i,0===Hn&&Jn(Sn))))))),t}function Vr(){var t,n,r,a,o,s,l,c,d;if(t=Mn,n=Mn,(r=qr())!==i){for(a=[],o=Wr();o!==i;)a.push(o),o=Wr();if(a!==i){if(o=[],s=Mn,l=[],46===e.charCodeAt(Mn)?(c=u,Mn++):(c=i,0===Hn&&Jn(p)),c!==i)for(;c!==i;)l.push(c),46===e.charCodeAt(Mn)?(c=u,Mn++):(c=i,0===Hn&&Jn(p));else l=i;if(l!==i){if(c=[],(d=Wr())!==i)for(;d!==i;)c.push(d),d=Wr();else c=i;c!==i?s=l=[l,c]:(Mn=s,s=i)}else Mn=s,s=i;for(;s!==i;){if(o.push(s),s=Mn,l=[],46===e.charCodeAt(Mn)?(c=u,Mn++):(c=i,0===Hn&&Jn(p)),c!==i)for(;c!==i;)l.push(c),46===e.charCodeAt(Mn)?(c=u,Mn++):(c=i,0===Hn&&Jn(p));else l=i;if(l!==i){if(c=[],(d=Wr())!==i)for(;d!==i;)c.push(d),d=Wr();else c=i;c!==i?s=l=[l,c]:(Mn=s,s=i)}else Mn=s,s=i}o!==i?n=r=[r,a,o]:(Mn=n,n=i)}else Mn=n,n=i}else Mn=n,n=i;return t=n!==i?e.substring(t,Mn):n}function Gr(){var t,n,r,a,o,s,l,c;if(t=Mn,(n=$r())===i&&(58===e.charCodeAt(Mn)?(n=Le,Mn++):(n=i,0===Hn&&Jn(je)),n===i&&(He.test(e.charAt(Mn))?(n=e.charAt(Mn),Mn++):(n=i,0===Hn&&Jn(qe)),n===i&&(n=Kr()))),n!==i){for(r=[],(a=Wr())===i&&(58===e.charCodeAt(Mn)?(a=Le,Mn++):(a=i,0===Hn&&Jn(je)),a===i&&(a=Kr()));a!==i;)r.push(a),(a=Wr())===i&&(58===e.charCodeAt(Mn)?(a=Le,Mn++):(a=i,0===Hn&&Jn(je)),a===i&&(a=Kr()));if(r!==i){if(a=[],o=Mn,s=[],46===e.charCodeAt(Mn)?(l=u,Mn++):(l=i,0===Hn&&Jn(p)),l!==i)for(;l!==i;)s.push(l),46===e.charCodeAt(Mn)?(l=u,Mn++):(l=i,0===Hn&&Jn(p));else s=i;if(s!==i){if(l=[],(c=Wr())===i&&(58===e.charCodeAt(Mn)?(c=Le,Mn++):(c=i,0===Hn&&Jn(je)),c===i&&(c=Kr())),c!==i)for(;c!==i;)l.push(c),(c=Wr())===i&&(58===e.charCodeAt(Mn)?(c=Le,Mn++):(c=i,0===Hn&&Jn(je)),c===i&&(c=Kr()));else l=i;l!==i?(Dn=o,o=s=An(n,r,s,l)):(Mn=o,o=i)}else Mn=o,o=i;for(;o!==i;){if(a.push(o),o=Mn,s=[],46===e.charCodeAt(Mn)?(l=u,Mn++):(l=i,0===Hn&&Jn(p)),l!==i)for(;l!==i;)s.push(l),46===e.charCodeAt(Mn)?(l=u,Mn++):(l=i,0===Hn&&Jn(p));else s=i;if(s!==i){if(l=[],(c=Wr())===i&&(58===e.charCodeAt(Mn)?(c=Le,Mn++):(c=i,0===Hn&&Jn(je)),c===i&&(c=Kr())),c!==i)for(;c!==i;)l.push(c),(c=Wr())===i&&(58===e.charCodeAt(Mn)?(c=Le,Mn++):(c=i,0===Hn&&Jn(je)),c===i&&(c=Kr()));else l=i;l!==i?(Dn=o,o=s=An(n,r,s,l)):(Mn=o,o=i)}else Mn=o,o=i}a!==i?(Dn=t,t=n=Tn(n,r,a)):(Mn=t,t=i)}else Mn=t,t=i}else Mn=t,t=i;return t}function Kr(){var e;return(e=Jr())===i&&(e=Yr()),e}function Jr(){var t,n,r,a,o;return t=Mn,n=Mn,37===e.charCodeAt(Mn)?(r=Rn,Mn++):(r=i,0===Hn&&Jn(Pn)),r!==i&&(a=Qr())!==i&&(o=Qr())!==i?n=r=[r,a,o]:(Mn=n,n=i),t=n!==i?e.substring(t,Mn):n}function Qr(){var t;return Fn.test(e.charAt(Mn))?(t=e.charAt(Mn),Mn++):(t=i,0===Hn&&Jn(In)),t}function Yr(){var t,n,r;return t=Mn,92===e.charCodeAt(Mn)?(n=Nn,Mn++):(n=i,0===Hn&&Jn(On)),n!==i?(Ln.test(e.charAt(Mn))?(r=e.charAt(Mn),Mn++):(r=i,0===Hn&&Jn(jn)),r!==i?(Dn=t,t=n=d(r)):(Mn=t,t=i)):(Mn=t,t=i),t}var Xr=function(e){return e.match(/^[a-z](.*?):(.+?)/g)};function Zr(e,t){var n={};return n[e]=t,n}var ei={base:[],data:{},addBase:function(e){if(0===ei.base.length)return void ei.base.push(e);const t=ei.base[ei.base.length-1];t!==e&&ei.base.push(new URL(e,t).toString())},addPrefix:function(e,t){const n=ei.data[e];void 0===n?ei.data[e]=[{uri:t,count:0}]:n[n.length-1].uri!==t&&n.push({uri:t,count:0})},hasPrefix:function(e){return void 0!==this.data[e]},resolve:function(e,t){const r=Object.keys(ei.data).find(t=>0===e.indexOf(t+":"));if(void 0!==r){const n=ei.data[r];if(1===n.length&&!0!==t&&Xr(n[0].uri))return e;const i=n[n.length-1].uri;return e.replace(r+":",i)}var i=0===ei.base.length?n.baseIRI:ei.base[ei.base.length-1];return!i||e.match(/^(http:|https:|urn:|file:)/)?e:0===e.indexOf("//")&&i?i.split("//")[0]+e:new URL(e,i).toString()},increment:function(e){const t=ei.data[e];void 0!==t&&t[t.length-1].count++},decrement:function(e){const t=ei.data[e];void 0!==t&&t[t.length-1].count--},toJSON:function(){const e={};return ei.base.length>0&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"]["@base"]=ei.base[0]),Object.keys(ei.data).forEach(t=>{const n=ei.data[t][0];"http://www.w3.org/2001/XMLSchema#"===n.uri&&n.count<1||Xr(n.uri)&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"][t]=n.uri)}),e}};function ti(e,t){if(void 0===e["@list"])return e;if(!t&&!e["@list"].find(e=>void 0!==e["@list"]))return e;if(0===e["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var n={},r=null;return e["@list"].forEach(e=>{null===r?r=n:(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},r=r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),r["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=ti(e,!0),r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),n}if((r=o())!==i&&Mn===e.length)return r;throw r!==i&&Mn<e.length&&Jn(Vn()),Yn(zn,Bn<e.length?e.charAt(Bn):null,Bn<e.length?Kn(Bn,Bn+1):Kn(Bn,Bn))}return e(t,Error),t.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){return n[e.type](e)}function s(e){var t,n,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=o(e[t]);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function l(e){return e?'"'+i(e)+'"':"end of input"}return"Expected "+s(e)+" but "+l(t)+" found."},{SyntaxError:t,parse:n}})?n.apply(t,r):n)||(e.exports=i)},5338:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(1247)},5382:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInstancePane=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.classInstancePane={icon:r.icons.originalIconBase+"tango/22-folder-open.png",name:"classInstance",audience:[o.solid("PowerUser")],label:function(e,t){const n=t.session.store.each(void 0,o.rdf("type"),e).length;return n>0?"List ("+n+")":null},render:function(e,t){const n=t.dom,a=t.getOutliner(n),s=t.session.store,l=function(e,t){const r=n.createElement("pre");r.setAttribute("style","background-color: "+t||0),c.appendChild(r),r.appendChild(n.createTextNode(e))},c=n.createElement("div");c.setAttribute("class","instancePane"),c.setAttribute("style","  border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em ");const u=s.statementsMatching(void 0,o.rdf("type"),e);if(u.length>0){const t={},p=[];u.forEach(e=>{t[e.subject.toNT()]=e});for(const n in s.findMembersNT(e))t[n]||p.push(i.st(s.fromNT(n),o.rdf("type"),e));if(p.length&&l("There are "+u.length+" explicit and "+p.length+" implicit members of "+r.utils.label(e)),e.sameTerm(o.rdf("Property")));else if(e.sameTerm(o.rdfs("Class"))){const e=s.statementsMatching(void 0,o.rdf("type"),void 0),t={};e.forEach(function(e){t[e.object]=e});const n=[];for(const e in t)n.push(i.st(i.sym(e),o.rdf("type"),o.rdfs("Class")));l("Total of "+e.length+" type statements and "+n.length+" unique types.")}if(u.length>10){const e=n.createElement("TR");e.appendChild(n.createTextNode(""+u.length)),c.appendChild(e)}a.appendPropertyTRs(c,u,!0,function(e){return!0}),p.length&&(l("Implicit:"),a.appendPropertyTRs(c,p,!0,function(e){return!0}))}return c}}},5386:e=>{const t={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.exports=function(e={namedNode:e=>e}){const n={};for(const r in t){const i=t[r];n[r]=function(t=""){return e.namedNode(i+t)}}return n}},5438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApplicationTable=function e(t){const n=l("table",{class:"results"}),r=c("tr",[u("th","Application URL"),u("th","Access modes"),u("th","Actions")]);return n.appendChild(r),a.store.each(t,i.ns.acl("trustedApp"),void 0,void 0).flatMap(e=>a.store.each(e,i.ns.acl("origin"),void 0,void 0).map(t=>({appModes:a.store.each(e,i.ns.acl("mode"),void 0,void 0),origin:t}))).sort((e,t)=>e.origin.value<t.origin.value?-1:1).forEach(({appModes:e,origin:r})=>n.appendChild(s(t,r,e,o))),n.appendChild(s(t,null,[i.ns.acl("Read")],o)),n;function o(){n.parentElement.replaceChild(e(t),n)}},t.createContainer=c,t.createText=u;var r=n(8230),i=n(500),a=n(9332),o=n(8847);function s(e,t,n,s){const d={origin:t,appModes:n,formElements:{modes:[],origin:void 0}};return c("tr",[c("td",[c("form",[l("input",{class:"textinput",placeholder:"Write new URL here",value:t?t.value:""},{},e=>{d.formElements.origin=e})],{},{submit:f})]),c("td",[c("form",p(d),{},{submit:f})]),c("td",[c("form",t?[u("button","Update",{class:"controlButton",style:"background: LightGreen;"}),u("button","Delete",{class:"controlButton",style:"background: LightCoral;"},{click:function(t){let n;t.preventDefault();try{n=(0,r.sym)(d.formElements.origin.value)}catch(e){return alert("Please provide an application URL you want to remove trust from")}const s=(0,o.getStatementsToDelete)(n,e,a.store,i.ns);if(!a.store.updater)throw new Error("Store has no updater");a.store.updater.update(s,[],h)}})]:[u("button","Add",{class:"controlButton",style:"background: LightGreen;"})],{},{submit:f})])]);function f(t){let n;t.preventDefault();try{n=(0,r.sym)(d.formElements.origin.value)}catch(e){return alert("Please provide an application URL you want to trust")}const s=d.formElements.modes.filter(e=>e.checked).map(e=>e.value),l=(0,o.getStatementsToDelete)(d.origin||n,e,a.store,i.ns),c=(0,o.getStatementsToAdd)(n,(0,o.generateRandomString)(),s,e,i.ns);if(!a.store.updater)throw new Error("Store has no updater");a.store.updater.update(l,c,h)}function h(e,t,n){if(t)return s()}}function l(e,t={},n={},r=null){const i=document.createElement(e);return r&&r(i),Object.keys(t).forEach(e=>{i.setAttribute(e,t[e])}),Object.keys(n).forEach(e=>{i.addEventListener(e,n[e])}),i}function c(e,t,n={},r={},i=null){const a=l(e,n,r,i);return t.forEach(e=>a.appendChild(e)),a}function u(e,t,n={},r={},i=null){const a=l(e,n,r,i);return a.textContent=t,a}function p({appModes:e,formElements:t}){return["Read","Write","Append","Control"].map(n=>c("label",[l("input",{type:"checkbox",...e.some(e=>e.value===i.ns.acl(n).value)?{checked:""}:{},value:i.ns.acl(n).uri},{},e=>t.modes.push(e)),u("span",n)]))}},5454:e=>{"use strict";
/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:t,setPrototypeOf:n,isFrozen:r,getPrototypeOf:i,getOwnPropertyDescriptor:a}=Object;let{freeze:o,seal:s,create:l}=Object,{apply:c,construct:u}="undefined"!=typeof Reflect&&Reflect;o||(o=function(e){return e}),s||(s=function(e){return e}),c||(c=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),u||(u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const p=S(Array.prototype.forEach),d=S(Array.prototype.lastIndexOf),f=S(Array.prototype.pop),h=S(Array.prototype.push),m=S(Array.prototype.splice),g=S(String.prototype.toLowerCase),v=S(String.prototype.toString),b=S(String.prototype.match),y=S(String.prototype.replace),w=S(String.prototype.indexOf),x=S(String.prototype.trim),k=S(Object.prototype.hasOwnProperty),_=S(RegExp.prototype.test),E=(C=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(C,t)});var C;function S(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return c(e,t,r)}}function A(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;n&&n(e,null);let a=t.length;for(;a--;){let n=t[a];if("string"==typeof n){const e=i(n);e!==n&&(r(t)||(t[a]=e),n=e)}e[n]=!0}return e}function T(e){for(let t=0;t<e.length;t++){k(e,t)||(e[t]=null)}return e}function R(e){const n=l(null);for(const[r,i]of t(e)){k(e,r)&&(Array.isArray(i)?n[r]=T(i):i&&"object"==typeof i&&i.constructor===Object?n[r]=R(i):n[r]=i)}return n}function P(e,t){for(;null!==e;){const n=a(e,t);if(n){if(n.get)return S(n.get);if("function"==typeof n.value)return S(n.value)}e=i(e)}return function(){return null}}const F=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=o(["#text"]),D=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=o(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=s(/<%[\w\W]*|[\w\W]*%>/gm),$=s(/\$\{[\w\W]*/gm),W=s(/^data-[\-\w.\u00B7-\uFFFF]+$/),V=s(/^aria-[\-\w]+$/),G=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=s(/^(?:\w+script|data):/i),J=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=s(/^html$/i),Y=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var X=Object.freeze({__proto__:null,ARIA_ATTR:V,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:Y,DATA_ATTR:W,DOCTYPE_NAME:Q,ERB_EXPR:q,IS_ALLOWED_URI:G,IS_SCRIPT_OR_DATA:K,MUSTACHE_EXPR:H,TMPLIT_EXPR:$});const Z=1,ee=3,te=7,ne=8,re=9,ie=function(){return"undefined"==typeof window?null:window};var ae=function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();const r=t=>e(t);if(r.version="3.3.0",r.removed=[],!n||!n.document||n.document.nodeType!==re||!n.Element)return r.isSupported=!1,r;let{document:i}=n;const a=i,s=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:C,Element:S,NodeFilter:T,NamedNodeMap:H=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:q,DOMParser:$,trustedTypes:W}=n,V=S.prototype,K=P(V,"cloneNode"),J=P(V,"remove"),Y=P(V,"nextSibling"),ae=P(V,"childNodes"),oe=P(V,"parentNode");if("function"==typeof u){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let se,le="";const{implementation:ce,createNodeIterator:ue,createDocumentFragment:pe,getElementsByTagName:de}=i,{importNode:fe}=a;let he={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof t&&"function"==typeof oe&&ce&&void 0!==ce.createHTMLDocument;const{MUSTACHE_EXPR:me,ERB_EXPR:ge,TMPLIT_EXPR:ve,DATA_ATTR:be,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:xe,CUSTOM_ELEMENT:ke}=X;let{IS_ALLOWED_URI:_e}=X,Ee=null;const Ce=A({},[...F,...I,...N,...L,...M]);let Se=null;const Ae=A({},[...D,...U,...B,...z]);let Te=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,Pe=null;const Fe=Object.seal(l(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ie=!0,Ne=!0,Oe=!1,Le=!0,je=!1,Me=!0,De=!1,Ue=!1,Be=!1,ze=!1,He=!1,qe=!1,$e=!0,We=!1,Ve=!0,Ge=!1,Ke={},Je=null;const Qe=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ye=null;const Xe=A({},["audio","video","img","source","image","track"]);let Ze=null;const et=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",rt="http://www.w3.org/1999/xhtml";let it=rt,at=!1,ot=null;const st=A({},[tt,nt,rt],v);let lt=A({},["mi","mo","mn","ms","mtext"]),ct=A({},["annotation-xml"]);const ut=A({},["title","style","font","a","script"]);let pt=null;const dt=["application/xhtml+xml","text/html"];let ft=null,ht=null;const mt=i.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ht||ht!==e){if(e&&"object"==typeof e||(e={}),e=R(e),pt=-1===dt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ft="application/xhtml+xml"===pt?v:g,Ee=k(e,"ALLOWED_TAGS")?A({},e.ALLOWED_TAGS,ft):Ce,Se=k(e,"ALLOWED_ATTR")?A({},e.ALLOWED_ATTR,ft):Ae,ot=k(e,"ALLOWED_NAMESPACES")?A({},e.ALLOWED_NAMESPACES,v):st,Ze=k(e,"ADD_URI_SAFE_ATTR")?A(R(et),e.ADD_URI_SAFE_ATTR,ft):et,Ye=k(e,"ADD_DATA_URI_TAGS")?A(R(Xe),e.ADD_DATA_URI_TAGS,ft):Xe,Je=k(e,"FORBID_CONTENTS")?A({},e.FORBID_CONTENTS,ft):Qe,Re=k(e,"FORBID_TAGS")?A({},e.FORBID_TAGS,ft):R({}),Pe=k(e,"FORBID_ATTR")?A({},e.FORBID_ATTR,ft):R({}),Ke=!!k(e,"USE_PROFILES")&&e.USE_PROFILES,Ie=!1!==e.ALLOW_ARIA_ATTR,Ne=!1!==e.ALLOW_DATA_ATTR,Oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,je=e.SAFE_FOR_TEMPLATES||!1,Me=!1!==e.SAFE_FOR_XML,De=e.WHOLE_DOCUMENT||!1,ze=e.RETURN_DOM||!1,He=e.RETURN_DOM_FRAGMENT||!1,qe=e.RETURN_TRUSTED_TYPE||!1,Be=e.FORCE_BODY||!1,$e=!1!==e.SANITIZE_DOM,We=e.SANITIZE_NAMED_PROPS||!1,Ve=!1!==e.KEEP_CONTENT,Ge=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||G,it=e.NAMESPACE||rt,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,ct=e.HTML_INTEGRATION_POINTS||ct,Te=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Te.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),je&&(Ne=!1),He&&(ze=!0),Ke&&(Ee=A({},M),Se=[],!0===Ke.html&&(A(Ee,F),A(Se,D)),!0===Ke.svg&&(A(Ee,I),A(Se,U),A(Se,z)),!0===Ke.svgFilters&&(A(Ee,N),A(Se,U),A(Se,z)),!0===Ke.mathMl&&(A(Ee,L),A(Se,B),A(Se,z))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?Fe.tagCheck=e.ADD_TAGS:(Ee===Ce&&(Ee=R(Ee)),A(Ee,e.ADD_TAGS,ft))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?Fe.attributeCheck=e.ADD_ATTR:(Se===Ae&&(Se=R(Se)),A(Se,e.ADD_ATTR,ft))),e.ADD_URI_SAFE_ATTR&&A(Ze,e.ADD_URI_SAFE_ATTR,ft),e.FORBID_CONTENTS&&(Je===Qe&&(Je=R(Je)),A(Je,e.FORBID_CONTENTS,ft)),Ve&&(Ee["#text"]=!0),De&&A(Ee,["html","head","body"]),Ee.table&&(A(Ee,["tbody"]),delete Re.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');se=e.TRUSTED_TYPES_POLICY,le=se.createHTML("")}else void 0===se&&(se=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return null}}(W,s)),null!==se&&"string"==typeof le&&(le=se.createHTML(""));o&&o(e),ht=e}},bt=A({},[...I,...N,...O]),yt=A({},[...L,...j]),wt=function(e){h(r.removed,{element:e});try{oe(e).removeChild(e)}catch(t){J(e)}},xt=function(e,t){try{h(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ze||He)try{wt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},kt=function(e){let t=null,n=null;if(Be)e="<remove></remove>"+e;else{const t=b(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===pt&&it===rt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=se?se.createHTML(e):e;if(it===rt)try{t=(new $).parseFromString(r,pt)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(it,"template",null);try{t.documentElement.innerHTML=at?le:r}catch(e){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),it===rt?de.call(t,De?"html":"body")[0]:De?t.documentElement:a},_t=function(e){return ue.call(e.ownerDocument||e,e,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof q&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof H)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ct=function(e){return"function"==typeof C&&e instanceof C};function St(e,t,n){p(e,e=>{e.call(r,t,n,ht)})}const At=function(e){let t=null;if(St(he.beforeSanitizeElements,e,null),Et(e))return wt(e),!0;const n=ft(e.nodeName);if(St(he.uponSanitizeElement,e,{tagName:n,allowedTags:Ee}),Me&&e.hasChildNodes()&&!Ct(e.firstElementChild)&&_(/<[/\w!]/g,e.innerHTML)&&_(/<[/\w!]/g,e.textContent))return wt(e),!0;if(e.nodeType===te)return wt(e),!0;if(Me&&e.nodeType===ne&&_(/<[/\w]/g,e.data))return wt(e),!0;if(!(Fe.tagCheck instanceof Function&&Fe.tagCheck(n))&&(!Ee[n]||Re[n])){if(!Re[n]&&Rt(n)){if(Te.tagNameCheck instanceof RegExp&&_(Te.tagNameCheck,n))return!1;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))return!1}if(Ve&&!Je[n]){const t=oe(e)||e.parentNode,n=ae(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=K(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,Y(e))}}}return wt(e),!0}return e instanceof S&&!function(e){let t=oe(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});const n=g(e.tagName),r=g(t.tagName);return!!ot[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===rt?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===r||lt[r]):Boolean(bt[n]):e.namespaceURI===tt?t.namespaceURI===rt?"math"===n:t.namespaceURI===nt?"math"===n&&ct[r]:Boolean(yt[n]):e.namespaceURI===rt?!(t.namespaceURI===nt&&!ct[r])&&!(t.namespaceURI===tt&&!lt[r])&&!yt[n]&&(ut[n]||!bt[n]):!("application/xhtml+xml"!==pt||!ot[e.namespaceURI]))}(e)?(wt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(je&&e.nodeType===ee&&(t=e.textContent,p([me,ge,ve],e=>{t=y(t,e," ")}),e.textContent!==t&&(h(r.removed,{element:e.cloneNode()}),e.textContent=t)),St(he.afterSanitizeElements,e,null),!1):(wt(e),!0)},Tt=function(e,t,n){if($e&&("id"===t||"name"===t)&&(n in i||n in mt))return!1;if(Ne&&!Pe[t]&&_(be,t));else if(Ie&&_(ye,t));else if(Fe.attributeCheck instanceof Function&&Fe.attributeCheck(t,e));else if(!Se[t]||Pe[t]){if(!(Rt(e)&&(Te.tagNameCheck instanceof RegExp&&_(Te.tagNameCheck,e)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(e))&&(Te.attributeNameCheck instanceof RegExp&&_(Te.attributeNameCheck,t)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(t,e))||"is"===t&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&_(Te.tagNameCheck,n)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))))return!1}else if(Ze[t]);else if(_(_e,y(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==w(n,"data:")||!Ye[e]){if(Oe&&!_(we,y(n,xe,"")));else if(n)return!1}else;return!0},Rt=function(e){return"annotation-xml"!==e&&b(e,ke)},Pt=function(e){St(he.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Et(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let i=t.length;for(;i--;){const a=t[i],{name:o,namespaceURI:s,value:l}=a,c=ft(o),u=l;let d="value"===o?u:x(u);if(n.attrName=c,n.attrValue=d,n.keepAttr=!0,n.forceKeepAttr=void 0,St(he.uponSanitizeAttribute,e,n),d=n.attrValue,!We||"id"!==c&&"name"!==c||(xt(o,e),d="user-content-"+d),Me&&_(/((--!?|])>)|<\/(style|title|textarea)/i,d)){xt(o,e);continue}if("attributename"===c&&b(d,"href")){xt(o,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){xt(o,e);continue}if(!Le&&_(/\/>/i,d)){xt(o,e);continue}je&&p([me,ge,ve],e=>{d=y(d,e," ")});const h=ft(e.nodeName);if(Tt(h,c,d)){if(se&&"object"==typeof W&&"function"==typeof W.getAttributeType)if(s);else switch(W.getAttributeType(h,c)){case"TrustedHTML":d=se.createHTML(d);break;case"TrustedScriptURL":d=se.createScriptURL(d)}if(d!==u)try{s?e.setAttributeNS(s,o,d):e.setAttribute(o,d),Et(e)?wt(e):f(r.removed)}catch(t){xt(o,e)}}else xt(o,e)}St(he.afterSanitizeAttributes,e,null)},Ft=function e(t){let n=null;const r=_t(t);for(St(he.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)St(he.uponSanitizeShadowNode,n,null),At(n),Pt(n),n.content instanceof c&&e(n.content);St(he.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(at=!e,at&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ct(e)){if("function"!=typeof e.toString)throw E("toString is not a function");if("string"!=typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Ue||vt(t),r.removed=[],"string"==typeof e&&(Ge=!1),Ge){if(e.nodeName){const t=ft(e.nodeName);if(!Ee[t]||Re[t])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof C)n=kt("\x3c!----\x3e"),i=n.ownerDocument.importNode(e,!0),i.nodeType===Z&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!ze&&!je&&!De&&-1===e.indexOf("<"))return se&&qe?se.createHTML(e):e;if(n=kt(e),!n)return ze?null:qe?le:""}n&&Be&&wt(n.firstChild);const l=_t(Ge?e:n);for(;o=l.nextNode();)At(o),Pt(o),o.content instanceof c&&Ft(o.content);if(Ge)return e;if(ze){if(He)for(s=pe.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(Se.shadowroot||Se.shadowrootmode)&&(s=fe.call(a,s,!0)),s}let u=De?n.outerHTML:n.innerHTML;return De&&Ee["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&_(Q,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),je&&p([me,ge,ve],e=>{u=y(u,e," ")}),se&&qe?se.createHTML(u):u},r.setConfig=function(){vt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ue=!0},r.clearConfig=function(){ht=null,Ue=!1},r.isValidAttribute=function(e,t,n){ht||vt({});const r=ft(e),i=ft(t);return Tt(r,i,n)},r.addHook=function(e,t){"function"==typeof t&&h(he[e],t)},r.removeHook=function(e,t){if(void 0!==t){const n=d(he[e],t);return-1===n?void 0:m(he[e],n,1)[0]}return f(he[e])},r.removeHooks=function(e){he[e]=[]},r.removeAllHooks=function(){he={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();e.exports=ae},5556:(e,t,n)=>{e.exports=n(2694)()},5568:e=>{"use strict";const{AbortController:t,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t},5576:(e,t,n)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const r=n(7526),i=n(251),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Q(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return u(e),s(e<0?0:0|h(e))}function d(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===l)return r*o}else-1!==r&&(a-=a-r),r=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){let n=!0;for(let r=0;r<l;r++)if(c(e,a+r)!==c(t,r)){n=!1;break}if(n)return a}return-1}function w(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const a=t.length;let o;for(r>a/2&&(r=a/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(Q(r))return o;e[n+o]=r}return o}function x(e,t,n,r){return K(V(t,e.length-n),e,n,r)}function k(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return K(G(t),e,n,r)}function E(e,t,n,r){return K(function(e,t){let n,r,i;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(a=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=o}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!l.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const s=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){a=c[e],o=u[e];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Y[e[r]];return i}function F(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i){H(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function L(e,t,n,r,i){H(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function j(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,a){return t=+t,n>>>=0,a||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return t=+t,n>>>=0,a||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X(function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),l.prototype.readBigUInt64BE=X(function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X(function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=X(function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X(function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=X(function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=0,a=1,o=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=n-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X(function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=X(function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const a=l.isBuffer(e)?e:l.from(e,r),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%o]}return this};const U={};function B(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function H(e,t,n,r,i,a){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||$(t,e.length-(n+1))}(r,i,a)}function q(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),B("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=z(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const a=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},5586:(e,t,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:a,Uint8Array:o}=n(4641),{Buffer:s}=n(5576),{inspect:l}=n(6017);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let n=this.head,r=0;for(;n;)a(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(t+=a,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(a,0,e),this.head=n,n.data=r(a,e));break}t+=a,e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),n=e;let r=this.head,i=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(a(t,s,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(a(t,new o(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}a(t,s,n-e),e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},5606:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,l=[],c=!1,u=-1;function p(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=o(p);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},5682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.dashboardPane=void 0;var r=n(500),i=n(9332),a=n(730);const o=t.dashboardPane={icon:r.icons.iconBase+"noun_547570.svg",name:"dashboard",label:e=>e.uri===e.site().uri?"Dashboard":null,render:(e,t)=>{const n=t.dom.createElement("div"),r=()=>{n.innerHTML="",function(e,t,n,r){const o=new URL(window.location.href).searchParams.get("uri");if(t&&(o||t.site().uri===r.site().uri))return function(e,t){const n=t.getOutliner(t.dom);n.getDashboard().then(t=>e.appendChild(t))}(e,n);(function(e,t){const n=document.createElement("div");e.appendChild(n);const r=n.attachShadow({mode:"open"}),o=document.createElement("link");o.rel="stylesheet",o.href="/common/css/bootstrap.min.css",r.appendChild(o),(0,a.generateHomepage)(t,i.store,i.store.fetcher).then(e=>r.appendChild(e))})(e,r)}(n,i.authn.currentUser()||null,t,e)};return i.authSession.events.on("login",()=>{r()}),i.authSession.events.on("sessionRestore",()=>{r()}),r(),n}};t.default=o},5721:(e,t,n)=>{"use strict";const r=n(2825),i=n(5018),a=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=a,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=r.Stream,e.exports.default=e.exports},5822:(e,t,n)=>{const r=n(208);function i(e){this.mode=r.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},5956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CVCard=void 0;var r=n(6752),i=n(4572),a=n(2378);(0,a.styleMap)((0,i.fullWidth)()),(0,a.styleMap)({...(0,i.textGray)(),...(0,i.textCenter)()});const o=(0,a.styleMap)((0,i.card)()),s=(0,a.styleMap)({...(0,i.paddingSmall)(),...(0,i.textLeft)()});(0,a.styleMap)({...(0,i.paddingSmall)(),...(0,i.textRight)()});function l(e){if(e[0]>"")return r.html`${t=e[0],t?r.html`<div style="margin-top: 0.3em; margin-bottom: 0.3em;">
        <b>${t.orgName}</b>
        <span>${p(t.roleText)}</span>
        <span>${t.dates}</span>   
      </div> `:r.html``}${e.length>1?l(e.slice(1)):r.html``}`;var t}function c(e){if(e[0]>"")return r.html`${t=p(e[0]),t?r.html`<div style="margin: 0.5em;">
        <p style="text-align: center;">${t}</p>
      </div> `:r.html``} ${e.length>1?c(e.slice(1)):r.html``}`;var t}function u(e){if(e[0]>"")return r.html`${t=e[0],t?r.html`<div style="margin: 0.5em;">
        <p style="text-align: center;">${t}</p>
      </div> `:r.html``}${e.length>1?u(e.slice(1)):r.html``}`;var t}function p(e){if(e&&e[0]>""){const t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].substring(1);return t.join(" ")}return""}t.CVCard=(e,t)=>{const{rolesByType:n,skills:p,languages:d}=t,f=(0,a.styleMap)({...(0,i.heading)(),color:e.highlightColor});return l(n.FutureRole)||l(n.CurrentRole)||l(n.PastRole)||c(p)||u(d)?r.html`
  <div>
    <div data-testid="curriculum-vitae" style="${o}">
      <div style=${s}>
        <h3 style=${f}>Bio</h3>
        <div style=${s}>${l(n.FutureRole)}</div>
        <hr />
        <div style=${s}>${l(n.CurrentRole)}</div>
        <hr />
        <div style=${s}>${l(n.PastRole)}</div>
        <hr />
        <h3 style=${f}>Skills</h3>
        <div style=${s}>${c(p)}</div>
        <h3 style=${f}>Languages</h3>
        <div style=${s}>${u(d)}</div>
            
      </div>
      </div>
    </div>
  `:r.html``}},6017:(e,t,n)=>{"use strict";const r=n(5576),{format:i,inspect:a}=n(3430),{codes:{ERR_INVALID_ARG_TYPE:o}}=n(8526),{kResistStopPropagation:s,AggregateError:l,SymbolDispose:c}=n(4641),u=globalThis.AbortSignal||n(5568).AbortSignal,p=globalThis.AbortController||n(5568).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||r.Blob,h=void 0!==f?function(e){return e instanceof f}:function(e){return!1},m=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new o(t,"AbortSignal",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}},promisify:e=>new Promise((t,n)=>{e((e,...r)=>e?n(e):t(...r))}),debuglog:()=>function(){},format:i,inspect:a,types:{isAsyncFunction:e=>e instanceof d,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:h,deprecate:(e,t)=>e,addAbortListener:n(7007).addAbortListener||function(e,t){if(void 0===e)throw new o("signal","AbortSignal",e);let n;return m(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new o(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),n=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[c](){var e;null===(e=n)||void 0===e||e()}}},AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];const t=new p,n=()=>t.abort();return e.forEach(e=>{m(e,"signals"),e.addEventListener("abort",n,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",n))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},6049:(e,t,n)=>{"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var r,i,a=n(7598),o=n(7975).extname,s=n(983),l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}function p(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!(!r||!r.length)&&r[0]}function d(e,t,n){return(t?s(t,a[t].source):0)>(n?s(n,a[n].source):0)?t:n}function f(e,n,r){var i=["nginx","apache",void 0,"iana"],o=n?i.indexOf(a[n].source):0,s=r?i.indexOf(a[r].source):0;return"application/octet-stream"!==t.types[p]&&(o>s||o===s&&"application/"===t.types[p]?.slice(0,12))||o>s?n:r}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=p,t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=o("x."+e).toLowerCase().slice(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),t._extensionConflicts=[],r=t.extensions,i=t.types,Object.keys(a).forEach(function(e){var n=a[e].extensions;if(n&&n.length){r[e]=n;for(var o=0;o<n.length;o++){var s=n[o];i[s]=d(s,i[s],e);const r=f(s,i[s],e);r!==i[s]&&t._extensionConflicts.push([s,r,i[s]])}}})},6077:e=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"validateHTMLColorName",function(){return o}),n.d(t,"validateHTMLColorSpecialName",function(){return s}),n.d(t,"validateHTMLColorHex",function(){return l}),n.d(t,"validateHTMLColorRgb",function(){return m}),n.d(t,"validateHTMLColorHsl",function(){return g}),n.d(t,"validateHTMLColorHwb",function(){return v}),n.d(t,"validateHTMLColorLab",function(){return b}),n.d(t,"validateHTMLColorLch",function(){return y}),n.d(t,"validateHTMLColor",function(){return w});const r=e=>e&&"string"==typeof e,i=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenrod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","Goldenrod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenrodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquamarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenrod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],a=["currentColor","inherit","transparent"],o=e=>{let t=!1;return r(e)&&i.map(n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null)),t},s=e=>{let t=!1;return r(e)&&a.map(n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null)),t},l=e=>{if(r(e)){return e&&/^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i.test(e)}return!1},c="(([\\d]{0,5})((\\.([\\d]{1,5}))?))",u=`(${c}%)`,p="(([0-9]|[1-9][0-9]|100)%)",d=`(${p}|(0?((\\.([\\d]{1,5}))?))|1)`,f=`([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?)([\\s]{1,5})(((${p}))|(0?((\\.([\\d]{1,5}))?))|1))?([\\s]{0,5})\\)`,h="(-?(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360)(deg)?)",m=e=>{if(r(e)){const t="([\\s]{0,5})([\\d]{1,5})%?([\\s]{0,5}),?",n="((([\\s]{0,5}),?([\\s]{0,5}))|(([\\s]{1,5})))",r=new RegExp(`^(rgb)a?\\(${t}${n}${t}${n}${t}${n}((\\/?([\\s]{0,5})(0?\\.?([\\d]{1,5})%?([\\s]{0,5}))?|1|0))?\\)$`);return e&&r.test(e)}return!1},g=e=>{if(r(e)){const t=new RegExp(`^(hsl)a?\\((([\\s]{0,5})(${h}|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)grad)|((([0-5])?\\.([\\d]{1,5})|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)|((0?((\\.([\\d]{1,5}))?)|1)turn))((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${p})((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${p})([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?|,?)([\\s]{0,5})(((${p}))|(0?((\\.([\\d]{1,5}))?))|1))?\\)$`);return e&&t.test(e)}return!1},v=e=>{if(r(e)){const t=new RegExp(`^(hwb\\(([\\s]{0,5})${h}([\\s]{1,5}))((0|${p})([\\s]{1,5}))((0|${p})${f}$`);return e&&t.test(e)}return!1},b=e=>{if(r(e)){const t="(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])((\\.([\\d]{1,5}))?)?|160))",n=new RegExp(`^(lab\\(([\\s]{0,5})${u}([\\s]{1,5})${t}([\\s]{1,5})${t}${f}$`);return e&&n.test(e)}return!1},y=e=>{if(r(e)){const t=new RegExp(`^lch\\((([\\s]{0,5})${"((([0-9]|[1-9][0-9])?((\\.([\\d]{1,5}))?)|100)(%)?)"}([\\s]{1,5})${""+c}([\\s]{1,5})${`((${h})|(0|${d})|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360))`}([\\s]{0,5})(${`(\\/([\\s]{0,5})${d})`})?)\\)$`);return e&&t.test(e)}return!1},w=e=>!!(e&&l(e)||m(e)||g(e)||v(e)||b(e)||y(e));t.default=e=>!!(e&&l(e)||o(e)||s(e)||m(e)||g(e)||v(e)||b(e)||y(e))}])},6106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.basicPreferencesPane=void 0;var r=n(8230),i=n(500);const a=t.basicPreferencesPane={icon:i.icons.iconBase+"noun_Sliders_341315_000000.svg",name:"basicPreferences",label:e=>null,render:(e,t)=>{const n=t.dom,a=t.session.store;function s(e,t){e||l.appendChild(i.widgets.errorMessageBlock(n,t,"#fee"))}const l=n.createElement("div"),c=function(e,t){const n=o(e,t,"User types"),r=n.appendChild(t.createElement("p"));r.innerText="Here you can self-assign user types to help the data browser know which views you would like to access.";const i=n.appendChild(t.createElement("a"));i.href="https://github.com/solidos/userguide/#role",i.innerText="Read more";const a=n.appendChild(t.createElement("div"));return a}(l,n);function u(e,t){e=e.doc(),a.holds(void 0,void 0,void 0,e)||(0,r.parse)(t,a,e.uri,"text/turtle",null)}const p=a.sym("urn:uuid:93774ba1-d3b6-41f2-85b6-4ae27ffd2597#this");u(p,'@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <#>.\n\n:this <http://purl.org/dc/elements/1.1/title> "Basic preferences" ;\n      a ui:Form ;\n      ui:part :categorizeUser, :privateComment, :personalInformationHeading;\n      ui:parts ( :personalInformationHeading :privateComment :categorizeUser ).\n\n:personalInformationHeading a ui:Heading;\n      ui:contents "Personal information".\n\n:privateComment a ui:Comment;\n      ui:contents "This information is private.".\n\n:categorizeUser a ui:Classifier;\n      ui:label "Level of user"; ui:property rdf:type ; ui:category solid:User.\n');return u(a.sym("urn:uuid:93774ba1-d3b6-41f2-85b6-4ae27ffd2597-ONT"),'@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix schema: <http:/schema.org/>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n@prefix : <#>.\n\nsolid:User a rdfs:Class;\n  rdfs:label "user"@en, "utilisateur"@fr;\n  rdfs:comment """Any person who might use a Solid-based system""";\n  rdfs:subClassOf foaf:Person, schema:Person, vcard:Individual.\n\n# Since these options are opt-in, it is a bit strange to have new users opt in\n# That they are new users - also we do not use this class for anything specific\n# yet\n# solid:NewUser a rdfs:Class;\n#  rdfs:label "new user"@en;\n#  rdfs:comment """A person who might use a Solid-based system who has a low\n#  level of familiarity with technical details.""";\n#  rdfs:subClassOf solid:User.\n\nsolid:PowerUser a rdfs:Class;\n  rdfs:label "power user"@en;\n  rdfs:comment """A person who might use a Solid-based system\n  who is prepared to be given a more complex interface in order\n  to be provided with more pwerful features.""";\n  rdfs:subClassOf solid:User.\n\n  solid:Developer a rdfs:Class;\n    rdfs:label "Developer";\n    rdfs:comment """Any person who might use a Solid-based system,\n    who has software development skills.""";\n    rdfs:subClassOf solid:User.\n'),async function(){const e=await i.login.ensureLoadedPreferences({dom:n,div:l});if(!e.preferencesFile)return;i.widgets.appendForm(n,c,{},e.me,p,e.preferencesFile,s).style.borderStyle="none";const r=t.session.paneRegistry.byName("trustedApplications");r&&l.appendChild(r.render(null,t)),function(e,t,n,r){const a=o(e,r,"Delete account"),s=t.each(n,i.ns.space("storage"),null,n.doc()),l=s.map(e=>e.value),c=a.appendChild(r.createElement("ul"));l.forEach(async e=>{const t=await async function(e,t){const n=t.createElement("a");n.textContent=`Delete your account at ${e}`;const r=await async function(e){const t=new URL(e),n=new URL(e);n.pathname=t.pathname="/account/delete";const r=n.hostname.split(".");n.hostname=r.slice(1).join(".");if((await fetch(n.href,{method:"HEAD"})).ok)return n.href;if((await fetch(t.href,{method:"HEAD"})).ok)return t.href;return null}(e);if("string"!=typeof r)return null;return n.href=r,n}(e,r);if(t){c.appendChild(r.createElement("li")).appendChild(t)}})}(l,a,e.me,n)}(),l}};t.default=a;function o(e,t,n){const r=e.appendChild(t.createElement("div"));r.style.border="0.3em solid #418d99",r.style.borderRadius="0.5em",r.style.padding="0.7em",r.style.marginTop="0.7em";return r.appendChild(t.createElement("h3")).innerText=n,r}},6221:(e,t,n)=>{"use strict";
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},6294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadProfileForm=s,t.presentSocial=function(e,t){function n(e){const n=t.any(e,i.ns.foaf("name"))||t.any(e,i.ns.rdfs("label"));if(n)return n.value;const r=t.each(e,i.ns.rdf("type"));for(const e of r){const n=t.any(e,i.ns.rdfs("label"));return n?n.value:i.utils.label(e)}return""}function r(e){const n=t.any(e,i.ns.foaf("icon"));if(n)return n.value;const r=t.each(e,i.ns.rdf("type"));if(r.length>0)for(const e of r){const n=t.any(e,i.ns.foaf("icon"));if(null!==n)return n.value}return o}function a(e){const n=t.any(e,i.ns.foaf("homepage"));if(n)return n.value;const r=t.anyJS(e,i.ns.foaf("accountName"),null,e.doc())||"No_account_Name",a=t.each(e,i.ns.rdf("type"));for(const e of a){const n=t.any(e,i.ns.foaf("userProfilePrefix"));if(n)return n.value+r.trim()}return"no userProfilePrefix?"}function l(e){return{name:n(e),icon:r(e),homepage:a(e)}}s(t);const c=t.anyJS(e,i.ns.foaf("account"));if(!c)return{accounts:[]};return{accounts:c.map(e=>l(e))}};var r=n(8230),i=n(500);const a='@prefix os: <http://www.w3.org/2000/10/swap/os#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix owl: <http://www.w3.org/2002/07/owl#>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix schema: <http://schema.org/>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n\n@prefix org: <http://www.w3.org/ns/org#>.\n@prefix esco: <http://data.europa.eu/esco/model#>.\n@prefix wd: <http://www.wikidata.org/entity/>.\n@prefix wdt: <http://www.wikidata.org/prop/direct/>.\n\n@prefix : <https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#>.\n@prefix soc: <https://solidos.github.io/profile-pane/src/ontology/socialMedia.ttl#>.\n\n# was: https://solidos.github.io/solid-panes/dashboard/profileStyle.ttl#this\n# moved to:  https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this\n\n\n\n\n# About forms: https://solidos.github.io/solid-ui/Documentation/forms-intro.html\n# About personal public data:  https://www.w3.org/DesignIssues/PersonalPublic.html\n#\n\n:this\n    <http://purl.org/dc/elements/1.1/title> "Profile form" ;\n    a ui:Form ;\n    # ui:part :backgroundColor, :highlightColor;\n    ui:parts (\n      :styleGroup\n      :nicknameField\n      :pronounsForm\n      :LanguagesPrompt :LanguagesForm\n      :SocialsPrompt :SocialsForm\n      :CVGroup\n      :SkillsPrompt :SkillsForm\n      ).\n\n:styleGroup a ui:Group; ui:weight 0; ui:parts ( :styleHeading :backgroundColor :highlightColor ).\n    :styleHeading a ui:Heading; ui:contents "The style of your public profile.".\n    :backgroundColor a ui:ColorField; ui:property solid:profileBackgroundColor;\n      ui:label "Background color"; ui:default "#ffffff".\n    :highlightColor a ui:ColorField; ui:property solid:profileHighlightColor;\n      ui:label "Highlight color"; ui:default "#000000".\n\n# Nickname\n\n:nicknameField a ui:SingleLineTextField; ui:size 12; ui:property foaf:nick;\n      ui:label "Short name for chats, etc."@en, "nom court"@fr.\n\n # Pronouns\n\n :pronounsForm a ui:Group; ui:weight 0; ui:parts ( :pronounsPrompt :subjectPronounForm :objectPronounForm :relativePronounForm) .\n\n    :pronounsPrompt a ui:Comment; ui:contents  "What are your pronouns?" .\n\n    :subjectPronounForm a ui:SingleLineTextField; ui:property solid:preferredSubjectPronoun;\n        ui:size 10; ui:label "he/she/they..." .\n    :objectPronounForm a ui:SingleLineTextField; ui:property solid:preferredObjectPronoun;\n        ui:size 10; ui:label "him/her/them..." .\n    :relativePronounForm a ui:SingleLineTextField; ui:property solid:preferredRelativePronoun;\n        ui:size 10; ui:label "his/hers/theirs..." .\n\n  # Curriculum Vitae: membership of organizations\n\n  :CVHeading a ui:Heading; ui:contents "Public Curriculum Vitae".\n  :CVPrompt a ui:Comment; ui:contents  "What organizations have you been involved with?" .\n\n    :CVGroup a ui:Group; ui:weight 1; ui:parts ( :CVHeading :CVPrompt :involvementWithOrganizationsForm ).\n\n\n  solid:Role a rdfs:Class; owl:oneOf ( solid:CurrentRole solid:FormerRole solid:FutureRole ). # Future Role too?\n\n  org:member owl:inverse [ ui:label "involvement with company, org etc" ]. # timelimited involvement\n\n  :involvementWithOrganizationsForm a ui:Multiple;\n      ui:label "Involvement with Organization";\n      ui:property org:member; ui:reverse true; # link back from role to member\n      ui:ordered false; # Allow user to order CV secions rather than force date order? No.\n      ui:part :RoleMembershipForm.\n\n# This is a big important form for one of a series of roles in the list.\n\n  :RoleMembershipForm a ui:Group; ui:weight 3; ui:parts ( :MembershipFormHeading :roleNameField\n        :escoOccupationField :orgField :RoleClassifier :RoleDatesForm :RoleDescriptionForm).\n\n     :MembershipFormHeading a ui:Heading; ui:contents "Details of this role"@en, "Détailes de ce rôle"@fr .\n\n     :orgField a ui:Choice; ui:label "Organization"@en, "Organization"@fr;\n          ui:canMintNew true; ui:use :OrganizationCreationForm ;\n          ui:property org:organization;\n          ui:from vcard:Organization .\n     :roleNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 60 .\n\n    :escoOccupationField a ui:AutocompleteField;\n          ui:label "occupation"; ui:size 60;\n          ui:property org:role;\n          ui:dataSource :ESCO_Occupation_DataSource;\n           ui:targetClass schema:Occupation .\n\n         :ESCO_Occupation_DataSource a ui:DataSource;\n            schema:name "ESCO";\n            ui:targetClass schema:Occupation ;\n            schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n            ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)".\n\n     :instituteIdentityField a ui:AutocompleteField; ui:label "in wikidata";\n          ui:size 60;\n          ui:property solid:publicId; ui:dataSource :WikidataOnOrganizations.\n\n     :WikidataOnOrganizations a ui:DataSource ;\n       schema:name "Wikidata";\n       ui:endpoint "https://query.wikidata.org/sparql" ;\n       ui:targetClass  <http://www.wikidata.org/entity/Q43229>; # Use if nothing else\n       ui:searchByNameQuery """SELECT ?subject ?name\n       WHERE {\n         ?klass wdt:P279* $(targetClass) .\n         ?subject wdt:P31 ?klass .\n         ?subject rdfs:label ?name.\n         FILTER regex(?name, "$(name)", "i")\n       } LIMIT $(limit) """ .\n\n      :WikidataOnOrganizations ui:classMap\n       [ ui:internalClass schema:Corporation; ui:externalClass <http://www.wikidata.org/entity/Q6881511>], #Enterprise is for-profit\n       [ ui:internalClass schema:EducationalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q178706>], #insitution\n       [ ui:internalClass schema:ResearchOrganization; ui:externalClass <http://www.wikidata.org/entity/Q31855>], # reearch insitutie\n       [ ui:internalClass schema:GovernmentOrganization; ui:externalClass <http://www.wikidata.org/entity/Q327333>], #government agency\n       [ ui:internalClass schema:MedicalOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4287745>],\n       [ ui:internalClass schema:MusicGroup; ui:externalClass <http://www.wikidata.org/entity/Q32178211>], #music organization\n       [ ui:internalClass schema:NGO; ui:externalClass <http://www.wikidata.org/entity/Q163740>], #nonprofit organization @@\n       [ ui:internalClass schema:Occupation; ui:externalClass <http://www.wikidata.org/entity/Q28640>], # superclass: Profession\n       [ ui:internalClass schema:Organization; ui:externalClass <http://www.wikidata.org/entity/Q43229>], # Superclass; Organization\n       [ ui:internalClass schema:Project; ui:externalClass <http://www.wikidata.org/entity/Q170584>],\n       [ ui:internalClass schema:SportsOrganization; ui:externalClass <http://www.wikidata.org/entity/Q4438121>] .\n\n\n# eposodes in one\'s career - Roles\n\nsolid:Role owl:disjointUnionOf ( solid:PastRole solid:CurrentRole solid:FutureRole ) .\nsolid:PastRole a rdfs:Class; rdfs:label "former role"@en, "ancien rôle"@fr, "vergangene Rolle"@de, "rol anterior"@es .\nsolid:CurrentRole a rdfs:Class; rdfs:label "current role"@en, "rôle actuel"@fr, "momentane Rolle"@de , "rol actual"@es .\nsolid:FutureRole a rdfs:Class; rdfs:label "future role"@en, "rôle à venir"@fr, "zukünftige Rolle"@de, "rol futuro"@es .\n\n:RoleDatesGroup a ui:Group; ui:weight 0; ui:parts ( :RoleClassifier :RoleDatesForm ) .\n  :RoleClassifier a ui:Classifier; ui:label "What sort of role?"@en;\n      ui:category solid:Role .\n\n  :RoleDatesForm a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for solid:PastRole; ui:use :TwoDateForm ],\n     [ ui:for solid:CurrentRole; ui:use :StartDateForm ],\n     [ ui:for solid:FutureRole; ui:use :StartDateForm ].\n\n      :StartDateForm a ui:DateField; ui:label "start"@en,"début"@fr;\n          ui:property schema:startDate .\n      :TwoDateForm a ui:Group; ui:weight 0; ui:parts ( :StartDateForm :EndDateForm ) .\n      :EndDateForm a ui:DateField; ui:label "end"@en,"fin"@fr;\n          ui:property schema:endDate .\n\n:RoleDescriptionForm a ui:MultiLineTextField; ui:property schema:description;\n  ui:label "Describe your role" .\n\n# Organizations\n\n vcard:Organization ui:creationForm :OrganizationCreationForm  .\n\n# Ontology data to drive the classifier\n\nsolid:InterestingOrganization owl:disjointUnionOf  (\n# Airline - a Corporation\n# Consortium - a Corporation or a NGO\n schema:Corporation\n schema:EducationalOrganization\n schema:ResearchOrganization  # Proposed. https://github.com/schemaorg/schemaorg/issues/2877\n# FundingScheme - eh?\n schema:GovernmentOrganization\n# LibrarySystem\n# LocalBusiness - Corporation\n# MedicalOrganization - a Corporation or a NGO\n schema:NGO\n # NewsMediaOrganization - a Corporation or a NGO\nschema:PerformingGroup # a band\nschema:Project # like Solid\nschema:SportsOrganization # a Team\nsolid:OtherOrganization\n ) .\n\n# This until the schema.org ontology adopts it\nschema:ResearchOrganization a rdfs:Class; rdfs:label "Research Organization"@en, "Organization de Recherche"@fr ,\n   "organización de investigación"@es, "منظمة البحث"@ar, "अनुसंधान संगठन"@hi, "Forschungsorganisation"@de, "shirika la utafiti"@sw .\n\n  :OrganizationCreationForm a ui:Form; schema:name "Form for editing an organization using public data" ;\n    ui:parts ( :OrgClassifier :OrgSwitch   :OrganizationNameField :homePageURIField  ) .\n\n\n :OrgClassifier a ui:Classifier; ui:label "What sort of organization?"@en;\n    ui:category solid:InterestingOrganization .\n\n  :OrganizationNameField\n      a ui:SingleLineTextField ;\n      ui:label "Organization Name";\n      ui:maxLength "200" ;\n      ui:property schema:name ;\n      ui:size    80 .\n\n   :homePageURIField a ui:NamedNodeURIField; ui:size 80;\n      ui:label "Home page URI"@en;\n      ui:property  schema:uri . # @@ ??\n\n    :initituteTypeField a ui:Classifier;\n    ui:label "What sort of organization";\n    ui:category solid:InterestingOrganization .\n\n#  Depending on the type of org, chose a different form\n\n :OrgSwitch a ui:Options; ui:dependingOn rdf:type;\n   ui:case\n   [ ui:for schema:Corporation; ui:use :CorporationForm ],\n   [ ui:for schema:GovernmentOrganization; ui:use :GovernmentOrganizationForm ],\n   [ ui:for schema:PerformingGroup; ui:use :PerformingGroupForm ],\n   [ ui:for schema:Project; ui:use :ProjectForm ],\n   [ ui:for schema:NGO; ui:use :NGOForm ],\n   [ ui:for schema:EducationalOrganization; ui:use :EducationalOrganizationForm ],\n   [ ui:for schema:ResearchOrganization; ui:use :ResearchOrganizationForm ],\n   [ ui:for :SportsOrganization; ui:use :SportsOrganizationForm ],\n   [ ui:for solid:OtherOrganization; ui:use :OtherOrganizationForm ].\n\n\n  :CorporationForm a ui:Group; ui:weight 0; ui:parts ( :CorporationPrompt :CorporationAutocomplete ) .\n\n      :CorporationPrompt a ui:Comment; ui:contents "Which corporation?".\n\n      :CorporationAutocomplete a ui:AutocompleteField;\n      a ui:AutocompleteField; ui:label "Corporation in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q6881511>; # Enterprise\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n      :WikidataInstancesByName a ui:DataSource ;\n        schema:name "Wikidata instances by name";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:searchByNameQuery """SELECT ?subject ?name\n        WHERE {\n          ?klass wdt:P279* $(targetClass) .\n          ?subject wdt:P31 ?klass .\n          ?subject rdfs:label ?name.\n          FILTER regex(?name, "$(name)", "i")\n        } LIMIT $(limit) """ ;\n\n        # Note this form of the query is very experimental\n        ui:searchByName [   ui:construct { ?subject schema:name ?name } ;\n                            ui:where { ?klass wdt:P279 ?targetClass .\n                                       ?subject wdt:P31 ?klass; rdfs:label ?name .\n                                     };\n                        ].\n\n  :GovernmentOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :GovernmentOrganizationPrompt :GovernmentOrganizationAutocomplete ) .\n\n      :GovernmentOrganizationPrompt a ui:Comment; ui:contents "Which GovernmentOrganization?".\n\n      :GovernmentOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "GovernmentOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q327333>; # GovernmentOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n    :EducationalOrganizationForm a ui:Group; ui:weight 1; ui:parts ( :EducationalOrganizationPrompt :EducationalOrganizationAutocomplete ) .\n\n        :EducationalOrganizationPrompt a ui:Comment; ui:contents "Which Educational Organization?".\n\n        :EducationalOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Educational Organization in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q2385804>; # EducationalOrganization\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n    :ResearchOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :ResearchOrganizationPrompt :ResearchOrganizationAutocomplete ) .\n\n        :ResearchOrganizationPrompt a ui:Comment; ui:contents "Which Research Organization?".\n\n        :ResearchOrganizationAutocomplete\n        a ui:AutocompleteField; ui:label "Research Insitute in wikidata";\n             ui:size 60;\n             ui:targetClass  <http://www.wikidata.org/entity/Q31855>; # research institute\n             ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :NGOForm a ui:Group; ui:weight 0; ui:parts ( :NGOPrompt :NGOAutocomplete ) .\n\n      :NGOPrompt a ui:Comment; ui:contents "Which NGO?".\n\n      :NGOAutocomplete\n      a ui:AutocompleteField; ui:label "NGO in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q163740>; # Non-profit org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :PerformingGroupForm a ui:Group; ui:weight 0; ui:parts ( :PerformingGroupPrompt :PerformingGroupAutocomplete ) .\n\n      :PerformingGroupPrompt a ui:Comment; ui:contents "Which PerformingGroup?".\n\n      :PerformingGroupAutocomplete\n      a ui:AutocompleteField; ui:label "PerformingGroup in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q32178211>; # Music Org\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n\n  :ProjectForm a ui:Group; ui:weight 0; ui:parts ( :ProjectPrompt :ProjectAutocomplete ) . #  :ProjectAutocomplete - no: supress, as not in WD\n\n      :ProjectPrompt a ui:Comment; ui:contents "Which Project?".\n\n      :ProjectAutocomplete\n      a ui:AutocompleteField; ui:label "Project in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q170584>; # Project\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n  :SportsOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :SportsOrganizationPrompt :SportsOrganizationAutocomplete ) .\n\n      :SportsOrganizationPrompt a ui:Comment; ui:contents "Which Sports Organization?".\n\n      :SportsOrganizationAutocomplete\n      a ui:AutocompleteField; ui:label "SportsOrganization in wikidata";\n           ui:size 60;\n           ui:targetClass  <http://www.wikidata.org/entity/Q4438121>; # SportsOrganization\n           ui:property solid:publicId; ui:dataSource :WikidataInstancesByName.\n\n   :OtherOrganizationForm a ui:Group; ui:weight 0; ui:parts ( :OrganizationNameField :homePageURIField ) .\n\n  #################### Skills\n\n  :SkillsPrompt a ui:Comment; ui:contents  "Skills?" .\n\n  :SkillsForm a ui:Multiple;\n      ui:label "Skills";\n      ui:property schema:skills;\n      ui:ordered false; # Allow reader to order skills\n      ui:part :SkillForm.\n\n  :SkillForm a ui:Group; ui:weight 1; ui:parts ( :escoSkillField ).\n\n        # :skillNameField a ui:SingleLineTextField; ui:property vcard:role; ui:size 30 .\n\n        :escoSkillField a ui:AutocompleteField;\n              ui:label "skill"; ui:size 30;\n              ui:property solid:publicId;\n              ui:dataSource :ESCO_Skill_DataSource;\n               ui:targetClass schema:Skill .\n\n        :ESCO_Skill_DataSource a ui:DataSource;\n           schema:name "ESCO Skill";\n           ui:targetClass esco:Skill ;\n           schema:logo <https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif>;\n           ui:searchByNameURI "https://ec.europa.eu/esco/api/search?language=$(language)&limit=$(limit)&type=skill&text=$(name)".\n\n# Language\n\n:LanguagesPrompt a ui:Comment; ui:contents  "Languages?" .\n\n:LanguagesForm a ui:Multiple;\n    ui:label "Languages";\n    ui:property schema:knowsLanguage; # @@@\n    ui:ordered true; # Allow user to order languages most important first.\n    ui:part :LanguageForm.\n\n:LanguageForm a ui:Group; ui:weight 1; ui:parts ( :WikidataLanguageField ).\n\n    :WikidataLanguageField a ui:AutocompleteField;\n          ui:label "Language"; ui:size 30;\n          ui:property solid:publicId; # @@\n          ui:dataSource :WikidataLanguageDataSource;\n           ui:targetClass schema:Language .\n\n    :WikidataLanguageDataSource\n        schema:name "Wikidata languages";\n        ui:endpoint "https://query.wikidata.org/sparql" ;\n        ui:objectURIBase <https://www.w3.org/ns/iana/language-code/>;\n        # Add this to any literal string returned as ?subject\n\n         ui:searchByNameQuery """SELECT ?item ?subject ?name\nWHERE\n{ ?item wdt:P305 ?subject .\n  OPTIONAL {?item rdfs:label ?name}\n  OPTIONAL {?item wdt:P1705 ?name}\n  FILTER regex(?name, "$(name)", "i")\n  FILTER regex(?subject, "^..$", "i")\n}""" .\n # Note we restrict code to two-letter codes with the second regex, so as to limit the deluge of languages\n # Hope there are not any important ones which have three-letter codes.\n # Omitted: SERVICE wikibase:label { bd:serviceParam wikibase:language "$(languages)". }\n\n########### Social Media - other accounts\n#\n# Twitter, Linked In, Orkid, Mastodon, Matrix, Bluesky, Instagram, Facebook, Github,\n# Snapchat, TikTok, etc\n\n:SocialsPrompt a ui:Heading; ui:contents  "Social Media etc?" .\n:SocialsPrompt a ui:Comment; ui:contents  "Link to accounts in social media sites, etc" .\n\n:SocialsForm a ui:Multiple;\n    ui:label "online account";\n    ui:property foaf:account;\n    ui:ordered true; # Allow user to order occounts most important first.\n    ui:part :AccountsForm.\n\n:AccountsForm a ui:Group; ui:weight 1; ui:parts ( :AccountField :AccountIdField ).\n\n:AccountField a ui:Classifier; ui:label "What sort of account?"@en;\n      ui:multiple false ; \n      ui:category foaf:Account  .\n\n:AccountIdField a ui:Options . \n\n  :AccountIdField a ui:Options; ui:dependingOn rdf:type; ui:case\n     [ ui:for soc:BlueSkyAccount; ui:use :BlueSkyIdField ],\n     [ ui:for soc:FacebookAccount; ui:use :FacebookIdField ],\n     [ ui:for soc:GithubAccount; ui:use :GithubIdField ],\n     [ ui:for soc:InstagramAccount; ui:use :InstagramIdField ],\n     [ ui:for soc:LinkedInAccount; ui:use :LinkedInIdField ],\n     [ ui:for soc:MastodonAccount; ui:use :MastodonIdField ],\n     [ ui:for soc:MatrixAccount; ui:use :MatrixIdField ],\n     [ ui:for soc:MediumAccount; ui:use :MediumIdField ],\n     [ ui:for soc:NostrAccount; ui:use :NostrIdField ],\n     [ ui:for soc:OrcidAccount; ui:use :OrcidIdField ],\n     [ ui:for soc:PinterestAccount; ui:use :PinterestIdField ],\n     [ ui:for soc:RedditAccount; ui:use :RedditIdField ],\n     [ ui:for soc:StravaAccount; ui:use :StravaIdField ],\n     [ ui:for soc:SnapchatAccount; ui:use :SnapchatIdField ],\n     [ ui:for soc:TiktokAccount; ui:use :TiktokIdField ],\n     [ ui:for soc:TumblrAccount; ui:use :TumblrIdField ],\n     [ ui:for soc:TwitterAccount; ui:use :TwitterIdField ],\n     [ ui:for soc:OtherAccount; ui:use :OtherIdForm  ] .\n\n  :BlueSkyIdField\n      a ui:SingleLineTextField ;\n      ui:label "Bluesky Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-](.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :FacebookIdField\n      a ui:SingleLineTextField ;\n      ui:label "Facebook Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :GithubIdField\n      a ui:SingleLineTextField ;\n      ui:label "Github Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :InstagramIdField\n      a ui:SingleLineTextField ;\n      ui:label "Instagram Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :LinkedInIdField\n      a ui:SingleLineTextField ;\n      ui:label "Linked In Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MastodonIdField\n      a ui:SingleLineTextField ;\n      ui:label "Mastodon (Activity Pub) Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MatrixIdField\n      a ui:SingleLineTextField ;\n      ui:label "Matrix Username";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :MediumIdField\n      a ui:SingleLineTextField ;\n      ui:label "Medium Username";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    40 .\n\n  :NostrIdField\n      a ui:SingleLineTextField ;\n      ui:label "Nostr public key";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*(.[a-z0-9A-Z_-])*";  # @@\n      ui:size    70 .\n\n  :OrcidIdField\n      a ui:SingleLineTextField ;\n      ui:label "ORCiD id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :PinterestIdField\n      a ui:SingleLineTextField ;\n      ui:label "Pinterest id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :RedditIdField\n      a ui:SingleLineTextField ;\n      ui:label "Reddit Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :StravaIdField\n      a ui:SingleLineTextField ;\n      ui:label "Strava Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :SnapchatIdField\n      a ui:SingleLineTextField ;\n      ui:label "Snapchat Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TiktokIdField\n      a ui:SingleLineTextField ;\n      ui:label "Tiktok Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TumblrIdField\n      a ui:SingleLineTextField ;\n      ui:label "Tumblr user name";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n  :TwitterIdField\n      a ui:SingleLineTextField ;\n      ui:label "Twitter Id";\n      ui:maxLength "200" ;\n      ui:property foaf:accountName ; \n      ui:pattern "@[a-z0-9A-Z_-]*";  # @@\n      ui:size    40 .\n\n# an unknown SN account needs more info\n\n  :OtherIdForm a ui:Group; ui:weight 0; ui:parts ( :OtherIdField :OtherIconField :OtherLabelield ).\n\n  :OtherIdField\n      a ui:NamedNodeURIField ;\n      ui:label "URL of account to link to";\n      ui:maxLength "200" ;\n      ui:property foaf:homepage ; \n      ui:size    60 .\n\n  :OtherLabelield\n      a ui:SingleLineTextField ;\n      ui:label "Label";\n      ui:maxLength "200" ;\n      ui:property rdfs:label ; \n      ui:size    40 .\n\n  :OtherIconField\n      a ui:NamedNodeURIField ;\n      ui:label "URL of icon to display";\n      ui:maxLength "200" ;\n      ui:property foaf:icon ;\n      ui:size    60 .\n\n\n\n\n\n# ENDS\n',o=i.icons.iconBase+"noun_10636_grey.svg";function s(e){const t=e.sym("https://solidos.github.io/profile-pane/src/ontology/profileForm.ttl#this").doc();e.holds(void 0,void 0,void 0,t)||(0,r.parse)(a,e,t.uri,"text/turtle",()=>null)}},6298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(500);const i={icon:r.icons.iconBase+"padlock-timbl.svg",name:"sharing",label:(e,t)=>{const n=t.session.store.findTypeURIs(e);return n[r.ns.ldp("Resource").uri]||n[r.ns.ldp("Container").uri]||n[r.ns.ldp("BasicContainer").uri]?"Sharing":null},render:(e,t)=>{const n=t.dom,i=t.session.store,a=function(){const t=i.findTypeURIs(e);if(t[r.ns.ldp("BasicContainer").uri]||t[r.ns.ldp("Container").uri])return"folder";return"file"}(),o=n.createElement("div");return o.classList.add("sharingPane"),r.aclControl.preventBrowserDropEvents(n),o.appendChild(r.aclControl.ACLControlBox5(e,t,a,i)),o}};t.default=i},6303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortChatPane=void 0;var r=n(9332),i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));const a=i.ns;t.shortChatPane={icon:i.icons.iconBase+"noun_346319.svg",name:"chat",audience:[a.solid("PowerUser")],label:function(e,t){const n=t.session.store,r=n.each(e,a.wf("message")).length;return r>0?"Chat ("+r+")":n.holds(e,a.rdf("type"),a.meeting("Chat"))?"Meeting chat":n.holds(void 0,a.rdf("type"),a.foaf("ChatChannel"),e)?"IRC log":null},mintClass:a.meeting("Chat"),mintNew:function(e,t){if(!confirm("short Chat is deprecated in favor of long Chat.\nEmbedded chat for comments and existing short Chats will work.\nYou can report any issues at https://github.com/SolidOS/chat-pane ?\n\nDo you really want to create a new deprecated short Chat?"))return;const n=e.session.store,r=n.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);const i=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),o=i.doc();return n.add(i,a.rdf("type"),a.meeting("Chat"),o),n.add(i,a.dc("title"),"Chat",o),n.add(i,a.dc("created"),new Date,o),t.me&&n.add(i,a.dc("author"),t.me,o),new Promise(function(e,i){r.put(o,n.statementsMatching(void 0,void 0,void 0,o),"text/turtle",function(n,r,a){r?e(t):i(new Error("FAILED to save new tool at: "+n+" : "+a))})})},render:function(e,t){const n=t.session.store,o=t.dom,s=o.createElement("div");s.setAttribute("class","chatPane");const l={};let c;if(n.holds(e,a.rdf("type"),a.meeting("Chat")))c=e.doc();else if(n.any(e,i.ns.wf("message")))c=r.store.any(e,i.ns.wf("message")).doc();else if(n.holds(void 0,a.rdf("type"),a.foaf("ChatChannel"),e)||n.holds(e,a.rdf("type"),a.foaf("ChatChannel"))){const t=function(){const e=new $rdf.Query("IRC log entries"),t=[];return["chan","msg","date","list","pred","creator","content"].forEach(function(n){e.vars.push(t[n]=$rdf.variable(n))}),e.pat.add(t.chan,a.foaf("chatEventList"),t.list),e.pat.add(t.list,t.pred,t.msg),e.pat.add(t.msg,a.dc("date"),t.date),e.pat.add(t.msg,a.dc("creator"),t.creator),e.pat.add(t.msg,a.dc("description"),t.content),e};c=e.doc(),l.query=t()}else!function(e,t){const n=o.createElement("pre");n.setAttribute("style","background-color: "+t||0),s.appendChild(n),n.appendChild(o.createTextNode(e))}("Unknown chat type");return s.appendChild(i.messageArea(o,n,e,c,l)),n.updater.addDownstreamChangeListener(c,function(){i.widgets.refreshTree(s)}),s}}},6305:e=>{e.exports&&(e.exports=function(e,t){if(void 0===n)var n=t.dom;var r=n.querySelectorAll(e),i={init:function(e,t){this.counter=0,this.el=e,this.$items=e.querySelectorAll("figure"),this.numItems=this.$items.length,(t=t||{}).auto=t.auto||!1,this.opts={auto:void 0!==t.auto&&t.auto,speed:void 0===t.auto.speed?1500:t.auto.speed,pauseOnHover:void 0!==t.auto.pauseOnHover&&t.auto.pauseOnHover,fullScreen:void 0!==t.fullScreen&&t.fullScreen,swipe:void 0!==t.swipe&&t.swipe},this.$items[0].classList.add("bss-show"),this.injectControls(e),this.addEventListeners(e),this.opts.auto&&this.autoCycle(this.el,this.opts.speed,this.opts.pauseOnHover),this.opts.fullScreen&&this.addFullScreen(this.el),this.opts.swipe&&this.addSwipe(this.el)},showCurrent:function(e){this.counter=e>0?this.counter+1===this.numItems?0:this.counter+1:this.counter-1<0?this.numItems-1:this.counter-1,[].forEach.call(this.$items,function(e){e.classList.remove("bss-show")}),this.$items[this.counter].classList.add("bss-show")},injectControls:function(e){var t=n.createElement("span"),r=n.createElement("span"),i=n.createDocumentFragment();t.classList.add("bss-prev"),r.classList.add("bss-next"),t.innerHTML="&laquo;",r.innerHTML="&raquo;",i.appendChild(t),i.appendChild(r),e.appendChild(i)},addEventListeners:function(e){var t=this;e.querySelector(".bss-next").addEventListener("click",function(){t.showCurrent(1)},!1),e.querySelector(".bss-prev").addEventListener("click",function(){t.showCurrent(-1)},!1),e.onkeydown=function(e){37===(e=e||window.event).keyCode?t.showCurrent(-1):39===e.keyCode&&t.showCurrent(1)}},autoCycle:function(e,t,n){var r=this,i=window.setInterval(function(){r.showCurrent(1)},t);n&&(e.addEventListener("mouseover",function(){i=clearInterval(i)},!1),e.addEventListener("mouseout",function(){i=window.setInterval(function(){r.showCurrent(1)},t)},!1))},addFullScreen:function(e){var t=this,r=n.createElement("span");r.classList.add("bss-fullscreen"),e.appendChild(r),e.querySelector(".bss-fullscreen").addEventListener("click",function(){t.toggleFullScreen(e)},!1)},addSwipe:function(e){var t=this,n=new Hammer(e);n.on("swiperight",function(e){t.showCurrent(-1)}),n.on("swipeleft",function(e){t.showCurrent(1)})},toggleFullScreen:function(e){n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen():n.documentElement.requestFullscreen?e.requestFullscreen():n.documentElement.msRequestFullscreen?e.msRequestFullscreen():n.documentElement.mozRequestFullScreen?e.mozRequestFullScreen():n.documentElement.webkitRequestFullscreen&&e.webkitRequestFullscreen(e.ALLOW_KEYBOARD_INPUT)}};[].forEach.call(r,function(e){Object.create(i).init(e,t)})})},6320:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},a={};a[n]=0;var o,s,l,c,u,p,d,f=t.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(l in s=(o=f.pop()).value,c=o.cost,u=e[s]||{})u.hasOwnProperty(l)&&(p=c+u[l],d=a[l],(void 0===a[l]||d>p)&&(a[l]=p,f.push(l,p),i[l]=s));if(void 0!==r&&void 0===a[r]){var h=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},6357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>function(t){const n=e.createElement("a");let r="NamedNode"===t.termType?t.uri:t.value;const i=r.indexOf("mailto:");return r=i>=0?r.slice(i+7):r,n.setAttribute("href","mailto:"+r),n.appendChild(e.createTextNode(r)),n}},6380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(500),a=n(8230),o=n(23),s=(r=n(5454))&&r.__esModule?r:{default:r};const l={icon:i.icons.originalIconBase+"tango/22-text-x-generic.png",name:"humanReadable",label:function(e,t){const n=t.session.store,r=["text/plain","text/html","text/markdown","application/xhtml+xml","image/png","image/jpeg","application/pdf","video/mp4"];if(!e.uri)return null;return n.findTypeURIs(e)[i.ns.link("WebPage").uri]?"view":function(e,t,n){const r=e.fetcher.getHeader(t,"content-type");if(r)for(let e=0;e<r.length;e++)for(let t=0;t<n.length;t++)if(r[e].indexOf(n[t])>=0)return!0;return!1}(n,e,r)||function(e,t,n){const r=e.findTypeURIs(t);for(let e=0;e<n.length;e++)if(a.Util.mediaTypeClass(n[e]).uri in r)return!0;return!1}(n,e,r)?"View":null},render:function(e,t){const n=t.dom,r=n.createElement("div"),i=t.session.store,a=i.fetcher.getHeader(e.doc(),"content-type"),l=a?a[0].split(";",1)[0].trim():null;r.setAttribute("class","docView");const c="text/markdown"===l?"DIV":"IFRAME",u=n.createElement(c);"text/markdown"===l?i.fetcher.webOperation("GET",e.uri).then(e=>{const t=e.responseText,n=Math.min(30,t.split(/\n/).length+5),r=o.marked.parse(t),i=s.default.sanitize(r);u.innerHTML=i,u.setAttribute("class","doc"),u.setAttribute("style",`border: 1px solid; padding: 1em; height: ${n}em; width: 800px; resize: both; overflow: auto;`)}).catch(e=>{u.innerHTML="<p>Error loading content</p>"}):i.fetcher._fetch(e.uri).then(e=>e.blob()).then(e=>(e.type.startsWith("text")?e.text():Promise.resolve("")).then(t=>({blob:e,blobText:t}))).then(({blob:e,blobText:t})=>{const n=t.includes('<script src="https://dokie.li/scripts/dokieli.js">')?-10:5,r=Math.min(30,t.split(/\n/).length+n);((e,t,n)=>{e.setAttribute("src",URL.createObjectURL(t)),e.setAttribute("type",t.type),e.setAttribute("class","doc"),e.setAttribute("style",`border: 1px solid; padding: 1em; height: ${n}em; width: 800px; resize: both; overflow: auto;`),"text/html"!==t.type&&"application/xhtml+xml"!==t.type||e.setAttribute("sandbox","allow-scripts allow-same-origin")})(u,e,r)}).catch(e=>{});const p=n.createElement("TR");return p.appendChild(u),r.appendChild(p),r}};t.default=l},6421:(e,t,n)=>{const r=n(6886).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),a=[n-7];for(let e=1;e<t-1;e++)a[e]=a[e-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([r[e],r[t]]);return n}},6540:(e,t,n)=>{"use strict";e.exports=n(9869)},6682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.default={icon:r.icons.iconBase+"noun_170702.svg",name:"ui",audience:[o.solid("PowerUser")],label:function(e,t){const n=r.ns,i=t.session.store.findTypeURIs(e);return i[n.rdfs("Class").uri]?"creation forms":i[n.ui("Form").uri]?"edit form":null},render:function(e,t){const n=t.dom,a=t.session.store,o=r.ns,s=n.createElement("div");s.setAttribute("class","formPane");const l=r.utils.label(e),c=function(e,t){const r=n.createElement("p");return r.setAttribute("style",t||"color: grey; background-color: white"),s.appendChild(r).textContent=e,r},u=function(e,t){c(e,"style")},p=function(e,t){e||u("Sorry, failed to save your change:\n"+t)},d=a.findTypeURIs(e);let f,h,m=null;e.uri&&(f=i.Util.uri.docpart(e.uri),e.uri!==f&&a.updater.editable(f)&&(m=a.sym(i.Util.uri.docpart(e.uri)))),m||(m=a.any(a.sym(f),o.link("annotationStore"))),m||(m=r.widgets.defaultAnnotationStore(e)),m||(m=a.sym("https://formsregistry.solid.community/public/formRegistry/")),d[o.rdfs("Class").uri];const g=c("(Loading data from: "+m+")");return a.fetcher.nowOrWhenFetched(m.uri,e,function(i,f){if(i)if(s.removeChild(g),d[o.rdfs("Class").uri]){const i=function(i,d){const f=a.statementsMatching(e,i),h=t.getOutliner(n);if(f.length){for(let t=0;t<f.length;t++){h.appendPropertyTRs(s,[f[t]]);const i=f[t].object,l=n.createElement("td");s.lastChild.appendChild(l),d&&l.appendChild(r.widgets.newButton(n,a,null,null,e,i,m,function(e,t){e||u("Sorry, failed to save your change:\n"+t)}));let c=a.statementsMatching(i,o.rdf("type"));c.length||(c=a.statementsMatching(i)),c.length?r.widgets.editFormButton(n,s,i,c[0].why,p):u("No data about form")}s.appendChild(n.createElement("hr"))}else c("There are currently no known forms to make a "+l+".")};h=o.ui("creationForm"),s.appendChild(n.createElement("h2")).textContent=r.utils.label(h),c("Creation forms allow you to add information about a new thing, in this case a new "+l+"."),i(h,!0),s.appendChild(n.createElement("hr")),c("You can make a new creation form:"),s.appendChild(r.widgets.newButton(n,a,e,h,o.ui("Form"),null,m,p)),s.appendChild(n.createElement("hr")),h=o.ui("annotationForm"),s.appendChild(n.createElement("h2")).textContent=r.utils.label(h),c("Annotaion forms allow you to add extra information about a ,"+l+" we already know about."),i(h,!1),s.appendChild(n.createElement("hr")),c("You can make a new annotation form:"),s.appendChild(r.widgets.newButton(n,a,e,h,o.ui("Form"),null,m,p)),c("(Storing new forms in: "+m+")")}else d[o.ui("Form").uri]?r.widgets.appendForm(n,s,a,e,o.ui("FormForm"),m,p):u("ui/pane internal error -- Eh?");else u("Cannot load store "+m+" :"+f)}),s}}},6686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.default={icon:r.icons.iconBase+"noun_534313.svg",name:"audio",label:function(e,t){const n=t.session.store.findTypeURIs(e),r=i.Util.mediaTypeClass("audio/*").uri.split("*")[0];for(const e in n)if(e.startsWith(r))return"Play audio";return null},render:function(e,t){const n=t.session.store,r=t.dom,i=!1,a=!0,s=!0,l=!1,c=function(e){const t=e.lastIndexOf(".");if(t<0)return e;return t<e.lastIndexOf("/")?e:e.slice(0,t)},u=function(e){const t=e.uri.split("/").slice(-3),n=function(e){try{return decodeURIComponent(e)}catch(t){return e}};v.textContent=n(t[0]),b.textContent=n(t[1]),y.textContent=n(c(t[2]))},p=function(e,t){return new Promise(function(r){if(t=t||0,!a)return r(null);const i=n.any(void 0,o.ldp("contains"),e)||e.dir();if(!i)return r(null);n.fetcher.load(i).then(function(a){const c=n.each(i,o.ldp("contains"));let u;c.sort();for(let a=0;a<c.length;a++)if(e.uri===c[a].uri){if(u=(a+1)%c.length,0!==u)return r(c[u]);if(!s)return r(l?c[u]:null);if(1===t||!s)return r(null);p(i,t+1).then(function(e){e&&n.fetcher.load(e).then(function(t){const i=n.each(e,o.ldp("contains"));return 0===i.length?r(null):(i.sort(),r(i[0]))})})}})})},d=function(e){const t=n.sym(e.target.getAttribute("src"));if(!a)return;const r=function(t){p(t).then(function(t){t&&(!function(e){const t=n.any(void 0,o.ldp("contains"),e);if(!t)return!1;const r=n.each(t,o.ldp("contains"));if(r.length<2)return!1;const i=e.uri;for(let e=0;e<r.length;e++){const t=r[e].uri;if(i.length>t.length&&i.startsWith(c(t)))return!0;if(i.endsWith(".m4a")&&t.endsWith(".mp3")&&c(i)===c(t))return!0}return!1}(t)?(u(t),w.appendChild(f(t,!0)),w.removeChild(e.target)):r(t))})};r(t)},f=function(e,t){const i=r.createElement("audio");return i.setAttribute("controls","yes"),n.fetcher._fetch(e.uri).then(function(e){return e.blob()}).then(function(e){const t=URL.createObjectURL(e);i.setAttribute("src",t)}),t&&i.setAttribute("autoplay","autoplay"),i.addEventListener("ended",d,!1),i},h=r.createElement("div"),m=h.appendChild(r.createElement("table")),g="padding: 0.3em; color:white; background-color: black;",v=m.appendChild(r.createElement("tr"));v.style.cssText=g;const b=m.appendChild(r.createElement("tr"));b.style.cssText=g;const y=m.appendChild(r.createElement("tr"));y.style.cssText=g;const w=m.appendChild(r.createElement("tr"));return u(e),w.appendChild(f(e,i)),!n.holds(void 0,o.ldp("contains"),e)&&e.dir()&&n.fetcher.load(e.dir()),h}}},6752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{_$LH:()=>H,html:()=>E,mathml:()=>S,noChange:()=>A,nothing:()=>T,render:()=>$,svg:()=>C});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const r=globalThis,i=r.trustedTypes,a=i?i.createPolicy("lit-html",{createHTML:e=>e}):void 0,o="$lit$",s=`lit$${Math.random().toFixed(9).slice(2)}$`,l="?"+s,c=`<${l}>`,u=document,p=()=>u.createComment(""),d=e=>null===e||"object"!=typeof e&&"function"!=typeof e,f=Array.isArray,h=e=>f(e)||"function"==typeof e?.[Symbol.iterator],m="[ \t\n\f\r]",g=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,b=/>/g,y=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,x=/"/g,k=/^(?:script|style|textarea|title)$/i,_=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),E=_(1),C=_(2),S=_(3),A=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),R=new WeakMap,P=u.createTreeWalker(u,129);function F(e,t){if(!f(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==a?a.createHTML(t):t}const I=(e,t)=>{const n=e.length-1,r=[];let i,a=2===t?"<svg>":3===t?"<math>":"",l=g;for(let t=0;t<n;t++){const n=e[t];let u,p,d=-1,f=0;for(;f<n.length&&(l.lastIndex=f,p=l.exec(n),null!==p);)f=l.lastIndex,l===g?"!--"===p[1]?l=v:void 0!==p[1]?l=b:void 0!==p[2]?(k.test(p[2])&&(i=RegExp("</"+p[2],"g")),l=y):void 0!==p[3]&&(l=y):l===y?">"===p[0]?(l=i??g,d=-1):void 0===p[1]?d=-2:(d=l.lastIndex-p[2].length,u=p[1],l=void 0===p[3]?y:'"'===p[3]?x:w):l===x||l===w?l=y:l===v||l===b?l=g:(l=y,i=void 0);const h=l===y&&e[t+1].startsWith("/>")?" ":"";a+=l===g?n+c:d>=0?(r.push(u),n.slice(0,d)+o+n.slice(d)+s+h):n+s+(-2===d?t:h)}return[F(e,a+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class N{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let a=0,c=0;const u=e.length-1,d=this.parts,[f,h]=I(e,t);if(this.el=N.createElement(f,n),P.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=P.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(o)){const t=h[c++],n=r.getAttribute(e).split(s),i=/([.?@])?(.*)/.exec(t);d.push({type:1,index:a,name:i[2],strings:n,ctor:"."===i[1]?D:"?"===i[1]?U:"@"===i[1]?B:M}),r.removeAttribute(e)}else e.startsWith(s)&&(d.push({type:6,index:a}),r.removeAttribute(e));if(k.test(r.tagName)){const e=r.textContent.split(s),t=e.length-1;if(t>0){r.textContent=i?i.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],p()),P.nextNode(),d.push({type:2,index:++a});r.append(e[t],p())}}}else if(8===r.nodeType)if(r.data===l)d.push({type:2,index:a});else{let e=-1;for(;-1!==(e=r.data.indexOf(s,e+1));)d.push({type:7,index:a}),e+=s.length-1}a++}}static createElement(e,t){const n=u.createElement("template");return n.innerHTML=e,n}}function O(e,t,n=e,r){if(t===A)return t;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const a=d(t)?void 0:t._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),void 0===a?i=void 0:(i=new a(e),i._$AT(e,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(t=O(e,i._$AS(e,t.values),i,r)),t}class L{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??u).importNode(t,!0);P.currentNode=r;let i=P.nextNode(),a=0,o=0,s=n[0];for(;void 0!==s;){if(a===s.index){let t;2===s.type?t=new j(i,i.nextSibling,this,e):1===s.type?t=new s.ctor(i,s.name,s.strings,this,e):6===s.type&&(t=new z(i,this,e)),this._$AV.push(t),s=n[++o]}a!==s?.index&&(i=P.nextNode(),a++)}return P.currentNode=u,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class j{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=O(this,e,t),d(e)?e===T||null==e||""===e?(this._$AH!==T&&this._$AR(),this._$AH=T):e!==this._$AH&&e!==A&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):h(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==T&&d(this._$AH)?this._$AA.nextSibling.data=e:this.T(u.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=N.createElement(F(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new L(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=R.get(e.strings);return void 0===t&&R.set(e.strings,t=new N(e)),t}k(e){f(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new j(this.O(p()),this.O(p()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class M{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=T,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=T}_$AI(e,t=this,n,r){const i=this.strings;let a=!1;if(void 0===i)e=O(this,e,t,0),a=!d(e)||e!==this._$AH&&e!==A,a&&(this._$AH=e);else{const r=e;let o,s;for(e=i[0],o=0;o<i.length-1;o++)s=O(this,r[n+o],t,o),s===A&&(s=this._$AH[o]),a||=!d(s)||s!==this._$AH[o],s===T?e=T:e!==T&&(e+=(s??"")+i[o+1]),this._$AH[o]=s}a&&!r&&this.j(e)}j(e){e===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class D extends M{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===T?void 0:e}}class U extends M{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==T)}}class B extends M{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=O(this,e,t,0)??T)===A)return;const n=this._$AH,r=e===T&&n!==T||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==T&&(n===T||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class z{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){O(this,e)}}const H={M:o,P:s,A:l,C:1,L:I,R:L,D:h,V:O,I:j,H:M,N:U,U:B,B:D,F:z},q=r.litHtmlPolyfillSupport;q?.(N,j),(r.litHtmlVersions??=[]).push("3.3.1");const $=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(void 0===i){const e=n?.renderBefore??null;r._$litPart$=i=new j(t.insertBefore(p(),e),e,void 0,n??{})}return i._$AI(e),i}},6756:(e,t,n)=>{const r=n(2726);function i(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function a(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){const o=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*o.margin,u=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",p="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,o=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||o||(o=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(r+=o?a("M",c+n,.5+u+n):a("m",i,0),i=0,o=!1),c+1<t&&e[l+1]||(r+=a("h",s),s=0)):i++}return r}(l,s,o.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+p+"</svg>\n";return"function"==typeof n&&n(null,f),f}},6778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}t.default={icon:r.icons.iconBase+"noun_1619.svg",name:"video",label:function(e,t){const n=t.session.store.findTypeURIs(e),r=i.Util.mediaTypeClass("video/*").uri.split("*")[0];for(const e in n)if(e.startsWith(r))return"Play video";return null},render:function(e,t){const n=t.session.store,r=t.dom,i=r.createElement("div"),a=i.appendChild(r.createElement("video"));return a.setAttribute("controls","yes"),n.fetcher._fetch(e.uri).then(function(e){return e.blob()}).then(function(e){const t=URL.createObjectURL(e);a.setAttribute("src",t)}),a.setAttribute("width","100%"),i}}},6813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createContext=function(e,t,n,i){return{dom:e,getOutliner:r.getOutliner,session:{paneRegistry:t,store:n,logic:i}}};var r=n(7523)},6886:(e,t)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,console&&console.warn}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=h(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7044:(e,t)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const a=new RegExp("^"+r+"$"),o=new RegExp("^"+n+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},7052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getChat",{enumerable:!0,get:function(){return a.getChat}}),Object.defineProperty(t,"longChatPane",{enumerable:!0,get:function(){return i.longChatPane}}),Object.defineProperty(t,"shortChatPane",{enumerable:!0,get:function(){return r.shortChatPane}});var r=n(6303),i=n(8055),a=n(701)},7132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outlineIcons=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));const i=t.outlineIcons={};i.src=[],i.tooltips=[],i.src.icon_expand=r.icons.originalIconBase+"tbl-expand-trans.png",i.src.icon_more=r.icons.originalIconBase+"tbl-more-trans.png",i.src.icon_collapse=r.icons.originalIconBase+"tbl-collapse.png",i.src.icon_internals=r.icons.originalIconBase+"tango/22-emblem-system.png",i.src.icon_instances=r.icons.originalIconBase+"tango/22-folder-open.png",i.src.icon_foaf=r.icons.originalIconBase+"foaf/foafTiny.gif",i.src.icon_social=r.icons.originalIconBase+"social/social.gif",i.src.icon_mb=r.icons.originalIconBase+"microblog/microblog.png",i.src.icon_shrink=r.icons.originalIconBase+"tbl-shrink.png",i.src.icon_rows=r.icons.originalIconBase+"tbl-rows.png",i.src.icon_unrequested=r.icons.originalIconBase+"16dot-blue.gif",i.src.icon_fetched=r.icons.originalIconBase+"16dot-green.gif",i.src.icon_failed=r.icons.originalIconBase+"16dot-red.gif",i.src.icon_requested=r.icons.originalIconBase+"16dot-yellow.gif",i.src.icon_CVPane=r.icons.originalIconBase+"CV.png",i.src.icon_defaultPane=r.icons.originalIconBase+"about.png",i.src.icon_visit=r.icons.originalIconBase+"tango/22-text-x-generic.png",i.src.icon_dataContents=r.icons.originalIconBase+"rdf_flyer.24.gif",i.src.icon_n3Pane=r.icons.originalIconBase+"w3c/n3_smaller.png",i.src.icon_RDFXMLPane=r.icons.originalIconBase+"22-text-xml4.png",i.src.icon_imageContents=r.icons.originalIconBase+"tango/22-image-x-generic.png",i.src.icon_airPane=r.icons.originalIconBase+"1pt5a.gif",i.src.icon_LawPane=r.icons.originalIconBase+"law.jpg",i.src.icon_pushbackPane=r.icons.originalIconBase+"pb-logo.png",i.src.icon_photoPane=r.icons.originalIconBase+"photo_small.png",i.src.icon_tagPane=r.icons.originalIconBase+"tag_small.png",i.src.icon_TinyTag=r.icons.originalIconBase+"tag_tiny.png",i.src.icon_photoBegin=r.icons.originalIconBase+"photo_begin.png",i.src.icon_photoNext=r.icons.originalIconBase+"photo_next.png",i.src.icon_photoBack=r.icons.originalIconBase+"photo_back.png",i.src.icon_photoEnd=r.icons.originalIconBase+"photo_end.png",i.src.icon_photoImportPane=r.icons.originalIconBase+"flickr_small.png",i.src.icon_retract=r.icons.originalIconBase+"retract.gif",i.src.icon_refresh=r.icons.originalIconBase+"refresh.gif",i.src.icon_optoff=r.icons.originalIconBase+"optional_off.PNG",i.src.icon_opton=r.icons.originalIconBase+"optional_on.PNG",i.src.icon_map=r.icons.originalIconBase+"compassrose.png",i.src.icon_retracted=i.src.icon_unrequested,i.src.icon_retracted=i.src.icon_unrequested,i.src.icon_time=r.icons.originalIconBase+"icons/Wclocksmall.png",i.src.icon_telephone=r.icons.originalIconBase+"silk/telephone.png",i.src.icon_time=r.icons.originalIconBase+"Wclocksmall.png",i.src.icon_remove_node=r.icons.originalIconBase+"tbl-x-small.png",i.src.icon_add_triple=r.icons.originalIconBase+"tango/22-list-add.png",i.src.icon_add_new_triple=r.icons.originalIconBase+"tango/22-list-add-new.png",i.src.icon_show_choices=r.icons.originalIconBase+"userinput_show_choices_temp.png",i.src.icon_display_reasons=r.icons.originalIconBase+"tango/22-help-browser.png",i.tooltips[i.src.icon_display_reasons]="Display explanations",i.tooltips[i.src.icon_add_triple]="Add more",i.tooltips[i.src.icon_add_new_triple]="Add one",i.tooltips[i.src.icon_remove_node]="Remove",i.tooltips[i.src.icon_expand]="View details.",i.tooltips[i.src.icon_collapse]="Hide details.",i.tooltips[i.src.icon_shrink]="Shrink list.",i.tooltips[i.src.icon_internals]="Under the hood",i.tooltips[i.src.icon_instances]="List",i.tooltips[i.src.icon_foaf]="Friends",i.tooltips[i.src.icon_rows]="Make a table of data like this",i.tooltips[i.src.icon_unrequested]="Fetch this.",i.tooltips[i.src.icon_fetched]="Fetched successfully.",i.tooltips[i.src.icon_failed]="Failed to load. Click to retry.",i.tooltips[i.src.icon_requested]="This is being fetched. Please wait...",i.tooltips[i.src.icon_visit]="View document",i.tooltips[i.src.icon_retract]="Remove this source and all its data from tabulator.",i.tooltips[i.src.icon_refresh]="Refresh this source and reload its triples.",i.OutlinerIcon=function(e,t,n,r,i){return this.src=e,this.alt=n,this.width=t,this.tooltip=r,this.filter=i,this},i.termWidgets={},i.termWidgets.optOn=new i.OutlinerIcon(i.src.icon_opton,20,"opt on","Make this branch of your query mandatory."),i.termWidgets.optOff=new i.OutlinerIcon(i.src.icon_optoff,20,"opt off","Make this branch of your query optional."),i.termWidgets.addTri=new i.OutlinerIcon(i.src.icon_add_triple,18,"add tri","Add one")},7221:(e,t,n)=>{"use strict";const r=n(5606),{ArrayPrototypeSlice:i,Error:a,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:u,Symbol:p,SymbolHasInstance:d}=n(4641);e.exports=O,O.WritableState=I;const{EventEmitter:f}=n(7007),h=n(334).Stream,{Buffer:m}=n(5576),g=n(7647),{addAbortSignal:v}=n(810),{getHighWaterMark:b,getDefaultHighWaterMark:y}=n(3920),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:k,ERR_STREAM_CANNOT_PIPE:_,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:C,ERR_STREAM_NULL_VALUES:S,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:T}=n(8526).codes,{errorOrDestroy:R}=g;function P(){}c(O.prototype,h.prototype),c(O,h);const F=p("kOnFinished");function I(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(3559)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",r):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[F]=[]}function N(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function O(e){const t=this instanceof n(3559);if(!t&&!o(O,this))return new O(e);this._writableState=new I(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&v(e.signal,this)),h.call(this,e),g.construct(this,()=>{const e=this._writableState;e.writing||H(this,e),W(this,e)})}function L(e,t,n,i){const a=e._writableState;if("function"==typeof n)i=n,n=a.defaultEncoding;else{if(n){if("buffer"!==n&&!m.isEncoding(n))throw new T(n)}else n=a.defaultEncoding;"function"!=typeof i&&(i=P)}if(null===t)throw new S;if(!a.objectMode)if("string"==typeof t)!1!==a.decodeStrings&&(t=m.from(t,n),n="buffer");else if(t instanceof m)n="buffer";else{if(!h._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=h._uint8ArrayToBuffer(t),n="buffer"}let o;return a.ending?o=new A:a.destroyed&&(o=new E("write")),o?(r.nextTick(i,o),R(e,o,!0),o):(a.pendingcb++,function(e,t,n,r,i){const a=t.objectMode?1:n.length;t.length+=a;const o=t.length<t.highWaterMark;o||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1);return o&&!t.errored&&!t.destroyed}(e,a,t,n,i))}function j(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function M(e,t,n,r){--t.pendingcb,r(n),z(t),R(e,n)}function D(e,t){const n=e._writableState,i=n.sync,a=n.writecb;"function"==typeof a?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(M,e,n,t,a):M(e,n,t,a)):(n.buffered.length>n.bufferedIndex&&H(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===a?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:a,stream:e,state:n},r.nextTick(U,n.afterWriteTickInfo)):B(e,n,1,a))):R(e,new k)}function U({stream:e,state:t,count:n,cb:r}){return t.afterWriteTickInfo=null,B(e,t,n,r)}function B(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&z(t),W(e,t)}function z(e){if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){var t;const{chunk:r,callback:i}=e.buffered[n],a=e.objectMode?1:r.length;e.length-=a,i(null!==(t=e.errored)&&void 0!==t?t:new E("write"))}const n=e[F].splice(0);for(let t=0;t<n.length;t++){var r;n[t](null!==(r=e.errored)&&void 0!==r?r:new E("end"))}N(e)}function H(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:a}=t,o=n.length-r;if(!o)return;let s=r;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;const r=t.allNoop?P:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},a=t.allNoop&&0===s?n:i(n,s);a.allBuffers=t.allBuffers,j(e,t,!0,t.length,a,"",r),N(t)}else{do{const{chunk:r,encoding:i,callback:o}=n[s];n[s++]=null;j(e,t,!1,a?1:r.length,r,i,o)}while(s<n.length&&!t.writing);s===n.length?N(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function q(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)R(e,null!=i?i:k());else if(n=!0,t.pendingcb--,i){const n=t[F].splice(0);for(let e=0;e<n.length;e++)n[e](i);R(e,i,t.sync)}else q(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(V,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}function W(e,t,n){q(t)&&($(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick((e,t)=>{q(t)?V(e,t):t.pendingcb--},e,t)):q(t)&&(t.pendingcb++,V(e,t))))}function V(e,t){t.pendingcb--,t.finished=!0;const n=t[F].splice(0);for(let e=0;e<n.length;e++)n[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}I.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(I.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(O,d,{__proto__:null,value:function(e){return!!o(this,e)||this===O&&(e&&e._writableState instanceof I)}}),O.prototype.pipe=function(){R(this,new _)},O.prototype.write=function(e,t,n){return!0===L(this,e,t,n)},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||H(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=u(e)),!m.isEncoding(e))throw new T(e);return this._writableState.defaultEncoding=e,this},O.prototype._write=function(e,t,n){if(!this._writev)throw new x("_write()");this._writev([{chunk:e,encoding:t}],n)},O.prototype._writev=null,O.prototype.end=function(e,t,n){const i=this._writableState;let o;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){const n=L(this,e,t);n instanceof a&&(o=n)}return i.corked&&(i.corked=1,this.uncork()),o||(i.errored||i.ending?i.finished?o=new C("end"):i.destroyed&&(o=new E("end")):(i.ending=!0,W(this,i,!0),i.ended=!0)),"function"==typeof n&&(o||i.finished?r.nextTick(n,o):i[F].push(n)),this},l(O.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=g.destroy;let K;function J(){return void 0===K&&(K={}),K}O.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[F].length)&&r.nextTick(z,n),G.call(this,e,t),this},O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},O.fromWeb=function(e,t){return J().newStreamWritableFromWritableStream(e,t)},O.toWeb=function(e){return J().newWritableStreamFromStreamWritable(e)}},7334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.n3Pane=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.n3Pane={icon:r.icons.originalIconBase+"w3c/n3_smaller.png",name:"n3",audience:[o.solid("Developer")],label:function(e,t){const n=t.session.store;if("http://www.w3.org/2007/ont/link#ProtocolEvent"in n.findTypeURIs(e))return null;const r=n.statementsMatching(void 0,void 0,void 0,e).length;return 0===r?null:"Data ("+r+") as N3"},render:function(e,t){const n=t.dom,r=t.session.store,a=n.createElement("div");a.setAttribute("class","n3Pane");const o=r.statementsMatching(void 0,void 0,void 0,e),s=i.Serializer(r);s.suggestNamespaces(r.namespaces),s.setBase(e.uri);const l=s.statementsToN3(o),c=n.createElement("PRE");return c.appendChild(n.createTextNode(l)),a.appendChild(c),a}}},7339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInput=function e(t){const n=t.document;this.menuId="predicateMenu1";const s=function(e){},u=r.ns.rdf,p=o.Namespace("http://purl.org/ontology/bibo/"),d=o.Namespace("http://purl.org/dc/elements/1.1/");let f=!1;l||(l=new o.Formula,l.superFormula=i.store);c||(c=new o.IndexedFormula);c.name="TempFormula",i.store.updater||(i.store.updater=new o.UpdateManager(i.store));return{sparqler:i.store.updater,lastModified:null,lastModifiedStat:null,statIsInverse:!1,addNewPredicateObject:function(e){if("bottom-border-active"!==r.utils.getTarget(e).className)return;const a=t.UserInput,s=r.utils.getTarget(e),l=n.createElement("tr");r.utils.ancestor(s,"DIV").insertBefore(l,r.utils.ancestor(s,"TR"));const c=n.createElement("tr"),u=a.generateRequest("(TBD)",c,!0);l.appendChild(c.firstChild);const p=a.generateRequest("(Enter text or drag an object onto this field)",c,!1);if(l.appendChild(c.firstChild),r.utils.ancestor(s,"TR").previousSibling&&r.utils.ancestor(s,"TR").previousSibling.AJAR_statement){const e=r.utils.ancestor(s,"TR").previousSibling.AJAR_statement;a.formUndetStat(l,e.subject,u,p,e.why,!1)}else{const e=r.utils.getAbout(i.store,r.utils.ancestor(s.parentNode.parentNode,"TD")),t=i.store.sym(o.Util.uri.docpart(e.uri));a.formUndetStat(l,e,u,p,t,!1)}t.walk("moveTo",l.firstChild),r.log.info("addNewPredicateObject: selection = "+t.getSelection().map(function(e){return e.textContent}).join(", ")),this.startFillInText(t.getSelection()[0])},addNewObject:function(e){const n=r.utils.getTarget(e).parentNode.parentNode,i=n.parentNode.AJAR_inverse;this.lastModifiedStat=n.parentNode.AJAR_statement;const a=this.appendToPredicate(n),o=this.generateRequest(" (Error) ",a,!1),s=a.previousSibling.AJAR_statement;i?this.formUndetStat(a,o,s.predicate,s.object,s.why,!0):this.formUndetStat(a,s.subject,s.predicate,o,s.why,!1),t.walk("moveTo",a.lastChild),this.startFillInText(a.lastChild)},Delete:function(e){this.deleteTriple(e,!1)},Enter:function(e){this.literalModification(e)},Click:function(e){const t=r.utils.getTarget(e);"Literal"===r.utils.getTerm(t).termType&&(this.literalModification(t),e.preventDefault(),e.stopPropagation())},pasteFromClipboard:function(e,n){function i(e){const n=t.clipboard[e].shift();if(null!==n){switch(e){case"predicates":case"objects":{const e=t.clipboard.all;for(let t=0;;t++)if(n.sameTerm(e[t])){e.splice(t,1);break}break}case"all":throw new Error("hostorical code not understood - what is theCollection?")}return n}r.log.warn("no more element in clipboard!")}let a;switch(n.className){case"undetermined selected":if(a=n.nextSibling?i("predicates"):i("objects"),!a)return;break;case"pred selected":if(a=i("objects"),!a)return;break;case"selected":{const e=i("all");if(!e)return;return a=e[0],void this.insertTermTo(n,a,e[1])}}this.insertTermTo(n,a)},startFillInText:function(e){switch(this.whatSortOfEditCell(e)){case"DatatypeProperty-like":r.utils.emptyNode(e),this.lastModified=this.createInputBoxIn(e," (Please Input) "),this.lastModified.isNew=!1,this.lastModified.select();break;case"predicate":this.performAutoCompleteEdit(e,"PredicateAutoComplete");break;case"ObjectProperty-like":case"no-idea":this.performAutoCompleteEdit(e,"GeneralAutoComplete")}},literalModification:function(e){if(r.log.debug("entering literal Modification with "+e+e.textContent),-1!==e.className.indexOf(" pendingedit"))return r.log.warn("The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again."),!0;const t=e;if(!this.getStatementAbout(t))return;let a,o,s;try{a=r.utils.getTerm(t),o=r.utils.ancestor(t,"TR")}catch(n){r.log.warn("userinput.js: "+n+r.utils.getAbout(i.store,e)),r.log.error(t+" getStatement Error:"+n)}try{s=o.lastChild}catch(e){r.log.error(e+"@"+t)}if("Literal"===a.termType){if(s.removeChild(s.firstChild),a.value.match("\n")){const e=n.createElement("textarea");e.appendChild(n.createTextNode(a.value)),e.setAttribute("rows",(a.value.match(/\n/g).length+1).toString()),e.setAttribute("cols","100"),e.setAttribute("class","textinput"),s.appendChild(e),this.lastModified=e}else this.lastModified=this.createInputBoxIn(s,a.value);this.lastModified.isNew=!1,this.lastModified.select()}return!0},performAutoCompleteEdit:function(e,t){r.utils.emptyNode(e),this.lastModified=this.createInputBoxIn(e,""),this.lastModified.select(),this.lastModified.addEventListener("keypress",this.getAutoCompleteHandler(t),!1),this.getAutoCompleteHandler(t)(1)},backOut:function(){this.deleteTriple(this.lastModified.parentNode,!0),this.lastModified=null},clearMenu:function(){const e=n.getElementById(this.menuID);e&&e.parentNode.removeChild(e)},clearInputAndSave:function(e){let n;if(!this.lastModified)return;if(!this.lastModified.isNew)try{n=this.getStatementAbout(this.lastModified).object}catch(e){return}let s,l,c,p,d=this.lastModifiedStat;if(this.lastModified.value!==this.lastModified.defaultValue){let l;if(""===this.lastModified.value)return this.lastModified.value=this.lastModified.defaultValue,void this.clearInputAndSave();if(this.lastModified.isNew){d=new o.Statement(d.subject,d.predicate,i.store.literal(this.lastModified.value),d.why),s=this.views.defaults[d.predicate.uri],l=r.utils.ancestor(this.lastModified,"TR");try{i.store.updater.update([],[d],function(e,n,i){n||(r.log.error("Error occurs while inserting "+d+"\n\n"+i+"\n"),t.UserInput.deleteTriple(l.lastChild,!0))})}catch(e){return void r.log.error("Error inserting fact "+d+":\n\t"+e+"\n")}d=i.store.add(d.subject,d.predicate,i.store.literal(this.lastModified.value),d.why)}else{if(this.statIsInverse)return r.log.error("Invalid Input: a literal can't be a subject in RDF/XML"),void this.backOut();let s,c,p;switch(n.termType){case"Literal":{const t=this.lastModified.value;l=r.utils.ancestor(this.lastModified,"TR");const a=this.lastModified.defaultValue;c=o.st(d.subject,d.predicate,i.store.literal(this.lastModified.value),d.why);try{i.store.updater.update([d],[c],function(e,i,o){i?n.value=t:(r.log.warn("Error occurs while editing "+d+"\n\n"+o),l.lastChild.textContent=a),l.lastChild.className=l.lastChild.className.replace(/ pendingedit/g,"")})}catch(e){return void r.log.warn("Error occurs while editing "+d+":\n\t"+e)}break}case"BlankNode":{const n=i.store.literal(this.lastModified.value,"");if("Collection"!==d.predicate.termType)return void this.fillInRequest("object",this.lastModified.parentNode,i.store.literal(this.lastModified.value));{const f=d.predicate.elements[0];if(i.store.any(void 0,f,n)){if(!e){const t=this.lastModified.parentNode;(e={}).pageX=r.utils.findPos(t)[0],e.pageY=r.utils.findPos(t)[1]+t.clientHeight}this.showMenu(e,"DidYouMeanDialog",void 0,{dialogTerm:i.store.any(void 0,f,n),bnodeTerm:d.subject})}else{s=r.utils.ancestor(r.utils.ancestor(this.lastModified,"TR").parentNode,"TR").AJAR_statement,c=o.st(d.subject,f,n,d.why);const a=i.store.the(d.subject,u("type"));p=i.store.anyStatementMatching(d.subject,u("type"),a,d.why),l=r.utils.ancestor(r.utils.ancestor(this.lastModified,"TR"),"TD").parentNode;try{i.store.updater.update([],[s,c,p],function(e,n,r){n||t.UserInput.deleteTriple(l.lastChild,!0)})}catch(e){return}i.store.remove(d),i.store.add(d.subject,f,n,d.why)}const h=r.utils.ancestor(this.lastModified.parentNode.parentNode,"TD"),m=a.byName("default");t.outlineExpand(h,d.subject,{pane:m,already:!0}),t.walk("right",t.focusTd)}break}}}}else{if(this.lastModified.isNew)return l=r.utils.ancestor(this.lastModified,"TR"),c=this.generateRequest("(To be determined. Re-type of drag an object onto this field)"),p=l.previousSibling.AJAR_statement,this.formUndetStat(l,p.subject,p.predicate,c,p.why,!1),void(this.lastModified=null);if("Collection"===d.predicate.termType){i.store.removeMany(d.subject);const e=r.utils.ancestor(r.utils.ancestor(this.lastModified,"TR").parentNode,"TR");return p=e.AJAR_statement,c=this.generateRequest("(To be determined. Re-type of drag an object onto this field)"),this.formUndetStat(e,p.subject,p.predicate,c,p.why,!1),t.replaceTD(t.outlineObjectTD(c,s),e.lastChild),void(this.lastModified=null)}if(this.statIsInverse){if("BlankNode"===d.subject.termType)return void this.backOut()}else if("BlankNode"===d.object.termType)return void this.backOut()}l=r.utils.ancestor(this.lastModified,"TR"),this.statIsInverse?t.replaceTD(t.outlineObjectTD(d.subject,s),l.lastChild):t.replaceTD(t.outlineObjectTD(i.store.literal(this.lastModified.value),s),l.lastChild),this.lastModified.value!==this.lastModified.defaultValue&&(l.lastChild.className+=" pendingedit"),this.lastModified=null},deleteTriple:function(e,n){if(r.log.debug("deleteTriple entered"),!n&&-1!==e.className.indexOf(" pendingedit"))return void t.walk("up");const a=this.getStatementAbout(e);if(!(n||i.store.whether(a.object,u("type"),r.ns.link("Request"))||i.store.whether(a.predicate,u("type"),r.ns.link("Request"))||i.store.whether(a.subject,u("type"),r.ns.link("Request")))){r.log.debug("about to send SPARQLUpdate");try{i.store.updater.update([a],[],function(t,n,r){n?s():e.className=e.className.replace(/ pendingedit/g,"")}),e.className+=" pendingedit"}catch(e){return r.log.error(e),void r.log.warn("Error deleting statement "+a+":\n\t"+e)}r.log.debug("SPARQLUpdate sent")}r.log.debug("about to remove "+a),r.log.debug("removed"),t.walk("up");const o=e.parentNode;function s(){let e,t;for(e=o;1===e.childNodes.length;e=e.previousSibling);if(e===o){const n=e.nextSibling;n.nextSibling&&1===n.childNodes.length&&(t=e.firstChild,t.setAttribute("rowspan",parseInt(t.getAttribute("rowspan"))-1),n.insertBefore(e.firstChild,n.firstChild)),o.parentNode.removeChild(o)}else t=e.firstChild,t.setAttribute("rowspan",parseInt(t.getAttribute("rowspan"))-1),o.parentNode.removeChild(o)}n&&s()},clipboardInit:function(){t.clipboard={},t.clipboard.objects=[],t.clipboard.predicates=[],t.clipboard.all=[]},copyToClipboard:function(e,n){const i=r.utils.getTerm(n);switch(n.className){case"selected":case"obj selected":t.clipboard.objects.unshift(i);break;case"pred selected":case"pred internal selected":t.clipboard.predicates.unshift(i)}t.clipboard.all.unshift(i)},insertTermTo:function(e,a,o){let s,c;switch(e.className){case"undetermined selected":s=this.views.defaults[e.parentNode.AJAR_statement.predicate.uri],this.fillInRequest(e.nextSibling?"predicate":"object",e,a);break;case"pred selected":{const n=this.appendToPredicate(e);c=e.parentNode.AJAR_statement,s=this.views.defaults[c.predicate.uri],n.appendChild(t.outlineObjectTD(a,s));const o=e.parentNode.AJAR_inverse;o?n.AJAR_statemnet=i.store.add(a,c.predicate,c.object,c.why):n.AJAR_statement=i.store.add(c.subject,c.predicate,a,c.why);try{i.store.updater.update([],[n.AJAR_statement],function(e,t,i){t||r.log.error("userinput.js (pred selected): Fail trying to insert statement "+n.AJAR_statement+": "+i)})}catch(e){return void r.log.error("Exception trying to insert statement "+n.AJAR_statement+": "+r.utils.stackString(e))}n.AJAR_inverse=o,l.statements.push(n.AJAR_statement);break}case"selected":{const i=r.utils.ancestor(e,"TABLE").lastChild,s=i.insertBefore(n.createElement("tr"),i.lastChild);if(c=s.previousSibling.AJAR_statement,void 0===o&&(o=!0),o)this.formUndetStat(s,c.subject,this.generateRequest("(TBD)",s,!0),a,c.why,!1),s.appendChild(t.outlineObjectTD(a)),t.walk("moveTo",s.firstChild),this.startFillInText(s.firstChild);else{const e=this.generateRequest("(To be determined. Re-type of drag an object onto this field)",s);this.formUndetStat(s,c.subject,a,e,c.why,!1),s.insertBefore(t.outlinePredicateTD(a,s,!1,!1),s.firstChild),t.walk("moveTo",s.lastChild),this.startFillInText(s.lastChild)}break}}},Refill:function(e,t){r.log.info("Refill"+t.textContent);const n=t.nextSibling;let a;if(n){let s,l,c;if("undetermined"===t.nextSibling.className){s=r.utils.getAbout(i.store,r.utils.ancestor(t,"TABLE").parentNode),l=i.store.any(s,u("type")),c=[];const e=".\n";c[0]="SELECT ?pred WHERE{\n?pred "+u("type")+u("Property")+".\n?pred "+r.ns.rdfs("domain")+l+".}",c[1]="SELECT ?pred ?class\nWHERE{\n?pred "+u("type")+u("Property")+".\n"+l+r.ns.rdfs("subClassOf")+" ?class.\n?pred "+r.ns.rdfs("domain")+" ?class.\n}",c[2]="SELECT ?pred WHERE{\n"+s+u("type")+i.store.variable("subjectClass")+e+i.store.variable("pred")+r.ns.rdfs("domain")+i.store.variable("subjectClass")+e+"}",a=c.map(o.SPARQLToQuery)}else{s=r.utils.getAbout(i.store,r.utils.ancestor(t,"TABLE").parentNode),l=i.store.any(s,u("type"));const e=t.parentNode.AJAR_statement.object;c="SELECT ?pred WHERE{"+s+u("type")+"?subjectClass.\n"+e+u("type")+"?objectClass.\n?pred "+r.ns.rdfs("domain")+"?subjectClass.\n?pred "+r.ns.rdfs("range")+"?objectClass.\n}",a=o.SPARQLToQuery(c)}this.showMenu(e,"GeneralPredicateChoice",a,{isPredicate:n,selectedTd:t})}else{const a=t.parentNode.AJAR_statement.predicate;if((i.store.whether(a,u("type"),r.ns.owl("DatatypeProperty"))||"Collection"===a.termType||i.store.whether(a,r.ns.rdfs("range"),r.ns.rdfs("Literal")))&&(t.className="",r.utils.emptyNode(t),this.lastModified=this.createInputBoxIn(t," (Please Input) "),this.lastModified.isNew=!1,this.lastModified.select()),t.parentNode.AJAR_statement.predicate.sameTerm(u("type"))){const i="SELECT ?class WHERE{?class "+u("type")+r.ns.rdfs("Class")+".}",a=o.SPARQLToQuery(i);this.showMenu(e,"TypeChoice",a,{isPredicate:n,selectedTd:t})}}},getAutoCompleteHandler:function(e){let a;return"PredicateAutoComplete"===e?e="predicate":"JournalTAC"!==e&&(e="all"),a="JournalTAC"===e?n.getElementById("inpid_journal_title"):this.lastModified||t.getSelection()[0].firstChild,a.value,function(o){const s={},l=a.parentNode;e||(e=l.nextSibling?"predicate":"all"),s.pageX=r.utils.findPos(l)[0],s.pageY=r.utils.findPos(l)[1]+l.clientHeight,s.pageX,s.pageY;let c=n.getElementById(t.UserInput.menuID);function u(e){e&&(c.lastHighlight&&(c.lastHighlight.className=""),c.lastHighlight=e,c.lastHighlight.className="activeItem",t.showURI(r.utils.getAbout(i.store,c.lastHighlight)))}if(o){let p=a.value;if("object"==typeof o)switch(o.keyCode,o.stopPropagation(),c&&!c.lastHighlight&&u(c.firstChild.firstChild),o.keyCode){case 13:case 9:if(!c)return void t.UserInput.clearInputAndSave();if(!c.lastHighlight)return"JournalTAC"===e?(t.UserInput.clearMenu(),"no lastH"):void 0;if("INPUT"===c.lastHighlight.tagName)switch(c.lastHighlight.value){case"New...":t.UserInput.createNew();break;case"GiveURI":t.UserInput.inputURI()}else{if("JournalTAC"===e){if(f&&c.lastHighlight){const e=c.lastHighlight.firstChild.firstChild.innerHTML;let t=c.lastHighlight.firstChild.nextSibling.innerHTML;return t=t.slice(4,-4),["gotdptitle",e,t]}return"asGivenTxt"}const n=r.utils.getAbout(i.store,c.lastHighlight),o="predicate"===e?"predicate":"object";t.UserInput.clearMenu(),t.UserInput.fillInRequest(o,a.parentNode,n)}return;case 38:return f=!0,""!==p||"TR"!==c.lastHighlight.tagName||c.lastHighlight.previousSibling?u(c.lastHighlight.previousSibling):u(c.firstChild.firstChild),"I'm a little Arrow Up";case 40:return f=!0,"INPUT"===c.lastHighlight.tagName?u(c.childNodes[1].firstChild):u(c.lastHighlight.nextSibling),"I'm a little Down Arrow";case 37:case 39:return void("INPUT"===c.lastHighlight.tagName&&(37===o.keyCode?u(c.lastHighlight.previousSibling):u(c.lastHighlight.nextSibling)));case 8:p=p.slice(0,-1);break;case 27:return c?void t.UserInput.clearMenu():void t.UserInput.backOut();default:f=!1,p+=String.fromCharCode(o.charCode),o.charCode,String.fromCharCode(o.charCode)}if("all"===e?(t.UserInput.clearMenu(),t.UserInput.showMenu(s,"GeneralAutoComplete",void 0,{inputText:p,selectedTd:l}),0===p.length&&t.UserInput.WildCardButtons()):"predicate"===e?(t.UserInput.clearMenu(),t.UserInput.showMenu(s,"PredicateAutoComplete",void 0,{inputText:p,isPredicate:!0,selectedTd:l})):"JournalTAC"===e&&(t.UserInput.clearMenu(),t.UserInput.showMenu(s,"JournalTitleAutoComplete",void 0,{inputText:p},"orderisuseless")),c=n.getElementById(t.UserInput.menuID),!c)return;return u(c.firstChild.firstChild),t.showURI(r.utils.getAbout(i.store,c.lastHighlight)),"nothing to return"}}},WildCardButtons:function(){const e=n.getElementById(t.UserInput.menuID),i=e.insertBefore(n.createElement("div"),e.firstChild),a=i.appendChild(n.createElement("input")),o=i.appendChild(n.createElement("input"));a.type="button",a.value="New...",o.type="button",o.value="Know its URI",i.addEventListener("mouseover",function(e){const i=n.getElementById(t.UserInput.menuID);i.lastHighlight&&(i.lastHighlight.className=""),i.lastHighlight=r.utils.ancestor(r.utils.getTarget(e),"INPUT"),i.lastHighlight&&(i.lastHighlight.className="activeItem")},!1),a.addEventListener("click",this.createNew,!1),o.addEventListener("click",this.inputURI,!1)},Keypress:function(e){if(13===e.keyCode)if("TEXTAREA"!==t.targetOf(e).tagName)this.clearInputAndSave();else{const t=parseInt(this.lastModified.getAttribute("rows"));this.lastModified.setAttribute("rows",(t+1).toString()),e.stopPropagation()}},Mousedown:function(t){window.addEventListener("keypress",function(t){!t.ctrlKey||115!==t.charCode&&113!==t.charCode||e.switchMode()},!1),window.addEventListener("mousedown",e.Mousedown,!1),document.getElementById("outline").oncontextmenu=function(){return!1},2===t.button&&(e.switchMode(),t&&(t.preventDefault(),t.stopPropagation()))},Mouseover:function(e){if(this.className="bottom-border-active",1===this._tabulatorMode)switch(r.utils.getTarget(e).tagName){case"TD":{const t=r.utils.getTarget(e);"pred"===t.className&&(t.style.cursor="copy");break}case"DIV":{const t=r.utils.getTarget(e);"bottom-border"===r.utils.getTarget(e).className&&(t.style.borderColor="rgb(100%,65%,0%)",t.style.cursor="copy");break}}},Mouseout:function(e){if(this.className="bottom-border",1===this._tabulatorMode){const t=r.utils.getTarget(e);"bottom-border"===r.utils.getTarget(e).className&&(t.style.borderColor="transparent",t.style.cursor="auto")}},whatSortOfEditCell:function(e){if(e.nextSibling)return"predicate";const t=this.getStatementAbout(e).predicate;return i.store.whether(t,r.ns.rdf("type"),r.ns.owl("DatatypeProperty"))||i.store.whether(t,r.ns.rdfs("range"),r.ns.rdfs("Literal"))||"Collection"===t.termType?"DatatypeProperty-like":i.store.whether(t,u("type"),r.ns.owl("ObjectProperty"))?"ObjectProperty-like":"no-idea"},getStatementAbout:function(e){const t=r.utils.ancestor(e,"TR");if(!t)throw new Error("No ancestor TR for the TD we clicked on:"+e);let n;try{n=t.AJAR_statement}catch(n){throw new Error("No AJAR_statement!"+e+e.textContent+" has ancestor "+t)}return this.lastModifiedStat=t.AJAR_statement,this.statIsInverse=t.AJAR_inverse,n},createInputBoxIn:function(e,i){r.log.info("myDocument in createInputBoxIn is now "+n.location),r.log.info("outline.document is now "+t.document.location);const a=n.createElement("input");return a.setAttribute("value",i),a.setAttribute("class","textinput"),"undetermined selected"!==e.className&&(a.setAttribute("size","100"),a.addEventListener("keypress",function(e){38!==e.keyCode&&40!==e.keyCode||(t.OutlinerKeypressPanel(e),t.UserInput.clearInputAndSave())},!1)),e.appendChild(a),a},createNew:function(e){t.UserInput.clearMenu();const n=t.getSelection()[0],r=n.parentNode.AJAR_statement.why,a=i.store.nextSymbol(r);t.UserInput.fillInRequest("object",n,a),t.outlineExpand(t.getSelection()[0],a)},inputURI:function(e){const n=t.UserInput;n.clearMenu();const a=t.getSelection()[0];r.utils.emptyNode(a);const o=" (Type a URI) ";n.lastModified=n.createInputBoxIn(a,o),n.lastModified.select(),n.lastModified.addEventListener("keypress",function(e){switch(e.stopPropagation(),e.keyCode){case 13:case 9:if(this.value!==o){const e=this.value;n.fillInRequest("object",a,i.store.sym(e))}}},!1)},appendToPredicate:function(e){let t,r=!1;try{for(t=e.parentNode.nextSibling;1===t.childNodes.length&&t.AJAR_statement;t=t.nextSibling);}catch(e){r=!0}const i=n.createElement("tr");if(i.style.colspan="1",i.style.display="block",i.style.display="",e.hasAttribute("rowspan")&&e.setAttribute("rowspan",parseInt(e.getAttribute("rowspan"))+1),e.hasAttribute("rowspan")||e.setAttribute("rowspan","2"),r){const t=e.parentNode.parentNode;"defaultPane"===t.className?t.insertBefore(i,t.lastChild):t.appendChild(i)}else t.parentNode.insertBefore(i,t);return i},bnode2symbol:function(e,t){i.store.copyTo(e,t,["two-direction","delete"])},generateRequest:function(e,n,i,a){let o;a||(o=n||r.utils.ancestor(this.lastModified,"TR"),r.utils.emptyNode(o));const s=c,l=s.bnode();if(s.add(l,r.ns.rdf("type"),r.ns.link("Request")),e.length,s.add(l,r.ns.link("message"),s.literal(e)),s.add(l,r.ns.link("to"),s.literal("The User")),s.add(l,r.ns.link("from"),s.literal("The User")),!a){let n;n=i?o.appendChild(t.outlinePredicateTD(l,o,!1,!1)):o.appendChild(t.outlineObjectTD(l)),n.className="undetermined",n.textContent=e}return l},showMenu:function(e,a,l,c,f){r.log.info("myDocument is now "+n.location),r.log.info("outline.doucment is now "+t.document.location);const h=this,m=n.createElement("div");if(c)for(const e in c);m.id=this.menuID,m.className="outlineMenu",m.style.top=e.pageY+"px",m.style.left=e.pageX+"px";if("JournalTitleAutoComplete"===a){const e=function(e){let t=0,n=0,r=0,i=0,a=0,o=0;for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)a=e.offsetLeft,o=e.offsetTop,a!==r&&(t+=e.offsetLeft-e.scrollLeft),o!==i&&(n+=e.offsetTop-e.scrollTop),r=a,i=o,e=e.parentNode;return{top:n+54,left:t-38}}(n.getElementById("inpid_journal_title"));e.left-=n.getElementById("inpid_journal_title").scrollTop,m.style.top=e.top+"px",m.style.left=e.left+"px"}n.body.appendChild(m);const g=m.appendChild(n.createElement("table"));let v;switch(m.lastHighlight=null,g.addEventListener("mouseover",function(e){m.lastHighlight&&(m.lastHighlight.className=""),m.lastHighlight=r.utils.ancestor(r.utils.getTarget(e),"TR"),m.lastHighlight&&(m.lastHighlight.className="activeItem")},!1),a){case"DidYouMeanDialog":v=function(e){const n=r.utils.ancestor(r.utils.getTarget(e),"TR");2===n.childNodes.length&&n.nextSibling?(i.store.add(k,undefined,undefined),t.UserInput.clearMenu()):2===n.childNodes.length&&t.UserInput.clearMenu()};break;case"LimitedPredicateChoice":{const e=c.clickedTd;v=function(n){const a=r.utils.getAbout(i.store,r.utils.getTarget(n)),o=e.parentNode.AJAR_statement.predicate.elements;for(let e=0;e<o.length;e++)o[e].sameTerm(a)&&o.unshift(o.splice(e,1)[0]);t.UserInput.clearMenu();const s=e.parentNode,l=t.outlinePredicateTD(s.AJAR_statement.predicate,s);s.insertBefore(l,e),s.removeChild(e),h.lastModified.select()};break}case"PredicateAutoComplete":case"GeneralAutoComplete":case"GeneralPredicateChoice":case"JournalTitleAutoComplete":case"TypeChoice":{const e=c.isPredicate,n=c.selectedTd;v=function(a){const o=r.utils.getAbout(i.store,r.utils.getTarget(a));r.utils.getTarget(a),e?t.UserInput.fillInRequest("predicate",n,o)&&t.UserInput.clearMenu():t.UserInput.fillInRequest("object",n,o)&&t.UserInput.clearMenu()};break}default:throw new Error("userinput: unexpected mode")}g.addEventListener("click",v,!1);const b={};function y(e){g.firstChild&&"no-suggest"===g.firstChild.className&&g.removeChild(g.firstChild);const t=r.utils.predicateLabelForXML(e,!1);if(!e.uri)return;let i="??";for(const t in b)if(r.log.debug(b[t]),o.Util.string_startswith(e.uri,b[t])){i=t;break}const a=g.appendChild(n.createElement("tr"));a.setAttribute("about",e);a.appendChild(n.createElement("th")).appendChild(n.createElement("div")).appendChild(n.createTextNode(t)),a.appendChild(n.createElement("td")).appendChild(n.createTextNode(i.toUpperCase()))}function w(e){return function(t){y(t[e.vars[0]])}}let x,k,_,E;switch(i.store.each(void 0,r.ns.rdf("type"),r.ns.owl("Ontology")).forEach(function(e){const t=r.utils.label(e);if(!t)return;const n=t.value.match(/\((.+?)\)/);n?b[n[1]]=e.uri:b[t.value]=e.uri}),a){case"DidYouMeanDialog":{const e=c.dialogTerm;k=c.bnodeTerm,m.style.width="auto";const t=g.appendChild(n.createElement("tr")).appendChild(n.createElement("th"));t.appendChild(n.createTextNode("Did you mean..."));const a=i.store.statementsMatching(e);let o;for(o=0;o<a.length&&!i.store.whether(a[o].predicate,u("type"),r.ns.owl("InverseFunctionalProperty"));o++);const s=a[o].predicate,l=i.store.any(e,a[o].predicate),p=r.utils.label(e)+" who has "+r.utils.label(s)+" "+l+"?",d=g.appendChild(n.createElement("tr")).appendChild(n.createElement("th"));d.appendChild(n.createTextNode(p)),t.setAttribute("colspan","2"),d.setAttribute("colspan","2");const f=g.appendChild(n.createElement("tr"));f.appendChild(n.createElement("th")).appendChild(n.createTextNode("Yes")),f.appendChild(n.createElement("td")).appendChild(n.createTextNode("BOOLEAN"));const h=g.appendChild(n.createElement("tr"));h.appendChild(n.createElement("th")).appendChild(n.createTextNode("No")),h.appendChild(n.createElement("td")).appendChild(n.createTextNode("BOOLEAN"));break}case"PredicateAutoComplete":{x=c.inputText;const n=t.labeller.searchAdv(x,void 0,"predicate"),r=[];for(let t=0;t<n.length;t++){const r={vars:[]};r.vars.push("Kenny");const a={};a.Kenny=i.store.fromNT(n[t].NT);try{w(r)(a)}catch(e){throw new Error("I'll deal with bnodes later...[Kenny]"+e)}}const a=r[0];if(0===a.length)return void this.clearMenu();for(let e=0;e<a.length&&e<10;e++)y(a[e][1]);break}case"GeneralAutoComplete":{let i;x=c.inputText;try{i=t.labeller.search(x)}catch(e){}const a=i[0],o=i[1];if(0===a.length)return void this.clearMenu();for(let e=0;e<a.length&&e<10;e++){const t=a[e][1].toNT();_=g.appendChild(n.createElement("tr")),_.setAttribute("about",t),E=_.appendChild(n.createElement("th")),E.appendChild(n.createElement("div")).appendChild(n.createTextNode(a[e][0]));const i=o[e],s=i?r.utils.label(i):"";_.appendChild(n.createElement("td")).appendChild(n.createTextNode(s))}break}case"JournalTitleAutoComplete":{x=c.inputText;const e=i.store.each(void 0,u("type"),p("Journal")),t=[];for(let r=0;r<e.length;r++){const a=e[r],o=i.store.each(a,d("title"),void 0),l=o+"",c=x.toLowerCase();if(-1!==l.toLowerCase().search(c)){s(),t.push(o);const e=g.appendChild(n.createElement("tr"));e.setAttribute("about","journalTitle");e.appendChild(n.createElement("th")).appendChild(n.createElement("div")).appendChild(n.createTextNode(o)),e.appendChild(n.createElement("td")).appendChild(n.createTextNode(a))}}break}case"LimitedPredicateChoice":{const e=r.utils.getAbout(i.store,c.clickedTd);e.termType="Collection";const t=i.store.each(e,r.ns.link("element"));for(let e=0;e<t.length;e++)y(t[e]);break}default:{_=g.appendChild(n.createElement("tr")),_.className="no-suggest",E=_.appendChild(n.createElement("th")),E.appendChild(n.createElement("div")).appendChild(n.createTextNode("No suggested choices. Try to type instead.")),_.appendChild(n.createElement("td")).appendChild(n.createTextNode("OK")),_.addEventListener("click",function(e){h.clearMenu(),e.stopPropagation()},"false");const e=function(){};switch(l.constructor.name){case"Array":for(let t=0;t<l.length;t++)i.store.query(l[t],w(l[t]),e);break;case"undefined":throw new Error("addPredicateChoice: query is not defined");default:i.store.query(l,w(l),e)}}}},fillInRequest:function(e,n,a){const s=n.parentNode,u=s.AJAR_statement,p=s.AJAR_inverse,d="object"===e?u.object:u.predicate;let f,h=!1;if(i.store.any(d,r.ns.link("onfillin")),"predicate"===e){const e=t.outlinePredicateTD(a,s,!1,!1);if("undetermined"!==n.nextSibling.className){const t=new o.Statement(u.subject,a,u.object,u.why);try{i.store.updater.update([],[t],function(t,n,o){n?(f=i.store.anyStatementMatching(u.subject,a,u.object,u.why),s.AJAR_statement=f,e.className=e.className.replace(/ pendingedit/g,"")):r.log.warn("Failure occurs (#2) while inserting "+s.AJAR_statement+"\n\n"+o)})}catch(e){return r.log.error(e),void r.log.warn("Error when insert (#2) of statement "+t+":\n\t"+e)}e.className+=" pendingedit",this.lastModified=null}else this.formUndetStat(s,u.subject,a,u.object,u.why,!1),t.walk("right"),h=!0;t.replaceTD(e,n),c.remove(u)}else if("object"===e){const e=t.outlineObjectTD(a);if(t.replaceTD(e,n),n.previousSibling&&"undetermined"===n.previousSibling.className)t.walk("left"),h=!0;else{let t;t=p?new o.Statement(a,u.predicate,u.object,u.why):new o.Statement(u.subject,u.predicate,a,u.why);try{i.store.updater.update([],[t],function(n,o,l){let c;r.log.info("@@ usinput.js (object) callback ok="+o+" for statement:"+t+"\n "),o?(e.className=e.className.replace(/ pendingedit/g,""),c=p?i.store.statementsMatching(a,u.predicate,u.object,u.why):i.store.statementsMatching(u.subject,u.predicate,a,u.why),c.length||r.log.error("userinput.js 1711: Can't find statememt!"),s.AJAR_statement=c[0]):r.log.warn("userinput.js (object): Fail trying to insert statement "+t)})}catch(e){return r.log.error("userinput.js (object): exception trying to insert statement "+t+": "+r.utils.stackString(e)),void r.log.warn("Error trying to insert statement "+t+":\n"+e)}this.lastModified=null,e.className+=" pendingedit"}c.remove(u)}if(l.statements.push(f),!h)return!0;this.startFillInText(t.getSelection()[0])},formUndetStat:function(e,t,n,r,i,a){return e.AJAR_inverse=a,e.AJAR_statement=c.add(t,n,r,i),e.AJAR_statement}}};var r=s(n(500)),i=n(9332),a=s(n(4059)),o=s(n(8230));function s(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(s=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}let l,c},7350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.socialPane=void 0;var r=o(n(500)),i=n(9332),a=o(n(8230));function o(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}t.socialPane={icon:r.icons.originalIconBase+"foaf/foafTiny.gif",name:"social",label:function(e,t){const n=t.session.store.findTypeURIs(e);return n[r.ns.foaf("Person").uri]||n[r.ns.vcard("Individual").uri]?"Friends":null},render:function(e,t){const n=t.dom,o=function(e){const t=n.createElement("p");t.textContent=e,x.appendChild(t)},s=function(e,t){if(!t)return e;const r=n.createElement("a");return r.setAttribute("href",t),r.appendChild(e),r},l=function(e){return n.createTextNode(e)},c=t.getOutliner(n),u=t.session.store,p=n.createElement("div");p.setAttribute("class","socialPane");const d=r.ns.foaf,f=r.ns.vcard,h="background-color: #eee; width: 25%; border: 0; padding: 0.5em; margin: 0;",m=p.appendChild(n.createElement("table")).appendChild(n.createElement("tr")),g=m.appendChild(n.createElement("td")),v=m.appendChild(n.createElement("td")),b=m.appendChild(n.createElement("td")),y=g;y.style.cssText=h;const w=v.appendChild(n.createElement("table"));w.style.cssText="background-color: #fff; color: #000; width: 46%; margin: 0; border-left: 1px solid #ccc; border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; padding: 0;";const x=b;x.style.cssText=h;const k=u.any(e,d("img"))||u.any(e,d("depiction"));if(k){const e=n.createElement("IMG");e.setAttribute("src",k.uri),e.style.cssText=" width: 100% ; border: none; margin: 0; padding: 0;",y.appendChild(e)}const _=u.anyValue(e,d("name"))||"???";let E=n.createElement("H3");E.appendChild(n.createTextNode(_));let C=i.authn.currentUser();const S=C?C.uri:null,A=r.login.loginStatusBox(n,e=>{C=u.sym(e),r.widgets.refreshTree(p)});x.appendChild(A);const T=C&&u.sameThings(C,e),R=d("knows"),P=u.anyValue(e,d("givenname"))||u.anyValue(e,d("firstName"))||u.anyValue(e,d("nick"))||u.anyValue(e,d("name"))||u.anyValue(e,f("fn")),F=u.each(e,R);let I,N,O=null,L=!1;if(C){const t=u.each(void 0,d("primaryTopic"),C);let i="";for(let e=0;e<t.length;e++)if(u.whether(t[e],r.ns.rdf("type"),d("PersonalProfileDocument"))){if(L=c.UserInput.sparqler.editable(t[e].uri,u),L){O=t[e];break}i+="Your profile <"+r.utils.escapeForXML(t[e].uri)+"> is not remotely editable."}if(O?(o("Editing your profile "+O+"."),L=c.UserInput.sparqler.editable(O.uri,u)):o(i+"\nI couldn't find your editable personal profile document."),T);else{E=n.createElement("h3"),E.appendChild(n.createTextNode("You and "+P)),y.appendChild(E);const t=u.canon(C);I=u.whether(e,R,t),N=!1;const i=u.statementsMatching(t,R,e);i.length&&(N=!0,O||(O=i[0].why));const o=n.createElement("tr");y.appendChild(o);const p=function(){o.appendChild(s(l("You"),S)),o.appendChild(l(" and ")),o.appendChild(s(l(P),e.uri))};if(I?N?(p(),o.appendChild(l(" say you know each other."))):(o.appendChild(s(l(P),e.uri)),o.appendChild(l(" knows ")),o.appendChild(s(l("you"),S)),o.appendChild(l(" (unconfirmed).")),o.appendChild(l(" confirm you know ")),o.appendChild(s(l(P),e.uri)),o.appendChild(l("."))):N?(o.appendChild(s(l("You"),S)),o.appendChild(l(" know ")),o.appendChild(s(l(P),e.uri)),o.appendChild(l(" (unconfirmed)"))):(p(),o.appendChild(l(" have not said you know each other."))),L){const t=function(e,t,i){const a=n.createElement("form"),o=n.createElement("input");a.appendChild(o);const s=n.createTextNode(e);return s.className="question",a.appendChild(s),o.setAttribute("type","checkbox"),o.checked=i,o.addEventListener("click",function(e){if(s.className="pendingedit",this.checked)try{c.UserInput.sparqler.insert_statement(t,function(e,n,i){if(s.className="question",!n)return r.log.alert(null,"Message","Error occurs while inserting "+t+"\n\n"+i),void(o.checked=!1);u.add(t.subject,t.predicate,t.object,t.why)})}catch(e){r.log.error("Data write fails:"+e),r.log.alert("Data write fails:"+e),o.checked=!1,s.className="question"}else try{c.UserInput.sparqler.delete_statement(t,function(e,n,i){s.className="question",n?u.removeMany(t.subject,t.predicate,t.object,t.why):(r.log.alert("Error occurs while deleting "+t+"\n\n"+i),this.checked=!0)})}catch(e){r.log.alert("Delete fails:"+e),this.checked=!0}},!1),a}("You know "+P,new a.Statement(C,R,e,O),N);y.appendChild(t)}if(F){const e=u.each(C,d("knows"));if(e.length){const t=function(e,t){const n=[];for(let r=0;r<e.length;r++)for(let i=0;i<t.length;i++)if(t[i].sameTerm(e[r])){n.push(t[i]);break}return n}(F,e),i=n.createElement("tr");if(y.appendChild(i),i.appendChild(n.createTextNode("You"+(P?" and "+P:"")+" know"+function(e){let t=" ";return t+=e||"no",1===e?t+" person":t+" people"}(t.length)+" found in common")),t)for(let e=0;e<t.length;e++)i.appendChild(n.createTextNode(",  "+r.utils.label(t[e])))}const t=n.createElement("tr");y.appendChild(t)}}}r.widgets.attachmentList(n,e,w,{doc:O,modify:!!L,predicate:d("knows"),noun:"friend"}),E=n.createElement("h3"),E.appendChild(n.createTextNode("Basic Information")),y.appendChild(E);const j=[r.ns.foaf("homepage"),r.ns.foaf("weblog"),r.ns.foaf("workplaceHomepage"),r.ns.foaf("schoolHomepage")];for(let t=0;t<j.length;t++){const i=j[t],a=u.statementsMatching(e,i);if(0===a.length);else{const e=[];for(let t=0;t<a.length;t++){const n=a[t];n.object.uri&&e.push(n.object.uri)}e.sort();let t,o="";for(let a=0;a<e.length;a++){const s=e[a];if(s===o)continue;o=s;let l="";if(t=r.utils.label(i),e.length>1){const e=s.indexOf("//");if(e>0){let t=s.indexOf("/",e+2);const n=s.lastIndexOf(".",t);n>0&&(t=n),l=s.slice(e+2,t)}}l&&(t=l+" "+t);const c=n.createTextNode(t),u=n.createElement("a");u.appendChild(c),u.setAttribute("href",s);const p=n.createElement("div");p.style.cssText="width: 80%; background-color: #fff; border: solid 0.05em #ccc;  margin-top: 0.1em; margin-bottom: 0.1em; padding: 0.1em; text-align: center;",p.appendChild(u),y.appendChild(p)}}}const M=[r.ns.foaf("openid"),r.ns.foaf("nick")];for(let t=0;t<M.length;t++){const n=M[t],r=u.statementsMatching(e,n);0===r.length||c.appendPropertyTRs(y,r,!1,function(e){return!0})}return p}}},7408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.datesAsText=c,t.languageAsText=l,t.presentCV=function(e,t){const n=function(e,t){const n=e.each(null,a("member"),t,null),r={PastRole:[],CurrentRole:[],FutureRole:[]};for(const t of n){let n,s,l,u,p;const d=e.any(t,i.ns.schema("startDate")),f=e.any(t,i.ns.schema("endDate")),h=c(d,f),m=e.any(t,a("organization"));m&&(s=e.anyJS(m,i.ns.schema("name")),n=e.any(m,i.ns.schema("uri")),p=e.any(m,i.ns.solid("publicId"))),p&&(l=e.anyJS(p,i.ns.schema("name")));const g=l||s,v=e.any(t,a("role"));v&&(u=e.anyJS(v,i.ns.schema("name")));const b=e.anyJS(t,i.ns.vcard("role")),y={startDate:d,endDate:f,orgName:g,roleText:b&&u?u+" - "+b:b||u,dates:h,orgHomePage:n};for(const n of o)e.holds(t,i.ns.rdf("type"),i.ns.solid(n))&&r[n].push(y)}return r}(t,e);for(const e of o)n[e].sort(function(e,t){return e.endDate&&t.endDate?e.endDate>t.endDate?-1:1:e.startDate>t.startDate?-1:1});const r=t.each(e,i.ns.schema("skills")).map(e=>s(t,e)),u=t.anyJS(e,i.ns.schema("knowsLanguage"));let p=[];u&&(p=u.map(e=>l(t,e)));return{rolesByType:n,skills:r,languages:p}},t.skillAsText=s,t.typesOfRole=void 0;var r=n(8230),i=n(500);const a=(0,r.Namespace)("http://www.w3.org/ns/org#"),o=t.typesOfRole=["PastRole","CurrentRole","FutureRole"];function s(e,t){if("Literal"===t.termType)return t.value;const n=e.anyJS(t,i.ns.solid("publicId"));if(n){const t=e.anyJS(n,i.ns.schema("name"));if(t)return t}const r=e.anyJS(t,i.ns.vcard("role"));return r&&r[0]>""?r:"¿¿¿ skill ???"}function l(e,t){if("Literal"===t.termType)return t.value;const n=e.anyJS(t,i.ns.solid("publicId"));return n?i.utils.label(n,!0):"-"}function c(e,t){return e?"("+e.value.slice(0,10)+" to "+(t?t.value.slice(0,10):"")+")":""}},7518:(e,t,n)=>{const r=n(9953),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}}},7523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OutlineManager",{enumerable:!0,get:function(){return o.default}}),t.UI=void 0,Object.defineProperty(t,"byName",{enumerable:!0,get:function(){return l.byName}}),t.getOutliner=d,Object.defineProperty(t,"initMainPage",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"list",{enumerable:!0,get:function(){return l.list}}),Object.defineProperty(t,"paneForIcon",{enumerable:!0,get:function(){return l.paneForIcon}}),Object.defineProperty(t,"paneForPredicate",{enumerable:!0,get:function(){return l.paneForPredicate}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return l.register}}),Object.defineProperty(t,"versionInfo",{enumerable:!0,get:function(){return r.default}});var r=p(n(4959)),i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));t.UI=i;var a=n(9332),o=p(n(7981)),s=n(2371),l=n(4059),c=n(6813),u=p(n(5218));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(!e.outlineManager){const t=(0,c.createContext)(e,{list:l.list,paneForIcon:l.paneForIcon,paneForPredicate:l.paneForPredicate,register:l.register,byName:l.byName},a.store,a.solidLogicSingleton);e.outlineManager=new o.default(t)}return e.outlineManager}"undefined"!=typeof window&&d(window.document),(0,s.registerPanes)(e=>(0,l.register)(e.default||e)),"undefined"!=typeof window&&(window.panes={getOutliner:d})},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=s(e),o=a[0],l=a[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,p=l>0?o-4:o;for(n=0;n<p;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(c(e,s,s+o>l?l:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(l(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7583:(e,t,n)=>{const r=n(1333),i=n(157),a=n(7899),o=n(6756);function s(e,t,n,a,o){const s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=a=void 0):2!==l||t.getContext||(a=n,n=t,t=void 0),new Promise(function(r,o){try{const o=i.create(n,a);r(e(o,t,a))}catch(e){o(e)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(o=n,n=t,t=a=void 0):3===l&&(t.getContext&&void 0===o?(o=a,a=void 0):(o=a,a=n,n=t,t=void 0));try{const r=i.create(n,a);o(null,e(r,t,a))}catch(e){o(e)}}t.create=i.create,t.toCanvas=s.bind(null,a.render),t.toDataURL=s.bind(null,a.renderToDataURL),t.toString=s.bind(null,function(e,t,n){return o.render(e,n)})},7587:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mintNewAddressBook=function(e,t){return new Promise(function(n,i){r.login.ensureLoadedProfile(t).then(t=>{const o=t.me,l=t.dom,c=t.div,u=e.session.store,p=r.ns,d=t.newBase||t.newInstance.dir().uri;if((t.instanceClass||p.vcard("AddressBook")).sameTerm(p.vcard("Group"))){const e=t.newInstance||u.sym(t.newBase+"index.ttl#this"),r=e.doc();return u.add(e,p.rdf("type"),p.vcard("Group"),r),u.add(e,p.vcard("fn"),t.instanceName||"untitled group",r),void u.fetcher.putBack(r,{contentType:"text/turtle"}).then(function(e){n(t)}).catch(function(e){i(new Error("Error creating document for new group "+e))})}function f(e){c.appendChild(r.widgets.errorMessageBlock(l,e,"pink"))}let h='@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n  @prefix ab: <http://www.w3.org/ns/pim/ab#>.\n  @prefix dc: <http://purl.org/dc/elements/1.1/>.\n  @prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n\n  <#this> a vcard:AddressBook;\n      dc:title "New address Book";\n      vcard:nameEmailIndex <people.ttl>;\n      vcard:groupIndex <groups.ttl>.\n';h+="<#this> <http://www.w3.org/ns/auth/acl#owner> <"+o.uri+">.\n\n";const m=u.sym(d+"index.ttl#this"),g=[{to:"index.ttl",content:h,contentType:"text/turtle"},{to:"groups.ttl",content:"",contentType:"text/turtle"},{to:"people.ttl",content:"",contentType:"text/turtle"},{to:"",existing:!0,aclOptions:{defaultForNew:!0}}];!function e(){function r(t,n){if(!n)return f("Error writing new file "+p.to),i(new Error("Error writing new file "+p.to));s(h,o,v).then(()=>e()).catch(e=>{const t="Error setting access permissions for "+p.to+" : "+e.message;return f(t),i(new Error(t))})}if(0===g.length)!function(e,r){const i=c.appendChild(l.createElement("p"));i.setAttribute("style","font-size: 140%;"),i.innerHTML="Your <a href='"+e.uri+"'><b>new "+r+"</b></a> is ready. <br/><br/><a href='"+e.uri+"'>Go to new "+r+"</a>";const a=Object.assign({newInstance:e},t);n(a)}(m,"address book");else{var p=g.shift(),h=a.uri.join(p.to,d),v=p.aclOptions||{};"content"in p?u.fetcher.webOperation("PUT",h,{data:p.content,saveMetadata:!0,contentType:p.contentType}).then(()=>r(0,!0)):"existing"in p?r(0,!0):i(new Error("copy not expected buiding new app!!"))}}()},e=>{t.div.appendChild(r.widgets.errorMessageBlock(e))})})};var r=o(n(500)),i=n(9332),a=o(n(8230));function o(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const{setACLUserPublic:s}=i.solidLogicSingleton.acl},7598:(e,t,n)=>{
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=n(1813)},7647:(e,t,n)=>{"use strict";const r=n(5606),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:o}=n(8526),{Symbol:s}=n(4641),{kIsDestroyed:l,isDestroyed:c,isFinished:u,isServerRequest:p}=n(136),d=s("kDestroy"),f=s("kConstruct");function h(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function m(e,t,n){let i=!1;function a(t){if(i)return;i=!0;const a=e._readableState,o=e._writableState;h(t,o,a),o&&(o.closed=!0),a&&(a.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(g,e,t):r.nextTick(v,e)}try{e._destroy(t||null,a)}catch(t){a(t)}}function g(e,t){b(e,t),v(e)}function v(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=n&&n.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){const n=e._readableState,r=e._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function y(e,t,n){const i=e._readableState,a=e._writableState;if(null!=a&&a.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=a&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(b,e,t):b(e,t))}function w(e){let t=!1;function n(n){if(t)return void y(e,null!=n?n:new a);t=!0;const i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(d,n):n?y(e,n,!0):r.nextTick(x,e)}try{e._construct(e=>{r.nextTick(n,e)})}catch(e){r.nextTick(n,e)}}function x(e){e.emit(f)}function k(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function _(e){e.emit("close")}function E(e,t){e.emit("error",t),r.nextTick(_,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||r.nextTick(w,e)},destroyer:function(e,t){e&&!c(e)&&(t||u(e)||(t=new o),p(e)?(e.socket=null,e.destroy(t)):k(e)?e.abort():k(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(E,e,t):r.nextTick(_,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const n=this._readableState,r=this._writableState,a=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof t&&t(),this):(h(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),a.constructed?m(this,e,t):this.once(d,function(n){m(this,i(n,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:y}},7756:(e,t,n)=>{const r=n(6886).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},7804:(e,t,n)=>{"use strict";n.d(t,{OA:()=>r,WL:()=>a,u$:()=>i});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},i=e=>(...t)=>({_$litDirective$:e,values:t});class a{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},7899:(e,t,n)=>{const r=n(2726);t.render=function(e,t,n){let i=n,a=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const o=r.getImageWidth(e.modules.size,i),s=a.getContext("2d"),l=s.createImageData(o,o);return r.qrToImageData(l.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,a,o),s.putImageData(l,0,0),a},t.renderToDataURL=function(e,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const a=t.render(e,n,i),o=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(o,s.quality)}},7975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),a=s,o=0;continue}}else if(2===r.length||1===r.length){r="",i=0,a=s,o=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(r=o+"/"+r,i=47===o.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,o=a-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=o<l?o:l,u=-1,p=0;p<=c;++p){if(p===c){if(l>c){if(47===n.charCodeAt(s+p))return n.slice(s+p+1);if(0===p)return n.slice(s+p)}else o>c&&(47===e.charCodeAt(i+p)?u=p:0===p&&(u=0));break}var d=e.charCodeAt(i+p);if(d!==n.charCodeAt(s+p))break;47===d&&(u=p)}var f="";for(p=i+u+1;p<=a;++p)p!==a&&47!==e.charCodeAt(p)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(n=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,a=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!o){i=r+1;break}}else-1===l&&(o=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1===--s&&(a=r):(s=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){i=r+1;break}}else-1===a&&(o=!1,a=r+1);return-1===a?"":e.slice(i,a)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(a=!1,i=s+1),46===l?-1===n?n=s:1!==o&&(o=1):-1!==n&&(o=-1);else if(!a){r=s+1;break}}return-1===n||-1===i||0===o||1===o&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),a=47===i;a?(n.root="/",r=1):r=0;for(var o=-1,s=0,l=-1,c=!0,u=e.length-1,p=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===o?o=u:1!==p&&(p=1):-1!==o&&(p=-1);else if(!c){s=u+1;break}return-1===o||-1===l||0===p||1===p&&o===l-1&&o===s+1?-1!==l&&(n.base=n.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(n.name=e.slice(1,o),n.base=e.slice(1,l)):(n.name=e.slice(s,o),n.base=e.slice(s,l)),n.ext=e.slice(o,l)),s>0?n.dir=e.slice(0,s-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},7978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slideshowPane=void 0;var r,i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500)),a=(r=n(6305))&&r.__esModule?r:{default:r};const o=i.ns;t.slideshowPane={icon:i.icons.iconBase+"noun_138712.svg",name:"slideshow",audience:[o.solid("PowerUser")],label:function(e,t){const n=t.session.store,r=i.ns,a=n.findTypeURIs(e);if(a[r.ldp("Container").uri]||a[r.ldp("BasicContainer").uri]){const t=n.each(e,r.ldp("contains"));let a=0;return t.forEach(function(e){i.widgets.isImage(e)&&a++}),a>0?"Slideshow":null}return null},render:function(e,t){const n=t.dom;i.widgets.addStyleSheet(n,"https://leemark.github.io/better-simple-slideshow/css/simple-slideshow-styles.css");const r=t.session.store,o=i.ns,s=n.createElement("div");s.setAttribute("class","bss-slides");const l=r.findTypeURIs(e);let c;(l[o.ldp("BasicContainer").uri]||l[o.ldp("Container").uri])&&(c=o.ldp("contains"));const u=r.each(e,c);u.sort();for(let e=0;e<u.length;e++){if(!i.widgets.isImage(u[e]))continue;const t=s.appendChild(n.createElement("figure")),a=t.appendChild(n.createElement("img"));r.fetcher._fetch(u[e].uri).then(function(e){return e.blob()}).then(function(e){const t=URL.createObjectURL(e);a.setAttribute("src",t)}),a.setAttribute("width","100%"),t.appendChild(n.createElement("figcaption"))}const p={dom:n};return setTimeout(function(){(0,a.default)(".bss-slides",p)},1e3),s}}},7981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.dom;this.document=e.dom,this.outlineIcons=l.outlineIcons,this.labeller=this.labeller||{},this.labeller.LanguagePreference="";const p=this,d=this;let f=[];this.selection=f,this.ancestor=a.utils.ancestor,this.sparql=i.UpdateManager,this.kb=o.store;const h=o.store,m=o.store.fetcher;t.outline=this,this.qs=new u.QuerySource,this.UserInput=new c.UserInput(this),this.clipboardAddress="tabulator:clipboard",this.UserInput.clipboardInit(this.clipboardAddress);const g=this.outlineElement;async function v(e={}){const n=t.createElement("div"),i=o.authn.currentUser();if(!i)throw alert("Must be logged in for this"),new Error("Not logged in");const s=await b();return n.appendChild(a.tabs.tabWidget({dom:t,subject:i,items:s,renderMain:function(e,n){const i=r.byName(n.paneName);e.innerHTML="";const a=e.appendChild(t.createElement("table")),s=o.authn.currentUser();d.GotoSubject(n.subject||s,!0,i,!1,void 0,a)},renderTab:function(e,t){e.dataset.globalPaneName=t.tabName||t.paneName,e.textContent=t.label},ordered:!0,orientation:0,backgroundColor:"#eeeeee",selectedTab:e.selectedTab,onClose:e.onClose})),n}async function b(){const e=o.authn.currentUser();if(!e)return[];const n=t.createElement("div"),[r,i]=await Promise.all([async function(){try{return((await a.login.findAppInstances({me:e,div:n,dom:t},$.vcard("AddressBook"))).instances||[]).map((e,t)=>({paneName:"contact",tabName:`contact-${t}`,label:"Contacts",subject:e,icon:a.icons.iconBase+"noun_15695.svg"}))}catch(e){}return[]}(),async function(){async function t(e){return await x(e),!!h.holds(e,$.rdf("type"),$.space("Storage"),e.doc())&&(n.push(e),!0)}try{await h.fetcher.load(e.doc())}catch(e){return[]}let n=h.each(e,$.space("storage"),null,e.doc());n.map(async e=>{await x(e)});try{const e=new URL(window.location.href).searchParams.get("uri")||window.location.href;await async function(e){const n=new URL(e);let r=n.pathname;for(;r.length;)if(r=r.substring(0,r.lastIndexOf("/")),await t(h.sym(`${n.origin}${r}/`)))return}(e)}catch(e){}return n=function(e){const t=[];return e.forEach(e=>{t.find(t=>t.equals(e))||t.push(e)}),t}(n),n.length?n.map((t,n)=>{function r(e){return e.uri.split("//")[1].slice(0,-1)}return{paneName:"folder",tabName:`folder-${n}`,label:r(e).startsWith(r(t))?"Your storage":r(t),subject:t,icon:a.icons.iconBase+"noun_Cabinet_251723.svg"}}):[]}()]);return[{paneName:"home",label:"Your stuff",icon:a.icons.iconBase+"noun_547570.svg"},{paneName:"basicPreferences",label:"Preferences",icon:a.icons.iconBase+"noun_Sliders_341315_00000.svg"},{paneName:"profile",label:"Your Profile",icon:a.icons.iconBase+"noun_15059.svg"},{paneName:"editProfile",label:"Edit your Profile",icon:a.icons.iconBase+"noun_492246.svg"}].concat(r).concat(i)}function y(){return w("outline")}function w(e){return document.getElementById(e)||(()=>{const t=document.createElement("div");t.id=e;return(document.querySelector('[role="main"]')||document.body).appendChild(t)})()}async function x(e){if(!h.any(e,$.ldp("contains"),void 0,e.doc())){const t=(await h.fetcher.webOperation("GET",e.uri,h.fetcher.initFetchOptions(e.uri,{headers:{accept:"text/turtle"}}))).responseText;i.parse(t,h,e.uri,"text/turtle")}}async function k(n,r,i){const o=t.createElement("tr");i.hover&&o.setAttribute("class","hoverControl");const s=o.appendChild(t.createElement("td"));s.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;display:flex; justify-content: space-between; flex-direction: row;"),s.setAttribute("notSelectable","true"),s.setAttribute("about",n.toNT()),s.setAttribute("colspan","2");const l=s.appendChild(t.createElement("div"));l.style="display:flex; justify-content: flex-start; align-items: center; flex-wrap: wrap;";const c=!!r;if(!i.solo&&!c){l.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-collapse.png","collapse",void 0,t)).addEventListener("click",O);const e=l.appendChild(t.createElement("h1"));e.appendChild(t.createTextNode(a.utils.label(n))),e.style="font-size: 150%; margin: 0 0.6em 0 0; padding: 0.1em 0.4em;",a.widgets.makeDraggable(e,n)}return l.appendChild(await async function(i,s={}){const l="width: 24px; border-radius: 0.5em; border-top: solid #222 1px; border-left: solid #222 0.1em; border-bottom: solid #eee 0.1em; border-right: solid #eee 0.1em; margin-left: 1em; padding: 3px; background-color:   #ffd;",c="width: 24px; border-radius: 0.5em; margin-left: 1em; padding: 3px",u=i.appendChild(t.createElement("nav"));u.style="display:flex; justify-content: flex-start; align-items: center;";const p=s.hideList?[]:await async function(e,t){e.uri.endsWith("/")&&await x(e);const n=t.session.paneRegistry,r=n.list.filter(n=>n.label(e,t)&&!n.global);if(0===r.length)return[n.byName("internal")];const i=await a.login.filterAvailablePanes(r);return 0===i.length?[r[0]]:n.list.indexOf(r[0])<n.list.indexOf(i[0])?[r[0]].concat(i):i}(n,e);o.firstPane=r||function(e,t){return e.find(e=>e.shouldGetFocus&&e.shouldGetFocus(t))||e[0]}(p,n);const d=p.indexOf(o.firstPane);return 1!==p.length&&p.forEach((r,p)=>{const f=r.label(n,e),h=a.utils.AJARImage(r.icon,f,f,t);h.style=r===o.firstPane?l:c;!function(r,o){r.addEventListener("click",function(u){let p;for(p=i;p.parentNode&&"TABLE"!==p.nodeName;p=p.parentNode);if("TABLE"!==p.nodeName)throw new Error("outline: internal error.");const d=function(e){for(let n=p.firstChild;n;n=n.nextSibling)void 0!==n.pane&&(e&&n.pane!==e||(n.paneButton&&(n.paneButton.setAttribute("class","paneHidden"),n.paneButton.style=c),_(n),n.pane.requireQueryButton&&p.parentNode.className&&1===f&&t.getElementById("queryButton")&&t.getElementById("queryButton").setAttribute("style","display:none;")))};"paneHidden"===r.getAttribute("class")?(u.shiftKey||d(),function(i){let o;a.log.info("outline: Rendering pane (2): "+i.name);try{o=i.render(n,e,s)}catch(e){o=t.createElement("div"),o.setAttribute("class","exceptionPane");const n=t.createElement("pre");o.appendChild(n),n.appendChild(t.createTextNode(a.utils.stackString(e)))}i.requireQueryButton&&t.getElementById("queryButton")&&t.getElementById("queryButton").removeAttribute("style");const l=p.firstChild.nextSibling,c=t.createElement("tr");c.appendChild(t.createElement("td")).appendChild(o),l?p.insertBefore(c,l):p.appendChild(c),c.pane=i,c.paneButton=r}(o),r.setAttribute("class","paneShown"),r.style=l):(d(o),r.setAttribute("class","paneHidden"),r.style=c);let f=0;for(let e=p.firstChild;e;e=e.nextSibling)e.pane&&e.pane.requireQueryButton&&f++},!1)}(h,r),h.setAttribute("class",p!==d?"paneHidden":"paneShown"),p===d&&(o.paneButton=h),u.appendChild(h)}),u}(s,{hideList:c})),o.firstChild.tabulatorSelect=function(){F(this,!0)},o.firstChild.tabulatorDeselect=function(){F(this,!1)},o}function _(e){const n=e.parentNode,r=n.parentNode,i=t.createElement("table");i.setAttribute("style","width: 100%;"),r.replaceChild(i,n),n.removeChild(e),r.replaceChild(n,i)}this.init=function(){y().outline=this},this.appendAccessIcons=function(e,t,n){if("NamedNode"!==n.termType)return;const r=e.uris(n);r.sort();let i=null;for(let e=0;e<r.length;e++)r[e]!==i&&(i=r[e],d.appendAccessIcon(t,i))},this.appendAccessIcon=function(e,n){if(!n)return"";const r=i.uri.docpart(n);if("http:"!==r.slice(0,5))return"";const o=m.getState(r);let s,c,u;switch(o){case"unrequested":s=l.outlineIcons.src.icon_unrequested,c="fetch",u=M;break;case"requested":s=l.outlineIcons.src.icon_requested,c="fetching",u=L;break;case"fetched":s=l.outlineIcons.src.icon_fetched,u=j,c="loaded";break;case"failed":s=l.outlineIcons.src.icon_failed,c="failed",u=L;break;case"unpermitted":s=l.outlineIcons.src.icon_failed,u=L,c="no perm";break;case"unfetchable":s=l.outlineIcons.src.icon_failed,u=L,c="cannot fetch";break;default:a.log.error("?? state = "+o)}const d=a.utils.AJARImage(s,c,l.outlineIcons.tooltips[s].replace(/[Tt]his resource/,r),t);return d.setAttribute("uri",n),d.addEventListener("click",u),function(e,t){a.log.debug("Button callbacks for "+t+" added");const n=function(n){return function(r){return r.indexOf("#"),!!e&&(!!p.ancestor(e,"DIV")&&(r===t&&(e.src=n,e.title=l.outlineIcons.tooltips[n]),!0))}};m.addCallback("request",n(l.outlineIcons.src.icon_requested)),m.addCallback("done",n(l.outlineIcons.src.icon_fetched)),m.addCallback("fail",n(l.outlineIcons.src.icon_failed))}(d,r),e.appendChild(d),d},this.outlineObjectTD=function(e,n,r,i){const o=t.createElement("td");o.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),o.setAttribute("notSelectable","false");return("NamedNode"===e.termType||"BlankNode"===e.termType||"Literal"===e.termType&&e.value.slice&&("ftp://"===e.value.slice(0,6)||"https://"===e.value.slice(0,8)||"http://"===e.value.slice(0,7)))&&(o.setAttribute("about",e.toNT()),o.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-expand-trans.png","expand",void 0,t)).addEventListener("click",N)),o.setAttribute("class","obj"),h.whether(e,a.ns.rdf("type"),a.ns.link("Request"))&&(o.className="undetermined"),n||(n=V),o.appendChild(n(e)),r&&function(e,n,r){const i=a.utils.AJARImage(l.outlineIcons.src.icon_remove_node,"remove",void 0,t);i.addEventListener("click",D),i.node=r,i.setAttribute("about",n.toNT()),i.style.marginLeft="5px",i.style.marginRight="10px",e.appendChild(i)}(o,e,r),o.tabulatorSelect=function(){F(this,!0)},o.tabulatorDeselect=function(){F(this,!1)},o.addEventListener("click",U),o},this.outlinePredicateTD=function(e,n,r,i){const o=t.createElement("TD");let s;switch(o.setAttribute("about",e.toNT()),o.setAttribute("class",i?"pred internal":"pred"),e.termType){case"BlankNode":o.className="undetermined";break;case"NamedNode":s=a.utils.predicateLabelForXML(e,r);break;case"Collection":s=a.utils.predicateLabelForXML(e.elements[0],r)}s=s.slice(0,1).toUpperCase()+s.slice(1);const c=t.createElement("TD");c.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),c.setAttribute("notSelectable","true"),c.appendChild(t.createTextNode(s)),o.appendChild(c),c.style.width="100%",o.appendChild(S.construct(t));for(const e in l.outlineIcons.termWidgets){if(!n||!n.AJAR_statement)break;l.outlineIcons.termWidgets[e].filter&&l.outlineIcons.termWidgets[e].filter(n.AJAR_statement,"pred",r)&&S.addIcon(o,l.outlineIcons.termWidgets[e])}return o.tabulatorSelect=function(){F(this,!0)},o.tabulatorDeselect=function(){F(this,!1)},o.addEventListener("click",U),o},this.getDashboard=v,this.getDashboardItems=b,this.showDashboard=async function(e={}){const t=w("GlobalDashboard"),n=y();if(t.childNodes.length>0&&e.pane){n.style.display="none",t.style.display="inherit";const r=t.querySelector(`[data-global-pane-name="${e.pane}"]`);if(r)return void r.click()}const r=await v({selectedTab:e.pane,onClose:a});o.authSession.events.on("logout",a),n.style.display="none",t.appendChild(r);const i=t.querySelector(`[data-global-pane-name="${e.pane}"]`);function a(){t.style.display="none",n.style.display="inherit"}i&&i.click()};const E=this.propertyTable=function(n,r,i,o){return a.log.debug("Property table for: "+n),n=h.canon(n),r?(a.log.info("Re-expand: "+r),r):((r=t.createElement("table")).setAttribute("style","width: 100%;"),k(n,i,o).then(i=>{if(r.appendChild(i),i.firstPane){let s;try{a.log.info("outline: Rendering pane (1): "+i.firstPane.name),s=i.firstPane.render(n,e,o)}catch(e){s=t.createElement("div"),s.setAttribute("class","exceptionPane");const n=t.createElement("pre");s.appendChild(n),n.appendChild(t.createTextNode(a.utils.stackString(e)))}const l=t.createElement("tr");l.appendChild(t.createElement("td")).appendChild(s),i.firstPane.requireQueryButton&&t.getElementById("queryButton")&&t.getElementById("queryButton").removeAttribute("style"),r.appendChild(l),l.pane=i.firstPane,l.paneButton=i.paneButton}}),r)};function C(e,t,n){const r=e.createElement("TR");r.AJAR_statement=t,r.AJAR_inverse=n,r.setAttribute("predTR","true");const i=d.outlinePredicateTD(t.predicate,r,n);return r.appendChild(i),r}this.propertyTR=C,this.appendPropertyTRs=function(e,n,r,i){if(a.log.debug("Property list length = "+n.length),0===n.length)return"";let o,s,l;r?(o=function(e){return e.subject},n=n.sort(a.utils.RDFComparePredicateSubject)):(o=function(e){return e.object},n=n.sort(a.utils.RDFComparePredicateObject));const c=n.length;for(s=0;s<c;s++){let u=n[s];if(i&&!i(u.predicate,r))continue;const f=C(t,u,r);e.appendChild(f);const m=f.firstChild;let g=W.defaults[u.predicate.uri],v=0,b=0,y=0;for(l=0;l+s<c&&n[s+l].predicate.sameTerm(u.predicate);l++)l>0&&o(n[s+l]).sameTerm(o(n[s+l-1]))&&v++,o(n[s+l]).lang&&p.labeller.LanguagePreference&&(b+=1,o(n[s+l]).lang.indexOf(p.labeller.LanguagePreference)>=0&&y++);if(y>0&&b===v+1){for(let e=s;e<=s+v;e++)if(p.labeller.LanguagePreference&&o(n[e]).lang.indexOf(p.labeller.LanguagePreference)>=0){f.appendChild(d.outlineObjectTD(o(n[e]),g,void 0,u));break}s+=v}else f.appendChild(d.outlineObjectTD(o(u),g,void 0,u)),f.showNobj=function(i){const c=l-v,p=2*i<c?i:c,f=[];if(1!==c){let v;m.setAttribute("rowspan",p===c?c:i+1),p<c&&1===p&&m.setAttribute("rowspan",2);let b=0;for(v=1;v<l;v++)if(h.canon(o(n[s+v])).sameTerm(h.canon(o(n[s+v-1]))))a.log.info("there are duplicates here: %s",n[s+v-1]);else{b++,u=n[s+v],g=W.defaults[u.predicate.uri];const i=t.createElement("tr");i.style.colspan="1",i.appendChild(d.outlineObjectTD(o(n[s+v]),g,void 0,u)),i.AJAR_statement=u,i.AJAR_inverse=r,e.appendChild(i),b>=p&&(i.style.display="none",f.push(i))}p===c&&m.setAttribute("rowspan",b+1)}if(p<c){const n=t.createElement("tr"),r=n.appendChild(t.createElement("td"));if(r.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),r.setAttribute("notSelectable","false"),c>i){const e=t.createElement("a");r.appendChild(e);const n=function(n,r,i,o){return function(r){e.innerHTML="","none"===r?(e.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-more-trans.png","more","See all",t)),e.appendChild(t.createTextNode(c-o+" more...")),n.setAttribute("rowspan",o+1)):(e.appendChild(a.utils.AJARImage(a.icons.originalIconBase+"tbl-shrink.png","(less)",void 0,t)),n.setAttribute("rowspan",c+1));for(let e=0;e<f.length;e++)f[e].style.display=r}}(m,0,0,i);let o="none";const s=function(e){return n(o),o="none"===o?"":"none",e&&e.stopPropagation(),!1};s(),e.addEventListener("click",s,!1)}e.appendChild(n)}},f.showAllobj=function(){f.showNobj(l-v)},f.showNobj(10),s+=l-1}};const S={};n.g.termWidget=S,S.construct=function(e){const t=(e=e||document).createElement("TD");return t.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),t.setAttribute("class","iconTD"),t.setAttribute("notSelectable","true"),t.style.width="0px",t},S.addIcon=function(e,n,r){const i=e.childNodes[1];if(!i)return;let o=i.style.width;const s=a.utils.AJARImage(n.src,n.alt,n.tooltip,t);o=parseInt(o),o+=n.width,i.style.width=o+"px",i.appendChild(s),r&&s.addEventListener("click",r)},S.removeIcon=function(e,n){const r=e.childNodes[1];let a;if(!r)return;let o=r.style.width;o=parseInt(o),o-=n.width,r.style.width=o+"px";for(let e=0;e<r.childNodes.length;e++){const o=r.childNodes[e],s=o.src;try{a=t.location.href.split("?")[0]}catch(e){a=""}s===i.uri.join(n.src,a)&&r.removeChild(o)}},S.replaceIcon=function(e,t,n,r){S.removeIcon(e,t),S.addIcon(e,n,r)};function A(e){const t=e.getAttribute("class");return!!(t&&t.indexOf("selected")>=0)}function T(e){const t=d.targetOf(e).parentNode;S.replaceIcon(t.parentNode,l.outlineIcons.termWidgets.optOn,l.outlineIcons.termWidgets.optOff,R),t.parentNode.parentNode.removeAttribute("optional")}function R(e){const t=d.targetOf(e).parentNode;S.replaceIcon(t.parentNode,l.outlineIcons.termWidgets.optOff,l.outlineIcons.termWidgets.optOn,T),t.parentNode.parentNode.setAttribute("optional","true")}function P(e,t){const n=l.outlineIcons.termWidgets.optOn,r=l.outlineIcons.termWidgets.optOff;for(let i=e;i.parentNode;i=i.parentNode)for(;;){if(i.getAttribute("predTR")){let e=i.getAttribute("parentOfSelected");e=e?parseInt(e):0,0===e&&t>0&&S.addIcon(i.childNodes[0],i.getAttribute("optional")?n:r,i.getAttribute("optional")?T:R),e+=t,i.setAttribute("parentOfSelected",e),0===e&&(i.removeAttribute("parentOfSelected"),S.removeIcon(i.childNodes[0],i.getAttribute("optional")?n:r));break}if(!i.previousSibling||"TR"!==i.previousSibling.nodeName)break;i=i.previousSibling}}function F(e,t){if("TD"!==e.nodeName)throw a.log.debug("down"+e.nodeName),new Error("Expected TD in setSelected: "+e.nodeName+" : "+e.textContent);a.log.debug("pass");let n=e.getAttribute("class");if(n||(n=""),t){n+=" selected",(n.indexOf("pred")>=0||n.indexOf("obj")>=0)&&P(e,1),f.push(e);const t=a.utils.getTerm(e);d.showURI(t);let r=e.AJAR_statement;if(void 0===r&&e.parentNode&&(r=e.parentNode.AJAR_statement),r){const t=r.why,i=o.store.updater.editable(t.uri,h);i&&n.indexOf("pred")>=0&&S.addIcon(e,l.outlineIcons.termWidgets.addTri)}}else a.log.debug("cla=$"+n+"$"),"selected"===n&&(n=""),n=n.replace(" selected",""),(n.indexOf("pred")>=0||n.indexOf("obj")>=0)&&P(e,-1),n.indexOf("pred")>=0&&S.removeIcon(e,l.outlineIcons.termWidgets.addTri),f=f.filter(function(t){return t===e}),a.log.info("Deselecting "+e.textContent);"undefined"!=typeof sourceWidget&&d.showSource(),e.setAttribute("class",n)}function I(){for(let e=f.length-1;e>=0;e--)F(f[e],!1);f=[]}function N(e){const t=d.targetOf(e),n=t.parentNode,i=a.utils.getAbout(h,t);e.altKey&&r.byName("internal");e.shiftKey?q(n,i):e.altKey?z(n,i,{pane:r.byName("internal"),immediate:!0}):z(n,i)}function O(e){const t=d.targetOf(e),n=a.utils.getAbout(h,t);e.altKey&&r.byName("internal");H(t.parentNode.parentNode,n)}function L(e){const t=d.targetOf(e).getAttribute("uri");e.altKey?m.fetch(i.uri.docpart(t),{force:!0}):m.refresh(h.sym(i.uri.docpart(t)))}function j(e){const t=d.targetOf(e).getAttribute("uri");e.altKey?m.fetch(i.uri.docpart(t),{force:!0}):m.refresh(h.sym(i.uri.docpart(t)))}function M(e){const t=d.targetOf(e).getAttribute("uri");m.fetch(i.uri.docpart(t))}function D(e){const t=d.targetOf(e);let n=t.node;n.childNodes.length>1&&(n=t.parentNode),_(n)}function U(e){if(d.UserInput._tabulatorMode)return d.UserInput.Click(e);const t=d.targetOf(e);let n;for(n=a.utils.ancestor(t,"TD");n&&"false"!==n.getAttribute("notSelectable");n=a.utils.ancestor(n.parentNode,"TD"));if(!n)return;const r=A(n);if(a.log.debug("Was node selected before: "+r),e.altKey)F(n,!A(n));else if(e.shiftKey)F(n,!0);else{if(I(),d.UserInput.clearInputAndSave(e),F(n,!0),2===e.detail)return void e.stopPropagation();let t;if(n.parentNode&&(t=n.parentNode.AJAR_statement),!t)return;const i=t.why,a=o.store.updater.editable(i.uri,h);r&&a&&d.UserInput.Click(e,f[0])}a.log.debug("Was node selected after: "+A(n)+", count="+f.length),e.stopPropagation()}function B(e){t.title=a.utils.label(e),t.location.href.startsWith(e.site().uri)}function z(e,n,r){const o=(r=r||{}).pane;let s=!!r.already;const l=r.immediate;a.log.info("@outlineExpand, dom is now "+t.location),m.removeCallback("done","expand"),m.removeCallback("fail","expand");let c=h.canon(n);function u(){if(c=h.canon(c),!e||!e.parentNode||!e.parentNode.parentNode)return!1;let t;if(a.log.info("@@ REPAINTING "),s){for(a.log.info(" ... p is  "+e),t=e.firstChild;t.nextSibling&&(a.log.info(" ... checking node "+t),"table"!==t.nodeName);t=t.nextSibling);t=E(c,t,o,r)}else t=E(c,void 0,o,r);s=!0,a.utils.ancestor(e,"TABLE")&&"white"===a.utils.ancestor(e,"TABLE").style.backgroundColor?t.style.backgroundColor="#eee":t.style.backgroundColor="white",a.utils.emptyNode(e).appendChild(t),d.focusTd=e,a.log.debug("expand: Node for "+c+" expanded");const n=h.each(c,a.ns.rdfs("seeAlso"));for(let e=0;e<n.length;e++)25===e&&a.log.warn("expand: Warning: many ("+n.length+") seeAlso links for "+c),m.lookUpThing(n[e],c)}function p(e){if(arguments[3])return!0;const t=h.canon(c);a.log.info("@@ expand: relevant subject="+t+", uri="+e+", already="+s);const n=h.sym(i.uri.docpart(e));if(e.indexOf("#")>=0)throw new Error("Internal error: hash in "+e);return!function(){if(!t.uri)return!0;const r=h.uris(t);if(!r)return!1;for(let t=0;t<r.length;t++)for(let n=i.uri.docpart(r[t]);n;n=h.HTTPRedirects[n])if(e===n)return!0;return!!h.anyStatementMatching(t,void 0,void 0,n)}()||(a.log.success("@@ expand OK: relevant subject="+t+", uri="+e+", source="+s),u(),!1)}r.solo&&B(c),a.log.debug("outlineExpand: dereferencing "+c);const f=t.createElement("span");e.appendChild(f),m.addCallback("done",p),m.addCallback("fail",p);const v=[];if(c.uri&&"rdf"===c.uri.split(":")[0])u();else{for(let e=0;e<v.length;e++){let t;if(t===v[e](c))return u(),a.log.debug("outline 1815"),void(t[1]&&g.removeChild(g.lastChild))}!c.uri||l||a.widgets.isAudio(c)||a.widgets.isVideo(c)?u():m.nowOrWhenFetched(c.doc(),void 0,function(n,i){if(n)m.lookUpThing(c),u(),r.solo&&B(c);else{const n=t.createElement("pre");n.textContent=i,n.setAttribute("style","background-color: #fee;"),n.textContent="Outline.expand: Unable to fetch "+c.doc()+": "+i,e.appendChild(n)}})}}function H(e,t){let n,r,i,o,s=a.utils.ancestor(e,"TR");for(s=a.utils.ancestor(s.parentNode,"TR"),s&&(n=s.AJAR_statement),r=e.parentNode;"TD"!==r.tagName;r=r.parentNode)if(void 0===r)return void alert("Not enclosed in TD!");a.log.debug("Collapsing subject "+t),n&&(a.log.debug("looking up pred "+n.predicate.uri+"in defaults"),i=W.defaults[n.predicate.uri]),a.log.debug("view= "+i),"outline"===r.parentNode.parentNode.id&&(o=r.parentNode),d.replaceTD(d.outlineObjectTD(t,i,o,n),r)}function q(e,t){let n=null;for(let t=e.parentNode;t;t=t.parentNode)a.log.debug("level "+t.tagName),"TD"===t.tagName&&(n=t);a.utils.emptyNode(n).appendChild(E(t)),B(t),n.setAttribute("about",t.toNT())}new function(){this.pat=h.formula(),this.vars=[]},this.statusBarClick=function(e){const t=a.utils.getTarget(e);t.label&&(window.content.location=t.label)},this.showURI=function(e){e&&t.getElementById("UserURI")&&(t.getElementById("UserURI").value="NamedNode"===e.termType?e.uri:"")},this.showSource=function(){if("undefined"!=typeof sourceWidget){for(const e in sourceWidget.sources)sourceWidget.sources[e].setAttribute("class","");for(let e=0;e<f.length;e++){if(!f[e].parentNode)continue;const t=f[e].parentNode.AJAR_statement;if(!t)continue;const n=t.why;n&&n.uri&&sourceWidget.highlight(n,!0)}}},this.getSelection=function(){return f},this.targetOf=function(e){let t;if(e||(e=window.event),e.target)t=e.target;else{if(!e.srcElement)return a.log.error("can't get target for event "+e),!1;t=e.srcElement}return 3===t.nodeType&&(t=t.parentNode),t},this.walk=function(e,n){const r=n||f[0];let i;switch(e){case"down":try{i=r.parentNode.nextSibling.lastChild}catch(e){return void this.walk("up")}I(),F(i,!0);break;case"up":try{i=r.parentNode.previousSibling.lastChild}catch(e){return}I(),F(i,!0);break;case"right":if(I(),r.nextSibling||"strong"===r.lastChild.tagName)F(r.nextSibling,!0);else{F(t.evaluate("table/div/tr/td[2]",r,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,!0)}break;case"left":if(I(),r.previousSibling&&"undetermined"===r.previousSibling.className)return F(r.previousSibling,!0),!0;F(a.utils.ancestor(r.parentNode,"TD"),!0);break;case"moveTo":I(),F(n,!0)}"down"!==e&&"up"!==e||i.tabulatorSelect||this.walk(e)},this.OutlinerKeypressPanel=function(e){function n(e){e&&t.getElementById("UserURI")&&(t.getElementById("UserURI").value="NamedNode"===e.termType?e.uri:"")}function i(e){return arguments[3]||(u("right",c),n(a.utils.getAbout(h,f[0]))),!0}let s,l;if(a.log.info("Key "+e.keyCode+" pressed"),"TEXTAREA"===a.utils.getTarget(e).tagName)return;if("UserURI"===a.utils.getTarget(e).id)return;if(f.length>1)return;if(0===f.length)return void(13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode||(this.walk("right",d.focusTd),n(a.utils.getAbout(h,f[0]))));const c=f[0];switch(m.removeCallback("done","setSelectedAfterward"),m.removeCallback("fail","setSelectedAfterward"),e.keyCode){case 13:if("HTML"===a.utils.getTarget(e).tagName){const e=a.utils.getAbout(h,c);s=c.parentNode.AJAR_statement.why,l=o.store.updater.editable(s.uri,h),e?p.GotoSubject(e,!0):l&&d.UserInput.Enter(c)}else this.UserInput.Keypress(e),this.walk("down"),e.stopPropagation();return;case 38:this.walk("up"),e.stopPropagation(),e.preventDefault();break;case 40:this.walk("down"),e.stopPropagation(),e.preventDefault()}if("INPUT"===a.utils.getTarget(e).tagName)return;let u;switch(e.keyCode){case 46:case 8:s=c.parentNode.AJAR_statement.why,l=o.store.updater.editable(s.uri,h),l&&(e.preventDefault(),this.UserInput.Delete(c));break;case 37:{if(this.walk("left"))return;const e=a.utils.ancestor(c.parentNode,"TD");H(c,a.utils.getAbout(h,e));break}case 39:{const e=a.utils.getAbout(h,c);if(e){if(u=this.walk,c.nextSibling)return void this.walk("right");"TABLE"!==c.firstChild.tagName&&(m.addCallback("done",i),m.addCallback("fail",i),z(c,e,{pane:r.byName("defaultPane")})),i()}}break;case 38:case 40:break;default:switch(e.charCode){case 99:if(e.ctrlKey){d.UserInput.copyToClipboard(d.clipboardAddress,c);break}break;case 118:case 112:if(e.ctrlKey){d.UserInput.pasteFromClipboard(d.clipboardAddress,c);break}break;default:a.utils.getTarget(e).tagName}}if(n(a.utils.getAbout(h,f[0])),f[0]){const e=a.utils.findPos(f[0])[1];e+f[0].clientHeight>window.scrollY+window.innerHeight&&a.utils.getEyeFocus(f[0],!0,!0,window),e<window.scrollY+54&&a.utils.getEyeFocus(f[0],!0,void 0,window)}},this.OutlinerMouseclickPanel=function(e){switch(d.UserInput._tabulatorMode){case 0:!function(e){a.log.info("@TabulatorMousedown, dom.location is now "+t.location);const n=d.targetOf(e);if(!n)return;const r=n.tagName;"INPUT"!==r&&"TEXTAREA"!==r&&(d.UserInput.clearMenu(),d.UserInput.lastModified&&d.UserInput.lastModified.parentNode.nextSibling&&d.UserInput.backOut(),(!n.src||n.src.slice(n.src.indexOf("/icons/")+1)!==l.outlineIcons.src.icon_show_choices&&n.src.slice(n.src.indexOf("/icons/")+1)!==l.outlineIcons.src.icon_add_triple)&&d.UserInput.clearInputAndSave(e),n.src&&n.src.slice(n.src.indexOf("/icons/")+1)===l.outlineIcons.src.icon_show_choices||d.UserInput.clearMenu(),e&&e.stopPropagation())}(e);break;case 1:d.UserInput.Click(e)}},this.replaceTD=function(e,t){let n;A(t)&&(n=!0);for(let e=f.length-1;e>-1;e--)for(let n=f[e];n.parentNode;n=n.parentNode)n===t&&F(f[e],!1);t.parentNode.replaceChild(e,t),n&&F(e,!0)},p.outlineRefocus=q,this.GotoFormURI_enterKey=function(e){13===e.keyCode&&p.GotoFormURI(e)},this.GotoFormURI=function(e){!function(e){const t=h.sym(e);this.GotoSubject(t,!0)}(t.getElementById("UserURI").value)},this.GotoURIinit=function(e){const t=h.sym(e);this.GotoSubject(t)},this.GotoSubject=function(e,n,r,i,o,s){s=s||t.getElementById("outline"),i&&(a.utils.emptyNode(s),s.style.width="100%");const l=function(){const n=t.createElement("TR");n.style.verticalAlign="top",s.appendChild(n);const r=d.outlineObjectTD(e,void 0,n);return n.appendChild(r),r}();if(i&&B(e),n){z(l,e,{pane:r,solo:i});const t=l.parentNode;a.utils.getEyeFocus(t,!1,void 0,window)}if(i&&t&&t.defaultView&&t.defaultView.history&&document.location.href!==e.uri){const n=r?{paneName:r.name}:{};try{t.defaultView.history.pushState(n,e.uri,e.uri)}catch(e){}}return e};const $=a.ns,W=(0,s.propertyViews)(t);function V(n){let i;if("Literal"===n.termType){const e={integer:"text-align: right;",decimal:"text-align: '.';",double:"text-align: '.';"};i=t.createElement("span"),i.textContent=n.value;let r="";if(n.datatype&&n.datatype.uri){const t=a.ns.xsd("").uri;n.datatype.uri.slice(0,t.length)===t&&(r=e[n.datatype.uri.slice(t.length)])}i.setAttribute("style",r||"white-space: pre-wrap;")}else if("NamedNode"===n.termType||"BlankNode"===n.termType)if(i=t.createElement("span"),i.setAttribute("about",n.toNT()),d.appendAccessIcons(h,i,n),"NamedNode"===n.termType)if("tel:"===n.uri.slice(0,4)){const e=n.uri.slice(4),r=t.createElement("a");i.appendChild(t.createTextNode(e)),r.setAttribute("href",n.uri),r.appendChild(a.utils.AJARImage(l.outlineIcons.src.icon_telephone,"phone","phone "+e,t)),i.appendChild(r),r.firstChild.setAttribute("class","phoneIcon")}else{i.appendChild(t.createTextNode(a.utils.label(n)));const e=a.widgets.linkIcon(t,n);i.appendChild(e),a.widgets.makeDraggable(i,n)}else i.appendChild(t.createTextNode(a.utils.label(n)));else if("Collection"===n.termType){i=t.createElement("table"),i.setAttribute("style","width: 100%;"),i.setAttribute("about",n.toNT());for(let e=0;e<n.elements.length;e++){const r=n.elements[e],a=i.appendChild(t.createElement("tr")),o=a.appendChild(t.createElement("td"));o.setAttribute("style","margin: 0.2em; border: none; padding: 0; vertical-align: top;"),o.setAttribute("notSelectable","false"),o.setAttribute("about",n.toNT()),o.innerHTML=e+1+")",a.appendChild(d.outlineObjectTD(r))}}else"Graph"===n.termType?(i=r.byName("dataContentPane").statementsAsTables(n.statements,e),i.setAttribute("class","nestedFormula")):(a.log.error("Object "+n+" has unknown term type: "+n.termType),i=t.createTextNode("[unknownTermType:"+n.termType+"]"));return a.log.debug("contents: "+i.innerHTML),i}return this.createTabURI=function(){t.getElementById("UserURI").value=t.URL+"?uri="+t.getElementById("UserURI").value},this.UserInput.setSelected=F,this.UserInput.deselectAll=I,this.UserInput.views=W,this.outlineExpand=z,this};var r=p(n(4059)),i=p(n(8230)),a=p(n(500)),o=n(9332),s=n(8071),l=n(7132),c=n(7339),u=p(n(2697));function p(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(p=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}},7983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeCard=void 0;var r=n(6752),i=n(4572),a=n(2378),o=n(500);(0,a.styleMap)((0,i.fullWidth)()),(0,a.styleMap)({...(0,i.textGray)(),...(0,i.textCenter)()});const s=(0,a.styleMap)({});(0,a.styleMap)({...(0,i.paddingSmall)(),...(0,i.textLeft)()});t.QRCodeCard=(e,t)=>{const n=(0,a.styleMap)({...(0,i.heading)(),color:e.highlightColor}),l=e.highlightColor||"#000000",c=e.backgroundColor||"#ffffff",u="BEGIN:VCARD\r\n"+("FN:"+o.utils.label(t)+"\r\n")+("URL:"+t.uri+"r\n")+"END:VCARD\r\nVERSION:4.0\r\n";return r.html`
  <div>
    <div style=${s}>
      <h3 style=${n}>${e.name}</h3>
      <div class="QRCode" style="${"width: 80%; margin:auto;"}" data-value="${u}" highlightColor="${l}" backgroundColor="${c}"></div>
    </div>
  </div>
  `}},8055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.longChatPane=void 0;var r=n(9332),i=o(n(500)),a=o(n(8230));function o(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const s=i.ns,l=s.meeting("LongChat"),c="index.ttl#this",u=i.style.sidebarComponentStyle||" padding: 0.5em; width: 100%;",p=i.style.sidebarStyle||"overflow-x: auto; overflow-y: auto; border-radius: 1em; border: 0.1em solid white;";t.longChatPane={CHAT_LOCATION_IN_CONTAINER:c,icon:i.icons.iconBase+"noun_1689339.svg",name:"long chat",label:function(e,t){const n=t.session.store;return n.holds(e,s.rdf("type"),s.meeting("LongChat"))?"Chat channnel":n.holds(e,s.rdf("type"),s.sioc("Thread"))?"Thread":n.any(e,s.sioc("content"))&&n.any(e,s.dct("created"))?"message":null},mintClass:l,mintNew:function(e,t){const n=e.session.store,r=n.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);const i=t.newInstance=t.newInstance||n.sym(t.newBase+c),a=i.doc();n.add(i,s.rdf("type"),s.meeting("LongChat"),a),n.add(i,s.dc("title"),"Chat channel",a),n.add(i,s.dc("created"),new Date,a),t.me&&n.add(i,s.dc("author"),t.me,a);const o=(e,t,n)=>`\n    @prefix : <#>.\n    @prefix acl: <http://www.w3.org/ns/auth/acl#>.\n    @prefix foaf: <http://xmlns.com/foaf/0.1/>.\n    @prefix lon: <./${t}>.\n\n    :ControlReadWrite\n        a acl:Authorization;\n        acl:accessTo lon:;\n        acl:agent <${e.uri}>;\n        acl:default lon:;\n        acl:mode acl:Control, acl:Read, acl:Write.\n    :Read\n        a acl:Authorization;\n        acl:accessTo lon:;\n        acl:agentClass foaf:Agent;\n        acl:default lon:;\n        acl:mode acl:Read.\n    :Read${n}\n        a acl:Authorization;\n        acl:accessTo lon:;\n        acl:agentClass acl:AuthenticatedAgent;\n        acl:default lon:;\n        acl:mode acl:Read, acl:${n}.`;return new Promise(function(e,i){r.put(a,n.statementsMatching(void 0,void 0,void 0,a),"text/turtle",function(n,r,a){r?e(t):i(new Error("FAILED to save new chat channel at: "+n+" : "+a))}).then(e=>new Promise((e,r)=>{t.me&&(n.fetcher.webOperation("PUT",t.newBase+".acl",{data:o(t.me,"","Append"),contentType:"text/turtle"}),n.fetcher.webOperation("PUT",t.newBase+"index.ttl.acl",{data:o(t.me,"index.ttl","Write"),contentType:"text/turtle"})),e(t)}))})},render:function(e,t,n){const o=t.dom,c=t.session.store,d=c.sym("https://solid.github.io/solid-panes/longCharPane/preferencesForm.ttl#this"),f=d.doc();c.holds(void 0,void 0,void 0,f)||a.parse('\n    @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n    @prefix solid: <http://www.w3.org/ns/solid/terms#>.\n    @prefix ui: <http://www.w3.org/ns/ui#>.\n    @prefix : <#>.\n\n    :this\n      <http://purl.org/dc/elements/1.1/title> "Chat preferences" ;\n      a ui:Form ;\n      ui:parts ( :colorizeByAuthor :expandImagesInline :newestFirst :inlineImageHeightEms\n                  :shiftEnterSendsMessage :authorDateOnLeft :showDeletedMessages).\n\n    :colorizeByAuthor a ui:TristateField; ui:property solid:colorizeByAuthor;\n    ui:label "Color user input by user".\n\n    :expandImagesInline a ui:TristateField; ui:property solid:expandImagesInline;\n    ui:label "Expand image URLs inline".\n\n    :newestFirst a ui:TristateField; ui:property solid:newestFirst;\n    ui:label "Newest messages at the top".\n\n    :inlineImageHeightEms a ui:IntegerField; ui:property solid:inlineImageHeightEms;\n    ui:label "Inline image height (lines)".\n\n    :shiftEnterSendsMessage a ui:TristateField; ui:property solid:shiftEnterSendsMessage;\n    ui:label "Shift-Enter sends message".\n\n    :authorDateOnLeft a ui:TristateField; ui:property solid:authorDateOnLeft;\n    ui:label "Author & date of message on left".\n\n    :showDeletedMessages a ui:TristateField; ui:property solid:showDeletedMessages;\n    ui:label "Show placeholders for deleted messages".\n',c,f.uri,"text/turtle");const h=c.statementsMatching(null,s.ui.property,null,f).map(e=>e.object);function m(e){const n=i.widgets.button(t.dom,i.icons.iconBase+"noun_1180156.svg","close",function(){e.parentNode.removeChild(e)});return n.style.float="right",n.style.margin="0.7em",delete n.style.backgroundColor,n}function g(e,n){const a=o.createElement("div"),s=r.authn.currentUser(),l={div:a,dom:o,noun:n,statusArea:a,me:s,refreshTarget:e},c=[t.session.paneRegistry.byName("chat")];return i.create.newThingUI(l,t,c),a}let v,b=null;let y=e,w=null,x=null;if(c.holds(e,s.rdf("type"),s.meeting("LongChat")));else if(c.holds(e,s.rdf("type"),s.sioc("Thread"))){x=e;const t=c.the(null,s.sioc("has_reply"),x,x.doc());if(!t)throw new Error("Thread has no root message "+x);if(y=c.any(null,s.wf("message"),t),!y)throw new Error("Thread root has no link to chatChannel")}else if(c.any(e,s.sioc("content"))&&c.any(e,s.dct("created"))&&(w=e,y=c.any(null,s.wf("message"),w),!y))throw new Error("Message has no link to chatChannel");const k=o.createElement("div"),_="20cm",E=k.appendChild(o.createElement("table"));E.style.maxHeight='12"';const C=E.appendChild(o.createElement("tr")),S=C.appendChild(o.createElement("td")),A=C.appendChild(o.createElement("td")),T=C.appendChild(o.createElement("td")),R=C.appendChild(o.createElement("td")),P=E.appendChild(o.createElement("tr"));S.style=p,S.style.paddingRight="1em",T.style=p,T.style.paddingLeft="1em",R.style=p,R.style.paddingLeft="1em",P.appendChild(o.createElement("td"));const F=P.appendChild(o.createElement("td"));P.appendChild(o.createElement("td"));const I=i.widgets.button(o,i.icons.iconBase+"noun_339237.svg","participants ...");F.appendChild(I),I.addEventListener("click",function(e){if(!v){v=o.createElement("div"),v.style=u,v.style.maxHeight=_,v.appendChild(m(v));const e=r.authn.currentUser();e||alert("Should be logeed in for partipants panel"),i.pad.manageParticipation(o,v,y.doc(),y,e,{})}S.contains(v)?(v.parentNode.removeChild(v),v=null):S.appendChild(v)});const N=i.widgets.button(o,i.icons.iconBase+"noun_1689339.svg","List of other chats ...");F.appendChild(N),N.addEventListener("click",async function(e){b||(b=o.createElement("div"),b.style=u,b.style.maxHeight=_,b.appendChild(m(b)),b.appendChild(await async function(e,t){const n=o.createElement("div"),r={dom:o,div:n,noun:t};return await i.login.registrationList(r,{public:!0,private:!0,type:e}),n.appendChild(g(n,t)),n}(s.meeting("LongChat"),"chat"))),S.contains(b)?b.parentNode.removeChild(b):S.appendChild(b)});let O=null;const L=i.widgets.button(o,i.icons.iconBase+"noun_344563.svg","Setting ...");F.appendChild(L),L.style.float="right",L.addEventListener("click",async function(e){O||(O=await async function(e){const{dom:t,noun:n}=e,a=t.createElement("div");a.appendChild(m(a)),a.style=u,a.style.minWidth="25em",a.style.maxHeight=_;const o=a.appendChild(t.createElement("table")),s=o.appendChild(t.createElement("tr")),p=o.appendChild(t.createElement("tr")),f=r.authn.currentUser();return f&&(await i.login.registrationControl({noun:n,me:f,statusArea:p,dom:t,div:s},y,l),a.appendChild(i.preferences.renderPreferencesForm(y,l,d,{noun:n,me:f,statusArea:p,div:a,dom:t,kb:c}))),a}({dom:o,noun:"chat room"})),R.contains(O)?(O.parentNode.removeChild(O),O=null):R.appendChild(O)}),k.setAttribute("class","chatPane");const j={infinite:!0},M={noun:"chat room",div:k,dom:o};async function D(e,t){const n={};n.thread=e,n.includeRemoveButton=!0,n.authorDateOnLeft=t.authorDateOnLeft,n.newestFirst=t.newestFirst,T.innerHTML="";const r=await i.infiniteMessageArea(o,c,y,n);r.style.resize="both",r.style.overflow="auto",r.style.maxHeight=_,T.appendChild(r)}return M.me=r.authn.currentUser(),async function(){let e;try{e=await i.preferences.getPreferencesForClass(y,l,h,M)}catch(e){i.widgets.complain(M,e)}for(const t in e)j[t.split("#")[1]]=e[t];w&&(j.selectedMessage=w),n.solo&&(j.solo=!0),x?j.thread=x:j.showThread=D;const t=await i.infiniteMessageArea(o,c,y,j);t.style.resize="both",t.style.overflow="auto",t.style.maxHeight=_,A.appendChild(t)}().then(void 0),k}}},8071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propertyViews=function(e){const t={properties:[],defaults:[],classes:[]},n=(0,i.default)(e),o=(0,a.default)(e);return s(t,r.ns.foaf("depiction").uri,n,!0),s(t,r.ns.foaf("img").uri,n,!0),s(t,r.ns.foaf("thumbnail").uri,n,!0),s(t,r.ns.foaf("logo").uri,n,!0),s(t,r.ns.schema("image").uri,n,!0),s(t,r.ns.foaf("mbox").uri,o,!0),t},t.viewsAddPropertyView=s;var r=n(500),i=o(n(3660)),a=o(n(6357));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){e.properties[t]||(e.properties[t]=[]),e.properties[t].push(n),r&&(e.defaults[t]=n)}},8131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500));const i=r.ns;t.default={icon:r.icons.iconBase+"noun_142708.svg",name:"period",audience:[i.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/2000/10/swap/pim/qif#Period"]?"period":null},render:function(e,t){const n=t.dom,i=t.session.store,a=r.ns,o=n.createElement("div");o.setAttribute("class","periodPane");const s=function(e,t){t||(t="color: grey;");const r=n.createElement("pre");r.setAttribute("style",t),o.appendChild(r),r.appendChild(n.createTextNode(e))},l=function(e){return s("✓ "+e,"color: #010; background-color: #efe")},c=function(e){return s(e,"color: #100; background-color: #fee")},u=function(){const s=i.any(e,a.cal("dtstart"));void 0===s&&c("(Error: There is no start date known for this period <"+e.uri+">,\n -- every period needs one.)");const u=i.any(e,a.cal("dtend"));void 0===u&&c("(Error: There is no end date known for this period <"+e.uri+">,\n -- every period needs one.)");const p={};var d;d=a.rdf("type"),p[d.uri]=!0;const f=function(e){return!!((t=i.any(e,a.qu("date")))&&t>=s&&t<u);var t},h=function(e,t){const n=i.any(e,a.qu("date")),r=i.any(t,a.qu("date"));if(void 0!==n&&void 0!==r){if(n.value<r.value)return-1;if(n.value>r.value)return 1}return e.uri<t.uri?-1:e.uri>t.uri?1:0};o.appendChild(n.createElement("h2")).textContent="Period "+s.value.slice(0,10)+" - "+u.value.slice(0,10);const m=function(e,n,r,i,a){n.expanded?(n.parentNode.removeChild(n.expanded),n.expanded=!1):function(e,n,r,i,a){const o=n.parentNode.children;if(a)for(let e=o.length-1;e>=0;e--)o[e].expanded&&(o[e].parentNode.removeChild(o[e].expanded),o[e].expanded=!1);const s=e.createElement("tr"),l=s.appendChild(e.createElement("td"));l.setAttribute("style","width: 98%; padding: 1em; border: 0.1em solid grey;");const c=n.children.length;n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s),n.expanded=s,l.setAttribute("colspan",""+c),l.appendChild(function(e,t,n){const r=e.session.paneRegistry.byName(n).render(t,e);return r.setAttribute("style","border: 0.1em solid green;"),r}(t,r,i))}(e,n,r,i,a)},g=function(e,t){const n=e.createElement("table");n.setAttribute("style","margin-left: 100; font-size: 9pt; width: 85%;");const o=function(e,t){const n=e.createElement("tr"),o=i.any(t,a.qu("toAccount"));!function(e,t){let n="margin-left: 8em; padding-left: 5em;";if(t){const e=i.any(t,r.ns.ui("backgroundColor"));e&&(n+="background-color: "+e.value+"; ")}e.setAttribute("style",n)}(n,o);const s=n.appendChild(e.createElement("td")),l=i.any(t,a.qu("date"));s.textContent=l?l.value.slice(0,10):"???",s.setAttribute("style","width: 7em;");const c=n.appendChild(e.createElement("td"));c.setAttribute("style","width: 36em;");const u=i.any(t,a.qu("payee"));c.textContent=u?u.value:"???";const p=c.appendChild(e.createElement("a"));p.textContent=" ➜",p.setAttribute("href",t.uri);const d=n.appendChild(e.createElement("td")),f=i.any(t,a.qu("in_USD"));return d.textContent=f?function(e){const t=""+e;return t.indexOf(".")>=0?t.split(".")[0]+"."+(t.split(".")[1]+"00").slice(0,2):t+".00"}(f.value):"???",d.setAttribute("style","width: 6em; text-align: right; "),n.addEventListener("click",function(r){m(e,n,t,"transaction",!r.shiftKey)},!1),n},s=t.filter(f);s.sort(h);for(let t=0;t<s.length;t++)n.appendChild(o(e,s[t]));return n},v={"http://www.w3.org/2000/10/swap/pim/qif#Transaction":!0,"http://www.w3.org/2000/10/swap/pim/qif#Unclassified":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedOutgoing":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedIncome":!0},b=i.findMemberURIs(a.qu("Transaction")),y=[],w=[];let x,k,_,E;for(const e in b)if(Object.prototype.hasOwnProperty.call(b,e)){k=i.sym(e);const t=i.each(k,a.rdf("type"));let n=!1;for(let e=0;e<t.length;e++){void 0===v[t[e].uri]&&(n=!0)}n||(x=i.any(k,a.qu("in_USD")),void 0===x&&(x=i.any(k,a.qu("amount"))),x&&(""+x.value).indexOf("-")>=0?w.push(i.sym(e)):y.push(i.sym(e)))}y.length?(_=g(n,y),E=_.children.length,o.appendChild(n.createElement("h3")).textContent="Unclassified Income"+(E<4?"":" ("+E+")"),o.appendChild(_)):l("No unclassified income"),w.length?(_=g(n,w),E=_.children.length,o.appendChild(n.createElement("h3")).textContent="Unclassified Outgoings"+(E<4?"":" ("+E+")"),o.appendChild(_)):l("No unclassified outgoings ");const C=function(e,t){const s=function(e){const t=i.findSubClassesNT(a.qu("Transaction"));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&n.slice(1,-1).split("#")[1]===e)return i.sym(n.slice(1,-1));return null}(e);let l;const u=[];let p=0;if(!s)return c("Error: No category correspnding to "+e),null;const d=i.each(void 0,a.rdf("type"),s);for(let e=0;e<d.length;e++)i.any(d[e],t)||u.push(d[e]);return u.length&&(l=g(n,u),p=l.children.length,o.appendChild(n.createElement("h3")).textContent=r.utils.label(s)+" with no "+r.utils.label(t)+(p<4?"":" ("+p+")"),o.appendChild(l)),p};0===C("Reimbursables",a.trip("trip"))&&l("Reimbursables all have trips"),0===C("Other_Inc_Speaking",a.trip("trip"))&&l("Speaking income all has trips")};if(i.findTypeURIs(e)["http://www.w3.org/2000/10/swap/pim/qif#Period"]){const t=i.each(e,a.rdfs("seeAlso"));i.fetcher.load(t).then(function(){u()})}return o}}},8223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderMugshotGallery=function(e,t){function n(t){w.appendChild(i.widgets.errorMessageBlock(e,t,"pink"))}async function r(e,t,n){const r=[s.st(e,c.vcard("hasPhoto"),t,e.doc())];try{n?await p.updater.update(r,[]):await p.updater.update([],r)}catch(e){alert(" Write back image link FAIL "+t+", Error: "+e)}}function l(e){p.fetcher.nowOrWhenFetched(e.doc(),function(n,r){if(n){const n=p.findTypeURIs(e);for(const e in n);p.add(t,c.wf("attachment"),e,t.doc())}else;})}function d(e,r,i){const a=o.default.extension(r);let s,l;r!==o.default.lookup(e)&&(e+="_."+a);const u=r.startsWith("image");let d,f;for(u?(s="image_",l=c.vcard("hasPhoto")):(s="attachment_",l=c.wf("attachment")),d=0;f=p.sym(t.dir().uri+e),p.holds(t,c.vcard("hasPhoto"),f);d++)e=s+d+"."+a;p.fetcher.webOperation("PUT",f.uri,{data:i,contentType:r}).then(function(e){e.ok?(p.add(t,l,f,t.doc()),p.fetcher.putBack(t.doc(),{contentType:"text/turtle"}).then(function(e){u&&x.refresh()},function(e){})):n("Error uploading "+f+":"+e.status)})}async function f(e){for(const t of e){let e=s.sym(t);if(t.startsWith("http")&&t.indexOf("#")<0){t.startsWith("http:")&&(e=s.sym("https:"+t.slice(5)));const r={withCredentials:!1,credentials:"omit"};let i;try{i=await p.fetcher.webOperation("GET",e.uri,r)}catch(t){return n(`Gallery: fetch error trying to read picture ${e} data: ${t}`),void l(e)}const a=i.headers.get("Content-Type");let o=e.uri.split("/").slice(-1)[0];o=o.split("?")[0];const c=await i.arrayBuffer();return i.ok?void d(o,a,c):(alert("Cant download, so will link image. "+e+":"+i.status),void l(e))}alert("Not a web document URI, cannot copy as picture: "+e),l(e)}}function h(e){for(let t=0;t<e.length;t++){const n=e[t],r=new FileReader;r.onload=function(e){return function(t){const n=t.target.result;d(encodeURIComponent(e.name),e.type,n)}}(n),r.readAsArrayBuffer(n)}}function m(t){const n=e.createElement("img");return n.setAttribute("style","max-height: 10em; border-radius: 1em; margin: 0.7em;"),i.widgets.makeDropTarget(n,f,h),t&&(a.store.fetcher._fetch(t.uri).then(function(e){return e.blob()}).then(function(e){const t=URL.createObjectURL(e);n.setAttribute("src",t)}),i.widgets.makeDraggable(n,t)),n}function g(){let e=p.each(t,c.vcard("hasPhoto"));e.sort(),e=e.slice(0,5),0===e.length?(x.innerHTML="",y&&x.appendChild(k)):u.syncTableToArray(x,e,m)}function v(){return p.sym(t.dir().uri+"Image_"+Date.now()+".png")}async function b(e){e&&(await r(t,e),g())}const y=p.updater.editable(t.doc().uri,p),w=e.createElement("div"),x=w.appendChild(e.createElement("div")),k=m();i.widgets.setImage(k,t),g(),x.refresh=g,y&&w.appendChild(function(){const n=e.createElement("table"),a=n.appendChild(e.createElement("tr")),o=a.appendChild(e.createElement("td")),s=a.appendChild(e.createElement("td")),l=a.appendChild(e.createElement("td"));o.appendChild(i.media.cameraButton(e,p,v,b));try{s.appendChild(i.widgets.fileUploadButtonDiv(e,h))}catch(e){}return l.appendChild(function(){const n=i.widgets.button(e,i.icons.iconBase+"noun_925021.svg","Drag here to delete");return i.widgets.makeDropTarget(n,async function(e){const n=p.each(t,c.vcard("hasPhoto")).map(e=>e.uri);for(const i of e){if(!n.includes(i))return void alert("Only drop images in this contact onto this trash can.");if(confirm(`Permanently DELETE image ${i} completely?`)){await r(t,p.sym(i),!0);try{await p.fetcher.webOperation("DELETE",i)}catch(e){alert("Unable to delete picture! "+e)}}}g()},null),n}()),n}());return w};var r,i=l(n(500)),a=n(9332),o=(r=n(6049))&&r.__esModule?r:{default:r},s=l(n(8230));function l(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const c=i.ns,u=i.utils,p=a.store},8230:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BlankNode:()=>l,Collection:()=>h,ConnectedStore:()=>xn,DataFactory:()=>tn,Empty:()=>m,Fetcher:()=>Jt,Formula:()=>z,IndexedFormula:()=>Q,Literal:()=>d,LiveStore:()=>kn,N3Parser:()=>xe,NamedNode:()=>c.A,Namespace:()=>T,NextId:()=>wn,Node:()=>H,Query:()=>$,RDFParser:()=>Rt,RDFaProcessor:()=>At,SPARQLToQuery:()=>Xt,Serializer:()=>O,Statement:()=>w,Store:()=>Q,UpdateManager:()=>Zt,UpdatesSocket:()=>nn,UpdatesVia:()=>rn,Util:()=>I,Variable:()=>k,blankNode:()=>dn,defaultGraph:()=>fn,fetcher:()=>on,fromNT:()=>bn,graph:()=>sn,isBlankNode:()=>u.jt,isCollection:()=>u.P3,isGraph:()=>u.RN,isLiteral:()=>u.c$,isNamedNode:()=>u.Y2,isPredicate:()=>u.YC,isQuad:()=>u.aF,isRDFObject:()=>u.GE,isRDFlibObject:()=>u.DJ,isRDFlibPredicate:()=>u.fY,isRDFlibSubject:()=>u.CZ,isStatement:()=>u.SH,isStore:()=>u.ok,isSubject:()=>u.hr,isTerm:()=>u.D0,isVariable:()=>u.DZ,jsonParser:()=>Qt,lit:()=>ln,literal:()=>hn,log:()=>A.A,namedNode:()=>un,parse:()=>Ft,quad:()=>mn,queryToSPARQL:()=>Yt,serialize:()=>j,sparqlUpdateParser:()=>Pt,st:()=>cn,sym:()=>un,term:()=>yn,termValue:()=>Ot.E,triple:()=>gn,uri:()=>x,variable:()=>pn});var r={};n.r(r),n.d(r,{inDefaultGraph:()=>wt,isBlankNode:()=>mt,isDefaultGraph:()=>yt,isLiteral:()=>gt,isNamedNode:()=>ht,isQuad:()=>bt,isVariable:()=>vt,prefix:()=>xt,prefixes:()=>kt});var i=n(4467),a=n(1059),o=n(8936),s=n(9403);class l extends o.A{static getId(e){if(e){if("string"!=typeof e)throw new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){let t=e.split("#");return t[t.length-1]}return e}return"n"+l.nextId++}constructor(e){super(l.getId(e)),(0,i.A)(this,"termType",s.$Q),(0,i.A)(this,"classOrder",a.A.BlankNode),(0,i.A)(this,"isBlank",1),(0,i.A)(this,"isVar",1)}get id(){return this.value}set id(e){this.value=e}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}copy(e){var t=new l;return e.copyTo(this,t),t}toCanonical(){return l.NTAnonymousNodePrefix+this.value}toString(){return l.NTAnonymousNodePrefix+this.id}}(0,i.A)(l,"nextId",0),(0,i.A)(l,"NTAnonymousNodePrefix","_:");var c=n(5108),u=n(2915);const p={boolean:new c.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new c.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new c.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new c.A("http://www.w3.org/2001/XMLSchema#double"),integer:new c.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new c.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new c.A("http://www.w3.org/2001/XMLSchema#string")};class d extends o.A{constructor(e,t,n){super(e),(0,i.A)(this,"termType",s.QW),(0,i.A)(this,"classOrder",a.A.Literal),(0,i.A)(this,"datatype",p.string),(0,i.A)(this,"isVar",0),(0,i.A)(this,"language",""),t?(this.language=t,this.datatype=p.langString):this.datatype=n?c.A.fromValue(n):p.string}copy(){return new d(this.value,this.lang,this.datatype)}equals(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)))}get lang(){return this.language}set lang(e){this.language=e||""}toNT(){return d.toNT(this)}static toNT(e){if("number"==typeof e.value)return""+e.value;if("string"!=typeof e.value)throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t='"'+(t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',e.language?t+="@"+e.language:e.datatype.equals(p.string)||(t+="^^"+e.datatype.toCanonical()),t}toString(){return""+this.value}static fromBoolean(e){return new d(e?"1":"0",null,p.boolean)}static fromDate(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");let t=function(e){return(""+(100+e)).slice(1,3)},n=e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new d(n,null,p.dateTime)}static fromNumber(e){if("number"!=typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");let t;const n=e.toString();return t=n.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?p.integer:p.decimal:p.double,new d(n,null,t)}static fromValue(e){if((0,u.c$)(e))return e;switch(typeof e){case"object":if(e instanceof Date)return d.fromDate(e);case"boolean":return d.fromBoolean(e);case"number":return d.fromNumber(e);case"string":return new d(e)}throw new Error("Can't make literal from "+e+" of type "+typeof e)}}function f(e){return null==e||(0,u.D0)(e)?e:Array.isArray(e)?new h(e):d.fromValue(e)}class h extends o.A{constructor(e){super((l.nextId++).toString()),(0,i.A)(this,"termType",s.r0),(0,i.A)(this,"classOrder",a.A.Collection),(0,i.A)(this,"closed",!1),(0,i.A)(this,"compareTerm",l.prototype.compareTerm),(0,i.A)(this,"elements",[]),(0,i.A)(this,"isVar",0),e&&e.length>0&&e.forEach(e=>{this.elements.push(f(e))})}get id(){return this.value}set id(e){this.value=e}append(e){return this.elements.push(e)}close(){return this.closed=!0,this.closed}shift(){return this.elements.shift()}substitute(e){const t=this.elements.map(t=>t.substitute(e));return new h(t)}toNT(){return h.toNT(this)}static toNT(e){return l.NTAnonymousNodePrefix+e.id}toString(){return"("+this.elements.join(" ")+")"}unshift(e){return this.elements.unshift(e)}}(0,i.A)(h,"termType",s.r0);class m extends o.A{constructor(){super(""),(0,i.A)(this,"termType",s.S)}toString(){return"()"}}const g="chrome:theSession";new c.A(g);class v extends o.A{constructor(){super(""),(0,i.A)(this,"value",""),(0,i.A)(this,"termType",s.ic),(0,i.A)(this,"uri",g)}toCanonical(){return this.value}toString(){return"DefaultGraph"}}function b(e){return!!e&&e.termType===s.ic}const y=new v;class w{constructor(e,t,n,r){(0,i.A)(this,"subject",void 0),(0,i.A)(this,"predicate",void 0),(0,i.A)(this,"object",void 0),(0,i.A)(this,"graph",void 0),this.subject=o.A.fromValue(e),this.predicate=o.A.fromValue(t),this.object=o.A.fromValue(n),this.graph=null==r?y:o.A.fromValue(r)}get why(){return this.graph}set why(e){this.graph=e}equals(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}substitute(e){return new w(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),b(this.graph)?this.graph:this.graph.substitute(e))}toCanonical(){let e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==s.ic&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}toNT(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}toNQ(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),b(this.graph)?"":this.graph.toNT()].join(" ")+" ."}toString(){return this.toNT()}}var x=n(2727);class k extends o.A{constructor(e=""){super(e),(0,i.A)(this,"termType",s.P2),(0,i.A)(this,"base","varid:"),(0,i.A)(this,"classOrder",a.A.Variable),(0,i.A)(this,"isVar",1),(0,i.A)(this,"uri",void 0),this.base="varid:",this.uri=x.join(e,this.base)}equals(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}hashString(){return this.toString()}substitute(e){var t;return null!=(t=e[this.toNT()])?t:this}toString(){return k.toString(this)}static toString(e){return e.uri.slice(0,e.base.length)===e.base?`?${e.uri.slice(e.base.length)}`:`?${e.uri}`}}let _=function(e){return e.collections="COLLECTIONS",e.defaultGraphType="DEFAULT_GRAPH_TYPE",e.equalsMethod="EQUALS_METHOD",e.id="ID",e.identity="IDENTITY",e.reversibleId="REVERSIBLE_ID",e.variableType="VARIABLE_TYPE",e}({});const E=new v,C={supports:{[_.collections]:!1,[_.defaultGraphType]:!1,[_.equalsMethod]:!0,[_.identity]:!1,[_.id]:!0,[_.reversibleId]:!1,[_.variableType]:!0},blankNode:e=>new l(e),defaultGraph:()=>E,equals(e,t){return e===t||!e||!t||((0,u.aF)(e)||(0,u.aF)(t)?!(!(0,u.aF)(e)||!(0,u.aF)(t))&&(this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph)):!(!(0,u.D0)(e)||!(0,u.D0)(t))&&this.id(e)===this.id(t))},id(e){if(!e)return"undefined";if((0,u.aF)(e))return this.quadToNQ(e);switch(e.termType){case s.ic:return"defaultGraph";case s.P2:return k.toString(e);default:const t=this.termToNQ(e);if(t)return t;throw new Error(`Can't id term with type '${e.termType}'`)}},isQuad:e=>e instanceof w,literal(e,t){if("string"!=typeof e&&!t)return d.fromValue(e);const n="string"==typeof e?e:""+e;return"string"==typeof t?-1===t.indexOf(":")?new d(n,t):new d(n,null,this.namedNode(t)):new d(n,null,t)},namedNode:e=>new c.A(e),quad:(e,t,n,r)=>new w(e,t,n,r||E),triple(e,t,n,r){return this.quad(e,t,n,r)},quadToNQ(e){return`${this.termToNQ(e.subject)} ${this.termToNQ(e.predicate)} ${this.termToNQ(e.object)} ${this.termToNQ(e.graph)} .`},termToNQ(e){switch(e.termType){case s.$Q:return"_:"+e.value;case s.ic:return"";case s.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case s.QW:return d.toNT(e);case s.bD:case s.Kk:return"<"+e.value+">";case s.r0:return"("+e.elements.map(e=>this.termToNQ(e)).join(" ")+")";default:throw new Error(`Can't serialize nonstandard term type (was '${e.termType}')`)}},toNQ(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:e=>new k(e)},S=C;var A=n(4940);function T(e,t){const n=t||{namedNode:e=>new c.A(e)};return function(t){return n.namedNode(e+(t||""))}}var R=n(5306),P=n(5386),F=n.n(P),I=n(4011);function N(e=S){return{boolean:e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:e.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:e.namedNode("http://www.w3.org/2001/XMLSchema#string")}}N(S);function O(e){return new L(e)}class L{constructor(e){(0,i.A)(this,"_notQNameChars","\t\r\n !\"#$%&'()*,+/;<=>?@[\\]^`{|}~"),(0,i.A)(this,"_notNameChars",this._notQNameChars+":"),(0,i.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,i.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,i.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];const t=Object.keys(F()());for(const e in t){const n=F()()[t[e]](""),r=t[e];this.prefixes[n]=r,this.namespaces[r]=n}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||S,this.xsd=N(this.rdfFactory)}setBase(e){return this.base=e,this}setFlags(e){return this.flags=e||"",this}toStr(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t}fromStr(e){if("{"===e[0]){var t=this.formulas[e];return t}return this.store.fromNT(e)}setNamespaces(e){for(var t in e)this.setPrefix(t,e[t]);return this}setPrefix(e,t){if("default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t){for(let t in this.prefixes)this.prefixes[t]==e&&delete this.prefixes[t];this.prefixes[t]=e,this.namespaces[e]=t}}suggestPrefix(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))}suggestNamespaces(e){for(var t in e)this.suggestPrefix(t,e[t]);return this}checkIntegrity(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")}makeUpPrefix(e){var t=e;var n=function(t){return!!this.validPrefix.test(t)&&("ns"!==t&&(!(t in this.namespaces)&&(this.prefixes[e]=t,this.namespaces[t]=e,t)))}.bind(this);"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var r=t.lastIndexOf("/");r>=0&&(t=t.slice(r+1));for(var i=0;i<t.length&&this.prefixchars.indexOf(t[i])>=0;)i++;if((t=t.slice(0,i)).length<6&&n(t))return t;if(n(t.slice(0,3)))return t.slice(0,3);if(n(t.slice(0,2)))return t.slice(0,2);if(n(t.slice(0,4)))return t.slice(0,4);if(n(t.slice(0,1)))return t.slice(0,1);if(n(t.slice(0,5)))return t.slice(0,5);this.validPrefix.test(t)||(t="n");for(var a=0;;a++)if(n(t.slice(0,3)+a))return t.slice(0,3)+a}rootSubjects(e){for(var t={},n={},r={},i=0;i<e.length;i++){var a=e[i],o=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(a.subject)};[a.subject,a.predicate,a.object].map(function(e){"BlankNode"===e.termType?r[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach(function(e){o(e)})}),o(e[i].object);var s=n[this.toStr(a.subject)];s||(s=[]),s.push(a),n[this.toStr(a.subject)]=s}var l=[];for(var c in n)if(n.hasOwnProperty(c)){var u=this.fromStr(c);"BlankNode"===u.termType&&t[u]&&1===t[u].length||l.push(u)}this.incoming=t;for(var p={},d=0;d<l.length;d++)p[l[d].toNT()]=!0;return{roots:l,subjects:n,rootsHash:p,incoming:t}}toN3(e){return this.statementsToN3(e.statements)}isValidPNLocal(e){if(0===e.length)return!0;if("."===e[e.length-1])return!1;for(var t=0;t<e.length;t++){var n=e[t];if("."!==n&&this._notNameChars.indexOf(n)>=0)return!1}return!0}explicitURI(e){var t;return this.flags.indexOf("r")<0&&this.base?e=x.refTo(this.base,e):this.flags.indexOf("u")>=0?e=function(e){for(var t,n="",r=0;r<e.length;r++)n+=(t=e.charCodeAt(r))>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[r];return n}(e):(t=decodeURI(e),e=encodeURI(t)),"<"+e+">"}statementsToNTriples(e){var t=e.slice();t.sort();for(var n="",r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=this,a=this.store,o=this.rdfFactory,s=function(e){if("Collection"!==e.termType)return i.atomicTermToN3(e);for(var t=e.elements,l=a.sym(r+"nill"),c=t.length-1;c>=0;c--){var u=o.blankNode();n+=s(u)+" "+s(a.sym(r+"first"))+" "+s(t[c])+".\n",n+=s(u)+" "+s(a.sym(r+"rest"))+" "+s(l)+".\n",l=u}return i.atomicTermToN3(l)},l=0;l<t.length;l++){var c=t[l],u="";u+=s(c.subject)+" ",u+=s(c.predicate)+" ",u+=s(c.object)+" ",this.flags.indexOf("q")>=0&&(u+=s(c.why)+" "),n+=u+=".\n"}return n}statementsToN3(e){var t=this.store,n={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};e.sort(function(e,r){return I.heavyCompareSPO(e,r,t,n)}),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var r={};this.flags.indexOf("s")<0&&(r["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(r["http://www.w3.org/2000/10/swap/log#implies"]="=>");var i=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},a=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n],i="string"==typeof r?r:a(r);if(0!==n){var o=t.slice(-1)||" ";","===i||";"===i||("."!==i||"0123456789.:".includes(o))&&(t+=" ")}t+=i}return t},o=function(e,t){var n="",r=1e5;void 0===t&&(t=-1);for(var s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var c=o(l,t+1);if(c.length<10*(80-4*t)&&c.indexOf('"""')<0){var u=a(l);u.length<80-4*t&&(l=u,c="")}c&&(r=1e4),n+=c}if("string"==typeof l){if(1===l.length&&"\n"===n.slice(-1)&&",.;".indexOf(l)>=0){n=n.slice(0,-1),"."==l&&"0123456789.:".includes(n.charAt(n.length-1))&&(n+=" ",r+=1),n+=l+"\n",r+=1;continue}if(r<4*t+4||r+l.length+1<80&&";.".indexOf(n[n.length-2])<0)n=n.slice(0,-1)+" "+l+"\n",r+=l.length+1;else{let e=i(4*t)+l;n+=e+"\n",r=e.length,t<0&&(n+="\n",r=1e5)}}}return n};var s=function(e){for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var a=n[i];r.push(l(a,t))}return r}.bind(this);function l(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[p(e,t)].concat([c(e,t)]).concat(["."]):u(e,t,!0).concat(["."])}var c=function(e,t){var n=[],i=null,a=t.subjects[this.toStr(e)]||[];if(void 0===a)throw new Error("Cant find statements for "+e);for(var o=[],s=0;s<a.length;s++){var l=a[s];l.predicate.uri===i?o.push(","):(i&&(n=n.concat([o]).concat([";"]),o=[]),n.push(r[l.predicate.uri]?r[l.predicate.uri]:p(l.predicate,t))),i=l.predicate.uri,o.push(u(l.object,t))}return n=n.concat([o])}.bind(this);var u=function(e,t,n){return"BlankNode"!==e.termType||!n&&void 0!==t.rootsHash[e.toNT()]?p(e,t):t.subjects[this.toStr(e)]?["[",c(e,t),"]"]:"[]"}.bind(this);L.prototype.termToN3=p;var p=function(e,t){var n,r;switch(e.termType){case"Graph":return(r=(r=["{"]).concat(s(e.statements))).concat(["}"]);case"Collection":for(r=["("],n=0;n<e.elements.length;n++)r.push([u(e.elements[n],t)]);return r.push(")"),r;default:return this.atomicTermToN3(e)}}.bind(this);var d=function(){var e="";for(var t in this.flags.indexOf("d")<0&&this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}.bind(this),f=s(e);return d()+o(f)}atomicTermToN3(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var n=e.value;if("string"!=typeof n)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return n;case"http://www.w3.org/2001/XMLSchema#decimal":return n.indexOf(".")<0&&(n+=".0"),n;case"http://www.w3.org/2001/XMLSchema#double":{const e=n.toLowerCase().indexOf("e")>0;return n.indexOf(".")<0&&!e&&(n+=".0"),e||(n+="e0"),n}case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var r=this.stringToN3(e.value,this.flags);return e.language?r+="@"+e.language:e.datatype.equals(this.xsd.string)||(r+="^^"+this.atomicTermToN3(e.datatype,t)),r;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}stringToN3(e,t){t||(t="e");var n,r,i,a,o,s="";for(e.length>20&&'"'!==e.slice(-1)&&t.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(a='"""',o=this.forbidden3):(a='"',o=this.forbidden1),n=0;n<e.length;){if(o.lastIndex=0,null==o.exec(e.slice(n)))break;r=n+o.lastIndex-1,s+=e.slice(n,r);var l=e[r];'"'===l&&'"""'===a&&'"""'!==e.slice(r,r+3)?s+=l:(i='\b\f\r\t\v\n\\"'.indexOf(l))>=0?s+="\\"+'bfrtvn\\"'[i]:t.indexOf("e")>=0?s+="\\u"+("000"+l.charCodeAt(0).toString(16).toLowerCase()).slice(-4):s+=l,n=r+1}return a+s+e.slice(n)+a}symbolToN3(e){var t=e.uri,n=t.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=t.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(0===t.indexOf("http")||0===t.indexOf("ws")||0===t.indexOf("file"))){var r=t.slice(n+1),i=t.slice(0,n+1),a=t.indexOf("://")+4,o=this.base?this.base.slice(0,Math.max(this.base.lastIndexOf("/"),this.base.lastIndexOf("#"))+1):null,s=o&&i===o,l=this.flags.indexOf("o")>=0&&r.indexOf(".")>=0;if(!s&&!l&&i.length>a&&this.isValidPNLocal(r)){if(this.defaultNamespace&&this.defaultNamespace===i&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(r)<0?r:":"+r;var c=this.prefixes[i];if(c||(c=this.makeUpPrefix(i)),c)return this.namespacesUsed[i]=!0,c+":"+r}}return this.explicitURI(t)}writeStore(e){var t=this.store,n=t.fetcher,r=n&&n.appNode,i=this.store.index[3];for(var a in i){var o=t.fromNT(a);r&&o.equals(r)||e("\n"+this.atomicTermToN3(o)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,o))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(n){e("\n<"+n.object.value+"> log:metadata {\n");var r=t.statementsMatching(void 0,void 0,void 0,n.subject);e(this.statementsToN3(this.statementsToN3(r))),e("}.\n")});var s=[];r&&s.push(r);var l=[];s.map(function(e){l=l.concat(t.statementsMatching(void 0,void 0,void 0,e))}),e(this.statementsToN3(l))}statementsToXML(e){var t=[];t["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",r=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},i=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+="string"==typeof r?r:i(r)}return t},a=function(e,t){var n,o="",s=1e5;t||(t=0);for(var l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var u=a(c,t+1);u.length<10*(80-4*t)&&u.indexOf('"""')<0&&(n=i(c)).length<80-4*t&&(c="   "+n,u=""),u&&(s=1e4),o+=u}"string"==typeof c&&(s<4*t+4?(o=o.slice(0,-1)+" "+c+"\n",s+=c.length+1):(o+=(n=r(4*t)+c)+"\n",s=n.length))}return o};var o=function(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var a=n[i];r.push(c(a,t))}return r}.bind(this);function s(e){return void 0===e?"@@@undefined@@@@":e.replace(/[&<"]/g,function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}var l=function(e){return s(this.base?I.uri.refTo(this.base,e.uri):e.uri)}.bind(this);var c=function(e,t){var r,i,a,o,f=[],h=t.subjects[this.toStr(e)];if(void 0===h)return p(e,t);h.sort(function(e,t){var r=e.predicate.uri,i=t.predicate.uri;if(r.substring(0,44)===n||i.substring(0,44)===n)return r.localeCompare(i);var a=r.substring(44),o=i.substring(44),s=parseInt(a,10),l=parseInt(o,10);return isNaN(s)||isNaN(l)||s!==a||l!==o?r.localeCompare(i):s-l});for(var m=0;m<h.length;m++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(a=h[m]).predicate.uri||r||"NamedNode"!==a.object.termType){if((o=a.predicate).uri.substr(0,44)===n){var g=o.uri.substr(44);g===parseInt(g,10).toString()&&(o=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(i=d(o),a.object.termType){case"BlankNode":f=1===t.incoming[a.object].length?f.concat(["<"+i+' rdf:parseType="Resource">',c(a.object,t),"</"+i+">"]):f.concat(["<"+i+' rdf:nodeID="'+a.object.toNT().slice(2)+'"/>']);break;case"NamedNode":f=f.concat(["<"+i+' rdf:resource="'+l(a.object)+'"/>']);break;case"Literal":f=f.concat(["<"+i+(a.object.language?' xml:lang="'+a.object.language+'"':a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+s(a.object.datatype.uri)+'"')+">"+s(a.object.value)+"</"+i+">"]);break;case"Collection":f=f.concat(["<"+i+' rdf:parseType="Collection">',u(a.object,t),"</"+i+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}else r=a.object;var v=r?d(r):"rdf:Description",b="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(b=' rdf:nodeID="'+e.toNT().slice(2)+'"'):b=' rdf:about="'+l(e)+'"',["<"+v+b+">"].concat([f]).concat(["</"+v+">"])}.bind(this);function u(e,t){for(var n=[],r=0;r<e.elements.length;r++)n.push(c(e.elements[r],t));return n}var p=function(e,t){var n=[],r=t.subjects[this.toStr(e)];if(!r)return n;r.sort();for(var i=0;i<r.length;i++){var a=r[i];switch(a.object.termType){case"BlankNode":n=t.rootsHash[a.object.toNT()]?n.concat(["<"+d(a.predicate)+' rdf:nodeID="'+a.object.toNT().slice(2)+'">',"</"+d(a.predicate)+">"]):n.concat(["<"+d(a.predicate)+' rdf:parseType="Resource">',p(a.object,t),"</"+d(a.predicate)+">"]);break;case"NamedNode":n=n.concat(["<"+d(a.predicate)+' rdf:resource="'+l(a.object)+'"/>']);break;case"Literal":n=n.concat(["<"+d(a.predicate)+(a.object.language?' xml:lang="'+a.object.language+'"':a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+s(a.object.datatype.value)+'"')+">"+s(a.object.value)+"</"+d(a.predicate)+">"]);break;case"Collection":n=n.concat(["<"+d(a.predicate)+' rdf:parseType="Collection">',u(a.object,t),"</"+d(a.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}return n}.bind(this);var d=function(e){var n=e.uri,r=n.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=n.lastIndexOf("/")),r<0)throw new Error("Cannot make qname out of <"+n+">");for(var i=r+1;i<n.length;i++)if(this._notNameChars.indexOf(n[i])>=0)throw new Error('Invalid character "'+n[i]+'" cannot be in XML qname for URI: '+n);var a=n.slice(r+1),o=n.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===o&&this.flags.indexOf("d")<0)return a;var s=this.prefixes[o];return s||(s=this.makeUpPrefix(o)),t[o]=!0,s+":"+a}.bind(this),f=o(e),h="<rdf:RDF";for(var m in this.defaultNamespace&&(h+=' xmlns="'+s(this.defaultNamespace)+'"'),t)if(t.hasOwnProperty(m)){var g=this.base&&this.flags.includes("z")?I.uri.refTo(this.base,m):m;h+="\n xmlns:"+this.prefixes[m]+'="'+s(g)+'"'}return a([h+=">",f,"</rdf:RDF>"],-1)}statementsToJsonld(e){const t=this.statementsToN3(e),n=R.parse(t);return JSON.stringify(n,null,2)}}function j(e,t,n,r,i,a){n=n||e?.value;const o=a||{};r=r||s.sT;try{var l=O(t);o.flags&&l.setFlags(o.flags);var c=t.statementsMatching(void 0,void 0,void 0,e);switch("namespaces"in t&&l.suggestNamespaces(t.namespaces),o.namespaces&&l.setNamespaces(o.namespaces),l.setBase(n),r){case s.JG:return u(null,l.statementsToXML(c));case s.ny:case s.MG:return u(null,l.statementsToN3(c));case s.sT:case s.hu:return l.setFlags("si"+(o.flags?" "+o.flags:"")),u(null,l.statementsToN3(c));case s.bM:return l.setFlags("deinprstux"),u(null,l.statementsToNTriples(c));case s.i2:return l.setFlags("si dr"+(o.flags?" "+o.flags:"")),u(null,l.statementsToJsonld(c));case s._0:case s.BR:return l.setFlags("deinprstux q"),u(null,l.statementsToNTriples(c));default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(e){if(i)return i(e,void 0);throw e}function u(e,t){return i?void i(e,t):t}}const M=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],D={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function U(e,t,n){const r=[];return n.reduce((t,n,i,a)=>{let o;return r.push(e.quad(t,e.namedNode(D.first),a[i])),i<a.length-1?(o=e.blankNode(),r.push(e.quad(t,e.namedNode(D.rest),o))):r.push(e.quad(t,e.namedNode(D.rest),e.namedNode(D.nil))),o},t),r}function B(e,t,n=0){var r=e.length;for(n<0&&(n=r+n);n<r;n++)if(e[n]===t)return n;return-1}class z extends o.A{constructor(e=[],t=[],n=[],r=[],o={}){super(""),this.statements=e,this.constraints=t,this.initBindings=n,this.optional=r,(0,i.A)(this,"termType",s.bD),(0,i.A)(this,"classOrder",a.A.Graph),(0,i.A)(this,"fetcher",void 0),(0,i.A)(this,"isVar",0),(0,i.A)(this,"ns",T),(0,i.A)(this,"rdfFactory",void 0),this.rdfFactory=o&&o.rdfFactory||S;for(const e of M)this[e]=(...t)=>this.rdfFactory[e](...t)}add(e,t,n,r){return 1===arguments.length&&e.forEach(e=>this.add(e.subject,e.predicate,e.object,e.graph)),this.statements.push(this.rdfFactory.quad(e,t,n,r))}addStatement(e){return this.add(e)}bnode(e){return this.rdfFactory.blankNode(e)}addAll(e){e.forEach(e=>{this.add(e.subject,e.predicate,e.object,e.graph)})}any(e,t,n,r){const i=this.anyStatementMatching(e,t,n,r);return null==i?null:null==e?i.subject:null==t?i.predicate:null==n?i.object:null}anyValue(e,t,n,r){const i=this.any(e,t,n,r);return i?i.value:void 0}anyJS(e,t,n,r){const i=this.any(e,t,n,r);return i?o.A.toJS(i):void 0}anyStatementMatching(e,t,n,r){let i=this.statementsMatching(e,t,n,r,!0);if(i&&0!==i.length)return i[0]}id(e){return this.rdfFactory.id(e)}statementsMatching(e,t,n,r,i){const a=this.statements.filter(i=>(!e||e.equals(i.subject))&&(!t||t.equals(i.predicate))&&(!n||n.equals(i.object))&&(!r||r.equals(i.graph)));return i?0===a.length?[]:[a[0]]:a}bottomTypeURIs(e){let t,n,r,i,a,o,s,l;t=[];for(let c in e)if(e.hasOwnProperty(c)){for(l=e[c],s=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(c)),n=!0,i=0,a=s.length;i<a;i++)if(r=s[i],o=r.uri,o in e){n=!1;break}n&&(t[c]=l)}return t}collection(){return new h}each(e,t,n,r){const i=[];let a=this.statementsMatching(e,t,n,r,!1);if(null==e)for(let e=0,t=a.length;e<t;e++)i.push(a[e].subject);else if(null==t)for(let e=0,t=a.length;e<t;e++)i.push(a[e].predicate);else if(null==n)for(let e=0,t=a.length;e<t;e++)i.push(a[e].object);else if(null==r)for(let e=0,t=a.length;e<t;e++)i.push(new c.A(a[e].graph.value));return i}equals(e){return!!e&&this.hashString()===e.hashString()}findMembersNT(e){let t,n,r,i,a,o,s,l,c,u,p,d,f,h;d={},d[e.toNT()]=!0,i={},o=this.transitiveClosure(d,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(let e in o)if(o.hasOwnProperty(e)){s=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(e));for(let e=0,t=s.length;e<t;e++)f=s[e],i[f.subject.toNT()]=f;l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(e));for(let e=0,n=l.length;e<n;e++)for(a=l[e],c=this.statementsMatching(void 0,a),r=0,t=c.length;r<t;r++)f=c[r],i[f.subject.toNT()]=f;u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(e));for(let e=0,t=u.length;e<t;e++)for(a=u[e],p=this.statementsMatching(void 0,a),h=0,n=p.length;h<n;h++)f=p[h],i[f.object.toNT()]=f}return i}findMemberURIs(e){return this.NTtoURI(this.findMembersNT(e))}findSubClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}findSuperClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypesNT(e){let t,n,r,i,a,o,s,l,c;r="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c=[],i=this.statementsMatching(e,void 0,void 0);for(let e=0,t=i.length;e<t;e++)if(l=i[e],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===l.predicate.uri)c[l.object.toNT()]=l;else{a=this.each(l.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(let e=0,t=a.length;e<t;e++)n=a[e],c[n.toNT()]=l}o=this.statementsMatching(void 0,void 0,e);for(let e=0,n=o.length;e<n;e++){l=o[e],s=this.each(l.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(let e=0,n=s.length;e<n;e++)t=s[e],c[t.toNT()]=l}return this.transitiveClosure(c,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypeURIs(e){return this.NTtoURI(this.findTypesNT(e))}connectedStatements(e,t,n){n=n||[];let r=[e],i={},a={},o=[],s=this,l=function(e){let l=function(e){"BlankNode"!==e.termType||i[e.value]||(i[e.value]=!0,r.push(e))},c=s.statementsMatching(null,null,e,t).concat(s.statementsMatching(e,null,null,t));c=c.filter(function(e){if(n[e.predicate.value])return!1;let t=e.toNT();return!a[t]&&(a[t]=!0,!0)}),c.forEach(function(e){l(e.subject),l(e.object)}),o=o.concat(c)};for(;r.length;)l(r.shift());return o}formula(e){return new z}fromNT(e){let t,n,r;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(r=void 0,t=void 0,n=e.lastIndexOf('"'),n<e.length-1)if("@"===e[n+1])r=e.slice(n+2);else{if("^^"!==e.slice(n+1,n+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(n+3))}return e=(e=(e=(e=e.slice(1,n)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,r||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new k(e.slice(1))}throw new Error("Can't convert from NT: "+e)}holds(e,t,n,r){let i;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(i=0;i<e.length;i++)if(!this.holds(e[i]))return!1;return!0}if((0,u.SH)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}return null!=this.anyStatementMatching(e,t,n,r)}holdsStatement(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}list(e,t){if(t.rdfFactory.supports.COLLECTIONS){const n=t.rdfFactory.collection();return e.forEach(function(e){n.append(e)}),n}{const n=t.rdfFactory.blankNode(),r=U(t.rdfFactory,n,e);return t.addAll(r),n}}NTtoURI(e){let t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],"<"===t[0]&&(r[t.slice(1,-1)]=n));return r}serialize(e,t,n,r){return j(n,this,e,t,void 0,r)}substitute(e){let t=this.statements.map(function(t){return t.substitute(e)});const n=new z;return n.addAll(t),n}sym(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}the(e,t,n,r){let i=this.any(e,t,n,r);return null==i&&A.A.error("No value found for the() {"+e+" "+t+" "+n+"}."),i}transitiveClosure(e,t,n){let r,i,a,o,s,l,c={};Object.assign(c,e);let u={};for(;;){if(l=function(){for(let e in c)if(c.hasOwnProperty(e))return e}(),null==l)return u;for(s=n?this.each(void 0,t,this.fromNT(l)):this.each(this.fromNT(l),t),i=0,a=s.length;i<a;i++)r=s[i],o=r.toNT(),o in u||o in c||(c[o]=c[l]);u[l]=c[l],delete c[l]}}topTypeURIs(e){let t,n,r,i,a,o,s,l;for(r in s=[],e)if(e.hasOwnProperty(r)){for(l=e[r],a=0,o=this.each(this.rdfFactory.namedNode(r),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,i=o.length;t<i;t++)if(n=o[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==n.uri){a++;break}a||(s[r]=l)}return s["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete s["http://www.w3.org/2000/01/rdf-schema#Resource"],s["http://www.w3.org/2002/07/owl#Thing"]&&delete s["http://www.w3.org/2002/07/owl#Thing"],s}toString(){return"{"+this.statements.join("\n")+"}"}variable(e){return new k(e)}whether(e,t,n,r){return this.statementsMatching(e,t,n,r,!1).length}}o.A.fromValue=f;const H=o.A,q={xsd:T("http://www.w3.org/2001/XMLSchema#")};o.A.toJS=function(e){return(0,u.P3)(e)?e.elements.map(o.A.toJS):(0,u.c$)(e)?e.datatype.equals(q.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(q.xsd("dateTime"))||e.datatype.equals(q.xsd("date"))?new Date(e.value):e.datatype.equals(q.xsd("integer"))||e.datatype.equals(q.xsd("float"))||e.datatype.equals(q.xsd("decimal"))?Number(e.value):e.value:e};class ${constructor(e,t){this.pat=new Q,this.vars=[],this.name=e,this.id=t}}function W(e,t,n,r){function i(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="    "+t+" -> "+e[t]);return n}function a(e){var t,n="Bindings: ",r=e.length;for(t=0;t<r;t++)n+=i(e[t][0])+";\n\t";return n}function o(e,t,n,r){var i;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var a=function(e,t,n,r){var i=n[e];if(void 0===i){if(e.isVar){var a=[];return a[e]=t,[[a,null]]}i=e}if(!i.complexType)return r.redirections[i]&&(i=r.redirections[i]),r.redirections[t]&&(t=r.redirections[t]),i.equals(t)||i.uri&&i.uri===g?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?o(e,t,n):[];throw new Error("query.js: oops - code not written yet")}(e[0],t[0],n,r);if(0===a.length)return a;var s,l,c,u,p,d,f,h=[],m=a.length;for(s=0;s<m;s++){for(p in f=[],l=a[s][0])l.hasOwnProperty(p)&&(f[p]=l[p]);for(p in n)n.hasOwnProperty(p)&&(f[p]=n[p]);for(u=(i=o(e.slice(1),t.slice(1),f,r)).length,c=0;c<u;c++){for(p in d=i[c][0],l)l.hasOwnProperty(p)&&(d[p]=l[p]);h.push([d,null])}}return h}function s(e,t){var n=t[e];return void 0===n?e:n}function l(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function c(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function u(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}c.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;A.A.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},c.prototype.doCallBacks=function(e,t){var n;if(e<0)return this.originalCallback(t);for(n=0;n<this.branches[e].results.length;n++)this.doCallBacks(e-1,l(t,this.branches[e].results[n]))},u.prototype.reportMatch=function(e){this.callback(e),this.success=!0},u.prototype.reportDone=function(){this.done=!0,A.A.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var p=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function d(e,t,n){var r,i,a,o;for(t.nvars=0,t.index=null,r=[t.subject,t.predicate,t.object,t.why],o=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex],a=0;a<4;a++){let l=r[a];if(l.uri&&l.uri===g);else if(l.isVar&&void 0===n[l])t.nvars++;else{if(l=s(r[a],n),e.redirections[e.id(l)]&&(l=e.redirections[e.id(l)]),!(i=o[a][e.id(l)]))return t.index=[],!1;(null===t.index||t.index.length>i.length)&&(t.index=i)}}return null===t.index&&(t.index=e.statements),!0}function f(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}p.prototype.reportMatch=function(e){this.results.push(e)},p.prototype.reportDone=function(){A.A.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),A.A.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var h=function(e,n,r,a,o,s,l){A.A.debug("Match begins, Branch count now: "+l.count+" for "+l.pattern_debug);var u,d,f=n.statements;if(0===f.length){if(A.A.debug("FOUND MATCH WITH BINDINGS:"+i(r)),0===n.optional.length)l.reportMatch(r);else{A.A.debug("OPTIONAL: "+n.optional);var m,g=new c(t,r),b=[];for(m=0;m<n.optional.length;m++)b[m]=new p(g),b[m].pattern_debug=n.optional[m];for(m=0;m<n.optional.length;m++)b[m].count=b[m].count+1,h(e,n.optional[m],r,"",o,t,b[m])}return l.count--,void A.A.debug("Match ends -- success , Branch count now: "+l.count+" for "+l.pattern_debug)}var y=f.length;if(o){0;var w=function(t,i){var c=t.uri.split("#")[0];o.nowOrWhenFetched(c,void 0,function(t,i,c){h(e,n,r,a,o,s,l)})};for(d=0;d<y;d++){if(u=f[d],void 0!==r[u.subject]&&r[u.subject].uri&&o&&"unrequested"===o.getState((0,x.docpart)(r[u.subject].uri)))return void w(r[u.subject]);if(void 0!==r[u.object]&&r[u.object].uri&&o&&"unrequested"===o.getState((0,x.docpart)(r[u.object].uri)))return void w(r[u.object])}}v(e,n,r,a,o,s,l)},m=function(e,t){var n,r,i=!0;for(n in e)e.hasOwnProperty(n)&&t[n]&&(r=t[n].test)&&!r(e[n])&&(i=!1);return i},v=function(e,t,n,r,s,l,c){var u,p,g,v,b,y,w,x=t.statements,k=x.length;for(u=0;u<k;u++)d(e,w=x[u],n);x.sort(f),w=x[0];var _,E=e.formula();E.optional=t.optional,E.constraints=t.constraints,E.statements=x.slice(1),A.A.debug(r+"match2 searching "+w.index.length+" for "+w+"; bindings so far="+i(n));var C,S,T=w.index.length,R=0;for(_=0;_<T;_++)for(S=w.index[_],C=o([w.subject,w.predicate,w.object,w.why],[S.subject,S.predicate,S.object,S.why],n,e),A.A.info(r+" From first: "+C.length+": "+a(C)),g=C.length,p=0;p<g;p++)if(b=[],y=C[p][0],m(y,t.constraints)){for(v in y)y.hasOwnProperty(v)&&(b[v]=y[v]);for(v in n)n.hasOwnProperty(v)&&(b[v]=n[v]);c.count++,R++,h(e,E,b,r+"  ",s,l,c)}else A.A.debug("Branch count CS: "+c.count);c.count--,0===R&&A.A.debug("Match2 fails completely on "+w),A.A.debug("Match2 ends, Branch count: "+c.count+" for "+c.pattern_debug),0===c.count&&(A.A.debug("Branch finished."),c.reportDone())},b=this;A.A.debug("Query on "+this.statements.length);var y=new u(t,r);y.count++,e.sync?h(b,e.pat,e.pat.initBindings,"",n,t,y):setTimeout(function(){h(b,e.pat,e.pat.initBindings,"",n,t,y)},0)}const V="http://www.w3.org/2002/07/owl#";function G(e,t,n,r){var i=e.any(t,n,void 0);return!!i&&(e.equate(i,r),!0)}function K(e,t,n,r){var i=e.any(void 0,n,r);return!!i&&(e.equate(i,t),!0)}function J(e,t,n,r,i){e.typeCallback&&e.typeCallback(e,r,i);var a=e.classActions[e.id(r)],o=!1;if(a)for(var s=0;s<a.length;s++)o=o||a[s](e,t,n,r,i);return o}class Q extends z{constructor(e,t={}){super(void 0,void 0,void 0,void 0,t),(0,i.A)(this,"updater",void 0),(0,i.A)(this,"namespaces",void 0),(0,i.A)(this,"classActions",void 0),(0,i.A)(this,"propertyActions",void 0),(0,i.A)(this,"redirections",void 0),(0,i.A)(this,"aliases",void 0),(0,i.A)(this,"HTTPRedirects",void 0),(0,i.A)(this,"subjectIndex",void 0),(0,i.A)(this,"predicateIndex",void 0),(0,i.A)(this,"objectIndex",void 0),(0,i.A)(this,"whyIndex",void 0),(0,i.A)(this,"index",void 0),(0,i.A)(this,"features",void 0),(0,i.A)(this,"_universalVariables",void 0),(0,i.A)(this,"_existentialVariables",void 0),(0,i.A)(this,"rdfArrayRemove",void 0),(0,i.A)(this,"dataCallbacks",[]),(0,i.A)(this,"dataRemovalCallbacks",[]),this.propertyActions={},this.classActions={},this.redirections=[],this.aliases=[],this.HTTPRedirects=[],this.subjectIndex=[],this.predicateIndex=[],this.objectIndex=[],this.whyIndex=[],this.index=[this.subjectIndex,this.predicateIndex,this.objectIndex,this.whyIndex],this.namespaces={},this.features=e||[],this.rdfArrayRemove=t.rdfArrayRemove||I.RDFArrayRemove,t.dataCallback&&(this.dataCallbacks=[t.dataCallback]),t.dataRemovalCallback&&(this.dataRemovalCallbacks=[t.dataRemovalCallback]),this.initPropertyActions(this.features)}static get defaultGraphURI(){return g}substitute(e){var t=this.statements.map(function(t){return t.substitute(e)}),n=new Q;return n.add(t),n}addDataCallback(e){this.dataCallbacks.push(e)}addDataRemovalCallback(e){this.dataRemovalCallbacks.push(e)}applyPatch(e,t,n){var r,i=this,a=null;function o(o){if(e.delete){r=e.delete,a&&(r=r.substitute(a)),r=r.statements;var s=[],l=r.map(function(e){var n=i.statementsMatching(e.subject,e.predicate,e.object,t);return 0===n.length?(s.push(e),null):n[0]});if(s.length)return n("Could not find to delete: "+s.join("\n or "));l.map(function(e){i.remove(e)})}e.insert&&(r=e.insert,a&&(r=r.substitute(a)),(r=r.statements).map(function(e){e.graph=t,i.add(e.subject,e.predicate,e.object,e.graph)})),o()}if(e.where){var s=new $("patch");s.pat=e.where,s.pat.statements.map(function(e){e.graph=un(t.value)}),s.sync=!0;var l=[];i.query(s,function(e){l.push(e)},i.fetcher,function(){return 0===l.length?n("No match found to be patched:"+e.where):l.length>1?n("Patch ambiguous. No patch done."):(a=l[0],void o(n))})}else o(n)}declareExistential(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}initPropertyActions(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[J],B(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${V}sameAs`))]=[function(e,t,n,r,i){return e.equate(t,r),!0}]),B(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${V}InverseFunctionalProperty`))]=[function(e,t,n,r,i){return e.newPropertyAction(t,K)}]),B(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${V}FunctionalProperty`))]=[function(e,t,n,r,i){return e.newPropertyAction(t,G)}])}addStatement(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}add(e,t,n,r){var i,a,o;if(1===arguments.length){if(e instanceof Array)for(i=0;i<e.length;i++)this.add(e[i]);else(0,u.aF)(e)?this.add(e.subject,e.predicate,e.object,e.graph):(0,u.ok)(e)&&this.add(e.statements);return this}r||(r=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=H.fromValue(t);const s=H.fromValue(n);if(r=H.fromValue(r),!(0,u.CZ)(e))throw new Error("Subject is not a subject type");if(!(0,u.fY)(t))throw new Error(`Predicate ${t} is not a predicate type`);if(!(0,u.DJ)(s))throw new Error(`Object ${s} is not an object type`);if(!(0,u.RN)(r))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,r);var l=this.id(this.canon(t)),c=!1;if(a=this.propertyActions[l])for(i=0;i<a.length;i++)c=c||a[i](this,e,t,s,r);if(this.holds(e,t,s,r))return null;var p=[this.id(this.canon(e)),l,this.id(this.canon(s)),this.id(this.canon(r))];for(o=this.rdfFactory.quad(e,t,s,r),i=0;i<4;i++){var d=this.index[i],f=p[i];d[f]||(d[f]=[]),d[f].push(o)}this.statements.push(o);for(const e of this.dataCallbacks)e(o);return o}canon(e){if(!e)return e;const t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case s.$Q:return new l(e.value);case s.r0:return e;case s.ic:return new v;case s.S:case s.bD:return e;case s.QW:return new d(e.value,e.language,e.datatype);case s.Kk:return new c.A(e.value);case s.P2:return new k(e.value);default:throw new Error(`Term Type not recognized for canonization: ${e.termType}`)}}check(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var n in t)t.hasOwnProperty(n)&&this.checkStatementList(t[n],e)}}checkStatementList(e,t){void 0===t&&(t=0);for(var n,r=" found in "+["subject","predicate","object","why"][t]+" index.",i=0;i<e.length;i++){for(var a=[(n=e[i]).subject,n.predicate,n.object,n.graph],o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.equals(t.subject)&&e[n].predicate.equals(t.predicate)&&e[n].object.equals(t.object)&&e[n].why.equals(t.graph))return!0},s=0;s<4;s++){var l=this.canon(a[s]),c=this.id(l);this.index[s][c]&&o(this.index[s][c],n)}if(!o(this.statements,n))throw new Error("Statement list does not statement "+n+"@"+n.graph+r)}}close(){return this}compareTerms(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):a.A[e.termType]<a.A[t.termType]?-1:a.A[e.termType]>a.A[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}copyTo(e,t,n){n||(n=[]);var r=this.statementsMatching(e);-1!==B(n,"two-direction")&&r.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<r.length;i++){var a=r[i];switch(a.object.termType){case"NamedNode":this.add(t,a.predicate,a.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,a.predicate,a.object.copy(this))}-1!==B(n,"delete")&&this.remove(a)}}equate(e,t){const n=this.canon(e),r=this.canon(t);var i=this.compareTerms(n,r);return!i||(i<0?this.replaceWith(r,n):this.replaceWith(n,r))}formula(e){return new Q(e)}get length(){return this.statements.length}match(e,t,n,r){return this.statementsMatching(H.fromValue(e),H.fromValue(t),H.fromValue(n),H.fromValue(r))}mentionsURI(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}newExistential(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}newPropertyAction(e,t){var n=this.id(e);this.propertyActions[n]||(this.propertyActions[n]=[]),this.propertyActions[n].push(t);for(var r=this.statementsMatching(void 0,e,void 0),i=!1,a=0;a<r.length;a++)i=i||t(this,r[a].subject,e,r[a].object);return i}newUniversal(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}variable(e){return new k(e)}nextSymbol(e){for(var t=0;;t++){var n=e.value+"#n"+t;if(!this.mentionsURI(n))return this.sym(n)}}query(e,t,n,r){return W.call(this,e,t,n,r)}querySync(e){var t=[];var n=!1;if(e.sync=!0,W.call(this,e,function(e){t.push(e)},null,function(){n=!0}),!n)throw new Error("Sync query should have called done function");return t}remove(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if((0,u.ok)(e))return this.remove(e.statements);var n=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!n.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(n[0]),this}removeDocument(e){this.removeMetadata(e);for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),n=0;n<t.length;n++)this.removeStatement(t[n]);return this.removeMatches(e,null,null),this}removeMetadata(e){const t=this.sym("chrome://TheCurrentSession"),n="http://www.w3.org/2007/ont/link#",r=this.statementsMatching(void 0,this.sym(`${n}requestedURI`),this.rdfFactory.literal(e.value),t).map(e=>e.subject);for(var i=0;i<r.length;i++){const e=r[i];if(null!=e){let r;const i=this.any(e,this.sym(`${n}status`),null,t);if(null!=i){r=this.statementsMatching(i,this.sym(`${n}status`),null,t).slice();for(var a=0;a<r.length;a++)this.removeStatement(r[a])}const o=this.any(e,this.sym(`${n}response`),null,t);if(null!=o){r=this.statementsMatching(o,null,null,t).slice();for(a=0;a<r.length;a++)this.removeStatement(r[a])}r=this.statementsMatching(e,null,null,t).slice();for(a=0;a<r.length;a++)this.removeStatement(r[a])}}return this.removeMatches(this.sym(e.value),null,null,t),this}removeMany(e,t,n,r,i){for(var a=this.statementsMatching(e,t,n,r,!1),o=[],s=0;s<a.length;s++)o.push(a[s]);for(i&&(o=o.slice(0,i)),s=0;s<o.length;s++)this.remove(o[s])}removeMatches(e,t,n,r){return this.removeMany(e,t,n,r),this}removeStatement(e){for(var t=[e.subject,e.predicate,e.object,e.graph],n=0;n<4;n++){var r=this.canon(t[n]),i=this.id(r);this.index[n][i]&&this.rdfArrayRemove(this.index[n][i],e)}this.rdfArrayRemove(this.statements,e);for(const t of this.dataRemovalCallbacks)t(e);return this}removeStatements(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}replaceWith(e,t){for(var n=this.id(e),r=this.id(t),i=function(e){var t=e[n];if(t){var i=e[r];e[r]=i?t.concat(i):t,delete e[n]}},a=0;a<4;a++)i(this.index[a]);if(this.redirections[n]=t,e.value){if(this.aliases[r]||(this.aliases[r]=[]),this.aliases[r].push(e),this.aliases[n])for(a=0;a<this.aliases[n].length;a++)this.redirections[this.id(this.aliases[n][a])]=t,this.aliases[r].push(this.aliases[n][a]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0}allAliases(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}sameThings(e,t){if(e.equals(t))return!0;var n=this.canon(e);if(!n)return!1;var r=this.canon(t);return!!r&&n.value===r.value}setPrefixForURI(e,t){if(("tab"!==e||!this.namespaces.tab)&&"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)){for(let e in this.namespaces)this.namespaces[e]==t&&delete this.namespaces[e];this.namespaces[e]=t}}statementsMatching(e,t,n,r,i){var a,o,s=[e,t,n,r],l=[],c=[],u=[],p=[];for(a=0;a<4;a++)l[a]=this.canon(H.fromValue(s[a])),l[a]?(p.push(a),c[a]=this.id(l[a])):u.push(a);if(0===p.length)return this.statements;if(1===p.length)return a=p[0],(o=this.index[a][c[a]])&&i&&o.length>1&&(o=o.slice(0,1)),o=o||[];var d,f,h=1e10;for(f=0;f<p.length;f++){if(a=p[f],!(o=this.index[a][c[a]]))return[];o.length<h&&(h=o.length,d=f)}for(var m=p[d],g=this.index[m][c[m]],v=p.slice(0,d).concat(p.slice(d+1)),b=[],y=["subject","predicate","object","why"],w=0;w<g.length;w++){var x=g[w];for(f=0;f<v.length;f++)if(a=v[f],!this.canon(x[y[a]]).equals(l[a])){x=null;break}if(null!=x&&(b.push(x),i))break}return b}uris(e){var t=this.canon(e),n=this.aliases[this.id(t)];if(!t.value)return[];var r=[t.value];if(n)for(var i=0;i<n.length;i++)r.push(n[i].uri);return r}serialize(e,t,n,r){return j(n,this,e,t,void 0,r={...r||{},namespaces:r?.namespaces?{...this.namespaces,...r.namespaces}:{...this.namespaces}})}}(0,i.A)(Q,"handleRDFType",void 0),Q.handleRDFType=J;const Y=T("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function X(e,t){function n(r,i,a){const o=e.statementsMatching(r,Y("rest"),null,t);if(1!==o.length)throw new Error(`Bad list structure: no rest at ${r}`);const s=e.statementsMatching(r,Y("first"),null,t);if(1!==s.length)throw new Error(`Bad list structure: rest but ${s.length} firsts at ${r}`);const l=[s[0].object].concat(i),c=a.concat(o).concat(s),u=e.statementsMatching(null,Y("rest"),r,t);if(0===u.length){const n=new h(l);return e.remove(c),void function(e,t,n,r){for(const i of e.statementsMatching(n,null,null,r)){const n=new w(t,i.predicate,i.object,r);e.remove(i),e.add(n)}for(const i of e.statementsMatching(null,n,null,r))e.remove(i),e.add(new w(i.subject,t,i.object,r));for(const i of e.statementsMatching(null,null,n,r))e.remove(i),e.add(new w(i.subject,i.predicate,t,r))}(e,n,r,t)}if(1!==u.length)throw new Error(`Bad list structure: ${u.length} pres at ${r}`);const p=u[0].subject;if("BlankNode"!==p.termType)throw new Error(`Bad list element node ${p} type: ${p.termType} `);n(p,l,c)}!function(e,t){const n=Y("nil");for(const r of e.statementsMatching(n,null,null,t)){e.remove(r);const n=new h;e.add(new w(n,r.predicate,r.object,t))}for(const r of e.statementsMatching(null,null,n,t))if(!r.predicate.sameTerm(Y("rest"))){e.remove(r);const n=new h;e.add(new w(r.subject,r.predicate,n,t))}}(e,t);e.statementsMatching(null,Y("rest"),Y("nil"),t).forEach(e=>{if("BlankNode"!==e.subject.termType)throw new Error(`Bad list element node ${e.subject} type: ${e.subject.termType} `);n(e.subject,[],[])})}var Z=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},ee="http://www.w3.org/2000/10/swap/log#",te=function(e){return e},ne=function(e){return e},re=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},ie=function(e){return e.length},ae=function(e,t,n){if(void 0===e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+typeof e;return void 0===n||null==n?e.slice(t):e.slice(t,n)},oe=Error("dummy error stop iteration"),se=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw oe;return this.li[this.last++]},this},le=function(e,t){return e.indexOf(t)},ce=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return Z(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var ue=function(e,t){return x.join(t,e)},pe="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",de="http://www.w3.org/2002/07/owl#sameAs";var fe="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",he=fe+":",me=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?([eE][-+]?[0-9]+)?","g"),ge=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),ve=new RegExp("[\\s#]"),be=new RegExp('[\\\\\\r\\n\\"]',"g"),ye=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function we(e,t){var n=e.charAt(t+1);return""===n||ve.test(n)}const xe=function(e,t,n,r,i,a,o,s){return new ke(e,t,n,r,i,a,o,s)};class ke{constructor(e,t,n,r,i,a,o,s){void 0===t&&(t=null),void 0===n&&(n=""),void 0===r&&(r=null),void 0===i&&(i=""),void 0===a&&(a=null),void 0===o&&(o=""),void 0===s&&(s=null),this._bindings=new re([]),this._flags=o,""!=n&&(ce(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,i&&e.setGenPrefix(i),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new ne(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new re([]),this._variables=new re([]),this._parentVariables=new re([]),this._reason=s,this._reason2=null,this._baseURI=r||(n||null),ce(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}here(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}formula(){return this._formula}loadStream(e){return this.loadBuf(e.read())}loadBuf(e){return this.startDoc(),this.feed(e),this.endDoc()}feed(e){for(var t=e.decode("utf-8"),n=0;n>=0;){var r=this.skipSpace(t,n);if(r<0)return;if((n=this.directiveOrStatement(t,r))<0)throw Ee(this._thisDoc,this.lines,t,r,"expected directive or statement")}}directiveOrStatement(e,t){var n,r=this.skipSpace(e,t);return r<0?r:(n=this.directive(e,r))>=0||(n=this.statement(e,r))>=0?this.checkDot(e,n):n}tok(e,t,n){if("@"==t.slice(n,n+1))n=n+1;else if(B(this.keywords,e)<0)return-1;var r=n+ie(e);return t.slice(n,r)==e&&fe.indexOf(t.charAt(r))>=0?r:-1}directive(e,t){if((a=this.skipSpace(e,t))<0)return a;var n=new ne([]);if((a=this.tok("bind",e,t))>0)throw Ee(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");if((a=this.tok("keywords",e,t))>0){if((t=this.commaSeparatedList(e,a,n,!1))<0)throw Ee(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(ae(n,null,null)),t}if((a=this.tok("forAll",e,t))>0){if((t=this.commaSeparatedList(e,a,n,!0))<0)throw Ee(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var r=new se(n);try{for(;;){var i=r.next();(B(this._variables,i)<0||B(this._parentVariables,i)>=0)&&(this._variables[i]=this._context.newUniversal(i))}}catch(e){if(e!=oe)throw e}return t}if((a=this.tok("forSome",e,t))>0){if((t=this.commaSeparatedList(e,a,n,this.uri_ref2))<0)throw Ee(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");r=new se(n);try{for(;;){i=r.next();this._context.declareExistential(i)}}catch(e){if(e!=oe)throw e}return t}if((a=this.tok("prefix",e,t))>=0){var a,o=new ne([]);if((t=this.qname(e,a,o))<0)throw Ee(this._thisDoc,this.lines,e,a,"expected qname after @prefix");if((a=this.uri_ref2(e,t,o))<0)throw Ee(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var s=o[1].uri;if(this._baseURI)s=ue(this._baseURI,s);else ce(s.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return ce(s.indexOf(":")>=0),this._bindings[o[0][0]]=s,this.bind(o[0][0],function(e){return encodeURI(e)}(s)),a}if((a=this.tok("base",e,t))>=0){o=new ne([]);if((t=this.uri_ref2(e,a,o))<0)throw Ee(this._thisDoc,this.lines,e,a,"expected <uri> after @base ");s=o[0].uri;if(!this._baseURI)throw Ee(this._thisDoc,this.lines,e,a,"With no previous base URI, cannot use relative URI in @base  <"+s+">");s=ue(this._baseURI,s);return ce(s.indexOf(":")>=0),this._baseURI=s,t}return-1}bind(e,t){""==e||this._store.setPrefixForURI(e,t)}setKeywords(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}startDoc(){}endDoc(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&X(this._store,this.source),this._formula}makeStatement(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===pe||e[3].uri&&e[3].uri===pe)&&(this.hasNil=!0),this.statementCount+=1}statement(e,t){var n=new ne([]);if((t=this.object(e,t,n))<0)return t;var r=this.property_list(e,t,n[0]);if(r<0)throw Ee(this._thisDoc,this.lines,e,t,"expected propertylist");return r}subject(e,t,n){return this.item(e,t,n)}verb(e,t,n){if((i=this.skipSpace(e,t))<0)return i;var r=new ne([]);if((i=this.tok("has",e,t))>=0){if((t=this.prop(e,i,r))<0)throw Ee(this._thisDoc,this.lines,e,i,"expected property after 'has'");return n.push(new te(["->",r[0]])),t}if((i=this.tok("is",e,t))>=0){if((t=this.prop(e,i,r))<0)throw Ee(this._thisDoc,this.lines,e,i,"expected <property> after 'is'");if((i=this.skipSpace(e,t))<0)throw Ee(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var i;t=i;if((i=this.tok("of",e,t))<0)throw Ee(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return n.push(new te(["<-",r[0]])),i}if((i=this.tok("a",e,t))>=0)return n.push(new te(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),i;if("<="==e.slice(t,t+2))return n.push(new te(["<-",this._store.sym(ee+"implies")])),t+2;if("="==e.slice(t,t+1))return">"==e.slice(t+1,t+2)?(n.push(new te(["->",this._store.sym(ee+"implies")])),t+2):(n.push(new te(["->",this._store.sym(de)])),t+1);if(":="==e.slice(t,t+2))return n.push(new te(["->",ee+"becomes"])),t+2;if((i=this.prop(e,t,r))>=0)return n.push(new te(["->",r[0]])),i;if(">-"==e.slice(t,t+2)||"<-"==e.slice(t,t+2))throw Ee(this._thisDoc,this.lines,e,i,">- ... -> syntax is obsolete.");return-1}prop(e,t,n){return this.item(e,t,n)}item(e,t,n){return this.path(e,t,n)}blankNode(e){return this._context.bnode(e,this._reason2)}path(e,t,n){if((i=this.nodeOrLiteral(e,t,n))<0)return i;for(;"!^.".indexOf(e.slice(i,i+1))>=0;){var r=e.slice(i,i+1);if("."==r&&we(e,i))break;var i,a=n.pop(),o=this.blankNode(this.here(i));if((i=this.node(e,i+1,n))<0)throw Ee(this._thisDoc,this.lines,e,i,"EOF found in middle of path syntax");var s=n.pop();"^"==r?this.makeStatement(new te([this._context,s,o,a])):this.makeStatement(new te([this._context,s,a,o])),n.push(o)}return i}anonymousNode(e){if(t=this._anonymousNodes[e])return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t}node(e,t,n,r){void 0===r&&(r=null);var i=r;if((u=this.skipSpace(e,t))<0)return u;t=u;var a=e.slice(t,t+1);if("["==a){var o=this.here(t);if((u=this.skipSpace(e,t+1))<0)throw Ee(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(u,u+1)){var t=u+1,s=new ne([]);if(!((u=this.objectList(e,t,s))>=0))throw Ee(this._thisDoc,this.lines,e,t,"objectList expected after [= ");i=s[0];if(ie(s)>1){var l=new se(s);try{for(;;){var c=l.next();this.makeStatement(new te([this._context,this._store.sym(de),i,c]))}}catch(e){if(e!=oe)throw e}}if((u=this.skipSpace(e,u))<0)throw Ee(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(u,u+1))var u=u+1}if(null==i)i=this.blankNode(o);if((t=this.property_list(e,u,i))<0)throw Ee(this._thisDoc,this.lines,e,u,"property_list expected");if((u=this.skipSpace(e,t))<0)throw Ee(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("."==e.slice(u,u+1))return n.push(i),u;if("]"!=e.slice(u,u+1))throw Ee(this._thisDoc,this.lines,e,u,"']' expected");return n.push(i),u+1}if("{"==a){if("$"==e.slice(t+1,t+2)){for(var u=(t+=1)+1,p=new ne([]),d=!0;;){if((t=this.skipSpace(e,u))<0)throw Ee(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){var u=t+2;break}if(d)d=!1;else{if(","!=e.slice(t,t+1))throw Ee(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var f=new ne([]);if((u=this.item(e,t,f))<0)throw Ee(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");p.push(f[0])}return n.push(this._store.newSet(p,this._context)),u}var u=t+1,h=this._parentContext;this._parentContext=this._context;var m=this._anonymousNodes,g=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new re([]),this._variables=this._variables.slice();var v=this._reason2;if(this._reason2=null,null==i)i=this._store.formula();for(this._context=i;;){if((t=this.skipSpace(e,u))<0)throw Ee(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){var u=t+1;break}if((u=this.directiveOrStatement(e,t))<0)throw Ee(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=m,this._variables=this._parentVariables,this._parentVariables=g,this._context=this._parentContext,this._reason2=v,this._parentContext=h,n.push(i.close()),u}if("("==a){var b=this._store.list;if("$"==e.slice(t+1,t+2)){b=this._store.newSet;t+=1}for(u=t+1,p=new ne([]);;){if((t=this.skipSpace(e,u))<0)throw Ee(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){u=t+1;break}f=new ne([]);if((u=this.item(e,t,f))<0)throw Ee(this._thisDoc,this.lines,e,t,"expected item in list or ')'");p.push(f[0])}return n.push(b(p,this._context)),u}if((u=this.tok("this",e,t))>=0)throw Ee(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");if((u=this.tok("true",e,t))>=0)return n.push(!0),u;if((u=this.tok("false",e,t))>=0)return n.push(!1),u;if(null==i&&(u=this.uri_ref2(e,t,n))>=0)return u;return-1}property_list(e,t,n){for(;;){if((u=this.skipSpace(e,t))<0)throw Ee(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=e.slice(u,u+2)){t=u;var r=new ne([]);if((u=this.verb(e,t,r))<=0)return t;var i=new ne([]);if((t=this.objectList(e,u,i))<0)throw Ee(this._thisDoc,this.lines,e,u,"objectList expected");var a=new se(i);try{for(;;){var o=a.next(),s=r[0],l=s[0],c=s[1];"->"==l?this.makeStatement(new te([this._context,c,n,o])):this.makeStatement(new te([this._context,c,o,n]))}}catch(e){if(e!=oe)throw e}if((u=this.skipSpace(e,t))<0)throw Ee(this._thisDoc,this.lines,e,u,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;t=t+1}else{var u,t=u+2,p=new ne([]);if((u=this.node(e,t,p,n))<0)throw Ee(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=u}}}commaSeparatedList(e,t,n,r){if((i=this.skipSpace(e,t))<0)throw Ee(this._thisDoc,this.lines,e,i,"EOF found expecting comma sep list");if("."==e.charAt(i))return t;if(r)var i=this.uri_ref2(e,i,n);else i=this.bareWord(e,i,n);if(i<0)return-1;for(;;){if((t=this.skipSpace(e,i))<0)return t;var a=e.slice(t,t+1);if(","!=a)return"."!=a?-1:t;if(r)i=this.uri_ref2(e,t+1,n);else i=this.bareWord(e,t+1,n);if(i<0)throw Ee(this._thisDoc,this.lines,e,i,"bad list content")}}objectList(e,t,n){if((t=this.object(e,t,n))<0)return-1;for(;;){var r=this.skipSpace(e,t);if(r<0)throw Ee(this._thisDoc,this.lines,e,r,"EOF found after object");if(","!=e.slice(r,r+1))return r;if((t=this.object(e,r+1,n))<0)return t}}checkDot(e,t){var n=this.skipSpace(e,t);if(n<0)return n;if("."==e.slice(n,n+1))return n+1;if("}"==e.slice(n,n+1))return n;if("]"==e.slice(n,n+1))return n;throw Ee(this._thisDoc,this.lines,e,n,"expected '.' or '}' or ']' at end of statement")}uri_ref2(e,t,n){var r=new ne([]);if((d=this.qname(e,t,r))>=0){var i=r[0],a=i[0],o=i[1];if(null==a){ce(0,"not used?");var s=this._baseURI+"#"}else{if(!(s=this._bindings[a])){if("_"==a)return n.push(this.anonymousNode(o)),d;throw Ee(this._thisDoc,this.lines,e,t,"Prefix "+a+" not bound.")}}var l=this._store.sym(s+o);return B(this._variables,l)>=0?n.push(this._variables[l]):n.push(l),d}if((t=this.skipSpace(e,t))<0)return-1;if("?"==e.charAt(t)){var c=new ne([]);return(d=this.variable(e,t,c))>0?(n.push(c[0]),d):-1}if("<"==e.charAt(t)){for(var u=t=t+1;t<ie(e);){if(">"==e.charAt(t)){var p=e.slice(u,t);if(this._baseURI)p=ue(this._baseURI,p);else ce(p.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==e.slice(t-1,t)&&"#"!=ae(p,-1,null))p=p+"#";l=this._store.sym(p);return B(this._variables,l)>=0?n.push(this._variables[l]):n.push(l),t+1}t=t+1}throw Ee(this._thisDoc,this.lines,e,d,"unterminated URI reference")}if(this.keywordsSet){var d;c=new ne([]);if((d=this.bareWord(e,t,c))<0)return-1;if(B(this.keywords,c[0])>=0)throw Ee(this._thisDoc,this.lines,e,t,'Keyword "'+c[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+c[0])),d}return-1}skipSpace(e,t){for(var n=t||0;n<e.length;n++){var r=e.charAt(n);if(" \n\r\t\f\v            ​\u2028\u2029　".indexOf(r)<0){if("#"!==e.charAt(n))return n;for(;;n++){if(n===e.length)return-1;if("\n"===e.charAt(n)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(n)&&(this.lines=this.lines+1)}return-1}variable(e,t,n){if((r=this.skipSpace(e,t))<0)return-1;if("?"!=e.slice(r,r+1))return-1;var r;t=r+=1;if("0123456789-".indexOf(e.charAt(r))>=0)throw Ee(this._thisDoc,this.lines,e,r,"Varible name can't start with '"+e.charAt(r)+"s'");for(;t<ie(e)&&he.indexOf(e.charAt(t))<0;)t=t+1;if(null==this._parentContext)throw Ee(this._thisDoc,this.lines,e,r,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(r-1,t));return n.push(this._store.variable(e.slice(r,t))),t}bareWord(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;var i=e.charAt(r);if("0123456789-".indexOf(i)>=0)return-1;if(he.indexOf(i)>=0)return-1;for(t=r;t<ie(e);){var a=e.charAt(t);if("."===a){if(we(e,t))break}else if(he.indexOf(a)>=0)break;t=t+1}return n.push(e.slice(r,t)),t}qname(e,t,n){if((t=this.skipSpace(e,t))<0)return-1;var r=e.charAt(t);if("0123456789-+".indexOf(r)>=0)return-1;if(he.indexOf(r)<0){var i=r;for(t=t+1;t<ie(e);){if("."===(r=e.charAt(t))){if(we(e,t))break}else if(he.indexOf(r)>=0)break;i=i+r,t=t+1}}else i="";if(t<ie(e)&&":"==e.charAt(t)){var a=i;for(t=t+1,i="";t<ie(e);){if("."===(r=e.charAt(t))){if(we(e,t))break}else if(he.indexOf(r)>=0)break;i=i+r,t=t+1}return n.push(new te([a,i])),t}return i&&this.keywordsSet&&B(this.keywords,i)<0?(n.push(new te(["",i])),t):-1}object(e,t,n){if((a=this.subject(e,t,n))>=0)return a;{if((a=this.skipSpace(e,t))<0)return-1;t=a;var r=null;let s=e.charAt(t);if('"'==s||"'"==s){r=e.slice(t,t+3==s+s)?s+s+s:s;t=t+ie(r);var i=this.strconst(e,t,r),a=i[0],o=i[1];return n.push(this._store.literal(o)),a}return-1}}nodeOrLiteral(e,t,n){if((l=this.node(e,t,n))>=0)return l;if((l=this.skipSpace(e,t))<0)return-1;t=l;var r=e.charAt(t);if("-+0987654321".indexOf(r)>=0){if(ge.lastIndex=0,null!=(p=ge.exec(e.slice(t)))){l=t+(i=p[0]).length,i.indexOf("T")>=0?n.push(this._store.literal(i,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):n.push(this._store.literal(i,this._store.sym("http://www.w3.org/2001/XMLSchema#date")))}else{var i;if(me.lastIndex=0,null==(p=me.exec(e.slice(t))))throw Ee(this._thisDoc,this.lines,e,t,"Bad number or date syntax");l=t+me.lastIndex,(i=e.slice(t,l)).indexOf("e")>=0?n.push(this._store.literal(parseFloat(i),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(t,l).indexOf(".")>=0?n.push(this._store.literal(parseFloat(i),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):n.push(this._store.literal(parseInt(i),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return l}if('"'==e.charAt(t)){if('"""'==e.slice(t,t+3))var a='"""';else a='"';t=t+ie(a);var o=null,s=this.strconst(e,t,a),l=s[0],c=s[1],u=null;if("@"==e.slice(l,l+1)){var p;if(ye.lastIndex=0,null==(p=ye.exec(e.slice(l+1))))throw Ee(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");t=ye.lastIndex+l+1,u=e.slice(l+1,t),l=t}if("^^"==e.slice(l,l+2)){var d=new ne([]);l=this.uri_ref2(e,l+2,d),o=d[0]}return n.push(this._store.literal(c,u||o)),l}return-1}strconst(e,t,n){for(var r=t,i="",a=this.lines;r<ie(e);){t=r+ie(n);if(e.slice(r,t)==n)return new te([t,i]);if('"'!=e.charAt(r)){if(be.lastIndex=0,!be.exec(e.slice(r)))throw Ee(this._thisDoc,a,e,r,"Closing quote missing in string at ^ in "+e.slice(r-20,r)+"^"+e.slice(r,r+20));t=r+be.lastIndex-1,i=i+e.slice(r,t);if('"'!=(l=e.charAt(t)))if("\r"!=l){if("\n"==l){if('"'==n)throw Ee(this._thisDoc,a,e,t,"newline found in string literal");this.lines=this.lines+1;i=i+l,r=t+1;this.previousLine=this.startOfLine,this.startOfLine=r}else if("\\"==l){r=t+1;if(!(l=e.slice(r,r+1)))throw Ee(this._thisDoc,a,e,t,"unterminated string literal (2)");var o=le('abfrtvn\\"',l);if(o>=0)i=i+'a\b\f\r\t\v\n\\"'.charAt(o),r=r+1;else if("u"==l)r=(s=this.uEscape(e,r+1,a))[0],i=i+(l=s[1]);else{if("U"!=l)throw Ee(this._thisDoc,this.lines,e,t,"bad escape");var s,l;r=(s=this.UEscape(e,r+1,a))[0],i=i+(l=s[1])}}}else var r=t+1;else var r=t}else var i=i+'"',r=r+1}throw Ee(this._thisDoc,this.lines,e,t,"unterminated string literal")}uEscape(e,t,n){for(var r=t,i=0,a=0;i<4;){var o=e.slice(r,r+1).toLowerCase();r=r+1;if(""==o)throw Ee(this._thisDoc,n,e,t,"unterminated string literal(3)");var s=le("0123456789abcdef",o);if(s<0)throw Ee(this._thisDoc,n,e,t,"bad string literal hex escape");a=16*a+s,i=i+1}var l=String.fromCharCode(a);return new te([r,l])}UEscape(e,t,n){for(var r=t,i=0,a="\\U";i<8;){var o=e.slice(r,r+1).toLowerCase();r=r+1;if(""==o)throw Ee(this._thisDoc,n,e,t,"unterminated string literal(3)");if(le("0123456789abcdef",o)<0)throw Ee(this._thisDoc,n,e,t,"bad string literal hex escape");a=a+o,i=i+1}var s,l=(s="0x"+ae(a,2,10)-0,String.fromCharCode(s));return new te([r,l])}}function _e(e,t,n,r,i){this._str=n.encode("utf-8"),this._str=n,this._i=r,this._why=i,this.lines=t,this._uri=e}function Ee(e,t,n,r,i){let a=t+1,o="Line "+a+" of <"+e+">: Bad syntax: "+i+'\nat: "'+n.slice(r,r+30)+'"',s=new SyntaxError(o,e,a);return s.lineNo=a,s.characterInFile=r,s.syntaxProblem=i,s}_e.prototype.toString=function(){var e=this._str,t=this._i,n=0;if(t>60){var r="...";n=t-60}else r="";if(ie(e)-t>60)var i="...";else i="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new te([this.lines+1,this._uri,this._why,r,e.slice(n,t),e.slice(t,t+60),i])};const Ce={...S,supports:{[_.collections]:!0,[_.defaultGraphType]:!1,[_.equalsMethod]:!0,[_.identity]:!1,[_.id]:!0,[_.reversibleId]:!1,[_.variableType]:!0},collection:e=>new h(e),id(e){return(0,u.P3)(e)?`( ${e.elements.map(e=>this.id(e)).join(", ")} )`:(0,u.DZ)(e)?k.toString(e):S.id(e)},termToNQ:e=>e.termType===s.r0?h.toNT(e):S.termToNQ(e)},Se=Ce;function Ae(e,t){return"string"==typeof t?e.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===e.rdfFactory.supports.COLLECTIONS?function(e,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return e.rdfFactory.collection(t.map(t=>Ae(e,t)))}(e,t["@list"]):function(e,t){const n=t["@id"]?Re(e,t):e.rdfFactory.blankNode(),r=t["@list"].map(t=>Ae(e,t)),i=U(e.rdfFactory,n,r);return e.addAll(i),n}(e,t):Object.prototype.hasOwnProperty.call(t,"@id")?Re(e,t):Object.prototype.hasOwnProperty.call(t,"@language")?e.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?e.rdfFactory.literal(t["@value"],e.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?e.rdfFactory.literal(t["@value"]):e.rdfFactory.literal(t)}async function Te(e,t,r){const i=r&&Object.prototype.hasOwnProperty.call(r,"termType")?r.value:r,a=await n.e(841).then(n.t.bind(n,4841,23));return(await a.default.flatten(JSON.parse(e),null,{base:i})).reduce((e,t)=>Pe(e,r,t),t)}function Re(e,t){return t["@id"].startsWith("_:")?e.rdfFactory.blankNode(t["@id"].substring(2)):e.rdfFactory.namedNode(t["@id"])}function Pe(e,t,n){const r=n["@id"]?Re(e,n):e.rdfFactory.blankNode();for(const i of Object.keys(n)){if("@id"===i)continue;if("@graph"==i){const t=r,a=n[i];for(let n=0;n<a.length;n++)e=Pe(e,t,a[n])}const a=n[i];if(Array.isArray(a))for(let n=0;n<a.length;n++)e.addStatement(Fe(e,r,i,a[n],t));else e.addStatement(Fe(e,r,i,a,t))}return e}function Fe(e,t,n,r,i){let a,o;return"@type"===n?(a=e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),o=e.rdfFactory.namedNode(r)):(a=e.rdfFactory.namedNode(n),o=Ae(e,r)),e.rdfFactory.quad(t,a,o,e.rdfFactory.namedNode(i))}var Ie=n(5576);const Ne="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Oe="http://www.w3.org/2001/XMLSchema#",Le="http://www.w3.org/2000/10/swap/",je={xsd:{decimal:`${Oe}decimal`,boolean:`${Oe}boolean`,double:`${Oe}double`,integer:`${Oe}integer`,string:`${Oe}string`},rdf:{type:`${Ne}type`,nil:`${Ne}nil`,first:`${Ne}first`,rest:`${Ne}rest`,langString:`${Ne}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Le}reify#forSome`,forAll:`${Le}reify#forAll`},log:{implies:`${Le}log#implies`,isImpliedBy:`${Le}log#isImpliedBy`}},{xsd:Me}=je,De=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Ue={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Be=/[\x00-\x20<>\\"\{\}\|\^\`]/,ze={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},He=/$0^/;class qe{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in ze)&&this[e]instanceof RegExp&&(this[e]=He)}else this._n3Mode=!1!==e.n3;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input,r=n.length;for(;;){let e,o;for(;e=this._newline.exec(n);)this.comments&&(o=this._comment.exec(e[0]))&&i("comment",o[1],"",this._line,e[0].length),n=n.substr(e[0].length,n.length),r=n.length,this._line++;if(!e&&(e=this._whitespace.exec(n))&&(n=n.substr(e[0].length,n.length)),this._endOfFile.test(n))return t&&(this.comments&&(o=this._comment.exec(n))&&i("comment",o[1],"",this._line,n.length),n=null,i("eof","","",this._line,0)),this._input=n;const s=this._line,l=n[0];let c="",u="",p="",d=null,f=0,h=!1;switch(l){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(f=1,c="^");break}if(this._previousMarker="^^",n=n.substr(2),"<"!==n[0]){h=!0;break}case"<":if(d=this._unescapedIri.exec(n))c="IRI",u=d[1];else if(d=this._iri.exec(n)){if(u=this._unescape(d[1]),null===u||Be.test(u))return a(this);c="IRI"}else n.length>1&&"<"===n[1]?(c="<<",f=2):this._n3Mode&&n.length>1&&"="===n[1]&&(f=2,this._isImpliedBy?(c="abbreviation",u="<"):(c="inverse",u=">"));break;case">":n.length>1&&">"===n[1]&&(c=">>",f=2);break;case"_":((d=this._blank.exec(n))||t&&(d=this._blank.exec(`${n} `)))&&(c="blank",p="_",u=d[1]);break;case'"':if(d=this._simpleQuotedString.exec(n))u=d[1];else if(({value:u,matchLength:f}=this._parseLiteral(n)),null===u)return a(this);null===d&&0===f||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(d=this._simpleApostropheString.exec(n))u=d[1];else if(({value:u,matchLength:f}=this._parseLiteral(n)),null===u)return a(this);null===d&&0===f||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(d=this._variable.exec(n))&&(c="var",u=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(n))?(c="langcode",u=d[1]):(d=this._keyword.exec(n))&&(c=d[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",f=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(n)||t&&(d=this._number.exec(`${n} `)))&&(c="literal",u=d[0],p="string"==typeof d[1]?Me.double:"string"==typeof d[2]?Me.decimal:Me.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(n))?c=d[0].toUpperCase():h=!0;break;case"f":case"t":(d=this._boolean.exec(n))?(c="literal",u=d[0],p=Me.boolean):h=!0;break;case"a":(d=this._shortPredicates.exec(n))?(c="abbreviation",u="a"):h=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(f=1,u="="):(f=2,u=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(f=1,c=l);break;case"{":!this._lineMode&&n.length>=2&&("|"===n[1]?(c="{|",f=2):(c=l,f=1));break;case"|":n.length>=2&&"}"===n[1]&&(c="|}",f=2);break;default:h=!0}if(h&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(n))?((d=this._prefixed.exec(n))||t&&(d=this._prefixed.exec(`${n} `)))&&(c="prefixed",p=d[1]||"",u=this._unescape(d[2])):(c="prefix",u=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?a(this):this._input=n;const m=f||d[0].length,g=i(c,u,p,s,m);this.previousToken=g,this._previousMarker=c,n=n.substr(m,n.length)}function i(t,i,a,o,s){const l=n?r-n.length:r,c={type:t,value:i,prefix:a,line:o,start:l,end:l+s};return e(null,c),c}function a(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(De,(e,n,r,i)=>{if("string"==typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"==typeof r){let e=Number.parseInt(r,16);return e<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in Ue?Ue[i]:(t=!0,"")});return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let t=0;for(;"\\"===e[r-t-1];)t++;if(t%2==0){const t=e.substring(n,r),i=t.split(/\r\n|\r|\n/).length-1,a=r+n;if(1===n&&0!==i||3===n&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:a}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const e=[];let t;if(this._tokenizeToEnd((n,r)=>n?t=n:e.push(r),!0),t)throw t;return e}queueMicrotask(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=Ie.Buffer.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:(void 0===this._input?this._input=this._readStartingBom("string"==typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:$e,xsd:We}=je;let Ve,Ge=0;const Ke={namedNode:rt,blankNode:it,variable:ot,literal:at,defaultGraph:function(){return Ve},quad:st,triple:st,fromTerm:lt,fromQuad:ct},Je=Ke;class Qe{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Qe?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Ye extends Qe{get termType(){return"NamedNode"}}class Xe extends Qe{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new Ye(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return"^"===n?e.substr(t+2):"@"!==n?We.string:$e.langString}equals(e){return e instanceof Xe?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Ze extends Qe{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class et extends Qe{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class tt extends Qe{constructor(){return super(""),Ve||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}Ve=new tt;class nt extends Qe{constructor(e,t,n,r){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=r||Ve}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function rt(e){return new Ye(e)}function it(e){return new Ze(e||"n3-"+Ge++)}function at(e,t){if("string"==typeof t)return new Xe(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return""===n&&("boolean"==typeof e?n=We.boolean:"number"==typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?We.integer:We.double:(n=We.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===n||n===We.string?new Xe(`"${e}"`):new Xe(`"${e}"^^${n}`)}function ot(e){return new et(e)}function st(e,t,n,r){return new nt(e,t,n,r)}function lt(e){if(e instanceof Qe)return e;switch(e.termType){case"NamedNode":return rt(e.value);case"BlankNode":return it(e.value);case"Variable":return ot(e.value);case"DefaultGraph":return Ve;case"Literal":return at(e.value,e.language||e.datatype);case"Quad":return ct(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function ct(e){if(e instanceof nt)return e;if("Quad"!==e.termType)throw new Error(`Unexpected termType: ${e.termType}`);return st(lt(e.subject),lt(e.predicate),lt(e.object),lt(e.graph))}let ut=0;class pt{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&ft(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),r=/trig/.test(t),i=/triple/.test(t),a=/quad/.test(t),o=this._n3Mode=/n3/.test(t),s=i||a;(this._supportsNamedGraphs=!(n||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||r||i||o),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=""===t||/star|\*$/.test(t),s&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new qe({lineMode:s,n3:o,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){ut=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,n,r,i){const a=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:r,object:i,graph:t,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);n=this._factory.namedNode(t);break;case"type":case"prefixed":const r=this._prefixes[e.prefix];if(void 0===r)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._factory.namedNode(r+e.value);break;case"blank":n=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,r=this._readListItem;const i=this._subject,a=this._contextStack,o=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._factory.blankNode()),null===i?null===o.predicate?o.subject=n:o.object=n:this._emit(i,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(void 0===n)return;t=this._factory.literal(this._literalValue,n),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const r=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const a=this._predicate,o=this._object;this._subject=this._factory.quad(r,a,o,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const e=this._predicate,t=this._object;i?this._emit(t,e,r,n):this._emit(r,e,t,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){const t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const r=this._factory.blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._factory.blankNode();let n,r;if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,r){this._callback(null,this._factory.quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=dt}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",r=-1,i=-1,a=0,o="/";for(;r<t;){switch(o){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<t&&"/"!==e[i];)r=i;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(o=e[1+ ++r],o){case"/":n+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return n+e.substring(a,r)+e.substr(r+1);case".":if(o=e[1+ ++r],void 0===o||"/"===o||"?"===o||"#"===o){if(n+=e.substring(a,r-2),(a=n.lastIndexOf("/"))>=i&&(n=n.substr(0,a)),"/"!==o)return`${n}/${e.substr(r+1)}`;a=r+1}}}o=e[++r]}return n+e.substring(a)}parse(e,t,n){let r,i,a;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(r=t.onQuad,i=t.onPrefix,a=t.onComment):(r=t,i=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${ut++}_`,this._prefixCallback=i||dt,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const t=[];let n;if(this._callback=(e,r)=>{e?n=e:r&&t.push(r)},this._lexer.tokenize(e).every(e=>this._readCallback=this._readCallback(e)),n)throw n;return t}let o=(e,t)=>{null!==e?(this._callback(e),this._callback=dt):this._readCallback&&(this._readCallback=this._readCallback(t))};a&&(this._lexer.comments=!0,o=(e,t)=>{null!==e?(this._callback(e),this._callback=dt):this._readCallback&&("comment"===t.type?a(t.value):this._readCallback=this._readCallback(t))}),this._callback=r,this._lexer.tokenize(e,o)}}function dt(){}function ft(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(je.rdf.first),e.RDF_REST=t.namedNode(je.rdf.rest),e.RDF_NIL=t.namedNode(je.rdf.nil),e.N3_FORALL=t.namedNode(je.r.forAll),e.N3_FORSOME=t.namedNode(je.r.forSome),e.ABBREVIATIONS={a:t.namedNode(je.rdf.type),"=":t.namedNode(je.owl.sameAs),">":t.namedNode(je.log.implies),"<":t.namedNode(je.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}function ht(e){return!!e&&"NamedNode"===e.termType}function mt(e){return!!e&&"BlankNode"===e.termType}function gt(e){return!!e&&"Literal"===e.termType}function vt(e){return!!e&&"Variable"===e.termType}function bt(e){return!!e&&"Quad"===e.termType}function yt(e){return!!e&&"DefaultGraph"===e.termType}function wt(e){return yt(e.graph)}function xt(e,t){return kt({"":e.value||e},t)("")}function kt(e,t){const n=Object.create(null);for(const t in e)r(t,e[t]);function r(e,r){if("string"==typeof r){const i=Object.create(null);n[e]=e=>i[e]||(i[e]=t.namedNode(r+e))}else if(!(e in n))throw new Error(`Unknown prefix: ${e}`);return n[e]}return t=t||Je,r}ft(pt.prototype,Je);Je.defaultGraph();const{rdf:_t,xsd:Et}=je;var Ct=n(5721);Symbol("iter");Symbol.iterator;Ct.Readable,Symbol.iterator;Ct.Transform;Ct.Transform;if(void 0===St)var St={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};class At{constructor(e,t){this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}addTriple(e,t,n,r){var i,a,o,s;i=void 0===t?S.namedNode(this.options.base):this.toRDFNodeObject(t),o=this.toRDFNodeObject(n),a=this.toRDFNodeObject(r),s=S.namedNode(this.options.base),this.kb.add(i,o,a,s)}ancestorPath(e){for(var t="";e&&e.nodeType!==St.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}copyMappings(e){var t={};for(var n in e)t[n]=e[n];return t}copyProperties(){}deriveDateTimeType(e){for(var t=0;t<At.dateTimeTypes.length;t++){var n=At.dateTimeTypes[t].pattern.exec(e);if(n&&n[0].length===e.length)return At.dateTimeTypes[t].type}return null}init(){}newBlankNode(){return this.blankCounter++,"_:"+this.blankCounter}newSubjectOrigin(e,t){}parseCURIE(e,t,n){var r,i=e.indexOf(":");if(i>=0){var a=e.substring(0,i);if(""===a)return(r=t[""])?r+e.substring(i+1):null;if("_"===a)return"_:"+e.substring(i+1);if(At.NCNAME.test(a)&&(r=t[a]))return r+e.substring(i+1)}return null}parseCURIEOrURI(e,t,n){var r=this.parseCURIE(e,t,n);return r||this.resolveAndNormalize(n,e)}parsePredicate(e,t,n,r,i,a){if(""===e)return null;var o=this.parseTermOrCURIEOrAbsURI(e,t,a?null:n,r,i);return o&&0===o.indexOf("_:")?null:o}parsePrefixMappings(e,t){for(var n=this.tokenize(e),r=null,i=0;i<n.length;i++)":"===n[i][n[i].length-1]?r=n[i].substring(0,n[i].length-1):r&&(t[r]=this.options.base?x.join(n[i],this.options.base):n[i],r=null)}static parseRDFaDOM(e,t,n){var r=new At(t,{base:n});e.baseURI||(e.baseURI=n),r.process(e,{baseURI:n})}parseSafeCURIEOrCURIEOrURI(e,t,n){return"["===(e=this.trim(e)).charAt(0)&&"]"===e.charAt(e.length-1)?0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,n):this.parseCURIEOrURI(e,t,n)}parseTermOrCURIEOrAbsURI(e,t,n,r,i){e=this.trim(e);var a=this.parseCURIE(e,r,i);if(a)return a;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var o=n[e];if(o)return o;if(o=n[e.toLowerCase()])return o}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}parseTermOrCURIEOrURI(e,t,n,r,i){e=this.trim(e);var a=this.parseCURIE(e,r,i);if(a)return a;var o=n[e];return o||((o=n[e.toLowerCase()])?o:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}parseURI(e){return e}process(e,t){var n;t=t||{},e.nodeType===St.DOCUMENT_NODE?(e.baseURI&&!t.baseURI&&(t.baseURI=e.baseURI),n=e.baseURI,(e=e.documentElement).baseURI||(e.baseURI=n),this.setContext(e)):e.parentNode.nodeType===St.DOCUMENT_NODE&&this.setContext(e);var r=[],i=function(e){if(!e&&t&&t.baseURI)return t.baseURI;var n=e.indexOf("#");return n>=0&&(e=e.substring(0,n)),t&&t.baseURIMap&&(e=t.baseURIMap(e)),e};for(r.push({current:e,context:this.push(null,i(e.baseURI))});r.length>0;){var a=r.shift();if(a.parent){if(a.context.parent&&a.context.parent.listMapping===a.listMapping)continue;for(let e in a.listMapping){var o=a.listMapping[e];if(0!==o.length){var s=[];for(let e=0;e<o.length;e++)s.push(this.newBlankNode());for(let e=0;e<s.length;e++)this.addTriple(a.parent,s[e],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",o[e]),this.addTriple(a.parent,s[e],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:At.objectURI,value:e+1<s.length?s[e+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(a.parent,a.subject,e,{type:At.objectURI,value:s[0]})}else this.addTriple(a.parent,a.subject,e,{type:At.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var l=a.current,c=a.context,u=!1,p=null,d=null,f=null,h=c.prefixes,m=!1,g=[],v=c.listMapping,b=!c.parent,y=c.language,w=c.vocabulary;n=this.parseURI(i(l.baseURI)),l.item=null;var k=l.getAttributeNode("vocab");if(k){let e=this.trim(k.value);if(e.length>0){w=e;var _=n.spec;this.addTriple(l,_,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:At.objectURI,value:w})}else w=this.vocabulary}for(var E=0;E<l.attributes.length;E++){var C=l.attributes[E];if("x"===C.nodeName.charAt(0)&&0===C.nodeName.indexOf("xmlns:")){m||(h=this.copyMappings(h),m=!0);var S=C.nodeName.substring(6),A=At.trim(C.value);h[S]=this.options.base?x.join(A,this.options.base):A}}var T=l.getAttributeNode("prefix");T&&(m||(h=this.copyMappings(h),m=!0),this.parsePrefixMappings(T.value,h));var R=null;for(let e=0;!R&&e<this.langAttributes.length;e++)R=l.getAttributeNodeNS(this.langAttributes[e].namespaceURI,this.langAttributes[e].localName);if(R){let e=At.trim(R.value);y=e.length>0?e:null}var P,F,I=l.getAttributeNode("rel"),N=l.getAttributeNode("rev"),O=l.getAttributeNode("typeof"),L=l.getAttributeNode("property"),j=l.getAttributeNode("datatype"),M=this.inHTMLMode?l.getAttributeNode("datetime"):null,D=l.getAttributeNode("content"),U=l.getAttributeNode("about"),B=l.getAttributeNode("src"),z=l.getAttributeNode("resource"),H=l.getAttributeNode("href"),q=l.getAttributeNode("inlist"),$=[];if(I){F=this.tokenize(I.value);for(let e=0;e<F.length;e++)(P=this.parsePredicate(F[e],w,c.terms,h,n,this.inHTMLMode&&null!==L))&&$.push(P)}var W=[];if(N){F=this.tokenize(N.value);for(let e=0;e<F.length;e++)(P=this.parsePredicate(F[e],w,c.terms,h,n,this.inHTMLMode&&L))&&W.push(P)}if(this.inHTMLMode&&(I||N)&&L&&(0===$.length&&(I=null),0===W.length&&(N=null)),I||N?(U&&(p=this.parseSafeCURIEOrCURIEOrURI(U.value,h,n)),O&&(f=p),p||(l.parentNode.nodeType===St.DOCUMENT_NODE?p=i(l.baseURI):c.parentObject&&(p=i(l.parentNode.baseURI)===c.parentObject?i(l.baseURI):c.parentObject)),z&&(d=this.parseSafeCURIEOrCURIEOrURI(z.value,h,n)),d||(H?d=this.resolveAndNormalize(n,encodeURI(H.value)):B?d=this.resolveAndNormalize(n,encodeURI(B.value)):!O||U||this.inXHTMLMode&&("head"===l.localName||"body"===l.localName)||(d=this.newBlankNode())),!O||U||!this.inXHTMLMode||"head"!==l.localName&&"body"!==l.localName?O&&!U&&(f=d):f=p):!L||D||j?(U&&(p=this.parseSafeCURIEOrCURIEOrURI(U.value,h,n)),!p&&z&&(p=this.parseSafeCURIEOrCURIEOrURI(z.value,h,n)),!p&&H&&(p=this.resolveAndNormalize(n,encodeURI(H.value))),!p&&B&&(p=this.resolveAndNormalize(n,encodeURI(B.value))),p||(l.parentNode.nodeType===St.DOCUMENT_NODE?p=i(l.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==l.localName&&"body"!==l.localName?O?p=this.newBlankNode():c.parentObject&&(p=i(l.parentNode.baseURI)===c.parentObject?i(l.baseURI):c.parentObject,L||(u=!0)):p=i(l.parentNode.baseURI)===c.parentObject?i(l.baseURI):c.parentObject),O&&(f=p)):(U&&(p=this.parseSafeCURIEOrCURIEOrURI(U.value,h,n),O&&(f=p)),p||l.parentNode.nodeType!==St.DOCUMENT_NODE?!p&&c.parentObject&&(p=i(l.parentNode.baseURI)===c.parentObject?i(l.baseURI):c.parentObject):(p=i(l.baseURI),O&&(f=p)),O&&!f&&(z&&(f=this.parseSafeCURIEOrCURIEOrURI(z.value,h,n)),!f&&H&&(f=this.resolveAndNormalize(n,encodeURI(H.value))),!f&&B&&(f=this.resolveAndNormalize(n,encodeURI(B.value))),f||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==l.localName&&"body"!==l.localName||(f=p),f||(f=this.newBlankNode()),d=f)),p&&(U||z||f)){var V=p;O&&!U&&!z&&d&&(V=d),this.newSubjectOrigin(l,V)}if(f){F=this.tokenize(O.value);for(let e=0;e<F.length;e++){var G=this.parseTermOrCURIEOrAbsURI(F[e],w,c.terms,h,n);G&&this.addTriple(l,f,At.typeURI,{type:At.objectURI,value:G})}}if(p&&p!==c.parentObject&&(v={},b=!0),d){if(I&&q)for(let e=0;e<$.length;e++){let t=v[$[e]];t||(t=[],v[$[e]]=t),t.push({type:At.objectURI,value:d})}else if(I)for(let e=0;e<$.length;e++)this.addTriple(l,p,$[e],{type:At.objectURI,value:d});if(N)for(let e=0;e<W.length;e++)this.addTriple(l,d,W[e],{type:At.objectURI,value:p})}else{if(p&&!d&&(I||N)&&(d=this.newBlankNode()),I&&q)for(let e=0;e<$.length;e++){let t=v[$[e]];t||(t=[],v[P]=t),g.push({predicate:$[e],list:t})}else if(I)for(let e=0;e<$.length;e++)g.push({predicate:$[e],forward:!0});if(N)for(let e=0;e<W.length;e++)g.push({predicate:W[e],forward:!1})}if(L){var K=null,J=null;j?(K=""===j.value?At.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(j.value,w,c.terms,h,n),J=M&&!D?M.value:K===At.XMLLiteralURI||K===At.HTMLLiteralURI?null:D?D.value:l.textContent):D?(K=At.PlainLiteralURI,J=D.value):M?(J=M.value,(K=At.deriveDateTimeType(J))||(K=At.PlainLiteralURI)):I||N||(z&&(J=this.parseSafeCURIEOrCURIEOrURI(z.value,h,n)),!J&&H?J=this.resolveAndNormalize(n,encodeURI(H.value)):!J&&B&&(J=this.resolveAndNormalize(n,encodeURI(B.value))),J&&(K=At.objectURI)),K||(O&&!U?(K=At.objectURI,J=f):(J=l.textContent,this.inHTMLMode&&"time"===l.localName&&(K=At.deriveDateTimeType(J)),K||(K=At.PlainLiteralURI))),F=this.tokenize(L.value);for(let e=0;e<F.length;e++){let t=this.parsePredicate(F[e],w,c.terms,h,n);if(t)if(q){let e=v[t];e||(e=[],v[t]=e),e.push(K===At.XMLLiteralURI||K===At.HTMLLiteralURI?{type:K,value:l.childNodes}:{type:K||At.PlainLiteralURI,value:J,language:y})}else K===At.XMLLiteralURI||K===At.HTMLLiteralURI?this.addTriple(l,p,t,{type:K,value:l.childNodes}):this.addTriple(l,p,t,{type:K||At.PlainLiteralURI,value:J,language:y})}}if(p&&!u)for(let e=0;e<c.incomplete.length;e++)c.incomplete[e].list?c.incomplete[e].list.push({type:At.objectURI,value:p}):c.incomplete[e].forward?this.addTriple(l,c.subject,c.incomplete[e].predicate,{type:At.objectURI,value:p}):this.addTriple(l,p,c.incomplete[e].predicate,{type:At.objectURI,value:c.subject});var Q=null,Y=p;u?((Q=this.push(c,c.subject)).parentObject=i(l.parentNode.baseURI)===c.parentObject?i(l.baseURI):c.parentObject,Q.incomplete=c.incomplete,Q.language=y,Q.prefixes=h,Q.vocabulary=w):((Q=this.push(c,p)).parentObject=d||p||c.subject,Q.prefixes=h,Q.incomplete=g,d&&(Y=d,v={},b=!0),Q.listMapping=v,Q.language=y,Q.vocabulary=w),b&&r.unshift({parent:l,context:c,subject:Y,listMapping:v});for(var X=l.lastChild;X;X=X.previousSibling)X.nodeType===St.ELEMENT_NODE&&r.unshift({current:X,context:Q})}}this.inHTMLMode&&this.copyProperties();for(let t=0;t<this.finishedHandlers.length;t++)this.finishedHandlers[t](e)}push(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}resolveAndNormalize(e,t){return x.join(t,e)}setContext(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?this.setHTMLContext():"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}setHTMLContext(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}setInitialContext(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}setXHTMLContext(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}setXMLContext(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}tokenize(e){return this.trim(e).split(/\s+/)}static tokenize(e){return this.trim(e).split(/\s+/)}toRDFNodeObject(e){if(void 0!==e){if("string"==typeof e)return"_:"===e.substring(0,2)?(void 0===this.blankNodes[e.substring(2)]&&(this.blankNodes[e.substring(2)]=new l(e.substring(2))),this.blankNodes[e.substring(2)]):S.namedNode(e);switch(e.type){case At.objectURI:return"_:"===e.value.substring(0,2)?(void 0===this.blankNodes[e.value.substring(2)]&&(this.blankNodes[e.value.substring(2)]=new l(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):S.namedNode(e.value);case At.PlainLiteralURI:return new d(e.value,e.language||"");case At.XMLLiteralURI:case At.HTMLLiteralURI:var t="";return Object.keys(e.value).forEach(n=>{t+=I.domToString(e.value[n],this.htmlOptions)}),new d(t,"",new c.A(e.type));default:return new d(e.value,"",new c.A(e.type))}}}trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}static trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}At.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",At.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",At.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",At.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",At.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",At.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",At.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",At.NCNAME=new RegExp("^"+At.nameStartChar+At.nameChar+"*$"),At.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];const Tt=At.parseRDFaDOM;class Rt{constructor(e){this.store=e,this.bnodes={},this.why=null,this.reify=!1}frameFactory(e,t,n){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=x.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(x.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(Rt.ns.RDF+"type"),this.store.sym(Rt.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(Rt.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(Rt.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(Rt.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===Rt.ns.RDF+"li"&&(e=Rt.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype&&this.parent.datatype!==Rt.ns.RDF+"langString"?this.node=this.store.literal(e,this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}getAttributeNodeNS(e,t,n){var r=null;if(e.getAttributeNodeNS)r=e.getAttributeNodeNS(t,n);else for(var i,a=e.attributes,o=0;o<a.length;++o)if((i=a[o]).namespaceURI===t&&(i.prefix?i.prefix+":"+n:n)===i.nodeName){r=i;break}return r}parse(e,t,n){var r,i=e.childNodes;if(this.cleanParser(),e.nodeType===Rt.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType===Rt.nodeType.ELEMENT){r=i[a];break}}else{if(e.nodeType!==Rt.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+t+". Halting. ");r=e}this.why=n;var o=this.frameFactory(this);return this.base=t,o.base=t,o.lang=null,this.parseDOM(this.buildFrame(o,r)),!0}parseDOM(e){for(var t,n=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),r=!0;e.parent;){var i=e.element,a=i.attributes;if(i.nodeType===Rt.nodeType.TEXT||i.nodeType===Rt.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(Rt.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(i.nodeValue);else if(n(i)!==Rt.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(n(i)),this.reify&&(t=this.getAttributeNodeNS(i,Rt.ns.RDF,"ID"))&&(e.rdfid=t.nodeValue,i.removeAttributeNode(t));var o=this.getAttributeNodeNS(i,Rt.ns.RDF,"parseType"),s=this.getAttributeNodeNS(i,Rt.ns.RDF,"datatype");if(s&&(e.datatype=s.nodeValue,i.removeAttributeNode(s)),o){var l=o.nodeValue;"Literal"===l?(e.datatype=Rt.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(i.innerHTML||i.childNodes),r=!1):"Resource"===l?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===l&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),i.removeAttributeNode(o)}if(0!==a.length){var c=this.getAttributeNodeNS(i,Rt.ns.RDF,"resource"),u=this.getAttributeNodeNS(i,Rt.ns.RDF,"nodeID");e=this.buildFrame(e),c?(e.addNode(c.nodeValue),i.removeAttributeNode(c)):u?(e.addBNode(u.nodeValue),i.removeAttributeNode(u)):e.addBNode();for(var p=a.length-1;p>=0;p--){var d=this.buildFrame(e);d.addArc(n(a[p])),n(a[p])===Rt.ns.RDF+"type"?this.buildFrame(d).addNode(a[p].nodeValue):this.buildFrame(d).addLiteral(a[p].nodeValue)}}else 0===i.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var f=this.getAttributeNodeNS(i,Rt.ns.RDF,"about");if(t=this.getAttributeNodeNS(i,Rt.ns.RDF,"ID"),f&&t)throw new Error("RDFParser: "+i.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!f&&t)e.addNode("#"+t.nodeValue),i.removeAttributeNode(t);else if(null==f&&null==t){var h=this.getAttributeNodeNS(i,Rt.ns.RDF,"nodeID");h?(e.addBNode(h.nodeValue),i.removeAttributeNode(h)):e.addBNode()}else e.addNode(f.nodeValue),i.removeAttributeNode(f);var m=this.getAttributeNodeNS(i,Rt.ns.RDF,"type");Rt.ns.RDF+"Description"!==n(i)&&(m={nodeValue:n(i)}),null!=m&&(this.store.add(e.node,this.store.sym(Rt.ns.RDF+"type"),this.store.sym(x.join(m.nodeValue,e.base)),this.why),m.nodeName&&i.removeAttributeNode(m));for(var g=a.length-1;g>=0;g--)this.store.add(e.node,this.store.sym(n(a[g])),this.store.literal(a[g].nodeValue,e.lang),this.why)}for(i=e.element;e.parent;){for(var v=e;null==i;)i=(e=e.parent).element;var b=i.childNodes&&i.childNodes[e.lastChild];if(b&&r){if((b.nodeType===Rt.nodeType.ELEMENT||b.nodeType===Rt.nodeType.TEXT||b.nodeType===Rt.nodeType.CDATA_SECTION)&&(b.nodeType!==Rt.nodeType.TEXT&&b.nodeType!==Rt.nodeType.CDATA_SECTION||1===i.childNodes.length)){e.lastChild++,e=this.buildFrame(v,i.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;i=e.element,r=!0}}}}cleanParser(){this.bnodes={},this.why=null}buildFrame(e,t){var n=this.frameFactory(this,e,t);if(e&&(n.base=e.base,n.lang=e.lang),!t||t.nodeType===Rt.nodeType.TEXT||t.nodeType===Rt.nodeType.CDATA_SECTION)return n;var r=t.attributes,i=t.getAttributeNode("xml:base");null!=i&&(n.base=i.nodeValue,t.removeAttribute("xml:base"));var a=t.getAttributeNode("xml:lang");null!=a&&(n.lang=a.nodeValue,t.removeAttribute("xml:lang"));for(var o=r.length-1;o>=0;o--)if("xml"===r[o].nodeName.substr(0,3)){if("xmlns:"===r[o].name.slice(0,6)){var s=r[o].nodeValue;this.base&&(s=x.join(s,this.base)),this.store.setPrefixForURI(r[o].name.slice(6),s)}t.removeAttributeNode(r[o])}return n}}function Pt(e,t,n){var r,i,a,o=["INSERT","DELETE","WHERE"],s=T("http://www.w3.org/ns/pim/patch#"),l=xe(t,t,n,n,null,null,"",null),c={},u=function(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+n.slice(r,r+30)+'"'};r=0;var p=t.sym(n+"#query");for(c.query=p;;){if((i=l.skipSpace(e,r))<0)return c;if(";"===e[i]){if((r=l.skipSpace(e,i+1))<0)return c;i=r}var d=!1;for(a=0;a<o.length;a++){var f=o[a];if(e.slice(i,i+f.length)===f){if((r=l.skipSpace(e,i+f.length))<0)throw u(l._thisDoc,l.lines,e,i+f.length,"found EOF, needed {...} after "+f);if(("INSERT"===f||"DELETE"===f)&&"DATA"===e.slice(r,r+4)){if((i=l.skipSpace(e,r+4))<0)throw u(l._thisDoc,l.lines,e,r+4,"needed {...} after INSERT DATA "+f);r=i}var h=[];if((i=l.node(e,r,h))<0)throw u(l._thisDoc,l.lines,e,r,"bad syntax or EOF in {...} after "+f);c[f.toLowerCase()]=h[0],t.add(p,s(f.toLowerCase()),h[0]),d=!0,r=i}}if(!d&&"@prefix"===e.slice(i,i+7)){if((r=l.directive(e,i))<0)throw u(l._thisDoc,l.lines,e,r,"bad syntax or EOF after @prefix ");r=l.checkDot(e,r),d=!0}if(!d)throw u(l._thisDoc,l.lines,e,i,"Unknown syntax at start of statememt: '"+e.slice(i).slice(0,20)+"'")}}function Ft(e,t,n,r="text/turtle",i){r=(r=r||s.sT).split(";")[0];try{if(r===s.ny||r===s.sT)xe(t,t,n,n,null,null,"",null).loadBuf(e),o();else if(r===s.JG){new Rt(t).parse(I.parseXML(e),n,t.sym(n)),o()}else if(r===s.H)Tt(I.parseXML(e,{contentType:s.H}),t,n),o();else if(r===s.lc)Tt(I.parseXML(e,{contentType:s.lc}),t,n),o();else if(r===s.K9||r===s.Fn)Pt(e,t,n),o();else if(r===s.i2)Te(e,t,n).then(o).catch(l);else{if(r!==s._0&&r!==s.BR)throw void 0===r?new Error("contentType is undefined"):new Error("Don't know how to parse "+r+" yet");var a=new pt({factory:Se});!function(e,n){e&&i(e,t);try{a.parse(n,c)}catch(e){i(e,t)}}(null,e)}}catch(e){l(e)}function o(){i&&i(null,t)}function l(e){if(r!==s.i2||r!==s._0||r!==s.BR){if(!i){let t=new Error(e+" while trying to parse <"+n+"> as "+r);throw t.cause=e,t}i(e,t)}}function c(e,n){n?t.add(n.subject,n.predicate,n.object,n.graph):i(e,t)}Ft.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}(0,i.A)(Rt,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,i.A)(Rt,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});var It=n(4945),Nt=n.n(It),Ot=n(2931);const Lt={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},jt={rdf:s.JG,owl:s.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},Mt=e=>({link:T("http://www.w3.org/2007/ont/link#",e),http:T("http://www.w3.org/2007/ont/http#",e),httph:T("http://www.w3.org/2007/ont/httph#",e),rdf:T("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:T("http://www.w3.org/2000/01/rdf-schema#",e),dc:T("http://purl.org/dc/elements/1.1/",e),ldp:T("http://www.w3.org/ns/ldp#",e)}),Dt=Mt();class Ut{constructor(e,t){(0,i.A)(this,"response",void 0),(0,i.A)(this,"dom",void 0),this.response=e,this.dom=t}}(0,i.A)(Ut,"pattern",void 0);class Bt extends Ut{static toString(){return"RDFXMLHandler"}static register(e){e.mediatypes[s.JG]={q:.9}}parse(e,t,n){let r=e.store;if(this.dom||(this.dom=I.parseXML(t)),"parsererror"===this.dom.documentElement.nodeName)return e.failFetch(n,"Badly formed XML in "+n.resource.value,"parse_error");let i=new Rt(r);try{i.parse(this.dom,n.original.value,n.original)}catch(t){return e.failFetch(n,"Syntax error parsing RDF/XML! "+t,"parse_error")}return n.noMeta||r.add(n.original,Dt.rdf("type"),Dt.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}Bt.pattern=new RegExp("application/rdf\\+xml");class zt extends Ut{static toString(){return"XHTMLHandler"}static register(e){e.mediatypes[s.H]={q:.8}}parse(e,t,n){let r,i;this.dom||(this.dom=I.parseXML(t));let a=e.store,o=this.dom.getElementsByTagName("title");o.length>0&&a.add(n.resource,Dt.dc("title"),a.rdfFactory.literal(o[0].textContent),n.resource);let s=this.dom.getElementsByTagName("link");for(let t=s.length-1;t>=0;t--)r=s[t].getAttribute("rel"),i=!1,r||(r=s[t].getAttribute("rev"),i=!0),r&&e.linkData(n.original,r,s[t].getAttribute("href"),n.resource,i);let l=this.dom.getElementsByTagName("script");for(let e=0;e<l.length;e++){let t=l[e].getAttribute("type");Lt[t]&&(Ft(l[e].textContent,a,n.original.value,t),Ft(l[e].textContent,a,n.original.value,t))}if(n.noMeta||a.add(n.resource,Dt.rdf("type"),Dt.link("WebPage"),e.appNode),!n.noRDFa&&Tt)try{Tt(this.dom,a,n.original.value)}catch(t){let r="Error trying to parse "+n.resource+" as RDFa:\n"+t+":\n"+t.stack;return e.failFetch(n,r,"parse_error")}return e.doneFetch(n,this.response)}}zt.pattern=new RegExp("application/xhtml");class Ht extends Ut{static toString(){return"XMLHandler"}static register(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}static isElement(e){return e.nodeType===Node.ELEMENT_NODE}parse(e,t,n){let r=I.parseXML(t);for(let i=0;i<r.childNodes.length;i++){const a=r.childNodes[i];if(Ht.isElement(a)){let i=a.namespaceURI;if(i&&i===i.rdf){return e.addStatus(n.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new Bt(this.response,r).parse(e,t,n)}break}}if(r.doctype&&"html"===r.doctype.name&&r.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&r.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new zt(this.response,r).parse(e,t,n)}let i=r.getElementsByTagName("html")[0];if(i){let a=i.getAttribute("xmlns");if(a&&a.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){return e.addStatus(n.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new zt(this.response,r).parse(e,t,n)}}return e.failFetch(n,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80),901)}}Ht.pattern=new RegExp("(text|application)/(.*)xml");class qt extends Ut{static toString(){return"HTMLHandler"}static register(e){e.mediatypes["text/html"]={q:.8}}parse(e,t,n){let r=e.store;if(Kt(t)){return e.addStatus(n.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new zt(this.response).parse(e,t,n)}if(function(e){const t=e.indexOf("<!DOCTYPE html"),n=e.indexOf(">");if(-1===t||-1===n||t>n)return!1;return-1!==e.substr(t,n-t).indexOf("XHTML")}(t)){return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new zt(this.response).parse(e,t,n)}if(function(e){const t=e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!t}(t)){return e.addStatus(n.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new zt(this.response).parse(e,t,n)}let i=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return i&&r.add(n.resource,Dt.dc("title"),r.rdfFactory.literal(i[1]),n.resource),r.add(n.resource,Dt.rdf("type"),Dt.link("WebPage"),e.appNode),e.addStatus(n.req,"non-XML HTML document, not parsed for data."),e.doneFetch(n,this.response)}}qt.pattern=new RegExp("text/html");class $t extends Ut{static toString(){return"JsonLdHandler"}static register(e){e.mediatypes["application/ld+json"]={q:.9}}async parse(e,t,n,r){const i=e.store;try{return await Te(t,i,n.original.value),e.store.add(n.original,Dt.rdf("type"),Dt.link("RDFDocument"),e.appNode),e.doneFetch(n,r)}catch(t){const i="Error trying to parse "+n.resource+" as JSON-LD:\n"+t;return e.failFetch(n,i,"parse_error",r)}}}$t.pattern=/application\/(ld\+json|activity\+json)/;class Wt extends Ut{static toString(){return"TextHandler"}static register(e){e.mediatypes["text/plain"]={q:.5}}parse(e,t,n){if(Kt(t)){return e.addStatus(n.req,"Warning: "+n.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new Ht(this.response).parse(e,t,n)}if(t.slice(0,500).match(/xmlns:/)){return e.addStatus(n.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new Ht(this.response).parse(e,t,n)}return e.addStatus(n.req,"Plain text document, no known RDF semantics."),e.doneFetch(n,this.response)}}Wt.pattern=new RegExp("text/plain");class Vt extends Ut{static toString(){return"N3Handler"}static register(e){e.mediatypes["text/n3"]={},e.mediatypes["text/turtle"]={}}parse(e,t,n,r){let i=e.store,a=xe(i,i,n.original.value,n.original.value,null,null,"",null);try{a.loadBuf(t)}catch(t){let i="Error trying to parse "+n.resource+" as Notation3:\n"+t;return e.failFetch(n,i,"parse_error",r)}return e.addStatus(n.req,"N3 parsed: "+a.statementCount+" triples in "+a.lines+" lines."),e.store.add(n.original,Dt.rdf("type"),Dt.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}Vt.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");const Gt={RDFXMLHandler:Bt,XHTMLHandler:zt,XMLHandler:Ht,HTMLHandler:qt,TextHandler:Wt,N3Handler:Vt,JsonLdHandler:$t};function Kt(e){return!!e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}class Jt{constructor(e,t={}){if((0,i.A)(this,"store",void 0),(0,i.A)(this,"timeout",void 0),(0,i.A)(this,"_fetch",void 0),(0,i.A)(this,"mediatypes",void 0),(0,i.A)(this,"appNode",void 0),(0,i.A)(this,"requested",void 0),(0,i.A)(this,"timeouts",void 0),(0,i.A)(this,"redirectedTo",void 0),(0,i.A)(this,"fetchQueue",void 0),(0,i.A)(this,"fetchCallbacks",void 0),(0,i.A)(this,"nonexistent",void 0),(0,i.A)(this,"lookedUp",void 0),(0,i.A)(this,"handlers",void 0),(0,i.A)(this,"ns",void 0),(0,i.A)(this,"fireCallbacks",void 0),this.store=e||new Q,this.ns=Mt(this.store.rdfFactory),this.timeout=t.timeout||3e4,this._fetch=t.fetch||void 0!==n.g&&(n.g.solidFetcher||n.g.solidFetch)||"undefined"!=typeof window&&(window.solidFetcher||window.solidFetch)||Nt(),!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},I.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(t.handlers||Gt).map(e=>this.addHandler(Gt[e]))}static crossSiteProxy(e){return Jt.crossSiteProxyTemplate?Jt.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):void 0}static offlineOverride(e){let t=e;var n;return"undefined"!=typeof window&&window.panes&&(n=window.panes.UI)&&n.preferences&&n.preferences.get("offlineModeUsingLocalhost")&&"http://"===t.slice(0,7)&&"localhost/"!==t.slice(7,17)&&(t="http://localhost/"+t.slice(7),A.A.warn("Localhost kludge for offline use: actually getting <"+t+">")),t}static proxyIfNecessary(e){var t;if("undefined"!=typeof window&&window.panes&&(t=window.panes.UI)&&t.isExtension)return e;if("undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){let t=e.split("/").slice(2);const n=(e,t)=>{let r=t[e.shift()];return r?"string"==typeof r?r+e.join("/"):e?n(e,r):null:null},r=n(t,$SolidTestEnvironment.localSiteMap);if(r)return r}return Jt.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?Jt.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}static unsupportedProtocol(e){let t=x.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}static setCredentials(e,t={}){void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}load(e,t={}){if(t=Object.assign({},t),e instanceof Array)return Promise.all(e.map(e=>this.load(e,Object.assign({},t))));const n=e;let r=(0,Ot.E)(n);r=r.split("#")[0],t=this.initFetchOptions(r,t);const i=this.appNode,a=this.store,o=a.statementsMatching(void 0,this.ns.link("requestedURI"),a.sym(r),i).map(e=>e.subject);for(const e of o){const n=a.any(e,this.ns.link("response"),null,i);if(null!=n){const e=a.statementsMatching(n,this.ns.link("outOfDate"),!0,i);a.remove(e),t.force=!0,t.clearPreviousData=!0}}const s=this.initFetchOptions(r,t);return this.pendingFetchPromise(r,s.baseURI,s)}async pendingFetchPromise(e,t,n){let r;return!n.force&&await this.fetchQueue[t]?r=this.fetchQueue[t]:(r=Promise.race([this.setRequestTimeout(e,n),this.fetchUri(e,n)]),this.fetchQueue[t]=r,this.cleanupFetchRequest(t,void 0,this.timeout)),r.then(t=>(e in this.timeouts&&(this.timeouts[e].forEach(clearTimeout),delete this.timeouts[e]),t))}cleanupFetchRequest(e,t,n){this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(()=>{this.isPending(e)||delete this.fetchQueue[e]},n))}initFetchOptions(e,t){let n=this.store;!t.method||"GET"===t.method.toUpperCase()||(t.force=!0),t.resource=n.rdfFactory.namedNode(e),t.baseURI=t.baseURI||e,t.original=n.rdfFactory.namedNode(t.baseURI),t.req=n.bnode(),t.headers=t.headers||{},t.contentType&&(t.headers["content-type"]=t.contentType),t.force&&(t.cache="no-cache");let r=this.acceptString();t.headers.accept=r;let i=Jt.offlineOverride(e);t.requestedURI=i,Jt.setCredentials(i,t);let a=Jt.proxyIfNecessary(i);return i!==a&&(t.proxyUsed=!0),t.actualProxyURI=a,t}fetchUri(e,t){if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(Jt.unsupportedProtocol(e))return this.failFetch(t,"fetcher: Unsupported protocol","unsupported_protocol");let n=this.getState(e);if(t.force)delete this.nonexistent[e];else{if("fetched"===n)return Promise.resolve(this.doneFetch(t,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===n&&404===this.requested[e]){let n="Previously failed: "+this.requested[e],r={url:e,status:this.requested[e],statusText:n,responseText:n,headers:new It.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(t,n,this.requested[e],r)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,t.noMeta||this.saveRequestMetadata(e,t);let{actualProxyURI:r}=t;return this._fetch(r,t).then(n=>this.handleResponse(n,e,t),n=>{let i={url:r,status:999,statusText:(n.name||"network failure")+": "+(n.errno||n.code||n.type),responseText:n.message,headers:new It.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.handleError(i,e,t)})}nowOrWhenFetched(e,t,n,r={}){const i=(0,Ot.E)(e);"function"==typeof t?n=t:void 0===t||((0,u.Y2)(t)?r.referringTerm=t:r=t),this.load(i,r).then(e=>{if(n)if(e)if(e.ok)n(!0,"OK",e);else{let t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),n(!1,t,e)}else{n(!1,"@@ nowOrWhenFetched:  no response object!")}},function(e){var t=e.message||e.statusText;t="Failed to load  <"+i+"> "+t,e.response&&e.response.status&&(t+=" status: "+e.response.status),n(!1,t,e.response)})}addStatus(e,t){let n=new Date;t="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+t;let r=this.store;const i=r.the(e,this.ns.link("status"));(0,u.P3)(i)?i.append(r.rdfFactory.literal(t)):A.A.warn("web.js: No list to add to: "+i+","+t)}failFetch(e,t,n,r){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));let i=(e.method||"GET").toUpperCase();("GET"===i||"HEAD"===i)&&(e.resource.equals(e.original),this.requested[x.docpart(e.original.value)]=n,this.fireCallbacks("fail",[e.original.value,t]));var a=new Error("Fetcher: "+t);return a.status=n,a.statusText=t,a.response=r,Promise.reject(a)}linkData(e,t,n,r,i){if(!n)return;let a,o=this.store,s=o.rdfFactory.namedNode(x.join(n,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(s.value===e.value)return;a=this.ns.rdfs("seeAlso")}else a="type"===t?o.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):o.rdfFactory.namedNode(x.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));i?o.add(s,a,e,r):o.add(e,a,s,r)}parseLinkHeader(e,t,n){if(!e)return;const r=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,i=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=i)for(let e=0;e<i.length;e++){let a=i[e].split(">"),o=a[0].substring(1),s=a[1].match(r);if(null==s)return;for(let e=0;e<s.length;e++){let r=s[e].split("=")[1].replace(/["']/g,"");this.linkData(t,r,o,n)}}}doneFetch(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}nowKnownAs(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}putBack(e,t={}){const n=(0,Ot.E)(e);let r=new c.A(n).doc();return t.contentType=t["content-type"]||t["Content-Type"]||t.contentType||s.sT,"application/ld+json"===t.contentType?new Promise((n,i)=>{j(r,this.store,r.uri,t.contentType,(r,a)=>{r?i(r):(t.data=a,this.webOperation("PUT",e,t).then(e=>n(e)).catch(e=>i(e)))})}):(t.data=j(r,this.store,r.value,t.contentType),this.webOperation("PUT",n,t))}webCopy(e,t,n){return this.webOperation("GET",e).then(e=>this.webOperation("PUT",t,{data:e.responseText,contentType:n}))}delete(e,t){return this.webOperation("DELETE",e,t).then(t=>(this.requested[e]=404,this.nonexistent[e]=!0,this.unload(this.store.rdfFactory.namedNode(e)),t))}async createIfNotExists(e,t=s.sT,n=""){const r=this;try{var i=await r.load(e)}catch(a){if(404===a.response.status){try{i=await r.webOperation("PUT",e.value,{data:n,contentType:t})}catch(e){throw e}return delete r.requested[e.value],i}throw a}return i}createContainer(e,t,n){let r={"content-type":s.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(r.slug=t);let i={headers:r};return n&&(i.body=n),this.webOperation("POST",e,i)}invalidateCache(e){const t=(0,Ot.E)(e),n=this;n.fetchQueue&&n.fetchQueue[t]&&(n.fetchQueue[t].PromiseStatus,delete n.fetchQueue[t]);if(n.requested[t]&&"done"!==n.requested[t]&&"failed"!==n.requested[t]&&404!==n.requested[t]){n.requested[t]}else delete n.requested[t],delete n.nonexistent[t]}webOperation(e,t,n={}){const r=(0,Ot.E)(t);n.method=e,n.body=n.data||n.body,n.force=!0;const i=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),Jt.setCredentials(r,n),new Promise(function(t,a){i._fetch(r,n).then(n=>{if(n.ok)"PUT"!==e&&"PATCH"!==e&&"POST"!==e&&"DELETE"!==e||i.invalidateCache(r),n.text?n.text().then(e=>{n.responseText=e,t(n)}):t(n);else{let t="Web error: "+n.status;n.statusText&&(t+=" ("+n.statusText+")"),t+=" on "+e+" of <"+r+">",n.responseText&&(t+=": "+n.responseText);let i=new Error(t);i.response=n,a(i)}},t=>{a(new Error("Fetch error for "+e+" of <"+r+">:"+t))})})}lookUpThing(e,t){let n=this.store.uris(e);return n=n.map(e=>x.docpart(e)),n.forEach(e=>{this.lookedUp[e]=!0}),this.load(n,{referringTerm:t})}getHeader(e,t){const n=this.store,r=e.value,i=n.each(void 0,this.ns.link("requestedURI"),n.rdfFactory.literal(r));for(let e=0;e<i.length;e++){let r=i[e];if(void 0!==r){let e=n.any(r,this.ns.link("response"));if(void 0!==e&&n.anyValue(e,this.ns.http("status"))&&n.anyValue(e,this.ns.http("status")).startsWith("2")){let r=n.each(e,this.ns.httph(t.toLowerCase()));return r.length?r.map(e=>e.value):[]}}}}saveRequestMetadata(e,t){let n=t.req,r=this.store,i=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),(0,u.Y2)(i)&&r.add(r.rdfFactory.namedNode(e),this.ns.link("requestedBy"),i,this.appNode),t.original&&t.original.value!==e&&r.add(n,this.ns.link("orginalURI"),r.rdfFactory.literal(t.original.value),this.appNode);const a=new Date,o="["+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"] ";r.add(n,this.ns.rdfs("label"),r.rdfFactory.literal(o+" Request for "+e),this.appNode),r.add(n,this.ns.link("requestedURI"),r.rdfFactory.literal(e),this.appNode),r.add(n,this.ns.link("status"),r.collection(),this.appNode)}saveResponseMetadata(e,t){const n=this.store;let r=n.bnode();return n.add(t.req,this.ns.link("response"),r,this.appNode),n.add(r,this.ns.http("status"),n.rdfFactory.literal(e.status),this.appNode),n.add(r,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach((e,i)=>{n.add(r,this.ns.httph(i),this.store.rdfFactory.literal(e),this.appNode),"content-type"===i&&n.add(t.resource,this.ns.rdf("type"),n.rdfFactory.namedNode(I.mediaTypeClass(e).value),this.appNode)}),r}objectRefresh(e){let t=this.store.uris(e);if(void 0!==t)for(let e=0;e<t.length;e++)this.refresh(this.store.rdfFactory.namedNode(x.docpart(t[e])))}refresh(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}refreshIfExpired(e,t){let n=this.getHeader(e,"Expires");!n||new Date(n[0]).getTime()<=(new Date).getTime()?this.refresh(e,t):t(!0,"Not expired",{})}retract(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[x.docpart(e.value)],this.fireCallbacks("retract",arguments)}getState(e){return void 0===this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}isPending(e){return!0===this.requested[e]}unload(e){this.store.removeDocument(e),delete this.requested[e.value]}addHandler(e){this.handlers.push(e),e.register(this)}retryNoCredentials(e,t){t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];let n=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,n)}isCrossSite(e){if("undefined"==typeof document||!document.location)return!1;const t=x.hostpart,n=""+document.location;return(t(n)&&t(e)&&t(n))!==t(e)}handleError(e,t,n){if(this.isCrossSite(t)){if(n.credentials&&"include"===n.credentials&&!n.retriedWithNoCredentials)return this.retryNoCredentials(t,n);let e=Jt.crossSiteProxy(t);if(e&&!n.proxyUsed)return this.redirectToProxy(e,n)}var r;return e instanceof Error?r="Fetch error: "+e.message:(r=e.statusText,e.responseText&&(r+=` ${e.responseText}`)),this.failFetch(n,r,e.status||998,e)}addType(e,t,n,r){let i=t;if(r){var a=n.any(i,this.ns.link("requestedURI"));a&&a.value!==r&&n.add(n.rdfFactory.namedNode(r),this.ns.rdf("type"),e,this.appNode)}for(;;){const t=n.any(i,this.ns.link("requestedURI"));if(t&&t.value&&n.add(n.rdfFactory.namedNode(t.value),this.ns.rdf("type"),e,this.appNode),i=n.any(void 0,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),i),!i)break;var o=n.any(i,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!o)break;var s=n.any(o,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!s)break;if("301"!==s&&"302"!==s)break}}handleResponse(e,t,n){const r=this.store,i=e.headers,a=n.req,o=this.saveResponseMetadata(e,n),s=this.normalizedContentType(n,i)||"";let l=i.get("content-location");if(0===e.status)return this.handleError(e,t,n);if(e.status>=400)return 404===e.status&&(this.nonexistent[n.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,o).then(()=>{let t=n.resource+" "+e.statusText;return this.failFetch(n,t,e.status,e)});var c=null,u=null;if(l&&(u=x.join(l,t))!==t&&(c=u),200===e.status){if(this.addType(this.ns.link("Document"),a,r,t),c&&this.addType(this.ns.link("Document"),a,r,c),n.clearPreviousData){const e=r.statementsMatching(void 0,void 0,void 0,n.resource).slice();for(let t=0;t<e.length;t++)r.removeStatement(e[t])}let e=s.includes("image/")||s.includes("application/pdf");s&&e&&(this.addType(r.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),a,r,t),c&&this.addType(r.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),a,r,c))}if(l){if(!n.force&&c&&"done"===this.requested[u])return this.doneFetch(n,e);this.requested[u]=!0}this.parseLinkHeader(i.get("link"),n.original,a);let p=this.handlerForContentType(s,e);return p?e.text().then(t=>(e.responseText=t,p.parse(this,t,n,e))):(this.addStatus(a,"Fetch over. No data handled."),this.doneFetch(n,e))}saveErrorResponse(e,t){let n=this.store;return e.text().then(e=>{e.length>10&&n.add(t,this.ns.http("content"),n.rdfFactory.literal(e),t)})}handlerForContentType(e,t){if(!e)return null;let n=this.handlers.find(t=>e.match(t.pattern));return n?new n(t):null}guessContentType(e){return jt[e.split(".").pop()]}normalizedContentType(e,t){if(e.forceContentType)return e.forceContentType;let n=t.get("content-type");if(!n||n.includes("application/octet-stream")){let t=this.guessContentType(e.resource.value);if(t)return t}let r=x.protocol(e.resource.value);return!n&&["file","chrome"].includes(r)?"text/xml":n}redirectToProxy(e,t){this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;const n=this.store,r=t.req;t.noMeta||(n.add(r,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),r),this.addStatus(r,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;let i=Object.assign({},t);return i.baseURI=t.resource.value,this.fetchUri(e,i).then(e=>(i.noMeta||n.add(r,this.ns.link("redirectedRequest"),i.req,this.appNode),e))}setRequestTimeout(e,t){return new Promise(n=>{this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(()=>{!this.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||n(this.failFetch(t,`Request to ${e} timed out`,"timeout"))},this.timeout))})}addFetchCallback(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}acceptString(){let e="";for(let t in this.mediatypes){""!==e&&(e+=", "),e+=t;for(let n in this.mediatypes[t])e+=";"+n+"="+this.mediatypes[t][n]}return e}}(0,i.A)(Jt,"HANDLERS",void 0),(0,i.A)(Jt,"CONTENT_TYPE_BY_EXT",void 0),(0,i.A)(Jt,"crossSiteProxyTemplate",void 0),Jt.HANDLERS=Gt,Jt.CONTENT_TYPE_BY_EXT=jt;const Qt={parseJSON:function(e,t,n){var r,i,a,o={},s=n.sym(t);for(var l in e){0===l.indexOf("_:")?o[l]?r=o[l]:(r=n.bnode(l),o[l]=r):r=n.sym(l);var c=e[l];for(var u in c){var p=c[u];for(var d in i=n.sym(u),p){var f=p[d];if("uri"===f.type)a=n.sym(f.value),n.add(r,i,a,s);else if("BlankNode"===f.type)o[f.value]?a=o[f.value]:(a=n.bnode(f.value),o[f.value]=a),n.add(r,i,a,s);else{if("Literal"!==f.type)throw new Error("error: unexpected termtype: "+d.type);a=f.datatype?n.literal(f.value,void 0,n.sym(f.datatype)):f.lang?n.literal(f.value,f.lang):n.literal(f.value),n.add(r,i,a,s)}}}}}};function Yt(e){var t=0;function n(e){var t="",n=e.statements;for(var r in n)A.A.debug("Found statement: "+n),t+=o()+n[r]+"\n";return t}function r(e){var t="";for(var n in e.constraints){var r=e.constraints[n];t+=o()+"FILTER ( "+r.describe(n)+" ) \n"}return t}function i(e){for(var a="",s=0;s<e.optional.length;s++)A.A.debug("Found optional query"),a+=o()+"OPTIONAL { \n",t++,a+=n(e.optional[s]),a+=r(e.optional[s]),a+=i(e.optional[s]),t--,a+=o()+"}\n";return a}function a(e){var a=o()+"WHERE \n{ \n";return t++,a+=n(e),a+=r(e),a+=i(e),t--,a+="}"}function o(){for(var e="",n=0;n<t;n++)e+="    ";return e}return function(e){return function(e){for(var t=o()+"SELECT ",n=0;n<e.vars.length;n++)t+=e.vars[n]+" ";return t+"\n"}(e)+a(e.pat)}(e)}function Xt(e,t,n){var r=[];function i(e){if(r[e])return r[e];var t=n.variable(e);return r[e]=t,t}function a(e){return"string"==typeof e&&e.match(/[^ \n\t]/)}function o(e){return"string"==typeof e&&e.match(/^[\?\$]/)}function s(e){return"string"==typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function l(e){return"string"==typeof e&&e.match(/^<[^>]*>$/)}function c(e){return"string"==typeof e&&(e.match(/^_:/)||e.match(/^$/))}function u(e){return"string"==typeof e&&e.match(/:$/)}function p(e){return"string"==typeof e&&e.match(/^:|^[^_][^:]*:/)}function d(e){return e.split(":")[0]}function f(e){return e.split(":")[1]}function h(e){return l(e)?e.slice(1,e.length-1):e}function m(e){var t=-1===e.indexOf("'")?null:e.indexOf("'"),r=-1===e.indexOf('"')?null:e.indexOf('"');if(!t&&!r){var i=new Array(1);return i[0]=e,i}var a,o,s=new Array(2);if(!t||r&&r<t)a='"',o=r;else{if(r&&!(t&&t<r))return A.A.error("SQARQL QUERY OOPS!"),s;a="'",o=t}s[0]=e.slice(0,o);var l,c=e.slice(o+1).indexOf(a);return-1===c?(A.A.error("SPARQL parsing error: no matching parentheses in literal "+e),e):(e.slice(c+o+2).match(/^\^\^/)?(l=e.slice(c+o+2).indexOf(" "),s[1]=n.literal(e.slice(o+1,o+1+c),n.sym(h(e.slice(o+4+c,o+2+c+l)))),s=s.concat(m(e.slice(c+o+3+l)))):e.slice(c+o+2).match(/^@/)?(l=e.slice(c+o+2).indexOf(" "),s[1]=n.literal(e.slice(o+1,o+1+c),e.slice(o+3+c,o+2+c+l),null),s=s.concat(m(e.slice(c+o+2+l)))):(s[1]=n.literal(e.slice(o+1,o+1+c)),A.A.info("Literal found: "+s[1]),s=s.concat(m(e.slice(c+o+2)))),s)}function g(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),A.A.info("New str into spaceDelimit: \n"+e);var t=[],n=e.split(" ");for(var r in n)a(n[r])&&(t=t.concat(n[r]));return t}function v(e,t){for(var n=0;n<t.length;n++)if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase())return n;return null}function b(e,t){for(var n=[],r=0;r<t.length;r++)"string"==typeof t[r]&&t[r].toLowerCase()===e.toLowerCase()&&n.push(r);return n}function y(e,t,n){A.A.info("Looking for a close bracket of type "+n+" in "+e);for(var r=0,i=0;i<e.length;i++)if(e[i]===t&&r++,e[i]===n&&r--,r<0)return i;return A.A.error("Statement had no close parenthesis in SPARQL query"),0}function w(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.equals(t)},this}function x(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var n=new RegExp(e);return!!t.value&&n.test(t.value)}}function k(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"==typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(A.A.debug("Constraint added: "+e),t.constraints[e[4]]=new x(e[2].value)):"="===e[1]||">"===e[1]||"<"===e[1]?(A.A.debug("Constraint added: "+e),t.constraints[e[0]]=new w(e[2])):A.A.warn("I don't know how to handle the constraint: "+e)}function _(e,t){A.A.debug("Optional query: "+e+" not yet implemented.");var r=n.formula();E(e,r),t.optional.push(r)}function E(e,t){var r,a,u=function(e){for(var t=[],r=0;r<e.length;r++)"string"==typeof e[r]?(e[r]=s(e[r]),o(e[r])?t[r]=i(e[r].slice(1)):c(e[r])?(A.A.info(e[r]+" was identified as a bnode."),t[r]=n.bnode()):l(e[r])?(A.A.info(e[r]+" was identified as a symbol."),t[r]=n.sym(h(e[r]))):p(e[r])?(A.A.info(e[r]+" was identified as a prefixed symbol"),T[d(e[r])]?t[r]=n.sym(e[r]=T[d(e[r])]+f(e[r])):(A.A.error("SPARQL error: "+e[r]+" with prefix "+d(e[r])+" does not have a correct prefix entry."),t[r]=e[r])):t[r]=e[r]):t[r]=e[r];return t}(e);for(A.A.debug("WHERE: "+u);v("OPTIONAL",u);)a=v("OPTIONAL",u),A.A.debug("OPT: "+a+" "+u[a]+" in "+u),"{"!==u[a+1]&&A.A.warn("Bad optional opening bracket in word "+a),-1===(r=y(u.slice(a+2),"{","}"))?A.A.error("No matching bracket in word "+a):(_(u.slice(a+2,a+2+r),t),a=v("OPTIONAL",u),r=y(u.slice(a+2),"{","}"),u.splice(a,r+3));for(A.A.debug("WHERE after optionals: "+u);v("FILTER",u);){var m=v("FILTER",u);"("!==u[m+1]&&A.A.warn("Bad filter opening bracket in word "+m),-1===(r=y(u.slice(m+2),"(",")"))?A.A.error("No matching bracket in word "+m):(k(u.slice(m+2,m+2+r),t),m=v("FILTER",u),r=y(u.slice(m+2),"(",")"),u.splice(m,r+3))}A.A.debug("WHERE after filters and optionals: "+u),function(e,t){var n=new Array(1);n[0]=-1;for(var r=n.concat(b(".",e)),i=[],a=0;a<r.length-1;a++)i[a]=e.slice(r[a]+1,r[a+1]);for(a in i){A.A.info("s+p+o "+a+" = "+i[a]);var o=i[a][0];i[a].splice(0,1);var s=n.concat(b(";",i[a]));s.push(i[a].length);for(var l=[],c=0;c<s.length-1;c++)l[c]=i[a].slice(s[c]+1,s[c+1]);for(a in l){A.A.info("p+o "+a+" = "+i[a]);var u=l[a][0];l[a].splice(0,1);var p=n.concat(b(",",l[a]));p.push(l[a].length);var d=[];for(c=0;c<p.length-1;c++)d[c]=l[a].slice(p[c]+1,p[c+1]);for(a in d){var f=d[a][0];A.A.info("Subj="+o+" Pred="+u+" Obj="+f),t.add(o,u,f)}}}}(u,t)}A.A.info("SPARQL input: \n"+e);var C=new $,S=function(e){var t=m(e),n=[];for(var r in t)n="string"==typeof t[r]?n.concat(g(t[r])):n.concat(t[r]);return n=function(e){for(var t=e,n=0;n<t.length;n++)if("a"===t[n]&&(t[n]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[n]&&"of"===t[n+2]){t.splice(n,1),t.splice(n+1,1);var r=t[n-1];t[n-1]=t[n+1],t[n+1]=r}return t}(n),A.A.info("SPARQL Tokens: "+n),n}(e),T=function(e){var t=b("PREFIX",e),n=[];for(var r in t){var i=e[t[r]+1],a=e[t[r]+2];if(u(i))if(l(a)){A.A.info("Prefix found: "+i+" -> "+a);var o=d(i),s=h(a);n[o]=s}else A.A.error("Invalid SPARQL symbol: "+a);else A.A.error("Invalid SPARQL prefix: "+i)}return n}(S);T.rdf||(T.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),T.rdfs||(T.rdfs="http://www.w3.org/2000/01/rdf-schema#");var R=v("SELECT",S),P=v("WHERE",S);if(R<0||P<0||R>P)return A.A.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(function(e,t){for(var n in A.A.info("SPARQL vars: "+e),e)if(o(e[n])){A.A.info("Added "+e[n]+" to query variables from SPARQL");var r=i(e[n].slice(1));t.vars.push(r),r.label=e[n].slice(1)}else A.A.warn("Incorrect SPARQL variable in SELECT: "+e[n])}(S.slice(R+1,P),C),E(S.slice(P+2,S.length-1),C.pat),t)return C;for(var F in C.pat.statements){var I=C.pat.statements[F];"NamedNode"===I.subject.termType&&n.fetcher&&n.fetcher.lookUpThing(I.subject,"sparql:"+I.subject),"NamedNode"===I.object.termType&&n.fetcher&&n.fetcher.lookUpThing(I.object,"sparql:"+I.object)}return C}class Zt{constructor(e){if((0,i.A)(this,"store",void 0),(0,i.A)(this,"ifps",void 0),(0,i.A)(this,"fps",void 0),(0,i.A)(this,"patchControl",void 0),(0,i.A)(this,"ns",void 0),(e=e||new Q).updater)throw new Error("You can't have two UpdateManagers for the same store");e.fetcher||(e.fetcher=new Jt(e)),this.store=e,e.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=T("http://www.w3.org/2007/ont/link#"),this.ns.http=T("http://www.w3.org/2007/ont/http#"),this.ns.httph=T("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=T("http://www.w3.org/ns/ldp#"),this.ns.rdf=T("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=T("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=T("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=T("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}patchControlFor(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}isHttpUri(e){return"http"===e.slice(0,4)}flagAuthorizationMetadata(e){e||(e=this.store);const t=e.fetcher?.appNode,n=e.statementsMatching(void 0,this.ns.link("requestedURI"),void 0,t).map(e=>e.subject);for(const r of n){const n=e.any(r,this.ns.link("response"),null,t);null!=n&&e.add(n,this.ns.link("outOfDate"),!0,t)}}async checkEditable(e,t){if(!e)return!1;t||(t=this.store);const n=this.editable(e,t);if(void 0!==n)return n;await(t.fetcher?.load(e));return this.editable(e,t)}editable(e,t){if(!e)return!1;if(t||(t=this.store),e=(0,Ot.E)(e),!this.isHttpUri(e)&&t.holds(t.rdfFactory.namedNode(e),t.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),t.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";var n,r=!1;const i=t.fetcher?.appNode;for(var a,o=t.each(void 0,this.ns.link("requestedURI"),(0,x.docpart)(e),i),s=0;s<o.length;s++)if(void 0!==(n=o[s])){const o=t.any(n,this.ns.link("response"),null,i);if(void 0!==o){if(t.anyJS(o,this.ns.link("outOfDate"),null,i))continue;var l=t.anyValue(o,this.ns.httph("wac-allow"));if(l)for(var c of l.split(",")){var u=c.split("=");if(u[0].includes("user")&&!u[1].includes("write")&&!u[1].includes("append"))return!1}var p=t.each(o,this.ns.httph("accept-patch"));if(p.length)for(let e=0;e<p.length;e++){if((a=p[e].value.trim()).indexOf("application/sparql-update")>=0)return"SPARQL";if(a.indexOf("application/sparql-update-single-match")>=0)return"SPARQL";if(a.indexOf("text/n3")>=0)return"N3PATCH"}var d=t.each(o,this.ns.httph("ms-author-via"));if(d.length)for(let e=0;e<d.length;e++){if((a=d[e].value.trim()).indexOf("SPARQL")>=0)return"SPARQL";if(a.indexOf("DAV")>=0)return"DAV"}if(!this.isHttpUri(e))return!!l&&"LOCALFILE";var f=t.each(o,this.ns.http("status"));if(f.length)for(let e=0;e<f.length;e++)200!==f[e]&&404!==f[e]||(r=!0)}}if(0===o.length);else if(r)return!1}anonymize(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}anonymizeNT(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}nTriples(e){return`${e.subject.toNT()} ${e.predicate.toNT()} ${e.object.toNT()} .`}statementBnodes(e){return[e.subject,e.predicate,e.object].filter(function(e){return(0,u.jt)(e)})}statementArrayBnodes(e){var t=[];for(let n=0;n<e.length;n++)t=t.concat(this.statementBnodes(e[n]));t.sort();var n=[];for(let e=0;e<t.length;e++)0!==e&&t[e].equals(t[e-1])||n.push(t[e]);return n}cacheIfps(){this.ifps={};var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty"));for(let t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(let t=0;t<e.length;t++)this.fps[e[t].value]=!0}bnodeContext2(e,t,n){var r,i,a=this.store.statementsMatching(void 0,void 0,e,t);for(let e=0;e<a.length;e++)if(this.fps[a[e].predicate.value]){if(!(r=a[e].subject).isBlank)return[a[e]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([a[e]])}a=this.store.statementsMatching(e,void 0,void 0,t);for(let e=0;e<a.length;e++)if(this.ifps[a[e].predicate.value]){if(!(r=a[e].object).isBlank)return[a[e]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([a[e]])}return null}bnodeContext1(e,t){for(var n=0;n<3;n++){var r=this.bnodeContext2(e,t,n);if(null!==r)return r}return this.store.connectedStatements(e,t)}mentioned(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}bnodeContext(e,t){var n=[];if(e.length){this.cacheIfps();for(let i=0;i<e.length;i++){var r=e[i];this.mentioned(r)&&(n=n.concat(this.bnodeContext1(r,t)))}}return n}statementContext(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}contextWhere(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map(function(e){return t.anonymizeNT(e)}).join("\n")+" }\n":""}fire(e,t,n,r={}){return Promise.resolve().then(()=>{if(!e)throw new Error("No URI given for remote editing operation: "+t);return r.noMeta=!0,r.contentType=r.contentType||"application/sparql-update",r.body=t,this.store.fetcher.webOperation("PATCH",e,r)}).then(r=>{if(!r.ok){let n="UpdateManager: update failed for <"+e+"> status="+r.status+", "+r.statusText+"\n   for query: "+t;throw new Error(n)}n(e,r.ok,r.responseText,r)}).catch(t=>{n(e,!1,t.message,t)})}update_statement(e){if(!e||e.graph){var t=this,n=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(n),set_object:function(e,n){var r=this.where;r+="DELETE DATA { "+this.statementNT+" } ;\n",r+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,r,n)}}}}insert_statement(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){var i="";for(let t=0;t<e.length;t++)i+=e[t]+"\n";r+="INSERT DATA { "+i+" }\n"}else r+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.graph.value,r,t)}delete_statement(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){var i="";for(let t=0;t<e.length;t++)i+=e[t]+"\n";r+="DELETE DATA { "+i+" }\n"}else r+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.graph.value,r,t)}requestDownstreamAction(e,t){var n=this.patchControlFor(e);if(n.pendingUpstream)if(n.downstreamAction){if(""+n.downstreamAction!=""+t)throw new Error("Can't wait for > 1 different downstream actions")}else n.downstreamAction=t;else t(e)}clearUpstreamCount(e){this.patchControlFor(e).upstreamCount=0}getUpdatesVia(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}addDownstreamChangeListener(e,t){var n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,e=>{this.reloadAndSync(e)})}reloadAndSync(e){var t=this.patchControlFor(e),n=this;if(t.reloading)t.outOfDate=!0;else{t.reloading=!0;var r=1e3,i=function(){n.reload(n.store,e,function(e,n,a){if(e){if(t.downstreamChangeListeners)for(let e=0;e<t.downstreamChangeListeners.length;e++)t.downstreamChangeListeners[e]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,i())}else t.reloading=!1,a&&0===a.status&&(t.reloading=!0,r*=2,setTimeout(i,r))})};i()}}setRefreshHandler(e,t){let n=this.getUpdatesVia(e);var r=t,i=this,a=this,o=1500,s=0;if(!n)return!1;n=(0,x.join)(n,e.value);const l=n.replace(/^http:/,"ws:").replace(/^https:/,"wss:");var c=function(){var t;if("undefined"!=typeof WebSocket)t=new WebSocket(l);else{if("undefined"==typeof window||!window.WebSocket)return;t=window.WebSocket(l)}t.onopen=function(){o=1500,this.send("sub "+e.value),s&&a.requestDownstreamAction(e,r)};var n=i.patchControlFor(e);n.upstreamCount=0,t.onerror=function(e){},t.onclose=function(e){o*=2,s+=1,setTimeout(function(){c()},o)},t.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in n&&(n.upstreamCount-=1,n.upstreamCount>=0))return;n.upstreamCount=0,i.requestDownstreamAction(e,r)}}};return c(),!0}updateMany(e,t=[]){const n=e.concat(t).map(e=>e.why),r=this,i=[];n.forEach(e=>{i.find(t=>t.equals(e))||i.push(e)});const a=i.map(n=>r.update(e.filter(e=>e.why.equals(n)),t.filter(e=>e.why.equals(n))));return a.length,Promise.all(a)}constructSparqlUpdateQuery(e,t,n){var r=this.contextWhere(n),i="";if(r.length){if(e.length){i+="DELETE { ";for(let t=0;t<e.length;t++)i+=this.anonymizeNT(e[t])+"\n";i+=" }\n"}if(t.length){i+="INSERT { ";for(let e=0;e<t.length;e++)i+=this.anonymizeNT(t[e])+"\n";i+=" }\n"}i+=r}else{if(e.length){i+="DELETE DATA { ";for(let t=0;t<e.length;t++)i+=this.anonymizeNT(e[t])+"\n";i+=" } \n"}if(t.length){e.length&&(i+=" ; "),i+="INSERT DATA { ";for(let e=0;e<t.length;e++)i+=this.nTriples(t[e])+"\n";i+=" }\n"}}return i}constructN3PatchQuery(e,t,n){var r="\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ex: <http://www.example.org/terms#>.\n\n_:patch\n";return n&&n.length>0&&(r+=`\n      solid:where {\n        ${n.map(e=>this.anonymizeNT(e)).join("\n        ")}\n      };`),e.length>0&&(r+=`\n      solid:deletes {\n        ${e.map(e=>this.anonymizeNT(e)).join("\n        ")}\n      };`),t.length>0&&(r+=`\n      solid:inserts {\n        ${t.map(e=>this.anonymizeNT(e)).join("\n        ")}\n      };`),r+="   a solid:InsertDeletePatch .\n"}update(e,t,n,r,i={}){if(!n){var a=this;return new Promise(function(n,o){a.update(e,t,function(e,t,r){t?n():o(new Error(r))},r,i)})}try{var o=this.store,s=e?(0,u.ok)(e)?e.statements:e instanceof Array?e:[e]:[],l=t?(0,u.ok)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(s instanceof Array))throw new Error("Type Error "+typeof s+": "+s);if(!(l instanceof Array))throw new Error("Type Error "+typeof l+": "+l);if(0===s.length&&0===l.length)return n(null,!0);var c=s.length?s[0].graph:l[0].graph;if(!c){let e="Error patching: statement does not specify which document to patch:"+s[0]+", "+l[0];throw new Error(e)}if("NamedNode"!==c.termType){let e="Error patching: document not a NamedNode:"+s[0]+", "+l[0];throw new Error(e)}var p=this.patchControlFor(c),d=Date.now(),f=["subject","predicate","object","why"],h={delete:s,insert:l};["insert","delete"].map(function(e){h[e].map(function(e){if(!c.equals(e.graph))throw new Error("update: destination "+c+" inconsistent with delete quad "+e.graph);f.map(function(t){if(void 0===e[t])throw new Error("update: undefined "+t+" of statement.")})})});var m=this.editable(c.value,o);if(!1===m)throw new Error("Update: Can't make changes in uneditable "+c);if(void 0===m){if(r)throw new Error("Update: Loaded "+c+"but still can't figure out what editing protocol it supports.");return void this.store.fetcher.load(c).then(r=>{this.update(e,t,n,!0,i)},r=>{if(404!==r.response.status)throw new Error(`Update: Can't get updatability status ${c} before patching: ${r}`);this.update(e,t,n,!0,i)})}if(m.indexOf("SPARQL")>=0||m.indexOf("N3PATCH")>=0){var g=m.indexOf("SPARQL")>=0,v=[];s.length&&(v=this.statementArrayBnodes(s)),l.length&&(v=v.concat(this.statementArrayBnodes(l)));var b=this.bnodeContext(v,c),y=g?this.constructSparqlUpdateQuery(s,l,b):this.constructN3PatchQuery(s,l,b);i.contentType=g?"application/sparql-update":"text/n3",p.pendingUpstream=p.pendingUpstream?p.pendingUpstream+1:1,"upstreamCount"in p&&(p.upstreamCount+=1),this.fire(c.value,y,(e,t,r,i)=>{if(i.elapsedTimeMs=Date.now()-d,t){try{o.remove(s)}catch(e){t=!1,r="Remote Ok BUT error deleting "+s.length+" from store!!! "+e}for(let e=0;e<l.length;e++)o.add(l[e].subject,l[e].predicate,l[e].object,c)}if(n(e,t,r,i),p.pendingUpstream-=1,0===p.pendingUpstream&&p.downstreamAction){var a=p.downstreamAction;delete p.downstreamAction,a(c)}},i)}else if(m.indexOf("DAV")>=0)this.updateDav(c,s,l,n,i);else{if(!(m.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+m+"' for "+c);try{this.updateLocalFile(c,s,l,n,i)}catch(e){n(c.value,!1,"Exception trying to write back file <"+c.value+">\n")}}}catch(e){n(void 0,!1,"Exception in update: "+e+"\n"+I.stackString(e))}}updateDav(e,t,n,r,i={}){let a=this.store;var o=a.any(e,this.ns.link("request"));if(!o)throw new Error("No record of our HTTP GET request for document: "+e);var s=a.any(o,this.ns.link("response"));if(!s)return null;var l=a.the(s,this.ns.httph("content-type")).value;let c=a.statementsMatching(void 0,void 0,void 0,e).slice();for(let e=0;e<t.length;e++)I.RDFArrayRemove(c,t[e]);for(let e=0;e<n.length;e++)c.push(n[e]);const u=this.serialize(e.value,c,l);var p,d=a.the(s,this.ns.httph("content-location"));return d&&(p=(0,x.join)(d.value,p)),i.contentType=l,i.noMeta=!0,i.body=u,a.fetcher.webOperation("PUT",p,i).then(i=>{if(!i.ok)throw new Error(i.error);for(let e=0;e<t.length;e++)a.remove(t[e]);for(let t=0;t<n.length;t++)a.add(n[t].subject,n[t].predicate,n[t].object,e);r(e.value,i.ok,i.responseText,i)}).catch(t=>{r(e.value,!1,t.message,t)})}updateLocalFile(e,t,n,r,i={}){const a=this.store;let o=a.statementsMatching(void 0,void 0,void 0,e).slice();for(let e=0;e<t.length;e++)I.RDFArrayRemove(o,t[e]);for(let e=0;e<n.length;e++)o.push(n[e]);var s=e.value.lastIndexOf(".");if(s<1)throw new Error("Rewriting file: No filename extension: "+e.value);var l=e.value.slice(s+1);let c=Jt.CONTENT_TYPE_BY_EXT[l];if(!c)throw new Error("File extension ."+l+" not supported for data write");i.body=this.serialize(e.value,o,c),i.contentType=c,a.fetcher.webOperation("PUT",e.value,i).then(i=>{if(!i.ok)return r(e.value,!1,i.error);for(let e=0;e<t.length;e++)a.remove(t[e]);for(let t=0;t<n.length;t++)a.add(n[t].subject,n[t].predicate,n[t].object,e);r(e.value,!0,"")})}serialize(e,t,n){const r=this.store;let i;if("string"==typeof t)return t;var a=O(r);switch(a.suggestNamespaces(r.namespaces),a.setBase(e),n){case"text/xml":case"application/rdf+xml":i=a.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":i=a.statementsToN3(t);break;default:throw new Error("Content-type "+n+" not supported for data serialization")}return i}put(e,t,n,r){const i=this.store;let a;return Promise.resolve().then(()=>(a=this.serialize(e.value,t,n),i.fetcher.webOperation("PUT",e.value,{contentType:n,body:a}))).then(n=>{if(!n.ok)return r(e.value,n.ok,n.error,n);delete i.fetcher.nonexistent[e.value],delete i.fetcher.requested[e.value],"string"!=typeof t&&t.map(e=>{i.addStatement(e)}),r(e.value,n.ok,"",n)}).catch(t=>{r(e.value,!1,t.message)})}reload(e,t,n){var r=Date.now();e.fetcher.nowOrWhenFetched(t.value,{force:!0,noMeta:!0,clearPreviousData:!0},function(e,i,a){if(e)if(a.onErrorWasCalled||200!==a.status)n(!1,"Non-HTTP error reloading data: "+i,a);else{var o=Date.now()-r;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=o,t.reloadTimeCount+=1,n(!0)}else n(!1,"Error reloading data: "+i,a)})}}const en={...Se,fetcher:(e,t)=>new Jt(e,t),graph:(e=void 0,t=void 0)=>new Q(e,t||{rdfFactory:Se}),lit(e,t,n){return this.literal(""+e,t||n)},st(e,t,n,r){return this.quad(e,t,n,r)}},tn=en;class nn{constructor(e,t){this.parent=e,this.via=t,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(t),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(e){this.onError(e)}}_decode(e){var t,n,r,i,a,o,s;for(n in i={},a=function(){var n,r,i,a;for(a=[],n=0,r=(i=e.split("&")).length;n<r;n++)t=i[n],a.push(t.split("="));return a}())t=a[n],s=(o=[decodeURIComponent(t[0]),decodeURIComponent(t[1])])[1],null==i[r=o[0]]&&(i[r]=[]),i[r].push(s);return i}_send(e,t,n){var r,i;return i=[e,t,n].join(" "),"function"==typeof(r=this.socket).send?r.send(i):void 0}_subscribe(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}onClose(e){var t;for(t in this.connected=!1,this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}onError(e){throw new Error("onError"+e)}onMessage(e){var t,n;return"ping"===(n=e.data.split(" "))[0]?"function"==typeof(t=this.socket).send?t.send("pong "+n.slice(1).join(" ")):void 0:"pub"===n[0]?this.parent.onUpdate(n[1],this._decode(n[2])):void 0}onOpen(e){var t,n;for(n in this.connected=!0,t=[],this.pending)delete this.pending[n],t.push(this._subscribe(n));return t}subscribe(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}class rn{constructor(e){this.fetcher=e,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}onHeaders(e){var t,n,r;return null==e.headers||"undefined"==typeof WebSocket||null===WebSocket||(t=e.headers.etag,r=e.headers["updates-via"],n=e.uri,t&&r&&(this.graph[n]={etag:t,via:r},this.register(r,n))),!0}onUpdate(e,t){return this.fetcher.refresh(tn.namedNode(e))}register(e,t){return null==this.via[e]&&(this.via[e]=new nn(this,e)),this.via[e].subscribe(t)}}const an={};for(const e in tn)"function"==typeof tn[e]&&(an[e]=tn[e].bind(tn));const{fetcher:on,graph:sn,lit:ln,st:cn,namedNode:un,variable:pn,blankNode:dn,defaultGraph:fn,literal:hn,quad:mn,triple:gn}=an,vn=new z,bn=e=>vn.fromNT(e),yn=H.fromValue,wn=l.nextId;class xn extends Q{constructor(e){super(e),(0,i.A)(this,"fetcher",void 0),this.fetcher=new Jt(this,{})}}class kn extends xn{constructor(e){super(e),(0,i.A)(this,"updater",void 0),this.updater=new Zt(this)}}},8236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RDFXMLPane=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.RDFXMLPane={icon:r.icons.originalIconBase+"22-text-xml4.png",name:"RDFXML",audience:[o.solid("Developer")],label:function(e,t){const n=t.session.store;if("http://www.w3.org/2007/ont/link#ProtocolEvent"in n.findTypeURIs(e))return null;const r=n.statementsMatching(void 0,void 0,void 0,e).length;return 0===r?null:"As RDF/XML ("+r+")"},render:function(e,t){const n=t.dom,r=t.session.store,a=n.createElement("div");a.setAttribute("class","RDFXMLPane");const o=r.statementsMatching(void 0,void 0,void 0,e),s=i.Serializer(r);s.suggestNamespaces(r.namespaces),s.setBase(e.uri);const l=s.statementsToXML(o),c=n.createElement("PRE");return c.appendChild(n.createTextNode(l)),a.appendChild(c),a}}},8287:(e,t,n)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=n(7526),i=n(251),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=s(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||H(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return u(e),s(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(i)return r?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),H(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var p=!0,d=0;d<l;d++)if(c(e,a+d)!==c(t,d)){p=!1;break}if(p)return a}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(H(s))return o;e[n+o]=s}return o}function x(e,t,n,r){return B(D(t,e.length-n),e,n,r)}function k(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return B(U(t),e,n,r)}function E(e,t,n,r){return B(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=p}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!l.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(z(a,Uint8Array))i+a.length>r.length?l.from(a).copy(r,i):Uint8Array.prototype.set.call(r,a,i);else{if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n),p=0;p<s;++p)if(c[p]!==u[p]){a=c[p],o=u[p];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=q[e[a]];return i}function F(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,a){return t=+t,n>>>=0,a||O(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,a){return t=+t,n>>>=0,a||O(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:l.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var M=/[^+/0-9A-Za-z-_]/g;function D(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function U(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}var q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},8348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileCard=void 0;var r=n(6752),i=n(2378),a=n(4572);const o=(0,i.styleMap)((0,a.fullWidth)()),s=(0,i.styleMap)({...(0,a.textGray)(),...(0,a.textCenter)()}),l=(0,i.styleMap)((0,a.padding)());t.ProfileCard=({name:e,imageSrc:t,introduction:n,location:o,pronouns:p,highlightColor:d})=>{const f=(0,i.styleMap)({...(0,a.heading)(),"text-decoration":"underline","text-decoration-color":d});return r.html`
    ${u(t,e)}
    <div style=${l}>
      <h3 style=${f}>${e}</h3>
      <div style=${s}>
        ${c(n)} ${c(o,"🌐")} ${c(p)}
      </div>
    </div>
  `};const c=(e,t=r.nothing)=>e?r.html`<p>${t} ${e}</p>`:r.nothing,u=(e,t)=>e?r.html`<img style=${o} src=${e} alt=${t} />`:r.nothing},8392:t=>{"use strict";t.exports=e},8399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFooter=function(e){(0,r.initFooter)(e,{solidProjectUrl:i,solidProjectName:a})};var r=n(500);const i="https://solidproject.org",a="solidproject.org"},8426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9332),i=n(500);const a={icon:i.icons.iconBase+"noun_547570.svg",global:!0,name:"home",label:function(){return"home"},render:function(e,t){const n=t.dom,a=n.createElement("div"),o=r.authn.currentUser();return async function(){const e={div:a,dom:n,statusArea:a,me:o};a.appendChild(n.createElement("h4")).textContent="Create new thing somewhere";const r={div:a.appendChild(n.createElement("div")),dom:n,statusArea:a,me:o},s=await i.login.filterAvailablePanes(t.session.paneRegistry.list);i.create.newThingUI(r,t,s),i.login.registrationList(e,{}).then(function(){})}(),a}};t.default=a},8431:(e,t,n)=>{const r=n(5606),{ArrayIsArray:i,Promise:a,SymbolAsyncIterator:o,SymbolDispose:s}=n(4641),l=n(9365),{once:c}=n(6017),u=n(7647),p=n(3559),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:b}=n(8526),{validateFunction:y,validateAbortSignal:w}=n(2224),{isIterable:x,isReadable:k,isReadableNodeStream:_,isNodeStream:E,isTransformStream:C,isWebStream:S,isReadableStream:A,isReadableFinished:T}=n(136),R=globalThis.AbortController||n(5568).AbortController;let P,F,I;function N(e,t,n){let r=!1;e.on("close",()=>{r=!0});return{destroy:t=>{r||(r=!0,u.destroyer(e,t||new g("pipe")))},cleanup:l(e,{readable:t,writable:n},e=>{r=!e})}}function O(e){if(x(e))return e;if(_(e))return async function*(e){F||(F=n(3125));yield*F.prototype[o].call(e)}(e);throw new f("val",["Readable","Iterable","AsyncIterable"],e)}async function L(e,t,n,{end:r}){let i,o=null;const s=e=>{if(e&&(i=e),o){const e=o;o=null,e()}},c=()=>new a((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",s);const u=l(t,{readable:!1},s);try{t.writableNeedDrain&&await c();for await(const n of e)t.write(n)||await c();r&&(t.end(),await c()),n()}catch(e){n(i!==e?d(i,e):e)}finally{u(),t.off("drain",s)}}async function j(e,t,n,{end:r}){C(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(e){try{await i.abort(e),n(e)}catch(e){n(e)}}}function M(e,t,a){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new m("streams");const o=new R,l=o.signal,c=null==a?void 0:a.signal,u=[];function d(){B(new b)}let g,v,y;w(c,"options.signal"),I=I||n(6017).addAbortListener,c&&(g=I(c,d));const T=[];let F,M=0;function U(e){B(e,0===--M)}function B(e,n){var i;if(!e||v&&"ERR_STREAM_PREMATURE_CLOSE"!==v.code||(v=e),v||n){for(;T.length;)T.shift()(v);null===(i=g)||void 0===i||i[s](),o.abort(),n&&(v||u.forEach(e=>e()),r.nextTick(t,v,y))}}for(let $=0;$<e.length;$++){const W=e[$],V=$<e.length-1,G=$>0,K=V||!1!==(null==a?void 0:a.end),J=$===e.length-1;if(E(W)){if(K){const{destroy:Q,cleanup:Y}=N(W,V,G);T.push(Q),k(W)&&J&&u.push(Y)}function z(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&U(e)}W.on("error",z),k(W)&&J&&u.push(()=>{W.removeListener("error",z)})}if(0===$)if("function"==typeof W){if(F=W({signal:l}),!x(F))throw new h("Iterable, AsyncIterable or Stream","source",F)}else F=x(W)||_(W)||C(W)?W:p.from(W);else if("function"==typeof W){var H;if(C(F))F=O(null===(H=F)||void 0===H?void 0:H.readable);else F=O(F);if(F=W(F,{signal:l}),V){if(!x(F,!0))throw new h("AsyncIterable",`transform[${$-1}]`,F)}else{var q;P||(P=n(2091));const X=new P({objectMode:!0}),Z=null===(q=F)||void 0===q?void 0:q.then;if("function"==typeof Z)M++,Z.call(F,e=>{y=e,null!=e&&X.write(e),K&&X.end(),r.nextTick(U)},e=>{X.destroy(e),r.nextTick(U,e)});else if(x(F,!0))M++,L(F,X,U,{end:K});else{if(!A(F)&&!C(F))throw new h("AsyncIterable or Promise","destination",F);{const ne=F.readable||F;M++,L(ne,X,U,{end:K})}}F=X;const{destroy:ee,cleanup:te}=N(F,!1,!0);T.push(ee),J&&u.push(te)}}else if(E(W)){if(_(F)){M+=2;const re=D(F,W,U,{end:K});k(W)&&J&&u.push(re)}else if(C(F)||A(F)){const ie=F.readable||F;M++,L(ie,W,U,{end:K})}else{if(!x(F))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);M++,L(F,W,U,{end:K})}F=W}else if(S(W)){if(_(F))M++,j(O(F),W,U,{end:K});else if(A(F)||x(F))M++,j(F,W,U,{end:K});else{if(!C(F))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);M++,j(F.readable,W,U,{end:K})}F=W}else F=p.from(W)}return(null!=l&&l.aborted||null!=c&&c.aborted)&&r.nextTick(d),F}function D(e,t,n,{end:i}){let a=!1;if(t.on("close",()=>{a||n(new v)}),e.pipe(t,{end:!1}),i){function o(){a=!0,t.end()}T(e)?r.nextTick(o):e.once("end",o)}else n();return l(e,{readable:!0,writable:!1},t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)}),l(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:M,pipeline:function(...e){return M(e,c(function(e){return y(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},8489:(e,t,n)=>{"use strict";const{pipeline:r}=n(8431),i=n(3559),{destroyer:a}=n(7647),{isNodeStream:o,isReadable:s,isWritable:l,isWebStream:c,isTransformStream:u,isWritableStream:p,isReadableStream:d}=n(136),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:m}}=n(8526),g=n(9365);e.exports=function(...e){if(0===e.length)throw new m("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let n=0;n<e.length;++n)if(o(e[n])||c(e[n])){if(n<e.length-1&&!(s(e[n])||d(e[n])||u(e[n])))throw new h(`streams[${n}]`,t[n],"must be readable");if(n>0&&!(l(e[n])||p(e[n])||u(e[n])))throw new h(`streams[${n}]`,t[n],"must be writable")}let n,v,b,y,w;const x=e[0],k=r(e,function(e){const t=y;y=null,t?t(e):e?w.destroy(e):E||_||w.destroy()}),_=!!(l(x)||p(x)||u(x)),E=!!(s(k)||d(k)||u(k));if(w=new i({writableObjectMode:!(null==x||!x.writableObjectMode),readableObjectMode:!(null==k||!k.readableObjectMode),writable:_,readable:E}),_){if(o(x))w._write=function(e,t,r){x.write(e,t)?r():n=r},w._final=function(e){x.end(),v=e},x.on("drain",function(){if(n){const e=n;n=null,e()}});else if(c(x)){const e=(u(x)?x.writable:x).getWriter();w._write=async function(t,n,r){try{await e.ready,e.write(t).catch(()=>{}),r()}catch(e){r(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),v=t}catch(e){t(e)}}}const e=u(k)?k.readable:k;g(e,()=>{if(v){const e=v;v=null,e()}})}if(E)if(o(k))k.on("readable",function(){if(b){const e=b;b=null,e()}}),k.on("end",function(){w.push(null)}),w._read=function(){for(;;){const e=k.read();if(null===e)return void(b=w._read);if(!w.push(e))return}};else if(c(k)){const e=(u(k)?k.readable:k).getReader();w._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!w.push(t))return;if(n)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===y||(e=new f),b=null,n=null,v=null,null===y?t(e):(y=t,o(k)&&a(k,e))},w}},8526:(e,t,n)=>{"use strict";const{format:r,inspect:i}=n(3430),{AggregateError:a}=n(4641),o=globalThis.AggregateError||a,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u={};function p(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function d(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function f(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return p(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const i=(t.match(/%[dfijoOs]/g)||[]).length;return p(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function h(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class m extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,n)=>{p("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const a=[],o=[],s=[];for(const e of t)p("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?a.push(e.toLowerCase()):c.test(e)?o.push(e):(p("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(o.length>0){const e=a.indexOf("object");-1!==e&&(a.splice(a,e,1),o.push("Object"))}if(a.length>0){switch(a.length){case 1:r+=`of type ${a[0]}`;break;case 2:r+=`one of type ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`one of type ${a.join(", ")}, or ${e}`}}(o.length>0||s.length>0)&&(r+=" or ")}if(o.length>0){switch(o.length){case 1:r+=`an instance of ${o[0]}`;break;case 2:r+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();r+=`an instance of ${o.join(", ")}, or ${e}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`one of ${s.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var u;if(null!==(u=n.constructor)&&void 0!==u&&u.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${i(n,{depth:-1})}`}}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,n="is invalid")=>{let r=i(t);r.length>128&&(r=r.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,n)=>{var r;return`Expected ${e} to be returned from the "${t}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{let t;p(e.length>0,"At least one arg needs to be specified");const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,n)=>{let r;if(p(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32)r=d(String(n));else if("bigint"==typeof n){r=String(n);const e=BigInt(2)**BigInt(32);(n>e||n<-e)&&(r=d(r)),r+="n"}else r=i(n);return`The value of "${e}" is out of range. It must be ${t}. Received ${r}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:m,aggregateTwoErrors:h(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new o([t,e],t.message);return n.code=t.code,n}return e||t}),hideStackFrames:h,codes:u}},8649:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(4641);e.exports=c;const{ERR_METHOD_NOT_IMPLEMENTED:a}=n(8526).codes,o=n(3559),{getHighWaterMark:s}=n(3920);r(c.prototype,o.prototype),r(c,o);const l=i("kCallback");function c(e){if(!(this instanceof c))return new c(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())})}function p(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(e,t,n){throw new a("_transform()")},c.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,a=r.length;this._transform(e,t,(e,t)=>{e?n(e):(null!=t&&this.push(t),i.ended||a===r.length||r.length<r.highWaterMark?n():this[l]=n)})},c.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},8820:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},8847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomString=function(){return Math.random().toString(36).substr(2,5)},t.getStatementsToAdd=function(e,t,n,i,a){const o=new r.BlankNode(`bn_${t}`);return[(0,r.st)(i,a.acl("trustedApp"),o,i.doc()),(0,r.st)(o,a.acl("origin"),e,i.doc()),...n.map(e=>(0,r.sym)(e)).map(e=>(0,r.st)(o,a.acl("mode"),e,i.doc()))]},t.getStatementsToDelete=function(e,t,n,r){const i=n.statementsMatching(null,r.acl("origin"),e);return i.reduce((e,i)=>e.concat(n.statementsMatching(t,r.acl("trustedApp"),i.subject)).concat(n.statementsMatching(i.subject)),[])};var r=n(8230)},8912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(500)),i=a(n(8230));function a(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(a=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const o=r.ns;t.default={icon:r.icons.iconBase+"noun_1619.svg",name:"playlistSlot",audience:[o.solid("PowerUser")],label:function(e,t){const n=t.session.store;return n.anyStatementMatching(e,r.ns.rdf("type"),n.sym("http://purl.org/ontology/pbo/core#PlaylistSlot"))?"playlist slot":null},render:function(e,t){const n=t.dom;const a=function(e,t){if(!t)return e;const i=n.createElement("a");return i.setAttribute("href",t),i.appendChild(e),i.addEventListener("click",r.widgets.openHrefInOutlineMode,!0),i},o=function(e){return n.createTextNode(e)},s=t.session.store,l=s.any(e,i.sym("http://purl.org/ontology/pbo/core#playlist_item"));let c=s.any(e,i.sym("http://purl.org/ontology/olo/core#index")),u=l.uri;const p=function(e){if(!e)return{html5:!0};const t=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-_%]+)/i),n=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),r=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),i=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return t?{youtube:t}:n?{vimeo:n}:r?{dailymotion:r}:i?{vk:i}:void 0}(u),d=n.createElement("div");let f,h;if(p&&p.youtube?(u=u.replace("watch?v=","embed/"),d.setAttribute("class","imageView"),f=n.createElement("IFRAME"),f.setAttribute("src",u),f.setAttribute("width",560),f.setAttribute("height",315),f.setAttribute("frameborder",0),f.setAttribute("style","max-width: 850px; max-height: 100%;"),f.setAttribute("allowfullscreen","true")):(d.setAttribute("class","imageView"),f=n.createElement("IMG"),f.setAttribute("src",l.value),f.setAttribute("width",560),f.setAttribute("height",315),f.setAttribute("style","max-width: 560; max-height: 315;")),c){const t=s.statementsMatching(null,i.sym("http://purl.org/ontology/olo/core#index")),r=[];for(let e=0;e<t.length;e++)t[e]&&r.push(parseInt(t[e].object.value,10));c=parseInt(c.value,10),h=n.createElement("div");const l=r[(r.indexOf(c)-1+r.length)%r.length],u=r[(r.indexOf(c)+1+r.length)%r.length],p=a(o("<<"),e.uri.split("#")[0]+"#"+l);h.appendChild(p);const d=n.createElement("span");d.innerHTML=" Playlist slot : "+c+" ",h.appendChild(d);const f=a(o(">>"),e.uri.split("#")[0]+"#"+u);h.appendChild(f)}const m=n.createElement("TR");return m.appendChild(f),h&&m.appendChild(h),d.appendChild(m),d}}},8936:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4467);class i{constructor(e){(0,r.A)(this,"termType",void 0),(0,r.A)(this,"classOrder",void 0),(0,r.A)(this,"value",void 0),this.value=e}substitute(e){return this}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}hashString(){return this.toCanonical()}sameTerm(e){return this.equals(e)}toCanonical(){return this.toNT()}toNT(){return this.toString()}toNQ(){return this.toNT()}toString(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}(0,r.A)(i,"fromValue",void 0),(0,r.A)(i,"toJS",void 0)},8938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>kr});var r=n(6540),i=n(500),a=n(5338);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}function s(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var l=n(4146),c=n.n(l);const u=function(e,t){};n(5556),n(3172);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){var t=function(t){var n,i;function a(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return p(f(f(n=t.call.apply(t,[this].concat(a))||this)),"cachedTheme",void 0),p(f(f(n)),"lastOuterTheme",void 0),p(f(f(n)),"lastTheme",void 0),p(f(f(n)),"renderProvider",function(t){var i=n.props.children;return r.createElement(e.Provider,{value:n.getTheme(t)},i)}),n}i=t,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var o=a.prototype;return o.getTheme=function(e){if(this.props.theme!==this.lastTheme||e!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=e,this.lastTheme=this.props.theme,"function"==typeof this.lastTheme){var t=this.props.theme;this.cachedTheme=t(e)}else{var n=this.props.theme;this.cachedTheme=e?d({},e,n):n}return this.cachedTheme},o.render=function(){return this.props.children?r.createElement(e.Consumer,null,this.renderProvider):null},a}(r.Component);return t}function m(e){return function(t){var n=r.forwardRef(function(n,i){return r.createElement(e.Consumer,null,function(e){return r.createElement(t,d({theme:e,ref:i},n))})});return c()(n,t),n}}function g(e){return function(){return r.useContext(e)}}var v,b=(0,r.createContext)(),y=(v=b,m(v),g(v),h(v),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});const w="object"===("undefined"==typeof window?"undefined":y(window))&&"object"===("undefined"==typeof document?"undefined":y(document))&&9===document.nodeType;var x=n(9526);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,x.A)(r.key),r)}}function _(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var A={}.constructor;function T(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(T);if(e.constructor!==A)return e;var t={};for(var n in e)t[n]=T(e[n]);return t}function R(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=T(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var P=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},F=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=P(e[n]," ");else t=P(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function I(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function N(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function O(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=I(n),l=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var u=0;u<o.length;u++){var p=o[u];for(var d in p){var f=p[d];null!=f&&(r&&(r+=l),r+=N(d+":"+c+F(f)+";",a))}}else for(var h in o){var m=o[h];null!=m&&(r&&(r+=l),r+=N(h+":"+c+F(m)+";",a))}for(var g in t){var v=t[g];null!=v&&"fallbacks"!==g&&(r&&(r+=l),r+=N(g+":"+c+F(v)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),N(""+e+c+"{"+r,--a)+N("}",a)):r}var L=/([[\].#*$><+~=|^:(),"'`\s])/g,j="undefined"!=typeof CSS&&CSS.escape,M=function(e){return j?j(e):e.replace(L,"\\$1")},D=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),U=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l(S(S(i)),s),i.selectorText="."+M(i.id)),i}C(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=F(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return O(this.selectorText,this.style,n)},_(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(D),B={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new U(e,t,n)}},z={indent:1,children:!0},H=/@([\w-]+)/,q=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(H);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new fe(o({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=z);var t=I(e).linebreak;if(null==e.indent&&(e.indent=z.indent),null==e.children&&(e.children=z.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),$=/@container|@media|@supports\s+/,W={onCreateRule:function(e,t,n){return $.test(e)?new q(e,t,n):null}},V={indent:1,children:!0},G=/@keyframes\s+([\w-]+)/,K=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(G);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===i?this.name:M(s(this,a)),this.rules=new fe(o({},n,{parent:this})),t)this.rules.add(l,t[l],o({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=V);var t=I(e).linebreak;if(null==e.indent&&(e.indent=V.indent),null==e.children&&(e.children=V.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),J=/@keyframes\s+/,Q=/\$([\w-]+)/g,Y=function(e,t){return"string"==typeof e?e.replace(Q,function(e,n){return n in t?t[n]:e}):e},X=function(e,t,n){var r=e[t],i=Y(r,n);i!==r&&(e[t]=i)},Z={onCreateRule:function(e,t,n){return"string"==typeof e&&J.test(e)?new K(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&X(e,"animation-name",n.keyframes),"animation"in e&&X(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Y(e,r.keyframes);default:return e}}},ee=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return O(this.key,this.style,n)},t}(D),te={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new ee(e,t,n):null}},ne=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=I(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=O(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return O(this.at,this.style,e)},e}(),re=/@font-face/,ie={onCreateRule:function(e,t,n){return re.test(e)?new ne(e,t,n):null}},ae=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return O(this.key,this.style,e)},e}(),oe={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new ae(e,t,n):null}},se=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),le={"@charset":!0,"@import":!0,"@namespace":!0},ce={onCreateRule:function(e,t,n){return e in le?new se(e,t,n):null}},ue=[B,W,Z,te,ie,oe,ce],pe={process:!0},de={force:!0,process:!0},fe=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,c=r.generateId,u=r.scoped,p=o({classes:this.classes,parent:i,sheet:a,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(p.selector="."+M(this.classes[d]));var f=R(d,t,p);if(!f)return null;this.register(f);var h=void 0===p.index?this.index.length:p.index;return this.index.splice(h,0,f),f},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=o({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof U?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof K&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof U?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof K&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=pe);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var l in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[l];c!==s[l]&&t.prop(l,c,de)}for(var u in s){var p=t.style[u],d=s[u];null==p&&p!==d&&t.prop(u,null,de)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=I(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),he=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=o({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new fe(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),me=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ge=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=s(t,["attached"]),i=I(r).linebreak,a="",o=0;o<this.registry.length;o++){var l=this.registry[o];null!=n&&l.attached!==n||(a&&(a+=i),a+=l.toString(r))}return a},_(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ve=new ge,be="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ye="2f1acc6c3a606b082e5eef5e54414ffb";null==be[ye]&&(be[ye]=0);var we=be[ye]++,xe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+we+i+t:a+n.key+"-"+we+(i?"-"+i:"")+"-"+t}},ke=function(e){var t;return function(){return t||(t=e()),t}},_e=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},Ee=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=F(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(e){return!1}return!0},Ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},Se=function(e,t){return e.selectorText=t,e.selectorText===t},Ae=ke(function(){return document.querySelector("head")});function Te(e){var t=ve.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=Ae(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Re=ke(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),Pe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},Fe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ie=function(){function e(e){this.getPropertyValue=_e,this.setProperty=Ee,this.removeProperty=Ce,this.setSelector=Se,this.hasInsertedRules=!1,this.cssRules=[],e&&ve.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Re();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Te(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else Ae().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Fe(n,t);if(!1===(i=Pe(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Fe(n,t),l=Pe(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof he&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ne=0,Oe=function(){function e(e){this.id=Ne++,this.version="10.10.0",this.plugins=new me,this.options={id:{minify:!1},createGenerateId:xe,Renderer:w?Ie:null,plugins:[]},this.generateId=xe({minify:!1});for(var t=0;t<ue.length;t++)this.plugins.use(ue[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=o({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===ve.index?0:ve.index+1);var r=new he(e,o({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ve.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=o({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=R(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}(),Le=function(e){return new Oe(e)},je=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet;u(!1,"[JSS] SheetsManager: can't find sheet to manage")},t.unmanage=function(e){var t=this.sheets.get(e);t?t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach()):u(!1,"SheetsManager: can't find sheet to unmanage")},_(e,[{key:"size",get:function(){return this.length}}]),e}(),Me="object"==typeof CSS&&null!=CSS&&"number"in CSS;function De(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=De(r);a&&(t||(t={}),t[n]=a)}}return t}
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */Le();var Ue=Date.now(),Be="fnValues"+Ue,ze="fnStyle"+ ++Ue;const He=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=R(e,{},n);return r[ze]=t,r},onProcessStyle:function(e,t){if(Be in t||ze in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[Be]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[ze];a&&(i.style=a(e)||{});var o=i[Be];if(o)for(var s in o)i.prop(s,o[s](e),r)}}};var qe=n(9423),$e=function(e){return e&&e[qe.A]&&e===e[qe.A]()};const We=function(e){return{onCreateRule:function(t,n,r){if(!$e(n))return null;var i=n,a=R(t,{},r);return i.subscribe(function(t){for(var n in t)a.prop(n,t[n],e)}),a},onProcessRule:function(t){if(!t||"style"===t.type){var n=t,r=n.style,i=function(t){var i=r[t];if(!$e(i))return"continue";delete r[t],i.subscribe({next:function(r){n.prop(t,r,e)}})};for(var a in r)i(a)}}}};var Ve=/;\n/,Ge=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(Ve),r=0;r<n.length;r++){var i=(n[r]||"").trim();if(i){var a=i.indexOf(":");if(-1!==a){var o=i.substr(0,a).trim(),s=i.substr(a+1).trim();t[o]=s}}}return t}(e.style))};const Ke=function(){return{onProcessRule:Ge}};var Je="@global",Qe="@global ",Ye=function(){function e(e,t,n){for(var r in this.type="global",this.at=Je,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new fe(o({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Xe=function(){function e(e,t,n){this.type="global",this.at=Je,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,o({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ze=/\s*,\s*/g;function et(e,t){for(var n=e.split(Ze),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}const tt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Je)return new Ye(e,t,n);if("@"===e[0]&&e.substr(0,8)===Qe)return new Xe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Je]:null;if(i){for(var a in i)t.addRule(a,i[a],o({},n,{selector:et(a,e.selector)}));delete r[Je]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,7)===Je){var a=et(i.substr(7),e.selector);t.addRule(a,r[i],o({},n,{selector:a})),delete r[i]}}(e,t))}}};var nt=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},rt="extendCurrValue"+Date.now();function it(e,t,n,r){return void 0===r&&(r={}),function(e,t,n,r){if("string"!=typeof e.extend)if(Array.isArray(e.extend))for(var i=0;i<e.extend.length;i++){var a=e.extend[i];it("string"==typeof a?o({},e,{extend:a}):e.extend[i],t,n,r)}else for(var s in e.extend)"extend"!==s?nt(e.extend[s])?(s in r||(r[s]={}),it(e.extend[s],t,n,r[s])):r[s]=e.extend[s]:it(e.extend.extend,t,n,r);else{if(!n)return;var l=n.getRule(e.extend);if(!l)return;if(l===t)return;var c=l.options.parent;c&&it(c.rules.raw[e.extend],t,n,r)}}(e,t,n,r),function(e,t,n,r){for(var i in e)"extend"!==i&&(nt(r[i])&&nt(e[i])?it(e[i],t,n,r[i]):nt(e[i])?r[i]=it(e[i],t,n):r[i]=e[i])}(e,t,n,r),r}const at=function(){return{onProcessStyle:function(e,t,n){return"extend"in e?it(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var r in n[rt])n.prop(r,null);return n[rt]=null,null}if("object"==typeof e){for(var i in e)n.prop(i,e[i]);n[rt]=e}return null}}};var ot=/\s*,\s*/g,st=/&/g,lt=/\$([\w-]+)/g;const ct=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(ot),r=e.split(ot),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(st,o):o+" "+l}return i}function n(e,t,n){if(n)return o({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=o({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var s,l,c=i,u=c.options.parent;for(var p in r){var d=-1!==p.indexOf("&"),f="@"===p[0];if(d||f){if(s=n(c,u,s),d){var h=t(p,c.selector);l||(l=e(u,a)),h=h.replace(lt,l);var m=c.key+"-"+p;"replaceRule"in u?u.replaceRule(m,r[p],o({},s,{selector:h})):u.addRule(m,r[p],o({},s,{selector:h}))}else f&&u.addRule(p,{},s).addRule(c.key,r[p],{selector:c.selector});delete r[p]}}return r}}};function ut(e,t){if(!t)return!0;if(Array.isArray(t)){for(var n=0;n<t.length;n++){if(!ut(e,t[n]))return!1}return!0}if(t.indexOf(" ")>-1)return ut(e,t.split(" "));var r=e.options.parent;if("$"===t[0]){var i=r.getRule(t.substr(1));return!!i&&(i!==e&&(r.classes[e.key]+=" "+r.classes[i.key],!0))}return r.classes[e.key]+=" "+t,!0}const pt=function(){return{onProcessStyle:function(e,t){return"composes"in e?(ut(t,e.composes),delete e.composes,e):e}}};var dt=/[A-Z]/g,ft=/^ms-/,ht={};function mt(e){return"-"+e.toLowerCase()}const gt=function(e){if(ht.hasOwnProperty(e))return ht[e];var t=e.replace(dt,mt);return ht[e]=ft.test(t)?"-"+t:t};function vt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:gt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(vt):t.fallbacks=vt(e.fallbacks)),t}const bt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=vt(e[t]);return e}return vt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=gt(t);return t===r?e:(n.prop(r,e),null)}}};var yt=Me&&CSS?CSS.px:"px",wt=Me&&CSS?CSS.ms:"ms",xt=Me&&CSS?CSS.percent:"%";function kt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var _t=kt({"animation-delay":wt,"animation-duration":wt,"background-position":yt,"background-position-x":yt,"background-position-y":yt,"background-size":yt,border:yt,"border-bottom":yt,"border-bottom-left-radius":yt,"border-bottom-right-radius":yt,"border-bottom-width":yt,"border-left":yt,"border-left-width":yt,"border-radius":yt,"border-right":yt,"border-right-width":yt,"border-top":yt,"border-top-left-radius":yt,"border-top-right-radius":yt,"border-top-width":yt,"border-width":yt,"border-block":yt,"border-block-end":yt,"border-block-end-width":yt,"border-block-start":yt,"border-block-start-width":yt,"border-block-width":yt,"border-inline":yt,"border-inline-end":yt,"border-inline-end-width":yt,"border-inline-start":yt,"border-inline-start-width":yt,"border-inline-width":yt,"border-start-start-radius":yt,"border-start-end-radius":yt,"border-end-start-radius":yt,"border-end-end-radius":yt,margin:yt,"margin-bottom":yt,"margin-left":yt,"margin-right":yt,"margin-top":yt,"margin-block":yt,"margin-block-end":yt,"margin-block-start":yt,"margin-inline":yt,"margin-inline-end":yt,"margin-inline-start":yt,padding:yt,"padding-bottom":yt,"padding-left":yt,"padding-right":yt,"padding-top":yt,"padding-block":yt,"padding-block-end":yt,"padding-block-start":yt,"padding-inline":yt,"padding-inline-end":yt,"padding-inline-start":yt,"mask-position-x":yt,"mask-position-y":yt,"mask-size":yt,height:yt,width:yt,"min-height":yt,"max-height":yt,"min-width":yt,"max-width":yt,bottom:yt,left:yt,top:yt,right:yt,inset:yt,"inset-block":yt,"inset-block-end":yt,"inset-block-start":yt,"inset-inline":yt,"inset-inline-end":yt,"inset-inline-start":yt,"box-shadow":yt,"text-shadow":yt,"column-gap":yt,"column-rule":yt,"column-rule-width":yt,"column-width":yt,"font-size":yt,"font-size-delta":yt,"letter-spacing":yt,"text-decoration-thickness":yt,"text-indent":yt,"text-stroke":yt,"text-stroke-width":yt,"word-spacing":yt,motion:yt,"motion-offset":yt,outline:yt,"outline-offset":yt,"outline-width":yt,perspective:yt,"perspective-origin-x":xt,"perspective-origin-y":xt,"transform-origin":xt,"transform-origin-x":xt,"transform-origin-y":xt,"transform-origin-z":xt,"transition-delay":wt,"transition-duration":wt,"vertical-align":yt,"flex-basis":yt,"shape-margin":yt,size:yt,gap:yt,grid:yt,"grid-gap":yt,"row-gap":yt,"grid-row-gap":yt,"grid-column-gap":yt,"grid-template-rows":yt,"grid-template-columns":yt,"grid-auto-rows":yt,"grid-auto-columns":yt,"box-shadow-x":yt,"box-shadow-y":yt,"box-shadow-blur":yt,"box-shadow-spread":yt,"font-line-height":yt,"text-shadow-x":yt,"text-shadow-y":yt,"text-shadow-blur":yt});function Et(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Et(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=Et(i,t[i],n);else for(var a in t)t[a]=Et(e+"-"+a,t[a],n);else if("number"==typeof t&&!1===isNaN(t)){var o=n[e]||_t[e];return!o||0===t&&o===yt?t.toString():"function"==typeof o?o(t).toString():""+t+o}return t}const Ct=function(e){void 0===e&&(e={});var t=kt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Et(r,e[r],t);return e},onChangeValue:function(e,n){return Et(n,e,t)}}};var St={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},At={position:!0,size:!0},Tt={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},Rt={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function Pt(e,t,n,r){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?Pt(e[0],t,n,r):"object"==typeof e[0]?function(e,t,n){return e.map(function(e){return Ft(e,t,n,!1,!0)})}(e,t,r):[e]}function Ft(e,t,n,r,i){if(!Tt[t]&&!Rt[t])return[];var a=[];if(Rt[t]&&(e=function(e,t,n,r){for(var i in n){var a=n[i];if(void 0!==e[i]&&(r||!t.prop(a))){var o,s=It((o={},o[a]=e[i],o),t)[a];r?t.style.fallbacks[a]=s:t.style[a]=s}delete e[i]}return e}(e,n,Rt[t],r)),Object.keys(e).length)for(var o in Tt[t])e[o]?Array.isArray(e[o])?a.push(null===At[o]?e[o]:e[o].join(" ")):a.push(e[o]):null!=Tt[t][o]&&a.push(Tt[t][o]);return!a.length||i?a:[a]}function It(e,t,n){for(var r in e){var i=e[r];if(Array.isArray(i)){if(!Array.isArray(i[0])){if("fallbacks"===r){for(var a=0;a<e.fallbacks.length;a++)e.fallbacks[a]=It(e.fallbacks[a],t,!0);continue}e[r]=Pt(i,r,St,t),e[r].length||delete e[r]}}else if("object"==typeof i){if("fallbacks"===r){e.fallbacks=It(e.fallbacks,t,!0);continue}e[r]=Ft(i,r,t,n),e[r].length||delete e[r]}else""===e[r]&&delete e[r]}return e}const Nt=function(){return{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=It(e[n],t);return e}return It(e,t)}}};function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jt="",Mt="",Dt="",Ut="",Bt=w&&"ontouchstart"in document.documentElement;if(w){var zt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Ht=document.createElement("p").style;for(var qt in zt)if(qt+"Transform"in Ht){jt=qt,Mt=zt[qt];break}"Webkit"===jt&&"msHyphens"in Ht&&(jt="ms",Mt=zt.ms,Ut="edge"),"Webkit"===jt&&"-apple-trailing-word"in Ht&&(Dt="apple")}var $t=jt,Wt=Mt,Vt=Dt,Gt=Ut,Kt=Bt;var Jt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===$t?"-webkit-"+e:Wt+e)}},Qt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===$t?Wt+"print-"+e:e)}},Yt=/[-\s]+(.)?/g;function Xt(e,t){return t?t.toUpperCase():""}function Zt(e){return e.replace(Yt,Xt)}function en(e){return Zt("-"+e)}var tn,nn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===$t){var n="mask-image";if(Zt(n)in t)return e;if($t+en(n)in t)return Wt+e}return e}},rn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Vt||Kt?e:Wt+e)}},an={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Wt+e)}},on={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Wt+e)}},sn={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===$t||"ms"===$t&&"edge"!==Gt?Wt+e:e)}},ln={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===$t||"ms"===$t||"apple"===Vt?Wt+e:e)}},cn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===$t?"WebkitColumn"+en(e)in t&&Wt+"column-"+e:"Moz"===$t&&("page"+en(e)in t&&"page-"+e))}},un={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===$t)return e;var n=e.replace("-inline","");return $t+en(n)in t&&Wt+n}},pn={supportedProperty:function(e,t){return Zt(e)in t&&e}},dn={supportedProperty:function(e,t){var n=en(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:$t+n in t?Wt+e:"Webkit"!==$t&&"Webkit"+n in t&&"-webkit-"+e}},fn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===$t?""+Wt+e:e)}},hn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===$t?Wt+"scroll-chaining":e)}},mn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},gn={supportedProperty:function(e,t){var n=mn[e];return!!n&&($t+en(n)in t&&Wt+n)}},vn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},bn=Object.keys(vn),yn=function(e){return Wt+e},wn={supportedProperty:function(e,t,n){var r=n.multiple;if(bn.indexOf(e)>-1){var i=vn[e];if(!Array.isArray(i))return $t+en(i)in t&&Wt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!($t+en(i[0])in t))return!1;return i.map(yn)}return!1}},xn=[Jt,Qt,nn,rn,an,on,sn,ln,cn,un,pn,dn,fn,hn,gn,wn],kn=xn.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),_n=xn.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Lt(t.noPrefill)),e},[]),En={};if(w){tn=document.createElement("p");var Cn=window.getComputedStyle(document.documentElement,"");for(var Sn in Cn)isNaN(Sn)||(En[Cn[Sn]]=Cn[Sn]);_n.forEach(function(e){return delete En[e]})}function An(e,t){if(void 0===t&&(t={}),!tn)return e;if(null!=En[e])return En[e];"transition"!==e&&"transform"!==e||(t[e]=e in tn.style);for(var n=0;n<kn.length&&(En[e]=kn[n](e,tn.style,t),!En[e]);n++);try{tn.style[e]=""}catch(e){return!1}return En[e]}var Tn,Rn={},Pn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Fn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function In(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?An(t):", "+An(n);return r||(t||n)}function Nn(e,t){var n=t;if(!Tn||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Rn[r])return Rn[r];try{Tn.style[e]=n}catch(e){return Rn[r]=!1,!1}if(Pn[e])n=n.replace(Fn,In);else if(""===Tn.style[e]&&("-ms-flex"===(n=Wt+n)&&(Tn.style[e]="-ms-flexbox"),Tn.style[e]=n,""===Tn.style[e]))return Rn[r]=!1,!1;return Tn.style[e]="",Rn[r]=n,Rn[r]}w&&(Tn=document.createElement("p"));const On=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=An(n);a&&a!==n&&(i=!0);var o=!1,s=Nn(a,F(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===$t?e:"@"+Wt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Nn(t,F(e))||e}}};const Ln=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};const jn=function(e){return void 0===e&&(e={}),{plugins:[He(),We(e.observable),Ke(),tt(),at(),ct(),pt(),bt(),Ct(e.defaultUnit),Nt(),On(),Ln()]}};const Mn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}};var Dn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;Mn(function(e){return Dn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});var Un=Le(jn()),Bn=function(e){void 0===e&&(e=Un);var t,n=new Map,r=0,i=function(){return(!t||t.rules.index.length>1e4)&&(t=e.createStyleSheet().attach()),t};function a(){var e=arguments,t=JSON.stringify(e),a=n.get(t);if(a)return a.className;var o=[];for(var s in e){var l=e[s];if(Array.isArray(l))for(var c=0;c<l.length;c++)o.push(l[c]);else o.push(l)}for(var u={},p=[],d=0;d<o.length;d++){var f=o[d];if(f){var h=f;if("string"==typeof f){var m=n.get(f);m&&(m.labels.length&&p.push.apply(p,m.labels),h=m.style)}h.label&&-1===p.indexOf(h.label)&&p.push(h.label),Object.assign(u,h)}}delete u.label;var g=(0===p.length?"css":p.join("-"))+"-"+r++;i().addRule(g,u);var v=i().classes[g],b={style:u,labels:p,className:v};return n.set(t,b),n.set(v,b),v}return a.getSheet=i,a}();const zn=Bn;var Hn=Number.MIN_SAFE_INTEGER||-1e9,qn=function(){return Hn++},$n=(0,r.createContext)({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!w}),Wn=new Map,Vn=function(e,t){var n=e.managers;if(n)return n[t]||(n[t]=new je),n[t];var r=Wn.get(t);return r||(r=new je,Wn.set(t,r)),r},Gn=function(e){var t=e.sheet,n=e.context,r=e.index,i=e.theme;t&&(Vn(n,r).manage(i),n.registry&&n.registry.add(t))},Kn=Le(jn()),Jn=new WeakMap,Qn=function(e){return Jn.get(e)};var Yn=function(e){if(!e.context.disableStylesGeneration){var t=Vn(e.context,e.index),n=t.get(e.theme);if(n)return n;var r=e.context.jss||Kn,i=function(e){var t=e.styles;return"function"!=typeof t?t:t(e.theme)}(e),a=De(i),s=r.createStyleSheet(i,function(e,t){var n;e.context.id&&null!=e.context.id.minify&&(n=e.context.id.minify);var r=e.context.classNamePrefix||"";e.name&&!n&&(r+=e.name.replace(/\s/g,"-")+"-");var i="";return e.name&&(i=e.name+", "),i+="function"==typeof e.styles?"Themed":"Unthemed",o({},e.sheetOptions,{index:e.index,meta:i,classNamePrefix:r,link:t,generateId:e.sheetOptions&&e.sheetOptions.generateId?e.sheetOptions.generateId:e.context.generateId})}(e,null!==a));return function(e,t){Jn.set(e,t)}(s,{dynamicStyles:a,styles:i}),t.add(e.theme,s),s}},Xn=function(e,t){var n=Qn(e);if(n){var r={};for(var i in n.dynamicStyles)for(var a=e.rules.index.length,o=e.addRule(i,n.dynamicStyles[i]),s=a;s<e.rules.index.length;s++){var l=e.rules.index[s];e.updateOne(l,t),r[o===l?i:l.key]=l}return r}};function Zn(e){return e?r.useEffect:r.useInsertionEffect||r.useLayoutEffect}var er={},tr=function(e,t){void 0===t&&(t={});var n=t,i=n.index,a=void 0===i?qn():i,o=n.theming,l=n.name,c=s(n,["index","theming","name"]),u=o&&o.context||b,p={};return function(t){var n=(0,r.useRef)(!0),i=(0,r.useContext)($n),o=function(t){return"function"==typeof e&&(t||(0,r.useContext)(u))||er}(t&&t.theme),s=(0,r.useMemo)(function(){var n=Yn({context:i,styles:e,name:l,theme:o,index:a,sheetOptions:c});return n&&i.isSSR&&Gn({index:a,context:i,sheet:n,theme:o}),[n,n?Xn(n,t):null]},[i,o]),d=s[0],f=s[1];Zn(i.isSSR)(function(){d&&f&&!n.current&&function(e,t,n){for(var r in n)t.updateOne(n[r],e)}(t,d,f)},[t]),Zn(i.isSSR)(function(){return d&&Gn({index:a,context:i,sheet:d,theme:o}),function(){d&&(function(e){e.sheet&&Vn(e.context,e.index).unmanage(e.theme)}({index:a,context:i,sheet:d,theme:o}),f&&function(e,t){for(var n in t)e.deleteRule(t[n])}(d,f))}},[d]);var h=(0,r.useMemo)(function(){return d&&f?function(e,t){if(!t)return e.classes;var n=Qn(e);if(!n)return e.classes;var r={};for(var i in n.styles)r[i]=e.classes[i],i in t&&(r[i]+=" "+e.classes[t[i].key]);return r}(d,f):p},[d,f]);return(0,r.useDebugValue)(h),(0,r.useDebugValue)(o===er?"No theme":o),(0,r.useEffect)(function(){n.current=!1}),h}};Symbol("react-jss-styled"),function(e){void 0===e&&(e=zn)}();var nr=["second","minute","hour","day","week","month","year"];var rr=["秒","分钟","小时","天","周","个月","年"];var ir={},ar=function(e,t){ir[e]=t},or=[60,60,24,7,365/7/12,12];function sr(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var lr=function(e,t,n){var r=function(e,t){return(+(t?sr(t):new Date)-+sr(e))/1e3}(e,n&&n.relativeDate);return function(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=or[i]&&i<or.length;i++)e/=or[i];return(e=Math.floor(e))>(0==(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}(r,function(e){return ir[e]||ir.en_US}(t))};ar("en_US",function(e,t){if(0===t)return["just now","right now"];var n=nr[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]}),ar("zh_CN",function(e,t){if(0===t)return["刚刚","片刻后"];var n=rr[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]});const cr={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"},ur=({value:e,className:t})=>{if(!e)return null;const n=e.toLocaleDateString(void 0,cr),i=lr(e);return r.createElement("p",{className:t},i," · ",n)};function pr(e){return"LinkAttribution"===e.discriminator}const dr=({to:e})=>pr(e)?r.createElement("a",{href:e.uri},e.uri):"PersonAttribution"===e.discriminator?r.createElement(fr,{...e}):null,fr=({webId:e,name:t,imageSrc:n})=>r.createElement(r.Fragment,null,n&&r.createElement("img",{height:"47",width:"47",alt:t,src:n}),r.createElement("a",{href:e},t)),hr=tr({card:{fontFamily:"sans-serif",display:"flex",flexWrap:"wrap",borderRadius:"4px",flexDirection:"column",justifyContent:"center",padding:"1em",boxShadow:"0 1px 5px rgba(0,0,0,0.2)",transition:"all .25s ease-in-out",maxWidth:632},content:{fontSize:"larger"},date:{color:"rgb(0, 0, 0, 60%)"},attribution:{display:"flex",alignItems:"center",fontWeight:"bold","& a":{color:"black",textDecoration:"none"},"& a:hover":{textDecoration:"underline"},"& img":{marginRight:5,width:47,borderRadius:5}}}),mr=({content:e,published:t,attributedTo:n})=>{const i=hr();return r.createElement("div",{className:i.card},r.createElement("div",{className:i.attribution},r.createElement(dr,{to:n})),r.createElement("p",{className:i.content},e),r.createElement(ur,{className:i.date,value:t}))};var gr=n(8230);function vr(e,t){if(e instanceof gr.NamedNode){return function(e){const t=i.ns.as("Person").uri,n=i.ns.foaf("Person").uri,r=i.ns.vcard("Individual").uri,a=i.ns.schema("Person").uri;return e[t]||e[n]||e[r]||e[a]}(t.findTypeURIs(e))?function(e,t){const n=e.anyValue(t,i.ns.as("name"))||e.anyValue(t,i.ns.foaf("name"))||e.anyValue(t,i.ns.vcard("fn"))||e.anyValue(t,i.ns.schema("name"))||"",r=function(e,t){const n=e.anyValue(t,i.ns.as("image"));if(n)return e.anyValue((0,gr.sym)(n),i.ns.as("url"))||void 0;return e.anyValue(t,i.ns.foaf("img"))||e.anyValue(t,i.ns.vcard("hasPhoto"))||void 0}(e,t);return{discriminator:"PersonAttribution",webId:t.uri,name:n,imageSrc:r}}(t,e):{discriminator:"LinkAttribution",uri:e.uri}}return{discriminator:"NoAttribution"}}function br(e,t){const n=t.any(e,i.ns.as("content")),r=t.any(e,i.ns.as("published")),a=function(e,t){return vr(t.any(e,i.ns.as("attributedTo")),t)}(e,t);return n?{content:n.value,published:r&&new Date(r.value),attributedTo:a}:null}const yr=(e,t)=>{const[n,i]=(0,r.useState)(br(e,t));return(0,r.useEffect)(()=>{!async function(){if(pr(n.attributedTo)){const e=await async function(e,t){const n=(0,gr.sym)(e.uri);return await t.fetcher.load(n),vr(n,t)}(n.attributedTo,t);i({...n,attributedTo:e})}}()},[]),n},wr=({subject:e,context:t})=>{const n=t.session.store,i=yr(e,n);return r.createElement(mr,{...i})},xr={global:!1,icon:i.icons.iconBase+"noun_15695.svg",name:"activitystreams",label:function(e,t){return t.session.store.findTypeURIs(e)[i.ns.as("Note").uri]?"Note":null},render:(e,t)=>function(e){const t=document.createElement("div");return t.style.padding="1em",(0,a.createRoot)(t).render(e),t}(r.createElement(wr,{subject:e,context:t}))},kr=xr},9208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupMembership=l,t.renderGroupMemberships=async function(e,t){function n(t){const n={deleteFunction:function(){!async function(t,n){const o=u.any(t,a.vcard("fn")),s=u.any(n,a.vcard("fn")),l=u.each(null,a.owl("sameAs"),t,n.doc());let d=[];l.forEach(e=>{u.statementsMatching(e,a.owl("sameAs"),t,n.doc())&&(d=d.concat(e))});let f=t;if(d.length>0&&(f=d[0]),u.each(null,a.vcard("hasMember"),f).length<2)return void alert("Must be a member of at least one group.  Add to another group first.");if(confirm("Remove "+o+" from group "+s+"?")){let t=u.statementsMatching(e,void 0,void 0,n.doc()).concat(u.statementsMatching(void 0,void 0,e,n.doc()));d.forEach(e=>{u.statementsMatching(e,a.owl("sameAs"),void 0,n.doc()).length<2&&(t=t.concat(u.statementsMatching(void 0,void 0,e,n.doc())))}),u.updater.update(t,[],function(e,t,i){if(!t){const e="Error removing member from group "+n+": "+i;p.parentNode.appendChild(r.widgets.errorMessageBlock(c,e,"pink"))}}),u.fetcher.unload(n.doc()),await u.fetcher.load(n.doc()),i()}}(e,t)},noun:"membership"};return r.widgets.personTR(c,null,t,n)}function i(){o.syncTableToArray(p,l(e),n)}async function s(e=null){if(!e&&!(e=u.any(void 0,a.vcard("includesGroup"))))return;const t=u.any(e,a.vcard("groupIndex")),n=e?u.each(e,a.vcard("includesGroup"),null,t):[];await u.fetcher.load(n)}const{dom:c}=t,u=t.session.store,p=c.createElement("table");return await s(),p.refresh=i,i(),p};var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o}(e,t)}(n(500)),i=n(9332);const a=r.ns,o=r.utils,s=i.store;function l(e){let t=s.statementsMatching(null,a.owl("sameAs"),e).map(e=>e.why).concat(s.each(null,a.vcard("hasMember"),e));const n=new Set(t.map(e=>e.uri));return t=[...n].map(e=>s.sym(e)),t}},9332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACL_LINK:()=>nn,CrossOriginForbiddenError:()=>mn,FetchError:()=>wn,NotEditableError:()=>bn,NotFoundError:()=>vn,SameOriginForbiddenError:()=>gn,UnauthorizedError:()=>hn,WebOperationError:()=>yn,appContext:()=>an,authSession:()=>Fn,authn:()=>Pn,createTypeIndexLogic:()=>kn,getSuggestedIssuers:()=>Rn,offlineTestID:()=>on,solidLogicSingleton:()=>An,store:()=>In});var r=n(8230),i={7:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,console&&console.warn}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=h(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},386:e=>{const t={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.exports=function(e={namedNode:e=>e}){const n={};for(const r in t){const i=t[r];n[r]=function(t=""){return e.namedNode(i+t)}}return n}},516:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},a=void 0,o=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){o=3,a=i},e.debug=function(){if(o>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(a,Array.from(t))}},e.info=function(){if(o>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(a,Array.from(t))}},e.warn=function(){if(o>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(a,Array.from(t))}},e.error=function(){if(o>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(a,Array.from(t))}},r(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return o},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");o=e}},{key:"logger",get:function(){return a},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");a=e}}]),e}()).reset()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setInterval(e,t)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearInterval(e)})},a=!1,o=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){a=!0},e.setXMLHttpRequest=function(e){o=e},r(e,null,[{key:"location",get:function(){if(!a)return location}},{key:"localStorage",get:function(){if(!a&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!a&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!a&&"undefined"!=typeof window)return o||XMLHttpRequest}},{key:"timer",get:function(){if(!a)return i}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(7),o=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(t){i.Log.debug("MetadataService.getMetadata: json received");var n=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},n,t),e._settings.metadata})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then(function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]})},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then(function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys})})},r(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(o)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=o))),this._metadataUrl}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var r=n(0),i=n(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=n.location.href);var a=e.lastIndexOf(t);a>=0&&(e=e.substr(a+1)),"?"===t&&(a=e.indexOf("#"))>=0&&(e=e.substr(0,a));for(var o,s={},l=/([^&=]+)=([^&]*)/g,c=0;o=l.exec(e);)if(s[decodeURIComponent(o[1])]=decodeURIComponent(o[2].replace(/\+/g," ")),c++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var u in s)return s;return{}},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n(33));t.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=n(23),s=n(6),l=n(24),c=n(2),u=".well-known/openid-configuration";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,i=t.metadataUrl,a=t.metadata,u=t.signingKeys,p=t.metadataSeed,d=t.client_id,f=t.client_secret,h=t.response_type,m=void 0===h?"id_token":h,g=t.scope,v=void 0===g?"openid":g,b=t.redirect_uri,y=t.post_logout_redirect_uri,w=t.client_authentication,x=void 0===w?"client_secret_post":w,k=t.prompt,_=t.display,E=t.max_age,C=t.ui_locales,S=t.acr_values,A=t.resource,T=t.response_mode,R=t.filterProtocolClaims,P=void 0===R||R,F=t.loadUserInfo,I=void 0===F||F,N=t.staleStateAge,O=void 0===N?900:N,L=t.clockSkew,j=void 0===L?300:L,M=t.clockService,D=void 0===M?new o.ClockService:M,U=t.userInfoJwtIssuer,B=void 0===U?"OP":U,z=t.mergeClaims,H=void 0!==z&&z,q=t.stateStore,$=void 0===q?new s.WebStorageStateStore:q,W=t.ResponseValidatorCtor,V=void 0===W?l.ResponseValidator:W,G=t.MetadataServiceCtor,K=void 0===G?c.MetadataService:G,J=t.extraQueryParams,Q=void 0===J?{}:J,Y=t.extraTokenParams,X=void 0===Y?{}:Y;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._authority=n,this._metadataUrl=i,this._metadata=a,this._metadataSeed=p,this._signingKeys=u,this._client_id=d,this._client_secret=f,this._response_type=m,this._scope=v,this._redirect_uri=b,this._post_logout_redirect_uri=y,this._client_authentication=x,this._prompt=k,this._display=_,this._max_age=E,this._ui_locales=C,this._acr_values=S,this._resource=A,this._response_mode=T,this._filterProtocolClaims=!!P,this._loadUserInfo=!!I,this._staleStateAge=O,this._clockSkew=j,this._clockService=D,this._userInfoJwtIssuer=B,this._mergeClaims=!!H,this._stateStore=$,this._validator=new V(this),this._metadataService=new K(this),this._extraQueryParams="object"===(void 0===Q?"undefined":r(Q))?Q:{},this._extraTokenParams="object"===(void 0===X?"undefined":r(X))?X:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw a.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw a.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(u)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=u)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var r=n(0),i=n(1);t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"oidc.":n,a=t.store,o=void 0===a?i.Global.localStorage:a;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._store=o,this._prefix=r}return e.prototype.set=function(e,t){return r.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){r.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){r.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var r=n(0),i=n(1);t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",e),new Promise(function(i,a){var o=new n._XMLHttpRequest;o.open("GET",e);var s=n._contentTypes,l=n._jwtHandler;o.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",o.status),200===o.status){var t=o.getResponseHeader("Content-Type");if(t){var n=s.find(function(e){if(t.startsWith(e))return!0});if("application/jwt"==n)return void l(o).then(i,a);if(n)try{return void i(JSON.parse(o.responseText))}catch(e){return r.Log.error("JsonService.getJson: Error parsing JSON response",e.message),void a(e)}}a(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else a(Error(o.statusText+" ("+o.status+")"))},o.onerror=function(){r.Log.error("JsonService.getJson: network error"),a(Error("Network Error"))},t&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),o.setRequestHeader("Authorization","Bearer "+t)),o.send()})},e.prototype.postForm=function(e,t,n){var i=this;if(!e)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",e),new Promise(function(a,o){var s=new i._XMLHttpRequest;s.open("POST",e);var l=i._contentTypes;s.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(n=s.getResponseHeader("Content-Type"))&&l.find(function(e){if(n.startsWith(e))return!0}))try{var t=JSON.parse(s.responseText);if(t&&t.error)return r.Log.error("JsonService.postForm: Error from server: ",t.error),void o(new Error(t.error))}catch(e){return r.Log.error("JsonService.postForm: Error parsing JSON response",e.message),void o(e)}o(Error(s.statusText+" ("+s.status+")"))}else{var n;if((n=s.getResponseHeader("Content-Type"))&&l.find(function(e){if(n.startsWith(e))return!0}))try{return void a(JSON.parse(s.responseText))}catch(e){return r.Log.error("JsonService.postForm: Error parsing JSON response",e.message),void o(e)}o(Error("Invalid response Content-Type: "+n+", from URL: "+e))}},s.onerror=function(){r.Log.error("JsonService.postForm: network error"),o(Error("Network Error"))};var c="";for(var u in t){var p=t[u];p&&(c.length>0&&(c+="&"),c+=encodeURIComponent(u),c+="=",c+=encodeURIComponent(p))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==n&&s.setRequestHeader("Authorization","Basic "+btoa(n)),s.send(c)})},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var r=n(0),i=n(3),a=n(13);t.SigninRequest=function(){function e(t){var n=t.url,o=t.client_id,s=t.redirect_uri,l=t.response_type,c=t.scope,u=t.authority,p=t.data,d=t.prompt,f=t.display,h=t.max_age,m=t.ui_locales,g=t.id_token_hint,v=t.login_hint,b=t.acr_values,y=t.resource,w=t.response_mode,x=t.request,k=t.request_uri,_=t.extraQueryParams,E=t.request_type,C=t.client_secret,S=t.extraTokenParams,A=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!o)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!l)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!u)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var T=e.isOidc(l),R=e.isCode(l);w||(w=e.isCode(l)?"query":null),this.state=new a.SigninState({nonce:T,data:p,client_id:o,authority:u,redirect_uri:s,code_verifier:R,request_type:E,response_mode:w,client_secret:C,scope:c,extraTokenParams:S,skipUserInfo:A}),n=i.UrlUtility.addQueryParam(n,"client_id",o),n=i.UrlUtility.addQueryParam(n,"redirect_uri",s),n=i.UrlUtility.addQueryParam(n,"response_type",l),n=i.UrlUtility.addQueryParam(n,"scope",c),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),T&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),R&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var P={prompt:d,display:f,max_age:h,ui_locales:m,id_token_hint:g,login_hint:v,acr_values:b,resource:y,request:x,request_uri:k,response_mode:w};for(var F in P)P[F]&&(n=i.UrlUtility.addQueryParam(n,F,P[F]));for(var I in _)n=i.UrlUtility.addQueryParam(n,I,_[I]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter(function(e){return"id_token"===e})[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter(function(e){return"token"===e})[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter(function(e){return"code"===e})[0]},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.data,i=t.created,o=t.request_type;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._id=n||(0,a.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=o}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then(function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var a=[],o=function(o){var s=n[o];l=t.get(s).then(function(n){var a=!1;if(n)try{var o=e.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",s,o.created),o.created<=r&&(a=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),a=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),a=!0;if(a)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)}),a.push(l)},s=0;s<n.length;s++){var l;o(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",a.length),Promise.all(a)})},r(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(5),o=n(12),s=n(8),l=n(34),c=n(35),u=n(36),p=n(13),d=n(9);t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t instanceof a.OidcClientSettings?this._settings=t:this._settings=new a.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,a=t.redirect_uri,o=t.data,l=t.state,c=t.prompt,u=t.display,p=t.max_age,d=t.ui_locales,f=t.id_token_hint,h=t.login_hint,m=t.acr_values,g=t.resource,v=t.request,b=t.request_uri,y=t.response_mode,w=t.extraQueryParams,x=t.extraTokenParams,k=t.request_type,_=t.skipUserInfo,E=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var C=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,a=a||this._settings.redirect_uri,c=c||this._settings.prompt,u=u||this._settings.display,p=p||this._settings.max_age,d=d||this._settings.ui_locales,m=m||this._settings.acr_values,g=g||this._settings.resource,y=y||this._settings.response_mode,w=w||this._settings.extraQueryParams,x=x||this._settings.extraTokenParams;var S=this._settings.authority;return s.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var A=new s.SigninRequest({url:t,client_id:C,redirect_uri:a,response_type:n,scope:r,data:o||l,authority:S,prompt:c,display:u,max_age:p,ui_locales:d,id_token_hint:f,login_hint:h,acr_values:m,resource:g,request:v,request_uri:b,extraQueryParams:w,extraTokenParams:x,request_type:k,response_mode:y,client_secret:e._settings.client_secret,skipUserInfo:_}),T=A.state;return(E=E||e._stateStore).set(T.id,T.toStorageString()).then(function(){return A})})},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type)?"?":"#",a=new l.SigninResponse(e,r);return a.state?(t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(a.state).then(function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:p.SigninState.fromStorageString(e),response:a}})):(i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},e.prototype.processSigninResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then(function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)})},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,a=t.state,o=t.post_logout_redirect_uri,s=t.extraQueryParams,l=t.request_type,u=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),o=o||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var p=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:o,data:r||a,extraQueryParams:s,request_type:l}),d=p.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(u=u||e._stateStore).set(d.id,d.toStorageString())),p})},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new u.SignoutResponse(e);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new o.ErrorResponse(r))):Promise.resolve({state:void 0,response:r});var a=r.state;return t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(a).then(function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(e),response:r}})},e.prototype.processSignoutResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then(function(e){var t=e.state,r=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)})},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,d.State.clearStaleState(e,this.settings.staleStateAge)},r(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var r=n(7),i=n(2),a=n(0);t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw a.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new o(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=r?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(r){return a.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(r,t,n).then(function(e){return a.Log.debug("TokenClient.exchangeCode: response received"),e})})):(a.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(a.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(a.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(a.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(a.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(r){return a.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(r,t,n).then(function(e){return a.Log.debug("TokenClient.exchangeRefreshToken: response received"),e})})):(a.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(a.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(0);t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.error,a=n.error_description,o=n.error_uri,s=n.state,l=n.session_state;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!i)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a||i));return c.name="ErrorResponse",c.error=i,c.error_description=a,c.error_uri=o,c.state=s,c.session_state=l,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(9),o=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,a=n.client_id,l=n.redirect_uri,c=n.code_verifier,u=n.response_mode,p=n.client_secret,d=n.scope,f=n.extraTokenParams,h=n.skipUserInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));if(!0===r?m._nonce=(0,s.default)():r&&(m._nonce=r),!0===c?m._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():c&&(m._code_verifier=c),m.code_verifier){var g=o.JoseUtil.hashString(m.code_verifier,"SHA256");m._code_challenge=o.JoseUtil.hexToBase64Url(g)}return m._redirect_uri=l,m._authority=i,m._client_id=a,m._response_mode=u,m._client_secret=p,m._scope=d,m._extraTokenParams=f,m._skipUserInfo=h,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(a.State)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?i:a)().replace(/-/g,"")};var r="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^r.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}function a(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^16*Math.random()>>e/4).toString(16)})}e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.User=function(){function e(t){var n=t.id_token,r=t.session_state,i=t.access_token,a=t.refresh_token,o=t.token_type,s=t.scope,l=t.profile,c=t.expires_at,u=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=a,this.token_type=o,this.scope=s,this.profile=l,this.expires_at=c,this.state=u}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var r=n(0),i=n(46);t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,r=void 0===n?60:n,a=t.accessTokenExpiringTimer,o=void 0===a?new i.Timer("Access token expiring"):a,s=t.accessTokenExpiredTimer,l=void 0===s?new i.Timer("Access token expired"):s;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=o,this._accessTokenExpired=l}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex(function(t){return t===e});t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(19),o=n(1);t.SessionMonitor=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.CheckSessionIFrame,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Global.timer;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=r,this._timer=s,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(e){e?n._start(e):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then(function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),n._start(t)}).catch(function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)})}).catch(function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)}))}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then(function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,a=t._checkSessionInterval,o=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,a,o),t._checkSessionIFrame.load().then(function(){t._checkSessionIFrame.start(n)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)}))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval(function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then(function(t){var n={session_state:t.session_state};t.sub&&t.sid&&(n.profile={sub:t.sub,sid:t.sid}),e._start(n)}).catch(function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)})},1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then(function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))}).catch(function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())})},r(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var r=n(0);t.CheckSessionIFrame=function(){function e(t,n,r,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._callback=t,this._client_id=n,this._url=r,this._interval=i||2e3,this._stopOnError=a;var o=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,o),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=r}return e.prototype.load=function(){var e=this;return new Promise(function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)})},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var r=n(0),i=n(2),a=n(1);t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Global.XMLHttpRequest,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new o(this._settings)}return e.prototype.revoke=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==i&&"refresh_token"!=i)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(a){if(a){r.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var o=n._settings.client_id,s=n._settings.client_secret;return n._revoke(a,o,s,e,i)}if(t)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},e.prototype._revoke=function(e,t,n,i,a){var o=this;return new Promise(function(s,l){var c=new o._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?s():l(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),l("Network Error")};var u="client_id="+encodeURIComponent(t);n&&(u+="&client_secret="+encodeURIComponent(n)),u+="&token_type_hint="+encodeURIComponent(a),u+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(u)})},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.CordovaPopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(t){return e.hasOwnProperty(t)})},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(10),a=n(5),o=n(6),s=n(37),l=n(38),c=n(16),u=n(2),p=n(48),d=n(49),f=n(19),h=n(20),m=n(18),g=n(1),v=n(15),b=n(50);t.default={Version:b.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:a.OidcClientSettings,WebStorageStateStore:o.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:u.MetadataService,CordovaPopupNavigator:p.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:f.CheckSessionIFrame,TokenRevocationClient:h.TokenRevocationClient,SessionMonitor:m.SessionMonitor,Global:g.Global,User:v.User},e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),a=n(2),o=n(25),s=n(11),l=n(12),c=n(4),u=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UserInfoService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=l,this._tokenClient=new u(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e})})})},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then(function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=n._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var i in t){var a=t[i];Array.isArray(a)||(a=[a]);for(var o=0;o<a.length;o++){var s=a[o];n[i]?Array.isArray(n[i])?n[i].indexOf(s)<0&&n[i].push(s):n[i]!==s&&("object"===(void 0===s?"undefined":r(s))&&this._settings.mergeClaims?n[i]=this._mergeClaims(n[i],s):n[i]=[n[i],s]):n[i]=s}}return n},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(u.forEach(function(e){delete t[e]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,a={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===r(e.extraTokenParams)&&Object.assign(a,e.extraTokenParams),this._tokenClient.exchangeCode(a).then(function(r){for(var a in r)t[a]=r[a];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)})},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then(function(r){var a=e.client_id,o=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",o),n._settings.getEpochTime().then(function(s){return n._joseUtil.validateJwtAttributes(t.id_token,r,a,o,s).then(function(n){return e.nonce&&e.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then(function(e){return n._validateAccessToken(e)})},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then(function(n){var r=e.header.kid;if(!n)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var a=void 0;if(r)a=n.filter(function(e){return e.kid===r})[0];else{if((n=t._filterByAlg(n,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));a=n[0]}return Promise.resolve(a)})},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then(function(n){return n?Promise.resolve(n):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))})},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);return r&&r.header&&r.payload?e.nonce!==r.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(a){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._getSigningKeyForJwtWithSingleRetry(r).then(function(o){if(!o)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,l=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",l),n._joseUtil.validateJwt(t.id_token,o,a,s,l).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter(function(e){return e.kty===n}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var a="sha"+r,o=this._joseUtil.hashString(e.access_token,a);if(!o)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",a),Promise.reject(new Error("Failed to validate at_hash"));var s=o.substr(0,o.length/2),l=this._joseUtil.hexToBase64Url(s);return l!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",l,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var r=n(7),i=n(2),a=n(0),o=n(4);t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.JoseUtil;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw a.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new s(this._settings),this._joseUtil=l}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then(function(n){return a.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then(function(e){return a.Log.debug("UserInfoService.getClaims: claims received",e),e})}):(a.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var n=this;try{var r=this._joseUtil.parseJwt(t.responseText);if(!r||!r.header||!r.payload)return a.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,o=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":o=this._metadataService.getIssuer();break;case"ANY":o=Promise.resolve(r.payload.iss);break;default:o=Promise.resolve(this._settings.userInfoJwtIssuer)}return o.then(function(e){return a.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),n._metadataService.getSigningKeys().then(function(o){if(!o)return a.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));a.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=o.filter(function(e){return e.kid===i})[0];else{if((o=n._filterByAlg(o,r.header.alg)).length>1)return a.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=o[0]}if(!s)return a.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var l=n._settings.client_id,c=n._settings.clockSkew;return a.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.responseText,s,e,l,c,void 0,!0).then(function(){return a.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload})})})}catch(e){return a.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return a.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return a.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter(function(e){return e.kty===n}),a.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n(27);t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,o,s,l,c,u,p,d,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h={userAgent:!1},m={},g=g||(n=Math,i=(r={}).lib={},a=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new o.init(t,e)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,a=this.blockSize,s=i/(4*a),l=(s=e?n.ceil(s):n.max((0|s)-this._minBufferSize,0))*a,c=n.min(4*l,i);if(l){for(var u=0;u<l;u+=a)this._doProcessBlock(r,u);var p=r.splice(0,l);t.sigBytes-=c}return new o.init(p,c)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),d=r.algo={},r);!function(){var e,t=(e=g).lib,n=t.Base,r=t.WordArray;(e=e.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),e.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var a=e[i];n.push(a.high),n.push(a.low)}return r.create(n,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),function(){var e=g,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<n;o++)e.push(r.charAt(a>>>6*(3-o)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r.indexOf(e.charAt(o-1))<<o%4*2,l=r.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|l)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=g,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,a=[],o=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var u;e:{u=l;for(var p=e.sqrt(u),d=2;d<=p;d++)if(!(u%d)){u=!1;break e}u=!0}u&&(8>c&&(a[c]=s(e.pow(l,.5))),o[c]=s(e.pow(l,1/3)),c++),l++}var f=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],p=n[7],d=0;64>d;d++){if(16>d)f[d]=0|e[t+d];else{var h=f[d-15],m=f[d-2];f[d]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+f[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+f[d-16]}h=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&u)+o[d]+f[d],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&a^i&a),p=u,u=c,c=l,l=s+h|0,s=a,a=i,i=r,r=h+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+u|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=g,n=t.lib.Hasher,r=(a=t.x64).Word,i=a.WordArray,a=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],l=0;80>l;l++)s[l]=e();a=a.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(p=this._hash.words)[0],r=p[1],i=p[2],a=p[3],l=p[4],c=p[5],u=p[6],p=p[7],d=n.high,f=n.low,h=r.high,m=r.low,g=i.high,v=i.low,b=a.high,y=a.low,w=l.high,x=l.low,k=c.high,_=c.low,E=u.high,C=u.low,S=p.high,A=p.low,T=d,R=f,P=h,F=m,I=g,N=v,O=b,L=y,j=w,M=x,D=k,U=_,B=E,z=C,H=S,q=A,$=0;80>$;$++){var W=s[$];if(16>$)var V=W.high=0|e[t+2*$],G=W.low=0|e[t+2*$+1];else{V=((G=(V=s[$-15]).high)>>>1|(K=V.low)<<31)^(G>>>8|K<<24)^G>>>7;var K=(K>>>1|G<<31)^(K>>>8|G<<24)^(K>>>7|G<<25),J=((G=(J=s[$-2]).high)>>>19|(Q=J.low)<<13)^(G<<3|Q>>>29)^G>>>6,Q=(Q>>>19|G<<13)^(Q<<3|G>>>29)^(Q>>>6|G<<26),Y=(G=s[$-7]).high,X=(Z=s[$-16]).high,Z=Z.low;V=(V=(V=V+Y+((G=K+G.low)>>>0<K>>>0?1:0))+J+((G+=Q)>>>0<Q>>>0?1:0))+X+((G+=Z)>>>0<Z>>>0?1:0),W.high=V,W.low=G}Y=j&D^~j&B,Z=M&U^~M&z,W=T&P^T&I^P&I;var ee=R&F^R&N^F&N,te=(K=(T>>>28|R<<4)^(T<<30|R>>>2)^(T<<25|R>>>7),J=(R>>>28|T<<4)^(R<<30|T>>>2)^(R<<25|T>>>7),(Q=o[$]).high),ne=Q.low;X=H+((j>>>14|M<<18)^(j>>>18|M<<14)^(j<<23|M>>>9))+((Q=q+((M>>>14|j<<18)^(M>>>18|j<<14)^(M<<23|j>>>9)))>>>0<q>>>0?1:0),H=B,q=z,B=D,z=U,D=j,U=M,j=O+(X=(X=(X=X+Y+((Q+=Z)>>>0<Z>>>0?1:0))+te+((Q+=ne)>>>0<ne>>>0?1:0))+V+((Q+=G)>>>0<G>>>0?1:0))+((M=L+Q|0)>>>0<L>>>0?1:0)|0,O=I,L=N,I=P,N=F,P=T,F=R,T=X+(W=K+W+((G=J+ee)>>>0<J>>>0?1:0))+((R=Q+G|0)>>>0<Q>>>0?1:0)|0}f=n.low=f+R,n.high=d+T+(f>>>0<R>>>0?1:0),m=r.low=m+F,r.high=h+P+(m>>>0<F>>>0?1:0),v=i.low=v+N,i.high=g+I+(v>>>0<N>>>0?1:0),y=a.low=y+L,a.high=b+O+(y>>>0<L>>>0?1:0),x=l.low=x+M,l.high=w+j+(x>>>0<M>>>0?1:0),_=c.low=_+U,c.high=k+D+(_>>>0<U>>>0?1:0),C=u.low=C+z,u.high=E+B+(C>>>0<z>>>0?1:0),A=p.low=A+q,p.high=S+H+(A>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(a),t.HmacSHA512=n._createHmacHelper(a)}(),function(){var e=g,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var v,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function y(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=b.charAt(n>>6)+b.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=b.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=b.charAt(n>>2)+b.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function w(e){var t,n,r,i="",a=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=b.indexOf(e.charAt(t)))<0||(0==a?(i+=A(r>>2),n=3&r,a=1):1==a?(i+=A(n<<2|r>>4),n=15&r,a=2):2==a?(i+=A(n),i+=A(r>>2),n=3&r,a=3):(i+=A(n<<2|r>>4),i+=A(15&r),a=0));return 1==a&&(i+=A(n<<2)),i}function x(e){var t,n=w(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function k(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function _(){return new k(null)}"Microsoft Internet Explorer"==h.appName?(k.prototype.am=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*o;i=((l=o*l+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*c+(i>>>30),n[r++]=1073741823&l}return i},v=30):"Netscape"!=h.appName?(k.prototype.am=function(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},v=26):(k.prototype.am=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*o;i=((l=o*l+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return i},v=28),k.prototype.DB=v,k.prototype.DM=(1<<v)-1,k.prototype.DV=1<<v,k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-v,k.prototype.F2=2*v-52;var E,C,S=new Array;for(E="0".charCodeAt(0),C=0;C<=9;++C)S[E++]=C;for(E="a".charCodeAt(0),C=10;C<36;++C)S[E++]=C;for(E="A".charCodeAt(0),C=10;C<36;++C)S[E++]=C;function A(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var n=S[e.charCodeAt(t)];return null==n?-1:n}function R(e){var t=_();return t.fromInt(e),t}function P(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function F(e){this.m=e}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function N(e,t){return e&t}function O(e,t){return e|t}function L(e,t){return e^t}function j(e,t){return e&~t}function M(e){if(0==e)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function D(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function U(){}function B(e){return e}function z(e){this.r2=_(),this.q3=_(),k.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}F.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},F.prototype.revert=function(e){return e},F.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},F.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},F.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},I.prototype.convert=function(e){var t=_();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(k.ZERO)>0&&this.m.subTo(t,t),t},I.prototype.revert=function(e){var t=_();return e.copyTo(t),this.reduce(t),t},I.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},k.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},k.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},k.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,a=0;--r>=0;){var o=8==n?255&e[r]:T(e,r);o<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this[this.t++]=o:a+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&!!(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&k.ZERO.subTo(this,this)},k.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},k.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},k.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},k.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},k.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},k.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},k.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&k.ZERO.subTo(t,t)},k.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},k.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=_());var a=_(),o=this.s,s=e.s,l=this.DB-P(r[r.t-1]);l>0?(r.lShiftTo(l,a),i.lShiftTo(l,n)):(r.copyTo(a),i.copyTo(n));var c=a.t,u=a[c-1];if(0!=u){var p=u*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),d=this.FV/p,f=(1<<this.F1)/p,h=1<<this.F2,m=n.t,g=m-c,v=null==t?_():t;for(a.dlShiftTo(g,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),k.ONE.dlShiftTo(c,v),v.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--g>=0;){var b=n[--m]==u?this.DM:Math.floor(n[m]*d+(n[m-1]+h)*f);if((n[m]+=a.am(0,b,n,g,0,c))<b)for(a.dlShiftTo(g,v),n.subTo(v,n);n[m]<--b;)n.subTo(v,n)}null!=t&&(n.drShiftTo(c,t),o!=s&&k.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),o<0&&k.ZERO.subTo(n,n)}}},k.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},k.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},k.prototype.exp=function(e,t){if(e>4294967295||e<1)return k.ONE;var n=_(),r=_(),i=t.convert(this),a=P(e)-1;for(i.copyTo(n);--a>=0;)if(t.sqrTo(n,r),(e&1<<a)>0)t.mulTo(r,i,n);else{var o=n;n=r,r=o}return t.revert(n)},k.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=A(n));o>=0;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=A(n));return i?a:"0"},k.prototype.negate=function(){var e=_();return k.ZERO.subTo(this,e),e},k.prototype.abs=function(){return this.s<0?this.negate():this},k.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},k.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+P(this[this.t-1]^this.s&this.DM)},k.prototype.mod=function(e){var t=_();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(k.ZERO)>0&&e.subTo(t,t),t},k.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new F(t):new I(t),this.exp(e,n)},k.ZERO=R(0),k.ONE=R(1),U.prototype.convert=B,U.prototype.revert=B,U.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},U.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=_();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var H,q,$,W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],V=(1<<26)/W[W.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function G(){this.i=0,this.j=0,this.S=new Array}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function K(){!function(e){q[$++]^=255&e,q[$++]^=e>>8&255,q[$++]^=e>>16&255,q[$++]^=e>>24&255,$>=256&&($-=256)}((new Date).getTime())}if(k.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},k.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=R(n),i=_(),a=_(),o="";for(this.divRemTo(r,i,a);i.signum()>0;)o=(n+a.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,a);return a.intValue().toString(e)+o},k.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,o=0,s=0;s<e.length;++s){var l=T(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(o=t*o+l,++a>=n&&(this.dMultiply(r),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&k.ZERO.subTo(this,this)},k.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(k.ONE.shiftLeft(e-1),O,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(k.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},k.prototype.bitwiseTo=function(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;r<a;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},k.prototype.changeBit=function(e,t){var n=k.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},k.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},k.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},k.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},k.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},k.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},k.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},k.prototype.millerRabin=function(e){var t=this.subtract(k.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>W.length&&(e=W.length);for(var i=_(),a=0;a<e;++a){i.fromInt(W[Math.floor(Math.random()*W.length)]);var o=i.modPow(r,this);if(0!=o.compareTo(k.ONE)&&0!=o.compareTo(t)){for(var s=1;s++<n&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(k.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},k.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var e=_();return this.copyTo(e),e},k.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},k.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},k.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},k.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},k.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),!!(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},k.prototype.equals=function(e){return 0==this.compareTo(e)},k.prototype.min=function(e){return this.compareTo(e)<0?this:e},k.prototype.max=function(e){return this.compareTo(e)>0?this:e},k.prototype.and=function(e){var t=_();return this.bitwiseTo(e,N,t),t},k.prototype.or=function(e){var t=_();return this.bitwiseTo(e,O,t),t},k.prototype.xor=function(e){var t=_();return this.bitwiseTo(e,L,t),t},k.prototype.andNot=function(e){var t=_();return this.bitwiseTo(e,j,t),t},k.prototype.not=function(){for(var e=_(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},k.prototype.shiftLeft=function(e){var t=_();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},k.prototype.shiftRight=function(e){var t=_();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},k.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+M(this[e]);return this.s<0?this.t*this.DB:-1},k.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=D(this[n]^t);return e},k.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},k.prototype.setBit=function(e){return this.changeBit(e,O)},k.prototype.clearBit=function(e){return this.changeBit(e,j)},k.prototype.flipBit=function(e){return this.changeBit(e,L)},k.prototype.add=function(e){var t=_();return this.addTo(e,t),t},k.prototype.subtract=function(e){var t=_();return this.subTo(e,t),t},k.prototype.multiply=function(e){var t=_();return this.multiplyTo(e,t),t},k.prototype.divide=function(e){var t=_();return this.divRemTo(e,t,null),t},k.prototype.remainder=function(e){var t=_();return this.divRemTo(e,null,t),t},k.prototype.divideAndRemainder=function(e){var t=_(),n=_();return this.divRemTo(e,t,n),new Array(t,n)},k.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),a=R(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new F(t):t.isEven()?new z(t):new I(t);var o=new Array,s=3,l=n-1,c=(1<<n)-1;if(o[1]=r.convert(this),n>1){var u=_();for(r.sqrTo(o[1],u);s<=c;)o[s]=_(),r.mulTo(u,o[s-2],o[s]),s+=2}var p,d,f=e.t-1,h=!0,m=_();for(i=P(e[f])-1;f>=0;){for(i>=l?p=e[f]>>i-l&c:(p=(e[f]&(1<<i+1)-1)<<l-i,f>0&&(p|=e[f-1]>>this.DB+i-l)),s=n;!(1&p);)p>>=1,--s;if((i-=s)<0&&(i+=this.DB,--f),h)o[p].copyTo(a),h=!1;else{for(;s>1;)r.sqrTo(a,m),r.sqrTo(m,a),s-=2;s>0?r.sqrTo(a,m):(d=a,a=m,m=d),r.mulTo(m,o[p],a)}for(;f>=0&&!(e[f]&1<<i);)r.sqrTo(a,m),d=a,a=m,m=d,--i<0&&(i=this.DB-1,--f)}return r.revert(a)},k.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return k.ZERO;for(var n=e.clone(),r=this.clone(),i=R(1),a=R(0),o=R(0),s=R(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(o,i),a.subTo(s,a)):(r.subTo(n,r),t&&o.subTo(i,o),s.subTo(a,s))}return 0!=r.compareTo(k.ONE)?k.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},k.prototype.pow=function(e){return this.exp(e,new U)},k.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n},k.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=W[W.length-1]){for(t=0;t<W.length;++t)if(n[0]==W[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<W.length;){for(var r=W[t],i=t+1;i<W.length&&r<V;)r*=W[i++];for(r=n.modInt(r);t<i;)if(r%W[t++]==0)return!1}return n.millerRabin(e)},k.prototype.square=function(){var e=_();return this.squareTo(e),e},G.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==q){var J;if(q=new Array,$=0,void 0!==m&&(void 0!==m.crypto||void 0!==m.msCrypto)){var Q=m.crypto||m.msCrypto;if(Q.getRandomValues){var Y=new Uint8Array(32);for(Q.getRandomValues(Y),J=0;J<32;++J)q[$++]=Y[J]}else if("Netscape"==h.appName&&h.appVersion<"5"){var X=m.crypto.random(32);for(J=0;J<X.length;++J)q[$++]=255&X.charCodeAt(J)}}for(;$<256;)J=Math.floor(65536*Math.random()),q[$++]=J>>>8,q[$++]=255&J;$=0,K()}function Z(){if(null==H){for(K(),(H=new G).init(q),$=0;$<q.length;++$)q[$]=0;$=0}return H.next()}function ee(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function te(e,t){return new k(e,t)}function ne(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function re(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function ie(e,t){this.x=t,this.q=e}function ae(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?k.ONE:r,this.zinv=null}function oe(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new ae(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Z()},re.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},re.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},re.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var a=new ee,o=new Array;t>2;){for(o[0]=0;0==o[0];)a.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new k(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 1&r.length?"0"+r:r},re.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=le.crypto.MessageDigest,a=le.crypto.Util,o=null;if(n||(n="sha1"),"string"==typeof n&&(o=i.getCanonicalAlgName(n),r=i.getHashLength(o),n=function(e){return ke(a.hashHex(_e(e),o))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,l="";for(s=0;s<t-e.length-2*r-2;s+=1)l+="\0";var c=n("")+l+""+e,u=new Array(r);(new ee).nextBytes(u);var p=ne(u,c.length,n),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^p.charCodeAt(s);var f=ne(d,u.length,n),h=[0];for(s=0;s<u.length;s+=1)h[s+1]=u[s]^f.charCodeAt(s);return new k(h.concat(d))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var a=i.toString(16);return 1&a.length?"0"+a:a},re.prototype.type="RSA",ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ie.prototype.toBigInteger=function(){return this.x},ie.prototype.negate=function(){return new ie(this.q,this.x.negate().mod(this.q))},ie.prototype.add=function(e){return new ie(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ie.prototype.subtract=function(e){return new ie(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ie.prototype.multiply=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ie.prototype.square=function(){return new ie(this.q,this.x.square().mod(this.q))},ie.prototype.divide=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(k.ZERO.equals(n))return k.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new k("3"),i=this.x.toBigInteger(),a=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=o.multiply(n),l=i.multiply(o),c=t.square().multiply(this.z),u=c.subtract(l.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),p=l.multiply(r).multiply(t).subtract(a.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),d=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(p),d)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new k("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),a=this.curve.a.toBigInteger(),o=t.square().multiply(e);k.ZERO.equals(a)||(o=o.add(this.z.square().multiply(a)));var s=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),l=o.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(l),c)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new k("3")),i=this.negate(),a=this,o=this.curve.q.subtract(e),s=o.multiply(new k("3")),l=new ae(this.curve,this.x,this.y),c=l.negate();for(t=r.bitLength()-2;t>0;--t){a=a.twice();var u=r.testBit(t);u!=n.testBit(t)&&(a=a.add(u?this:i))}for(t=s.bitLength()-2;t>0;--t){l=l.twice();var p=s.testBit(t);p!=o.testBit(t)&&(l=l.add(p?l:c))}return a},ae.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(a):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},oe.prototype.getQ=function(){return this.q},oe.prototype.getA=function(){return this.a},oe.prototype.getB=function(){return this.b},oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},oe.prototype.getInfinity=function(){return this.infinity},oe.prototype.fromBigInteger=function(e){return new ie(this.q,e)},oe.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new k(n,16)),this.fromBigInteger(new k(r,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
ie.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},ae.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var a=new k(r),o=new k(i);return new ae(e,e.fromBigInteger(a),e.fromBigInteger(o))},ae.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),a=new k(r,16),o=new k(i,16);return new ae(e,e.fromBigInteger(a),e.fromBigInteger(o))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ae(this.curve,r,i)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(k.valueOf(2)),t=this.curve.fromBigInteger(k.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ae(this.curve,r,i)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new k("3")),i=this.negate(),a=this;for(t=r.bitLength()-2;t>0;--t){a=a.twice();var o=r.testBit(t);o!=n.testBit(t)&&(a=a.add2D(o?this:i))}return a},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),a=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return a.equals(o)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(k.ONE)<0||t.compareTo(e.subtract(k.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(k.ONE)<0||n.compareTo(e.subtract(k.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var se=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),a=Object.hasOwnProperty;return function(n,o){var s,l,c=n.match(e),u=c[0],p=!1;"{"===u?s={}:"["===u?s=[]:(s=[],p=!0);for(var d=[s],h=1-p,m=c.length;h<m;++h){var g;switch((u=c[h]).charCodeAt(0)){default:(g=d[0])[l||g.length]=+u,l=void 0;break;case 34:if(-1!==(u=u.substring(1,u.length-1)).indexOf("\\")&&(u=u.replace(t,r)),g=d[0],!l){if(!(g instanceof Array)){l=u||i;break}l=g.length}g[l]=u,l=void 0;break;case 91:g=d[0],d.unshift(g[l||g.length]=[]),l=void 0;break;case 93:case 125:d.shift();break;case 102:(g=d[0])[l||g.length]=!1,l=void 0;break;case 110:(g=d[0])[l||g.length]=null,l=void 0;break;case 116:(g=d[0])[l||g.length]=!0,l=void 0;break;case 123:g=d[0],d.unshift(g[l||g.length]={}),l=void 0}}if(p){if(1!==d.length)throw new Error;s=s[0]}else if(d.length)throw new Error;return o&&(s=function e(t,n){var r=t[n];if(r&&"object"===(void 0===r?"undefined":f(r))){var i=null;for(var s in r)if(a.call(r,s)&&r!==t){var l=e(r,s);void 0!==l?r[s]=l:(i||(i=[]),i.push(s))}if(i)for(var c=i.length;--c>=0;)delete r[i[c]]}return o.call(t,n,r)}({"":s},"")),s}}();void 0!==le&&le||(t.KJUR=le={}),void 0!==le.asn1&&le.asn1||(le.asn1={}),le.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new k(r,16).xor(e).add(k.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Ae(e,t)},this.newObject=function(e){var t=le.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,a=t.DERBitString,o=t.DEROctetString,s=t.DERNull,l=t.DERObjectIdentifier,c=t.DEREnumerated,u=t.DERUTF8String,p=t.DERNumericString,d=t.DERPrintableString,f=t.DERTeletexString,h=t.DERIA5String,m=t.DERUTCTime,g=t.DERGeneralizedTime,v=t.DERVisibleString,b=t.DERBMPString,y=t.DERSequence,w=t.DERSet,x=t.DERTaggedObject,k=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var _=Object.keys(e);if(1!=_.length)throw new Error("key of param shall be only one.");var E=_[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new a(e[E]);if("octstr"==E)return new o(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new l(e[E]);if("enum"==E)return new c(e[E]);if("utf8str"==E)return new u(e[E]);if("numstr"==E)return new p(e[E]);if("prnstr"==E)return new d(e[E]);if("telstr"==E)return new f(e[E]);if("ia5str"==E)return new h(e[E]);if("utctime"==E)return new m(e[E]);if("gentime"==E)return new g(e[E]);if("visstr"==E)return new v(e[E]);if("bmpstr"==E)return new b(e[E]);if("asn1"==E)return new n(e[E]);if("seq"==E){for(var C=e[E],S=[],A=0;A<C.length;A++){var T=k(C[A]);S.push(T)}return new y({array:S})}if("set"==E){for(C=e[E],S=[],A=0;A<C.length;A++)T=k(C[A]),S.push(T);return new w({array:S})}if("tag"==E){var R=e[E];if("[object Array]"===Object.prototype.toString.call(R)&&3==R.length){var P=k(R[2]);return new x({tag:R[0],explicit:R[1],obj:P})}return new x(R)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},le.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var a=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=a.substr(1,7),"0"==a.substr(0,1)&&(t=t+"."+new k(r,2).toString(10),r="")}return t},le.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new k(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";for(r=a+r,o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r},le.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},le.asn1.DERAbstractString=function(e){le.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=we(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},ze(le.asn1.DERAbstractString,le.asn1.ASN1Object),le.asn1.DERAbstractTime=function(e){le.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),a=String(i.getFullYear());"utc"==t&&(a=a.substr(2,2));var o=a+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var l=r(String(s),3);o=o+"."+(l=l.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=me(e)},this.setByDateValue=function(e,t,n,r,i,a){var o=new Date(Date.UTC(e,t-1,n,r,i,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},ze(le.asn1.DERAbstractTime,le.asn1.ASN1Object),le.asn1.DERAbstractStructured=function(e){le.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},ze(le.asn1.DERAbstractStructured,le.asn1.ASN1Object),le.asn1.DERBoolean=function(e){le.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},ze(le.asn1.DERBoolean,le.asn1.ASN1Object),le.asn1.DERInteger=function(e){le.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=le.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},ze(le.asn1.DERInteger,le.asn1.ASN1Object),le.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=le.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}le.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),a=parseInt(i,2).toString(16);1==a.length&&(a="0"+a),r+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},ze(le.asn1.DERBitString,le.asn1.ASN1Object),le.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=le.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}le.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},ze(le.asn1.DEROctetString,le.asn1.DERAbstractString),le.asn1.DERNull=function(){le.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ze(le.asn1.DERNull,le.asn1.ASN1Object),le.asn1.DERObjectIdentifier=function(e){le.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";for(r=a+r,o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),a=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=le.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},ze(le.asn1.DERObjectIdentifier,le.asn1.ASN1Object),le.asn1.DEREnumerated=function(e){le.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=le.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},ze(le.asn1.DEREnumerated,le.asn1.ASN1Object),le.asn1.DERUTF8String=function(e){le.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},ze(le.asn1.DERUTF8String,le.asn1.DERAbstractString),le.asn1.DERNumericString=function(e){le.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},ze(le.asn1.DERNumericString,le.asn1.DERAbstractString),le.asn1.DERPrintableString=function(e){le.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},ze(le.asn1.DERPrintableString,le.asn1.DERAbstractString),le.asn1.DERTeletexString=function(e){le.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},ze(le.asn1.DERTeletexString,le.asn1.DERAbstractString),le.asn1.DERIA5String=function(e){le.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},ze(le.asn1.DERIA5String,le.asn1.DERAbstractString),le.asn1.DERVisibleString=function(e){le.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},ze(le.asn1.DERVisibleString,le.asn1.DERAbstractString),le.asn1.DERBMPString=function(e){le.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},ze(le.asn1.DERBMPString,le.asn1.DERAbstractString),le.asn1.DERUTCTime=function(e){le.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},ze(le.asn1.DERUTCTime,le.asn1.DERAbstractTime),le.asn1.DERGeneralizedTime=function(e){le.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},ze(le.asn1.DERGeneralizedTime,le.asn1.DERAbstractTime),le.asn1.DERSequence=function(e){le.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},ze(le.asn1.DERSequence,le.asn1.DERAbstractStructured),le.asn1.DERSet=function(e){le.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},ze(le.asn1.DERSet,le.asn1.DERAbstractStructured),le.asn1.DERTaggedObject=function(e){le.asn1.DERTaggedObject.superclass.constructor.call(this);var t=le.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==f(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},ze(le.asn1.DERTaggedObject,le.asn1.ASN1Object);var le,ce,ue,pe=new function(){};function de(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function fe(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function he(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function me(e){return he(de(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ve(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function be(e){return e.length%2==1&&(e="0"+e),ge(y(e))}function ye(e){return w(ve(e))}function we(e){return Fe(Me(e))}function xe(e){return decodeURIComponent(Ie(e))}function ke(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function _e(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ee(e){return y(e)}function Ce(e){var t=Ee(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Se(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ae(e,t){return"-----BEGIN "+t+"-----\r\n"+Ce(e)+"\r\n-----END "+t+"-----\r\n"}function Te(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Se(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Re(e){var t,n,r,i,a,o,s,l,c,u,p;if(p=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=p[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(p[2])-1,r=parseInt(p[3]),i=parseInt(p[4]),a=parseInt(p[5]),o=parseInt(p[6]),s=0,""!==(c=p[7])&&(u=(c.substr(1)+"00").substr(0,3),s=parseInt(u)),Date.UTC(t,n,r,i,a,o,s);throw"unsupported zulu format: "+e}function Pe(e){return~~(Re(e)/1e3)}function Fe(e){return e.replace(/%/g,"")}function Ie(e){return e.replace(/(..)/g,"%$1")}function Ne(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var a=0;a<8;a++)i[a]=("0000"+i[a]).slice(-4);return i.join("")}function Oe(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function Le(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Oe(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function je(e){return e.match(/.{4}/g).map(function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return xe((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return xe((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))}).join("")}function Me(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+me(t[r]);return n}function De(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Ue(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}pe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},pe.getL=function(e,t){var n=pe.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},pe.getVblen=function(e,t){var n;return""==(n=pe.getL(e,t))?-1:("8"===n.substr(0,1)?new k(n.substr(2),16):new k(n,16)).intValue()},pe.getVidx=function(e,t){var n=pe.getLblen(e,t);return n<0?n:t+2*(n+1)},pe.getV=function(e,t){var n=pe.getVidx(e,t),r=pe.getVblen(e,t);return e.substr(n,2*r)},pe.getTLV=function(e,t){return e.substr(t,2)+pe.getL(e,t)+pe.getV(e,t)},pe.getTLVblen=function(e,t){return 2+2*pe.getLblen(e,t)+2*pe.getVblen(e,t)},pe.getNextSiblingIdx=function(e,t){return pe.getVidx(e,t)+2*pe.getVblen(e,t)},pe.getChildIdx=function(e,t){var n,r,i,a=pe,o=[];n=a.getVidx(e,t),r=2*a.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var l=a.getTLVblen(e,s);if((i+=l)<=r&&o.push(s),s+=l,i>=r)break}return o},pe.getNthChildIdx=function(e,t,n){return pe.getChildIdx(e,t)[n]},pe.getIdxbyList=function(e,t,n,r){var i,a,o=pe;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(a=o.getChildIdx(e,t)).length?-1:o.getIdxbyList(e,a[i],n,r)},pe.getIdxbyListEx=function(e,t,n,r){var i,a,o=pe;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),a=o.getChildIdx(e,t);for(var s=0,l=0;l<a.length;l++){var c=e.substr(a[l],2);if("number"==typeof i&&!o.isContextTag(c)&&s==i||"string"==typeof i&&o.isContextTag(c,i))return o.getIdxbyListEx(e,a[l],n,r);o.isContextTag(c)||s++}return-1},pe.getTLVbyList=function(e,t,n,r){var i=pe,a=i.getIdxbyList(e,t,n,r);return-1==a||a>=e.length?null:i.getTLV(e,a)},pe.getTLVbyListEx=function(e,t,n,r){var i=pe,a=i.getIdxbyListEx(e,t,n,r);return-1==a?null:i.getTLV(e,a)},pe.getVbyList=function(e,t,n,r,i){var a,o,s=pe;return-1==(a=s.getIdxbyList(e,t,n,r))||a>=e.length?null:(o=s.getV(e,a),!0===i&&(o=o.substr(2)),o)},pe.getVbyListEx=function(e,t,n,r,i){var a,o,s=pe;return-1==(a=s.getIdxbyListEx(e,t,n,r))?null:(o=s.getV(e,a),"03"==e.substr(a,2)&&!1!==i&&(o=o.substr(2)),o)},pe.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=pe.getV(e,t);return"02"==r?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16),r=e.substr(2),i=parseInt(r,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-n),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return n}},pe.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:function(e){if(!De(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),a=[],o=0;o<i.length/2;o++)a.push(parseInt(i.substr(2*o,2),16));var s=[],l="";for(o=0;o<a.length;o++)128&a[o]?l+=Be((127&a[o]).toString(2),7):(l+=Be((127&a[o]).toString(2),7),s.push(new String(parseInt(l,2))),l="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}(pe.getV(e,t))}catch(e){return n}},pe.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=pe.getOID(e,t,n);if(r==n)return n;var i=le.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},pe.getString=function(e,t,n){null==n&&(n=null);try{return ke(pe.getV(e,t))}catch(e){return n}},pe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var a=e.substr(2),o=[],s=0;s<a.length/2;s++)o.push(parseInt(a.substr(2*s,2),16));var l=[],c="";for(s=0;s<o.length;s++)128&o[s]?c+=t((127&o[s]).toString(2),7):(c+=t((127&o[s]).toString(2),7),l.push(new String(parseInt(c,2))),c="");var u=n.join(".");return l.length>0&&(u=u+"."+l.join(".")),u},pe.dump=function(e,t,n,r){var i=pe,a=i.getV,o=i.dump,s=i.getChildIdx,l=e;e instanceof le.asn1.ASN1Object&&(l=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var u,p=t.ommit_long_octet;if("01"==(u=l.substr(n,2)))return"00"==(d=a(l,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==u)return r+"INTEGER "+c(d=a(l,n),p)+"\n";if("03"==u){var d=a(l,n);return i.isASN1HEX(d.substr(2))?(x=r+"BITSTRING, encapsulates\n")+o(d.substr(2),t,0,r+"  "):r+"BITSTRING "+c(d,p)+"\n"}if("04"==u)return d=a(l,n),i.isASN1HEX(d)?(x=r+"OCTETSTRING, encapsulates\n")+o(d,t,0,r+"  "):r+"OCTETSTRING "+c(d,p)+"\n";if("05"==u)return r+"NULL\n";if("06"==u){var f=a(l,n),h=le.asn1.ASN1Util.oidHexToInt(f),m=le.asn1.x509.OID.oid2name(h),g=h.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==u)return r+"ENUMERATED "+parseInt(a(l,n))+"\n";if("0c"==u)return r+"UTF8String '"+xe(a(l,n))+"'\n";if("13"==u)return r+"PrintableString '"+xe(a(l,n))+"'\n";if("14"==u)return r+"TeletexString '"+xe(a(l,n))+"'\n";if("16"==u)return r+"IA5String '"+xe(a(l,n))+"'\n";if("17"==u)return r+"UTCTime "+xe(a(l,n))+"\n";if("18"==u)return r+"GeneralizedTime "+xe(a(l,n))+"\n";if("1a"==u)return r+"VisualString '"+xe(a(l,n))+"'\n";if("1e"==u)return r+"BMPString '"+je(a(l,n))+"'\n";if("30"==u){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";x=r+"SEQUENCE\n";var v=t;if((2==(w=s(l,n)).length||3==w.length)&&"06"==l.substr(w[0],2)&&"04"==l.substr(w[w.length-1],2)){m=i.oidname(a(l,w[0]));var b=JSON.parse(JSON.stringify(t));b.x509ExtName=m,v=b}for(var y=0;y<w.length;y++)x+=o(l,v,w[y],r+"  ");return x}if("31"==u){x=r+"SET\n";var w=s(l,n);for(y=0;y<w.length;y++)x+=o(l,t,w[y],r+"  ");return x}if(128&(u=parseInt(u,16))){var x,k=31&u;if(32&u){for(x=r+"["+k+"]\n",w=s(l,n),y=0;y<w.length;y++)x+=o(l,t,w[y],r+"  ");return x}return d=a(l,n),pe.isASN1HEX(d)?(x=r+"["+k+"]\n")+o(d,t,0,r+"  "):(("68747470"==d.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==k)&&(d=xe(d)),r+"["+k+"] "+d+"\n")}return r+"UNKNOWN("+u+") "+a(l,n)+"\n"},pe.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},pe.isASN1HEX=function(e){var t=pe;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},pe.checkStrictDER=function(e,t,n,r,i){var a=pe;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!le.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(a.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var o=a.getVblen(e,t);if(o>r)throw new Error("value of L too long than hex: idx="+t);var s=a.getTLV(e,t),l=s.length-2-a.getL(e,t).length;if(l!==2*o)throw new Error("V string length and L's value not the same:"+l+"/"+2*o);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var u=a.getVidx(e,t);if("00"==e.substr(u,2)&&e.charCodeAt(u+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var p=a.getVblen(e,t),d=0,f=a.getChildIdx(e,t),h=0;h<f.length;h++)d+=a.getTLV(e,f[h]).length,a.checkStrictDER(e,f[h],n,r,i);if(2*p!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*p+"!="+d)}},pe.oidname=function(e){var t=le.asn1;le.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.lang&&le.lang||(le.lang={}),le.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=ce=function(t){return ge(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=ue=function(t){return e.from(ve(t),"base64").toString("utf8")}):(t.utf8tob64u=ce=function(e){return be(Fe(Me(e)))},t.b64utoutf8=ue=function(e){return decodeURIComponent(Ie(ye(e)))}),le.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},le.lang.String.isHex=function(e){return De(e)},le.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},le.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ve(e),le.lang.String.isBase64(e))},le.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},le.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},le.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},le.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function ze(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var a="0001",o="00"+r,s="",l=i-4-o.length,c=0;c<l;c+=2)s+="ff";return a+s+o},this.hashString=function(e,t){return new le.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new le.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof re||e instanceof le.crypto.DSA||e instanceof le.crypto.ECDSA}},le.crypto.Util.md5=function(e){return new le.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},le.crypto.Util.ripemd160=function(e){return new le.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},le.crypto.Util.SECURERANDOMGEN=new ee,le.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return le.crypto.Util.SECURERANDOMGEN.nextBytes(t),he(t)},le.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new k(le.crypto.Util.getRandomHexOfNbytes(e),16)},le.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return le.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],he(n)},le.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new k(le.crypto.Util.getRandomHexOfNbits(e),16)},le.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=le.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},le.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return le.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},le.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=le.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=le.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=le.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},le.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},le.crypto.MessageDigest.getHashLength=function(e){var t=le.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},le.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},le.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=le.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=le.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=g.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=_e(e)),void(this.pass=g.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":f(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=we(e.utf8)),void 0!==e.rstr&&(t=_e(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=ye(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=g.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},le.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new le.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==le.crypto.ECDSA&&(this.prvKey=new le.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof re&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof le.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof le.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==le.crypto.ECDSA&&(this.pubKey=new le.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof re&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==le.crypto.ECDSA&&this.pubKey instanceof le.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==le.crypto.DSA&&this.pubKey instanceof le.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},le.crypto.Cipher=function(e){},le.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof re&&t.isPublic){var r=le.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},le.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof re&&t.isPrivate){var r=le.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},le.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof re){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},le.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.ECDSA=function(e){var t=Error,n=k,r=ae,i=le.crypto.ECDSA,a=le.crypto.ECParameterDB,o=i.getName,s=pe,l=s.getVbyListEx,c=s.isASN1HEX,u=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),u).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),a=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-a),s="04"+("0000000000"+r.toString(16)).slice(-a)+("0000000000"+i.toString(16)).slice(-a);return this.setPrivateKeyHex(o),this.setPublicKeyHex(s),{ecprvhex:o,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),a=this.ecparams.n,o=new n(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(a),l=this.ecparams.G.multiply(s).getX().toBigInteger().mod(a)}while(l.compareTo(n.ZERO)<=0);var c=s.modInverse(a).multiply(o.add(r.multiply(l))).mod(a);return i.biRSSigToASN1Sig(l,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,a=n.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(i),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(s.compareTo(k.ZERO)<=0);var l=o.modInverse(i).multiply(a.add(r.multiply(s))).mod(i);return this.serializeSig(s,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,a){try{var o,s,l=i.parseSigHex(t);o=l.r,s=l.s;var c=r.decodeFromHex(this.ecparams.curve,a),u=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(u,o,s,c)}catch(e){return!1}},this.verify=function(e,t,i){var a,o,s;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);a=l.r,o=l.s}else{if("object"!==(void 0===t?"undefined":f(t))||!t.r||!t.s)throw"Invalid value for signature";a=t.r,o=t.s}if(i instanceof ae)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=r.decodeFrom(this.ecparams.curve,i)}var c=n.fromByteArrayUnsigned(e);return this.verifyRaw(c,a,o,s)},this.verifyRaw=function(e,t,r,i){var a=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(a)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(a)>=0)return!1;var s=r.modInverse(a),l=e.multiply(s).mod(a),c=t.multiply(s).mod(a);return o.multiply(l).add(i.multiply(c)).getX().toBigInteger().mod(a).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=l(e,0,["[0]",0],"06"),n=l(e,0,[1],"04");try{r=l(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r,i;try{l(e,0,[1,0],"06"),n=l(e,0,[1,1],"06"),r=l(e,0,[2,0,1],"04");try{i=l(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r;try{l(e,0,[0,0],"06"),n=l(e,0,[0,1],"06"),r=l(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===c(e))throw new t("not ASN.1 hex string");var r,i;try{r=l(e,0,[0,5,0,1],"06"),i=l(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},le.crypto.ECDSA.parseSigHex=function(e){var t=le.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new k(t.r,16),s:new k(t.s,16)}},le.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=pe,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var a=i[0],o=i[1];if("02"!=e.substr(a,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(o,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,a),s:r(e,o)}},le.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=le.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},le.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return le.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},le.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new k(e,16),r=new k(t,16);return le.crypto.ECDSA.biRSSigToASN1Sig(n,r)},le.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=le.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},le.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new k(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,a,o,s,l,c,u,p,d,f,h){e[r]={};var m=n(a),g=n(o),v=n(s),b=n(l),y=n(c),w=new oe(m,g,v),x=w.decodePointHex("04"+u+p);e[r].name=r,e[r].keylen=i,e[r].curve=w,e[r].G=x,e[r].n=b,e[r].h=y,e[r].oid=f,e[r].info=h;for(var k=0;k<d.length;k++)t[d[k]]=r}},le.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),le.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),le.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),le.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),le.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),le.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),le.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),le.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),le.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),le.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,n,r){return t(g.AES,e,n,r)},t=function(e,t,n,r){var i=g.enc.Hex.parse(t),a=g.enc.Hex.parse(n),o=g.enc.Hex.parse(r),s={};s.key=a,s.iv=o,s.ciphertext=i;var l=e.decrypt(s,a,{iv:o});return g.enc.Hex.stringify(l)},n=function(e,t,n){return r(g.AES,e,t,n)},r=function(e,t,n,r){var i=g.enc.Hex.parse(t),a=g.enc.Hex.parse(n),o=g.enc.Hex.parse(r),s=e.encrypt(i,a,{iv:o}),l=g.enc.Hex.parse(s.toString());return g.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(g.TripleDES,e,n,r)},eproc:function(e,t,n){return r(g.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(g.DES,e,n,r)},eproc:function(e,t,n){return r(g.DES,e,t,n)},keylen:8,ivlen:8}},a=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,a=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),a=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),a=1);var o=e.indexOf("-----END");if(-1!=i&&-1!=o){var s=e.substring(i+2*a,o-a);s=s.replace(/\s+/g,""),t.data=s}return t},o=function(e,t,n){for(var r=n.substring(0,16),a=g.enc.Hex.parse(r),o=g.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,l="",c=null;;){var u=g.algo.MD5.create();if(null!=c&&u.update(c),u.update(o),u.update(a),c=u.finalize(),(l+=g.enc.Hex.stringify(c)).length>=2*s)break}var p={};return p.keyhex=l.substr(0,2*i[e].keylen),p.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),p},s=function(e,t,n,r){var a=g.enc.Base64.parse(e),o=g.enc.Hex.stringify(a);return(0,i[t].proc)(o,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return a(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return o(e,t,n)},decryptKeyB64:function(e,t,n,r){return s(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=a(e),r=(n.type,n.cipher),i=n.ivsalt,l=n.data,c=o(r,t,i).keyhex;return s(l,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,a){var s="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);void 0!==a&&null!=a||(a=function(e){var t=g.lib.WordArray.random(e);return g.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var l=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,o(r,n,a).keyhex,a);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+r+","+a+"\r\n",s+="\r\n",(s+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={},a=n(e,0);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+a.length);i.ciphertext=r(e,a[1]);var o=n(e,a[0]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+o.length);if("2a864886f70d01050d"!=r(e,o[0]))throw new Error("this only supports pkcs5PBES2");var s=n(e,o[1]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var l=n(e,s[1]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length);if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var c=n(e,s[0]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length);if("2a864886f70d01050c"!=r(e,c[0]))throw new Error("this only supports pkcs5PBKDF2");var u=n(e,c[1]);if(u.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+u.length);i.pbkdf2Salt=r(e,u[0]);var p=r(e,u[1]);try{i.pbkdf2Iter=parseInt(p,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+p)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=g.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=g.PBKDF2(t,n,{keySize:6,iterations:r});return g.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Te(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=He.getPBKDF2KeyHexFromParam(r,t),a={};a.ciphertext=g.enc.Hex.parse(r.ciphertext);var o=g.enc.Hex.parse(i),s=g.enc.Hex.parse(r.encryptionSchemeIV),l=g.TripleDES.decrypt(a,o,{iv:s});return g.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var a=n(e,0);if(a.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(a[1],2))throw new Error("malformed PKCS8 private key(code:003)");var o=n(e,a[1]);if(2!=o.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(o[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,o[0]),"06"==e.substr(o[1],2)&&(i.algparam=r(e,o[1])),"04"!=e.substr(a[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,a[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Te(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new re;else if("2a8648ce380401"==n.algoid)t=new le.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new le.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=pe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new re;else if("2a8648ce380401"===n)t=new le.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new le.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var a=n(e,0);if(2!=a.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(a[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,a[0]),"02"!=e.substr(a[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,a[1]),i},parsePublicPKCS8Hex:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={algparam:null},a=n(e,0);if(2!=a.length)throw new Error("outer DERSequence shall have 2 elements: "+a.length);var o=a[0];if("30"!=e.substr(o,2))throw new Error("malformed PKCS8 public key(code:001)");var s=n(e,o);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(a[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,a[1]).substr(2),i}}}();function qe(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function $e(e,t,n){for(var r="",i=0;r.length<t;)r+=ke(n(_e(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function We(e){for(var t in le.crypto.Util.DIGESTINFOHEAD){var n=le.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function Ve(e){var t,n=pe,r=n.getChildIdx,i=n.getV,a=n.getTLV,o=n.getVbyList,s=n.getVbyListEx,l=n.getTLVbyList,c=n.getTLVbyListEx,u=n.getIdxbyList,p=n.getIdxbyListEx,d=n.getVidx,f=n.getInt,h=n.oidname,m=n.hextooidstr,g=Te;try{t=le.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=l(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=l(e,0,[0]),n=f(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return h(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return l(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return l(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=o(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=o(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return n.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return u(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=l(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=l(this.hex,0,[0],"30"),i=new le.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,a,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=u(s,0,[0,7,0],"30"),a=r(s,t)}else{s=Te(e);var l=u(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,l))return void(this.aExtInfo=new Array);t=u(s,0,[0,3,0,1,0],"30"),a=r(s,t),this.hex=s}this.aExtInfo=new Array;for(var c=0;c<a.length;c++){var p={critical:!1},f=0;3===r(s,a[c]).length&&(p.critical=!0,f=1),p.oid=n.hextooidstr(o(s,a[c],[0],"06"));var h=u(s,a[c],[1+f]);p.vidx=d(s,h),this.aExtInfo.push(p)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=le.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var o=i(e,10),s=parseInt(o,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("keyUsage");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=a(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(Ve.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var o=i(e,0);return r.kid={hex:o},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var o={extname:"authorityKeyIdentifier"};t&&(o.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++){var c=e.substr(s[l],2);if("80"===c&&(o.kid={hex:i(e,s[l])}),"a1"===c){var u=a(e,s[l]),p=this.getGeneralNames(u);o.issuer=p[0].dn}"82"===c&&(o.sn={hex:i(e,s[l])})}return o},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var o={extname:"extKeyUsage",array:[]};t&&(o.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++)o.array.push(h(i(e,s[l])));return o},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=a(this.hex,e.vidx);if(""===n)return t;for(var o=r(n,0),s=0;s<o.length;s++)t.push(h(i(n,o[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var o=this.getGeneralName(a(e,t[i]));void 0!==o&&n.push(o)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=ke(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Le(n)}:"a4"==t?{dn:this.getX500Name(n)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var s=new Array,l=a(this.hex,o.vidx),c=r(l,0),u=0;u<c.length;u++)n=l.substr(c[u],2),e=i(l,c[u]),"81"===n&&(t=xe(e),s.push(["MAIL",t])),"82"===n&&(t=xe(e),s.push(["DNS",t])),"84"===n&&(t=Ve.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=xe(e),s.push(["URI",t])),"87"===n&&(t=Le(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var o=r(e,0),s=0;s<o.length;s++){var l=a(e,o[s]);i.array.push(this.getDistributionPoint(l))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),s=a(e,n[i]);"a0"==o&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),s=a(e,n[i]);"a0"==o&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=r(this.hex,e.vidx),i=0;i<n.length;i++)try{var a=xe(o(this.hex,n[i],[0,0,0],"86"));t.push(a)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var a=o(this.hex,n[i],[0],"06"),s=o(this.hex,n[i],[1],"86");"2b06010505073001"===a&&t.ocsp.push(xe(s)),"2b06010505073002"===a&&t.caissuer.push(xe(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var l=r(e,0),c=0;c<l.length;c++){var u=s(e,l[c],[0],"06"),p=xe(o(e,l[c],[1],"86"));if("2b06010505073001"==u)i.array.push({ocsp:p});else{if("2b06010505073002"!=u)throw new Error("unknown method: "+u);i.array.push({caissuer:p})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var o=r(e,0),s=0;s<o.length;s++){var l=a(e,o[s]),c=this.getPolicyInformation(l);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=o(e,0,[0],"06");t.policyoid=h(n);var i=p(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=r(e,i),l=0;l<s.length;l++){var c=a(e,s[l]),u=this.getPolicyQualifierInfo(c);t.array.push(u)}}return t},this.getPolicyQualifierInfo=function(e){var t={},n=o(e,0,[0],"06");if("2b06010505070201"===n){var r=s(e,0,[1],"16");t.cps=ke(r)}else if("2b06010505070202"===n){var i=l(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=a(e,n[i]);"30"!=o.substr(0,2)&&(t.exptext=this.getDisplayText(o))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=ke(i(e,0)),t},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var o=r(e,0);if(o.length>1){var s=a(e,o[1]),l=this.getGeneralName(s);null!=l.uri&&(i.uri=l.uri)}if(o.length>2){var c=a(e,o[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(i[a]);for(r=0;r<n.length;r++){var o=n[r],s=o.ds,l=o.value,c=o.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(le.lang.String.isMail(l))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getRDN(a(e,n[i])));return t},this.getRDN=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getAttrTypeAndValue(a(e,n[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},n=r(e,0),i=o(e,n[0],[],"06"),a=o(e,n[1],[]),s=le.asn1.ASN1Util.oidHexToInt(i);return t.type=le.asn1.x509.OID.oid2atype(s),t.ds=this.HEX2STAG[e.substr(n[1],2)],"bmp"!=t.ds?t.value=xe(a):t.value=je(a),t},this.readCertPEM=function(e){this.readCertHex(g(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{u(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Ae(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=p(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var o=a(e,n[i]),s=this.getExtParam(o);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=m(o(e,0,[0],"06")),i=!1;3==t&&"0101ff"==l(e,0,[1])&&(i=!0);var a=l(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==n?s=this.getExtSubjectKeyIdentifier(a,i):"2.5.29.15"==n?s=this.getExtKeyUsage(a,i):"2.5.29.17"==n?s=this.getExtSubjectAltName(a,i):"2.5.29.18"==n?s=this.getExtIssuerAltName(a,i):"2.5.29.19"==n?s=this.getExtBasicConstraints(a,i):"2.5.29.31"==n?s=this.getExtCRLDistributionPoints(a,i):"2.5.29.32"==n?s=this.getExtCertificatePolicies(a,i):"2.5.29.35"==n?s=this.getExtAuthorityKeyIdentifier(a,i):"2.5.29.37"==n?s=this.getExtExtKeyUsage(a,i):"1.3.6.1.5.5.7.1.1"==n?s=this.getExtAuthorityInfoAccess(a,i):"2.5.29.20"==n?s=this.getExtCRLNumber(a,i):"2.5.29.21"==n?s=this.getExtCRLReason(a,i):"1.3.6.1.5.5.7.48.1.2"==n?s=this.getExtOcspNonce(a,i):"1.3.6.1.5.5.7.48.1.5"==n?s=this.getExtOcspNoCheck(a,i):"1.2.840.113583.1.1.9.1"==n&&(s=this.getExtAdobeTimeStamp(a,i)),null!=s)return s;var c={extname:n,extn:a};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var a=r[i].dpname.full,o=0;o<a.length;o++){var s=a[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map(function(e){return function(e){return e.map(function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")}).join("+")}(e).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var e,t,n,r=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var a=0;a<i.array.length;a++){var o=i.array[a];void 0!==o.cps&&(t+="    cps: "+o.cps+"\n")}}return t},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+Ve.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ue(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ue(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var l=n[s],c=le.asn1.x509.OID.oid2name(l.oid);""===c&&(c=l.oid);var u="";if(!0===l.critical&&(u="CRITICAL"),e+="  "+c+" "+u+":\n","basicConstraints"===c){var p=this.getExtBasicConstraints();void 0===p.cA?e+="    {}\n":(e+="    cA=true",void 0!==p.pathLen&&(e+=", pathLen="+p.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=a(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=o(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):le.lang.String.isHex(e)&&this.readCertHex(e))}He.getKey=function(e,t,n){var r,i=(v=pe).getChildIdx,a=(v.getV,v.getVbyList),o=le.crypto,s=o.ECDSA,l=o.DSA,c=re,u=Te,p=He;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(R=new c).setPublic(e.n,e.e),R;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(R=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),R;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(R=new c).setPrivate(e.n,e.e,e.d),R;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(R=new l).setPublic(e.p,e.q,e.g,e.y),R;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(R=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(R=new c).setPublic(ye(e.n),ye(e.e)),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(R=new c).setPrivateEx(ye(e.n),ye(e.e),ye(e.d),ye(e.p),ye(e.q),ye(e.dp),ye(e.dq),ye(e.qi)),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(R=new c).setPrivate(ye(e.n),ye(e.e),ye(e.d)),R;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(T=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+ye(e.x)).slice(-d)+("0000000000"+ye(e.y)).slice(-d);return T.setPublicKeyHex(f),T}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(T=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+ye(e.x)).slice(-d)+("0000000000"+ye(e.y)).slice(-d);var h=("0000000000"+ye(e.d)).slice(-d);return T.setPublicKeyHex(f),T.setPrivateKeyHex(h),T}if("pkcs5prv"===n){var m,g=e,v=pe;if(9===(m=i(g,0)).length)(R=new c).readPKCS5PrvKeyHex(g);else if(6===m.length)(R=new l).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(R=new s).readPKCS5PrvKeyHex(g)}return R}if("pkcs8prv"===n)return p.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return p._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Ve.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Ve.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var b=Te(e,"PUBLIC KEY");return p._getKeyFromPublicPKCS8Hex(b)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var y=u(e,"RSA PRIVATE KEY");return p.getKey(y,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=a(r=u(e,"DSA PRIVATE KEY"),0,[1],"02"),x=a(r,0,[2],"02"),_=a(r,0,[3],"02"),E=a(r,0,[4],"02"),C=a(r,0,[5],"02");return(R=new l).setPrivate(new k(w,16),new k(x,16),new k(_,16),new k(E,16),new k(C,16)),R}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return y=u(e,"EC PRIVATE KEY"),p.getKey(y,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return p.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var S=p.getDecryptedKeyHex(e,t),A=new re;return A.readPKCS5PrvKeyHex(S),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T,R=a(r=p.getDecryptedKeyHex(e,t),0,[1],"04"),P=a(r,0,[2,0],"06"),F=a(r,0,[3,0],"03").substr(2);if(void 0===le.crypto.OID.oidhex2name[P])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+P);return(T=new s({curve:le.crypto.OID.oidhex2name[P]})).setPublicKeyHex(F),T.setPrivateKeyHex(R),T.isPublic=!1,T}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=a(r=p.getDecryptedKeyHex(e,t),0,[1],"02"),x=a(r,0,[2],"02"),_=a(r,0,[3],"02"),E=a(r,0,[4],"02"),C=a(r,0,[5],"02"),(R=new l).setPrivate(new k(w,16),new k(x,16),new k(_,16),new k(E,16),new k(C,16)),R;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return p.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var n=t;(o=new re).generate(n,"10001"),o.isPrivate=!0,o.isPublic=!0;var r=new re,i=o.n.toString(16),a=o.e.toString(16);return r.setPublic(i,a),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=r,s}if("EC"==e){var o,s,l=t,c=new le.crypto.ECDSA({curve:l}).generateKeyPairHex();return(o=new le.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(r=new le.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=r,s}throw new Error("unknown algorithm: "+e)},He.getPEM=function(e,t,n,r,i,a){var o=le,s=o.asn1,l=s.DERObjectIdentifier,c=s.DERInteger,u=s.ASN1Util.newObject,p=s.x509.SubjectPublicKeyInfo,d=o.crypto,f=d.DSA,h=d.ECDSA,m=re;function v(e){return u({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function b(e){return u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function y(e){return u({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==m&&e instanceof m||void 0!==f&&e instanceof f||void 0!==h&&e instanceof h)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Ae(_=new p(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==m&&e instanceof m&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate){var w=new l({name:e.curveName}).getEncodedHex(),x=b(e).getEncodedHex(),k="";return(k+=Ae(w,"EC PARAMETERS"))+Ae(x,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=y(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==m&&e instanceof m&&void 0!==n&&null!=n&&1==e.isPrivate){var _=v(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",_,n,r,a)}if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return _=b(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",_,n,r,a);if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return _=y(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",_,n,r,a);var E=function(e,t){var n=C(e,t);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(e,t){var n=g.lib.WordArray.random(8),r=g.lib.WordArray.random(8),i=g.PBKDF2(t,n,{keySize:6,iterations:100}),a=g.enc.Hex.parse(e),o=g.TripleDES.encrypt(a,i,{iv:r})+"",s={};return s.ciphertext=o,s.pbkdf2Salt=g.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=g.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&null!=m&&e instanceof m&&1==e.isPrivate){var S=v(e).getEncodedHex();return _=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:S}}]}).getEncodedHex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(x=E(_,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return S=new u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),_=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:S}}]}).getEncodedHex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(x=E(_,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return S=new c({bigint:e.x}).getEncodedHex(),_=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:S}}]}).getEncodedHex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(x=E(_,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Te(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=pe,n=t.getChildIdx,r=t.getTLV,i={},a=e;if("30"!=a.substr(0,2))throw new Error("malformed CSR(code:001)");var o=n(a,0);if(o.length<1)throw new Error("malformed CSR(code:002)");if("30"!=a.substr(o[0],2))throw new Error("malformed CSR(code:003)");var s=n(a,o[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(a,s[2]),i},He.getKeyID=function(e){var t=He,n=pe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Te(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),a=n.getV(r,i).substring(2);return le.crypto.Util.hashHex(a,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof re&&e.isPrivate)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t.d=be(e.d.toString(16)),t.p=be(e.p.toString(16)),t.q=be(e.q.toString(16)),t.dp=be(e.dmp1.toString(16)),t.dq=be(e.dmq1.toString(16)),t.qi=be(e.coeff.toString(16)),t;if(e instanceof re&&e.isPublic)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t;if(e instanceof le.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw new Error("unsupported curve name for JWT: "+r);var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=be(n.x),t.y=be(n.y),t.d=be(e.prvKeyHex),t}if(e instanceof le.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw new Error("unsupported curve name for JWT: "+r);return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=be(n.x),t.y=be(n.y),t}throw new Error("not supported key object")},re.getPosArrayOfChildrenFromHex=function(e){return pe.getChildIdx(e,0)},re.getHexValueArrayOfChildrenFromHex=function(e){var t,n=pe.getV,r=n(e,(t=re.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),a=n(e,t[2]),o=n(e,t[3]),s=n(e,t[4]),l=n(e,t[5]),c=n(e,t[6]),u=n(e,t[7]),p=n(e,t[8]);return(t=new Array).push(r,i,a,o,s,l,c,u,p),t},re.prototype.readPrivateKeyFromPEMString=function(e){var t=Te(e),n=re.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},re.prototype.readPKCS5PrvKeyHex=function(e){var t=re.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},re.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,a,o,s,l,c=pe,u=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=u(e,0,[2,0,1],"02"),n=u(e,0,[2,0,2],"02"),r=u(e,0,[2,0,3],"02"),i=u(e,0,[2,0,4],"02"),a=u(e,0,[2,0,5],"02"),o=u(e,0,[2,0,6],"02"),s=u(e,0,[2,0,7],"02"),l=u(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,a,o,s,l)},re.prototype.readPKCS5PubKeyHex=function(e){var t=pe,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),a=n(e,r[1]);this.setPublic(i,a)},re.prototype.readPKCS8PubKeyHex=function(e){var t=pe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},re.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new Ve).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},new RegExp("[^0-9a-f]","gi"),re.prototype.sign=function(e,t){var n=function(e){return le.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},re.prototype.signWithMessageHash=function(e,t){var n=te(le.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return qe(this.doPrivate(n).toString(16),this.n.bitLength())},re.prototype.signPSS=function(e,t,n){var r=function(e){return le.crypto.Util.hashHex(e,t)}(_e(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},re.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=ke(e),a=i.length,o=this.n.bitLength()-1,s=Math.ceil(o/8),l=function(e){return le.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=a;else if(-2===n)n=s-a-2;else if(n<-2)throw new Error("invalid salt length");if(s<a+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var u=ke(l(_e("\0\0\0\0\0\0\0\0"+i+c))),p=[];for(r=0;r<s-n-a-2;r+=1)p[r]=0;var d=String.fromCharCode.apply(String,p)+""+c,f=$e(u,d.length,l),h=[];for(r=0;r<d.length;r+=1)h[r]=d.charCodeAt(r)^f.charCodeAt(r);var m=65280>>8*s-o&255;for(h[0]&=~m,r=0;r<a;r++)h.push(u.charCodeAt(r));return h.push(188),qe(this.doPrivate(new k(h)).toString(16),this.n.bitLength())},re.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=te(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var a=We(i.replace(/^1f+00/,""));if(0==a.length)return!1;var o=a[0];return a[1]==function(e){return le.crypto.Util.hashString(e,o)}(e)},re.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=te(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=We(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},re.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return le.crypto.Util.hashHex(e,n)}(_e(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},re.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,a=new k(t,16),o=function(e){return le.crypto.Util.hashHex(e,n)},s=ke(e),l=s.length,c=this.n.bitLength()-1,u=Math.ceil(c/8);if(-1===r||void 0===r)r=l;else if(-2===r)r=u-l-2;else if(r<-2)throw new Error("invalid salt length");if(u<l+r+2)throw new Error("data too long");var p=this.doPublic(a).toByteArray();for(i=0;i<p.length;i+=1)p[i]&=255;for(;p.length<u;)p.unshift(0);if(188!==p[u-1])throw new Error("encoded message does not end in 0xbc");var d=(p=String.fromCharCode.apply(String,p)).substr(0,u-l-1),f=p.substr(d.length,l),h=65280>>8*u-c&255;if(0!=(d.charCodeAt(0)&h))throw new Error("bits beyond keysize not zero");var m=$e(f,d.length,o),g=[];for(i=0;i<d.length;i+=1)g[i]=d.charCodeAt(i)^m.charCodeAt(i);g[0]&=~h;var v=u-l-r-2;for(i=0;i<v;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[v])throw new Error("0x01 marker not found");return f===ke(o(_e("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,g.slice(-r)))))},re.SALT_LEN_HLEN=-1,re.SALT_LEN_MAX=-2,re.SALT_LEN_RECOVER=-2,Ve.hex2dn=function(e,t){void 0===t&&(t=0);var n=new Ve;return pe.getTLV(e,t),n.getX500Name(e).str},Ve.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=pe.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Ve.hex2attrTypeValue(e,r[i]));return(n=n.map(function(e){return e.replace("+","\\+")})).join("+")},Ve.hex2attrTypeValue=function(e,t){var n=pe,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var a=r(e,i[0]),o=le.asn1.ASN1Util.oidHexToInt(a);return le.asn1.x509.OID.oid2atype(o)+"="+ke(r(e,i[1]))},Ve.getPublicKeyFromCertHex=function(e){var t=new Ve;return t.readCertHex(e),t.getPublicKey()},Ve.getPublicKeyFromCertPEM=function(e){var t=new Ve;return t.readCertPEM(e),t.getPublicKey()},Ve.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=pe.getVbyList,i={algparam:null};return(t=new Ve).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Ve.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==le&&le||(t.KJUR=le={}),void 0!==le.jws&&le.jws||(le.jws={}),le.jws.JWS=function(){var e=le.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],a=r[2],o=r[3],s=i+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=s,!n){var l=ye(o),c=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=c}var u=ue(i),p=ue(a);if(this.parsedJWS.headS=u,this.parsedJWS.payloadS=p,!e(u,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+u}}},le.jws.JWS.sign=function(e,t,n,r,i){var a,o,s,l=le,c=l.jws.JWS,u=c.readSafeJSONString,p=c.isSafeJSONString,d=l.crypto,h=(d.ECDSA,d.Mac),m=d.Signature,g=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":f(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":f(t))&&(o=t,a=g.stringify(o)),"string"==typeof t){if(!p(a=t))throw"JWS Head is not safe JSON string: "+a;o=u(a)}if(s=n,"object"==(void 0===n?"undefined":f(n))&&(s=g.stringify(n)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,a=g.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var v=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=c.jwsalg2sigalg[e];var b=ce(a)+"."+ce(s),y="";if("Hmac"==v.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var w=new h({alg:v,prov:"cryptojs",pass:r});w.updateString(b),y=w.doFinal()}else if(-1!=v.indexOf("withECDSA")){(k=new m({alg:v})).init(r,i),k.updateString(b);var x=k.sign();y=le.crypto.ECDSA.asn1SigToConcatSig(x)}else{var k;"none"!=v&&((k=new m({alg:v})).init(r,i),k.updateString(b),y=k.sign())}return b+"."+be(y)},le.jws.JWS.verify=function(e,t,n){var r,i=le,a=i.jws.JWS,o=a.readSafeJSONString,s=i.crypto,l=s.ECDSA,c=s.Mac,u=s.Signature;void 0!==f(re)&&(r=re);var p=e.split(".");if(3!==p.length)return!1;var d,h=p[0]+"."+p[1],m=ye(p[2]),g=o(ue(p[0])),v=null;if(void 0===g.alg)throw"algorithm not specified in header";if(d=(v=g.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=d&&"PS"!=d||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var b=null;if(void 0===a.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+v;if("none"==(b=a.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==b.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var y=new c({alg:b,pass:t});return y.updateString(h),m==y.doFinal()}if(-1!=b.indexOf("withECDSA")){var w,x=null;try{x=l.concatSigToASN1Sig(m)}catch(e){return!1}return(w=new u({alg:b})).init(t),w.updateString(h),w.verify(x)}return(w=new u({alg:b})).init(t),w.updateString(h),w.verify(m)},le.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),a={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),a.headerObj=le.jws.JWS.readSafeJSONString(ue(t)),a.payloadObj=le.jws.JWS.readSafeJSONString(ue(n)),a.headerPP=JSON.stringify(a.headerObj,null,"  "),null==a.payloadObj?a.payloadPP=ue(n):a.payloadPP=JSON.stringify(a.payloadObj,null,"  "),void 0!==r&&(a.sigHex=ye(r)),a},le.jws.JWS.verifyJWT=function(e,t,n){var r=le.jws,i=r.JWS,a=i.readSafeJSONString,o=i.inArray,s=i.includedArray,l=e.split("."),c=l[0],u=l[1],p=(ye(l[2]),a(ue(c))),d=a(ue(u));if(void 0===p.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!o(p.alg,n.alg))return!1;if(void 0!==d.iss&&"object"===f(n.iss)&&!o(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"===f(n.sub)&&!o(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"===f(n.aud))if("string"==typeof d.aud){if(!o(d.aud,n.aud))return!1}else if("object"==f(d.aud)&&!s(d.aud,n.aud))return!1;var h=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(h=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<h||void 0!==d.nbf&&"number"==typeof d.nbf&&h<d.nbf-n.gracePeriod||void 0!==d.iat&&"number"==typeof d.iat&&h<d.iat-n.gracePeriod||void 0!==d.jti&&void 0!==n.jti&&d.jti!==n.jti||!i.verify(e,t,n.alg))},le.jws.JWS.includedArray=function(e,t){var n=le.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":f(e)))return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},le.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":f(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},le.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},le.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=(void 0===(r=se(e))?"undefined":f(r))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},le.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=se(e))?"undefined":f(t))||t.constructor===Array?null:t}catch(e){return null}},le.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},le.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=_e(t);return be(le.crypto.Util.hashHex(n,"sha256"))},le.jws.IntDate={},le.jws.IntDate.get=function(e){var t=le.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},le.jws.IntDate.getZulu=function(e){return Pe(e)},le.jws.IntDate.getNow=function(){return~~(new Date/1e3)},le.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},le.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=ee,t.rng_seed_time=K,t.BigInteger=k,t.RSAKey=re;var Ge=le.crypto.EDSA;t.EDSA=Ge;var Ke=le.crypto.DSA;t.DSA=Ke;var Je=le.crypto.Signature;t.Signature=Je;var Qe=le.crypto.MessageDigest;t.MessageDigest=Qe;var Ye=le.crypto.Mac;t.Mac=Ye;var Xe=le.crypto.Cipher;t.Cipher=Xe,t.KEYUTIL=He,t.ASN1HEX=pe,t.X509=Ve,t.CryptoJS=g,t.b64tohex=w,t.b64toBA=x,t.stoBA=de,t.BAtos=fe,t.BAtohex=he,t.stohex=me,t.stob64=function(e){return y(me(e))},t.stob64u=function(e){return ge(y(me(e)))},t.b64utos=function(e){return fe(x(ve(e)))},t.b64tob64u=ge,t.b64utob64=ve,t.hex2b64=y,t.hextob64u=be,t.b64utohex=ye,t.utf8tob64u=ce,t.b64utoutf8=ue,t.utf8tob64=function(e){return y(Fe(Me(e)))},t.b64toutf8=function(e){return decodeURIComponent(Ie(w(e)))},t.utf8tohex=we,t.hextoutf8=xe,t.hextorstr=ke,t.rstrtohex=_e,t.hextob64=Ee,t.hextob64nl=Ce,t.b64nltohex=Se,t.hextopem=Ae,t.pemtohex=Te,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Re,t.zulutosec=Pe,t.zulutodate=function(e){return new Date(Re(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var a=e.getUTCMilliseconds();0!==a&&(r+="."+(a=(a=("00"+a).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Fe,t.hextouricmp=Ie,t.ipv6tohex=Ne,t.hextoipv6=Oe,t.hextoip=Le,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Ne(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(e){throw t}},t.encodeURIComponentAll=Me,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ue,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=le;var Ze=le.crypto;t.crypto=Ze;var et=le.asn1;t.asn1=et;var tt=le.jws;t.jws=tt;var nt=le.lang;t.lang=nt}).call(this,n(28).Buffer)},function(e,t,n){(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(30),i=n(31),a=n(32);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var p=!0,d=0;d<l;d++)if(c(e,a+d)!==c(t,d)){p=!1;break}if(p)return a}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return q(H(t),e,n,r)}function E(e,t,n,r){return q(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=p}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return p(null,e)},l.allocUnsafeSlow=function(e){return p(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n),p=0;p<s;++p)if(c[p]!==u[p]){a=c[p],o=u[p];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=B(e[a]);return i}function F(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,a){return a||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return a||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:z(new l(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,p=s>0?o-4:o;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,l=n-i;s<l;s+=o)a.push(c(e,s,s+o>l?l:s+o));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,p=n?i-1:0,d=n?-1:1,f=e[t+p];for(p+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+p],p+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+p],p+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,p=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(o++,l/=2),o+p>=u?(s=0,o=u):o+p>=1?(s=(t*l-1)*Math.pow(2,i),o+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=h,o/=256,c-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,n=e.KeyUtil,i=e.X509,a=e.crypto,o=e.hextob64u,s=e.b64tohex,l=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(n){r.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(e){r.Log.error(e)}},e.validateJwt=function(t,a,o,l,c,u,p){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===a.kty)if(a.e&&a.n)a=n.getKey(a);else{if(!a.x5c||!a.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",a),Promise.reject(new Error("RSA key missing key material"));var d=s(a.x5c[0]);a=i.getPublicKeyFromCertHex(d)}else{if("EC"!==a.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",a&&a.kty),Promise.reject(new Error(a.kty));if(!(a.crv&&a.x&&a.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",a),Promise.reject(new Error("EC key missing key material"));a=n.getKey(a)}return e._validateJwt(t,a,o,l,c,u,p)}catch(e){return r.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,i,a,o,s){a||(a=0),o||(o=parseInt(Date.now()/1e3));var l=e.parseJwt(t).payload;if(!l.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(l.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",l.iss),Promise.reject(new Error("Invalid issuer in token: "+l.iss));if(!l.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(l.aud===i||Array.isArray(l.aud)&&l.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",l.aud),Promise.reject(new Error("Invalid audience in token: "+l.aud));if(l.azp&&l.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",l.azp),Promise.reject(new Error("Invalid azp in token: "+l.azp));if(!s){var c=o+a,u=o-a;if(!l.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<l.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",l.iat),Promise.reject(new Error("iat is in the future: "+l.iat));if(l.nbf&&c<l.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",l.nbf),Promise.reject(new Error("nbf is in the future: "+l.nbf));if(!l.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(l.exp<u)return r.Log.error("JoseUtil._validateJwt: exp is in the past",l.exp),Promise.reject(new Error("exp is in the past:"+l.exp))}return Promise.resolve(l)},e._validateJwt=function(n,i,a,o,s,c,u){return e.validateJwtAttributes(n,a,o,s,c,u).then(function(e){try{return t.JWS.verify(n,i,l)?e:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return r.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}})},e.hashString=function e(t,n){try{return a.Util.hashString(t,n)}catch(e){r.Log.error(e)}},e.hexToBase64Url=function e(t){try{return o(t)}catch(e){r.Log.error(e)}},e}()};var r=n(0);e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3);t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=i.UrlUtility.parseUrlFragment(t,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var r=n(0),i=n(3),a=n(9);t.SignoutRequest=function e(t){var n=t.url,o=t.id_token_hint,s=t.post_logout_redirect_uri,l=t.data,c=t.extraQueryParams,u=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var p in o&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",o)),s&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",s),l&&(this.state=new a.State({data:l,request_type:u}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),c)n=i.UrlUtility.addQueryParam(n,p,c[p]);this.url=n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var r=n(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},r(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(10),o=n(39),s=n(15),l=n(45),c=n(47),u=n(18),p=n(8),d=n(20),f=n(11),h=n(4);t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.TokenRevocationClient,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TokenClient,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h.JoseUtil;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),n instanceof o.UserManagerSettings||(n=new o.UserManagerSettings(n));var g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return g._events=new l.UserManagerEvents(n),g._silentRenewService=new r(g),g.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),g.startSilentRenew()),g.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),g._sessionMonitor=new a(g)),g._tokenRevocationClient=new s(g._settings),g._tokenClient=new p(g._settings),g._joseUtil=m,g}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then(function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()})},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then(function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e})},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e}).catch(function(e){i.Log.error(e.message)})},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then(function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))})},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then(function(t){return t?t.access_token?e._loadUser().then(function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token||n.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then(function(){return e._events.load(n),n})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then(function(r){return n.settings.getEpochTime().then(function(a){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew,a).then(function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e})},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then(function(n){var r=n.state;return n.response,"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))})},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then(function(r){var i=r.state,a=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):a})},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return e.processSigninResponse(t.url).then(function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then(function(t){return n._signinEnd(t.url,e)})},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then(function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then(function(e){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)}).catch(function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e})})},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then(function(e){i.Log.debug("UserManager._signinEnd: got signin response");var r=new s.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r})})},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var n="query"===this._settings.response_mode||!this._settings.response_mode&&p.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,n)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then(function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e})},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then(function(e){return n._signoutEnd(e.url)})},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(n).then(function(r){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then(function(a){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(a):Promise.resolve()).then(function(){var o=e.id_token_hint||a&&a.id_token;return o&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=o),t.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then(function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),n.url=e.url,e.state&&(n.id=e.state.id),r.navigate(n)})})})}).catch(function(e){throw r.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),e})})},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then(function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e})},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then(function(t){return e._revokeInternal(t,!0).then(function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.access_token,a=e.refresh_token;return this._revokeAccessTokenInternal(r,t).then(function(e){return n._revokeRefreshTokenInternal(a,t).then(function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t})})}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then(function(){return!0})},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(a.OidcClient)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0),n(5)),a=n(40),o=n(41),s=n(43),l=n(6),c=n(1),u=n(8);t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,p=n.popupWindowFeatures,d=n.popupWindowTarget,f=n.silent_redirect_uri,h=n.silentRequestTimeout,m=n.automaticSilentRenew,g=void 0!==m&&m,v=n.validateSubOnSilentRenew,b=void 0!==v&&v,y=n.includeIdTokenInSilentRenew,w=void 0===y||y,x=n.monitorSession,k=void 0===x||x,_=n.monitorAnonymousSession,E=void 0!==_&&_,C=n.checkSessionInterval,S=void 0===C?2e3:C,A=n.stopCheckSessionOnError,T=void 0===A||A,R=n.query_status_response_type,P=n.revokeAccessTokenOnSignout,F=void 0!==P&&P,I=n.accessTokenExpiringNotificationTime,N=void 0===I?60:I,O=n.redirectNavigator,L=void 0===O?new a.RedirectNavigator:O,j=n.popupNavigator,M=void 0===j?new o.PopupNavigator:j,D=n.iframeNavigator,U=void 0===D?new s.IFrameNavigator:D,B=n.userStore,z=void 0===B?new l.WebStorageStateStore({store:c.Global.sessionStorage}):B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var H=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));return H._popup_redirect_uri=r,H._popup_post_logout_redirect_uri=i,H._popupWindowFeatures=p,H._popupWindowTarget=d,H._silent_redirect_uri=f,H._silentRequestTimeout=h,H._automaticSilentRenew=g,H._validateSubOnSilentRenew=b,H._includeIdTokenInSilentRenew=w,H._accessTokenExpiringNotificationTime=N,H._monitorSession=k,H._monitorAnonymousSession=E,H._checkSessionInterval=S,H._stopCheckSessionOnError=T,R?H._query_status_response_type=R:arguments[0]&&arguments[0].response_type?H._query_status_response_type=u.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":H._query_status_response_type="id_token",H._revokeAccessTokenOnSignout=F,H._redirectNavigator=L,H._popupNavigator=M,H._iframeNavigator=U,H._userStore=z,H}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var r=n(0),i=n(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,n,a){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,n,a),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(3);t.PopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t});var r=t.popupWindowTarget||"_blank",a=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",r,a),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=a.UrlUtility.parseUrlFragment(e,n);if(r.state){var o="popupCallback_"+r.state,s=window.opener[o];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var r=n(0),i=n(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.IFrameWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},r(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var r=n(0),i=n(16),a=n(17);t.UserManagerEvents=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._userLoaded=new a.Event("User loaded"),r._userUnloaded=new a.Event("User unloaded"),r._silentRenewError=new a.Event("Silent renew error"),r._userSignedIn=new a.Event("User signed in"),r._userSignedOut=new a.Event("User signed out"),r._userSessionChanged=new a.Event("User session changed"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){r.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(1),o=n(17);t.Timer=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._timer=r,o._nowFunc=i||function(){return Date.now()/1e3},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},r(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(o.Event)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var r=n(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(e){}).catch(function(e){r.Log.error("SilentRenewService.start: Error from getUser:",e.message)}))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then(function(e){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(t){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)})},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var r=n(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var r=n(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.6"}])},e.exports=t()}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e].call(n.exports,n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const s=new TextEncoder,l=new TextDecoder;function c(...e){const t=e.reduce((e,{length:t})=>e+t,0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}const u=e=>(e=>{let t=e;"string"==typeof t&&(t=s.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),p=e=>{let t=e;t instanceof Uint8Array&&(t=l.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n})(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class d extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}d.code="ERR_JOSE_GENERIC";class f extends d{constructor(e,t,n="unspecified",r="unspecified"){super(e,{cause:{claim:n,reason:r,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=r,this.payload=t}}f.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class h extends d{constructor(e,t,n="unspecified",r="unspecified"){super(e,{cause:{claim:n,reason:r,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=r,this.payload=t}}h.code="ERR_JWT_EXPIRED";class m extends d{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}m.code="ERR_JOSE_ALG_NOT_ALLOWED";class g extends d{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}g.code="ERR_JOSE_NOT_SUPPORTED";(class extends d{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}).code="ERR_JWE_DECRYPTION_FAILED";(class extends d{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}).code="ERR_JWE_INVALID";class v extends d{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}v.code="ERR_JWS_INVALID";class b extends d{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}b.code="ERR_JWT_INVALID";(class extends d{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}).code="ERR_JWK_INVALID";class y extends d{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}y.code="ERR_JWKS_INVALID";class w extends d{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}w.code="ERR_JWKS_NO_MATCHING_KEY";class x extends d{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,x.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class k extends d{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}k.code="ERR_JWKS_TIMEOUT";class _ extends d{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function E(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new g(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}_.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const C=crypto,S=e=>e instanceof CryptoKey,A=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function T(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function R(e,t){return e.name===t}function P(e){return parseInt(e.name.slice(4),10)}function F(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function I(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!R(e.algorithm,"HMAC"))throw T("HMAC");const n=parseInt(t.slice(2),10);if(P(e.algorithm.hash)!==n)throw T(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!R(e.algorithm,"RSASSA-PKCS1-v1_5"))throw T("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(P(e.algorithm.hash)!==n)throw T(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!R(e.algorithm,"RSA-PSS"))throw T("RSA-PSS");const n=parseInt(t.slice(2),10);if(P(e.algorithm.hash)!==n)throw T(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw T("Ed25519 or Ed448");break;case"Ed25519":if(!R(e.algorithm,"Ed25519"))throw T("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!R(e.algorithm,"ECDSA"))throw T("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw T(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}F(e,n)}function N(e,t,...n){if((n=n.filter(Boolean)).length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const O=(e,...t)=>N("Key must be ",e,...t);function L(e,t,...n){return N(`Key for the ${e} algorithm must be `,t,...n)}const j=e=>!!S(e)||"KeyObject"===e?.[Symbol.toStringTag],M=["CryptoKey"];function D(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function U(e){return D(e)&&"string"==typeof e.kty}const B=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=function(e){let t,n;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new g('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new g('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":t={name:"Ed25519"},n=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new g('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new g('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,C.subtle.importKey("jwk",i,...r)},z=e=>p(e);let H,q;const $=e=>"KeyObject"===e?.[Symbol.toStringTag],W=async(e,t,n,r,i=!1)=>{let a=e.get(t);if(a?.[r])return a[r];const o=await B({...n,alg:r});return i&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},V=(e,t)=>{if($(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?z(n.k):(q||(q=new WeakMap),W(q,e,n,t))}if(U(e)){if(e.k)return p(e.k);q||(q=new WeakMap);return W(q,e,e,t,!0)}return e},G=(e,t)=>{if($(e)){let n=e.export({format:"jwk"});return n.k?z(n.k):(H||(H=new WeakMap),W(H,e,n,t))}if(U(e)){if(e.k)return p(e.k);H||(H=new WeakMap);return W(H,e,e,t,!0)}return e};async function K(e,t,n){if("sign"===n&&(t=await G(t,e)),"verify"===n&&(t=await V(t,e)),S(t))return I(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(O(t,...M));return C.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(O(t,...M,"Uint8Array","JSON Web Key"))}const J=async(e,t,n,r)=>{const i=await K(e,t,"verify");A(e,i);const a=E(e,i.algorithm);try{return await C.subtle.verify(a,i,n,r)}catch{return!1}},Q=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0},Y=e=>e?.[Symbol.toStringTag],X=(e,t,n)=>{if(void 0!==t.use&&"sig"!==t.use)throw new TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&!0!==t.key_ops.includes?.(n))throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(void 0!==t.alg&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},Z=(e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&U(t)){if(function(e){return U(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&X(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!j(t))throw new TypeError(L(e,t,...M,"Uint8Array",r?"JSON Web Key":null));if("secret"!==t.type)throw new TypeError(`${Y(t)} instances for symmetric algorithms must be of type "secret"`)}};function ee(e,t,n,r){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Z(t,n,r,e):((e,t,n,r)=>{if(r&&U(t))switch(n){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&X(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&X(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!j(t))throw new TypeError(L(e,t,...M,r?"JSON Web Key":null));if("secret"===t.type)throw new TypeError(`${Y(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw new TypeError(`${Y(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw new TypeError(`${Y(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError(`${Y(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError(`${Y(t)} instances for asymmetric algorithm encryption must be of type "public"`)})(t,n,r,e)}ee.bind(void 0,!1);const te=ee.bind(void 0,!0);const ne=function(e,t,n,r,i){if(void 0!==i.crit&&void 0===r?.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of r.crit){if(!a.has(t))throw new g(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(a.get(t)&&void 0===r[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(r.crit)},re=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function ie(e,t){if(!D(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return p(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new g('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return B({...e,alg:t});default:throw new g('Unsupported "kty" (Key Type) Parameter value')}}async function ae(e,t,n){if(e instanceof Uint8Array&&(e=l.decode(e)),"string"!=typeof e)throw new v("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=e.split(".");if(3!==o)throw new v("Invalid Compact JWS");const u=await async function(e,t,n){if(!D(e))throw new v("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new v('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new v("JWS Protected Header incorrect type");if(void 0===e.payload)throw new v("JWS Payload missing");if("string"!=typeof e.signature)throw new v("JWS Signature missing or incorrect type");if(void 0!==e.header&&!D(e.header))throw new v("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const t=p(e.protected);r=JSON.parse(l.decode(t))}catch{throw new v("JWS Protected Header is invalid")}if(!Q(r,e.header))throw new v("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header};let a=!0;if(ne(v,new Map([["b64",!0]]),n?.crit,r,i).has("b64")&&(a=r.b64,"boolean"!=typeof a))throw new v('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=i;if("string"!=typeof o||!o)throw new v('JWS "alg" (Algorithm) Header Parameter missing or invalid');const u=n&&re("algorithms",n.algorithms);if(u&&!u.has(o))throw new m('"alg" (Algorithm) Header Parameter value not allowed');if(a){if("string"!=typeof e.payload)throw new v("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new v("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t?(t=await t(r,e),d=!0,te(o,t,"verify"),U(t)&&(t=await ie(t,o))):te(o,t,"verify");const f=c(s.encode(e.protected??""),s.encode("."),"string"==typeof e.payload?s.encode(e.payload):e.payload);let h,g;try{h=p(e.signature)}catch{throw new v("Failed to base64url decode the signature")}if(!await J(o,t,h,f))throw new _;if(a)try{g=p(e.payload)}catch{throw new v("Failed to base64url decode the payload")}else g="string"==typeof e.payload?s.encode(e.payload):e.payload;const b={payload:g};return void 0!==e.protected&&(b.protectedHeader=r),void 0!==e.header&&(b.unprotectedHeader=e.header),d?{...b,key:t}:b}({payload:i,protected:r,signature:a},t,n),d={payload:u.payload,protectedHeader:u.protectedHeader};return"function"==typeof t?{...d,key:u.key}:d}const oe=e=>Math.floor(e.getTime()/1e3),se=86400,le=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,ce=e=>{const t=le.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]);let r;switch(t[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":r=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":r=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":r=Math.round(3600*n);break;case"day":case"days":case"d":r=Math.round(n*se);break;case"week":case"weeks":case"w":r=Math.round(604800*n);break;default:r=Math.round(31557600*n)}return"-"===t[1]||"ago"===t[4]?-r:r},ue=e=>e.toLowerCase().replace(/^application\//,""),pe=(e,t,n={})=>{let r;try{r=JSON.parse(l.decode(t))}catch{}if(!D(r))throw new b("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&("string"!=typeof e.typ||ue(e.typ)!==ue(i)))throw new f('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:c,maxTokenAge:u}=n,p=[...a];void 0!==u&&p.push("iat"),void 0!==c&&p.push("aud"),void 0!==s&&p.push("sub"),void 0!==o&&p.push("iss");for(const e of new Set(p.reverse()))if(!(e in r))throw new f(`missing required "${e}" claim`,r,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new f('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new f('unexpected "sub" claim value',r,"sub","check_failed");if(c&&(d=r.aud,m="string"==typeof c?[c]:c,!("string"==typeof d?m.includes(d):Array.isArray(d)&&m.some(Set.prototype.has.bind(new Set(d))))))throw new f('unexpected "aud" claim value',r,"aud","check_failed");var d,m;let g;switch(typeof n.clockTolerance){case"string":g=ce(n.clockTolerance);break;case"number":g=n.clockTolerance;break;case"undefined":g=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:v}=n,y=oe(v||new Date);if((void 0!==r.iat||u)&&"number"!=typeof r.iat)throw new f('"iat" claim must be a number',r,"iat","invalid");if(void 0!==r.nbf){if("number"!=typeof r.nbf)throw new f('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+g)throw new f('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(void 0!==r.exp){if("number"!=typeof r.exp)throw new f('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-g)throw new h('"exp" claim timestamp check failed',r,"exp","check_failed")}if(u){const e=y-r.iat;if(e-g>("number"==typeof u?u:ce(u)))throw new h('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(e<0-g)throw new f('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};const de=async(e,t,n)=>{let r,i,a=!1;"function"==typeof AbortController&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},t));const o=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(e=>{if(a)throw new k;throw e});if(void 0!==i&&clearTimeout(i),200!==o.status)throw new d("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new d("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function fe(e){return D(e)}function he(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class me{constructor(e){if(this._cached=new WeakMap,!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(fe)}(e))throw new y("JSON Web Key Set malformed");this._jwks=he(e)}async getKey(e,t){const{alg:n,kid:r}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new g('Unsupported "alg" value for a JSON Web Key Set')}}(n),a=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof r&&(t=r===e.kid),t&&"string"==typeof e.alg&&(t=n===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(n){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":t="Ed25519"===e.crv;break;case"EdDSA":t="Ed25519"===e.crv||"Ed448"===e.crv}return t}),{0:o,length:s}=a;if(0===s)throw new w;if(1!==s){const e=new x,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await ge(t,e,n)}catch{}},e}return ge(this._cached,o,n)}}async function ge(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(void 0===r[n]){const e=await ie({...t,ext:!0},n);if(e instanceof Uint8Array||"public"!==e.type)throw new y("JSON Web Key Set members must be public keys");r[n]=e}return r[n]}function ve(e){const t=new me(e),n=async(e,n)=>t.getKey(e,n);return Object.defineProperties(n,{jwks:{value:()=>he(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}let be;if("undefined"==typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 ")){be=`${"jose"}/${"v5.10.0"}`}const ye=Symbol();class we{constructor(e,t){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");var n,r;this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,void 0!==t?.[ye]&&(this._cache=t?.[ye],n=t?.[ye],r=this._cacheMaxAge,"object"==typeof n&&null!==n&&"uat"in n&&"number"==typeof n.uat&&!(Date.now()-n.uat>=r)&&"jwks"in n&&D(n.jwks)&&Array.isArray(n.jwks.keys)&&Array.prototype.every.call(n.jwks.keys,D)&&(this._jwksTimestamp=this._cache.uat,this._local=ve(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(n){if(n instanceof w&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw n}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);be&&!e.has("User-Agent")&&(e.set("User-Agent",be),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=de(this._url,this._timeoutDuration,this._options).then(e=>{this._local=ve(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}const xe=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:u(e)};if(!S(e))throw new TypeError(O(e,...M,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...a}=await C.subtle.exportKey("jwk",e);return a};async function ke(e){return xe(e)}const _e=async(e,t,n)=>{const r=await K(e,t,"sign");A(e,r);const i=await C.subtle.sign(E(e,r.algorithm),r,n);return new Uint8Array(i)};class Ee{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new v("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Q(this._protectedHeader,this._unprotectedHeader))throw new v("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader};let r=!0;if(ne(v,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n).has("b64")&&(r=this._protectedHeader.b64,"boolean"!=typeof r))throw new v('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:i}=n;if("string"!=typeof i||!i)throw new v('JWS "alg" (Algorithm) Header Parameter missing or invalid');te(i,e,"sign");let a,o=this._payload;r&&(o=s.encode(u(o))),a=this._protectedHeader?s.encode(u(JSON.stringify(this._protectedHeader))):s.encode("");const p=c(a,s.encode("."),o),d=await _e(i,e,p),f={signature:u(d),payload:""};return r&&(f.payload=l.decode(o)),this._unprotectedHeader&&(f.header=this._unprotectedHeader),this._protectedHeader&&(f.protected=l.decode(a)),f}}class Ce{constructor(e){this._flattened=new Ee(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const n=await this._flattened.sign(e,t);if(void 0===n.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}function Se(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Ae{constructor(e={}){if(!D(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:Se("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Se("setNotBefore",oe(e))}:this._payload={...this._payload,nbf:oe(new Date)+ce(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:Se("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Se("setExpirationTime",oe(e))}:this._payload={...this._payload,exp:oe(new Date)+ce(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:oe(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Se("setIssuedAt",oe(e))}:this._payload="string"==typeof e?{...this._payload,iat:Se("setIssuedAt",oe(new Date)+ce(e))}:{...this._payload,iat:Se("setIssuedAt",e)},this}}class Te extends Ae{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){const n=new Ce(s.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new b("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}function Re(e){const t=e?.modulusLength??2048;if("number"!=typeof t||t<2048)throw new g("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function Pe(e,t){return async function(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Re(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Re(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Re(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"Ed25519":n={name:"Ed25519"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const e=t?.crv??"Ed25519";switch(e){case"Ed25519":case"Ed448":n={name:e};break;default:throw new g("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const e=t?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":n={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":n={name:e};break;default:throw new g("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new g('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return C.subtle.generateKey(n,t?.extractable??!1,r)}(e,t)}const Fe={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ie;const Ne=new Uint8Array(16);const Oe=[];for(let e=0;e<256;++e)Oe.push((e+256).toString(16).slice(1));function Le(e,t=0){return(Oe[e[t+0]]+Oe[e[t+1]]+Oe[e[t+2]]+Oe[e[t+3]]+"-"+Oe[e[t+4]]+Oe[e[t+5]]+"-"+Oe[e[t+6]]+Oe[e[t+7]]+"-"+Oe[e[t+8]]+Oe[e[t+9]]+"-"+Oe[e[t+10]]+Oe[e[t+11]]+Oe[e[t+12]]+Oe[e[t+13]]+Oe[e[t+14]]+Oe[e[t+15]]).toLowerCase()}const je=function(e,t,n){if(Fe.randomUUID&&!t&&!e)return Fe.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!Ie){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ie=crypto.getRandomValues.bind(crypto)}return Ie(Ne)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Le(r)},Me="solidClientAuthn:",De=["ES256","RS256"],Ue="error",Be="login",ze="logout",He="newRefreshToken",qe="sessionExpired",$e="sessionExtended",We="sessionRestore",Ve="timeoutSet",Ge=["openid","offline_access","webid"];class Ke{handleables;constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const t=await Promise.all(this.handleables.map(t=>t.canHandle(...e)));for(let e=0;e<t.length;e+=1)if(t[e])return this.handleables[e];return null}async canHandle(...e){return null!==await this.getProperHandler(e)}async handle(...e){const t=await this.getProperHandler(e);if(t)return t.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(e=>{try{return JSON.stringify(e)}catch(t){return e.toString()}}).join(", ")}`)}}async function Je(e,t,n,r){let i,a;try{const{payload:a}=await async function(e,t,n){const r=await ae(e,t,n);if(r.protectedHeader.crit?.includes("b64")&&!1===r.protectedHeader.b64)throw new b("JWTs MUST NOT use unencoded payload");const i={payload:pe(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return"function"==typeof t?{...i,key:r.key}:i}(e,function(e,t){const n=new we(e,t),r=async(e,t)=>n.getKey(e,t);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>n._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),r}(new URL(t)),{issuer:n,audience:r});i=a}catch(e){throw new Error(`Token verification failed: ${e.stack}`)}if("string"==typeof i.azp&&(a=i.azp),"string"==typeof i.webid)return{webId:i.webid,clientId:a};if("string"!=typeof i.sub)throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(e){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${e}].`)}}function Qe(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=""===t.hash;return n&&r}catch(e){return!1}}function Ye(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}class Xe{storageUtility;redirector;constructor(e,t){this.storageUtility=e,this.redirector=t,this.storageUtility=e,this.redirector=t}parametersGuard=e=>void 0!==e.issuerConfiguration.grantTypesSupported&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&void 0!==e.redirectUrl;async canHandle(e){return this.parametersGuard(e)}async setupRedirectHandler({oidcLoginOptions:e,state:t,codeVerifier:n,targetUrl:r}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");var i,a;await Promise.all([this.storageUtility.setForUser(t,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:n,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:Boolean(e.dpop).toString(),keepAlive:(i=e.keepAlive,a=!0,"boolean"==typeof i?Boolean(i):Boolean(a)).toString()})]),this.redirector.redirect(r,{handleRedirect:e.handleRedirect})}}class Ze{sessionInfoManager;constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class et{redirector;constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,t){return"idp"===t?.logoutType}async handle(e,t){if("idp"!==t?.logoutType)throw new Error("Attempting to call idp logout handler to perform app logout");if(void 0===t.toLogoutUrl)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(t.toLogoutUrl(t),{handleRedirect:t.handleRedirect})}}class tt{handlers;constructor(e,t){this.handlers=[new Ze(e),new et(t)]}async canHandle(){return!0}async handle(e,t){for(const n of this.handlers)await n.canHandle(e,t)&&await n.handle(e,t)}}function nt(){return{isLoggedIn:!1,sessionId:je(),fetch:(...e)=>fetch(...e)}}async function rt(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class it{storageUtility;constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,t){throw new Error("Not Implemented")}set(e,t){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return rt(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}async setOidcContext(e,t){throw new Error("Not implemented")}}function at({endSessionEndpoint:e,idTokenHint:t}){if(void 0!==e)return function({state:n,postLogoutUrl:r}){return function({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return void 0!==t&&i.searchParams.append("id_token_hint",t),void 0!==n&&(i.searchParams.append("post_logout_redirect_uri",n),void 0!==r&&i.searchParams.append("state",r)),i.toString()}({endSessionEndpoint:e,idTokenHint:t,state:n,postLogoutRedirectUri:r})}}function ot(e){try{return new URL(e),!0}catch{return!1}}async function st(e,t,n,r){let i;if(function(e,t){return t.scopesSupported.includes("webid")&&void 0!==e.clientId&&ot(e.clientId)}(e,t))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else{if(!function(e){return void 0!==e.clientId&&!ot(e.clientId)}(e))return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"}}const a={clientId:i.clientId,clientType:i.clientType};return"static"===i.clientType&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(e.sessionId,a),i}const lt=(e,t)=>fetch(e,t);class ct{loginHandler;redirectHandler;logoutHandler;sessionInfoManager;issuerConfigFetcher;boundLogout;constructor(e,t,n,r,i){this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=n,this.sessionInfoManager=r,this.issuerConfigFetcher=i,this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=n,this.sessionInfoManager=r,this.issuerConfigFetcher=i}fetch=lt;logout=async(e,t)=>{await this.logoutHandler.handle(e,"idp"===t?.logoutType?{...t,toLogoutUrl:this.boundLogout}:t),this.fetch=lt,delete this.boundLogout};getSessionInfo=async e=>this.sessionInfoManager.get(e);getAllSessionInfo=async()=>this.sessionInfoManager.getAll()}async function ut(e,t,n){try{const[r,i,a,o,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");return{codeVerifier:i,redirectUrl:a,issuerConfig:await n.fetchConfig(r),dpop:"true"===o,keepAlive:"string"!=typeof s||"true"===s}}catch(t){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${t}`)}}class pt{secureStorage;insecureStorage;constructor(e,t){this.secureStorage=e,this.insecureStorage=t,this.secureStorage=e,this.insecureStorage=t}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,t){const n=await(t?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(void 0===n)return{};try{return JSON.parse(n)}catch(r){throw new Error(`Data for user [${e}] in [${t?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${n}`)}}async setUserData(e,t,n){await(n?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(t))}async get(e,t){const n=await(t?.secure?this.secureStorage:this.insecureStorage).get(e);if(void 0===n&&t?.errorIfNull)throw new Error(`[${e}] is not stored`);return n}async set(e,t,n){return(n?.secure?this.secureStorage:this.insecureStorage).set(e,t)}async delete(e,t){return(t?.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,t,n){const r=await this.getUserData(e,n?.secure);let i;if(r&&r[t]||(i=void 0),i=r[t],void 0===i&&n?.errorIfNull)throw new Error(`Field [${t}] for user [${e}] is not stored`);return i||void 0}async setForUser(e,t,n){let r;try{r=await this.getUserData(e,n?.secure)}catch{r={}}await this.setUserData(e,{...r,...t},n?.secure)}async deleteForUser(e,t,n){const r=await this.getUserData(e,n?.secure);delete r[t],await this.setUserData(e,r,n?.secure)}async deleteAllUserData(e,t){await(t?.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class dt{map={};async get(e){return this.map[e]||void 0}async set(e,t){this.map[e]=t}async delete(e){delete this.map[e]}}class ft extends Error{constructor(e){super(e)}}Error;class ht extends Error{missingFields;constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class mt extends Error{error;errorDescription;constructor(e,t,n){super(e),this.error=t,this.errorDescription=n}}function gt(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function vt(e,t,n){return new Te({htu:gt(e),htm:t.toUpperCase(),jti:je()}).setProtectedHeader({alg:De[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function bt(e,t,n,r){if(void 0!==n)return async function(e,t,n,r){const i=new Headers(r?.headers);return i.set("Authorization",`DPoP ${t}`),i.set("DPoP",await vt(e,r?.method??"get",n)),{...r,headers:i}}(e,t,n,r);const i=new Headers(r?.headers);return i.set("Authorization",`Bearer ${t}`),{...r,headers:i}}async function yt(e,t,n,r,i=fetch){return i(t,await bt(t.toString(),e,r,n))}const wt=e=>void 0!==e?e-5>0?e-5:e:600;function xt(e,t){let n,r=e;const i=t?.refreshOptions;if(void 0!==i){const e=async()=>{try{const{accessToken:a,refreshToken:o,expiresIn:s}=await async function(e,t,n){const r=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return n?.emit($e,r.expiresIn??600),{accessToken:r.accessToken,refreshToken:r.refreshToken,expiresIn:r.expiresIn}}(i,t.dpopKey,t.eventEmitter);r=a,void 0!==o&&(i.refreshToken=o),clearTimeout(n),n=setTimeout(e,1e3*wt(s)),t.eventEmitter?.emit(Ve,n)}catch(e){e instanceof mt&&(t?.eventEmitter?.emit(Ue,e.error,e.errorDescription),t?.eventEmitter?.emit(qe)),e instanceof ht&&e.missingFields.includes("access_token")&&t?.eventEmitter?.emit(qe)}};n=setTimeout(e,1e3*wt(t.expiresIn)),t.eventEmitter?.emit(Ve,n)}else if(void 0!==t&&void 0!==t.eventEmitter){const e=setTimeout(()=>{t.eventEmitter.emit(qe)},1e3*wt(t.expiresIn));t.eventEmitter.emit(Ve,e)}return async(e,n)=>{let i=await yt(r,e,n,t?.dpopKey,t?.fetch);const a=!i.ok&&(o=i.status,![401,403].includes(o));var o;if(i.ok||a)return i;return i.url!==e&&void 0!==t?.dpopKey&&(i=await yt(r,i.url,n,t.dpopKey,t.fetch)),i}}var kt=o(7),_t=o(516);function Et(e,t){if("string"!=typeof e.client_id)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&function(e){return Array.isArray(e.redirect_uris)&&e.redirect_uris.every(e=>"string"==typeof e)}(e)&&e.redirect_uris[0]!==t.redirectUrl.toString())throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`);return!0}async function Ct(e,t){if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const n=(r=t.idTokenSigningAlgValuesSupported,De.find(e=>r.includes(e))??null);var r;const i={client_name:e.clientName,application_type:"web",redirect_uris:[e.redirectUrl?.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:n,grant_types:["authorization_code","refresh_token"]},a=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(a.ok){const t=await a.json();return Et(t,e),{clientId:t.client_id,clientSecret:t.client_secret,expiresAt:t.client_secret_expires_at,idTokenSignedResponseAlg:t.id_token_signed_response_alg,clientType:"dynamic"}}throw 400===a.status&&function(e,t){if("invalid_redirect_uri"===e.error)throw new Error(`Dynamic client registration failed: the provided redirect uri [${t.redirectUrl?.toString()}] is invalid - ${e.error_description??""}`);if("invalid_client_metadata"===e.error)throw new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${e.error_description??""}`);throw new Error(`Dynamic client registration failed: ${e.error} - ${e.error_description??""}`)}(await a.json(),e),new Error(`Dynamic client registration failed: the server returned ${a.status} ${a.statusText} - ${await a.text()}`)}function St(e){return void 0!==e.error_description&&"string"==typeof e.error_description}function At(e,t){if(void 0!==(n=e).error&&"string"==typeof n.error)throw new mt(`Token endpoint returned error [${e.error}]${St(e)?`: ${e.error_description}`:""}${function(e){return void 0!==e.error_uri&&"string"==typeof e.error_uri}(e)?` (see ${e.error_uri})`:""}`,e.error,St(e)?e.error_description:void 0);var n;if(!function(e){return void 0!==e.access_token&&"string"==typeof e.access_token}(e))throw new ht(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"==typeof e.id_token}(e))throw new ht(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"==typeof e.token_type}(e))throw new ht(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"==typeof e.expires_in}(e))throw new ht(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function Tt(e,t,n,r){!function(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}(e,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await async function(){const{privateKey:e,publicKey:t}=await Pe(De[0]),n={privateKey:e,publicKey:await ke(t)};return[n.publicKey.alg]=De,n}(),i.DPoP=await vt(e.tokenEndpoint,"POST",a)),t.clientSecret&&(i.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},l=await fetch(e.tokenEndpoint,s),c=At(await l.json(),r),{webId:u,clientId:p}=await Je(c.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:(d=c,void 0!==d.refresh_token&&"string"==typeof d.refresh_token?c.refresh_token:void 0),webId:u,clientId:p,dpopKey:a,expiresIn:c.expires_in};var d}async function Rt(e,t,n,r){if(void 0===n.clientId)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:e};let a={};void 0!==r&&(a={DPoP:await vt(t.tokenEndpoint,"POST",r)});let o={};void 0!==n.clientSecret?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:(e=>{try{return new URL(e),!0}catch{return!1}})(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch(e){throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=At(l,void 0!==r),{webId:u}=await Je(c.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:"string"==typeof c.refresh_token?c.refresh_token:void 0,webId:u,dpopKey:r,expiresIn:c.expires_in}}class Pt extends pt{constructor(e,t){super(e,t)}}class Ft extends ct{login=async(e,t)=>{"none"!==e.prompt&&await this.sessionInfoManager.clear(e.sessionId);const n=e.redirectUrl??function(e){const t=Ye(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}(window.location.href);if(!Qe(n))throw new Error(`${n} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:n,clientName:e.clientName??e.clientId,eventEmitter:t})};validateCurrentSession=async e=>{const t=await this.sessionInfoManager.get(e);return void 0===t||void 0===t.clientAppId||void 0===t.issuer?null:t};handleIncomingRedirect=async(e,t)=>{try{const n=await this.redirectHandler.handle(e,t,void 0);return this.fetch=n.fetch.bind(window),this.boundLogout=n.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:n.isLoggedIn,webId:n.webId,sessionId:n.sessionId,expirationDate:n.expirationDate,clientAppId:n.clientAppId}}catch(n){return await this.cleanUrlAfterRedirect(e),void t.emit(Ue,"redirect",n)}};async cleanUrlAfterRedirect(e){const t=Ye(e).href;for(window.history.replaceState(null,"",t);window.location.href!==t;)await new Promise(e=>{setTimeout(()=>e(),1)})}}function It(e){return"string"==typeof e.oidcIssuer}function Nt(e){return"string"==typeof e.redirectUrl}class Ot{storageUtility;oidcHandler;issuerConfigFetcher;clientRegistrar;constructor(e,t,n,r){this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async canHandle(e){return It(e)&&Nt(e)}async handle(e){if(!It(e))throw new ft(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!Nt(e))throw new ft(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const t=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),n=await st(e,t,this.storageUtility,this.clientRegistrar),r={issuer:t.issuer,dpop:"dpop"===e.tokenType.toLowerCase(),...e,issuerConfiguration:t,client:n,scopes:(i=e.customScopes,Array.isArray(i)?Array.from(new Set([...Ge,...i.filter(e=>"string"==typeof e&&!e.includes(" "))])):Ge)};var i;return this.oidcHandler.handle(r)}}class Lt extends Xe{async handle(e){const t={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:e.scopes.join(" "),filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:e.prompt??"consent"},n=new _t.OidcClient(t);try{const t=await n.createSigninRequest();return await this.setupRedirectHandler({oidcLoginOptions:e,state:t.state._id,codeVerifier:t.state._code_verifier,targetUrl:t.url.toString()})}catch(e){}}}const jt={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};class Mt{storageUtility;constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let t;const n=new URL(".well-known/openid-configuration",e.endsWith("/")?e:`${e}/`).href,r=await fetch(n);try{t=function(e){const t={};return Object.keys(e).forEach(n=>{jt[n]&&(t[jt[n].toKey]=e[n])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}(await r.json())}catch(t){throw new ft(`[${e.toString()}] has an invalid configuration: ${t.message}`)}return await this.storageUtility.set(Mt.getLocalStorageKey(e),JSON.stringify(t)),t}}async function Dt(e,t){await rt(e,t),await async function(){const e=new _t.OidcClient({response_mode:"query"});await e.clearStaleState(new _t.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let e=0;e<=t.length;e+=1){const r=t.key(e);r&&(r.match(/^oidc\..+$/)||r.match(/^solidClientAuthenticationUser:.+$/))&&n.push(r)}n.forEach(e=>t.removeItem(e))}()}class Ut extends it{async get(e){const[t,n,r,i,a,o,s,l]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if("string"!=typeof a||Qe(a)){if(void 0!==l&&("string"!=typeof(c=l)||!["DPoP","Bearer"].includes(c)))throw new Error(`Tokens of type [${l}] are not supported.`);var c;if(void 0!==r||void 0!==t||void 0!==n||void 0!==o)return{sessionId:e,webId:n,isLoggedIn:"true"===t,redirectUrl:a,refreshToken:o,issuer:s,clientAppId:r,clientAppSecret:i,tokenType:l??"DPoP"}}else await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})])}async clear(e){return Dt(e,this.storageUtility)}}class Bt{async canHandle(e){try{return new URL(e),!0}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e){return nt()}}class zt{storageUtility;sessionInfoManager;issuerConfigFetcher;clientRegistrar;tokerRefresher;constructor(e,t,n,r,i){this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.tokerRefresher=i,this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.tokerRefresher=i}async canHandle(e){try{const t=new URL(e);return null!==t.searchParams.get("code")&&null!==t.searchParams.get("state")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const n=new URL(e),r=n.searchParams.get("state"),i=await this.storageUtility.getForUser(r,"sessionId",{errorIfNull:!0}),{issuerConfig:a,codeVerifier:o,redirectUrl:s,dpop:l}=await ut(i,this.storageUtility,this.issuerConfigFetcher),c=n.searchParams.get("iss");if("string"==typeof c&&c!==a.issuer)throw new Error(`The value of the iss parameter (${c}) does not match the issuer identifier of the authorization server (${a.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(void 0===o)throw new Error(`The code verifier for session ${i} is missing from storage.`);if(void 0===s)throw new Error(`The redirect URL for session ${i} is missing from storage.`);const u=await this.clientRegistrar.getClient({sessionId:i},a),p=Date.now(),d=await Tt(a,u,{grantType:"authorization_code",code:n.searchParams.get("code"),codeVerifier:o,redirectUrl:s},l);let f;window.localStorage.removeItem(`oidc.${r}`),void 0!==d.refreshToken&&(f={sessionId:i,refreshToken:d.refreshToken,tokenRefresher:this.tokerRefresher});const h=xt(d.accessToken,{dpopKey:d.dpopKey,refreshOptions:f,eventEmitter:t,expiresIn:d.expiresIn});await async function(e,t,n,r,i,a,o,s){void 0!==a&&await e.setForUser(t,{refreshToken:a},{secure:o}),void 0!==n&&await e.setForUser(t,{webId:n},{secure:o}),void 0!==r&&await e.setForUser(t,{clientId:r},{secure:o}),void 0!==i&&await e.setForUser(t,{isLoggedIn:i},{secure:o}),void 0!==s&&await e.setForUser(t,{publicKey:JSON.stringify(s.publicKey),privateKey:JSON.stringify(await ke(s.privateKey))},{secure:o})}(this.storageUtility,i,d.webId,d.clientId,"true",void 0,!0);const m=await this.sessionInfoManager.get(i);if(!m)throw new Error(`Could not retrieve session: [${i}].`);return Object.assign(m,{fetch:h,getLogoutUrl:at({idTokenHint:d.idToken,endSessionEndpoint:a.endSessionEndpoint}),expirationDate:"number"==typeof d.expiresIn?p+1e3*d.expiresIn:void 0})}}class Ht extends Ke{constructor(e){super(e)}}class qt{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,t){this.storage.setItem(e,t)}async delete(e){this.storage.removeItem(e)}}class $t{redirect(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class Wt{storageUtility;constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,t){const[n,r,i,a,o]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"expiresAt",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]),s=void 0!==i?Number.parseInt(i,10):-1,l=void 0!==r&&0!==s&&Math.floor(Date.now()/1e3)>s;if(n&&("string"==typeof(c=o)&&["dynamic","static","solid-oidc"].includes(c))&&!l)return void 0!==r?{clientId:n,clientSecret:r,clientName:a,clientType:"dynamic",expiresAt:s}:{clientId:n,clientName:a,clientType:o};var c;try{const n=await Ct(e,t),r={clientId:n.clientId,clientType:"dynamic"};return void 0!==n.clientSecret&&(r.clientSecret=n.clientSecret,r.expiresAt=String(n.expiresAt)),n.idTokenSignedResponseAlg&&(r.idTokenSignedResponseAlg=n.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,r,{secure:!1}),n}catch(e){throw new Error("Client registration failed.",{cause:e})}}}class Vt{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(void 0!==t){const n=new URL(e),r=n.searchParams.get("error"),i=n.searchParams.get("error_description");t.emit(Ue,r,i)}return nt()}}class Gt{storageUtility;issuerConfigFetcher;clientRegistrar;constructor(e,t,n){this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=n,this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=n}async refresh(e,t,n,r){const i=await ut(e,this.storageUtility,this.issuerConfigFetcher),a=await this.clientRegistrar.getClient({sessionId:e},i.issuerConfig);if(void 0===t)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(i.dpop&&void 0===n)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const o=await Rt(t,i.issuerConfig,a,n);return void 0!==o.refreshToken&&r?.emit(He,o.refreshToken),o}}function Kt(e){const t=new dt,n=e.secureStorage||t,r=e.insecureStorage||new qt,i=new Pt(n,r),a=new Mt(i),o=new Wt(i),s=new Ut(i),l=new Gt(i,a,o),c=new $t,u=new Ot(i,new Lt(i,c),a,o),p=new Ht([new Vt,new zt(i,s,a,o,l),new Bt]);return new Ft(u,p,new tt(s,c),s,a)}const Jt=`${Me}currentSession`,Qt=`${Me}currentUrl`;class Yt{info;events;clientAuthentication;tokenRequestInProgress=!1;constructor(e={},t=void 0){this.events=new kt,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=Kt({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=Kt({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:t??je(),isLoggedIn:!1},this.events.on(Be,()=>window.localStorage.setItem(Jt,this.info.sessionId)),this.events.on(qe,()=>this.internalLogout(!1)),this.events.on(Ue,()=>this.internalLogout(!1))}login=async e=>(await this.clientAuthentication.login({sessionId:this.info.sessionId,...e,tokenType:e.tokenType??"DPoP"},this.events),new Promise(()=>{}));fetch=(e,t)=>this.clientAuthentication.fetch(e,t);internalLogout=async(e,t)=>{window.localStorage.removeItem(Jt),await this.clientAuthentication.logout(this.info.sessionId,t),this.info.isLoggedIn=!1,e&&this.events.emit(ze)};logout=async e=>this.internalLogout(!0,e);handleIncomingRedirect=async(e={})=>{if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const t="string"==typeof e?{url:e}:e,n=t.url??window.location.href;this.tokenRequestInProgress=!0;const r=await this.clientAuthentication.handleIncomingRedirect(n,this.events);if(function(e){return!!e?.isLoggedIn}(r)){this.setSessionInfo(r);const e=window.localStorage.getItem(Qt);null===e?this.events.emit(Be):(window.localStorage.removeItem(Qt),this.events.emit(We,e))}else if(!0===t.restorePreviousSession){const e=window.localStorage.getItem(Jt);if(null!==e){if(await async function(e,t,n){const r=await t.validateCurrentSession(e);return null!==r&&(window.localStorage.setItem(Qt,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:r.issuer,redirectUrl:r.redirectUrl,clientId:r.clientAppId,clientSecret:r.clientAppSecret,tokenType:r.tokenType??"DPoP"},n.events),!0)}(e,this.clientAuthentication,this))return new Promise(()=>{})}}return this.tokenRequestInProgress=!1,r};setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on($e,e=>{this.info.expirationDate=Date.now()+1e3*e})}}const Xt=new Yt,Zt=r;var en=o(386);const tn=o.n(en)()(Zt),nn=(0,Zt.sym)("http://www.iana.org/assignments/link-relations/acl");function rn(e){const t=tn;function n(e,n,r,i={}){const a=i.public||[],o=(0,Zt.graph)(),s=(0,Zt.Namespace)("http://www.w3.org/ns/auth/acl#");let l=o.sym(`${r}#a1`);const c=o.sym(r),u=o.sym(e);if(o.add(l,t.rdf("type"),s("Authorization"),c),o.add(l,s("accessTo"),u,c),i.defaultForNew&&o.add(l,s("default"),u,c),o.add(l,s("agent"),n,c),o.add(l,s("mode"),s("Read"),c),o.add(l,s("mode"),s("Write"),c),o.add(l,s("mode"),s("Control"),c),a.length){l=o.sym(`${r}#a2`),o.add(l,t.rdf("type"),s("Authorization"),c),o.add(l,s("accessTo"),u,c),o.add(l,s("agentClass"),t.foaf("Agent"),c);for(let e=0;e<a.length;e++)o.add(l,s("mode"),s(a[e]),c)}return(0,Zt.serialize)(c,o,r)}return{findAclDocUrl:async function(t){await e.fetcher.load(t);const n=e.any(t,nn);if(!n)throw new Error(`No ACL link discovered for ${t}`);return n.value},setACLUserPublic:function(t,r,i){const a=e.any(e.sym(t),nn);return Promise.resolve().then(()=>a||function(t){const n=e.fetcher;if(!n)throw new Error("Cannot fetch ACL rel, store has no fetcher");return n.load(t).then(n=>{if(!n.ok)throw new Error("fetchACLRel: While loading:"+n.error);const r=e.any(e.sym(t),nn);if(!r)throw new Error("fetchACLRel: No Link rel=ACL header for "+t);return r})}(t).catch(e=>{throw new Error(`Error fetching rel=ACL header for ${t}: ${e}`)})).then(a=>{const o=n(t,r,a.uri,i);if(!e.fetcher)throw new Error("Cannot PUT this, store has no fetcher");return e.fetcher.webOperation("PUT",a.uri,{data:o,contentType:"text/turtle"}).then(e=>{if(!e.ok)throw new Error("Error writing ACL text: "+e.error);return a})})},genACLText:n}}const an=()=>{let{SolidAppContext:e}=window;if(e||(e={}),e.viewingNoAuthPage=!1,e.noAuth&&window.document){if(window.document.location.href.startsWith(e.noAuth)){e.viewingNoAuthPage=!0;const t=new URLSearchParams(window.document.location.search);if(t){let n=e.viewedPage=t.get("uri")||null;if(n&&(n=decodeURI(n),!n.startsWith(e.noAuth))){const t=n.split(/\//);e.idp=t[0]+"//"+t[2],e.viewingNoAuthPage=!1}}}}return e};function on(){const{$SolidTestEnvironment:e}=window;if(void 0!==e&&e.username)return e.username,(0,Zt.sym)(e.username);if("undefined"!=typeof document&&document.location&&"http://localhost"===(""+document.location).slice(0,16)){const e=document.getElementById("appTarget");if(!e)return null;const t=e.getAttribute("testID");return t?(0,Zt.sym)(t):null}return null}class sn{constructor(e){this.session=e}get authSession(){return this.session}currentUser(){const e=an();return e.viewingNoAuthPage?(0,Zt.sym)(e.webId):this&&this.session&&this.session.info&&this.session.info.webId&&this.session.info.isLoggedIn?(0,Zt.sym)(this.session.info.webId):on()}async checkUser(e){const t=new URL(window.location.href).hash;t&&window.localStorage.setItem("preLoginRedirectHash",t),this.session.events.on(We,e=>{document.location.toString()!==e&&history.replaceState(null,"",e)});const n=new URL(window.location.href);n.hash="",await this.session.handleIncomingRedirect({restorePreviousSession:!0,url:n.href});const r=window.localStorage.getItem("preLoginRedirectHash");if(r){const e=new URL(window.location.href);e.hash!==r&&(history.pushState?history.pushState(null,document.title,r):location.hash=r,e.hash=r),window.localStorage.setItem("preLoginRedirectHash","")}let i=on();if(i)return Promise.resolve(e?e(i):i);const a=this.webIdFromSession(this.session.info);return a&&(i=this.saveUser(a)),Promise.resolve(e?e(i):i)}saveUser(e,t){let n;if(e){n="string"==typeof e?e:e.uri;const r=(0,Zt.namedNode)(n);return t&&(t.me=r),r}return null}webIdFromSession(e){return(null==e?void 0:e.webId)&&e.isLoggedIn?e.webId:null}}function ln(e){return(0,Zt.sym)(e.uri+"#id"+Date.now())}function cn(e){return!e||`${window.location.origin}/`!==new URL(e.value).origin}const un="index.ttl#this";function pn(e,t){const n=tn;async function r(t,n,r){await e.fetcher.load(t);const i=e.any(t,new Zt.NamedNode("http://www.iana.org/assignments/link-relations/acl"));if(!i)throw new Error("Chat ACL doc not found!");const a=`\n            @prefix acl: <http://www.w3.org/ns/auth/acl#>.\n            <#owner>\n            a acl:Authorization;\n            acl:agent <${n.value}>;\n            acl:accessTo <.>;\n            acl:default <.>;\n            acl:mode\n                acl:Read, acl:Write, acl:Control.\n            <#invitee>\n            a acl:Authorization;\n            acl:agent <${r.value}>;\n            acl:accessTo <.>;\n            acl:default <.>;\n            acl:mode\n                acl:Read, acl:Append.\n            `;await e.fetcher.webOperation("PUT",i.value,{data:a,contentType:"text/turtle"})}async function i(t,r){const i=e.any(r,n.solid("privateTypeIndex"));if(!i)throw new Error("Private type index not found!");await e.fetcher.load(i);const a=ln(i),o=[(0,Zt.st)(a,n.rdf("type"),n.solid("TypeRegistration"),i.doc()),(0,Zt.st)(a,n.solid("forClass"),n.meeting("LongChat"),i.doc()),(0,Zt.st)(a,n.solid("instance"),t,i.doc())];await new Promise((t,n)=>{e.updater.update([],o,function(e,r,i){r?t(null):n(new Error(i))})})}async function a(n){const r=await t.loadMe(),i=function(e,t){const n=new URL(`IndividualChats/${new URL(e.value).host}/`,t.value).toString();return new Zt.NamedNode(n)}(n,await t.getPodRoot(r));let a=!0;try{await e.fetcher.load(new Zt.NamedNode(i.value+"index.ttl#this"))}catch(e){a=!1}return{me:r,chatContainer:i,exists:a}}async function o(e,t){return(await s({me:t,newBase:e.value})).newInstance}function s(t){const r=e,i=r.updater;if(t.me&&!t.me.uri)throw new Error("chat mintNew:  Invalid userid "+t.me);const a=t.newInstance=t.newInstance||r.sym(t.newBase+un),o=a.doc();return r.add(a,n.rdf("type"),n.meeting("LongChat"),o),r.add(a,n.dc("title"),"Chat channel",o),r.add(a,n.dc("created"),(0,Zt.term)(new Date(Date.now())),o),t.me&&r.add(a,n.dc("author"),t.me,o),new Promise(function(e,n){null==i||i.put(o,r.statementsMatching(void 0,void 0,void 0,o),"text/turtle",function(r,i,o){i?e({...t,newInstance:a}):n(new Error("FAILED to save new chat channel at: "+r+" : "+o))})})}async function l(t,r){var i;await e.fetcher.load(t.doc());const a=e.any(t,n.ldp("inbox"),void 0,t.doc());if(!a)throw new Error(`Invitee inbox not found! ${t.value}`);const o=`\n        <> a <http://www.w3.org/ns/pim/meeting#LongChatInvite> ;\n        ${n.rdf("seeAlso")} <${r.value}> .\n        `,s=await(null===(i=e.fetcher)||void 0===i?void 0:i.webOperation("POST",a.value,{data:o,contentType:"text/turtle"}));if(!(null==s?void 0:s.headers.get("location")))throw new Error(`Invite sending returned a ${null==s?void 0:s.status}`)}return{setAcl:r,addToPrivateTypeIndex:i,findChat:a,createChatThing:o,getChat:async function(e,t=!0){const{me:n,chatContainer:s,exists:c}=await a(e);if(c)return new Zt.NamedNode(s.value+un);if(t){const t=await o(s,n);return await l(e,t),await r(s,n,e),await i(t,n),t}return null},sendInvite:l,mintNew:s}}function dn(e,t,n,r,i){return{createInboxFor:async function(e,i){const a=await t.loadMe(),o=`${(await t.getPodRoot(a)).value}p2p-inboxes/${encodeURIComponent(i)}/`;return await r.createContainer(o),await n.setSinglePeerAccess({ownerWebId:a.value,peerWebId:e,accessToModes:"acl:Append",target:o}),o},getNewMessages:async function(e){e||(e=await t.loadMe());const n=await t.getMainInbox(e);return(await r.getContainerMembers(n)).filter(e=>!r.isContainer(e))},markAsRead:async function(t,n){const r=await e.fetcher._fetch(t);if(200!==r.status)throw new Error(`Not OK! ${t}`);const i=function(e,t){const n=t.getUTCFullYear(),r=("0"+(t.getUTCMonth()+1)).slice(-2),i=("0"+t.getUTCDate()).slice(-2),a=e.split("/"),o=a[a.length-1];return new URL(`./archive/${n}/${r}/${i}/${o}`,e).toString()}(t,n),a={method:"PUT",body:await r.text(),headers:[["Content-Type",r.headers.get("Content-Type")||"application/octet-stream"]]};"2"===(await e.fetcher._fetch(i,a)).status.toString()[0]&&await e.fetcher._fetch(t,{method:"DELETE"})}}}class fn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=new.target.name}}class hn extends fn{}class mn extends fn{}class gn extends fn{}class vn extends fn{}class bn extends fn{}class yn extends fn{}class wn extends fn{constructor(e,t){super(t),this.status=e}}function xn(e,t,n){const r=tn;async function i(t){await a(t);const i=function(e){const t=e.uri.replace("/profile/","/").replace("/public/","/").split("/").slice(0,-1).join("/")+"/Settings/Preferences.ttl";return(0,Zt.sym)(t)}(t);let o;try{o=await n.followOrCreateLink(t,r.space("preferencesFile"),i,t.doc())}catch(e){if(e instanceof bn)throw e;if(e instanceof yn)throw e;if(e instanceof hn)throw e;if(e instanceof mn)throw e;if(e instanceof gn)throw e;if(e instanceof wn)throw e;throw e}try{await e.fetcher.load(o)}catch(e){const n=`Unable to load preference of user ${t}: ${e}`;if(401===e.response.status)throw new hn;if(403===e.response.status){if(cn(o))throw new mn;throw new gn}throw new Error(n)}return o}async function a(t){if(!t)throw new Error("loadProfile: no user given.");try{await e.fetcher.load(t.doc())}catch(e){throw new Error(`Unable to load profile of user ${t}: ${e}`)}return t.doc()}function o(t){return e.any(t,r.space("storage"),void 0,t.doc())}return{loadMe:async function(){const n=t.currentUser();if(null===n)throw new Error("Current user not found! Not logged in?");return await e.fetcher.load(n.doc()),n},getPodRoot:function(e){const t=o(e);if(!t)throw new Error("User pod root not found!");return t},getMainInbox:async function(t){await e.fetcher.load(t);const n=e.any(t,r.ldp("inbox"),void 0,t.doc());if(!n)throw new Error("User main inbox not found!");return n},findStorage:o,loadPreferences:i,loadProfile:a,silencedLoadPreferences:async function(e){try{return await i(e)}catch(e){return}}}}function kn(e,t,n,r){const i=tn;async function a(t){if(!t)throw new Error("loadTypeIndexesFor: No user given");const a=await n.loadProfile(t),o=c(t);let s;try{s=await r.followOrCreateLink(t,i.solid("publicTypeIndex"),o,a)}catch(e){}const l=s?[{label:"public",index:s,agent:t}]:[];let p,d;try{p=await n.silencedLoadPreferences(t)}catch(e){p=null}if(p){const n=u(p);let o;try{o=e.any(t,i.solid("privateTypeIndex"),void 0,a)||await r.followOrCreateLink(t,i.solid("privateTypeIndex"),n,p)}catch(e){}d=o?[{label:"private",index:o,agent:t}]:[]}else d=[];const f=l.concat(d);if(0===f.length)return f;const h=f.map(e=>e.index);try{await e.fetcher.load(h)}catch(e){}return f}async function o(t){let r;try{r=await n.silencedLoadPreferences(t)}catch(e){}if(r){const n=e.each(t,i.solid("community"),void 0,r).concat(e.each(t,i.solid("community"),void 0,t.doc()));let o=[];for(const e of n)o=o.concat(await a(e));return o}return[]}async function s(e){return(await a(e)).concat((await o(e)).flat())}async function l(e,t){const n=await s(t);let r=[];for(const t of n){const n=await p(t,e);r=r.concat(n)}return r}function c(e){var t;return(0,Zt.sym)((null===(t=e.doc().dir())||void 0===t?void 0:t.uri)+"publicTypeIndex.ttl")}function u(e){var t;return(0,Zt.sym)((null===(t=e.doc().dir())||void 0===t?void 0:t.uri)+"privateTypeIndex.ttl")}async function p(t,n){const r=t.index,a=[],o=e.statementsMatching(null,i.solid("instance"),null,r).concat(e.statementsMatching(null,i.solid("instanceContainer"),null,r)).map(e=>e.subject);for(const s of o){const o=e.any(s,i.solid("forClass"),null,r);if(!n||o.sameTerm(n)){const n=e.each(s,i.solid("instance"),null,r);for(const e of n)a.push({instance:e,type:o,scope:t});const l=e.each(s,i.solid("instanceContainer"),null,r);for(const n of l)await e.fetcher.load(n),a.push({instance:(0,Zt.sym)(n.value),type:o,scope:t})}}return a}return{registerInTypeIndex:async function(t,n,r){const a=ln(n),o=[(0,Zt.st)(a,i.rdf("type"),i.solid("TypeRegistration"),n),(0,Zt.st)(a,i.solid("forClass"),r,n),(0,Zt.st)(a,i.solid("instance"),t,n)];try{await e.updater.update([],o)}catch(e){return null}return a},getRegistrations:function(t,n){return e.each(void 0,i.solid("instance"),t).filter(t=>e.holds(t,i.solid("forClass"),n))},loadTypeIndexesFor:a,loadCommunityTypeIndexes:o,loadAllTypeIndexes:s,getScopedAppInstances:l,getAppInstances:async function(e){const n=t.currentUser();if(!n)throw new Error("getAppInstances: Must be logged in to find apps.");return(await l(e,n)).map(e=>e.instance)},suggestPublicTypeIndex:c,suggestPrivateTypeIndex:u,deleteTypeIndexRegistration:async function(t){const n=e.the(null,i.solid("instance"),t.instance,t.scope.index);if(!n)throw new Error(`deleteTypeIndexRegistration: No registration found for ${t.instance}`);const r=e.statementsMatching(n,null,null,t.scope.index);await e.updater.update(r,[])},getScopedAppsFromIndex:p}}function _n(e,t){const n=Zt.graph();Zt.fetcher(n,{fetch:e.fetch}),n.updater=new Zt.UpdateManager(n),n.features=[];const r=new sn(t),i=rn(n),a=function(e){function t(t){return e.statementsMatching(t,(0,Zt.sym)("http://www.w3.org/ns/ldp#contains"),void 0).map(e=>e.object)}function n(e){const t=e.value;return"/"===t.charAt(t.length-1)}return{isContainer:n,createContainer:async function(t){if(!n((0,Zt.sym)(t)))throw new Error(`Not a container URL ${t}`);const r=await e.fetcher._fetch(t,{method:"PUT",headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"'},body:" "});if("2"!==r.status.toString()[0])throw new Error(`Not OK: got ${r.status} response while creating container at ${t}`)},getContainerElements:t,getContainerMembers:async function(n){return await e.fetcher.load(n),t(n)}}}(n),o=function(e,t,n){async function r(t){let n;try{n=await e.fetcher.load(t)}catch(n){if(404!==n.response.status){if(401===n.response.status)throw new hn;if(403===n.response.status){if(cn(t))throw new mn;throw new gn}const e="createIfNotExists doc load error NOT 404:  "+t+": "+n;throw new wn(n.status,n.message+e)}try{await e.fetcher.webOperation("PUT",t,{data:"",contentType:"text/turtle"})}catch(e){throw new yn("createIfNotExists: PUT FAILED: "+t+": "+e)}await e.fetcher.load(t)}return n}return{recursiveDelete:async function r(i){try{if(n.isContainer(i)){const a=await t.findAclDocUrl(i);await e.fetcher._fetch(a,{method:"DELETE"});const o=await n.getContainerMembers(i);await Promise.all(o.map(e=>r(e)))}const a=i.value;return e.fetcher._fetch(a,{method:"DELETE"})}catch(e){i.value}},setSinglePeerAccess:async function(n){let r=["@prefix acl: <http://www.w3.org/ns/auth/acl#>.","",`<#alice> a acl:Authorization;\n  acl:agent <${n.ownerWebId}>;`,`  acl:accessTo <${n.target}>;`,`  acl:default <${n.target}>;`,"  acl:mode acl:Read, acl:Write, acl:Control.",""].join("\n");n.accessToModes&&(r+=["<#bobAccessTo> a acl:Authorization;",`  acl:agent <${n.peerWebId}>;`,`  acl:accessTo <${n.target}>;`,`  acl:mode ${n.accessToModes}.`,""].join("\n")),n.defaultModes&&(r+=["<#bobDefault> a acl:Authorization;",`  acl:agent <${n.peerWebId}>;`,`  acl:default <${n.target}>;`,`  acl:mode ${n.defaultModes}.`,""].join("\n"));const i=await t.findAclDocUrl((0,Zt.sym)(n.target));return e.fetcher._fetch(i,{method:"PUT",body:r,headers:[["Content-Type","text/turtle"]]})},createEmptyRdfDoc:async function(t,n){await e.fetcher.webOperation("PUT",t.uri,{data:`# ${new Date} ${n}\n  `,contentType:"text/turtle"})},followOrCreateLink:async function(t,n,i,a){await e.fetcher.load(a);const o=e.any(t,n,null,a);if(o)return o;if(!e.updater.editable(a)){const e=`followOrCreateLink: cannot edit ${a.value}`;throw new bn(e)}try{await e.updater.update([],[(0,Zt.st)(t,n,i,a)])}catch(e){throw new yn(e)}try{await r(i)}catch(e){throw e}return i},loadOrCreateIfNotExists:r}}(n,i,a),s=xn(n,r,o),l=pn(n,s),c=dn(n,s,o,a),u=kn(n,r,s,o);return{store:n,authn:r,acl:i,inbox:c,chat:l,profile:s,typeIndex:u,load:function(e){return n.fetcher.load(e)},updatePromise:function(e,t=[]){return new Promise((r,i)=>{n.updater.update(e,t,function(e,t,n){t?r():i(new Error(n))})})},clearStore:function(){n.statements.slice().forEach(n.remove.bind(n))}}}const En=async(e,t)=>{const n=t&&t.credentials&&"omit"==t.credentials;return Xt.info.webId&&!n?Xt.fetch(e,t):window.fetch(e,t)},Cn=Symbol.for("solid-logic-singleton"),Sn="undefined"!=typeof window?window:o.g;const An=(Sn[Cn]||(Sn[Cn]=_n({fetch:En},Xt)),Sn[Cn]),Tn=[{name:"Solid Community",uri:"https://solidcommunity.net"},{name:"Solid Web",uri:"https://solidweb.org"},{name:"Solid Web ME",uri:"https://solidweb.me"},{name:"Inrupt.com",uri:"https://login.inrupt.com"}];function Rn(){const e=[...Tn],{host:t,origin:n}=new URL(location.href),r=e.map(({uri:e})=>new URL(e).host);return r.includes(t)||r.some(e=>function(e,t){const n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(t,e))||e.unshift({name:t,uri:n}),e}const Pn=An.authn,Fn=An.authn.authSession,In=An.store},9365:(e,t,n)=>{"use strict";const r=n(5606),{AbortError:i,codes:a}=n(8526),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=a,{kEmptyObject:l,once:c}=n(6017),{validateAbortSignal:u,validateFunction:p,validateObject:d,validateBoolean:f}=n(2224),{Promise:h,PromisePrototypeThen:m,SymbolDispose:g}=n(4641),{isClosed:v,isReadable:b,isReadableNodeStream:y,isReadableStream:w,isReadableFinished:x,isReadableErrored:k,isWritable:_,isWritableNodeStream:E,isWritableStream:C,isWritableFinished:S,isWritableErrored:A,isNodeStream:T,willEmitClose:R,kIsClosedPromise:P}=n(136);let F;const I=()=>{};function N(e,t,a){var f,h;if(2===arguments.length?(a=t,t=l):null==t?t=l:d(t,"options"),p(a,"callback"),u(t.signal,"options.signal"),a=c(a),w(e)||C(e))return function(e,t,a){let o=!1,s=I;if(t.signal)if(s=()=>{o=!0,a.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(s);else{F=F||n(6017).addAbortListener;const r=F(t.signal,s),i=a;a=c((...t)=>{r[g](),i.apply(e,t)})}const l=(...t)=>{o||r.nextTick(()=>a.apply(e,t))};return m(e[P].promise,l,l),I}(e,t,a);if(!T(e))throw new o("stream",["ReadableStream","WritableStream","Stream"],e);const N=null!==(f=t.readable)&&void 0!==f?f:y(e),O=null!==(h=t.writable)&&void 0!==h?h:E(e),L=e._writableState,j=e._readableState,M=()=>{e.writable||B()};let D=R(e)&&y(e)===N&&E(e)===O,U=S(e,!1);const B=()=>{U=!0,e.destroyed&&(D=!1),(!D||e.readable&&!N)&&(N&&!z||a.call(e))};let z=x(e,!1);const H=()=>{z=!0,e.destroyed&&(D=!1),(!D||e.writable&&!O)&&(O&&!U||a.call(e))},q=t=>{a.call(e,t)};let $=v(e);const W=()=>{$=!0;const t=A(e)||k(e);return t&&"boolean"!=typeof t?a.call(e,t):N&&!z&&y(e,!0)&&!x(e,!1)?a.call(e,new s):!O||U||S(e,!1)?void a.call(e):a.call(e,new s)},V=()=>{$=!0;const t=A(e)||k(e);if(t&&"boolean"!=typeof t)return a.call(e,t);a.call(e)},G=()=>{e.req.on("finish",B)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?O&&!L&&(e.on("end",M),e.on("close",M)):(e.on("complete",B),D||e.on("abort",W),e.req?G():e.on("request",G)),D||"boolean"!=typeof e.aborted||e.on("aborted",W),e.on("end",H),e.on("finish",B),!1!==t.error&&e.on("error",q),e.on("close",W),$?r.nextTick(W):null!=L&&L.errorEmitted||null!=j&&j.errorEmitted?D||r.nextTick(V):(N||D&&!b(e)||!U&&!1!==_(e))&&(O||D&&!_(e)||!z&&!1!==b(e))?j&&e.req&&e.aborted&&r.nextTick(V):r.nextTick(V);const K=()=>{a=I,e.removeListener("aborted",W),e.removeListener("complete",B),e.removeListener("abort",W),e.removeListener("request",G),e.req&&e.req.removeListener("finish",B),e.removeListener("end",M),e.removeListener("close",M),e.removeListener("finish",B),e.removeListener("end",H),e.removeListener("error",q),e.removeListener("close",W)};if(t.signal&&!$){const o=()=>{const n=a;K(),n.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{F=F||n(6017).addAbortListener;const r=F(t.signal,o),i=a;a=c((...t)=>{r[g](),i.apply(e,t)})}}return K}e.exports=N,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(f(t.cleanup,"cleanup"),r=t.cleanup),new h((n,i)=>{const a=N(e,t,e=>{r&&a(),e?i(e):n()})})}},9370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(500),i=n(9332),a=n(8230);const o={icon:r.icons.iconBase+"noun_79217.svg",name:"pad",audience:[r.ns.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/ns/pim/pad#Notepad"]?"pad":null},mintClass:r.ns.pad("Notepad"),mintNew:function(e,t){const n=e.session.store,i=n.updater;if(t.me&&!t.me.uri)throw new Error("notepad mintNew:  Invalid userid");const a=t.newInstance=t.newInstance||n.sym(t.newBase+"index.ttl#this"),o=a.doc();n.add(a,r.ns.rdf("type"),r.ns.pad("Notepad"),o),n.add(a,r.ns.dc("title"),"Shared Notes",o),n.add(a,r.ns.dc("created"),new Date,o),t.me&&n.add(a,r.ns.dc("author"),t.me,o);const s=n.sym(a.uri+"_line0");return n.add(a,r.ns.pad("next"),s,o),n.add(s,r.ns.pad("next"),a,o),n.add(s,r.ns.dc("author"),t.me,o),n.add(s,r.ns.sioc("content"),"",o),new Promise(function(e,r){i?i.put(o,n.statementsMatching(void 0,void 0,void 0,o),"text/turtle",function(n,i,a){i?e(t):r(new Error("FAILED to save new tool at: "+n+" : "+a))}):r(new Error("Have no updater"))})},render:function(e,t,n){const o=t.dom,s=t.session.store,l=function(e,t){e||E.appendChild(r.widgets.errorMessageBlock(o,t,"pink"))},c=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},u=function(e,t,n){const i=(0,a.graph)(),o=(0,a.Namespace)("http://www.w3.org/ns/auth/acl#");let s=i.sym(t+"#a1");const l=i.sym(t),c=i.sym(e);return i.add(s,r.ns.rdf("type"),o("Authorization"),l),i.add(s,o("accessTo"),c,l),i.add(s,o("agent"),y,l),i.add(s,o("mode"),o("Read"),l),i.add(s,o("mode"),o("Write"),l),i.add(s,o("mode"),o("Control"),l),s=i.sym(t+"#a2"),i.add(s,r.ns.rdf("type"),o("Authorization"),l),i.add(s,o("accessTo"),c,l),i.add(s,o("agentClass"),r.ns.foaf("Agent"),l),i.add(s,o("mode"),o("Read"),l),n&&i.add(s,o("mode"),o("Write"),l),(0,a.serialize)(l,i,t,"text/turtle")},p=function(e,t,n){const r=s.any((0,a.sym)(e),(0,a.sym)("http://www.iana.org/assignments/link-relations/acl"));if(!v)throw new Error("Have no fetcher");if(r){const i=u(e,r.uri,t);return v.webOperation("PUT",r.uri,{data:i,contentType:"text/turtle"}).then(()=>n(!0)).catch(e=>{n(!1,e.message)})}return v.load(e).catch(e=>{n(!1,"Getting headers for ACL: "+e)}).then(()=>{const n=s.any((0,a.sym)(e),(0,a.sym)("http://www.iana.org/assignments/link-relations/acl"));if(!n)throw new Error("No Link rel=ACL header for "+e);const r=u(e,n.uri,t);return v.webOperation("PUT",n.uri,{data:r,contentType:"text/turtle"})}).then(()=>n(!0)).catch(e=>{n(!1,e.message)})},d=function(e,t,n){const i=c(t);i.appendChild(r.login.newAppInstance(o,{noun:"notepad"},(e,t)=>f(new a.NamedNode(e||t)))),i.appendChild(o.createElement("hr"));i.appendChild(o.createElement("p")).textContent="Where would you like to store the data for the "+n+"?  Give the URL of the directory where you would like the data stored.";const s=i.appendChild(o.createElement("input"));s.setAttribute("type","text"),s.size=80,s.label="base URL",s.autocomplete="on",i.appendChild(o.createElement("br"));const l=i.appendChild(o.createElement("button"));l.textContent="Start new "+n+" at this URI",l.addEventListener("click",function(t){let n=s.value;"/"!==n.slice(-1)&&(n+="/"),h(e,n)})},f=function(e){let t=s.any(e,r.ns.space("uriPrefix"));t=t?t.value:e.uri.split("#")[0],"/"!==t.slice(-1)&&(a.log.error(g+": No / at end of uriPrefix "+t),t+="/");const n=new Date;t+=g+"/id"+n.getTime()+"/",h(x,t)},h=function(e,t){const n=(0,a.sym)(e.uri.split("#")[0]),c=s.sym(t+"pad.ttl"),u=s.sym(t+"index.html"),d=[{local:"index.html",contentType:"text/html"}],f=s.sym(c.uri+"#thisPad"),h=[];let m;for(m=0;m<d.length;m++){const e=function(e){h.push(function(){const r=t+e.local;if(!s.fetcher)throw new Error("Store has no fetcher");s.fetcher.webCopy(n+e.local,t+e.local,e.contentType).then(()=>i.authn.checkUser()).then(e=>{y=e,p(r,!1,function(e,t){e?h.shift()():l(e,"FAILED to set ACL "+r+" : "+t)})}).catch(t=>{l(!1,"FAILED to copy "+n+e.local+" : "+t.message)})})};e(d[m])}h.push(function(){if(s.add(f,r.ns.rdf("type"),w("Notepad"),c),s.add(f,r.ns.dc("created"),new Date,c),y&&s.add(f,r.ns.dc("author"),y,c),s.add(f,w("next"),f,c),s.add(f,r.ns.space("inspiration"),e,k),s.add(f,r.ns.space("inspiration"),e,c),!b)throw new Error("Have no updater");b.put(c,s.statementsMatching(void 0,void 0,void 0,c),"text/turtle",function(e,t,n){t?h.shift()():l(t,"FAILED to save new notepad at: "+c.uri+" : "+n)})}),h.push(function(){p(c.uri,!0,function(e,t){l(e,"Failed to set Read-Write ACL on pad data file: "+t),e&&h.shift()()})}),h.push(function(){const e=E.appendChild(o.createElement("p"));e.setAttribute("style","font-size: 140%;"),e.innerHTML="Your <a href='"+u.uri+"'><b>new notepad</b></a> is ready. <br/><br/><a href='"+u.uri+"'>Go to new pad</a>"}),h.shift()()},m=function(t){y=i.authn.currentUser(),i.authn.checkUser().then(e=>{y=e});const a=s.any(e,r.ns.dc("title"))||s.any(e,r.ns.vcard("fn"));n.solo&&"undefined"!=typeof window&&a&&(window.document.title=a.value),L.exists=t,_=r.pad.notepad(o,k,e,y,L),A.appendChild(_);const l=s.any(e,r.ns.meeting("parentMeeting"))||e;if(r.pad.manageParticipation(o,P,k,l,y,L),!s.updater)throw new Error("Store has no updater");s.updater.setRefreshHandler(k,_.reloadAndSync)},g="app-pad.timbl.com",v=s.fetcher,b=s.updater;let y;const w=(0,a.Namespace)("http://www.w3.org/ns/pim/pad#"),x=e,k=e.doc();let _;const E=o.createElement("div"),C=E.appendChild(o.createElement("table"));C.setAttribute("style","background-color: white; min-width: 94%; margin-right:3% margin-left: 3%; min-height: 13em;");const S=C.appendChild(o.createElement("tr"));S.appendChild(o.createElement("td")),S.appendChild(o.createElement("td")),S.appendChild(o.createElement("td"));const A=C.appendChild(o.createElement("tr")).appendChild(o.createElement("td"));A.setAttribute("colspan","3");const T=C.appendChild(o.createElement("tr")),R=T.appendChild(o.createElement("td")),P=T.appendChild(o.createElement("td")),F=T.appendChild(o.createElement("td")),I=C.appendChild(o.createElement("tr")).appendChild(o.createElement("div")),N=C.appendChild(o.createElement("tr")).appendChild(o.createElement("div")),O=C.appendChild(o.createElement("tr"));O.setAttribute("class","naviMenu"),O.appendChild(o.createElement("td")),O.appendChild(o.createElement("td")),O.appendChild(o.createElement("td"));const L={statusArea:I,timingArea:R};return function(){if(!v)throw new Error("Have no fetcher");v.nowOrWhenFetched(k.uri,void 0,function(t,n,i){if(t)c(A),s.holds(e,r.ns.rdf("type"),r.ns.wf("TemplateInstance"))&&d(e,A,"pad"),m(!0),F.appendChild(function(){const t=E.appendChild(o.createElement("button"));return t.textContent="Start another pad",t.addEventListener("click",function(){return d(e,N,"pad")}),t}());else if(404===i.status){if(!b)throw new Error("Have no updater");b.put(k,[],"text/turtle",function(e,t,n){t?(c(A),m(!1)):l(t,"FAILED to create results file at: "+k.uri+" : "+n)})}else l(t,"FAILED to read results file: "+n)})}(),E}};t.default=o},9403:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>i,BR:()=>m,Fn:()=>w,H:()=>_,JG:()=>b,K9:()=>y,Kk:()=>r,MG:()=>h,P2:()=>o,QW:()=>a,S:()=>c,_0:()=>g,bD:()=>u,bM:()=>v,hu:()=>k,i2:()=>d,ic:()=>s,lc:()=>p,ny:()=>f,r0:()=>l,sT:()=>x});const r="NamedNode",i="BlankNode",a="Literal",o="Variable",s="DefaultGraph",l="Collection",c="Empty",u="Graph",p="text/html",d="application/ld+json",f="text/n3",h="application/n3",m="application/nquads",g="application/n-quads",v="application/n-triples",b="application/rdf+xml",y="application/sparql-update",w="application/sparql-update-single-match",x="text/turtle",k="application/x-turtle",_="application/xhtml+xml"},9423:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),e=n.hmd(e);const r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},9526:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>i})},9801:(e,t,n)=>{const r=n(208),i=n(4357),a=n(1433),o=n(5822),s=n(4861),l=n(7044),c=n(6886),u=n(6320);function p(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function f(e){const t=d(l.NUMERIC,r.NUMERIC,e),n=d(l.ALPHANUMERIC,r.ALPHANUMERIC,e);let i,a;c.isKanjiModeEnabled()?(i=d(l.BYTE,r.BYTE,e),a=d(l.KANJI,r.KANJI,e)):(i=d(l.BYTE_KANJI,r.BYTE,e),a=[]);return t.concat(n,i,a).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function h(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return a.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function m(e,t){let n;const l=r.getBestModeForData(e);if(n=r.from(t,l),n!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new a(e);case r.KANJI:return new s(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},t.fromString=function(e,n){const i=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:p(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:p(i.data)}])}}return t}(f(e,c.isKanjiModeEnabled())),a=function(e,t){const n={},i={start:{}};let a=["start"];for(let o=0;o<e.length;o++){const s=e[o],l=[];for(let e=0;e<s.length;e++){const c=s[e],u=""+o+e;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let e=0;e<a.length;e++){const o=a[e];n[o]&&n[o].node.mode===c.mode?(i[o][u]=h(n[o].lastCount+c.length,c.mode)-h(n[o].lastCount,c.mode),n[o].lastCount+=c.length):(n[o]&&(n[o].lastCount=c.length),i[o][u]=h(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}a=l}for(let e=0;e<a.length;e++)i[a[e]].end=0;return{map:i,table:n}}(i,n),o=u.find_path(a.map,"start","end"),s=[];for(let e=1;e<o.length-1;e++)s.push(a.table[o[e]].node);return t.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(s))},t.rawSplit=function(e){return t.fromArray(f(e,c.isKanjiModeEnabled()))}},9814:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePane=void 0;var r=o(n(500)),i=n(9332),a=o(n(8230));function o(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}const s=r.ns,l=[s.sched("No"),s.sched("Maybe"),s.sched("Yes")];t.schedulePane={icon:r.icons.iconBase+"noun_346777.svg",name:"schedule",audience:[s.solid("PowerUser")],label:function(e,t){return t.session.store.findTypeURIs(e)["http://www.w3.org/ns/pim/schedule#SchedulableEvent"]?"Scheduling poll":null},mintClass:s.sched("SchedulableEvent"),mintNew:function(e,t){return new Promise(function(n,o){const s=r.ns,l=e.session.store;let c=t.newBase;const u=t.useExisting||a.sym(t.newBase+"index.ttl#this"),p=function(e,t){e||o(new Error(t))},d=function(e,t,n){const i=a.graph(),o=a.Namespace("http://www.w3.org/ns/auth/acl#");let l=i.sym(t+"#a1");const c=i.sym(t),u=i.sym(e);return i.add(l,r.ns.rdf("type"),o("Authorization"),c),i.add(l,o("accessTo"),u,c),i.add(l,o("agent"),g,c),i.add(l,o("mode"),o("Read"),c),i.add(l,o("mode"),o("Write"),c),i.add(l,o("mode"),o("Control"),c),l=i.sym(t+"#a2"),i.add(l,r.ns.rdf("type"),o("Authorization"),c),i.add(l,o("accessTo"),u,c),i.add(l,o("agentClass"),s.foaf("Agent"),c),i.add(l,o("mode"),o("Read"),c),n&&i.add(l,o("mode"),o("Write"),c),a.serialize(c,i,t,"text/turtle")},f=function(e,t,n){const r=l.any(l.sym(e),l.sym("http://www.iana.org/assignments/link-relations/acl"));if(r){const i=d(e,r.uri,t);return h.webOperation("PUT",r.uri,{data:i,contentType:"text/turtle"}).then(e=>n(!0)).catch(e=>{n(!1,e.message)})}return h.load(e).catch(e=>{n(!1,"Getting headers for ACL: "+e)}).then(()=>{const n=l.any(l.sym(e),l.sym("http://www.iana.org/assignments/link-relations/acl"));if(!n)throw new Error("No Link rel=ACL header for "+e);const r=d(e,n.uri,t);return h.webOperation("PUT",n.uri,{data:r,contentType:"text/turtle"})}).then(e=>n(!0)).catch(e=>{n(!1,e.message)})},h=l.fetcher,m=l.updater;let g=t.me||i.authn.currentUser();if(!g)return void alert("NOT LOGGED IN");const v=u.dir().uri;let b,y;if(t.useExisting){if(y=t.useExisting,c=u.dir().uri,b=y.doc(),t.newBase)throw new Error("mint new scheduler: Illegal - have both new base and existing event")}else b=l.sym(c+"details.ttl"),y=l.sym(b.uri+"#event");const w=l.sym(c+"results.ttl"),x=t.noIndexHTML?{}:[{local:"index.html",contentType:"text/html"}],k=[];for(let e=0;e<x.length;e++){const t=function(e){k.push(function(){const t=c+e.local;l.fetcher.webCopy(v+e.local,c+e.local,e.contentType).then(()=>i.authn.checkUser()).then(e=>{g=e,f(t,!1,function(e,n){e?k.shift()():p(e,"FAILED to set ACL "+t+" : "+n)})}).catch(t=>{p(!1,"FAILED to copy "+v+e.local+" : "+t.message)})})};t(x[e])}k.push(function(){l.add(y,s.rdf("type"),s.sched("SchedulableEvent"),b),g&&(l.add(y,s.dc("author"),g,b),l.add(y,s.foaf("maker"),g,b)),l.add(y,s.dc("created"),new Date,b),l.add(y,s.sched("resultsDocument"),b),m.put(b,l.statementsMatching(void 0,void 0,void 0,b),"text/turtle",function(e,t,n){t?k.shift()():p(t,"FAILED to save new scheduler at: "+b+" : "+n)})}),k.push(function(){l.fetcher.webOperation("PUT",w.uri,{data:"",contentType:"text/turtle"}).then(()=>{k.shift()()}).catch(e=>{p(!1,"Failed to initialize empty results file: "+e.message)})}),k.push(function(){f(w.uri,!0,function(e,t){p(e,"Failed to set Read-Write ACL on results file: "+t),e&&k.shift()()})}),k.push(function(){f(b.uri,!1,function(e,t){p(e,"Failed to set read ACL on configuration file: "+t),e&&k.shift()()})}),k.push(function(){t.newInstance=y,n(t)}),k.shift()()})},render:function(e,t){const n=t.dom,o=t.session.store,s=r.ns,c=e,u="app-when-can-we.w3.org",p=o.fetcher,d=o.updater;let f=!1;const h=e,m=e.doc(),g=m.dir().uri,v=a.sym(g+"results.ttl"),b="https://solidos.github.io/solid-panes/schedule/formsForSchedule.ttl",y=o.sym(b+"#form1"),w=o.sym(b+"#form2"),x=o.sym(b+"#form3");a.parse('@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix cal: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix sched: <http://www.w3.org/ns/pim/schedule#>.\n\n   cal:Vevent ui:annotationForm <#form2>, <#form3>; ui:creationForm <#form1> .\n\n<#bigForm>\n    dc:title\n       "Schedule event (single form).";\n    a    ui:Group;\n    ui:parts ( <#form1> <#form2> <#form3> ).\n\n<#form1>\n    dc:title\n       "Schedule an event (wizard)";\n    a    ui:Form;\n    ui:parts (\n        <#form1header>\n        <#eventTitle>\n        <#eventLocation>\n        <#eventType>\n        <#eventSwitch>\n        <#eventComment>\n        <#eventAuthor> ).\n\n<#form1header> a ui:Heading; ui:contents "Schedule an event" .\n\n<#eventTitle>\n    a    ui:SingleLineTextField;\n    ui:maxLength\n       "128";\n    ui:property\n       cal:summary;\n    ui:size\n       "40".\n\n<#eventLocation>\n    a    ui:SingleLineTextField;\n    ui:maxLength\n       "512";\n    ui:property\n       cal:location;\n    ui:size\n       "40".\n\n<#eventType> a ui:BooleanField;\n  ui:property sched:allDay;\n  ui:default true . # Used to be the only way\n\n<#eventSwitch> a ui:Options;\n  ui:dependingOn sched:allDay;\n  ui:case [ ui:for true; ui:use <#AllDayForm> ];\n  ui:case [ ui:for false; ui:use <#NotAllDayForm> ].\n\n  <#AllDayForm> a ui:IntegerField ;\n    ui:property sched:durationInDays;\n    ui:label "How many days?";\n    ui:min 1;\n    ui:default 1 .\n\n  <#NotAllDayForm> a ui:IntegerField ;\n    ui:property sched:durationInMinutes;\n    ui:label "Duration (mins)";\n    ui:min 5;\n    ui:default 55 .\n\n<#eventComment>\n    a    ui:MultiLineTextField;\n#    ui:maxLength\n#       "1048";\n#    ui:size\n#       "40".\n    ui:property\n       cal:comment.\n\n<#eventAuthor>\n   a ui:Multiple; ui:min 1; ui:part <#eventAuthorGroup>; ui:property dc:author.\n\n   <#eventAuthorGroup> a ui:Group; ui:parts ( <#authorName> <#authorEmail> ) .\n   <#authorName> a ui:SingleLineTextField; ui:property foaf:name .\n   <#authorEmail> a ui:EmailField; ui:label "email"; ui:property foaf:mbox .\n\n\n#####################\n\n<#form2> dc:title "Select possible days or times"; a ui:Form;\n        ui:parts ( <#id1118132113134> <#possibleSwitch> ).\n\n    <#id1118132113134> a ui:Heading; ui:contents "Time proposals" .\n\n    <#possibleSwitch> a ui:Options;\n      ui:dependingOn sched:allDay;\n      ui:case [ ui:for true; ui:use <#AllDayForm2> ];\n      ui:case [ ui:for false; ui:use <#NotAllDayForm2> ].\n\n      <#AllDayForm2>\n      a ui:Multiple; ui:min 2; ui:part <#posssibleDate>; ui:property sched:option.\n        <#posssibleDate> a ui:DateField; ui:property cal:dtstart; ui:label "date".\n\n      <#NotAllDayForm2>\n      a ui:Multiple; ui:min 2; ui:part <#posssibleTime>; ui:property sched:option.\n        <#posssibleTime> a ui:DateTimeField; ui:property cal:dtstart; ui:label "date and time".\n\n   ##################################\n\n   <#form3> dc:title "Select invited people"; a ui:Form; ui:parts  ( <#id1118132113135> <#id1417314641301b> ) .\n<#id1417314641301b>\n   a ui:Multiple; ui:min 1; ui:part <#id1417314674292b>; ui:property sched:invitee.\n   <#id1417314674292b> a ui:EmailField; ui:label "email"; ui:property foaf:mbox .\n   <#id1118132113135> a ui:Heading; ui:contents "Who to invite" .\n\n# ENDS\n',o,b,"text/turtle");const k="background-color: #eef; padding: 0.5em;  border: .5em solid white; font-size: 100%",_="width: 1.8em; height: 1.8em;",E=function(e,t){e||D.appendChild(r.widgets.errorMessageBlock(n,t,"pink"))},C=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},S=function(e,t){const n=o.any(t,r.ns.ui("backgroundColor"));n&&e.setAttribute("style","padding: 0.3em; text-align: center; background-color: "+n+";")};let A;i.authn.checkUser().then(e=>{A=e,z&&z.refresh(),e&&f&&(f=!1,F())});const T=function(e){let t=o.any(e,s.space("uriPrefix"));t=t?t.value:e.uri.split("#")[0],"/"!==t.slice(-1)&&(a.log.error(u+": No / at end of uriPrefix "+t),t+="/");const n=new Date;t+=u+"/id"+n.getTime()+"/",R(h,t)},R=function(e,r){const i={thisInstance:e,newBase:r};this.mintNew(t,i).then(function(e){const t=D.appendChild(n.createElement("p"));t.setAttribute("style","font-size: 140%;"),t.innerHTML="Your <a href='"+e.newInstance.uri+"'><b>new scheduler</b></a> is ready to be set up. <br/><br/><a href='"+e.newInstance.uri+"'>Say when you what days work for you.</a>"}).catch(function(e){E(!1,"Error createing new scheduler at "+i.newInstance+": "+e)})},P=function(){p.nowOrWhenFetched(m.uri,void 0,function(e,t){if(!e)return E(e,t);F()})},F=function(){i.authn.checkUser().then(t=>{if(!t)return I();if(!o.updater.editable(m.uri,o)||o.holds(e,s.rdf("type"),s.wf("TemplateInstance")))return void N(D);o.any(e,s.sched("ready"))?j():L()})},I=function(){C(H);const e={div:D,dom:n};r.login.ensureLoggedIn(e).then(e=>{A=e.me,f=!1,F()})},N=function(){const e=C(H);e.appendChild(r.login.newAppInstance(n,{noun:"poll"},T)),e.appendChild(n.createElement("hr"));e.appendChild(n.createElement("p")).textContent="Where would you like to store the data for the poll?  Give the URL of the directory where you would like the data stored.";const t=e.appendChild(n.createElement("input"));t.setAttribute("type","text"),t.size=80,t.label="base URL",t.autocomplete="on",e.appendChild(n.createElement("br"));const i=e.appendChild(n.createElement("button"));i.setAttribute("style",k),i.textContent="Start new poll at this URI",i.addEventListener("click",function(e){let n=t.value;"/"!==n.slice(-1)&&(n+="/"),R(h,n)})},O=n.createElement("button"),L=function(){C(W);let t=0,i=!1;{const a=[y,w,x],o=[];t=0;for(let t=0;t<a.length;t++){const i=n.createElement("div");r.widgets.appendForm(document,i,{},e,a[t],m,E),o.push(i)}const s=function(){C(H).appendChild(o[t]),0===t?l.setAttribute("disabled",""):l.removeAttribute("disabled"),t===o.length-1?(u.setAttribute("disabled",""),i||(W.appendChild(c),W.appendChild(O),i=!0)):u.removeAttribute("disabled")},l=C($).appendChild(n.createElement("button"));l.setAttribute("style",k),l.textContent="<- go back",l.addEventListener("click",function(e){t>0&&(t-=1,s())},!1);const u=C(V).appendChild(n.createElement("button"));u.setAttribute("style",k),u.textContent="continue ->",u.addEventListener("click",function(e){t<o.length-1&&(t+=1,s())},!1),s()}const l=[];l.push(a.st(e,s.sched("availabilityOptions"),s.sched("YesNoMaybe"),m)),l.push(a.st(e,s.sched("ready"),new Date,m)),l.push(a.st(e,s.sched("results"),v,m)),O.setAttribute("style",k),O.textContent="Go to poll",O.addEventListener("click",function(t){o.any(e,s.sched("ready"))?(j(),V.appendChild(c)):(V.appendChild(c),o.updater.update([],l,function(e,t,n){t?j():E(t,n)}))},!1);const c=n.createElement("button");c.setAttribute("style",k);const u=c.appendChild(n.createElement("img"));u.setAttribute("src",r.icons.iconBase+"noun_480183.svg"),u.setAttribute("style",_),c.addEventListener("click",function(t){const n=o.anyValue(e,s.cal("summary"))||o.anyValue(e,s.dc("title"))||"",r="mailto:"+o.each(e,s.sched("invitee")).map(function(e){const t=o.any(e,s.foaf("mbox"));return t?t.uri.replace("mailto:",""):""}).join(",")+"?subject="+encodeURIComponent(n+"-- When can we meet?")+"&body="+encodeURIComponent(n+"\n\nWhen can you?\n\nSee "+e+"\n");window.location.href=r},!1)};function j(){p.nowOrWhenFetched(v.uri,(e,t,n)=>{e?(C(H),M()):404===n.status?d.put(v,[],"text/turtle",function(e,t,n){t?(C(H),M()):E(t,"FAILED to create results file at: "+v.uri+" : "+n)}):E(e,"FAILED to read results file: "+t)})}function M(){const t=o.any(c,s.cal("summary")),i=o.any(c,s.cal("comment")),u=o.any(c,s.cal("location")),p=H;t&&(p.appendChild(n.createElement("h3")).textContent=t),u&&(p.appendChild(n.createElement("address")).textContent=u.value),i&&(p.appendChild(n.createElement("p")).textContent=i.value);const d=o.any(c,s.dc("author"));if(d){const e=o.any(d,s.foaf("name"));e&&(p.appendChild(n.createElement("p")).textContent=e)}const f=new a.Query("Responses"),h={};["time","author","value","resp","cell"].forEach(function(e){f.vars.push(h[e]=a.variable(e))}),f.pat.add(c,s.sched("response"),h.resp),f.pat.add(h.resp,s.dc("author"),h.author),f.pat.add(h.resp,s.sched("cell"),h.cell),f.pat.add(h.cell,s.sched("availabilty"),h.value),f.pat.add(h.cell,s.cal("dtstart"),h.time);const m={};m.set_x=o.each(e,s.sched("option")),m.set_x=m.set_x.map(function(e){return o.any(e,s.cal("dtstart"))}),m.set_y=o.each(e,s.sched("response")),m.set_y=m.set_y.map(function(e){return o.any(e,s.dc("author"))});const g=o.each(c,s.sched("option")).map(function(e){return o.any(e,s.cal("dtstart"))}),b=function(){const e=p.appendChild(r.matrix.matrixForQuery(n,f,h.time,h.author,h.value,m,function(){}));e.setAttribute("class","matrix");const t=n.createElement("button");t.setAttribute("style",k);const i=n.createElement("img");i.setAttribute("src",r.icons.iconBase+"noun_479395.svg"),i.setAttribute("style",_),t.appendChild(i),t.addEventListener("click",function(n){t.disabled=!0,o.fetcher.refresh(v,function(n,r){n&&(e.refresh(),t.disabled=!1)})},!1),C(W),W.appendChild(t)},y=[],w={div:W,dom:n};r.login.ensureLoggedIn(w).then(e=>{const t=e.me,i=v;m.set_y=m.set_y.filter(function(e){return!e.sameTerm(t)}),m.set_y.push(t),m.cellFunction=function(e,i,a,c){if(null!==c&&o.fetcher.nowOrWhenFetched(c.uri.split("#")[0],void 0,function(t,n){t&&S(e,c)}),a.sameTerm(t)){const t=function(){S(e,c)},a={},u=s.sched("availabilty"),p=y[i.toNT()],d=r.widgets.makeSelectForOptions(n,o,p,u,l,a,v,t);e.appendChild(d)}else null!==c&&(e.textContent=r.utils.label(c))};const u=o.each(c,s.sched("response"));let p=null;u.forEach(function(e){o.holds(e,s.dc("author"),t)&&(p=e)});const d=[],f=r.widgets.newThing(i).uri;if(null===p)p=a.sym(f+"_response"),d.push(a.st(c,s.sched("response"),p,i)),d.push(a.st(p,s.dc("author"),t,i));else{o.each(p,s.sched("cell")).forEach(function(e){const t=o.any(e,s.cal("dtstart"));y[t.toNT()]=e})}for(let e=0;e<g.length;e++){if(y[g[e].toNT()])continue;const t=a.sym(f+"_"+e);d.push(a.st(p,s.sched("cell"),t,i)),d.push(a.st(t,s.cal("dtstart"),g[e],i)),y[g[e].toNT()]=t}d.length?o.updater.update([],d,function(e,t,n){t?b():E(t,n)}):b()});const x=o.any(e,s.foaf("maker"));if(!x||x.sameTerm(A)){const e=n.createElement("button");e.setAttribute("style",k);const t=n.createElement("img");t.setAttribute("src",r.icons.iconBase+"noun_344563.svg"),t.setAttribute("style",_),e.appendChild(t),e.addEventListener("click",function(e){C(p),L()},!1),C($),$.appendChild(e)}C(V),V.appendChild(function(){const e=r.login.newAppInstance(n,{noun:"scheduler"},T);return e.firstChild.setAttribute("style",k),e}())}const D=n.createElement("div"),U=D.appendChild(n.createElement("table"));U.setAttribute("style","background-color: white; min-width: 40em; min-height: 13em;");const B=U.appendChild(n.createElement("tr"));B.appendChild(n.createElement("td")),B.appendChild(n.createElement("td")),B.appendChild(n.createElement("td"));const z=null,H=U.appendChild(n.createElement("tr")).appendChild(n.createElement("td"));H.setAttribute("colspan","3");const q=U.appendChild(n.createElement("tr"));q.setAttribute("class","naviMenu"),q.setAttribute("style"," text-align: middle; vertical-align: middle; padding-top: 4em; ");const $=q.appendChild(n.createElement("td")),W=q.appendChild(n.createElement("td")),V=q.appendChild(n.createElement("td"));return P(),D}}},9869:(e,t)=>{"use strict";
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=w.prototype=new y;x.constructor=w,g(x,b.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function _(){}var E={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function S(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return P((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+R(e,0):a,k(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(A(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=S(l.type,c,l.props)),t.push(o)),1;u=0;var p,f=""===a?".":a+":";if(k(e))for(var m=0;m<e.length;m++)u+=P(a=e[m],t,i,s=f+R(a,m),o);else if("function"==typeof(m=null===(p=e)||"object"!=typeof p?null:"function"==typeof(p=h&&p[h]||p["@@iterator"])?p:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=P(a=a.value,t,i,s=f+R(a,m++),o);else if("object"===s){if("function"==typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function F(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},O={map:F,forEach:function(e,t,n){F(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F(e,function(){t++}),t},toArray:function(e){return F(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=b,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!C.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return S(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return S(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,N)}catch(e){N(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.0"},9899:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},9953:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},9982:(e,t,n)=>{"use strict";e.exports=n(4477)}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=a,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);s.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var o=2&r&&e;("object"==typeof o||"function"==typeof o)&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach(t=>a[t]=()=>e[t]);return a.default=()=>e,s.d(i,a),i},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,n)=>(s.f[n](e,t),t),[])),s.u=e=>e+".mashlib.min.js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i="Mashlib:",s.l=(e,t,n,a)=>{if(r[e])r[e].push(t);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==i+n){o=p;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",i+n),o.src=e),r[e]=[t];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={792:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,i)=>r=e[t]=[n,i]);n.push(r[2]=i);var a=s.p+s.u(t),o=new Error;s.l(a,n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,o,l]=n,c=0;if(a.some(t=>0!==e[t])){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)l(s)}for(t&&t(n);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkMashlib=self.webpackChunkMashlib||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l={};return(()=>{"use strict";s.r(l),s.d(l,{versionInfo:()=>r});var e=s(8230),t=s(7523),n=s(9332);const r={buildTime:"2026-01-12T11:56:18Z",commit:"04006cec7ee7e84525a183c5479d8fcce1a8bbd6",npmInfo:{mashlib:"2.0.0",npm:"10.8.2",node:"20.19.6",acorn:"8.15.0",ada:"2.9.2",ares:"1.34.5",brotli:"1.1.0",cjs_module_lexer:"2.1.0",cldr:"47.0",icu:"77.1",llhttp:"9.3.0",modules:"115",napi:"9",nghttp2:"1.61.0",openssl:"3.0.17",simdutf:"6.4.2",tz:"2025b",undici:"6.22.0",unicode:"16.0",uv:"1.46.0",uvwasi:"0.0.23",v8:"11.3.244.8-node.33",zlib:"1.3.1-470d3a2"}},i={dbLayout:"display: flex; flex-direction: column;",dbLayoutContent:"flex: 1 0 auto;",dbLayoutHeader:"flex-shrink: 0;",dbLayoutFooter:"flex-shrink: 0;",setStyle:function(e,t){e.setAttribute("style",i[t])}},a=window;a.$rdf=e,a.panes=t,a.SolidLogic={authn:n.authn,authSession:n.authSession,store:n.store,solidLogicSingleton:n.solidLogicSingleton},a.mashlib={versionInfo:r},a.panes.runDataBrowser=function(r){document.getElementById("PageBody")?.setAttribute("style",i.dbLayout),document.getElementById("PageHeader")?.setAttribute("style",i.dbLayoutHeader),document.getElementById("PageFooter")?.setAttribute("style",i.dbLayoutFooter),document.getElementById("DummyUUID")?.setAttribute("style",i.dbLayoutContent);e.Fetcher.crossSiteProxyTemplate=window.origin+"/xss/?uri={uri}";try{const e=document.createElement("meta");e.setAttribute("name","monetization"),e.setAttribute("content",`$${window.location.host}`),document.head.appendChild(e)}catch(e){}n.authn.checkUser().then(function(e){return t.initMainPage(n.solidLogicSingleton.store,r)})},window.onpopstate=function(t){a.document.outline.GotoSubject(e.sym(window.document.location.href),!0,void 0,!0,void 0)},a.dump=function(e){}})(),l})());
//# sourceMappingURL=mashlib.min.js.map